(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+0Fo":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("slDQ");var n=a("FKox"),i=a("b3RP");function r(e){const{key:t,getModel:a,onResolved:r,onRejected:s}=e,o=Object(n.a)(t),l=`is${o}Pending`,c=`is${o}Populated`,d=t?t+"Error":"error";return(t,n={},o)=>{const u=a(t,n),p=(u.sessionAttrs,u.get(l));u.set(l,!0),e.fetch(t,n,o).then(()=>{u.set({[l]:!1,[c]:!0,[d]:null}),r&&r(u,t,n,o)},e=>{const a=e.aborting?{[l]:p}:{[l]:!1,[d]:Object(i.a)(e)};u.set(a),s&&s(u,t,n,o)})}}},"+2qD":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("q1tI");function i(e,t){return e&&e[t]?e[t].split(","):[]}function r(e,t,a){const r=i(e,t),s=i(e,a),[o,l]=Object(n.useState)(r),[c,d]=Object(n.useState)(s);return{initialAllowTags:r,initialExcludeTags:s,allowTags:o,excludeTags:c,onAllowTagsChange:Object(n.useCallback)(e=>{l(e)},[]),onExcludeTagsChange:Object(n.useCallback)(e=>{d(e)},[])}}},"+71K":function(e,t,a){e.exports={container:"PosterCardIcon-container-257jtF"}},"+9Fr":function(e,t,a){e.exports={badge:"PageHeaderBadge-badge-2oDBgn"}},"+9S5":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=2},"+E9k":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"active"}return l+='<ul class="agent-types-nav nav nav-pills"> ',((o=n.each.call(t,t&&t.agentTypes,{hash:{},inverse:c.noop,fn:c.programWithDepth(1,(function(e,t,n){var r,s="";return s+=' <li class="',((r=i(a("w+Xr")).call(e,null==(r=n&&n.currentType)||!1===r?r:r.id,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===r)&&(s+=r),s+='"> <a class="btn-gray" data-type="'+d("function"==typeof(r=e&&e.typeString)?r.apply(e):r)+'" href="#">'+d(i(a("d8WC")).call(e,e&&e.plural,{hash:{},data:t}))+"</a> </li> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </ul> <div class="agents-list-container"></div> <p class="help-block sortable-help-block">'+d(i(a("d8WC")).call(t,"Select which additional agents should contribute to metadata from {1}, and drag them to change the order of preference.",'<span class="agent-label"></span>',{hash:{},data:s}))+'</p> <div class="contributors-list-container"></div> '}))},"+FCs":function(e,t,a){e.exports={form:"ShareRestrictions-form-Rcumd5",modalBody:"ShareRestrictions-modalBody-1U8Ga6 ModalBody-modalBody--5uHSu",scroller:"ShareRestrictions-scroller-2s4dmY Scroller-vertical-VScFLT",message:"ShareRestrictions-message-XfFwpl",section:"ShareRestrictions-section-3NdrrM",list:"ShareRestrictions-list-33f8GR",modalFooter:"ShareRestrictions-modalFooter-Rm6RHL ModalFooter-modalFooter-30WIB5",warningMessage:"ShareRestrictions-warningMessage-1CDN7a ShareRestrictions-message-XfFwpl",warningIcon:"ShareRestrictions-warningIcon-1pNCPA"}},"+GYj":function(e,t,a){e.exports={input:"RestrictionProfilesInput-input-1u2NCr SelectInput-input-x1tNmq input-input-1P2Vi4",subtitle:"RestrictionProfilesInput-subtitle-1x_Efz"}},"+ICQ":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{},'<div class="card card-device"> <img class="card-poster device-icon"> <div class="card-actions"> <button class="remove-device-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <h4 class="name"></h4> <div class="card-details"> <div class="pull-right"> <div class="last-seen text-muted"></div> <span class="sync-info hidden"> <span class="glyphicon circle-arrow-down sync-icon"></span> <span class="sync-count"></span> <span class="sync-size"></span> </span> </div> <span class="version text-muted"></span> <div class="device-info-container"> <div class="product"></div> <div class="device text-muted"></div> <div class="platform-info text-muted"> <span class="platform"></span> <span class="platform-version"></span> </div> </div> </div> </div> '}))},"+K+r":function(e,t,a){(function(e){!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var a=!1,n=this;e(this).one(e.support.transition.end,(function(){a=!0}));return setTimeout((function(){a||e(n).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in t)if(void 0!==e.style[a])return{end:t[a]}}()}))}(e)}).call(this,a("EVdn"))},"+K/F":function(e,t,a){e.exports={posterCardContainer:"WatchTogetherParticipantCell-posterCardContainer-2ny7Q7",card:"WatchTogetherParticipantCell-card-qkBk8M TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC TagPosterCard-isPerson-1ez1h_",titleContainer:"WatchTogetherParticipantCell-titleContainer-2bZ6ul"}},"+LVH":function(e,t,a){e.exports={pageHeaderCenter:"PivotTabsPageHeaderCenter-pageHeaderCenter-1vVtqc PageHeaderCenter-pageHeaderCenter-XZlGC2"}},"+Lxe":function(e,t,a){e.exports={container:"GridAlsoAiring-container-1GKdlS",content:"GridAlsoAiring-content-UIHGKI Scroller-vertical-VScFLT",tooltipButton:"GridAlsoAiring-tooltipButton-2CNbk7"}},"+MhW":function(e,t,a){e.exports={selectButton:"SelectButton-selectButton-3Kbjm9",isSelected:"SelectButton-isSelected-3mX245",selectCircle:"SelectButton-selectCircle-3tdvGt",selectedIcon:"SelectButton-selectedIcon-3-SALM"}},"+Mxn":function(e,t,a){"use strict";function n(e,t){return e.get("ui").get(t+"Player")}function i(e,t){const a=e.get("ui").get("audioVideoPlayer").get("playQueue"),n=e.get("ui").get("photoPlayer").get("playQueue");return a&&a.get("playQueueID")===t?a:n&&n.get("playQueueID")===t?n:void 0}function r(e,t){const a=e.get("playQueue");if(!a)return;const n=a.get("playQueueItems");if(t<0||t>=n.length)return;return n.at(t)}a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}))},"+Obf":function(e,t,a){"use strict";function n(e,t,a){return`#!/settings/server/${encodeURIComponent(e)}/${t}/${a}`}a.d(t,"a",(function(){return n}))},"+PyO":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("iZkF"),s=a("66GW"),o=a("oMRm"),l=a("DRU1"),c=a("Kurw"),d=a("19qv");t.a=function(e){const{isOpen:t,state:a,onConfirm:n,onClose:u}=e,p=t&&a===l.a.CANCEL,m=t&&a===l.a.REMOVE,h=t&&a===l.a.UPSELL;return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{isOpen:p,title:Object(s.default)("Cancel Download"),message:Object(s.default)("Are you sure you want to cancel this download?"),metricsPage:r.h,confirmLabel:Object(s.default)("Yes"),cancelLabel:Object(s.default)("No"),onConfirm:n,onCancel:u}),i.a.createElement(c.a,{isOpen:m,title:Object(s.default)("Delete Download"),message:Object(s.default)("Are you sure you want to delete this download?"),metricsPage:r.x,onConfirm:n,onCancel:u}),i.a.createElement(d.a,{origin:o.c,isOpen:h,onModalClose:u}))}},"+RUx":function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("+X4A"),s=a("B69o"),o=a("nvND"),l=a("Pizw"),c=a("rXDx"),d=a("CHn6"),u=a("mOXR");var p=d.a.extend({name:"MetadataAutocompleteResultModel",context:["server","section","multiMetadataItem","query"],idAttribute:"ratingKey",rootPropertyName:"Metadata",syncedAttrs:{elementName:u.a.string,ratingKey:u.a.string,parentRatingKey:u.a.string,grandparentRatingKey:u.a.string,type:u.a.string,title:u.a.string,parentTitle:u.a.string,grandparentTitle:u.a.string,tag:u.a.string,tagType:u.a.integer}});function m(e,t,a){const n=/!$/.test(a),i=/\.id$/.test(a);if(n||i)return e[a]=t,e;const r=a.match(/^(.+)\.(.+)/);return r&&(e.type=Object(c.getMetadataType)(r[1]).id,a=r[2]),e[a+".query"]=t,e}const h=s.a.extend({name:"MetadataAutocompleteResultCollection",context:["server","section","multiMetadataItem","query"],model:p,url(){var e={type:Object(c.getMetadataType)(this.multiMetadataItem.get("type")).id,limit:10};return e=i.a.reduce(this.query,m,e),r.default.join([this.multiMetadataItem.sectionUrl(),"autocomplete"],e)},augmentResponseText:(e,t)=>t===o.c?Object(l.b)(e):e});t.a=h},"+UHr":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("iZkF"),s=a("66GW"),o=a("rXDx"),l=a("Kurw");function c(e){return e!==o.SHOW&&e!==o.SEASON}function d({title:e,leafCount:t}){return 1===t?Object(s.default)('Are you sure you want to mark 1 episode in "{showTitle}" as unplayed?',{showTitle:e}):Object(s.default)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as unplayed?',{numEpisodes:t,showTitle:e})}function u({title:e,leafCount:t}){return 1===t?Object(s.default)('Are you sure you want to mark 1 episode in "{showTitle}" as played?',{showTitle:e}):Object(s.default)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as played?',{numEpisodes:t,showTitle:e})}class p extends n.Component{componentDidMount(){this._checkAutoConfirm()}componentDidUpdate(){this._checkAutoConfirm()}_checkAutoConfirm(){c(this.props.type)&&this.props.isOpen&&this.props.onConfirm()}render(){const{isOpen:e,type:t,markUnplayed:a,onConfirm:n,onCancel:o}=this.props;return c(t)?null:i.a.createElement(l.a,{isOpen:e,metricsPage:a?r.s:r.t,title:a?Object(s.default)("Mark as Unplayed"):Object(s.default)("Mark as Played"),message:a?d(this.props):u(this.props),onConfirm:n,onCancel:o})}}t.a=p},"+X4A":function(e,t,a){"use strict";a.r(t);var n=a("Qyje"),i=a.n(n),r=a("yQm5"),s=a.n(r);const o=/^([^?#]*)(?:\?([^#]*))?(#.*)?/,l=/([^?]*)\??(.*)()/;function c(e,t){return i.a.stringify(e,{arrayFormat:"repeat",...t})}function d(e,t){return i.a.parse(e,t)}function u(e,t){const a=s.a.parse(e),n=a.protocol?a.protocol+":":"",i=a.port?String(a.port):"",r=a.hostname?i&&`${a.hostname}:${i}`||a.hostname:"",o=a.hostname||"",l=a.fragment?"#"+a.fragment:"",c=e,u=n&&r?`${n}//${r}`:"",p=a.path||"",m=a.query?"?"+a.query:"",h=a.query?d(a.query,t):{};return{isAbsolute:/^[\w:]*\/\//.test(e),hash:l,host:r,hostname:o,href:c,origin:u,params:h,pathname:p,port:i,protocol:n,search:m}}const p={getLastSegment:function(e){if(e){const t=/[^/\\]+$/.exec(e);return(null==t?void 0:t[0])||e}return""},stringifyParams:c,parseParams:d,parseUrl:function(e){const t={...u(e)},a=/file/.test(t.protocol);return t.protocol||(t.protocol=window.location.protocol),a||(t.host||(t.host=window.location.host),t.hostname||(t.hostname=window.location.hostname),t.port||(t.port=window.location.port)),t.origin||(t.origin=a?t.protocol+"//":`${t.protocol}//${t.host}`),t},parseUri:u,join:function(e,t,a){var n;"string"==typeof e&&(e=[e]),e=e.filter(e=>e);const i=(null==a?void 0:a.recognizeHash)?o:l,r=e.reduce((e,t)=>{const a=function(e){return String(e).replace(/^\/|\/$/g,"")}(t).match(i);if(!a)return e;const[,n,r,s]=a;return n&&(e.path=e.path?e.path+"/"+n:n),r&&(e.params=e.params?e.params+"&"+r:r),s&&(e.hash=s),e},{path:"",params:"",hash:""});let s;if(null==a?void 0:a.parseParams)s=c(Object.assign(d(r.params),"string"==typeof t?d(t):t));else if((r.params||t)&&(r.params&&(s=r.params),t)){const e="string"==typeof t?t:c(t,null==a?void 0:a.stringifyOptions);e&&(s=s?`${s}&${e}`:e)}return(e.length&&"/"===(null==(n=e[0])?void 0:n.charAt(0))?"/":"")+r.path+(s?"?"+s:"")+r.hash}};t.default=p},"+ZLW":function(e,t,a){e.exports={container:"ServerResources-container-1Mqi4i",graph:"ServerResources-graph-2MSl80"}},"+art":function(e,t,a){e.exports={modal:"SubtitlesUploadModal-modal-2UMyzf Modal-medium-1UIAdk Modal-modal-3Z1JSX"}},"+b+4":function(e,t,a){e.exports={titleContainer:"SearchTagPosterCell-titleContainer-2WMiUS",imageContainer:"SearchTagPosterCell-imageContainer-244-TF",imageLink:"SearchTagPosterCell-imageLink-GYb2j1",isPerson:"SearchTagPosterCell-isPerson-3JJoqT"}},"+fvj":function(e,t,a){"use strict";a.r(t),a.d(t,"PICKER",(function(){return n})),a.d(t,"FALLBACK",(function(){return i})),a.d(t,"STARTUP",(function(){return r})),a.d(t,"SERVER",(function(){return s})),a.d(t,"LIBRARY",(function(){return o})),a.d(t,"LIST",(function(){return l})),a.d(t,"SELECTION",(function(){return c})),a.d(t,"SETTINGS",(function(){return d})),a.d(t,"SETUP_WIZARD",(function(){return u})),a.d(t,"SERVER_DOWNLOAD",(function(){return p})),a.d(t,"AGENDA",(function(){return m})),a.d(t,"CALENDAR",(function(){return h})),a.d(t,"NAV_BAR",(function(){return g})),a.d(t,"COMPANION",(function(){return y})),a.d(t,"USERS_AND_SHARING",(function(){return f})),a.d(t,"DISCOVER_PIVOT",(function(){return b})),a.d(t,"LIBRARY_PIVOT",(function(){return v})),a.d(t,"PLAYLISTS_PIVOT",(function(){return I})),a.d(t,"COLLECTIONS_PIVOT",(function(){return S})),a.d(t,"TIMELINE_PIVOT",(function(){return E})),a.d(t,"DVR_DISCOVER_PIVOT",(function(){return O})),a.d(t,"DVR_GUIDE_PIVOT",(function(){return M})),a.d(t,"DVR_SCHEDULE_PIVOT",(function(){return C})),a.d(t,"WATCHLIST",(function(){return j})),a.d(t,"HDR_CONVERSION",(function(){return D}));const n="picker",i="fallback",r="startup",s="server",o="library",l="list",c="selection",d="settings",u="setupWizard",p="serverDownload",m="agenda",h="calendar",g="navBar",y="companion",f="usersAndSharing",b="content.discover",v="content.library",I="content.playlists",S="content.collections",E="content.timeline",O="content.dvr.discover",M="content.dvr.guide",C="content.dvr.schedule",j="content.watchlist",D="hdr-conversion"},"+qY4":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("iZkF"),s=a("IIsI"),o=a("/MKj"),l=a("G4qV"),c=a("F/us"),d=a.n(c),u=a("hFBU"),p=a("o3vy"),m=a("unCS"),h=a("HYaw"),g=a("dZ7a"),y=a("vUK6");var f=Object(l.a)(e=>e.ui.mediaSubscriptionModal.mediaSubscription,y.a,(e,t)=>t[e]);var b=Object(l.a)(e=>e.ui.mediaSubscriptionModal.templates,y.a,(e=[],t)=>e.map(e=>t[e])),v=a("1Lwt"),I=a("66GW"),S=a("rXDx"),E=a("z8ZC"),O=a("1WZA"),M=a("prlC"),C=a("Xo9w"),j=a("9ZQ6"),D=a("WHnk");var P=function(e){return i.a.createElement(D.a,{...e},i.a.createElement(j.a,null))},T=a("KDda");var w=function(e,t){let a,n;return t.length>1?(n=t.findIndex(e=>e.selected),a=t.map(({title:e},t)=>({[t]:e}))):(n=0,a=e.title?[{0:e.title}]:null),{initialMode:n,modes:a}},N=a("oSTF"),x=a("9wnK"),A=a("8vbc"),L=a("Gkyr"),k=a("Zgl5"),R=a("qNMu"),z=a("jMpR"),U=a("Uia1"),V=a("graF"),B=a("wmCi"),F=a("xSXQ"),H=a("26tu");var _=Object(o.b)((function(){return Object(l.a)(Object(F.a)(),(e={})=>({grandparentTitle:e.grandparentTitle}))}))(H.a),W=a("cqnP"),Q=a("yoWE"),G=a("puJ8"),K=a.n(G);var Y=function(e){const{component:t,isSecondary:a,...n}=e;return i.a.createElement(t,{className:a?K.a.secondaryTitle:K.a.title,...n})},q=a("ReZX"),Z=a.n(q);var X=function({className:e,type:t,...a}){const n=function(e){switch(e){case"movie":case"show":return[W.a];case"episode":return[_,Q.a];case"playlist":default:return[W.a]}}(t);return i.a.createElement("div",{className:Z.a.container},n.map((e,t)=>i.a.createElement(Y,{key:t,component:e,isSecondary:t>0,...a})))};var J=Object(o.b)((function(){return Object(l.a)(Object(F.a)(),(e={})=>({type:e.type}))}))((function(e){return i.a.createElement(X,{...e})})),$=a("02Z/"),ee=a("0nIg"),te=a.n(ee);class ae extends n.Component{componentDidUpdate(e,t){(e.isMediaSubscriptionMoving&&!this.props.isMediaSubscriptionMoving&&null==this.props.mediaSubscriptionMoveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){const{isRecordingSchedule:e,isMediaSubscriptionDeleting:t,mediaSubscriptionDeleteError:a,isMediaSubscriptionMoving:n,mediaSubscriptionMoveError:r,serverEntityID:s,providerEntityID:o,server:l,provider:c,sourceDirectory:d,hint:u,conflicts:p,onDelete:m,onMediaMove:h,onModalClose:g}=this.props,y=r||a;return i.a.createElement(B.a,{onModalClose:g},i.a.createElement(k.a,null,Object(I.default)("Conflict Detected")),y?i.a.createElement(V.a,{errorMessage:y}):null,i.a.createElement(x.a,{autoScroll:!0},i.a.createElement($.a,{serverEntityID:s,providerEntityID:o,hint:u},i.a.createElement("div",{className:te.a.message},1===p.length?Object(I.default)("Conflicts with 1 recording"):Object(I.default)("Conflicts with {conflictCount} recordings",{conflictCount:p.length})),i.a.createElement("div",{className:te.a.conflicts},p.map(({metadataItem:e},t)=>i.a.createElement(J,{key:t,metadataItemEntityID:e}))))),i.a.createElement(A.a,null,i.a.createElement(L.a,null,i.a.createElement(U.a,{isSpinning:t,kind:R.a,onPress:m},Object(I.default)("Cancel This")),i.a.createElement(U.a,{isSpinning:n,kind:R.d,onPress:h},Object(I.default)("Prefer This")),e?i.a.createElement(N.a,{kind:R.d,onPress:g},Object(I.default)("Close")):i.a.createElement(N.a,{kind:R.d,to:Object(z.a)(z.c.RECORDING_SCHEDULE,l,c,d)},Object(I.default)("Manage")))))}}ae.defaultProps={conflicts:[]};var ne=ae,ie=a("2pL0"),re=a("hOze"),se=a("uP6D"),oe=a("2VzV"),le=a.n(oe);var ce=function(){return i.a.createElement("div",{className:le.a.cancelConfirmationMessage},i.a.createElement("div",null,Object(I.default)("Are you sure you want to cancel this recording?")),i.a.createElement("div",null,Object(I.default)("This will cancel any future scheduled recordings and stop any recordings already in progress.")))},de=a("DQgx");function ue({className:e,children:t,...a}){return i.a.createElement("div",{className:e,style:a},t)}ue.defaultProps={flexGrow:1,flexShrink:0};var pe=ue,me=a("TSYQ"),he=a.n(me),ge=a("lqtG"),ye=a.n(ge);function fe({className:e,children:t,...a}){return i.a.createElement("div",{className:he()(ye.a.grid,e),style:a},t)}fe.defaultProps={flexDirection:"row",justifyContent:"space-between",alignItems:"center",alignContent:"center"};var be=fe,ve=a("VzhI"),Ie=a("8HKk"),Se=a("LmLz"),Ee=a("xyiB");var Oe=Object(Ee.a)((function(e){const{name:t,initialValue:a,labelText:n,showErrors:r,errors:s,validations:o,...l}=e;return i.a.createElement("div",null,i.a.createElement(Ie.a,{name:t},n),i.a.createElement(Se.a,{name:t,size:ve.c,...l}))}));var Me=function(e){const{libraries:t,targetLibrarySectionID:a,targetSectionLocationID:n,selectedLibrarySectionID:r}=e,s=function(e,t){return null!=e&&t.some(t=>t.librarySectionID===e)}(a,t)?a:function([e]){if(e)return e.librarySectionID}(t),o=function(e,t,a){let n=e.find(({librarySectionID:e})=>e===t);return n||(n=e.find(({librarySectionID:e})=>e===a)),n?n.locations.map(({id:e,path:t})=>({[e]:t})):[]}(t,r,s),l=function(e,t){return null!=e&&t.some(t=>t.hasOwnProperty(e))}(n,o)?n:function([e]){if(!e)return;const[t]=Object.keys(e);return e[t]}(o);return i.a.createElement(be,{flexWrap:"wrap"},i.a.createElement(pe,{flexBasis:230,maxWidth:230},i.a.createElement(Oe,{labelText:Object(I.default)("Add to Library"),name:"targetLibrarySectionID",initialValue:s,size:ve.c,values:t.map(({title:e,librarySectionID:t},a)=>({[t]:e}))})),i.a.createElement(pe,{flexBasis:230,maxWidth:230},o.length>1?i.a.createElement(Oe,{labelText:Object(I.default)("Location"),name:"targetSectionLocationID",size:ve.c,initialValue:l,values:o}):null))};var Ce=function(e){const{serverEntityID:t,providerEntityID:a,hint:n,target:r,initialMode:s,isDownload:o,modes:l,libraries:c,targetLibrarySectionID:d,targetSectionLocationID:u,selectedLibrarySectionID:p,prefs:m}=e,h=m&&m.onlyNewAirings,g=n.type===S.EPISODE||n.type===S.SHOW||n.type===S.PLAYLIST;return i.a.createElement($.a,{serverEntityID:t,providerEntityID:a,hint:n,isDownload:o,showSubscriptionBadge:!o,target:r,useStaticHeight:g},i.a.createElement(be,{flexWrap:"wrap"},i.a.createElement(pe,{flexBasis:230,maxWidth:230},l?i.a.createElement(Oe,{labelText:o?Object(I.default)("Download"):Object(I.default)("Record"),name:"mode",initialValue:s,values:l,isDisabled:l.length<2}):null),i.a.createElement(pe,{flexBasis:230,maxWidth:230},h?i.a.createElement(Oe,{name:h.id,labelText:h.label,initialValue:h.value,values:h.enumValues.map(({label:e,value:t})=>({[t]:e}))}):null)),!o&&c&&c.length?i.a.createElement(Me,{libraries:c,targetLibrarySectionID:d,targetSectionLocationID:u,selectedLibrarySectionID:p}):null)},je=a("uprk"),De=a.n(je);class Pe extends n.Component{constructor(e,t){super(e,t),this.onAdvancedPress=()=>{this.setState({isAdvanced:!this.state.isAdvanced})},this.onCancelPress=()=>{this.setState({showCancelConfirmation:!0})},this.onBackPress=()=>{this.setState({showCancelConfirmation:!1})},this.onFormChange=e=>{if(this.props.showLibraries){if(!e.targetLibrarySectionID)return;e.targetLibrarySectionID.value!==this.state.selectedLibrarySectionID&&this.setState({selectedLibrarySectionID:e.targetLibrarySectionID.value})}if(e.mode&&e.mode.value!==this.state.selectedMode){const t=e.mode.value;this.setState({selectedMode:t}),this.props.onModeChange(t)}},this.state={selectedLibrarySectionID:e.targetLibrarySectionID,selectedMode:e.initialMode,isAdvanced:!1,showCancelConfirmation:!1}}componentDidUpdate(e,t){(e.isMediaSubscriptionSaving&&!this.props.isMediaSubscriptionSaving&&null==this.props.mediaSubscriptionSaveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){const{mediaSubscriptionKey:e,isMediaSubscriptionSaving:t,mediaSubscriptionSaveError:a,isMediaSubscriptionDeleting:n,mediaSubscriptionDeleteError:r,prefGroups:s,onModalClose:o,onSubmit:l,onDelete:c,...d}=this.props,{isAdvanced:u,showCancelConfirmation:p}=this.state,m=p&&De.a.cancelConfirmation||u&&De.a.advancedForm||De.a.baseForm,h=!!s.advanced,g=a||r;return i.a.createElement(re.b,{className:m,onChange:this.onFormChange,onSubmit:l},i.a.createElement(B.a,{onModalClose:o},i.a.createElement(k.a,null,p?Object(I.default)("Cancel Recording"):Object(I.default)("Record Options")),g?i.a.createElement(V.a,{errorMessage:g}):null,i.a.createElement(x.a,null,i.a.createElement("div",{key:"base",className:De.a.baseSettings},i.a.createElement(Ce,{selectedLibrarySectionID:this.state.selectedLibrarySectionID,prefs:s.basic,...d})),h?i.a.createElement("div",{key:"advanced",className:De.a.advancedSettings},i.a.createElement(de.a,{prefs:s.advanced,...d})):null,p?i.a.createElement(ce,null):null),i.a.createElement(A.a,{className:p?De.a.cancelConfirmationFooter:De.a.footer},p?null:i.a.createElement(L.a,null,h?i.a.createElement(ie.a,{kind:R.d,onPress:this.onAdvancedPress},i.a.createElement(se.a,{className:De.a.advancedIcon}),u?Object(I.default)("Show Basic"):Object(I.default)("Show Advanced")):null),p?i.a.createElement(L.a,null,i.a.createElement(N.a,{onPress:this.onBackPress},Object(I.default)("Back")),i.a.createElement(U.a,{isSpinning:n,kind:R.a,onPress:c},Object(I.default)("Yes"))):i.a.createElement(L.a,null,e?i.a.createElement(N.a,{kind:R.a,onPress:this.onCancelPress},Object(I.default)("Cancel Recording")):i.a.createElement(N.a,{kind:R.c,onPress:o},Object(I.default)("Cancel")),i.a.createElement(U.a,{type:"submit",isSpinning:t,kind:R.d},e?Object(I.default)("Save"):Object(I.default)("Record"))))))}}var Te=Pe,we=a("9Cni"),Ne=a("9uqb"),xe=a.n(Ne);class Ae extends n.Component{componentDidUpdate(e,t){e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError&&this.props.onModalClose()}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionKey:a,hint:n,metadataType:r,isMediaSubscriptionDeleting:s,mediaSubscriptionDeleteError:o,canAddLibrary:l,onCreatePress:c,onModalClose:d,onDelete:u}=this.props,{typeString:p}=Object(S.getRootType)(r),{title:m}=E.g.get(p),h=l?Object(I.default)("This recording cannot be scheduled because you don’t yet have a library for {type}.",{type:m}):Object(I.default)("This recording cannot be scheduled because there is no library for {type}.",{type:m});let g;return g=l?a?Object(I.default)("Please create a library or cancel the recording."):Object(I.default)("Please try recording again after you have created your library."):Object(I.default)("Please ask the server owner to create the library or cancel the recording."),i.a.createElement(B.a,{onModalClose:d},i.a.createElement(k.a,null,Object(I.default)("Record Options")),o?i.a.createElement(V.a,{errorMessage:o}):null,i.a.createElement(x.a,null,i.a.createElement($.a,{serverEntityID:e,providerEntityID:t,hint:n},i.a.createElement("div",{className:xe.a.errorMessage},Object(I.default)("{type} Library Required",{type:m})),i.a.createElement("p",null,h),i.a.createElement("p",null,g),l?i.a.createElement(ie.a,{kind:R.d,onPress:c},i.a.createElement(we.a,{className:xe.a.addIcon})," ",Object(I.default)("Create Library")):null)),i.a.createElement(A.a,null,i.a.createElement(L.a,null,a?i.a.createElement(U.a,{isSpinning:s,kind:R.a,onPress:u},Object(I.default)("Cancel Recording")):null,i.a.createElement(N.a,{onPress:d},Object(I.default)("Cancel")))))}}var Le=Ae;function ke(){return Object(l.a)((e,{subscriptionType:t})=>t,e=>"playlist"===e?"show":e)}const Re={dispatchFetchLibraries:u.t,dispatchAddLibrary:M.a,dispatchInitMediaSubscriptionModal:p.e,dispatchClearMediaSubscriptionModal:p.b,dispatchSaveMediaSubscription:p.h,dispatchChangeMediaSubscriptionTemplateMode:p.a,dispatchMoveMediaSubscriptionModal:p.g,dispatchDeleteMediaSubscriptionModal:p.d,dispatchDeleteMediaGrabOperationsModal:p.c};class ze extends n.Component{constructor(e,t){super(e,t),this.onSubmit=e=>{const{serverEntityID:t,metadataItemEntityID:a}=this.props,{targetLibrarySectionID:n,targetSectionLocationID:i,mode:r,...s}=e;this.props.dispatchSaveMediaSubscription({serverEntityID:t,metadataItemEntityID:a,targetLibrarySectionID:n,targetSectionLocationID:i,prefs:s})},this.onDelete=()=>{var e;(null==(e=this.props.conflicts)?void 0:e.length)?this.props.dispatchDeleteMediaGrabOperationsModal({metadataItemEntityID:this.props.metadataItemEntityID}):this.props.dispatchDeleteMediaSubscriptionModal({metadataItemEntityID:this.props.metadataItemEntityID})},this.onModeChange=e=>{Object(v.a)(()=>{this.props.dispatchChangeMediaSubscriptionTemplateMode({modeIndex:e})})},this.onMediaMove=()=>{this.props.dispatchMoveMediaSubscriptionModal()},this.onCreatePress=()=>{const{metadataType:e,serverEntityID:t}=this.props,{typeString:a}=Object(S.getRootType)(e),n=E.g.get(a);this.props.onModalClose(),this.props.dispatchAddLibrary({serverEntityID:t,options:{redirect:!1,seedAttrs:{type:n.typeString,title:n.title,language:n.defaultLanguage}}})},this.state={showConflicts:e.showConflicts}}componentDidMount(){this._populate()}componentWillReceiveProps(e){var t;let a=this.state.showConflicts;this.props.isMediaSubscriptionSaving&&!e.isMediaSubscriptionSaving&&(null==(t=e.conflicts)?void 0:t.length)&&(a=!0),a!==this.state.showConflicts&&this.setState({showConflicts:a});const n=this.props.metadataItemEntityID!==e.metadataItemEntityID,i=this.props.mediaSubscriptionEntityID!==e.mediaSubscriptionEntityID;(n||i)&&this._populate(e)}componentWillUnmount(){this.props.dispatchClearMediaSubscriptionModal()}_populate(e=this.props){const{serverEntityID:t,mediaSubscriptionEntityID:a,metadataItemEntityID:n,showConflicts:i}=e;Object(v.a)(()=>{e.dispatchFetchLibraries({serverEntityID:t}),e.dispatchInitMediaSubscriptionModal({serverEntityID:t,mediaSubscriptionEntityID:a,metadataItemEntityID:n,showConflicts:i})})}render(){const{libraries:e,isLibrariesLoading:t,hasLibrariesError:a,isMediaSubscriptionPending:n,isMediaSubscriptionPopulated:r,mediaSubscriptionError:s,showLibraries:o,onModalClose:l}=this.props;return s?i.a.createElement(C.a,{message:s,onModalClose:l}):a?i.a.createElement(C.a,{message:Object(I.default)("There was an unexpected error loading libraries."),onModalClose:l}):n||!r||t?i.a.createElement(P,{onModalClose:l}):o&&e&&!e.length?i.a.createElement(Le,{...this.props,onCreatePress:this.onCreatePress,onDelete:this.onDelete}):this.state.showConflicts?i.a.createElement(ne,{...this.props,onDelete:this.onDelete,onMediaMove:this.onMediaMove}):i.a.createElement(Te,{...this.props,onModeChange:this.onModeChange,onSubmit:this.onSubmit,onDelete:this.onDelete})}}ze.defaultProps={showConflicts:!1,showLibraries:!0};var Ue=Object(o.b)((function(){return Object(l.a)(Object(g.a)(),Object(h.a)(),e=>e.ui.mediaSubscriptionModal,f,b,ke(),Object(l.a)(Object(m.a)(),ke(),(e,t)=>{const a=Object(S.getRootType)(t);return e.filter(e=>{const{id:t}=Object(S.getMetadataType)(e.type);return t===a.id}).map(e=>({librarySectionID:e.key,locations:e.locations,title:e.title}))}),(e,t,a,n={},i,r,s)=>{const o=d.a.omit(a,"templates","mediaSubscription"),{key:l,grabOperations:c=[],prefs:u,...p}=n,m=e.isFullOwnedServer,{initialMode:h,modes:g}=w(n,i),y=c.reduce((e,t)=>t.conflicts&&t.conflicts.length?e.concat(t.conflicts):e,[]),f=Object(T.a)(u),b=Object(O.a)(t),v=b?b.directories[0]:null,I=e&&e.desktop||{};return{mediaSubscriptionKey:l,prefGroups:f,metadataType:r,libraries:s,isLibrariesLoading:!I.isLibrariesPopulated||I.isLibrariesPending,hasLibrariesError:!!I.librariesError,initialMode:h,modes:g,conflicts:y,server:e,provider:t,canAddLibrary:m,sourceDirectory:v,...o,...p}})}),Re)(ze);t.a=function(e){const{isOpen:t,metricsProperties:a,onModalClose:n,...o}=e;return i.a.createElement(s.a,{isOpen:t,metricsPage:r.K,metricsProperties:a,onModalClose:n},i.a.createElement(Ue,{...o,onModalClose:n}))}},"+t+Z":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("Co7d");function i(e){return Object(n.a)(e)}},"+tcT":function(e,t,a){e.exports={description:"AudioSubtitleSettingsFormSection-description-3K2f7a"}},"+tih":function(e,t,a){e.exports={scroller:"SourceSidebarScroller-scroller-3jyEM6 Scroller-scroller-3GqQcZ"}},"+vwP":function(e,t,a){e.exports={button:"SpinnerButton-button-2YjGJZ Button-button-3A5jB3 Link-link-2ew_DK",spinnerContainer:"SpinnerButton-spinnerContainer-1RHCbv",spinner:"SpinnerButton-spinner-TNQl5_ Spinner-spinner-1qRM4t spin-spin-2kLwt_",label:"SpinnerButton-label-2HIugt",isSpinning:"SpinnerButton-isSpinning-2ZrKdu"}},"+wuY":function(e,t,a){e.exports={footer:"LibraryHubList-footer-zAAHDa",info:"LibraryHubList-info-2pDH_o",action:"LibraryHubList-action-cUygmy Link-link-2ew_DK",reset:"LibraryHubList-reset-20683S",resetIcon:"LibraryHubList-resetIcon-3MM1Y4"}},"//Cn":function(e,t,a){"use strict";var n=a("G4qV"),i=a("V+TA"),r=a("yfFC");var s=Object(i.a)((function(e){return t=>e===r.a.Photo?t.ui.photoPlayer:t.ui.audioVideoPlayer}));t.a=Object(i.a)((function(e,t){return Object(n.a)(s(e),e=>e[t])}))},"//Um":function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("B69o"),s=a("Q3JP"),o=a("3zVX"),l=a("L9Nd");const c=r.a.extend({name:"ProviderCollection",context:["server"],model:l.b,url:"/media/providers",responseType(){return Object(s.a)(this.server)},fetch(){const e=this.server;let t;return t=e.get("mediaProviders")||e.get("isCloud")?r.a.prototype.fetch.apply(this,arguments):i.a.Deferred().resolve(this,"").promise(),t.then(t=>{Object(o.a)(t,e)}),t}});t.a=c},"/3H6":function(e,t,a){e.exports={modalContainer:"Modal-modalContainer-tNumMm",modalBackdrop:"Modal-modalBackdrop-3-L45r",modal:"Modal-modal-3Z1JSX",small:"Modal-small-37D0Mq Modal-modal-3Z1JSX",medium:"Modal-medium-1UIAdk Modal-modal-3Z1JSX",large:"Modal-large-1fVmOF Modal-modal-3Z1JSX"}},"/5lZ":function(e,t,a){e.exports={modal:"DVRSetupModal-modal-18lUmV Modal-medium-3wftUS Modal-modal-3v30kQ"}},"/6Su":function(e,t,a){e.exports={childrenContainer:"CurrentSourcePageHeaderLeft-childrenContainer-1LCz1_"}},"/9Dk":function(e,t,a){e.exports={container:"PrePlayPopularList-container-2eAUSi",moreContainer:"PrePlayPopularList-moreContainer-1C7PCg"}},"/9Vb":function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR"),r=a("vjRy"),s=a("nvND"),o=a("vdRG"),l=a("Pizw"),c=a("WfN5"),d=a("7za+");const u=n.a.extend({name:"LiveTVSessionModel",context:["server","provider"],entityType:d.e,entityID(e=this.state){return Object(c.a)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",url(){return"/media/subscriptions/"+this.get("key")},sessionAttrs:{dvrID:i.a.integer,channelIdentifier:i.a.string,activityUUID:i.a.string,currentPosition:i.a.integer,nextPosition:i.a.integer,lastSeekPosition:i.a.integer,startedAt:i.a.integer,captureBuffer:i.a.object},syncedAttrs:{key:i.a.string,type:i.a.integer,title:i.a.string},syncedRelations:{grabOperation:{relationClass:o.a,rootPropertyName:"MediaGrabOperation",deferred:!0},timeline:{relationClass:r.default,rootPropertyName:"Timeline",deferred:!0},alsoAiring:{relationClass:r.default,rootPropertyName:"AlsoAiring",deferred:!0}},defaults:{nextPosition:null,lastSeekPosition:null},augmentResponseText:(e,t)=>t===s.c?Object(l.b)(e):e,augmentResponse(e){const t=e[this.rootPropertyName]||e,a=t.Timeline,n=t.AlsoAiring;return a&&(t.Timeline=a.Metadata),n&&(t.AlsoAiring=n.Metadata),e}});t.a=u},"/EX7":function(e,t,a){e.exports={deviceImageContainer:"DVRSetupDevice-deviceImageContainer-2xU-HL",selectButton:"DVRSetupDevice-selectButton-ae6X2N SelectButton-selectButton-3Kbjm9",details:"DVRSetupDevice-details-3KGanS",make:"DVRSetupDevice-make-1bKta_",modelContainer:"DVRSetupDevice-modelContainer-2aBGGR",model:"DVRSetupDevice-model-2C8RY9",uri:"DVRSetupDevice-uri-1doZGQ",channelCount:"DVRSetupDevice-channelCount-3h5cjL"}},"/Efv":function(e,t,a){e.exports={modalNote:"SourceActionsMenu-modalNote-2jUOsJ"}},"/GUN":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <h4>'+l(i(a("d8WC")).call(t,"Organize Your Media",{hash:{},data:s}))+'</h4> <p class="text-muted">'+l(i(a("d8WC")).call(t,"Plex organizes your media into libraries. You can add as many libraries as you want, and you can have multiple libraries with the same type.",{hash:{},data:s}))+'</p> <p class="setup-add-section-container"> <button class="add-section-btn btn btn-default">'+l(i(a("d8WC")).call(t,"Add Library",{hash:{},data:s}))+'</button> </p> <div class="setup-section-list-container"></div> <div class="setup-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupBasic">'+l(i(a("d8WC")).call(t,"Back",{hash:{},data:s}))+'</button> <button class="next-btn btn btn-primary btn-lg" data-subset="setupComplete">'+l(i(a("d8WC")).call(t,"Next",{hash:{},data:s}))+"</button> </div> </div> </div> "}))},"/IMa":function(e,t,a){e.exports={pageContentScroller:"PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},"/No1":function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n);t.a=function(e,t){const a=[];if(e){const n=i.a.first(e.Part);n&&n.Stream&&a.push.apply(a,i.a.where(n.Stream,t))}return a}},"/Os2":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("EVdn"),i=a.n(n),r=a("cgRT");function s(e,t){const a=Object(r.c)("appModel").get("cloudServer"),n=function(e){if(!e)return null;const[t,a]=e.split(","),n=t.substr(5),i=window.atob(a),r=[];for(let e=0;e<i.length;e++)r.push(i.charCodeAt(e));const s=new Uint8Array(r);return new window.Blob([s],{type:n})}(e),s=new window.FormData;s.append("avatar",n),t&&s.append("userId",t);const o=a.getXHROptions("/api/v2/user",{type:"PUT",processData:!1,contentType:!1,data:s});return i.a.ajax(o)}},"/Oxn":function(e,t,a){e.exports={allEpisodesContainer:"PrePlaySimpleDetailsVirtualList-allEpisodesContainer-xIfelE"}},"/R4L":function(e,t,a){e.exports={pageScroller:"Page-pageScroller-3nUMiS Scroller-scroller-CQJq74"}},"/VEV":function(e,t,a){e.exports={fill:"ChannelsGridProgress-fill-hY0DOn",active:"ChannelsGridProgress-active-1lw2kP"}},"/XtJ":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("wFRV"),s=a("w+Nc"),o=a.n(s);function l(e){const{className:t,...a}=e;return i.a.createElement("div",{className:t},i.a.createElement(r.a,{...a}))}l.defaultProps={className:o.a.avatar},t.a=l},"/fYT":function(e,t,a){"use strict";a.d(t,"b",(function(){return s}));var n=a("CHn6"),i=a("mOXR"),r=a("FIl5");const s={INT:"int",TEXT:"text",BOOL:"bool",DOUBLE:"double"};function o(e,t){switch(e){case s.INT:case s.ENUM:return r.a.parseInteger(t);case s.BOOL:return r.a.parseBoolean(t);case s.DOUBLE:return r.a.parseFloat(t);default:return t}}const l=n.a.extend({name:"MediaSettingModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Setting",syncedAttrs:{id:i.a.string,advanced:i.a.boolean,default:i.a.oneOfType(i.a.integer,i.a.string,i.a.boolean),hidden:i.a.boolean,group:i.a.string,label:i.a.string,summary:i.a.string,type:i.a.oneOf(s.INT,s.TEXT,s.BOOL,s.ENUM,s.DOUBLE),value:i.a.oneOfType(i.a.integer,i.a.float,i.a.string,i.a.boolean),min:i.a.float,max:i.a.float,step:i.a.float,enumValues:i.a.array},augmentResponse:e=>(e.default=o(e.type,e.default),e.value=o(e.type,e.value),e.enumValues&&(e.enumValues=e.enumValues.split("|").map(t=>{const[a,n=a]=t.split(":");return{label:decodeURIComponent(n),value:o(e.type,a)}})),e),parseAndSetValue(e){this.set("value",o(this.get("type"),e))}});t.a=l},"/gAe":function(e,t,a){e.exports={section:"ServerDashboardPageSection-section-3S6kbD"}},"/iqQ":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("i8i4"),s=a.n(r),o=a("OcOZ"),l=a("XjQJ"),c=a("wCAT");a("slDQ");class d extends n.Component{constructor(e,t){super(e,t),this.onOpen=()=>{var e,t;this._open(),null==(t=(e=this.props).onOpen)||t.call(e)},this.onClose=()=>{var e,t;this._close(),null==(t=(e=this.props).onClose)||t.call(e)},this._ref=e.forwardedRef||i.a.createRef(),this._popper=null}shouldComponentUpdate(e,t){return Object(c.a)(this,e,t)}componentDidUpdate(e){this._popper&&this._popper.update()}componentWillUnmount(){this._close()}_open(){const{target:e,options:t}=this.props,a=document.getElementById(e)||document.getElementsByName(e)[0];this._popper=Object(o.a)(a,s.a.findDOMNode(this._ref.current),t),this._popper.update()}_close(){this._popper&&(this._popper.destroy(),this._popper=null)}render(){return i.a.createElement(l.a,{...this.props,ref:this._ref,onOpen:this.onOpen,onClose:this.onClose})}}d.defaultProps={options:{placement:"bottom-start"}},t.a=i.a.forwardRef((e,t)=>i.a.createElement(d,{...e,forwardedRef:t}))},"/k80":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<ul class="nav nav-header pull-right"> <li><a class="all-btn btn-gray selected" href="#">'+c(i(a("d8WC")).call(t,"All",{hash:{},data:s})),((o=n.if.call(t,t&&t.allCount,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var a,n="";return n+='<span class="badge">'+c("function"==typeof(a=e&&e.allCount)?a.apply(e):a)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+='</a></li> <li><a class="video-btn btn-gray" href="#">'+c(i(a("d8WC")).call(t,"Video",{hash:{},data:s})),((o=n.if.call(t,t&&t.videoCount,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var a,n="";return n+='<span class="badge">'+c("function"==typeof(a=e&&e.videoCount)?a.apply(e):a)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+='</a></li> <li><a class="music-btn btn-gray" href="#">'+c(i(a("d8WC")).call(t,"Music",{hash:{},data:s})),((o=n.if.call(t,t&&t.musicCount,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var a,n="";return n+='<span class="badge">'+c("function"==typeof(a=e&&e.musicCount)?a.apply(e):a)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+='</a></li> <li><a class="photo-btn btn-gray" href="#">'+c(i(a("d8WC")).call(t,"Photo",{hash:{},data:s})),((o=n.if.call(t,t&&t.photoCount,{hash:{},inverse:this.noop,fn:this.program(7,(function(e,t){var a,n="";return n+='<span class="badge">'+c("function"==typeof(a=e&&e.photoCount)?a.apply(e):a)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+="</a></li> </ul> <h2>"+c(i(a("d8WC")).call(t,"Plugins",{hash:{},data:s}))+"</h2> ",((o=n.unless.call(t,t&&t.hasInstalledChannels,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var n="";return n+=' <p style="padding:20px">'+c(i(a("d8WC")).call(e,"No plugins installed.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="channels-container"></div> '}))},"/lm6":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return o+='<div class="row-padded"> <h4 class="text-muted text-center">'+(0,this.escapeExpression)((s=a("d8WC"),s&&(s.__esModule?s.default:s)).call(t,"No devices found",{hash:{},data:r}))+"</h4> </div> "}))},"/oUX":function(e,t,a){"use strict";a.d(t,"e",(function(){return D})),a.d(t,"j",(function(){return P})),a.d(t,"d",(function(){return T})),a.d(t,"c",(function(){return w})),a.d(t,"h",(function(){return N})),a.d(t,"g",(function(){return x})),a.d(t,"i",(function(){return A})),a.d(t,"a",(function(){return L})),a.d(t,"b",(function(){return k})),a.d(t,"f",(function(){return R})),a.d(t,"p",(function(){return z})),a.d(t,"t",(function(){return U})),a.d(t,"o",(function(){return V})),a.d(t,"n",(function(){return B})),a.d(t,"r",(function(){return F})),a.d(t,"q",(function(){return H})),a.d(t,"s",(function(){return _})),a.d(t,"k",(function(){return W})),a.d(t,"l",(function(){return Q})),a.d(t,"m",(function(){return G}));var n=a("EVdn"),i=a.n(n),r=a("ICb1"),s=a("+X4A"),o=a("cgRT"),l=(a("slDQ"),a("NCaO")),c=a("YINS"),d=a("bcER"),u=a("T0/d");function p(e,t){const{mediaIndex:a,streamTypeString:n,streamID:r,allParts:p,allowMetrics:m,metricsProperties:h={},updateLocalOnly:g=!1}=t,y=d.a.get(n),f=e.provider,b=e.get("Media");let v,I;for(let e=0,t=b.length;e<t;e++){if(a>=0&&a!==e)continue;const t=b[e],n=t.Part;for(let e=0,a=n.length;e<a;e++){const a=n[e],i=a.Stream;for(let e=0,n=i.length;e<n;e++){const n=i[e];if(n.streamType===y.id&&n.id===r){v=t,I=a;break}}if(I)break}if(I)break}if(!I)return i.a.Deferred().reject().promise();const S={[y.key]:r};p&&(S.allParts=1);const E=function(e,t,a,n,i){const r={...a};r.Stream=a.Stream.map(e=>e.streamType!==n.id?e:e.id!==i||e.selected?e.id!==i&&e.selected?{...e,selected:!1}:e:{...e,selected:!0});const s={...t,Part:Object(l.a)(t.Part,a,r)};return Object(l.a)(e,t,s)}(b,v,I,y,r);if(e.set({Media:E,isStreamChangeInProgress:!g}),g)return i.a.Deferred().resolve().promise();const O=I.key.match(new RegExp(`^(.*/parts/${I.id})/`)),M=s.default.join(O?O[1]:["/library/parts",I.id],S),C=f.getXHROptions(M,{type:"PUT",scope:"selectMetadataItemStream--"+I.id});u.a.abortAll(C.scope);const j=i.a.ajax(C).done(()=>{e.set("isStreamChangeInProgress",!1),e.fetch({usePopulatedParams:!0})}).fail(t=>{if(t.aborting)return;const a={isStreamChangeInProgress:!1};e.get("Media")===E&&(a.Media=b),e.set(a)});return m&&Object(o.c)("metrics").trackClick({...h,action:c.fb,type:e.get("type"),context:n}),j.promise()}var m=a("INWF"),h=a("+fvj"),g=a("iZkF"),y=a("blH+"),f=a("Vk9Z"),b=a("gnaf"),v=a("Xh8s"),I=a("WfN5"),S=a("7za+"),E=a("hPIe"),O=a("1Lwt"),M=a("66GW"),C=a("rXDx"),j=a("z8ZC");const D="metadata/selectMetadataItemStream",P="metadata/updateMetadataItemFollowMute",T="metadata/repopulateMetadataItem",w="metadata/removeMetadataItem",N="metadata/toggleMetadataItemSave",x="metadata/toggleMetadataItemPlexPick",A="metadata/toggleMetadataItemWatchlist",L="metadata/addMetadataItemToLibrary",k="metadata/deleteMetadataItemStream",R="metadata/setMetadataItemStreamOffset",z=Object(r.a)(D),U=Object(r.a)(P),V=Object(r.a)(T),B=Object(r.a)(w),F=Object(r.a)(N),H=Object(r.a)(x),_=Object(r.a)(A),W=Object(r.a)(L),Q=Object(r.a)(k),G=(Object(r.a)(R),{[T](e,t){const a=Object(E.r)(e,t);a&&a.fetch({data:{skipRefresh:1},usePopulatedParams:!0})},[w](e,t){const a=Object(E.r)(e,t);a&&a.trigger("destroy",a,a.collection)},[D](e,t,a){const{mediaIndex:n,streamTypeString:i,streamID:r,allParts:s,metricsPage:o,updateLocalOnly:l}=t;p(Object(E.f)(e,t),{mediaIndex:n,streamTypeString:i,streamID:r,allParts:s,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail(e=>{e&&e.aborting||a(Object(m.d)(Object(M.default)("There was a problem selecting this stream.")))})},[P](e,t){const{ratingKey:a,actionID:n,tagElement:r,value:d}=t,u=Object(E.j)(e,t),p=Object(E.f)(e,t);let m;const h=p.get(r),g=h.find(e=>e.ratingKey===a),b={...g};n===y.c&&(b.followed=d,b.muted=d&&g.muted?!g.muted:g.muted,m=c.B),n===y.d&&(b.muted=d,b.followed=d&&g.followed?!g.followed:g.followed,m=c.I);const v=Object(l.a)(h,g,b),I=u.get("features").get(f.b).get("actions").get(n),S=d?I.get("key"):I.get("reverseKey"),O=s.default.join(S,{ratingKey:a});p.set(r,v);const M=u.getXHROptions(O,{type:"PUT"});i.a.ajax(M).then(null,()=>{p.set(r,h)}),function(e,t,a,n={}){a&&Object(o.c)("metrics").trackClick({page:a,action:e,type:t.get("type"),...n})}(m,p,t.metricsPage,{identifier:u.get("metricsIdentifier"),context:g.tag,value:d})},[N](e,t,a){const n=Object(E.f)(e,t),r=Object(E.j)(e,{providerEntityID:n.get("providerEntityID")}),o=r.get("identifier"),l=b.l(o,b.f);let c=n.get("ratingKey");const d=n.get("grandparentRatingKey");let u;if(d&&!l){c=d;const a=n.get("grandparentKey");if(a){const n=Object(I.a)(S.g,a,t.serverEntityID);u=Object(E.r)(e,{metadataItemEntityID:n})}}const p=n.get("saved"),h=!p;n.set("saved",h),u&&u.set("saved",h);const g=r.get("features").get(f.b).get("actions").get("save"),y=h?g.get("key"):g.get("reverseKey"),v=s.default.join(y,{ratingKey:c}),O=r.getXHROptions(v,{type:"PUT"});i.a.ajax(O).then(()=>{a(Object(m.c)({serverEntityID:t.serverEntityID}))},()=>{n.set("saved",p),u&&u.set("saved",p)})},[x](e,t,a){const n=Object(E.f)(e,t),r=Object(E.j)(e,{providerEntityID:n.get("providerEntityID")}),o=n.get("ratingKey"),l=n.get("picked"),c=!l;n.set("picked",c);const d=r.get("features").get(f.b).get("actions").get("pick"),u=c?d.get("key"):d.get("reverseKey"),p=s.default.join(u,{ratingKey:o}),h=r.getXHROptions(p,{type:"PUT"});i.a.ajax(h).then(()=>{a(V({metadataItemEntityID:t.metadataItemEntityID}))},e=>{const t=Object(v.a)(e.responseText);a(Object(m.d)(t.message)),n.set("picked",l)})},[A](e,t,a){const n=Object(E.f)(e,t),r=Object(E.j)(e,{providerEntityID:n.get("providerEntityID")}),o=n.get("ratingKey"),l=n.get("watchlistedAt"),c=l?void 0:Date.now();n.set("watchlistedAt",c);const d=r.get("features").get(f.b).get("actions").get("addToWatchlist"),u=c?d.get("key"):d.get("reverseKey"),p=s.default.join(u,{ratingKey:o}),y=r.getXHROptions(p,{type:"PUT"});i.a.ajax(y).then(()=>{t.metricsPage===g.rb&&t.metricsProperties.context.includes(h.LIBRARY)?a(Object(m.c)({serverEntityID:t.serverEntityID})):a(V({metadataItemEntityID:t.metadataItemEntityID}))},e=>{const t=Object(v.a)(e.responseText);a(Object(m.d)(t.message)),n.set("watchlistedAt",l)})},[L](e,t,a){const n=Object(E.f)(e,t),r=Object(E.m)(e,t),o=Object(E.j)(e,{providerEntityID:n.get("providerEntityID")}),l=t.sectionKey.match(/\/library\/sections\/(\w+)/)[1],c={providers:"provider://"+o.get("identifier"),prefs:{oneShot:1,remoteMedia:1},params:{libraryType:j.g.get(j.c).typeID},targetLibrarySectionID:l,hints:{guid:n.get("guid"),ratingKey:n.get("ratingKey"),title:n.get("title"),parentTitle:n.get("parentTitle")},type:Object(C.getMetadataType)(n.get("type")).id},d=r.getXHROptions(s.default.join("/media/subscriptions",c),{type:"POST"});i.a.ajax(d)},[k](e,t,a){const{streamKey:n,metadataItemEntityID:r}=t,s=Object(E.f)(e,t);Object(O.a)(()=>{s.set("isStreamDeleteInProgress",!0)});const o=s.server.getXHROptions(n,{type:"DELETE"});i.a.ajax(o).then(()=>{s.set("isStreamDeleteInProgress",!1),a(V({metadataItemEntityID:r}))},e=>{s.set("isStreamDeleteInProgress",!1),a(Object(m.d)(Object(M.default)("There was a problem deleting this stream.")))})},[R](e,t,a){const{mediaIndex:n,streamTypeString:i,streamID:r,allParts:s,metricsPage:o,updateLocalOnly:l}=t;p(Object(E.f)(e,t),{mediaIndex:n,streamTypeString:i,streamID:r,allParts:s,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail(e=>{e&&e.aborting||a(Object(m.d)(Object(M.default)("There was a problem selecting this stream.")))})}})},"/sof":function(e,t,a){e.exports={form:"DeviceChannelMappings-form-BhAiSq",channelMappingsBody:"DeviceChannelMappings-channelMappingsBody-1KPoxK ModalBody-modalBody--5uHSu",programGuideLabel:"DeviceChannelMappings-programGuideLabel-3tWK8z",programGuideSelectContainer:"DeviceChannelMappings-programGuideSelectContainer-1cpiV-",programGuideTitle:"DeviceChannelMappings-programGuideTitle-3xOjMS",centeredContainer:"DeviceChannelMappings-centeredContainer-3NaUqc",scroller:"DeviceChannelMappings-scroller-2_Aea6 Scroller-vertical-VScFLT",channelMappingsContainer:"DeviceChannelMappings-channelMappingsContainer-2gZaIv"}},"/vPP":function(e,t,a){(function(e){!function(e){"use strict";var t="[data-toggle=dropdown]",a=function(t){e(t).on("click.bs.dropdown",this.toggle)};function n(){e(".dropdown-backdrop").remove(),e(t).each((function(t){var a=i(e(this));a.hasClass("open")&&(a.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown"))}))}function i(t){var a=t.attr("data-target");a||(a=(a=t.attr("href"))&&/#/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));var n=a&&e(a);return n&&n.length?n:t.parent()}a.prototype.toggle=function(t){var a=e(this);if(!a.is(".disabled, :disabled")){var r=i(a),s=r.hasClass("open");if(n(),!s){if("ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",n),r.trigger(t=e.Event("show.bs.dropdown")),t.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown"),a.focus()}return!1}},a.prototype.keydown=function(a){if(/(38|40|27)/.test(a.keyCode)){var n=e(this);if(a.preventDefault(),a.stopPropagation(),!n.is(".disabled, :disabled")){var r=i(n),s=r.hasClass("open");if(!s||s&&27==a.keyCode)return 27==a.which&&r.find(t).focus(),n.click();var o=e("[role=menu] li:not(.divider):visible a",r);if(o.length){var l=o.index(o.filter(":focus"));38==a.keyCode&&l>0&&l--,40==a.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus()}}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new a(this)),"string"==typeof t&&i[t].call(n)}))},e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.bs.dropdown.data-api",t,a.prototype.toggle).on("keydown.bs.dropdown.data-api",t+", [role=menu]",a.prototype.keydown)}(e)}).call(this,a("EVdn"))},"/z0O":function(e,t,a){e.exports={modalSubheader:"ModalSubheader-modalSubheader-1GEoo-"}},"/zOi":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("lWv/");function i({server:e,provider:t,data:a,container:i}){return a.reduce((a,r)=>{const{metadataItem:s,metadataItemStates:o}=Object(n.a)({server:e,provider:t,data:r,container:i});return a.metadataItems.push(s),Object.assign(a.metadataItemStates,o),a},{metadataItems:[],metadataItemStates:{}})}},0:function(e,t,a){a("j36g"),e.exports=a("gZro")},"004c":function(e,t,a){e.exports={link:"ServerUpdatePage-link-1rdLzs",actionContainer:"ServerUpdatePage-actionContainer-1lWIGk EmptyPageDescription-description-DhEtaD",progressContainer:"ServerUpdatePage-progressContainer-Q2yIFr"}},"0139":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("jqFQ"),s=a("Bw3N"),o=a("6N1R"),l=a("buLI"),c=a("xyiB");var d=Object(c.a)((function(e){const{formGroupClassName:t,formLabelClassName:a,name:n,labelText:c,helpText:d,showErrors:u,errors:p,children:m,...h}=e;return i.a.createElement(s.a,{className:t},m,i.a.createElement(l.a,{className:a,showErrors:u,errors:p,name:n,labelText:c}),i.a.createElement(r.a,{name:n,hasError:u,...h}),d?i.a.createElement(o.a,null,d):null)})),u=a("MOdi"),p=a("66GW"),m=a("2pL0"),h=a("w8TB"),g=a("N2kb"),y=a.n(g);class f extends n.Component{constructor(){super(...arguments),this.onRemovePress=()=>{this.props.onRemove(this.props.index)}}render(){const{tag:e,getTagDisplayValue:t}=this.props;return i.a.createElement("span",{className:y.a.container},i.a.createElement("span",{className:y.a.tag},i.a.createElement(m.a,{className:y.a.remove,"aria-label":Object(p.default)("Remove Tag"),onPress:this.onRemovePress},i.a.createElement(h.a,null)),i.a.createElement("span",null,t(e))))}}var b=f;const v={[u.a]:{labelText:()=>Object(p.default)("Allow Only Ratings"),placeholder:()=>Object(p.default)("Allow all ratings")},[u.b]:{labelText:()=>Object(p.default)("Exclude Ratings"),placeholder:()=>Object(p.default)("Don't exclude any ratings")},[u.d]:{labelText:()=>Object(p.default)("Allow Only Labels"),placeholder:()=>Object(p.default)("Allow all labels")},[u.c]:{labelText:()=>Object(p.default)("Exclude Labels"),placeholder:()=>Object(p.default)("Don't exclude any labels")}};function I(e){const{metadataType:t,tagType:a,filterOptionsTags:n}=e,i=a===u.a||a===u.b?u.a:u.d;return n[t][i]}const S=e=>e.value,E=e=>""===e.key?e.value:e.title,O=(e,t)=>e.title.toUpperCase().includes(t.toUpperCase()),M=e=>({key:"",title:Object(p.default)("Add {inputValue}…",{inputValue:e}),value:e}),C=e=>e.title,j=()=>!0,D=()=>{},P=()=>{};class T extends n.Component{static getDerivedStateFromProps(e,t){return!t.isFilterOptionsTagsPopulated&&e.isFilterOptionsTagsPopulated?{suggestions:I(e),isFilterOptionsTagsPopulated:!0}:null}constructor(e,t){super(e,t);const{isFilterOptionsTagsPopulated:a}=e;this.state={suggestions:a?I(e):[],isFilterOptionsTagsPopulated:a}}render(){const{name:e,tagType:t,initialValue:a,excludedTags:n,onChange:r}=this.props,{labelText:s,placeholder:o}=v[t];return i.a.createElement(d,{getSuggestionValue:S,initialValue:a,labelText:s(),placeholder:o(),makeTagFromSuggestion:E,tagComponent:b,name:e,renderSuggestion:C,shouldRenderSuggestions:j,getAddSuggestionTag:M,suggestions:this.state.suggestions,suggestionsFilter:O,excludedTags:n,onSuggestionsClearRequested:D,onSuggestionsFetchRequested:P,onChange:r})}}t.a=T},"01DF":function(e,t,a){"use strict";function n(e,t){if(!e)throw new Error(t)}a.d(t,"a",(function(){return n}))},"01sc":function(e,t){function a(e){for(var t=e.length,a=new Array(t),n=0;n<t;n++)a[n]=e.charCodeAt(n);return a}function n(e){for(var t="",a=0;a<e.length;a++)t+=d[e[a]>>4]+d[15&e[a]];return t}function i(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),SHA256_buf=new Array,SHA256_len=0}function r(e){SHA256_buf="string"==typeof e?SHA256_buf.concat(a(e)):SHA256_buf.concat(e);for(var t=0;t+64<=SHA256_buf.length;t+=64)f(SHA256_H,SHA256_buf.slice(t,t+64));SHA256_buf=SHA256_buf.slice(t),SHA256_len+=e.length}function s(){if(SHA256_buf[SHA256_buf.length]=128,SHA256_buf.length>56){for(var e=SHA256_buf.length;e<64;e++)SHA256_buf[e]=0;f(SHA256_H,SHA256_buf),SHA256_buf.length=0}for(e=SHA256_buf.length;e<59;e++)SHA256_buf[e]=0;SHA256_buf[59]=SHA256_len>>>29&255,SHA256_buf[60]=SHA256_len>>>21&255,SHA256_buf[61]=SHA256_len>>>13&255,SHA256_buf[62]=SHA256_len>>>5&255,SHA256_buf[63]=SHA256_len<<3&255,f(SHA256_H,SHA256_buf);var t=new Array(32);for(e=0;e<8;e++)t[4*e+0]=SHA256_H[e]>>>24,t[4*e+1]=SHA256_H[e]>>16&255,t[4*e+2]=SHA256_H[e]>>8&255,t[4*e+3]=255&SHA256_H[e];return SHA256_H=null,SHA256_buf=null,SHA256_len=null,t}function o(e){HMAC_SHA256_key="string"==typeof e?a(e):(new Array).concat(e),HMAC_SHA256_key.length>64&&(i(),r(HMAC_SHA256_key),HMAC_SHA256_key=s());for(var t=HMAC_SHA256_key.length;t<64;t++)HMAC_SHA256_key[t]=0;for(t=0;t<64;t++)HMAC_SHA256_key[t]^=54;i(),r(HMAC_SHA256_key)}function l(e){r(e)}function c(){for(var e=s(),t=0;t<64;t++)HMAC_SHA256_key[t]^=106;i(),r(HMAC_SHA256_key),r(e);for(t=0;t<64;t++)HMAC_SHA256_key[t]=0;return HMAC_SHA256_key=null,s()}var d=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),u=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298);function p(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function m(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function g(e,t,a){return a^e&(t^a)}function y(e,t,a){return e&t^a&(e^t)}function f(e,t){for(var a=new Array(16),n=0;n<16;n++)a[n]=t[4*n+0]<<24|t[4*n+1]<<16|t[4*n+2]<<8|t[4*n+3];!function(e,t){for(var a=16;a<64;a++)t[a]=4294967295&(((n=t[a-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10)+t[a-7]+p(t[a-15])+t[a-16];var n,i=(new Array).concat(e);for(a=0;a<64;a++){var r=i[7]+h(i[4])+g(i[4],i[5],i[6])+u[a]+t[a],s=m(i[0])+y(i[0],i[1],i[2]);i.pop(),i.unshift(r+s&4294967295),i[4]=i[4]+r&4294967295}for(a=0;a<8;a++)e[a]=e[a]+i[a]&4294967295}(e,a)}e.exports={SHA256_hash:function(e){return i(),r(e),n(s())},HMAC_SHA256_init:o,HMAC_SHA256_write:l,HMAC_SHA256_finalize:c}},"02Z/":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("rXDx"),s=a("AUbT"),o=a("sOPC"),l=a("HSBM"),c=a("26tu"),d=a("6+qq"),u=a("UR/t"),p=a("03dv"),m=a("Nwpn"),h=a.n(m);var g=function(e){const{component:t,isSecondary:a,...n}=e;return i.a.createElement(t,{className:a?h.a.secondaryTitle:h.a.title,...n})},y=a("auJy"),f=a.n(y);function b(e){const{serverEntityID:t,providerEntityID:a,hint:n,target:m,useStaticHeight:h,children:y,showSubscriptionBadge:b,isDownload:v}=e,{type:I,subtype:S}=n,{thumb:E,grandparentThumb:O}=m||n,M=I===r.PLAYLIST,C=v&&M?m&&m.composite:O||E,j=v||I!==r.PLAYLIST?I:r.SHOW;return i.a.createElement("div",{className:f.a.container},i.a.createElement("div",{className:f.a.left},i.a.createElement(o.a,{serverEntityID:t,providerEntityID:a,component:l.a,type:j,width:130,height:Object(p.e)(130,j,S),url:C},b?i.a.createElement("div",{className:f.a.subscriptionBadge},i.a.createElement(s.a,{type:I})):null)),i.a.createElement("div",{className:f.a.right},i.a.createElement("div",{className:h?f.a.staticHeightTitleContainer:f.a.titleContainer},function(e){switch(e){case r.MOVIE:case r.SHOW:return[d.a];case r.EPISODE:return[c.a,u.a];case r.PLAYLIST:default:return[d.a]}}(I).map((e,t)=>i.a.createElement(g,{key:t,component:e,isSecondary:t>0,...n}))),y))}b.defaultProps={useStaticHeight:!1};t.a=b},"03dv":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return d}));var n=a("f2wi"),i=a("fVRA");const r=1/1.5,s=1,o=16/9;function l(e,t,a){if(a)switch(a){case i.o:switch(e){case"genre":case"channel":return s}break;case i.n:case i.t:switch(e){case"episode":return o}break;case i.a:case i.i:case i.s:return o;case i.k:switch(e){case"movie":case"episode":case"game":return o}break;case i.m:case i.l:case i.d:case i.r:switch(e){case"episode":return o}break;case i.j:switch(e){case"clip":return s}break;case i.f:case i.g:switch(e){case"clip":return r}}switch(t){case n.PODCAST:case n.WEBSHOW:switch(e){case"show":return s;case"episode":return o}}switch(e){case"channels":return s;case"movie":case"show":case"season":case"episode":return r;case"artist":case"album":case"track":case"photo":case"photoalbum":return s;case"clip":return o;case"collection":return r;case"extra":case"musicVideo":return o;case"mixed":return r;case"platform":case"directory":case"genre":return o;case"content":case"channel":case"hub":case"list":return s;case"game":return 3/4;default:return s}}function c(e,t,a,n){const i=l(t,a,n);return Math.round(e*i)}function d(e,t,a,n){const i=l(t,a,n);return Math.round(e/i)}},"056+":function(e,t,a){e.exports={img:"MetadataTitleAttributionLogo-img-1piMjP"}},"05C2":function(e,t,a){e.exports={version:"ReleaseNotesModal-version-2-RIQI",listTitle:"ReleaseNotesModal-listTitle-1aNZmv"}},"08AQ":function(e,t,a){e.exports={pageHeader:"UserSharingSettingsPage-pageHeader-2_t6mm PageHeader-pageHeader-2KNPGd",pageHeaderLeft:"UserSharingSettingsPage-pageHeaderLeft-1LP8mb PageHeaderLeft-pageHeaderLeft-12U4iA",pageHeaderRight:"UserSharingSettingsPage-pageHeaderRight-1DZxiG PageHeaderRight-pageHeaderRight-1dljwG",addToHomeIcon:"UserSharingSettingsPage-addToHomeIcon-1svaEG IconButton-button-9An-7I",avatar:"UserSharingSettingsPage-avatar-3ETJGK AvatarImg-avatar-3Op56u",username:"UserSharingSettingsPage-username-1NRe2Z",confirmMessageContainer:"UserSharingSettingsPage-confirmMessageContainer-1QeAb9",confirmWarning:"UserSharingSettingsPage-confirmWarning-1JuBcJ",confirmMessage:"UserSharingSettingsPage-confirmMessage-10AdiR"}},"08Kf":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="card-actions"> <button class="info-btn card-action-btn"><i class="glyphicon circle-info"></i></button> <button class="settings-btn card-action-btn"><i class="glyphicon cogwheel"></i></button> </div> <div class="card-handle"><i class="glyphicon show-lines"></i></div> <label for="'+c("function"==typeof(s=t&&t.identifier)?s.apply(t):s)+'"> <input id="'+c("function"==typeof(s=t&&t.identifier)?s.apply(t):s)+'" name="'+c("function"==typeof(s=t&&t.identifier)?s.apply(t):s)+'" type="checkbox" ',((s=n.if.call(t,t&&t.enabled,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"checked"}),r),data:r}))||0===s)&&(l+=s),l+=" ",((s=n.if.call(t,t&&t.isPrimary,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){return"disabled"}),r),data:r}))||0===s)&&(l+=s),l+="> "+c((o=a("d8WC"),o&&(o.__esModule?o.default:o)).call(t,t&&t.name,{hash:{},data:r}))+" </label> "}))},"0BwR":function(e,t,a){e.exports={bar:"AudioVideoFullPlayer-bar-dDYeoN",topBar:"AudioVideoFullPlayer-topBar-2XUGMf AudioVideoFullPlayer-bar-dDYeoN",bottomBar:"AudioVideoFullPlayer-bottomBar-2yixi6 AudioVideoFullPlayer-bar-dDYeoN",content:"AudioVideoFullPlayer-content-37T7O7",spinnerContainer:"AudioVideoFullPlayer-spinnerContainer-2_xo8f",overlayButton:"AudioVideoFullPlayer-overlayButton-30Vz4v Button-button-2kT68l Link-link-2n0yJn",videoTopBar:"AudioVideoFullPlayer-videoTopBar-3qWKu8",playQueueTopBar:"AudioVideoFullPlayer-playQueueTopBar-2CRTlW",topBarHidden:"AudioVideoFullPlayer-topBarHidden-24GZNA",bottomBarHidden:"AudioVideoFullPlayer-bottomBarHidden-3fSSwd"}},"0F0y":function(e,t,a){e.exports={container:"SubtitlesOffsetSettings-container-2qSmYo AudioVideoStripeContainer-container-MI02OU",closeButton:"SubtitlesOffsetSettings-closeButton-2WdGs9 Link-link-2n0yJn",title:"SubtitlesOffsetSettings-title-2G4Dw8",buttonContainer:"SubtitlesOffsetSettings-buttonContainer-29XRne",button:"SubtitlesOffsetSettings-button-17oZz6 Button-button-2kT68l Link-link-2n0yJn"}},"0L0C":function(e,t,a){"use strict";a.r(t);var n=a("B69o"),i=a("CHn6"),r=a("mOXR");var s=i.a.extend({name:"ProviderCountryModel",context:["server","provider"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{code:r.a.string,title:r.a.string,postalCodeFormat:r.a.string,flavor:r.a.string}}),o=a("Vk9Z");var l=n.a.extend({name:"ProviderCountryCollection",context:["server","provider"],url(){return this.provider.get("features").findWhere({type:o.g}).get("key")+"/countries"},model:s}),c=a("XHow"),d=a("oQeb"),u=a("o2p+");var p=n.a.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:d.a,url(){return this.provider.get("features").get(o.p).get("settings").get(u.d).get("key")}});var m=i.a.extend({name:"ProviderSettingOptionsModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:r.a.string,title:r.a.string,type:r.a.string,selected:r.a.boolean}});var h=n.a.extend({name:"ProviderSettingOptionsCollection",context:["server","provider"],model:m}),g=a("FIl5");const y={int:g.a.parseInteger,bool:g.a.parseBoolean,double:g.a.parseFloat};var f=i.a.extend({name:"ProviderSettingModel",context:["server","provider"],rootPropertyName:"Setting",url(){return this.get("key")},sessionAttrs:{isOptionsPending:r.a.boolean,isOptionsPopulated:r.a.boolean,optionsError:r.a.object,isLocationsPending:r.a.boolean,isLocationsPopulated:r.a.boolean,locationsError:r.a.object,isLineupPending:r.a.boolean,isLineupPopulated:r.a.boolean,lineupError:r.a.object,isRecentChannelsInGridPending:r.a.boolean,isRecentChannelsInGridPopulated:r.a.boolean,recentChannelsInGridError:r.a.object},syncedAttrs:{country:r.a.string,countryLabel:r.a.string,hidden:r.a.boolean,id:r.a.string,key:r.a.string,label:r.a.string,multiselect:r.a.boolean,postalCode:r.a.string,required:r.a.boolean,selectedCount:r.a.integer,summary:r.a.string,type:r.a.string,value:r.a.oneOfType(r.a.string,r.a.boolean,r.a.float),min:r.a.float,max:r.a.float,step:r.a.float,enumValues:r.a.string,default:r.a.string},sessionRelations:{locations:{relationClass:l},lineup:{relationClass:c.a},recentChannelsInGrid:{relationClass:p}},syncedRelations:{settings:()=>({relationClass:a("0L0C").default,rootPropertyName:"Setting",deferred:!0}),options:{relationClass:h,options:e=>({url:e.key})}},defaults:{isOptionsPending:!0,isOptionsPopulated:!1,optionsError:null,isLocationsPending:!0,isLocationsPopulated:!1,locationsError:null,isLineupPending:!0,isLineupPopulated:!1,lineupError:null},augmentResponse(e){const t=y[e.type];return t&&(e.value=t(e.value)),e}});const b=n.a.extend({name:"ProviderSettingCollection",context:["server","provider"],url:"/settings",model:f});t.default=b},"0MtW":function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("cgRT"),l=a("DSbB"),c=a("kwss"),d=a("bsps"),u=a("4B5B"),p=a("pRYq"),m=a.n(p),h=u.a.extend({className:"user-select-alert-bar",template:m.a}),g=a("QPyl"),y=a("rG0a"),f=a("+X4A"),b=a("vtVQ"),v=a("CpQb"),I=a("66GW"),S=a("agT0"),E=a("fLiA");var O=a("xd52").a.extend({getUrl(e){if(e){const t=Object(E.a)();return f.default.join(e,{size:Math.round(this.width*t)})}return e}}),M=a("BVbW"),C=a.n(M),j=v.a.ItemView.extend({tagName:"li",className:"user-select-list-item",template:C.a,ui:{container:".user-select-container",poster:".user-poster"},events:{"click a":"onClick"},initialize:function(e){this.disabled=e.disabled,this.posterImage=new O({model:this.model,type:"friend",width:80});var t=o.c("appModel").get("primaryServer");t&&t.supports("imageFilters")&&(this.backgroundImage=new O({model:this.model,type:"friend",width:120,background:!0,filters:{blur:20,opacity:50,background:"000000"}}),this.backgroundImage.placeholderClass=!1)},serializeData:function(){return{disabled:this.disabled}},bindings:{".username":{modelAttribute:"title"},".managed-title":{modelAttribute:"restrictionProfile",autohide:!0,formatter(e){if(this.model.get("restricted")&&!this.model.get("guest"))return e?S.d(e).title:Object(I.default)("Managed User")}},".protected-icon":{modelAttribute:"protected",autohide:!0,manual:!0},".admin-icon":{modelAttribute:"admin",autohide:!0,manual:!0}},onRender:function(){this.posterImage.setElement(this.ui.poster),this.backgroundImage&&this.backgroundImage.setElement(this.ui.container)},onClose:function(){this.posterImage.close(),this.backgroundImage&&this.backgroundImage.close()},onClick:function(e){e.preventDefault(),this.trigger("selectUser",this.model)}}),D=a("oayy"),P=a.n(D),T=v.a.Layout.extend({className:"user-select-modal-pin-container",template:P.a,ui:{digitContainer:".pin-digit-container",input:".pin-input",digits:".pin-digit",loading:".loading",removeBtn:".remove-btn",saveBtn:".save-btn",pinForgotLink:".pin-forgot-link"},regions:{userList:".user-select-list"},events:{"keydown input":"onKeyDown","input input":"onInput","keyup input":"onKeyUp","focus input":"onFocus","blur input":"onBlur","change input":"onChange","animationend .pin-input-container":"onInputsAnimationEnd","webkitAnimationEnd .pin-input-container":"onInputsAnimationEnd","oAnimationEnd .pin-input-container":"onInputsAnimationEnd","click .back-btn":"onBackClick","click .remove-btn":"onRemoveClick","submit #pin-form":"onSubmit","click .pin-digit":"onPINClick","keydown .save-btn":"onSaveKeyDown"},onlyAfterRender:["confirmUser"],initialize:function(e){var t=o.c("appModel");this.isForced=e.isForced,this.isEditing=e.isEditing,this.isEditWarning=e.isEditWarning,this.showBackButton=e.showBackButton,this.openAddManagedUser=e.openAddManagedUser,this.focusDelay=e.focusDelay,this.user=t.get("user"),this.isEditConfirmation=this.isEditing&&this.model.get("protected")&&!this.model.get("restricted")},serializeData:function(){return{isEditing:this.isEditing&&!this.isEditConfirmation,isEditWarning:this.isEditWarning,isEditConfirmation:this.isEditConfirmation,isOpeningAddManagedUser:this.openAddManagedUser,hasCurrentPIN:this.model.get("protected"),showBackButton:this.showBackButton}},focusInput:function(){this.ui.input.val(""),this.ui.input.focus()},getPIN:function(){return this.ui.input.val()},editPIN:function(e){this.ui.saveBtn.isDisabled()||(this.ui.saveBtn.addClass("disabled"),this.savePIN(e).fail(this.whenRendered((function(){this.ui.saveBtn.removeClass("disabled"),y.a.trigger("show:alert",{type:"error",message:Object(I.default)("This PIN could not be saved.")})}))))},removePIN:function(){this.ui.removeBtn.isDisabled()||(this.ui.removeBtn.addClass("disabled"),this.savePIN("").fail(this.whenRendered((function(){this.ui.removeBtn.removeClass("disabled"),y.a.trigger("show:alert",{type:"error",message:Object(I.default)("This PIN could not be removed.")})}))))},savePIN:function(e){this.ui.loading.removeClass("hidden");var t=this.model.get("restricted"),a=this.model.getSaveParams(),n={};this.currentPin&&(n.currentPin=this.currentPin),""===e&&t?n.removePin=1:n.pin=e;var r=i.a.extend(!0,{},a,n),o=f.default.join(this.model.pinUrl(),r),l=this.model.server.getXHROptions(o,{type:t?"POST":"PUT"}),c=i.a.ajax(l);return c.done(s.a.bind((function(){this.model.set("protected",!!e),this.model.id===this.user.id&&(e?this.user.set("pin",this.user.hashPIN(e)):this.user.unset("pin"),this.user.set("home",this.user.hasHome())),this.trigger("resolve",e)}),this)),c.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")}))),c},confirmUser:function(e){this.ui.loading.removeClass("hidden");var t=b.a.execute("switchUser",{homeUser:this.model,pin:e,allowGuestLock:!this.isEditing});t.done(s.a.bind((function(){this.isEditing?(this.isEditConfirmation=!1,this.currentPin=e,this.render()):this.trigger("resolve",e,this.openAddManagedUser)}),this)),t.fail(this.whenRendered((function(){this.ui.digitContainer.addClass("shake"),this.ui.input.val(""),this.focusInput()}))),t.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},renderPIN:function(){var e=this.getPIN(),t=e.length,a=this.isEditing&&!this.isEditConfirmation;this.ui.digits.each((function(n,r){var s=e[n]||"";s&&!a&&(s="&bull;"),i()(r).toggleClass("current",n===t).html(s)}))},onRender:function(){this.userList.show(new j({model:this.model,disabled:!0})),this.ui.pinForgotLink.toggleClass("hidden",this.model.get("restricted")),g.a.mobile||window.setTimeout(s.a.bind(this.focusInput,this),this.focusDelay)},onKeyDown:function(e){var t=e.which;13!==t&&(8!==t&&46!==t&&229!==t&&(t>=48&&t<=57||t>=96&&t<=105||e.preventDefault()))},onInput:function(e){var t=i()(e.currentTarget),a=t.val(),n=a.length,r=a.charAt(a.length-1);/[0-9]/.test(r)?4===a.length&&(!this.isEditing||this.isEditConfirmation?(t.blur(),this.confirmUser(this.getPIN())):this.ui.saveBtn.focus()):t.val(a.slice(0,n-1))},onKeyUp:function(e){this.renderPIN()},onFocus:function(e){this.renderPIN()},onBlur:function(e){this.renderPIN(),this.ui.digits.removeClass("current")},onChange:function(e){this.renderPIN()},onInputsAnimationEnd:function(e){i()(e.currentTarget).removeClass("shake")},onBackClick:function(e){e.preventDefault(),this.trigger("change:pane","users")},onRemoveClick:function(e){e.preventDefault(),this.removePIN()},onSubmit:function(e){e.preventDefault();var t=this.getPIN();4===t.length?this.isEditing&&!this.isEditConfirmation?this.editPIN(t):this.confirmUser(t):y.a.trigger("show:alert",{type:"error",message:Object(I.default)("Please enter a 4 digit PIN.")})},onSaveKeyDown:function(e){var t=e.which;8!==t&&46!==t||(e.preventDefault(),this.ui.input.val(""),this.focusInput())},onPINClick:function(){this.focusInput()}}),w=a("LL+a"),N=a("OwEl"),x=a("0tvf"),A=a("cR0X"),L=a("9Cni"),k=a("VzrX"),R=a("uEK0"),z=a.n(R);var U=v.a.ItemView.extend({tagName:"li",className:"user-select-list-item",template:z.a,events:{"click a":"onClick"},initialize(e){this.disabled=e.disabled},serializeData(){return{iconAdd:Object(k.a)(L.a,{className:"add-icon"}),disabled:this.disabled}},onClick(e){e.preventDefault(),this.trigger("selectUser",this.model,!0)}}),V=A.a.extend({tagName:"ul",className:"tile-list user-select-list",itemView:j,onRender(){this.options.showAddUser&&this.addItemView(this.options.adminModel,U,this.collection.length)}}),B=a("4nIb"),F=a.n(B),H=v.a.Layout.extend({className:"user-select-modal-users-container",template:F.a,ui:{loading:".loading"},regions:{body:".modal-body"},onlyAfterRender:["onUserPopulated","onHomeUsersPopulated","onError"],initialize:function(e){var t=o.c("appModel");this.user=t.get("user"),this.homeUsers=this.user.get("homeUsers"),this.user.server.populate().done(s.a.bind(this.onUserPopulated,this)).fail(s.a.bind(this.onError,this))},showList:function(e){this.ui.loading.addClass("hidden");const t=e.findWhere({admin:!0});this.body.show(new V({collection:e,adminModel:t,showAddUser:!!t})),this.listenTo(this.body.currentView,"itemview:selectUser",this.onUserSelect)},selectUser:function(e,t){this.ui.loading.removeClass("hidden");var a=b.a.execute("switchUser",{homeUser:e,switchUser:!0,allowGuestLock:!0});a.done(s.a.bind((function(){this.trigger("resolve",null,t)}),this)),a.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},onUserPopulated:function(){this.homeUsers.fetch().done(s.a.bind(this.onHomeUsersPopulated,this)).fail(s.a.bind(this.onError,this))},onHomeUsersPopulated:function(e){this.showList(e)},onError:function(){var e=w.a.getActiveUser();if(e&&e.get("home")){var t={id:e.id,title:e.get("title"),protected:!!e.get("pin")};this.showList(new N.a([t],{server:this.user.server,parent:this.user}))}else this.user.set("lockState",x.a.Unlocked),this.trigger("resolve")},onUserSelect:function(e,t,a){t.get("protected")?this.trigger("change:pane","pin",{model:t,showBackButton:!0,openAddManagedUser:a,focusDelay:0}):this.selectUser(t,a)}}),_=a("9A7T"),W=a.n(_),Q=d.a.extend({name:"userSelectModal",className:"user-select-modal modal modal-transparent fade",template:W.a,transparent:!0,panes:{users:H,pin:T},regions:{content:".modal-content",alertBar:".modal-alert"},initialize:function(e){d.a.prototype.initialize.apply(this,arguments);var t=o.c("appModel");this.options=e,this.isForced=e.isForced,this.user=t.get("user"),this.promise=i.a.Deferred()},showPane:function(e,t){this.currentPane&&this.stopListening(this.currentPane);var a=new(0,this.panes[e])(s.a.extend({},this.options,t));return this.listenTo(a,{"change:pane":this.onChangePane,resolve:this.onResolve,reject:this.onReject}),this.currentPane=a,this.content.show(a),a},showAlertBar:function(){const e=l.a[0];l.a.length=0,this.alertBar.show(new h({alert:e}))},onRender:function(){d.a.prototype.onRender.apply(this,arguments),this.model?this.showPane("pin",{focusDelay:this.focusDelay}):this.showPane("users"),this.showAlertBar()},onHide:function(e){d.a.prototype.onHide.apply(this,arguments),"pending"===this.promise.state()&&this.promise.reject()},onChangePane:function(e,t){this.showPane(e,t)},onResolve:function(e,t){null==c.a.continueUrl||this.options.isEditing?(t&&(window.location="#!/settings/users-sharing?addManagedUser=1"),this.promise.resolve(e),this.hide()):window.location=c.a.continueUrl},onReject:function(){this.promise.reject(),this.hide()}});t.a=Q},"0PCw":function(e,t,a){e.exports={container:"PhotoHubList-container-1-l_qP",title:"PhotoHubList-title-1lMNLT",list:"PhotoHubList-list-3GW3Uv"}},"0UmJ":function(e,t,a){e.exports={form:"ShareLibraries-form-3J6P_v",modalBody:"ShareLibraries-modalBody-k4aMxH ModalBody-modalBody--5uHSu",message:"ShareLibraries-message-5od7pI",spinnerContainer:"ShareLibraries-spinnerContainer-3bRhzE",scroller:"ShareLibraries-scroller-2lozQG Scroller-vertical-VScFLT",modalFooter:"ShareLibraries-modalFooter-1fcHCz ModalFooter-modalFooter-30WIB5"}},"0csW":function(e,t,a){e.exports={tertiaryTitle:"PrePlayTertiaryTitle-tertiaryTitle-1LwUaC"}},"0dFH":function(e,t,a){e.exports={item:"MetadataTableRow-item-11DH-Z",isActionsMenuOpen:"MetadataTableRow-isActionsMenuOpen-3yasOW",transientTitle:"MetadataTableRow-transientTitle-3nwhoL",button:"MetadataTableRow-button-1Y7ax9",hasActiveSelection:"MetadataTableRow-hasActiveSelection-3A2BEJ",underlay:"MetadataTableRow-underlay-2ipZbj",isForcingSelection:"MetadataTableRow-isForcingSelection-t_XFIx",overlay:"MetadataTableRow-overlay-1RiIdu",transientTitleLeft:"MetadataTableRow-transientTitleLeft-19Y6Pd MetadataTableRow-transientTitle-3nwhoL",transientTitleRight:"MetadataTableRow-transientTitleRight-3JGw3f MetadataTableRow-transientTitle-3nwhoL",playButton:"MetadataTableRow-playButton-3bNBC0 PlayButton-playButton-3WX8X- MetadataTableRow-button-1Y7ax9",editButton:"MetadataTableRow-editButton-1hH1w0 MetadataTableRow-button-1Y7ax9",moreButton:"MetadataTableRow-moreButton-2YKSy8 MetadataTableRow-button-1Y7ax9",downloadIcon:"MetadataTableRow-downloadIcon-2BopYh",isSelected:"MetadataTableRow-isSelected-bNqXlr",selectButton:"MetadataTableRow-selectButton-11Ia99 SelectButton-selectButton-3Kbjm9 MetadataTableRow-button-1Y7ax9",alternateItem:"MetadataTableRow-alternateItem-1-jtpL MetadataTableRow-item-11DH-Z",playCell:"MetadataTableRow-playCell-ziDSkt",actionsCell:"MetadataTableRow-actionsCell-1ax6EZ",libraryActionsCell:"MetadataTableRow-libraryActionsCell-2OOmPb MetadataTableRow-actionsCell-1ax6EZ",transientTitleRightText:"MetadataTableRow-transientTitleRightText-25yD3X",selectCoverButton:"MetadataTableRow-selectCoverButton-3SFDJL",equalizer:"MetadataTableRow-equalizer-35cH_6 EqualizerIcon-equalizer-2SoFA6"}},"0ifp":function(e,t,a){e.exports={inputContainer:"FieldRelativeDateInput-inputContainer-2uMexT",textInput:"FieldRelativeDateInput-textInput-2tgcln FilterTextInput-input-3NJ5Fl TextInput-input-1mDdJf",selectInput:"FieldRelativeDateInput-selectInput-11Mgkn FilterSelectInput-input-3lZ071 Select-input-1OU8QF"}},"0jae":function(e,t,a){"use strict";var n=a("rG0a");const i={accessToken:1,address:1,auth_token:1,authToken:1,Authorization:1,clientIdentifier:1,email:1,host:1,myPlexAccessToken:1,password:1,uri:1,"X-Plex-Token":1},r=new RegExp("("+Object.keys(i).join("|")+")(\\s?=\\s?)(['\"]?)[^'\"\n]+(['\"]?)","g"),s=/%[sdifo]/g,o=/(error|exception)\]$/i,l={"%s":e=>e,"%d":e=>Number.parseInt(e,10),"%f":e=>Number.parseFloat(e),"%o":e=>e},c=(e,t,a)=>function(){let i;const r=arguments.length;let o;if(t=void 0===t?d.LEVEL_LOG:t,!(d.level<t)){if(0===r&&a)o=a;else if(1===r)o=d.serialize(arguments[0]);else if(r>1){const e=Array(r);let t=-1;for(;++t<r;)e[t]=d.serialize(arguments[t]);e[0]=e[0].replace(s,(t,a)=>{let n=t;return e.length>1&&(n=l[t](e[1]),e.splice(1,1)),n}),o=e.join(" ")}return!o||i&&!i.test(o)||n.a.trigger(e,{type:e,level:t,message:o}),o}},d=c("log:message");d.LEVEL_NONE=-1,d.LEVEL_ERROR=0,d.LEVEL_WARN=1,d.LEVEL_INFO=2,d.LEVEL_DEBUG=3,d.LEVEL_LOG=4,d.LEVEL_GROUP=d.LEVEL_INFO,d.LEVEL_GROUP_END=d.LEVEL_INFO,d.level=d.LEVEL_LOG,d.redacts=!0,d.setLevel=e=>{d.level=Math.max(d.LEVEL_NONE,Math.min(e,d.LEVEL_LOG))},d.debug=c("log:message",d.LEVEL_DEBUG),d.info=c("log:message",d.LEVEL_INFO),d.warn=c("log:message",d.LEVEL_WARN),d.error=c("log:message",d.LEVEL_ERROR),d.group=c("log:group",d.LEVEL_GROUP,"Group"),d.groupCollapsed=c("log:groupCollapsed",d.LEVEL_GROUP,"Group"),d.groupEnd=()=>{d.level<d.LEVEL_GROUP_END||n.a.trigger("log:groupEnd",{type:"log:groupEnd",level:d.LEVEL_GROUP_END})},d.serialize=e=>{let t;switch(t=void 0===e?"[object Undefined]":null===e?"[object Null]":Object.prototype.toString.call(e),t){case"[object String]":return d.redacts?e.replace(r,"$1$2$3REDACTED$4"):e;case"[object Object]":case"[object Array]":try{const t=d.redacts?d._jsonReplacer:null;return JSON.stringify(e,t,2)}catch(e){return"Unable to serialize value"}case"[object Boolean]":case"[object Number]":case"[object Function]":case"[object RegExp]":return e.toString();case"[object Date]":return e.toUTCString();case"[object Undefined]":return"undefined";case"[object Null]":return"null";default:if(o.test(t)){const a=d._getMaxStackLength();let n=e.stacktrace||e.stack;return n&&n.length>a&&(n=n.substr(0,a-3)+"..."),d.serialize({type:t,stack:n,name:e.name,message:e.message})}return e.toString()}},d._jsonReplacer=(e,t)=>i[e]?"REDACTED":"[object String]"===Object.prototype.toString.call(t)?d.serialize(t):t,d._getMaxStackLength=()=>1e3,t.a=d},"0jcA":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("mvw6");function i(e,t){return e===n.a?"provider://"+t:`server://${e}/${t}`}},"0jfG":function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR");const r={ASCENDING:"asc",DESCENDING:"desc"},s=n.a.extend({name:"SortModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:i.a.boolean,direction:i.a.string},syncedAttrs:{key:i.a.string,descKey:i.a.string,title:i.a.string,isDefault:i.a.boolean,active:i.a.boolean,defaultDirection:i.a.string,activeDirection:i.a.string,firstCharacterKey:i.a.string},defaults:{selected:!1},augmentResponse:e=>(e.defaultDirection||(e.defaultDirection=e.default||r.ASCENDING),e.isDefault=!!e.default,e.direction||(e.direction=e.defaultDirection),e),reverseSortDirection(){let e=this.get("direction")||this.get("defaultDirection");e=e&&e!==r.ASCENDING?r.ASCENDING:r.DESCENDING,this.set("direction",e)}},{directions:r});t.a=s},"0nIg":function(e,t,a){e.exports={message:"MediaSubscriptionConflict-message-1ZbxOs",conflicts:"MediaSubscriptionConflict-conflicts-3hyQu1"}},"0pZA":function(e,t,a){"use strict";var n=a("fklS");const i=Object.assign({},n.a,{starSpeed:"0.3s",starPulseScale:1.35,starPulseSpeed:"0.15s",starPulseTimingFunction:"cubic-bezier(0.075, 0.82, 0.165, 1)",posterFlipSpeed:"0.8s",overlaySpeed:"0.3s",chartOpacitySpeed:"0.3s"});t.a=i},"0rei":function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("B69o"),s=a("jp3X"),o=a("CHn6"),l=a("mOXR"),c=a("nvND"),d=o.a.extend({name:"AgentAttributionModel",context:["server"],responseType:c.b,syncedAttrs:{content:l.a.string},url:function(){return"/system/agents/attribution?identifier="+this.parent.id},augmentResponse:function(e){return{content:e}}}),u=a("vb9Q");var p=o.a.extend({name:"LanguageModel",context:["server"],idAttribute:"code",rootPropertyName:"Language",syncedAttrs:{code:l.a.string,title:l.a.string,default:l.a.boolean},derivedAttrs:{name:function(){return this.get("title")||Object(u.a)(this.get("code"))}}}),m=r.a.extend({name:"LanguageCollection",context:["server"],model:p,comparator:"name"}),h=o.a.extend({name:"AgentModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Agent",sessionAttrs:{isPrimary:l.a.boolean,selected:l.a.boolean},sessionRelations:{attribution:{relationClass:d}},syncedAttrs:{identifier:l.a.string,name:l.a.string,enabled:l.a.boolean,hasPrefs:l.a.boolean,order:l.a.string},syncedRelations:{languages:{relationClass:m,rootPropertyName:"Language"}}}),g=r.a.extend({name:"AgentCollection",context:["server","mediaTypeID","primaryAgentID","relatedAgentID"],model:h,cache:new s.a,cacheKey:function(){var e=i.a.result(this,"url");return this.server&&this.server.getScopedKey(e)},url:function(){var e="/system/agents";return this.primaryAgentID?e+"/contributors?mediaType="+this.mediaTypeID+"&primaryAgent="+this.primaryAgentID:this.relatedAgentID?e+"/"+this.relatedAgentID+"/config/"+this.mediaTypeID:this.mediaTypeID?e+"?mediaType="+this.mediaTypeID:e},hasExclusiveAgent:function(e){return!!i.a.intersection(this.pluck("identifier"),e).length}});t.a=g},"0tvf":function(e,t,a){"use strict";var n,i,r,s,o,l,c,d;a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return c})),(i=n||(n={})).Pending="pending",i.Locked="locked",i.Unlocked="unlocked",(s=r||(r={})).Empty="",s.Unsubscribed="unsubscribed",s.Active="active",s.Error="error",s.Removed="removed",(l=o||(o={})).Active="active",l.Canceled="canceled",l.Ended="ended",l.Inactive="inactive",l.PendingCancellation="pending_cancellation",(d=c||(c={})).Arcade="arcade",d.PlexPass="plexpass",d.Tidal="tidal"},"0v4y":function(e,t,a){"use strict";var n=a("B69o"),i=a("1DJO");const r=n.a.extend({name:"MediaGrabberDeviceCollection",context:["server"],model:i.a,url:"/media/grabbers/devices"});t.a=r},"0vaO":function(e,t,a){e.exports={container:"AudioVideoInfoBar-container-2ewFys"}},"0vpL":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="";return s+=(0,this.escapeExpression)((r=a.file)||"function"==typeof(r=t&&t.file)?r.call(t,{hash:{},data:i}):r)+" "}))},"0yYQ":function(e,t,a){e.exports={card:"SpotlightHubCard-card-1AOdpG",hoveredCard:"SpotlightHubCard-hoveredCard-10pILW SpotlightHubCard-card-1AOdpG",link:"SpotlightHubCard-link-12D2UP",colorGradient:"SpotlightHubCard-colorGradient-15MdVv",image:"SpotlightHubCard-image-2I5NNC",attributionLogo:"SpotlightHubCard-attributionLogo-1DxMMZ",copyOverlay:"SpotlightHubCard-copyOverlay-2N3ohA",title:"SpotlightHubCard-title-OWpvwQ",summary:"SpotlightHubCard-summary-1YDpIt",action:"SpotlightHubCard-action-2Of1Cj"}},"1+Vt":function(e,t,a){"use strict";var n=a("+X4A"),i=a("CHn6"),r=a("mOXR"),s=a("nvND"),o=a("Q3JP"),l=a("Pizw"),c=a("B69o"),d=a("tibn"),u=a("NBPW");var p=i.a.extend({name:"SearchResultAdditionalSourceModel",sessionAttrs:{serverEntityID:r.a.string,providerEntityID:r.a.string,metadataItemEntityID:r.a.string,tagItem:r.a.object}});var m=c.a.extend({name:"SearchResultAdditionalSourceCollection",model:p}),h=a("WfN5"),g=a("7za+");var y=i.a.extend({name:"SearchResultModel",context:["server","provider","metricsContext"],entityType:g.m,entityID(e=this.state){return Object(h.a)(this.entityType,e.key,this.provider&&this.provider.entityID(),this.server.entityID())},responseType(){return Object(o.a)(this.server)},idAttribute:"key",sessionRelations:{additionalSources:{relationClass:m}},syncedAttrs:{key:r.a.string,reasonID:r.a.integer,reason:r.a.string,reasonTitle:r.a.string},syncedRelations:{metadataItem:{relationClass:d.a,deferred:!0},tagItem:{relationClass:u.a,deferred:!0}},augmentResponse(e){const{key:t,reason:a,reasonTitle:n,reasonID:i,...r}=e;return{key:t,reason:a,reasonTitle:n,reasonID:i,[r.tag?"tagItem":"metadataItem"]:{key:t,...r}}}});var f=c.a.extend({name:"SearchResultCollection",context:["server","provider","metricsContext"],model:y,responseType(){return Object(o.a)(this.server)}});var b=i.a.extend({name:"SearchHubModel",context:["server","provider"],responseType(){return Object(o.a)(this.server)},idAttribute:"hubIdentifier",syncedAttrs:{hubIdentifier:r.a.string,size:r.a.integer,type:r.a.string,subtype:r.a.string,title:r.a.string,context:r.a.string},syncedRelations:{metadataResults:{relationClass:f,rootPropertyName:"Metadata",options:e=>({metricsContext:e.context})},tagResults:{relationClass:f,rootPropertyName:"Directory",options:e=>({metricsContext:e.context})}}});var v=c.a.extend({name:"SearchHubCollection",context:["server","provider"],model:b,responseType(){return Object(o.a)(this.server)}});const I=i.a.extend({name:"SearchModel",context:["server","provider","isContextual","includeCollections","includeExternalMedia"],responseType(){return Object(o.a)(this.server)},url(){const e={};return this.includeCollections&&(e.includeCollections=1),this.includeExternalMedia&&(e.includeExternalMedia=1),this.isContextual&&(e.contextual=1),this.get("contentDirectoryID")&&(e.contentDirectoryID=this.get("contentDirectoryID")),n.default.join(this.get("key"),e)},idAttribute:"providerEntityID",sessionAttrs:{providerEntityID:r.a.string,serverEntityID:r.a.string,key:r.a.string,contentDirectoryID:r.a.string,searchTitle:r.a.string,isSearchPending:r.a.boolean,isSearchPopulated:r.a.boolean,searchError:r.a.object},syncedRelations:{hubs:{relationClass:v,rootPropertyName:"Hub"}},defaults:{isSearchPending:!0,isSearchPopulated:!1,contentDirectoryID:""},augmentResponseText:(e,t)=>t===s.c?Object(l.b)(e):e,augmentResponse(e){if(!e.Hub)return e;const t=Array.isArray(e.Hub)?e.Hub:[e.Hub];return e.Hub=t.filter(e=>parseInt(e.size,10)>0),e}});t.a=I},"17s9":function(e,t,a){e.exports={photoContainer:"MetadataPhotoCell-photoContainer-1HkmQE",photo:"MetadataPhotoCell-photo-Po3Kxh",image:"MetadataPhotoCell-image-3KqaFc",badge:"MetadataPhotoCell-badge-2L0KJM",title:"MetadataPhotoCell-title-OzhEqa"}},"19qv":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("VzhI"),s=a("wCAT"),o=a("cgRT"),l=a("YINS"),c=a("iZkF"),d=a("IIsI"),u=a("/MKj"),p=a("G4qV"),m=a("+X4A"),h=a("5NB4"),g=a("Zl7H"),y=a("zTsO"),f=a("l9jO"),b=a("TSYQ"),v=a.n(b),I=a("oSTF"),S=a("2pL0"),E=a("9wnK"),O=a("8vbc"),M=a("Zgl5"),C=a("qNMu"),j=a("0jae"),D=a("66GW"),P=a("Na6n"),T=a("9ZQ6"),w=a("wmCi"),N=a("MUGT"),x=a.n(N);var A=function({img:e,title:t,description:a}){return i.a.createElement("div",{className:x.a.feature},i.a.createElement("div",{className:x.a.featurePadding},i.a.createElement("img",{className:x.a.featureImage,src:e}),i.a.createElement("div",{className:x.a.featureContainer},i.a.createElement("div",{className:x.a.featureTitle},t),i.a.createElement("div",{className:x.a.featureDescription},a))))},L=a("wOT7"),k=a.n(L);var R=function(e){const{metricsProperties:t,subscribeUrl:a,infoUrl:s,plans:o,isPlansPending:c,isPlansPopulated:d,plansError:u,origin:p,allowMarketingModalContent:h,onModalClose:g}=e,[y,f]=Object(n.useState)(),[b,N]=Object(n.useState)(!1),x=Object(n.useCallback)(e=>{try{if(!e.origin.endsWith(".plex.tv"))return;const t=JSON.parse(e.data);t.frameHeight&&f(t.frameHeight)}catch(e){j.a.warn(e.message)}},[]);return Object(n.useEffect)(()=>(window.addEventListener("message",x),()=>{window.removeEventListener("message",x)}),[x]),Object(n.useEffect)(()=>{let e;return h&&null==y&&(e=window.setTimeout(()=>{N(!0)},1e3)),()=>{e&&window.clearTimeout(e)}},[h,y]),h&&!b?i.a.createElement(w.a,{style:{visibility:null==y?"hidden":"visible"},onModalClose:g},i.a.createElement("iframe",{className:k.a.marketingFrame,src:"https://assets.plex.tv/marketing/in-app/pp-interstitial/index.html?utm_content="+p,style:{minHeight:y}})):i.a.createElement(w.a,{onModalClose:g},i.a.createElement(M.a,{className:k.a.header},i.a.createElement("div",{className:k.a.plexPassTitle},Object(D.default)("Plex Pass")),Object(D.default)("Enhance your Plex experience with exclusive premium features")),i.a.createElement(E.a,{innerClassName:k.a.body},i.a.createElement(A,{img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMCA0KSI+CiAgICA8cGF0aCBkPSJNMTUuOTUxLDE2LjQ0NCBDMTUuODUsMTYuMTkzIDE1LjYwOCwxNi4wMjkgMTUuMzM5LDE2LjAyOCBMMTIuNjY3LDE2LjAwNSBMMTIuNjY3LDEwIEMxMi42NjcsOS42MzIgMTIuMzY4LDkuMzMzIDEyLDkuMzMzIEw4LDkuMzMzIEM3LjYzMiw5LjMzMyA3LjMzMyw5LjYzMiA3LjMzMywxMCBMNy4zMzMsMTYgTDQuNjEsMTYgQzQuMzQxLDE2IDQuMDk3LDE2LjE2MyAzLjk5NCwxNi40MTIgQzMuODksMTYuNjYxIDMuOTQ3LDE2Ljk0OCA0LjEzOCwxNy4xMzkgTDkuNDcxLDIyLjQ3MiBDOS42MDIsMjIuNjAxIDkuNzcyLDIyLjY2NyA5Ljk0MywyMi42NjcgQzEwLjExMSwyMi42NjcgMTAuMjgsMjIuNjAzIDEwLjQxMSwyMi40NzUgTDE1LjgsMTcuMTcgQzE1Ljk5MiwxNi45ODEgMTYuMDUyLDE2LjY5NSAxNS45NDksMTYuNDQ1IEwxNS45NTEsMTYuNDQ0IFogTTkuOTQ4LDIxLjA2MSBMNi4yMiwxNy4zMzMgTDgsMTcuMzMzIEM4LjM2OCwxNy4zMzMgOC42NjcsMTcuMDM0IDguNjY3LDE2LjY2NiBMOC42NjcsMTAuNjY2IEwxMS4zMzQsMTAuNjY2IEwxMS4zMzQsMTYuNjY2IEMxMS4zMzQsMTcuMDMxIDExLjYyOSwxNy4zMyAxMS45OTUsMTcuMzMzIEwxMy43MTksMTcuMzQ4IEw5Ljk0OCwyMS4wNjEgWiIvPgogICAgPHBhdGggZD0iTTE2LDcuODg4NjA5MDVlLTMxIEw0LDcuODg4NjA5MDVlLTMxIEMyLjE2Myw3Ljg4ODYwOTA1ZS0zMSAwLjY2NywxLjQ5NSAwLjY2NywzLjMzMyBMMC42NjcsMjguNjY2IEMwLjY2NywzMC41MDUgMi4xNjMsMzEuOTk5IDQsMzEuOTk5IEwxNiwzMS45OTkgQzE3LjgzNywzMS45OTkgMTkuMzMzLDMwLjUwNCAxOS4zMzMsMjguNjY2IEwxOS4zMzMsMy4zMzMgQzE5LjMzMywxLjQ5NCAxNy44MzcsLTEuNzc2MzU2ODRlLTE1IDE2LDcuODg4NjA5MDVlLTMxIFogTTIsNi42NjcgTDE4LDYuNjY3IEwxOCwyNS4zMzQgTDIsMjUuMzM0IEwyLDYuNjY3IFogTTQsMS4zMzMgTDE2LDEuMzMzIEMxNy4xMDMsMS4zMzMgMTgsMi4yMyAxOCwzLjMzMyBMMTgsNS4zMzMgTDIsNS4zMzMgTDIsMy4zMzMgQzIsMi4yMyAyLjg5NywxLjMzMyA0LDEuMzMzIFogTTE2LDMwLjY2NyBMNCwzMC42NjcgQzIuODk3LDMwLjY2NyAyLDI5Ljc3IDIsMjguNjY3IEwyLDI2LjY2NyBMMTgsMjYuNjY3IEwxOCwyOC42NjcgQzE4LDI5Ljc3IDE3LjEwMywzMC42NjcgMTYsMzAuNjY3IFoiLz4KICAgIDxwYXRoIGQ9Ik02LjY2NyA0TDEzLjMzNCA0QzEzLjcwMiA0IDE0LjAwMSAzLjcwMSAxNC4wMDEgMy4zMzMgMTQuMDAxIDIuOTY1IDEzLjcwMiAyLjY2NiAxMy4zMzQgMi42NjZMNi42NjcgMi42NjZDNi4yOTkgMi42NjYgNiAyLjk2NSA2IDMuMzMzIDYgMy43MDEgNi4yOTkgNCA2LjY2NyA0ek0xMS4zMzMgMjguNjY3QzExLjMzMyAyOS40MDMgMTAuNzM2IDMwIDEwIDMwIDkuMjY0IDMwIDguNjY3IDI5LjQwMyA4LjY2NyAyOC42NjcgOC42NjcgMjcuOTMxIDkuMjY0IDI3LjMzNCAxMCAyNy4zMzQgMTAuNzM2IDI3LjMzNCAxMS4zMzMgMjcuOTMxIDExLjMzMyAyOC42Njd6Ii8+CiAgPC9nPgo8L3N2Zz4K",title:Object(D.default)("Downloads"),description:Object(D.default)("Enjoy your media offline on Android and iOS devices")}),i.a.createElement(A,{img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDQpIj4KICAgIDxwYXRoIGQ9Ik0yNSwxNiBDMjAuNTg4LDE2IDE3LDE5LjU4OCAxNywyNCBDMTcsMjguNDEyIDIwLjU4OCwzMiAyNSwzMiBDMjkuNDEyLDMyIDMzLDI4LjQxMiAzMywyNCBDMzMsMTkuNTg4IDI5LjQxMiwxNiAyNSwxNiBaIE0yNSwzMC42NjcgQzIxLjMyNCwzMC42NjcgMTguMzMzLDI3LjY3NiAxOC4zMzMsMjQgQzE4LjMzMywyMC4zMjQgMjEuMzI0LDE3LjMzMyAyNSwxNy4zMzMgQzI4LjY3NiwxNy4zMzMgMzEuNjY3LDIwLjMyNCAzMS42NjcsMjQgQzMxLjY2NywyNy42NzYgMjguNjc2LDMwLjY2NyAyNSwzMC42NjcgWiIvPgogICAgPHBhdGggZD0iTTI1LDIwIEMyMi43OTUsMjAgMjEsMjEuNzk1IDIxLDI0IEMyMSwyNi4yMDUgMjIuNzk1LDI4IDI1LDI4IEMyNy4yMDUsMjggMjksMjYuMjA1IDI5LDI0IEMyOSwyMS43OTUgMjcuMjA1LDIwIDI1LDIwIFogTTI1LDI2LjY2NyBDMjMuNTI5LDI2LjY2NyAyMi4zMzMsMjUuNDcxIDIyLjMzMywyNCBDMjIuMzMzLDIyLjUyOSAyMy41MjksMjEuMzMzIDI1LDIxLjMzMyBDMjYuNDcxLDIxLjMzMyAyNy42NjcsMjIuNTI5IDI3LjY2NywyNCBDMjcuNjY3LDI1LjQ3MSAyNi40NzEsMjYuNjY3IDI1LDI2LjY2NyBaIi8+CiAgICA8cGF0aCBkPSJNMzIuMzMzIDkuMzMzTDEuNjY2IDkuMzMzQzEuMjk4IDkuMzMzLjk5OSA5LjYzMi45OTkgMTBMLjk5OSAyNi44MDFDLjk5OSAyOC4xOTcgMi4xNTggMjkuMzMzIDMuNTgzIDI5LjMzM0wxNC4zMzIgMjkuMzMzIDE0LjMzMiAyOCAzLjU4MyAyOEMyLjg5MiAyOCAyLjMzMiAyNy40NjMgMi4zMzIgMjYuODAxTDIuMzMyIDEwLjY2NiAzMS42NjUgMTAuNjY2IDMxLjY2NSAxNS45OTMgMzIuOTk4IDE1Ljk5MyAzMi45OTggMTBDMzIuOTk4IDkuNjMyIDMyLjY5OSA5LjMzMyAzMi4zMzEgOS4zMzNMMzIuMzMzIDkuMzMzek0zMSAwTDMgMEMxLjg5NyAwIDEgLjg5NyAxIDIuMDAxTDEgNy4zMzNDMSA3LjcwMSAxLjI5OSA4IDEuNjY3IDhMMzIuMzM0IDhDMzIuNzAyIDggMzMuMDAxIDcuNzAxIDMzLjAwMSA3LjMzM0wzMy4wMDEgMi4wMDFDMzMuMDAxLjg5NyAzMi4xMDQgNC40NDA4OTIxZS0xNiAzMS4wMDEgNC40NDA4OTIxZS0xNkwzMSAwek0zMS42MiAxLjc3MkwyNi43MjUgNi42NjcgMjMuMjc3IDYuNjY3IDI4LjYxIDEuMzM0IDMwLjk5OSAxLjMzNEMzMS4yODYgMS4zMzQgMzEuNTI2IDEuNTE4IDMxLjYxOSAxLjc3M0wzMS42MiAxLjc3MnpNMTIuNjExIDEuMzMzTDE2LjA1OSAxLjMzMyAxMC43MjYgNi42NjYgNy4yNzggNi42NjYgMTIuNjExIDEuMzMzek01LjM5MiA2LjY2N0wyLjYxMSA2LjY2NyA3Ljk0NCAxLjMzNCAxMC43MjUgMS4zMzQgNS4zOTIgNi42Njd6TTE3Ljk0NCAxLjMzM0wyMS4zOTIgMS4zMzMgMTYuMDU5IDYuNjY2IDEyLjYxMSA2LjY2NiAxNy45NDQgMS4zMzN6TTIzLjI3NyAxLjMzM0wyNi43MjUgMS4zMzMgMjEuMzkyIDYuNjY2IDE3Ljk0NCA2LjY2NiAyMy4yNzcgMS4zMzN6TTMgMS4zMzNMNi4wNTkgMS4zMzMgMi4zMzQgNS4wNTggMi4zMzQgMi4wMDFDMi4zMzQgMS42MzMgMi42MzMgMS4zMzMgMy4wMDEgMS4zMzNMMyAxLjMzM3pNMjguNjExIDYuNjY3TDMxLjY2NyAzLjYxMSAzMS42NjcgNi42NjcgMjguNjExIDYuNjY3eiIvPgogIDwvZz4KPC9zdmc+Cg==",title:Object(D.default)("Live TV & DVR"),description:Object(D.default)("Connect a tuner and antenna to record free OTA broadcasts")}),i.a.createElement(A,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTM1LjMzMyAyNi42NjdoLS42NjdWMjZhNC42NzIgNC42NzIgMCAwIDAtNC42NjctNC42NjdBNC42NzIgNC42NzIgMCAwIDAgMjUuMzMyIDI2di42NjdoLS42NjdhLjY2Ny42NjcgMCAwIDAtLjY2Ny42Njd2OGMwIC4zNjguMjk5LjY2Ny42NjcuNjY3aDEwLjY2N2EuNjY3LjY2NyAwIDAgMCAuNjY3LS42Njd2LThhLjY2Ny42NjcgMCAwIDAtLjY2Ny0uNjY3aC4wMDF6TTI2LjY2NyAyNkEzLjMzOCAzLjMzOCAwIDAgMSAzMCAyMi42NjcgMy4zMzggMy4zMzggMCAwIDEgMzMuMzMzIDI2di42NjdoLTYuNjY3VjI2aC4wMDF6bTggOC42NjdoLTkuMzMzVjI4aDkuMzMzdjYuNjY3ek0zMCAyOS4zMzNoLjAwMmMuNzM0IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzIDAgLjQ4Ny0uMjc2Ljg5Ni0uNjY3IDEuMTI4di44NzJhLjY2Ny42NjcgMCAwIDEtMS4zMzQgMHYtLjg3MmMtLjM5MS0uMjMyLS42NjctLjY0MS0uNjY3LTEuMTI4IDAtLjczNC41OTgtMS4zMzMgMS4zMzMtMS4zMzN6bS01LjM0OS0xNi42NjZoLjAwMmMwIDMuMDI4LTEuMzIxIDUuNjkzLTMuMzE3IDcuMjQ0djMuNDIzaC0xLjMzM3YtMi42MDlhNi4zMjMgNi4zMjMgMCAwIDEtMi42ODMuNjA5IDYuMzE3IDYuMzE3IDAgMCAxLTIuNjUxLS41OTV2Mi41OTVhLjY2OS42NjkgMCAwIDEtLjQ0My42MjhsLTYuNjggMi4zODVhMy4zNCAzLjM0IDAgMCAwLTIuMjExIDMuMTM5djIuNTE1aDE1LjMzM3YxLjMzM2gtMTZhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di0zLjE4MWE0LjY3NiA0LjY3NiAwIDAgMSAzLjA5Ni00LjM5NWw2LjIzNy0yLjIyOHYtMi45MzFjLTIuMDEzLTEuNTQ2LTMuMzQ5LTQuMjIyLTMuMzQ5LTcuMjY1QzkuOTg1IDcuODg4IDEzLjI3NCA0IDE3LjMxOCA0YzQuMDQ0IDAgNy4zMzMgMy44ODggNy4zMzMgOC42Njd6bS03LjMzNC03LjMzNGwtLjAwMS4wMDFjLTIuODM1IDAtNS4yMSAyLjQxNi01LjgzNSA1LjY1MWE0LjY4IDQuNjggMCAwIDAgMS44MzUuMzQ5YzEuNzQ1IDAgMy44MTUtMS4wMzUgNC40MjgtMi4yMTVhLjY2NS42NjUgMCAwIDEgLjU3OS0uMzU5LjYyNS42MjUgMCAwIDEgLjU5Mi4zMzZjMS4xMzkgMS45OTIgMi4zMzggMi42MjQgNC4yNzUgMi4yNDlsLjAyNC0uMDAxYy0uNTEyLTMuNDE0LTIuOTU4LTYuMDExLTUuODk3LTYuMDExem0tNiA3LjMzNGMwIDQuMDQ0IDIuNjkyIDcuMzMzIDYgNy4zMzNzNi0zLjI4OSA2LTcuMzMyYTYuNTA0IDYuNTA0IDAgMCAxLTEuMTEzLjExM2MtMS41OTIgMC0yLjg0NC0uNzAyLTMuOTA3LTIuMTgxLTEuMTM5IDEuMTk2LTMuMTQ3IDIuMDY3LTQuOTggMi4wNjctLjcxNCAwLTEuMzYtLjExLTEuOTg3LS4zMjEtLjAwNC4xMDgtLjAxMy4yMTMtLjAxMy4zMjF6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg==",title:Object(D.default)("Parental Controls"),description:Object(D.default)("Set up managed user accounts to create custom access restrictions")}),i.a.createElement(A,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNDk3IDcuNDM4YS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi4wNjMgMTguNTZ2LS4wMDFhLjY4OC42ODggMCAxIDEgMCAxLjM3NUg3LjQzOEEzLjQ0IDMuNDQgMCAwIDEgNCAyMy45MzZ2LTE2LjVBMy40NCAzLjQ0IDAgMCAxIDcuNDM3IDRoMjEuOTk4YTMuNDQgMy40NCAwIDAgMSAzLjQzNyAzLjQzN3YxMWEuNjg4LjY4OCAwIDEgMS0xLjM3NiAwdi03LjU2Mkg1LjM3NHYxMy4wNjJjMCAxLjEzNy45MjQgMi4wNjIgMi4wNjIgMi4wNjJoOS42MjR6TTcuNDM1IDUuMzc3YTIuMDY0IDIuMDY0IDAgMCAwLTIuMDYzIDIuMDYyVjkuNWgyNi4xMjNWNy40MzhhMi4wNjQgMi4wNjQgMCAwIDAtMi4wNjItMi4wNjJINy40MzV6TTM2LjY1NCAzMC4xNWwuMDAyLS4wMDJhLjY4NS42ODUgMCAwIDEgLjI1Mi45MzhsLTIuMDYyIDMuNTcyYS42NzcuNjc3IDAgMCAxLS40MTcuMzIuNzAxLjcwMSAwIDAgMS0uNTIzLS4wN2wtMS4wOTItLjYzMmMtLjQxLjMtLjg1Mi41NTQtMS4zMTcuNzZ2MS4yNzRjMCAuMzgtLjMwOC42ODctLjY4OC42ODdoLTQuMTI0YS42ODguNjg4IDAgMCAxLS42ODgtLjY4N3YtMS4yNjhhNy4zMTEgNy4zMTEgMCAwIDEtMS4zMzctLjc2MmwtMS4xMDguNjM1YS42OS42OSAwIDAgMS0uOTM3LS4yNTJsLTIuMDYzLTMuNTcyYS42ODguNjg4IDAgMCAxIC4yNTItLjk0bDEuMDk0LS42MzRhNi4zMjggNi4zMjggMCAwIDEgLjAwMS0xLjUzNWwtMS4wOTQtLjYzMmEuNjg3LjY4NyAwIDAgMS0uMjUtLjk0bDIuMDYzLTMuNTcyYS42OS42OSAwIDAgMSAuOTM3LS4yNTJsMS4xMDUuNjM1Yy40MTgtLjMuODY2LS41NTUgMS4zMzYtLjc2MnYtMS4yNzRjMC0uMzguMzA4LS42ODcuNjg4LS42ODdoNC4xMjRjLjM4IDAgLjY4OC4zMDguNjg4LjY4N3YxLjI3NGMuNDY0LjIwNi45MDUuNDYgMS4zMTYuNzU5bDEuMDg5LS42MzJhLjY3OS42NzkgMCAwIDEgLjUyMy0uMDcuNjkuNjkgMCAwIDEgLjQxNy4zMmwyLjA2MyAzLjU3MmMuMTkuMzMuMDc3Ljc1LS4yNTIuOTRsLTEuMDk2LjYzNGMuMDU5LjUxLjA2IDEuMDI0IDAgMS41MzRsMS4wOTguNjM0em0tMi42NTYgMy4yMjZsMS4zNzMtMi4zNzktLjkwNy0uNTI0YS42ODcuNjg3IDAgMCAxLS4zMzEtLjcyYy4wNjItLjMzNi4wOTQtLjY3My4wOTQtMS4wMDNhNS41IDUuNSAwIDAgMC0uMDk1LTEuMDAyLjY4NS42ODUgMCAwIDEgLjMzLS43MjFsLjkwNy0uNTI0LTEuMzc0LTIuMzgtLjg5NS41MjFhLjY5LjY5IDAgMCAxLS43OTItLjA3MyA1Ljg0NyA1Ljg0NyAwIDAgMC0xLjc0LTEuMDA0LjY4Ny42ODcgMCAwIDEtLjQ0Ni0uNjQ0di0xLjA0OGgtMi43NXYxLjA0OGEuNjk2LjY5NiAwIDAgMS0uNDQ3LjY0OGMtLjY2Ni4yNDctMS4yOS42MDMtMS43NTYgMS4wMDNhLjY4Ny42ODcgMCAwIDEtLjc4OS4wNzRsLS45MTItLjUyNS0xLjM3NyAyLjM4My45MDQuNTI0Yy4yNS4xNDYuMzgzLjQzMy4zMzEuNzE5YTUuNDUyIDUuNDUyIDAgMCAwLS4wOTggMS4wMDJjMCAuMzM2LjAzMy42NzIuMDk2IDEuMDAyYS42ODcuNjg3IDAgMCAxLS4zMzMuNzJsLS45MDQuNTIzIDEuMzc2IDIuMzgzLjkxNi0uNTI1YS42ODYuNjg2IDAgMCAxIC43ODkuMDc1Yy40NjYuNCAxLjA5Ljc1NSAxLjc1NCAxLjAwMy4yNy4xLjQ0OS4zNTcuNDQ4LjY0NHYxLjA0OGgyLjc1di0xLjA0OGMwLS4yODcuMTgtLjU0NC40NS0uNjQ0YTUuNzQ0IDUuNzQ0IDAgMCAwIDEuNzM3LTEuMDA0LjY5LjY5IDAgMCAxIC43OTItLjA3M2wuODk5LjUyem0tNS4yNzItOC4wNjRhMy40NCAzLjQ0IDAgMCAxIDMuNDM3IDMuNDM3IDMuNDQgMy40NCAwIDAgMS0zLjQzNyAzLjQzNyAzLjQ0IDMuNDQgMCAwIDEtMy40MzctMy40MzcgMy40NCAzLjQ0IDAgMCAxIDMuNDM3LTMuNDM3em0wIDUuNWEyLjA2NCAyLjA2NCAwIDAgMCAyLjA2My0yLjA2MyAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2My0yLjA2MiAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2MiAyLjA2MmMwIDEuMTM3LjkyNSAyLjA2MiAyLjA2MiAyLjA2MnoiIGZpbGw9IiNDQzdCMTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPgo8L3N2Zz4K",title:Object(D.default)("Webhooks"),description:Object(D.default)("Connect your media server to your home automation system")}),i.a.createElement(A,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTEyLjcwOCAxNC42NjdhNS4zNCA1LjM0IDAgMCAxLTUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzIDUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxLTUuMzMzIDUuMzMzem0wLTkuMzM0Yy0yLjIwNSAwLTQgMS43OTUtNCA0czEuNzk1IDQgNCA0IDQtMS43OTUgNC00LTEuNzk1LTQtNC00ek0yMC4wNDEgMTZjLjM3IDAgLjY2Ny4yOTkuNjY3LjY2NyAwIDQuNzM3LTEuNjk1IDguNDkyLTQuNjY3IDEwLjM3N3Y4LjI4OWEuNjY3LjY2NyAwIDAgMS0uNjY3LjY2N2gtNS4zMzNhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di04LjI4OWMtMi45NzItMS44ODQtNC42NjctNS42MzgtNC42NjctMTAuMzc3IDAtLjM2OC4yOTktLjY2Ny42NjctLjY2N2gxNC42Njd6bS03LjI4IDEuMzMzaC0uMTA4bC0uNTg5IDcuMDgxLjY0My42NDMuNjQzLS42NDMtLjU4OS03LjA4MXptMi4yODQgOC43NTRsLS4wMDEtLjAwMWMyLjYxMi0xLjQ4NSA0LjE2Ni00LjY1NCA0LjMxNy04Ljc1M2gtNS4yNjRsLjYwOCA3LjI3OWEuNjY4LjY2OCAwIDAgMS0uMTkzLjUyN2wtMS4zMzMgMS4zMzNhLjY2OS42NjkgMCAwIDEtLjQ3Mi4xOTUuNjU0LjY1NCAwIDAgMS0uNDY5LS4xOTZsLTEuMzMzLTEuMzMzYS42Ny42NyAwIDAgMS0uMTkzLS41MjdsLjYwNy03LjI3N0g2LjA1NWMuMTUxIDQuMSAxLjcwNSA3LjI2OCA0LjMxNiA4Ljc1My4yMDguMTE5LjMzNy4zNC4zMzcuNTh2OGg0di04YzAtLjI0LjEyOS0uNDYxLjMzNy0uNTh6TTM1LjMzMyA1LjMzM2MuMzY4IDAgLjY2Ny4yOTkuNjY3LjY2N3YxOC42NjdhLjY2Ny42NjcgMCAwIDEtLjY2Ny42NjdIMjIuNjY2YS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTJWNi42NjdIMjEuMzMzYS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTR6TTIzLjAxNyAyMC41NDF2LS4wMDJhLjY2Ni42NjYgMCAwIDEtLjM5Mi0uODU2bDIuNS02LjcxN2EuNjcuNjcgMCAwIDEgLjM4NS0uMzkyLjY4LjY4IDAgMCAxIC41NDguMDMxbDMuMzg5IDEuNzcyIDEuNzUyLTUuMjU3YS42NjYuNjY2IDAgMSAxIDEuMjY0LjQyM2wtMiA2YS42Ny42NyAwIDAgMS0uMzgzLjQwOC42NzQuNjc0IDAgMCAxLS41NTctLjAyOGwtMy40MTMtMS43ODUtMi4yMzYgNi4wMTFhLjY2OS42NjkgMCAwIDEtLjg1Ny4zOTJ6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg==",title:Object(D.default)("Server Dashboard"),description:Object(D.default)("See the play history, bandwidth, and top users on your media server")}),i.a.createElement(A,{img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0IDQpIj4KICAgIDxwYXRoIGQ9Ik0xMi41MzIgMTUuMjcyQzExLjIzMiAxNi41NzIgMTEuMjMyIDE4LjY4OCAxMi41MzIgMTkuOTg3IDEzLjE2MyAyMC42MTYgMTMuOTk5IDIwLjk2MiAxNC44ODkgMjAuOTYyIDE1Ljc3OSAyMC45NjIgMTYuNjE2IDIwLjYxNSAxNy4yNDYgMTkuOTg3IDE4LjU0NiAxOC42ODcgMTguNTQ2IDE2LjU3MSAxNy4yNDYgMTUuMjcyIDE1Ljk4NSAxNC4wMTUgMTMuNzkzIDE0LjAxNSAxMi41MzEgMTUuMjcyTDEyLjUzMiAxNS4yNzJ6TTE2LjMwNCAxOS4wNDRDMTUuNTQ5IDE5Ljc5OSAxNC4yMzEgMTkuNzk5IDEzLjQ3NiAxOS4wNDQgMTIuNjk2IDE4LjI2NCAxMi42OTYgMTYuOTk1IDEzLjQ3NiAxNi4yMTUgMTMuODUzIDE1LjgzOCAxNC4zNTYgMTUuNjMxIDE0Ljg5MSAxNS42MzEgMTUuNDI2IDE1LjYzMSAxNS45MjcgMTUuODM4IDE2LjMwNiAxNi4yMTUgMTcuMDgzIDE2Ljk5NSAxNy4wODMgMTguMjY0IDE2LjMwNSAxOS4wNDRMMTYuMzA0IDE5LjA0NHpNNS45MzIgMjIuODE1QzUuNjcyIDIyLjU1NSA1LjI0OSAyMi41NTUgNC45ODkgMjIuODE1IDQuNzI5IDIzLjA3NSA0LjcyOSAyMy40OTggNC45ODkgMjMuNzU4TDguNzYgMjcuNTI5QzguODkxIDI3LjY2IDkuMDYxIDI3LjcyNCA5LjIzMiAyNy43MjQgOS40MDMgMjcuNzI0IDkuNTczIDI3LjY1OSA5LjcwNCAyNy41MjkgOS45NjQgMjcuMjY5IDkuOTY0IDI2Ljg0NiA5LjcwNCAyNi41ODZMNS45MzIgMjIuODE1eiIvPgogICAgPHBhdGggZD0iTTMxLjQ2MSw1LjMzMyBMMzIuMzIyLDQuNDcyIEMzMi41ODIsNC4yMTIgMzIuNTgyLDMuNzg5IDMyLjMyMiwzLjUyOSBMMjguOTg5LDAuMTk2IEMyOC43MjksLTAuMDY0IDI4LjMwNiwtMC4wNjQgMjguMDQ2LDAuMTk2IEwyNy4xODUsMS4wNTcgTDI2LjMyNCwwLjE5NiBDMjYuMDY0LC0wLjA2NCAyNS42NDEsLTAuMDY0IDI1LjM4MSwwLjE5NiBDMjUuMTIxLDAuNDU2IDI1LjEyMSwwLjg3OSAyNS4zODEsMS4xMzkgTDI2LjI0MiwyIEwyNS4xODUsMy4wNTcgTDI0LjMyNCwyLjE5NiBDMjQuMDY0LDEuOTM2IDIzLjY0MSwxLjkzNiAyMy4zODEsMi4xOTYgQzIzLjEyMSwyLjQ1NiAyMy4xMjEsMi44NzkgMjMuMzgxLDMuMTM5IEwyNC4yNDIsNCBMMjIuNzE0LDUuNTI4IEMyMi40NTQsNS43ODggMjIuNDU0LDYuMjExIDIyLjcxNCw2LjQ3MSBMMjIuOTA5LDYuNjY3IEwxOC40MjgsMTEuMTQ4IEMxNy4zMDQsMTAuNDc1IDE2LjA4OCwxMC4xMjEgMTQuODgsMTAuMTIxIEMxMi4xMDUsMTAuMTIxIDkuOTAzLDExLjkxMiA5LjMwNywxNC41NTQgQzUuNjk0LDE0LjAxIDIuODAyLDE1LjQ5MyAxLjU3NiwxOC40NDkgQzAuMjUzLDIxLjY0MiAxLjI0NywyNS42NjkgNC4wNDgsMjguNDcgQzUuOTg1LDMwLjQwNyA4LjU0LDMxLjUxOCAxMS4wNTcsMzEuNTE4IEMxMy4zMjUsMzEuNTE4IDE1LjM1NCwzMC42MTcgMTYuNjI1LDI5LjA0NiBDMTcuNSwyNy45NjMgMTguNDAyLDI2LjA5NSAxNy45NjIsMjMuMjA5IEMxOS43MTgsMjIuODA4IDIxLjE1NSwyMS42NjggMjEuODgzLDIwLjA2NCBDMjIuNzIsMTguMjE5IDIyLjUyMywxNi4wMjMgMjEuMzcsMTQuMDkyIEwyNS44NTEsOS42MTEgTDI2LjA0Niw5LjgwNiBDMjYuMzA2LDEwLjA2NiAyNi43MjksMTAuMDY2IDI2Ljk4OSw5LjgwNiBMMjguNTE3LDguMjc4IEwyOS4zNzgsOS4xMzkgQzI5LjUxLDkuMjY4IDI5LjY4MSw5LjMzNCAyOS44NTEsOS4zMzQgQzMwLjAyMSw5LjMzNCAzMC4xOTIsOS4yNjkgMzAuMzIzLDkuMTM5IEMzMC41ODMsOC44NzkgMzAuNTgzLDguNDU2IDMwLjMyMyw4LjE5NiBMMjkuNDYsNy4zMzMgTDMwLjUxNyw2LjI3NiBMMzEuMzc4LDcuMTM3IEMzMS41MDksNy4yNjggMzEuNjc5LDcuMzMzIDMxLjg1LDcuMzMzIEMzMi4wMjEsNy4zMzMgMzIuMTkxLDcuMjY4IDMyLjMyMiw3LjEzOCBDMzIuNTgyLDYuODc4IDMyLjU4Miw2LjQ1NSAzMi4zMjIsNi4xOTUgTDMxLjQ1OSw1LjMzMiBMMzEuNDYxLDUuMzMzIFogTTI2LjUxOSw4LjM5MSBMMjYuMzI0LDguMTk2IEMyNi4wNjQsNy45MzYgMjUuNjQxLDcuOTM2IDI1LjM4MSw4LjE5NiBMMjAuMDQ4LDEzLjUyOSBDMTkuODIsMTMuNzU3IDE5Ljc4OCwxNC4xMTYgMTkuOTcyLDE0LjM4MSBDMjEuMTE5LDE2LjAyOSAyMS4zOCwxNy45NDkgMjAuNjY5LDE5LjUxNCBDMjAuMDMzLDIwLjkxNyAxOC43MzYsMjEuODIzIDE3LjExLDIyLjAwNSBDMTYuOTIzLDIyLjAyNiAxNi43NTMsMjIuMTI1IDE2LjY0MywyMi4yNzggQzE2LjUzMiwyMi40MyAxNi40OTIsMjIuNjIzIDE2LjUzMiwyMi44MDYgQzE3LjAwMSwyNC45OTQgMTYuNjczLDI2Ljg2MiAxNS41ODcsMjguMjA5IEMxNC41NzEsMjkuNDY2IDEyLjkyLDMwLjE4NiAxMS4wNTYsMzAuMTg2IEM4Ljg4OSwzMC4xODYgNi42NzcsMjkuMjE3IDQuOTg5LDI3LjUyOSBDMi41NjUsMjUuMTA1IDEuNjg4LDIxLjY2MiAyLjgwNiwxOC45NjEgQzMuNjQ1LDE2LjkzNiA1LjQ4MiwxNS43NzYgNy44NDYsMTUuNzc2IEM4LjQzNSwxNS43NzYgOS4wNjMsMTUuODQ3IDkuNzEsMTUuOTg1IEM5Ljg5NCwxNi4wMiAxMC4wODcsMTUuOTg1IDEwLjIzOSwxNS44NzMgQzEwLjM5MSwxNS43NjQgMTAuNDkxLDE1LjU5NCAxMC41MTIsMTUuNDA2IEMxMC43NzEsMTMuMDgxIDEyLjU2NSwxMS40NTUgMTQuODc3LDExLjQ1NSBDMTUuOTgyLDExLjQ1NSAxNy4xMDgsMTEuODMyIDE4LjEzNCwxMi41NDYgQzE4LjM5OCwxMi43MzEgMTguNzU3LDEyLjY5OCAxOC45ODYsMTIuNDcgTDI0LjMxOSw3LjEzNyBDMjQuNTc5LDYuODc3IDI0LjU3OSw2LjQ1NCAyNC4zMTksNi4xOTQgTDI0LjEyNCw1Ljk5OSBMMjguNTE1LDEuNjA4IEwzMC45MDYsMy45OTkgTDI2LjUxNSw4LjM5IEwyNi41MTksOC4zOTEgWiIvPgogIDwvZz4KPC9zdmc+Cg==",title:Object(D.default)("Premium Music Magic"),description:Object(D.default)("Sweet Fades, Loudness Leveling, Lyrics, and more")}),i.a.createElement("div",{className:k.a.moreFeatures},i.a.createElement(S.a,{className:k.a.link,to:s,target:"_self"},Object(D.default)("...plus more exclusive features!")))),i.a.createElement(O.a,{className:k.a.footer},c?i.a.createElement("div",{className:k.a.spinnerContainer},i.a.createElement(T.a,null)):null,i.a.createElement("div",{className:v()(k.a.plansContainer,c&&k.a.isPlansPending)},!c&&d?o.map(e=>i.a.createElement(P.a,{key:e.id,...t,action:l.lb,plan:e.id},i.a.createElement(I.a,{className:k.a.planButton,to:m.default.join(a,{plan:e.id,continue:window.location.href}),target:"_self",kind:C.d,size:r.a},e.formattedPrice," — ",e.name))):null,!c&&u?i.a.createElement(P.a,{...t,action:l.lb,plan:"unknown"},i.a.createElement(I.a,{className:k.a.planButton,to:a,target:"_self",kind:C.d,size:r.a},Object(D.default)("Subscribe"))):null)))};class z extends n.Component{componentWillMount(){this.props.isSignedIn&&this.props.fetchPlans()}componentWillReceiveProps(e){e.isSignedIn&&e.isSignedIn!==this.props.isSignedIn&&e.fetchPlans()}render(){return i.a.createElement(R,{...this.props})}}var U=Object(u.b)((function(){return Object(p.a)((e,{origin:t})=>t,g.a,Object(h.a)(y.u),(e,t,a)=>{const n=t.desktop,i={utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01"};return e&&(i.utm_content=e),{isSignedIn:t.isSignedIn,plans:n.plans,isPlansPending:n.isPlansPending,isPlansPopulated:n.isPlansPopulated,plansError:n.plansError,subscribeUrl:m.default.join(["https://www.plex.tv","/plex-pass/purchase"],i),infoUrl:m.default.join(["https://www.plex.tv","/plex-pass"]),allowMarketingModalContent:a&&"en"===t.experienceSettings.language&&"us"===t.country.toLowerCase()}})}),{fetchPlans:f.q})(z);class V extends n.Component{constructor(){super(...arguments),this.onModalClose=()=>{Object(o.c)("metrics").trackClick({...this.props.metricsProperties,page:c.bb,action:l.jb}),this.props.onModalClose()}}shouldComponentUpdate(e,t){return Object(s.a)(this,e,t)}render(){const{origin:e,isOpen:t,metricsProperties:a}=this.props;return i.a.createElement(d.a,{size:r.a,isOpen:t,metricsPage:c.bb,metricsProperties:a,onModalClose:this.onModalClose},i.a.createElement(U,{origin:e,metricsProperties:a,onModalClose:this.onModalClose}))}}t.a=V},"1B0D":function(e,t,a){e.exports={unwatchedCircle:"MetadataTitleMiniProgress-unwatchedCircle-235-SR MetadataTitleProgress-unwatchedCircle-25KKnh",isPartiallyWatched:"MetadataTitleMiniProgress-isPartiallyWatched-19Hrxr",small:"MetadataTitleMiniProgress-small-1fCcoZ",medium:"MetadataTitleMiniProgress-medium-xU97R-"}},"1CqU":function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("slDQ"),l=a("+X4A"),c=a("Khyo"),d=a("mCRK"),u=a("KKL4"),p=a("e/b/");const m=c.c.Model.extend({mixins:[d.a],cache:new u.a,constructor:function(e,t){e||(e={}),t||(t={}),this.server=this.findOption(t,"server"),this.section=this.findOption(t,"section"),this.channel=this.findOption(t,"channel"),this.device=this.findOption(t,"device"),this.parent=this.findOption(t,"parent");const a=this.findOption(t,"skipCache");if(a)return void c.c.Model.prototype.constructor.apply(this,arguments);const n=this.cache.getItemCacheKey(this,e),i=this.cache.get(n);if(i)return t.parse&&(e=i.parse(e)),this.preserveCachedAttributes&&this.preserveCachedAttributes(t.url)?s.a.each(e,(function(e,t){s.a.isUndefined(i.get(t))&&!s.a.isUndefined(e)&&i.set(t,e)})):i.set(e),i.server=this.server||i.server,i.section=this.section||i.section,i.channel=this.channel||i.channel,i.device=this.device||i.device,i.parent=this.parent||i.parent,t.collection&&(i.collection=t.collection),i;const r=this.findOption(t,"onlyIfCached");if(r)return{};c.c.Model.prototype.constructor.apply(this,arguments),this.cache.store(this,n)},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},clone:function(){const e={server:this.server,section:this.section,channel:this.channel,parent:this.parent,skipCache:!0};return new this.constructor(this.attributes,e)||null},convert:function(e){return s.a.isObject(e)?e:p.a.parseXML(e)},parse:function(e,t){let a=this.convert(e);return this.whitelistedAttrs&&(a=s.a.pick(a,this.whitelistedAttrs)),a},save:function(e,t,a){let n,r;const o=this.attributes;null==e||"object"==typeof e?(n=e,a=t):(n={})[e]=t,a=s.a.extend({validate:!0},a);const d=this.getSaveParams(n,a);if(s.a.extend(d,a.data),n&&!a.wait){if(!this.set(n,a))return!1}else if(!this._validate(n,a))return!1;if(n&&a.wait&&(this.attributes=s.a.extend({},o,n)),s.a.isEmpty(d)&&!a.force)return a.success&&a.success(this),i.a.Deferred().resolve(this);void 0===a.parse&&(a.parse=!0);const u=this,p=a.success;a.success=function(e){if(u.attributes=o,e){let t=u.parse(e,a);if(a.wait&&(t=s.a.extend(n||{},t)),s.a.isObject(t)&&!u.set(t,a))return!1;u.cache.store(u)}p&&p(u,e,a),u.trigger("sync",u,e,a)},c.c.wrapError(this,a),r=this.isNew()?"create":a.patch?"patch":"update","patch"===r&&(a.attrs=n);const m=s.a.result(this,"saveUrl")||s.a.result(this,"url");s.a.isEmpty(d)||(a.url=l.default.join(m,d)),a.data="";const h=this.sync(r,this,a);return n&&a.wait&&(this.attributes=o),h},getSaveParams:function(e,t){return this.isNew()?e||this.toJSON():this.changedAttributes(e)||{}},getScopedKey:function(e){return null!=e&&s.a.isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},restoreDefaults:function(e){const t=s.a.result(this,"defaults");if(!t)return this.clear(e);const a=this.attributes;let n;for(n in a)n in t||this.unset(n,e);return this.set(t,e),this},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void Object(o.a)(!1,"This model is already capturing events");const e=this.set;let t={};this.set=function(a,n,i){let r;"object"==typeof a?(r=a,i=n):(r={})[a]=n;const o=s.a.extend({},i,{silent:!0}),l=e.call(this,r,o);return s.a.extend(t,this.changed),l},this.releaseCapturedChangeEvents=function(){s.a.each(t,(function(e,t){this.trigger("change:"+t,this,e)}),this),s.a.isEmpty(t)||this.trigger("change",this,{}),t={},this.set=e,this.releaseCapturedChangeEvents=null}}});m.extend=function(){const e=c.c.Model.extend.apply(this,arguments);return e.prototype.cache=new u.a,e},t.a=m},"1Cr9":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("F/us"),i=a.n(n),r=a("0jae");function s(e){const t=i.a.clone(e);return t.hasOwnProperty("title")?(t.title=i.a.result(t,"title"),t.hasOwnProperty("shortTitle")&&(t.shortTitle=i.a.result(t,"shortTitle")),t.hasOwnProperty("plural")&&(t.plural=i.a.result(t,"plural")),t):t}function o(e,t){const a={};return e.forEach(e=>{a[e]=t.reduceRight((t,a)=>{const n=a[e];return null!=n&&(t[n]=a),t},{})}),{contains:function(e){for(const t in a)if(a[t][e])return!0;return!1},get:function(e){for(const t in a){const n=a[t][e];if(n)return s(n)}r.a.warn("No type was found for "+e)},getAll:function(){return t.map(s)}}}},"1DJO":function(e,t,a){"use strict";a.d(t,"b",(function(){return u}));var n=a("CHn6"),i=a("mOXR"),r=a("cVe3"),s=a("93eU"),o=a("B69o"),l=a("XN2K");var c=n.a.extend({name:"MediaGrabberDeviceChannelModel",rootPropertyName:"DeviceChannel",idAttribute:"key",syncedAttrs:{key:i.a.string,identifier:i.a.string,name:i.a.string,drm:i.a.boolean,hd:i.a.boolean,signalStrength:i.a.integer,signalQuality:i.a.integer},augmentResponse:e=>(e.key=e.key||e.identifier,e)});var d=o.a.extend({name:"MediaGrabberDeviceChannelCollection",context:["server"],model:c,comparator:(e,t)=>Object(l.a)(e.get("identifier"),t.get("identifier"))});const u={DEAD:"dead",ALIVE:"alive"},p=n.a.extend({name:"MediaGrabberDeviceModel",context:["server"],rootPropertyName:"Device",idAttribute:"key",sessionAttrs:{isChannelsPending:i.a.boolean,isChannelsPopulated:i.a.boolean,channelsError:i.a.object,selectedSource:i.a.string,isSaving:i.a.boolean,saveError:i.a.object},sessionRelations:{channels:{relationClass:d}},syncedAttrs:{key:i.a.integer,uuid:i.a.string,parentID:i.a.integer,uri:i.a.string,protocol:i.a.string,status:i.a.string,state:i.a.string,lastSeenAt:i.a.integer,make:i.a.string,model:i.a.string,modelNumber:i.a.string,source:i.a.integer,sources:i.a.list,tuners:i.a.integer,thumb:i.a.string,unsupported:i.a.boolean},syncedRelations:{channelMappings:{rootPropertyName:"ChannelMapping",relationClass:s.a},prefs:{relationClass:r.a,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isChannelsPending:!1,isChannelsPopulated:!1,channelsError:null,isSaving:!1,saveError:null,unsupported:!1}});t.a=p},"1GD4":function(e,t,a){e.exports={toolbarButton:"ToolbarButton-toolbarButton-2i2nnD",bottomLeft:"ToolbarButton-bottomLeft-3shLl3 Tooltip-bottomLeft-2fPtVW Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipLeftAlignArrow-NweCLw",bottomCenter:"ToolbarButton-bottomCenter-1rHc9f Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",bottomRight:"ToolbarButton-bottomRight-3evr63 Tooltip-bottomRight-T6_Ik3 Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipRightAlignArrow-1ETgza",hasFocus:"ToolbarButton-hasFocus-1rnm1X"}},"1H5i":function(e,t,a){e.exports={title:"QuickSearchTitle-title-2ApAOM",isSecondary:"QuickSearchTitle-isSecondary-mxETFa"}},"1Lwt":function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return b}));var n=a("slDQ"),i=a("0jae");const r=[];let s,o,l,c=!1,d=!1,u=1e3/60,p=1e3/60;function m(){s&&(s=window.clearTimeout(s))}function h(){o&&(o=window.clearTimeout(o))}function g(){const e=l;if(l=null,h(),!e)return;e()}function y(){m(),h();const e=window.performance.now();let t;for(d=!0;r.length&&(!t||t-e<u);)r.pop()(),t=window.performance.now();d=!1,r.length?(i.a.warn("[State] Unable to process all updates within budget; %s update(s) remaining",r.length),s=window.setTimeout(y,p)):l&&(o=window.setTimeout(g,p))}function f(e){for(m(),h(),d=!0,c=!0;r.length;)r.pop()();if(e)try{e()}catch(e){Object(n.a)(!1,e.name+": "+e.message)}l&&g(),d=!1,c=!1}function b(e,t){if(t.isStateTreeRoot)return l=e,void(d||o||(o=window.setTimeout(g,p)));c?e():(h(),r[0]!==e&&r.unshift(e),d||s||(s=window.setTimeout(y,p)))}},"1MJM":function(e,t,a){e.exports={sectionWrapper:"SettingsFormSection-sectionWrapper-1-gPgj",section:"SettingsFormSection-section-1zYMPA"}},"1PeT":function(e,t,a){e.exports={calendarDays:"CalendarDays-calendarDays-2ORCec"}},"1WZA":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("Vk9Z");function i(e){if(e&&e.features)return e.features.find(e=>e.type===n.c)}},"1Y+X":function(e,t,a){e.exports={group:"PrePlayDetailsGroup-group-eTtxmW"}},"1bIl":function(e,t,a){e.exports={titleContainer:"PlayHistoryTableTitle-titleContainer-vtURK5",title:"PlayHistoryTableTitle-title-2Q3T6W"}},"1cAJ":function(e,t,a){e.exports={listContainer:"DatePickerMenu-listContainer-2IYmJe",list:"DatePickerMenu-list-3YRaAd",showTimeOptions:"DatePickerMenu-showTimeOptions-2OWJ97"}},"1cGo":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("q1tI"),i=a.n(n),r=a("rT61"),s=a.n(r);const o="—";function l({className:e,separator:t}){return i.a.createElement("span",{className:e},t)}l.defaultProps={className:s.a.separator,separator:o},t.b=l},"1d8V":function(e,t,a){e.exports={container:"NavBar-container-1T0BJz",side:"NavBar-side-2kZrHV",button:"NavBar-button-diriIs NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",buttonSeparator:"NavBar-buttonSeparator-1ZbV4v",accountButton:"NavBar-accountButton-3EEZiM NavBarAccountButton-button-1Y4ek6 DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",plexLogo:"NavBar-plexLogo-3_NNRw NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",left:"NavBar-left-2SrTGf NavBar-side-2kZrHV",right:"NavBar-right-2ZzDEY NavBar-side-2kZrHV"}},"1eVT":function(e,t,a){e.exports={pane:"RecordingPriorityPane-pane-3fYq2e",paneHeader:"RecordingPriorityPane-paneHeader-3h_Eju",paneScroller:"RecordingPriorityPane-paneScroller-LJe-wd Scroller-vertical-VScFLT",error:"RecordingPriorityPane-error-OyjVka",empty:"RecordingPriorityPane-empty-1Ne_BI"}},"1eqe":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return o}));var n=a("vOHB"),i=a("bQSc");const r="D100",s="D200";function o(){return n.a.isHostedHttps||i.b(window.location.hostname)?s:n.a.isHostedHttps?"D300":r}},"1ggG":function(e,t,a){e.exports={overlay:"MetadataSimpleDetailsRow-overlay-1vdQ-E",selectOverlay:"MetadataSimpleDetailsRow-selectOverlay-UXo7mR Link-link-2ew_DK",selectedListRow:"MetadataSimpleDetailsRow-selectedListRow-3KOauR ListRow-row-1sqnTj",rangeListRow:"MetadataSimpleDetailsRow-rangeListRow-qegZRS ListRow-row-1sqnTj",simpleSummaryContainer:"MetadataSimpleDetailsRow-simpleSummaryContainer-De19Kf",indexPlayContainer:"MetadataSimpleDetailsRow-indexPlayContainer-32WyP0",titleEpisodeIndex:"MetadataSimpleDetailsRow-titleEpisodeIndex-P5PAQd",playButtonContainer:"MetadataSimpleDetailsRow-playButtonContainer-3GP1po",titleAndSummaryContainer:"MetadataSimpleDetailsRow-titleAndSummaryContainer-3KgWzN",titleContainer:"MetadataSimpleDetailsRow-titleContainer-3ufYfy",title:"MetadataSimpleDetailsRow-title-1SWzlV",summary:"MetadataSimpleDetailsRow-summary-gJpGwv",actions:"MetadataSimpleDetailsRow-actions-_75f1s"}},"1iMN":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("2eFc");function i(e,t,a){const i=e.get("previousOpenState");let r=e.get("openState");return i&&!t?r=i:i&&t&&(r=void 0),{previousOpenState:r,openState:i&&t?i:n.a,...a}}},"1iSi":function(e,t,a){e.exports={container:"ChannelsGridRowTitle-container-2k8lvi",numberContainer:"ChannelsGridRowTitle-numberContainer-1NXm94",thumbnailContainer:"ChannelsGridRowTitle-thumbnailContainer-3ThS3l",fullWidth:"ChannelsGridRowTitle-fullWidth-A2VyVQ",icon:"ChannelsGridRowTitle-icon-2JYIKp",isRecent:"ChannelsGridRowTitle-isRecent-2IcEK0",thumbnail:"ChannelsGridRowTitle-thumbnail-1At_s8",channelCallSignText:"ChannelsGridRowTitle-channelCallSignText-3ehTII",playButton:"ChannelsGridRowTitle-playButton-1Dp3VH PlayButton-playButton-3WX8X-",fullWidthPlayButton:"ChannelsGridRowTitle-fullWidthPlayButton-3QR62j ChannelsGridRowTitle-playButton-1Dp3VH PlayButton-playButton-3WX8X-"}},"1kJW":function(e,t,a){e.exports={container:"TopUsersList-container-ZYnoYW ServerDashboardSectionContent-container-3rMPaP",listContainer:"TopUsersList-listContainer-Jb_srZ VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},"1n32":function(e,t,a){e.exports={fullPlayerContainer:"Player-fullPlayerContainer-1-HN7X",fullPlayerContainerBackground:"Player-fullPlayerContainerBackground-1rsLDv",miniPlayerContainer:"Player-miniPlayerContainer-3S8L9e",adPlayerDisplayIndexContainer:"Player-adPlayerDisplayIndexContainer-20jYOx"}},"1pRg":function(e,t,a){e.exports={innerContent:"PrePlayMetadataInnerContent-innerContent-1BPzwp"}},"1vuw":function(e,t,a){e.exports={tagsListLink:"PrePlayTagList-tagsListLink-Z6lfXW Link-link-2n0yJn"}},"1xdZ":function(e,t,a){e.exports={fullPlayer:"PhotoFullPlayer-fullPlayer-zjtdRE",player:"PhotoFullPlayer-player-3kRDPi",main:"PhotoFullPlayer-main-1eD7_P",mainFooter:"PhotoFullPlayer-mainFooter-2n5Rrx",content:"PhotoFullPlayer-content-28yAom",spinner:"PhotoFullPlayer-spinner-2SO2v5",bar:"PhotoFullPlayer-bar-2WMUPU",bottomBar:"PhotoFullPlayer-bottomBar-2pmIfL PhotoFullPlayer-bar-2WMUPU",seekBar:"PhotoFullPlayer-seekBar-3H_XhU SeekBar-seekBar-2UK3iX Slider-slider-2oLVTs",aside:"PhotoFullPlayer-aside-WshsFY",hideControls:"PhotoFullPlayer-hideControls-1nwReo",controls:"PhotoFullPlayer-controls-1-Z6KS",dockControls:"PhotoFullPlayer-dockControls-e5lzCQ"}},"1yLW":function(e,t,a){"use strict";var n=a("G4qV"),i=a("Zl7H");const r=Object(n.a)(i.a,e=>e.desktop);t.a=r},"1zOe":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("Rx8e"),s=a.n(r);class o extends n.Component{constructor(e,t){super(e,t),this.state={progress:e.progress}}componentWillReceiveProps(e){this.setState({progress:e.progress})}render(){const e=this.props.className,t=this.state.progress;return i.a.createElement("div",{className:e},i.a.createElement("div",{className:s.a.progressTrack}),i.a.createElement("div",{style:{transform:`translate3d(-${100-t}%, 0, 0)`},className:s.a.progressBar}))}}o.defaultProps={progress:s.a.progress},t.a=o},"20Ss":function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("X6Q+");t.a=function(e){if(e<=0||!i.a.isNumber(e))return"0:00";const t=Object(r.c)(e),a=t.seconds,n=t.minutes,s=t.hours+24*t.days;let o="";return o=a<10?":0"+a:":"+a,o=n<10&&s>0?"0"+n+o:n+o,s>0&&(o=s+":"+o),o}},"21aO":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="row disc-number hidden"> '+c((o=a("d8WC"),o&&(o.__esModule?o.default:o)).call(t,"Disc {1}",t&&t.escapedParentIndex,{hash:{},data:r}))+' </div> <div class="row striped-list-inner-item"> <span class="col-xs-1 match-index"> '+c("function"==typeof(s=t&&t.index)?s.apply(t):s)+'. </span> <span class="col-xs-11 match-track-name ',((s=n.unless.call(t,t&&t.matched,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"missing"}),r),data:r}))||0===s)&&(l+=s),l+='"> '+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+" </span> </div> "}))},"21iP":function(e,t,a){e.exports={menuPortal:"Menu-menuPortal-AbMPTD",menuScroller:"Menu-menuScroller-1TF6oW Scroller-vertical-VScFLT",menu:"Menu-menu-3XnN6J",isDisabled:"Menu-isDisabled-34uAXf",small:"Menu-small-3l53QV",medium:"Menu-medium-2qYxsO",large:"Menu-large--60wbS"}},"22a4":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("+X4A"),i=a("C2o0");let r,s;function o(e,t=window.location.hash){const a=function(e){if(r===e)return s;const t=e.split("?"),a=t.length>1?t[1]:void 0,i=a?n.default.parseParams(a):{};return r=e,s={url:t[0],params:i},s}(t),o={type:void 0,typeKey:e.typeKey,filters:Object(i.a)(e.filters),limit:e.limit,filterLabel:e.filterLabel,customFilter:e.customFilter?1:void 0,sort:e.sort,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,save:1};return o.customFilter||(o.playlistID=void 0,o.playlistTitle=void 0),n.default.join(a.url,{...a.params,...o})}},"24/4":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("rXDx"),i=a("awjD"),r=a("aIFf"),s=a("Vm2w");function o(e,t,a){let o="metadataItemID="+t.ratingKey;return a&&(o+="&viewedAt="+Object(i.c)(a)),Object(s.a)(e,{filters:o,filterTitle:Object(r.a)(t),activeTimePeriod:a,isParentType:Object(n.isParentType)(t.type)})}},"26nm":function(e,t,a){e.exports={spinnerContainer:"PrePlayRelatedHubsList-spinnerContainer-2Q9a5q"}},"26tu":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("6+qq");t.a=function({className:e,grandparentTitle:t}){return i.a.createElement(r.a,{className:e,title:t})}},"2Am/":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-ascending-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m280 80l-200 200h160v200h80v-200h160l-200-200"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},"2BXX":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("odh7"),i=a("xEL2");function r(e,t={}){if(null==e)return!1;return Object(i.a)(Object(n.a)(new Date),t)>=e}},"2C4C":function(e,t,a){"use strict";var n=a("q1tI"),i=a("EVgX");t.a=function(){const[e]=Object(n.useState)(i.a);return e}},"2DfW":function(e,t,a){"use strict";a.r(t),t.default=function(e,t,a){if(!e)return"";if(e.length>t){const n=t-3-(a=a||Math.floor((t-3)/2));return e.substr(0,a)+"..."+e.substr(e.length-n)}return e}},"2E08":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-descending-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m80 280h160v-200h80v200h160l-200 200-200-200"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},"2OOI":function(e,t,a){e.exports={container:"LibraryFilterBuilder-container-1ep_xx",loadingContainer:"LibraryFilterBuilder-loadingContainer-c77MeP LibraryFilterBuilder-container-1ep_xx",footer:"LibraryFilterBuilder-footer-3W2q0T",settings:"LibraryFilterBuilder-settings-okmbXJ",checkInput:"LibraryFilterBuilder-checkInput-B0ck9X InlineInputGroupFormLabel-label-3jkhB9 FormLabel-label-2aLJ9b",numberInput:"LibraryFilterBuilder-numberInput-1vwc6F InlineNumberInputGroup-input-uLbRbq TextInput-input-1VMuma input-input-1P2Vi4",buttons:"LibraryFilterBuilder-buttons-3PEDFO",error:"LibraryFilterBuilder-error-3XiwBp",button:"LibraryFilterBuilder-button-36Leqv Button-button-2kT68l Link-link-2n0yJn",saveButton:"LibraryFilterBuilder-saveButton-3cT3i4 SplitButton-button-1B9GD_"}},"2TYq":function(e,t,a){"use strict";var n=a("B69o"),i=a("CHn6"),r=a("mOXR");var s=i.a.extend({name:"OperatorModel",context:["server"],idAttribute:"key",rootPropertyName:"Operator",syncedAttrs:{key:r.a.string,title:r.a.string}});var o=n.a.extend({name:"OperatorCollection",context:["server"],model:s});var l=i.a.extend({name:"MetadataFieldTypeModel",context:["server"],idAttribute:"type",rootPropertyName:"FieldType",syncedAttrs:{type:r.a.string.isRequired},syncedRelations:{operators:{relationClass:o,rootPropertyName:"Operator"}}});const c=n.a.extend({name:"MetadataTypeCollection",context:["server"],model:l});t.a=c},"2VzV":function(e,t,a){e.exports={cancelConfirmationMessage:"CancelRecordingConfirmation-cancelConfirmationMessage-3l-ktf"}},"2XH5":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("G4qV"),i=a("nXHd");function r(e,t){const{playQueueItems:a,currentIndex:n}=e,i=t[a[n]];return i&&i.metadataItem}function s(){return Object(n.a)(({ui:e})=>e.audioVideoPlayer&&e.audioVideoPlayer.playQueue,({ui:e})=>e.photoPlayer&&e.photoPlayer.playQueue,(e,{metadataItemEntityID:t})=>t,i.a,(e,t,a,n)=>{if(!a)return!1;let i,s;e&&(i=r(e,n)),t&&(s=r(t,n));return i===a||s===a})}},"2Xys":function(e,t,a){"use strict";t.a=function(e){return null==e||""===e?0:parseInt(e,10)}},"2ZL2":function(e,t,a){e.exports={infoContainer:"WebhookSettingsPageInfo-infoContainer-37YfYn"}},"2bcr":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=a("G4qV"),i=a("xoRd");function r(e){return e?{entityID:e.entityID,machineIdentifier:e.machineIdentifier,version:e.version,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isCloud:e.isCloud,isShared:e.isShared,livetv:e.livetv,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}:null}const s={};function o(e,{serverEntityID:t}){let a=s[t];return a||(a=Object(i.a)(Object(n.a)((e,t)=>e.entities.servers[t],r),e=>e),s[t]=a),a(e,t)}},"2cfR":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return c}));var n=a("ICb1"),i=a("U//L");const r=Object(n.a)("downloads/cancelDownloadActivity"),s=Object(n.a)("downloads/createDownloadSubscription"),o=(Object(n.a)("downloads/deleteDownloadState"),Object(n.a)("downloads/deleteDownloadSubscription")),l=(Object(n.a)("downloads/fetchDownloadSubscriptions"),Object(n.a)("downloads/populateDownloadSubscriptions"),Object(n.a)("downloads/processDownloadSubscriptions"),Object(n.a)("downloads/retryDownloadSubscription")),c=(Object(n.a)("downloads/saveDownloadSubscription"),Object(n.a)("downloads/syncDownloadViewstate"),Object(n.a)("downloads/updateDownloadState"),Object(n.a)("downloads/refreshDownloads"));Object(n.a)("downloads/getDownloadDecision"),Object(i.a)({})},"2eFc":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));const n="full",i="mini"},"2ewr":function(e,t,a){e.exports={button:"NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",icon:"NavBarIconButton-icon-2gdVPu",alertIcon:"NavBarIconButton-alertIcon-2HPvE2",tooltip:"NavBarIconButton-tooltip-2RzDyR Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipTriggerHasFocus:"NavBarIconButton-tooltipTriggerHasFocus-347Sxg NavBarIconButton-tooltip-2RzDyR Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},"2fhx":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("2pL0"),s=a("Aslj"),o=a("sBwU"),l=a("1GD4"),c=a.n(l);class d extends n.Component{render(){const{children:e,tooltip:t,className:a,hasLabel:n,tooltipAttachment:o,hideOnPress:l,onPress:d,...u}=this.props,p=c.a[o],m=`${p} ${c.a.hasFocus}`;return i.a.createElement(s.a,{className:a,"aria-label":t,component:r.a,tooltip:t,tooltipClassName:p,tooltipFocusedClassName:m,hideOnPress:l,onPress:d,...u},e)}}d.defaultProps={className:c.a.toolbarButton,tooltipAttachment:o.a},t.a=d},"2ifn":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"h",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"i",(function(){return d})),a.d(t,"j",(function(){return u})),a.d(t,"a",(function(){return p}));const n="Plex Movie Scanner",i="Plex Music",r="Plex Movie",s="Plex TV Series",o="Plex Music Scanner",l="Plex Photo Scanner",c="Plex Premium Music Scanner",d="Plex Series Scanner",u="Plex Video Files Scanner",p="Plex Game"},"2kxp":function(e,t,a){e.exports={pageHeaderLeft:"PageHeaderLeft-pageHeaderLeft-12U4iA"}},"2pL0":function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r);function o(){const e=document.activeElement;return e&&e.dataset&&e.dataset.uid||null}var l=a("EVgX"),c=a("WA8t"),d=a("qNMu"),u=a("wCAT"),p=a("3oIs"),m=(a("slDQ"),a("WtXS")),h=a.n(m);let g=null;p.a&&window.addEventListener("blur",()=>{g=o()});class y extends r.Component{constructor(e,t){super(e,t),this.onTouchStart=e=>{this._isTouch=!0,this._preventFocus=this._shouldPreventFocus(),1===e.touches.length&&this._activate(!0),this.props.onTouchStart&&this.props.onTouchStart(e)},this.onTouchMove=e=>{this._activate(!1),this.props.onTouchMove&&this.props.onTouchMove(e)},this.onTouchEnd=e=>{const{to:t,target:a,isDisabled:n,onTouchEnd:i}=this.props;this._isActive&&!n&&(!t||a&&"_self"!==a||(e.preventDefault(),window.location.href=t),this._press(e)),this._activate(!1),i&&i(e)},this.onTouchCancel=e=>{this._isTouch=!1,this._activate(!1),this.props.onTouchCancel&&this.props.onTouchCancel(e)},this.onMouseDown=e=>{this._isTouch||(this._preventFocus=this._shouldPreventFocus(),0===e.button&&this._activate(!0),this.props.onMouseDown&&this.props.onMouseDown(e))},this.onMouseUp=e=>{if(this._isTouch)return;const{isDisabled:t,onMouseUp:a}=this.props;this._isActive&&!t&&(this._press(e),this._preventOnClick=!0),this._activate(!1),a&&a(e)},this.onMouseLeave=e=>{this._isTouch||(this._isActive&&this.setState({isActive:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e))},this.onClick=e=>{this._preventFocus=!1;const{isDisabled:t}=this.props;this._preventOnClick||this._isTouch||this._isActive||!this._isFocused||t||this._press(e),this._preventOnClick=!1,this._isTouch=!1},this.onFocus=e=>{this._preventFocus?this._preventFocus=!1:this._uid!==g?(this._focus(!0),this.props.onFocus&&this.props.onFocus(e)):g=null},this.onBlur=e=>{this._focus(!1),this.props.onBlur&&this.props.onBlur(e)},this._preventFocus=!1,this._preventOnClick=!1,this._isTouch=!1,this._isActive=!1,this._isFocused=!1,this._uid=Object(l.a)(),this.state={isActive:!1,isFocused:!1},this._ref=s.a.createRef()}componentDidMount(){!this.props.isDisabled&&this.props.focusOnEnabled&&this._ref.current.focus()}shouldComponentUpdate(e,t){return Object(u.a)(this,e,t)}componentDidUpdate(e){const t=this.props.focusOnEnabled&&!this.props.isDisabled,a=e.focusOnEnabled&&!e.isDisabled;t&&!a&&this._ref.current.focus()}_activate(e){this._isActive=e,this.setState({isActive:e})}_focus(e){this._isFocused=e,this.setState({isFocused:e})}_shouldPreventFocus(){if(this.props.allowFocusOnPress)return!1;return!(o()===this._uid)}_press(e){const{onPress:t}=this.props;t&&t(e)}render(){const{className:e,to:t,kind:a,size:n,isSelected:r,isDisabled:o,component:l,allowFocusOnPress:d,role:u,focusOnEnabled:p,onPress:m,...g}=this.props,{isActive:y,isFocused:f}=this.state,b={"data-uid":this._uid};let v=l;return t&&(v="a",b.href=t),b.role=u||(t?"link":"button"),b.className=i()(e,h.a.link,h.a[a],n&&h.a[n],r&&h.a.isSelected,y&&c.a,f&&c.f,o&&c.b),"button"!==v&&"input"!==v||(b.type=g.type||"button",b.disabled=o),v?s.a.createElement(v,{...g,...b,ref:this._ref,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur}):null}}y.defaultProps={component:"button",kind:d.c,isSelected:!1,isDisabled:!1,allowFocusOnPress:!1};t.a=y},"2pvp":function(e,t,a){e.exports={input:"FilterTextInput-input-3NJ5Fl TextInput-input-1mDdJf"}},"2sa7":function(e,t,a){e.exports={button:"IconButton-button-9An-7I",isDisabled:"IconButton-isDisabled-2Wi5UT",isActive:"IconButton-isActive-1_AJJ-",label:"IconButton-label-1cUJaL"}},"2xvO":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("/MKj"),s=a("G4qV"),o=a("FjJJ"),l=a("PD/8"),c=a("8zoK");t.a=Object(r.b)((function(){return Object(s.a)(Object(s.a)((e,{source:t})=>t,(e,{ratingKey:t})=>t,Object(l.a)(o.d),(e,t,a)=>{for(const n of a){const{Context:a}=n;if(a.itemRatingKey===t&&a.source===e&&n.progress>0)return n.progress}}),e=>({progress:e}))}))((function(e){if(!e.hasOfflineFile&&!e.hasOwnSubscription&&void 0===e.progress)return null;const{hasOfflineFile:t,hasOwnSubscription:a,ratingKey:n,source:r,...s}=e;return i.a.createElement(c.a,{...s})}))},"2y0P":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("cgRT"),i=a("EPph"),r=a("G35J");function s(e,t=!1){const a=t||"Plex Media Server"===e.get("product"),s=new i.e({machineIdentifier:e.id,friendlyName:e.get("name"),version:a?e.get("productVersion"):void 0,isShared:!e.get("owned"),accessToken:e.get("accessToken"),sourceTitle:e.get("sourceTitle"),publicAddressMatches:e.get("publicAddressMatches"),httpsRequired:e.get("httpsRequired"),platform:e.get("platform"),platformVersion:e.get("platformVersion"),presence:e.get("presence"),home:e.get("home"),serverClass:a?void 0:i.e.serverClasses.SECONDARY,createdAt:e.get("createdAt"),lastSeenAt:e.get("lastSeenAt"),ownerId:e.get("ownerId")},{parent:n.c("appModel")});return Object(r.a)(s,e),s}},"3+3Z":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("/MKj"),s=a("G4qV"),o=a("GMu+"),l=a("1Lwt"),c=a("3n8t"),d=a("w+4p"),u=a("5cL8");const p={dispatchPopulateMetadataList:c.g,dispatchPopulateMetadataListRange:c.h,dispatchDeselectAllMetadataListItems:c.a,dispatchResetMetadataList:c.k};class m extends n.Component{constructor(){super(...arguments),this.onPageRequest=e=>{const{metadataListEntityID:t,disableReloadThreshold:a,dispatchPopulateMetadataListRange:n}=this.props;n({metadataListEntityID:t,disableReloadThreshold:a,...e})}}componentWillMount(){this._populate()}componentWillReceiveProps(e){const{containerKey:t,metadataListEntityID:a}=e;t===this.props.containerKey&&a===this.props.metadataListEntityID||this._populate(e)}componentWillUnmount(){const{metadataListEntityID:e,shouldResetOnUnmount:t}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),t&&this.props.dispatchResetMetadataList({metadataListEntityID:e})}_populate(e=this.props){const{entityKey:t,metadataListEntityID:a,initialSize:n,dispatchPopulateMetadataList:i,dispatchPopulateMetadataListRange:r}=e;n&&Object(l.a)(()=>{t&&this.props.dispatchResetMetadataList({metadataListEntityID:a}),n===1/0?i({metadataListEntityID:a}):r({metadataListEntityID:a,startIndex:0,endIndex:n-1,pages:1})})}render(){const{component:e,dispatchPopulateMetadataListRange:t,dispatchDeselectAllMetadataListItems:a,dispatchResetMetadataList:n,...r}=this.props;return i.a.createElement(e,{...r,onPageRequest:this.onPageRequest})}}m.defaultProps={disableReloadThreshold:!1,shouldResetOnUnmount:!1},t.a=Object(r.b)((function(){return Object(s.a)(Object(u.a)(),Object(o.a)(),d.a,(e,t,a)=>({metadataItemEntityIDs:t.metadataItems,entityKey:t.entityKey,containerKey:t.containerKey||t.key,disableReloadThreshold:!!a.activeSelectionType,columnAdjustment:e,totalSize:t.totalSize,librarySectionID:t.librarySectionID,populatedRange:t.populatedRange,allowSync:t.allowSync,isPending:t.isPending,isPopulated:t.isPopulated,isMetaPopulated:t.isMetaPopulated,error:t.error,firstItemType:t.firstItemType,firstItemSubtype:t.firstItemSubtype,isFirstItemLibraryItem:t.isFirstItemLibraryItem,isDirectoryList:t.isDirectoryList,isChannelsList:t.isChannelsList}))}),p)(m)},"3+5O":function(e,t,a){e.exports={iframe:"DownloadFileMetadataActionMenuItem-iframe-2fm0lx"}},"3+Hb":function(e,t,a){e.exports={summaryContainer:"TopUsersCell-summaryContainer-35xDP9",playHistoryLink:"TopUsersCell-playHistoryLink-33RSfu Link-link-2ew_DK",avatar:"TopUsersCell-avatar-1EwhtA AvatarImg-avatar-3Op56u",summary:"TopUsersCell-summary-2q0pjV",row:"TopUsersCell-row-3BSOkQ",username:"TopUsersCell-username-2F0LkP TopUsersCell-row-3BSOkQ",metadataRow:"TopUsersCell-metadataRow-1sIxqD TopUsersCell-row-3BSOkQ",metadataTitle:"TopUsersCell-metadataTitle-1wzzTc",duration:"TopUsersCell-duration-38wAzG"}},"30Wg":function(e,t,a){e.exports={sectionError:"FormSectionError-sectionError-1-Y1E0",sectionErrorIcon:"FormSectionError-sectionErrorIcon-1XyYQM"}},3518:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-round-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 420c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m60-320l-40 0c-11.038 0-20 8.962-20 20l0 200c0 11.038 8.962 20 20 20l40 0c11.038 0 20-8.962 20-20l0-200c0-11.038-8.962-20-20-20"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},"381m":function(e,t,a){e.exports={image:"MetadataDirectoryListItem-image-2GFrn8",titleContainer:"MetadataDirectoryListItem-titleContainer-2jxE16",title:"MetadataDirectoryListItem-title-YsYTS9"}},3862:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c("function"==typeof(o=t&&t.title)?o.apply(t):o)+'</h4> </div> <div class="modal-body"> <p class="confirm-message">'+c("function"==typeof(o=t&&t.message)?o.apply(t):o)+'</p> <p class="double-confirm-message text-warning"></p> </div> <div class="modal-footer"> ',((o=n.unless.call(t,t&&t.hideCancel,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=' <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(i(a("d8WC")).call(e,e&&e.cancelLabel,{hash:{},data:t}))+"</button> "}),s),data:s}))||0===o)&&(l+=o),l+=' <button type="button" class="confirm-btn btn btn-lg ',((o=n.if.call(t,t&&t.hasDanger,{hash:{},inverse:this.program(5,(function(e,t){return"btn-primary"}),s),fn:this.program(3,(function(e,t){return"btn-danger"}),s),data:s}))||0===o)&&(l+=o),l+=' btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(t,t&&t.confirmLabel,{hash:{},data:s}))+"</span> </button> </div> </div> </div> "}))},"3B9w":function(e,t,a){e.exports={prePlayPageContentContainer:"PrePlayPageContent-prePlayPageContentContainer-1ckaMA PageContent-pageContent-16mK6G",prePlayPageContent:"PrePlayPageContent-prePlayPageContent-1fFCHQ"}},"3Fxl":function(e,t,a){e.exports={homePageContentScroller:"HomePage-homePageContentScroller-3c3WmB PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},"3GOe":function(e,t,a){e.exports={img:"AlertRoundOpaqueIcon-img-19hrPS"}},"3GoL":function(e,t,a){e.exports={row:"LinkedAccount-row-B2dK4T",rowLinked:"LinkedAccount-rowLinked-1oGBHa LinkedAccount-row-B2dK4T",rowUnlinked:"LinkedAccount-rowUnlinked-1CEr_W LinkedAccount-row-B2dK4T",separator:"LinkedAccount-separator-2K5SKR",button:"LinkedAccount-button-2xPPXm",buttonApple:"LinkedAccount-buttonApple-1i2qi8 LinkedAccount-button-2xPPXm",buttonGoogle:"LinkedAccount-buttonGoogle-3vahJX LinkedAccount-button-2xPPXm",buttonFacebook:"LinkedAccount-buttonFacebook-1qn9Yd LinkedAccount-button-2xPPXm"}},"3Kzt":function(e,t,a){e.exports={hubHeader:"PrePlayVerticalHub-hubHeader-26ySyl VirtualHubScroller-hubHeader-216w6Z",showAllContainer:"PrePlayVerticalHub-showAllContainer-1y-oH0",belowHub:"PrePlayVerticalHub-belowHub-34nPsw"}},"3WIE":function(e,t,a){e.exports={calendar:"Calendar-calendar-231Ooz"}},"3Y6y":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 1040 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-series-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m692.44 113.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.427-8.706 16.197-18.05 23.22-27.921 7.981-11.218 14.995-23.12 20.937-35.54 5.493-11.483 10.07-23.405 13.662-35.616 3.45-11.718 5.996-23.7 7.615-35.808 3.366-25.18 2.733-50.894-1.896-75.872-2.033-10.968-4.835-21.794-8.381-32.37-3.723-11.11-8.266-21.937-13.577-32.378-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264m-412.44-13.13c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180m172.44 13.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.26-8.534 15.889-17.677 22.802-27.334 8.154-11.39 15.31-23.492 21.355-36.13 5.494-11.482 10.07-23.403 13.662-35.614 3.45-11.718 5.997-23.701 7.615-35.809 3.366-25.18 2.732-50.893-1.896-75.871-2.033-10.968-4.835-21.793-8.38-32.369-3.724-11.11-8.267-21.937-13.578-32.379-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},"3YNL":function(e,t,a){e.exports={titleContainer:"SourceSidebarReorderContent-titleContainer-20R_su",title:"SourceSidebarReorderContent-title-fy8R0_",closeButton:"SourceSidebarReorderContent-closeButton-1rl2ef",expandedSidebarContent:"SourceSidebarReorderContent-expandedSidebarContent-3lC3o8 SourceSidebarContent-expandedSidebarContent-3n-5nj"}},"3ZRf":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){var n="";return n+=' <option value="">'+c(i(a("d8WC")).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+c(i(a("d8WC")).call(t,"Artist",{hash:{},data:s}))+'</label> <input type="text" id="match-search-parentTitle" name="parentTitle" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.parentTitle)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+c(i(a("d8WC")).call(t,"Agent",{hash:{},data:s}))+'</label> <select id="match-search-agent" name="agent"> ',((o=n.each.call(t,t&&t.agents,{hash:{},inverse:d.program(4,p,s),fn:d.program(1,(function(e,t){var a,i="";return i+=' <option value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'" ',((a=n.if.call(e,e&&e.selected,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(i+=a),i+=">"+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+c(i(a("d8WC")).call(t,"Album",{hash:{},data:s}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+c(i(a("d8WC")).call(t,"Language",{hash:{},data:s}))+'</label> <select id="match-search-language" name="language"> ',((o=n.each.call(t,t&&t.languages,{hash:{},inverse:d.program(4,p,s),fn:d.program(6,(function(e,t){var a,n="";return n+=' <option value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+c(i(a("d8WC")).call(t,"Year",{hash:{},data:s}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)?o.apply(t):o)+'"> </div> </div> </div> '}))},"3bbS":function(e,t,a){const n=a("+X4A").getLastSegment,i=a("a4Cb");e.exports=i(n)},"3d0f":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n="tidal"},"3gZG":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("jD54"),s=a.n(r);function o(e){const{className:t,children:a}=e;return i.a.createElement("div",{className:t},a)}o.defaultProps={className:s.a.menuHeader},t.a=o},"3n8t":function(e,t,a){"use strict";a.d(t,"d",(function(){return b})),a.d(t,"g",(function(){return v})),a.d(t,"h",(function(){return I})),a.d(t,"j",(function(){return S})),a.d(t,"n",(function(){return E})),a.d(t,"f",(function(){return O})),a.d(t,"l",(function(){return M})),a.d(t,"b",(function(){return C})),a.d(t,"m",(function(){return j})),a.d(t,"c",(function(){return D})),a.d(t,"a",(function(){return P})),a.d(t,"k",(function(){return T})),a.d(t,"i",(function(){return w})),a.d(t,"e",(function(){return x}));var n=a("ICb1"),i=a("rG0a"),r=a("cgRT"),s=a("vtVQ"),o=a("Wpyo"),l=a("92Vb"),c=a("GdCd"),d=a("WaF+"),u=a("FM3t"),p=a("YINS"),m=a("+fvj"),h=a("hPIe"),g=a("r30D"),y=a("w41d"),f=a("XmHA");const b=Object(n.a)("metadata/metadataList/fetchMetadataList"),v=Object(n.a)("metadata/metadataList/populateMetadataList"),I=Object(n.a)("metadata/metadataList/populateMetadataListRange"),S=Object(n.a)("metadata/metadataList/repopulateMetadataListRange"),E=Object(n.a)("metadata/metadataList/syncMetadataList"),O=Object(n.a)("metadata/metadataList/optimizeMetadataList"),M=Object(n.a)("metadata/metadataList/selectMetadataListItem"),C=Object(n.a)("metadata/metadataList/deselectMetadataListItem"),j=Object(n.a)("metadata/metadataList/selectMetadataListItems"),D=Object(n.a)("metadata/metadataList/deselectMetadataListItems"),P=Object(n.a)("metadata/metadataList/deselectAllMetadataListItems"),T=Object(n.a)("metadata/metadataList/resetMetadataList"),w=Object(n.a)("metadata/metadataList/redispatchLegacyMetadataListAction");function N(e,t,a={}){Object(r.c)("metrics").trackClick({page:t,action:e,context:m.LIST,...a})}const x={"metadata/metadataList/fetchMetadataList":Object(l.a)({getModel:y.e}),"metadata/metadataList/populateMetadataList":Object(c.a)({fetchActionCreator:b,getModel:y.e}),"metadata/metadataList/populateMetadataListRange":Object(d.a)({getModel:y.e}),"metadata/metadataList/repopulateMetadataListRange":Object(u.a)({getModel:y.e}),"metadata/metadataList/syncMetadataList"(e,t){const a=Object(y.e)(e,t);s.a.execute("showSyncModal",{item:a}),N(p.mb,t.metricsPage,t.metricsProperties)},"metadata/metadataList/optimizeMetadataList"(e,t){const a=Object(y.e)(e,t),n=new f.a({item:a});i.a.trigger("show:modal",n),N(p.J,t.metricsPage,t.metricsProperties)},"metadata/metadataList/selectMetadataListItem"(e,t,a){const{id:n,type:i,isRangeSelect:r}=t,s=Object(y.e)(e,t),o=Object(y.d)(e,{metadataItemEntityID:n}),l=s.getCollection();o&&a(Object(g.r)({type:i,model:o,collection:l,isRangeSelect:r}))},"metadata/metadataList/deselectMetadataListItem"(e,t,a){const n=Object(y.d)(e,{metadataItemEntityID:t.id});n&&a(Object(g.f)([n.id]))},"metadata/metadataList/selectMetadataListItems"(e,t,a){const{ids:n,type:i}=t,r=n.reduce((t,a)=>{const n=Object(y.o)(e,{metadataItemEntityID:a});return n&&t.push({id:n&&n.id,type:i,model:n}),t},[]);a(Object(g.s)(r))},"metadata/metadataList/deselectMetadataListItems"(e,t,a){const n=t.ids.reduce((t,a)=>{const n=Object(y.o)(e,{metadataItemEntityID:a});return n&&t.push({id:n&&n.id}),t},[]);a(Object(g.f)(n))},"metadata/metadataList/deselectAllMetadataListItems"(e,t,a){const n=Object(y.e)(e,t).getCollection();a(Object(g.e)(n))},"metadata/metadataList/resetMetadataList"(e,t){const a=Object(y.e)(e,t),n=a.get("entityKey");a.abortPendingPopulate(),a.resetPopulatePromise(null),a.restoreDefaults({entityKey:n,meta:n?a.get("meta"):void 0,containerKey:a.get("containerKey"),containerTitle:a.get("containerTitle")})},"metadata/metadataList/redispatchLegacyMetadataListAction"(e,t,a){const n=Object(h.m)(e,{serverEntityID:t.server.entityID}),i=Object(h.j)(e,{providerEntityID:t.provider.entityID}),r=new o.default({containerKey:t.containerKey},{server:n,provider:i,includeCollections:!0,includeExternalMedia:!0}),s=t.legacyAction.type,l=t.legacyAction.payload,c=(null==l?void 0:l.metricsProperties)||{};a({type:s,payload:{...l,serverEntityID:n.entityID(),providerEntityID:i.entityID(),metadataListEntityID:r.entityID(),metricsPage:t.metricsPage,metricsProperties:{...c,...t.metricsProperties},skipClickMetrics:!0}})}}},"3oIs":function(e,t,a){"use strict";t.a=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)},"3pzj":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reload-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m280 560c-1.807-.003-3.614-.017-5.421-.052-3.292-.062-6.584-.182-9.873-.359-9.731-.525-19.435-1.554-29.059-3.089-11.735-1.871-23.35-4.493-34.75-7.849-11.774-3.466-23.317-7.714-34.53-12.705-13.924-6.197-27.338-13.54-40.067-21.922-13.116-8.636-25.504-18.374-36.998-29.074-11.686-10.88-22.446-22.753-32.124-35.451-9.55-12.53-18.044-25.862-25.357-39.816-6.195-11.822-11.541-24.088-15.978-36.676-4.407-12.5-7.916-25.316-10.495-38.317-3.569-17.998-5.348-36.343-5.348-54.69 0-12.5.823-25 2.48-37.39 1.885-14.104 4.851-28.063 8.869-41.713 4.106-13.949 9.311-27.574 15.547-40.711 7.129-15.019 15.603-29.397 25.281-42.915 9.786-13.67 20.8-26.46 32.864-38.17 12.674-12.302 26.506-23.411 41.259-33.125 14.39-9.476 29.653-17.622 45.541-24.289 17.483-7.337 35.716-12.877 54.325-16.507 17.427-3.4 35.175-5.122 52.929-5.179 17.775-.056 35.554 1.556 53.023 4.85 18.646 3.516 36.926 8.946 54.466 16.181 15.934 6.572 31.253 14.628 45.705 24.02 14.578 9.474 28.271 20.305 40.854 32.302 1.622 1.546 3.224 3.111 4.808 4.695l82.049-82.049 0 220-220 0 81.382-81.382c-.709-.71-1.423-1.413-2.142-2.112-9.074-8.807-18.975-16.76-29.536-23.715-10.101-6.651-20.804-12.386-31.942-17.1-12.43-5.261-25.396-9.245-38.635-11.871-12.45-2.469-25.133-3.735-37.825-3.816-12.729-.08-25.466 1.027-37.984 3.347-13.29 2.463-26.324 6.29-38.836 11.406-11.386 4.656-22.336 10.374-32.671 17.047-10.456 6.75-20.28 14.475-29.313 23.036-8.883 8.419-17 17.646-24.213 27.534-6.997 9.59-13.143 19.801-18.331 30.479-4.523 9.309-8.318 18.972-11.333 28.873-2.889 9.484-5.061 19.185-6.498 28.995-1.42 9.691-2.123 19.485-2.123 29.279 0 13.333 1.307 26.665 3.942 39.736 1.824 9.049 4.281 17.969 7.35 26.674 3.163 8.971 6.973 17.713 11.389 26.139 5.226 9.973 11.299 19.501 18.124 28.456 6.932 9.096 14.639 17.599 23.009 25.392 7.933 7.385 16.461 14.131 25.477 20.146 8.881 5.924 18.236 11.138 27.949 15.569 7.946 3.624 16.131 6.723 24.485 9.267 8.087 2.463 16.331 4.405 24.666 5.815 6.853 1.159 13.767 1.958 20.704 2.398 2.353.149 4.708.257 7.065.325 1.296.037 2.592.059 3.889.074.65.005 1.301.008 1.951.009l.259 79.999-.259.001"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},"3zVX":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("blH+"),i=a("Vk9Z"),r=a("gnaf"),s=a("66GW"),o=a("aqep");var l=a("L9Nd").b.extend({name:"LegacyLibraryProviderModel",defaults(){const e=this.server,t=e.get("isFullServer"),a=e.get("isFullOwnedServer"),l=[{type:i.c,key:"/library/sections"},{type:i.i,key:"/library/matches"},{type:i.j,key:"/library/metadata"}];return t&&l.push({type:i.o,key:"/hubs/search"},{type:i.l,key:"/playQueues"},{type:i.k,key:"/playlists"},{type:i.r,key:"/:/timeline"},{type:i.b,actions:[{id:n.g,key:"/:/scrobble",reverseKey:"/:/unscrobble"},{id:n.e,key:"/:/rate"}]}),a&&l.push({type:i.h}),{identifier:r.d,title:Object(s.default)("Library"),types:["video","audio","photo"],protocols:a?["stream","download"]:["stream"],features:new o.a(l,{parse:!0,server:e})}}});function c(e,t){!t.get("isCloud")&&e.forEach(e=>{e.set({isPending:!1,isPopulated:!0})}),t.get("isCloud")||e.get(r.d)||e.add(new l({isPending:!1,isPopulated:!0},{server:t}))}},"4+Le":function(e,t,a){"use strict";var n=a("q1tI"),i=a("IVDS");const r=Symbol("NO_VALUE");t.a=function(e,t,a=500){const[s,o]=Object(n.useState)(r),l=Object(i.a)(e),c=Object(n.useRef)(0);return e===t&&l!==t&&c.current++,Object(n.useEffect)(()=>{const e=window.setTimeout(()=>{o(r)},a);return o(t),()=>{window.clearTimeout(e)}},[c.current,t,a]),s===r?e:s}},"4+bI":function(e,t,a){e.exports={unsupportedDeviceBody:"DVRSetupUnsupportedDevice-unsupportedDeviceBody-1vVn1Q ModalBody-modalBody--5uHSu",imageContainer:"DVRSetupUnsupportedDevice-imageContainer-3DhXFA",makeModelContainer:"DVRSetupUnsupportedDevice-makeModelContainer-2bdrZY",info:"DVRSetupUnsupportedDevice-info-1un44K"}},"41GN":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("F/us"),i=a.n(n),r=a("DDbo");function s(e,t={}){const{onlyIfCached:a=!0}=t;if(!e)return;if(e.section)return e.section;if(e.get("isSection"))return e;const n=e.get("librarySectionID");if(n){const t=new r.a({key:n},{server:e.server,onlyIfCached:a});return i.a.isEmpty(t)?void 0:t}return e.parent?s(e.parent,t):void 0}},"46B2":function(e,t,a){e.exports={sidebarContent:"SettingsSidebar-sidebarContent-3yMjj9",alertIcon:"SettingsSidebar-alertIcon-2t3ZyX"}},"4A6Q":function(e,t,a){"use strict";a.d(t,"i",(function(){return S})),a.d(t,"j",(function(){return E})),a.d(t,"a",(function(){return C})),a.d(t,"e",(function(){return D})),a.d(t,"n",(function(){return P})),a.d(t,"f",(function(){return T})),a.d(t,"g",(function(){return w})),a.d(t,"d",(function(){return N})),a.d(t,"k",(function(){return x})),a.d(t,"b",(function(){return A})),a.d(t,"m",(function(){return k})),a.d(t,"h",(function(){return R})),a.d(t,"c",(function(){return z})),a.d(t,"l",(function(){return U})),a.d(t,"o",(function(){return V}));var n=a("F/us"),i=a.n(n),r=a("slDQ"),s=a("kwss"),o=a("Vk9Z"),l=a("PXtH"),c=a("gnaf"),d=a("zTsO"),u=a("3d0f"),p=a("TIWu"),m=a("f2wi"),h=a("rXDx"),g=a("xI1S"),y=a("KR2X"),f=a("uarP"),b=a("YP9j");const v={showPlay:S,showPlayVersion:function({server:e,provider:t,stableUser:a,metadataItem:n}){if(!S({server:e,provider:t,stableUser:a,metadataItem:n}))return!1;return t.isLibraryProvider&&n.Media&&n.Media.length>1},showPlayAll:S,showShuffle:function({server:e,provider:t,stableUser:a,metadataItem:n}){if(n.radio)return!1;return S({server:e,provider:t,stableUser:a,metadataItem:n})&&!!t.features.playqueue},showQueue:E,showPlayTrailer:O,showPlayPlexMix:M,showQueuePlexMix:function({server:e,provider:t,stableUser:a,metadataItem:n}){return M({server:e,provider:t,stableUser:a,metadataItem:n})},showPlayMusicVideo:O,showPlayRadio:function({server:e,provider:t,stableUser:a,metadataItem:n}){return!!n.hasRadioStation},showPlayArtistTV:function({server:e,provider:t,stableUser:a,metadataItem:n}){return!!n.hasArtistTVStation},showAddToWatchlist:function({provider:e,stableUser:t}){return!!(e.features.actions&&e.features.actions.addToWatchlist&&Object(y.a)(t,e.features.actions.addToWatchlist))},showAddToPicks:function({server:e,provider:t,stableUser:a,metadataItem:n}){return!!(a.features[d.v]&&t.features.actions&&t.features.actions.pick)},showAddToPlaylist:C,showAddToSaved:function({server:e,provider:t,stableUser:a,metadataItem:n}){if(!t)return!1;const i=t.features.actions.save;if(!i||!Object(y.a)(a,i))return!1;return null!=n.saved},showAddToLibrary:function({server:e,provider:t,stableUser:a,metadataItem:n}){if(!t)return;const i=n.type===h.TRACK||n.type===h.ALBUM||n.type===h.ARTIST,r=c.l(t.identifier,c.f),s=!!a.features[d.a],o=Object(y.a)(a,{requires:u.a});return i&&r&&s&&o},showFavorite:D,showUnfavorite:P,showMarkPlayed:T,showMarkUnplayed:w,showSettings:function({server:e,provider:t,stableUser:a,metadataItem:n}){const{preferences:i}=n;return!t.features.manage&&null!=i},showEdit:N,showModifySmartPlaylist:function({server:e,provider:t,stableUser:a,metadataItem:n}){if(!N({server:e,provider:t,stableUser:a,metadataItem:n}))return!1;return!!n.smart},showRefresh:x,showAnalyze:A,showFixMatch:L,showMatch:function({server:e,provider:t,stableUser:a,metadataItem:n}){if(!N({server:e,provider:t,stableUser:a,metadataItem:n}))return!1;if(!n.guid)return!1;return!L({server:e,provider:t,stableUser:a,metadataItem:n})},showUnmatch:function({server:e,provider:t,stableUser:a,metadataItem:n}){return L({server:e,provider:t,stableUser:a,metadataItem:n})},showSplitApart:function({server:e,provider:t,stableUser:a,metadataItem:n}){if(!N({server:e,provider:t,stableUser:a,metadataItem:n}))return!1;let r;r=h.isParentType(n.type)?n.Location:i.a.filter(n.Media,e=>!e.proxyType);return r.length>1},showSync:k,showSyncDownload:function({server:e,provider:t,stableUser:a,metadataItem:n}){if(!s.a.allowSyncDownload)return!1;if(!t)return!1;if(!c.a.includes(t.identifier))return!1;if(n.isPlaylist&&n.playlistType===g.b)return!1;if(n.isDownloaded&&!n.downloadSubscriptionID)return!1;if(!n.hasOwnProperty("guid"))return!1;if(n.remoteMedia)return!1;const i=t.features[o.q],r=(null==i?void 0:i.flavor)===l.a&&!!a.features[d.d];return t.isLibraryProvider?e.allowSync&&r:r},showOptimize:R,showDownload:function({server:e,provider:t,stableUser:a,metadataItem:n}){if(!s.a.allowDirectDownload)return!1;return!!t.protocols.download&&!n.isExtra&&!n.remoteMedia},showShare:function({server:e,provider:t,stableUser:a,metadataItem:n}){return e.isFullOwnedServer&&t.isLibraryProvider&&!n.isExtra&&!n.remoteMedia},showDelete:z,showDeleteVersion:function({server:e,provider:t,stableUser:a,metadataItem:n}){if(!N({server:e,provider:t,stableUser:a,metadataItem:n}))return!1;if(!e.allowMediaDeletion)return!1;return i.a.filter(n.Media,e=>!!e.proxyType).length>0},showViewPlayHistory:function({server:e,provider:t,stableUser:a,metadataItem:n}){return e.isFullOwnedServer&&!Object(f.a)(e)},showWatchTogether:function({server:e,provider:t,stableUser:a,metadataItem:n}){const i=!!a.features[d.G],r=c.l(t.identifier,[c.d,c.i]),s=n.isExtra;return i&&r&&!s},showGetInfo:function({server:e,provider:t,stableUser:a,metadataItem:n}){return!!t&&t.isLibraryProvider&&!n.isExtra&&!n.indirect},showSelect:U},I={[h.MOVIE]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToWatchlist","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.SHOW]:["showPlay","showPlayAll","showShuffle","showQueue","showPlayTrailer","showAddToPicks","showAddToWatchlist","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[h.SEASON]:["showPlay","showPlayAll","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[h.EPISODE]:["showPlay","showPlayVersion","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.ARTIST]:["showPlay","showShuffle","showPlayRadio","showPlayArtistTV","showQueue","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[h.ALBUM]:["showPlay","showShuffle","showQueue","showAddToPicks","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[h.TRACK]:["showPlay","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayMusicVideo","showAddToPlaylist","showAddToSaved","showAddToLibrary","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showDownload","showShare","showDelete","showViewPlayHistory","showGetInfo","showSelect"],[h.PHOTO_ALBUM]:["showPlay","showShuffle","showAddToPlaylist","showEdit","showAnalyze","showSync","showShare","showSelect"],[h.PHOTO]:["showPlay","showAddToPlaylist","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDownload","showShare","showDelete","showGetInfo","showSelect"],[h.CLIP]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.PLAYLIST]:["showDelete","showEdit","showPlay","showQueue","showShuffle","showAddToSaved","showSync","showSyncDownload","showShare","showSelect","showEdit","showModifySmartPlaylist"],[h.COLLECTION]:["showPlay","showQueue","showShuffle","showAddToPlaylist","showEdit","showSync","showDelete"],[h.GAME]:["showPlay","showPlayVersion","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showDelete","showDeleteVersion","showGetInfo","showSelect"]};function S({server:e,provider:t,stableUser:a,metadataItem:n}){return Object(b.a)(e,t,a.features,n)}function E({server:e,provider:t,stableUser:a,metadataItem:n}){const i=S({server:e,provider:t,stableUser:a,metadataItem:n}),r=n.isExtra&&n.isPremium;return i&&!!t.features.playqueue&&!r}function O({server:e,provider:t,stableUser:a,metadataItem:n}){return!!n.primaryExtraKey}function M({server:e,provider:t,stableUser:a,metadataItem:n}){return!(!n.related||!n.related.find(e=>/similarPlaylist/.test(e)))}function C({server:e,provider:t,stableUser:a,metadataItem:n}){if(!t)return!1;const i=t.features.playlist;if(!i||!Object(y.a)(a,i))return!1;return!(n.isExtra&&n.isPremium)&&!Object(f.a)(e)}function j({provider:e,stableUser:t,metadataItem:a}){return!(!e.features.actions.rate||h.isDirectoryType(a.type)||a.isFolder)}function D({server:e,provider:t,stableUser:a,metadataItem:n}){return j({provider:t,stableUser:a,metadataItem:n})&&!Object(p.c)(n)}function P({server:e,provider:t,stableUser:a,metadataItem:n}){return j({provider:t,stableUser:a,metadataItem:n})&&Object(p.c)(n)}function T({server:e,provider:t,stableUser:a,metadataItem:n}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.key)||t.protocols.livetv||n.type===h.TRACK&&n.subtype!==m.PODCAST||null!=n.saved&&!n.saved&&!n.viewOffset||n.isExtra)&&(h.isParentType(n.type)?n.unviewedLeafCount>0:!n.viewCount||!!n.viewOffset)}function w({server:e,provider:t,stableUser:a,metadataItem:n}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.reverseKey)||t.protocols.livetv||n.type===h.TRACK&&n.subtype!==m.PODCAST||null!=n.saved&&!n.saved||n.isExtra)&&(h.isParentType(n.type)?n.viewedLeafCount>0:!!n.viewCount||!!n.viewOffset)}function N({server:e,provider:t,stableUser:a,metadataItem:n}){const{isLibraryItem:i,isPlaylist:r,isExtra:s,isFolder:o,radio:l,readOnly:c}=n,d=i&&!s&&!o&&!l;return r?!c:!!(t&&t.features.manage&&d)}function x({server:e,provider:t,stableUser:a,metadataItem:n}){return N({server:e,provider:t,stableUser:a,metadataItem:n})}function A({server:e,provider:t,stableUser:a,metadataItem:n}){return!n.indirect&&!n.remoteMedia&&N({server:e,provider:t,stableUser:a,metadataItem:n})}function L({server:e,provider:t,stableUser:a,metadataItem:n}){return!!N({server:e,provider:t,stableUser:a,metadataItem:n})&&!(!n.guid||/(local|none):\/\//.test(n.guid))}function k({server:e,provider:t,stableUser:a,metadataItem:n}){if(!s.a.allowSync)return!1;if(!e.isFullServer)return!1;if(a.features[d.d])return!1;const{allowSync:i,isExtra:r,isLibraryItem:o,isPlaylist:l,remoteMedia:c}=n;return!(r||c||!o&&!l)&&!(!e.allowSync||!i)}function R({server:e,provider:t,stableUser:a,metadataItem:n}){return!!N({server:e,provider:t,stableUser:a,metadataItem:n})&&!(!e.transcoderVideo||!e.backgroundProcessing)}function z({server:e,provider:t,stableUser:a,metadataItem:n}){return!!N({server:e,provider:t,stableUser:a,metadataItem:n})&&!!(n.isPlaylist||n.type===h.COLLECTION||n.remoteMedia||e.allowMediaDeletion)}function U({server:e,provider:t,stableUser:a,metadataItem:n}){return!n.radio&&(t.isLibraryProvider&&!n.isFolder)}function V({server:e,provider:t,stableUser:a,metadataItem:n}){const{type:s}=n,o=I[s];if(!o)return{};return o.reduce((o,l)=>{const c=v[l];return Object(r.a)(i.a.isFunction(c),`getMetadataActionProps: Invalid action, ${l}, for ${s}`),o[l]=!!(e&&t&&n)&&c({server:e,provider:t,stableUser:a,metadataItem:n}),o},{})}},"4B5B":function(e,t,a){"use strict";var n=a("rG0a"),i=a("CpQb"),r=a("UCuc"),s=a.n(r);const o={success:!0,error:!0,notify:!0};var l=i.a.ItemView.extend({className:"alert-bar",template:s.a,events:{"click .close-btn":"onCloseClick"},initialize:function(e){const t=e.alert;if(this.alert=t,t){const e=t.type;e&&o[e]&&this.$el.addClass(e)}},hide:function(){n.a.trigger("hide:bar","alertbar")},serializeData:function(){return this.alert},onCloseClick:function(e){e.preventDefault(),this.hide()}});t.a=l},"4Img":function(e,t,a){e.exports={topDivider:"PrePlayListTopDivider-topDivider-3c8uzj PrePlayDivider-divider-1qvbj9"}},"4JMt":function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR"),r=a("nvND"),s=a("Q3JP"),o=a("Pizw"),l=a("FIl5"),c=a("WfN5"),d=a("7za+"),u=a("Wpyo");const p=n.a.extend({name:"HubModel",context:["server","provider","section","identifier","allowSync","includeExternalMedia"],entityType:d.c,entityID(e=this.state){return Object(c.a)(this.entityType,e.key||e.hubKey||e.hubIdentifier,this.provider.entityID())},idAttribute:"hubIdentifier",rootPropertyName:"Hub",responseType(){return Object(s.a)(this.server)},url(){return this.get("key")||this.get("hubKey")},syncedAttrs:{key:i.a.string,hubKey:i.a.string,hubIdentifier:i.a.string,source:i.a.string,title:i.a.string,summary:i.a.string,icon:i.a.string,thumb:i.a.string,attribution:i.a.string,type:i.a.string,subtype:i.a.string,style:i.a.string,size:i.a.integer,totalSize:i.a.integer,more:i.a.boolean,random:i.a.boolean,browse:i.a.boolean,upNext:i.a.boolean,context:i.a.string,promoted:i.a.boolean,autoAdvanceDelayMs:i.a.integer,Meta:i.a.object},syncedRelations:{metadataList:{relationClass:u.default,deferred:!0}},initialize(){this.listenTo(this.get("metadataList"),"change:populatedRange",this.onPopulatedRangeChange)},augmentResponseText:(e,t)=>t===r.c?Object(o.b)(e):e,augmentResponse(e){const t=null==e.totalSize?void 0:l.a.parseInteger(e.totalSize),a=l.a.parseInteger(e.size)||0,n=e.key||e.hubKey;return e.metadataList={containerKey:n,Metadata:e.Metadata,size:a,totalSize:t},e},onPopulatedRangeChange(e,t){const a=t.size,n=e.get("totalSize"),i={size:a};null!=n&&(i.more=n>a),this.set(i)}});t.a=p},"4KTB":function(e,t,a){e.exports={tertiaryTitleSpacer:"PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-14zhLB"}},"4P0s":function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("htvf"),l=a("Eeuk");const c=o.a.extend({mixins:l.a,initialize(e={}){e.interface&&(this.interface=e.interface),e.props&&(this.props=e.props),s.a.each(this.interface,e=>{this[e]=s.a.bind(this._proxy,this,e)})},_proxy(e,...t){return this.getInstance()[e](...t)},register(e,t={}){this.hasInstance()&&!t.ignorePrevious&&(this._previousInstance=this.getInstance()),this._instance=e,t.silent||this.trigger("change:instance",e)},registerOnce(e){if(!this.hasInstance()){const t=e();this.register(t.instance||t,t.options||void 0)}},restorePrevious(){this._previousInstance&&this.register(this._previousInstance)},registered(){const e=i.a.Deferred();return this.hasInstance()?e.resolve(this.getInstance()):this.listenToOnce(this,"change:instance",e.resolve),e.promise()},getInstance(){if(this.hasInstance())return this._instance;throw new Error("Nothing has been registered to this adapter.")},hasInstance(){return null!=this._instance},prop(e){if(s.a.contains(this.props,e))return this.getInstance()[e];throw new Error("The "+e+" property has not been defined for this adapter")}});t.a=c},"4QgX":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{},'<svg class="circle-progress-bar" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle fill="transparent"></circle> </svg> <div class="circle-progress-text"></div> '}))},"4Vl1":function(e,t,a){e.exports={emptyPage:"EmptyPage-emptyPage-2AM9uQ",content:"EmptyPage-content-10PgBS",icon:"EmptyPage-icon-31D3ZA",default:"EmptyPage-default-26GUDH",primary:"EmptyPage-primary-1uNBT2",success:"EmptyPage-success-zqYzQ8",danger:"EmptyPage-danger-3-2M_Y",imgIcon:"EmptyPage-imgIcon-32C35q",title:"EmptyPage-title-264Jp4",footer:"EmptyPage-footer-2lE0TA"}},"4X5K":function(e,t,a){e.exports={container:"ChannelsGridPlaceholder-container-t1lz5q",bar:"ChannelsGridPlaceholder-bar-1g_DPl",shimmer:"ChannelsGridPlaceholder-shimmer-18AjFZ"}},"4XqK":function(e,t,a){e.exports={container:"WatchTogetherLobby-container-3hLmMX",row:"WatchTogetherLobby-row-2uMUvW",poster:"WatchTogetherLobby-poster-34uvU5",details:"WatchTogetherLobby-details-S3aWld",hubCell:"WatchTogetherLobby-hubCell-3MvWr0 WatchTogetherParticipantsHubCell-hubCell-2d54Ct HubCell-hubCell-3Ys175"}},"4ZK+":function(e,t,a){e.exports={manualDeviceButtonContainer:"DVRSetupManualDevice-manualDeviceButtonContainer-3j0dPQ",manualDeviceContainer:"DVRSetupManualDevice-manualDeviceContainer-iJiemO",manualDeviceInput:"DVRSetupManualDevice-manualDeviceInput-oEJeON TextInput-input-1mDdJf"}},"4anc":function(e,t,a){e.exports={container:"CalendarDaysOfWeek-container-1MoYjb"}},"4asQ":function(e,t,a){e.exports={spinner:"Spinner-spinner-Niere7 spin-spin-2kLwt_",spinnerContainer:"Spinner-spinnerContainer-1dbVIc",spinnerLabel:"Spinner-spinnerLabel-3_zR9A",small:"Spinner-small-3PStHE Spinner-spinner-Niere7 spin-spin-2kLwt_",medium:"Spinner-medium-31XpHm Spinner-spinner-Niere7 spin-spin-2kLwt_",large:"Spinner-large-3AQPyD Spinner-spinner-Niere7 spin-spin-2kLwt_"}},"4gIP":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form id="convert-form" class="settings-container"> <div class="modal-body"> <div class="form-group ',((o=n.unless.call(t,t&&t.showRemuxOnlyWarning,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"hidden"}),s),data:s}))||0===o)&&(l+=o),l+='"> <p class="convert-warning help-block"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> '+c(i(a("d8WC")).call(t,"Video optimization may take a long time to complete on this server. You'll be able to use Plex normally while you wait.",{hash:{},data:s}))+' </span> </p> </div> <div class="form-group"> <label class="control-label" for="convert-title">'+c(i(a("d8WC")).call(t,"Title",{hash:{},data:s}))+'</label> <input type="text" id="convert-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)?o.apply(t):o)+'" placeholder="'+c("function"==typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="targets-region"></div> <div class="location-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(i(a("d8WC")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=n.if.call(t,t&&t.isNew,{hash:{},inverse:this.program(5,(function(e,t){return c(i(a("d8WC")).call(e,"Save",{hash:{},data:t}))}),s),fn:this.program(3,(function(e,t){return c(i(a("d8WC")).call(e,"Optimize",{hash:{},data:t}))}),s),data:s}))||0===o)&&(l+=o),l+="</span> </button> </div> </form> "}))},"4kAM":function(e,t,a){e.exports={conflict:"PlayerConflictItemRow-conflict-P0q6Qn",thumbnail:"PlayerConflictItemRow-thumbnail-3DnQMQ",title:"PlayerConflictItemRow-title-1hIqin",titleHighlight:"PlayerConflictItemRow-titleHighlight-EbgLGl"}},"4nIb":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return o+='<div class="modal-header"> <h4 class="modal-title"> '+(0,this.escapeExpression)((s=a("d8WC"),s&&(s.__esModule?s.default:s)).call(t,"Select User",{hash:{},data:r}))+' <span class="loading loading-sm"></span> </h4> </div> <div class="modal-body"></div> '}))},"4ovG":function(e,t,a){e.exports={line:"LineChart-line-kpWRY5",translucentLine:"LineChart-translucentLine-3Noru- LineChart-line-kpWRY5",legendContainer:"LineChart-legendContainer-3m9Lu0",legendLabels:"LineChart-legendLabels-2_DC2x",legendSummary:"LineChart-legendSummary-3CHecr",legendLabel:"LineChart-legendLabel-3FrzJh LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",translucentLegendLabel:"LineChart-translucentLegendLabel-177DBq LineChart-legendLabel-3FrzJh LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn"}},"4pPT":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-selected-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m78.756 298.564l-40 69.282 242.488 140 240-415.692-69.282-40-200 346.41-173.206-100"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},"4vwf":function(e,t,a){e.exports={container:"UsersSettingsRowActions-container-J6Ghnt"}},"5+Nd":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> <span class="generator-title"></span></h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4> <span class="generator-failure-container pull-right"> <i class="generator-failure-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-failure-message text-muted"></span> </span> <span class="generator-items-count"></span> &middot; <span class="generator-total-size"></span> </h4> <div class="list-region"></div> <div class="list-feedback-container"> <span class="loading hidden"></span> <span class="error-message text-muted hidden"> '+(0,this.escapeExpression)((s=a("d8WC"),s&&(s.__esModule?s.default:s)).call(t,"There was a problem loading these items.",{hash:{},data:r}))+" </span> </div> </div> </div> </div> "}))},"5/Iy":function(e,t,a){var n,i,r,s;r=a("F/us"),s=a("zLeb"),e.exports=(n=r,(i=s).ChildViewContainer=function(e,t){var a=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};return t.extend(a.prototype,{add:function(e,t){var a=e.cid;return this._views[a]=e,e.model&&(this._indexByModel[e.model.cid]=a),t&&(this._indexByCustom[t]=a),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var a=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,(function(e,t){if(e===a)return delete this._indexByCustom[t],!0}),this),delete this._views[a],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,a){t.each(this._views,(function(n){t.isFunction(n[e])&&n[e].apply(n,a||[])}))},_updateLength:function(){this.length=t.size(this._views)}}),t.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){a.prototype[e]=function(){var a=t.values(this._views),n=[a].concat(t.toArray(arguments));return t[e].apply(t,n)}})),a}(0,n),i.ChildViewContainer)},"5/Tp":function(e,t,a){"use strict";t.a=function(e){return"[object String]"===window.toString.call(e)}},"57QN":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t,n){var r,s="";return s+=' <li><a data-id="'+c("function"==typeof(r=e&&e.id)?r.apply(e):r)+'" href="#"><span class="dropdown-truncated-label">'+c("function"==typeof(r=e&&e.name)?r.apply(e):r)+"</span>",((r=i(a("w+Xr")).call(e,null==(r=n&&n.selectedDevice)||!1===r?r:r.id,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===r)&&(s+=r),s+="</a></li> "}function p(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}function m(e,t){return' <div class="row"> <div class="sync-device-container col-sm-12 col-md-12"></div> </div> '}function h(e,t){var n="";return n+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(i(a("d8WC")).call(e,"You have no sync capable devices.",{hash:{},data:t}))+"</h4> </div> "}function g(e,t){var a,i="";return i+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c("function"==typeof(a=null==(a=e&&e.plexPassInfo)||!1===a?a:a.message)?a.apply(e):a)+'</h4> <p class="text-center ',((a=n.unless.call(e,null==(a=e&&e.plexPassInfo)||!1===a?a:a.showButton,{hash:{},inverse:d.noop,fn:d.program(14,y,t),data:t}))||0===a)&&(i+=a),i+='"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(a=null==(a=e&&e.plexPassInfo)||!1===a?a:a.url)?a.apply(e):a)+'" target="'+c("function"==typeof(a=null==(a=e&&e.plexPassInfo)||!1===a?a:a.target)?a.apply(e):a)+'">'+c("function"==typeof(a=null==(a=e&&e.plexPassInfo)||!1===a?a:a.buttonText)?a.apply(e):a)+"</a> </p> </div> "}function y(e,t){return"hidden"}function f(e,t){var n="";return n+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(i(a("d8WC")).call(e,"This server does not support sync.",{hash:{},data:t}))+"</h4> </div> "}return l+='<div class="filter-bar"> ',((o=n.if.call(t,t&&t.showDeviceDropdown,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var a,i="";return i+=' <span class="dropdown"> <a class="dropdown-toggle" href="#device-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+c("function"==typeof(a=null==(a=e&&e.selectedDevice)||!1===a?a:a.name)?a.apply(e):a)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((a=n.each.call(e,e&&e.devices,{hash:{},inverse:d.noop,fn:d.programWithDepth(2,u,t,e),data:t}))||0===a)&&(i+=a),i+=" </ul> </span> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="filter-bar-right"> ',((o=n.if.call(t,t&&t.hasTouchScreen,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return'<a class="edit-btn btn-gray" href="#"><i class="glyphicon pencil"></i></a>'}),s),data:s}))||0===o)&&(l+=o),l+=' <a class="refresh-btn btn-gray" href="#"><i class="glyphicon repeat"></i></a> </div> </div> ',((o=n.if.call(t,t&&t.allowSync,{hash:{},inverse:d.program(12,(function(e,t){var a,i="";return i+=" ",((a=n.if.call(e,e&&e.sync,{hash:{},inverse:d.program(16,f,t),fn:d.program(13,g,t),data:t}))||0===a)&&(i+=a),i+=" "}),s),fn:d.program(7,(function(e,t){var a,i="";return i+=" ",((a=n.if.call(e,e&&e.devices,{hash:{},inverse:d.program(10,h,t),fn:d.program(8,m,t),data:t}))||0===a)&&(i+=a),i+=" "}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},"5CAA":function(e,t,a){e.exports={container:"SourceListItemDragSource-container-3Cii3P",source:"SourceListItemDragSource-source-2nauag",isOver:"SourceListItemDragSource-isOver-3Ngu4e"}},"5Fux":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("EiC7");function i(e){return Object(n.a)(e)/1e3}},"5HFX":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("+X4A"),i=a("gnaf"),r=a("mvw6");const s=/\/([^/]+)([^$]+)?/,o={};function l(e){if(o[e])return o[e];const{protocol:t,host:a,pathname:l,search:c}=n.default.parseUri(e),d="provider:"===t,u="server:"===t;if(!d&&!u)throw new Error("Source identifier is lacking provider or server scheme");const p=c.substr(1)||void 0,m=l.replace(/\/$/,"")||void 0,h=(null==m?void 0:m.match(s))||[],g=m&&"media"===h[1],y=g?i.d:h[1],f=d||g?m:h[2],b=f?f.slice(f.lastIndexOf("/")+1):void 0;return o[e]={isServer:u,serverIdentifier:d?r.a:a,providerIdentifier:d?a:y||i.d,key:f||"",ratingKey:b||"",parameters:p?n.default.parseParams(p):void 0},o[e]}},"5J4V":function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("+X4A"),s=a("B69o"),o=a("pxcU");const l=s.a.extend({name:"FilterCollection",context:["server","section","includeAdvanced"],model:o.a,comparator:"filterType",includeAdvanced:!0,url(){const e=i.a.result(this.section,"url"),t=this.section.get("currentType"),a={includeAdvanced:this.includeAdvanced?1:0};return t&&(a.type=t.id),r.default.join([e,"/filters"],a)},findUnwatchedFilter(){return this.get("unwatched")||this.get("unwatchedLeaves")}});t.a=l},"5NB4":function(e,t,a){"use strict";var n=a("G4qV"),i=a("zEgu");const r={};t.a=function(e){const t=r[e]||Object(n.a)(i.a,t=>!!t[e]);return r[e]=t,t}},"5QzM":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return" selected"}function p(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Select type",{hash:{},data:t}))+" "}function m(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"General",{hash:{},data:t}))+" "}function h(e,t){return"disabled"}function g(e,t){return"hidden"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o=n.if.call(t,t&&t.add,{hash:{},inverse:d.program(3,(function(e,t){var a,n="";return n+=' <i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(a=e&&e.paneTitle)?a.apply(e):a)+" "}),s),fn:d.program(1,(function(e,t){var n="";return n+=' <i class="modal-icon glyphicon plus"></i> '+c(i(a("d8WC")).call(e,"Add {1} Library",'<span class="section-type-title"></span>',{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> ',((o=n.if.call(t,t&&t.isLoading,{hash:{},inverse:d.program(7,(function(e,t){var r,s="";return s+=' <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> <li> <a class="btn-gray change-pane-btn type-btn',((r=i(a("w+Xr")).call(e,e&&e.selectedPane,"type",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===r)&&(s+=r),s+='" data-pane="type" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> ',((r=n.if.call(e,e&&e.add,{hash:{},inverse:d.program(12,m,t),fn:d.program(10,p,t),data:t}))||0===r)&&(s+=r),s+=' </a> </li> <li> <a class="btn-gray change-pane-btn folders-btn',((r=i(a("w+Xr")).call(e,e&&e.selectedPane,"folders",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=n.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=n.unless.call(e,e&&e.showFolders,{hash:{},inverse:d.noop,fn:d.program(16,g,t),data:t}))||0===r)&&(s+=r),s+='" data-pane="folders" href="#"> <i class="modal-nav-icon glyphicon folder-open"></i> '+c(i(a("d8WC")).call(e,"Add folders",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn options-btn',((r=i(a("w+Xr")).call(e,e&&e.selectedPane,"options",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=n.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===r)&&(s+=r),s+=' hidden" data-pane="options" href="#"> <i class="modal-nav-icon glyphicon magic"></i> '+c(i(a("d8WC")).call(e,"Options",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn advanced-btn',((r=i(a("w+Xr")).call(e,e&&e.selectedPane,"advanced",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=n.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===r)&&(s+=r),s+='" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(i(a("d8WC")).call(e,"Advanced",{hash:{},data:t}))+' </a> </li> </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> '}),s),fn:d.program(5,(function(e,t){return' <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(i(a("d8WC")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading ',((o=n.if.call(t,t&&t.add,{hash:{},inverse:d.noop,fn:d.program(14,h,s),data:s}))||0===o)&&(l+=o),l+='"> <div class="loading loading-sm"></div> <span class="btn-label"> <span class="save-btn-label-next">'+c(i(a("d8WC")).call(t,"Next",{hash:{},data:s}))+'</span> <span class="save-btn-label-save"> ',((o=n.if.call(t,t&&t.add,{hash:{},inverse:d.program(20,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Save Changes",{hash:{},data:t}))+" "}),s),fn:d.program(18,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Add Library",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" </span> </span> </button> </div> </div> </div> "}))},"5Uxk":function(e,t,a){"use strict";var n=a("66GW");t.a=function(e){if(!e||!e.length)return;const t=e.length;return 1===t?e[0]:2===t?Object(n.default)("{1} and {2}",e[0],e[1]):3===t?Object(n.default)("{1}, {2}, and {3}",e[0],e[1],e[2]):Object(n.default)("{1}, {2}, and {3} others",e[0],e[1],e.length-2)}},"5Wmy":function(e,t,a){e.exports={container:"DeviceChannelMappingsHeader-container-2lA3Ut",checkbox:"DeviceChannelMappingsHeader-checkbox-KTmKy- Checkbox-input-2z-Vk6",titleContainer:"DeviceChannelMappingsHeader-titleContainer-2wOm0C",title:"DeviceChannelMappingsHeader-title-3GD0sS",count:"DeviceChannelMappingsHeader-count-20Pe8S",rescanButton:"DeviceChannelMappingsHeader-rescanButton-2Zo6b5 Link-link-2ew_DK",device:"DeviceChannelMappingsHeader-device-2VuLOz",lineup:"DeviceChannelMappingsHeader-lineup-1POAKB"}},"5WoL":function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("rG0a"),l=a("+X4A"),c=a("cgRT"),d=a("DDbo"),u=a("JMV9"),p=a("hFBU"),m=a("LSig"),h=a("Vk9Z"),g=a("gnaf"),y=a("PSl2"),f=a("e/b/"),b=a("duQd"),v=a("RzpD"),I=a("66GW"),S=a("xMA9"),E=a("rXDx"),O=a("z8ZC"),M=a("Xw7/"),C=a("nhAy"),j=a("l9jO"),D=a("gxTH"),P=a("vtVQ"),T=a("CpQb"),w=a("jKuV"),N=a.n(w),x=T.a.ItemView.extend({template:N.a,events:{"change input[name]":"onInputChange","change select[name]":"onInputChange"},initialize:function(){this.changes={}},serializeData:function(){return{settings:this.collection.toJSON(),escapedAgentName:s.a.escape(this.model.agents.get(this.model.get("agent")).get("name"))}},onInputChange:function(e){var t=i()(e.currentTarget),a=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:t.attr("name")}).set("value",a)}}),A=a("Gu3x"),L=a("0rei"),k=a("v9x7"),R=a("pnnh"),z=a.n(R),U=z.a.extend({constructor:function(e,t,a,n){this.exclusiveScanners=t,this.scannerName=a,z.a.call(this,e,n),this.filterBy(s.a.bind(this.filterExclusiveScanner,this))},filterExclusiveScanner:function(e){var t=e.get("name"),a=this.exclusiveScanners;if(!a)return!0;var n=this.scannerName,i=-1!==a.indexOf(n),r=-1!==a.indexOf(t);return i?t===n:!r}}),V=a("B69o"),B=a("CHn6"),F=a("mOXR"),H=B.a.extend({name:"ScannerModel",context:["server"],rootPropertyName:"Scanner",syncedAttrs:{name:F.a.string}}),_=V.a.extend({name:"ScannerCollection",context:["server","sectionTypeID"],model:H,url:function(){return"/system/scanners/"+this.sectionTypeID},hasExclusiveScanner:function(e){return!!s.a.intersection(this.pluck("name"),e).length}}),W=T.a.Layout.extend({ui:{formGroup:".form-group"},onlyAfterRender:["showValidationResult"],serializeData:function(){var e={};return this.model.isNew()?e.add=!0:e.edit=!0,e.section=this.model.toJSON(),e},showValidationResult:function(e){var t=this.ui.formGroup;t.removeClass("has-error"),s.a.each(e,(function(e){t.filter("."+e+"-group").addClass("has-error")})),this.trigger(e.length?"invalid":"valid")},createMenuOptions:function(e,t){return s.a.map(e,(function(e){return'<option value="'+e.value+'"'+(e.value===t?" selected":"")+">"+e.label+"</option>"})).join("\n")},getSectionType:function(){if(this.model.sectionType)return this.model.sectionType;var e=this.model.get("type"),t=O.g.get(e);return"movie"===e&&this.model.get("agent")===m.d&&(t=O.g.get("videos")),this.model.sectionType=t,t},setSectionType:function(e){this.model.sectionType=e},populateAgents:function(){var e=this.getSectionType();return e?(this.model.agents||(this.model.agents=new L.a([],{server:this.model.server,mediaTypeID:e.typeID})),this.model.agents.populate().then((function(e){return e}))):i.a.Deferred().reject().promise()},populateScanners:function(){var e=this.getSectionType();return e?(this.model.scanners||(this.model.scanners=new _([],{server:this.model.server,sectionTypeID:e.typeID})),this.model.scanners.populate().then((function(e){return e}))):i.a.Deferred().reject().promise()},populateAgentsProxy:function(){var e=this.getSectionType().exclusiveAgents,t=new k.a(this.model.agents,e,this.model.get("agent"));return this.model.agentsProxy=t,i.a.Deferred().resolve(t).promise()},populateScannersProxy:function(){var e=this.getSectionType().exclusiveScanners,t=new U(this.model.scanners,e,this.model.get("scanner"));return this.model.scannersProxy=t,i.a.Deferred().resolve(t).promise()},populateSectionSettings:function(){if(!this.model.server.supports("sectionSettings"))return i.a.Deferred().resolve().promise();if(!this.model.settings){var e=new A.a([],{server:this.model.server}),t={agent:this.model.get("agent")};if(this.model.isNew()){var a=this.getSectionType();t.type=a.typeID,e.url=l.default.join(["/library/sections/prefs"],t)}else e.url=l.default.join(["/library/sections/",this.model.id,"/prefs"],t);this.model.settings=e}return this.model.settings.populate().then(()=>(!(!this.model.isNew()||"music"!==this.model.get("type")||!this.model.server.supports("premiumMusic")||this.model.settings.findWhere({id:"importFromiTunes"})||!this.model.server.get("desktop").get("settings").findWhere({id:"iTunesLibraryXmlPath"}))&&this.model.settings.unshift({type:"bool",id:"importFromiTunes",value:!1,label:Object(I.default)("Import from iTunes"),summary:Object(I.default)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library.")}),this.model.settings))},populateSectionAgentSettings:function(){if(!this.model.agentSettings){var e=new A.a([],{server:this.model.server,url:l.default.join(["/:/plugins/",this.model.get("agent"),"/prefs"])});this.model.agentSettings=e}return this.model.agentSettings.populate()},onModalClose:function(){this.model.scanners=null,this.model.scannersProxy=null,this.model.agents=null,this.model.agentsProxy=null,this.model.settings=null}}),Q=a("cAHu"),G=a.n(Q),K=T.a.ItemView.extend({template:G.a,events:{"change [name]":"onEditSectionSettingInputChange"},serializeData:function(){return{settings:this.collection.toJSON(),edit:!this.model.isNew()}},onEditSectionSettingInputChange:function(e){var t=i()(e.currentTarget),a=t.attr("name");if("importFromiTunes"!==a){var n=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:a}).set("value",n)}else this.model.set(a,!0)}}),Y=a("8YbF"),q=a.n(Y),Z=W.extend({template:q.a,ui:s.a.extend({sectionAgent:"#edit-section-agent",sectionScanner:"#edit-section-scanner",thumbnailsCheckbox:'input[name="enableBIFGeneration"]',agentGroup:".agent-group",scannerGroup:".scanner-group"},W.prototype.ui),events:{"change #edit-section-agent":"onEditSectionAgentChange","change #edit-section-scanner":"onEditSectionScannerChange","click .delete-thumbnails-btn":"onThumbnailsDeleteClick"},regions:{sectionSettingsRegion:".section-settings-region",agentSettingsRegion:".section-agent-settings-region"},onlyAfterRender:["renderSectionAgent","renderSectionScanner","renderSectionSettings","renderSectionAgentSettings"].concat(W.prototype.onlyAfterRender),initialize:function(){this.populateCollections()},onRender:function(){this.model.agents.populate(),this.model.scanners.populate()},validate:function(e){var t=[];return e.get("agent")||t.push("agent"),e.get("scanner")||t.push("scanner"),t},renderSectionSettings:function(){var e=new K({model:this.model,collection:this.model.settings});this.sectionSettingsRegion.show(e)},renderSectionAgentSettings:function(){var e=new x({model:this.model,collection:this.model.agentSettings});this.agentSettingsRegion.show(e)},populateCollections:function(){var e=this.populateAgents(),t=this.populateScanners(),a=this.populateSectionSettings(),n=this.populateSectionAgentSettings();return this.populateAgentsProxy(),this.populateScannersProxy(),e.then(s.a.bind(this.onAgentsPopulate,this)),t.then(s.a.bind(this.onScannersPopulate,this)),a.then(s.a.bind(this.renderSectionSettings,this)),n.then(s.a.bind(this.renderSectionAgentSettings,this)),i.a.when(e,t,a,n).then(s.a.bind(this.validate,this,this.model))},renderSectionAgent:function(){var e=this.model.agentsProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("identifier")}})),this.model.get("agent"));this.ui.sectionAgent.html(t),e.length>1&&this.ui.agentGroup.removeClass("hidden")},renderSectionScanner:function(){var e=this.model.scannersProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("name")}})),this.model.get("scanner"));this.ui.sectionScanner.html(t),e.length>1&&this.ui.scannerGroup.removeClass("hidden")},onEditSectionAgentChange:function(e){var t=i()(e.currentTarget).val(),a=this.model.get("scanner");this.model.set("agent",t),this.agentSettingsRegion.close();var n=this.model.agents.get(t);if(n){var r=n.get("languages"),o=this.model.get("language"),l=this.getSectionType();if(!r.get(o)){var c=r.findWhere({default:!0});c||2!==o.search("-")||(c=r.get(o.substr(0,2))),c||(c=r.get(l.defaultLanguage)||r.first()),this.model.set("language",c.get("code"))}if(this.model.agentSettings=null,this.populateSectionAgentSettings().then(s.a.bind(this.renderSectionAgentSettings,this)),this.model.settings=null,this.populateSectionSettings().then(s.a.bind(this.renderSectionSettings,this)),t===l.mutual.agent)this.model.set("scanner",l.mutual.scanner),this.renderSectionScanner();else if(this.model.get("scanner")===l.mutual.scanner){var d=this.model.scanners.find(e=>e.get("name")!==a);this.model.set("scanner",d.get("name")),this.renderSectionScanner()}}this.showValidationResult(this.validate(this.model))},onEditSectionScannerChange:function(e){var t=i()(e.currentTarget).val(),a=this.model.get("agent"),n=this.getSectionType();if(this.model.set("scanner",t),t===n.mutual.scanner)this.model.set("agent",n.mutual.agent),this.renderSectionAgent();else if(this.model.get("agent")===n.mutual.agent){var r=this.model.agents.find(e=>e.get("identifier")!==a);this.model.set("agent",r.get("identifier")),this.renderSectionAgent()}this.showValidationResult(this.validate(this.model))},onAgentsPopulate:function(e){this.renderSectionAgent()},onScannersPopulate:function(e){this.renderSectionScanner()},onThumbnailsDeleteClick:function(e){e.preventDefault(),P.a.execute("deleteSectionThumbnails",{section:this.model}).done(this.whenRendered((function(){this.ui.thumbnailsCheckbox.prop("checked",!1)})))}}),X=a("vCrX"),J=a.n(X),$=W.extend({template:J.a}),ee=a("W7j1"),te=a("AQch"),ae=a("j7uO"),ne=a("cyda"),ie=a.n(ne),re=T.a.ItemView.extend({template:ie.a,className:"row",events:{"click .remove-path-btn":"onRemovePathClick"},onRemovePathClick:function(e){e.preventDefault(),this.model.trigger("destroy",this.model,this.model.collection)}}),se=T.a.CollectionView.extend({itemView:re}),oe=a("T0/d"),le=a("blYO"),ce=a("SfGf"),de=a.n(ce);var ue=T.a.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item disabled",template:de.a,serializeData:function(){return{filePath:this.model.toJSON()}}}),pe=a("JFSz"),me=a.n(pe);var he=T.a.CompositeView.extend({template:me.a,itemView:ue,itemViewContainer:".js-file-list-items",bindings:{".js-file-list-truncated-message":{modelAttribute:"truncatedFilesCount",formatter:e=>e?Object(I.default)("…and {truncatedFilesCount} more",{truncatedFilesCount:e}):null}}}),ge=a("bq2q"),ye=a.n(ge),fe=T.a.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item",template:ye.a,ui:{link:"a",spinner:".loading"},serializeData:function(){return{filePath:this.model.toJSON(),isRoot:!this.model.parent}},select:function(e){this.ui.link.addClass("selected"),this.ui.spinner.toggleClass("hidden",!e)},unselect:function(){this.ui.link.removeClass("selected"),this.ui.spinner.addClass("hidden")}}),be=T.a.CollectionView.extend({tagName:"ul",className:"list browse-directory-list",itemView:fe,selectedFilePath:null,events:{"click a":"onDirectoryClick"},collectionEvents:{reset:"onReset"},startLoadingItem:function(e){this.selectedFilePath&&this.unselectItem(this.selectedFilePath),this.selectedFilePath=e;var t=this.children.findByModel(e);t&&t.select(!0)},stopLoadingItem:function(e){var t=this.children.findByModel(e);t&&t.select(!1)},unselectItem:function(e){this.selectedFilePath=null;var t=this.children.findByModel(e);t&&t.unselect()},onReset:function(){this.parentFilePath&&this.collection.add(this.parentFilePath,{at:0})},onDirectoryClick:function(e){e.preventDefault();var t=i()(e.currentTarget).data("key"),a=this.collection.get(t)||this.parentFilePath;this.trigger("change:path",a),this.options.isRoot||(a.parent.parent?(this.parentFilePath=a.parent.parent.clone(),this.parentFilePath.set({title:".. [Back]",isBackShortcut:!0})):this.parentFilePath=null)}}),ve=a("bsps"),Ie=a("ryK+"),Se=a.n(Ie),Ee=ve.a.extend({name:"addFolderModal",className:"add-folder-modal modal fade",template:Se.a,events:s.a.extend({"submit form":"onSubmitForm"},ve.a.prototype.events),ui:{path:'input[name="path"]'},regions:{rootList:".home-directory-container",childrenList:".path-container",childrenFileList:".file-container"},initialize:function(e){ve.a.prototype.initialize.apply(this,arguments),this.rootPathList=new le.default({},{server:e.server,includeFiles:1}),this.childrenPathList=new le.default({},{server:e.server,includeFiles:1}),this.loadRootPaths()},loadRootPaths:function(){this.rootPathList.fetch().done(this.whenRendered((function(){var e=this.rootPathList.get("paths").where({home:!0}),t=s.a.first(e)||this.rootPathList.get("paths").first();this.rootList.currentView.startLoadingItem(t),this.loadChildrenPaths(t)})))},loadChildrenPaths:function(e){oe.a.abortAll("addFolderModal");var t=e.get("children"),a=t.fetch({scope:"addFolderModal"});a.done(this.whenRendered((function(){this.ui.path.val(e.get("path")),this.childrenPathList.get("paths").reset(t.get("paths").models),this.childrenPathList.get("files").reset(t.get("files").models),this.childrenPathList.set("truncatedFilesCount",t.get("truncatedFilesCount"))}))),a.fail(this.whenRendered((function(){this.childrenList.currentView.unselectItem(e),o.a.trigger("show:alert",{type:"error",message:Object(I.default)("Unable to load contents of '{1}'",e.get("path"))})}))),a.always(this.whenRendered((function(){this.rootList.currentView.stopLoadingItem(e)})))},onRender:function(){ve.a.prototype.onRender.apply(this,arguments);var e=new be({isRoot:!0,collection:this.rootPathList.get("paths")}),t=new be({collection:this.childrenPathList.get("paths")}),a=new he({model:this.childrenPathList,collection:this.childrenPathList.get("files")});this.listenTo(e,"change:path",this.onRootPathChange),this.listenTo(t,"change:path",this.onChildrenPathChange),this.rootList.show(e),this.childrenList.show(t),this.childrenFileList.show(a)},onRootPathChange:function(e){this.childrenList.currentView.parentFilePath=null,this.rootList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onChildrenPathChange:function(e){this.childrenList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onSubmitForm:function(e){e.preventDefault(),this.trigger("add:folder",this.ui.path.val()),this.hide()}}),Oe=a("uh19"),Me=a.n(Oe);function Ce(e,t){return e.findWhere({type:t,state:ee.a})||e.findWhere({type:t,state:ee.e})}function je(e,t){return e.findWhere({type:t,state:ee.d})||e.findWhere({type:t,state:ee.b})||e.findWhere({type:t,state:ee.c})}var De=W.extend({template:Me.a,fieldNames:["Location"],regions:{pathsRegion:".paths-region"},ui:{...W.prototype.ui,addFolderBtn:".add-folder-btn",addFolderPopulating:".add-folder-populating",addFolderError:".add-folder-error",arcadeDownloadMediaInput:"#arcade-download-media",arcadeGreeting:"#arcade-greeting",arcadeRequired:"#arcade-required",arcadeUpsell:"#arcade-upsell",parsecRequired:"#parsec-required"},events:{"click .add-folder-btn":"onAddFolderClick","change input[name=path]":"onFolderChange","change input[name=downloadMedia]":"onDownloadMediaChange"},onlyAfterRender:["renderSectionLocation"].concat(W.prototype.onlyAfterRender),initialize:function(){this.listenTo(this.model.get("locations"),{add:this.onCollectionChange,remove:this.onCollectionChange}),this.model.get("type")===O.a&&this.listenTo(Object(c.c)("appModel").get("user"),{change:this.onUserChange}),this.renderSectionLocation(),this.showValidationResult(this.validate(this.model))},serializeData:function(){var e=this.model.get("type")===O.a,t=this.model.isNew()&&e,a=Object(c.c)("appModel").get("user"),n=!!Ce(a.get("subscriptions"),te.a),i=!(!je(a.get("subscriptions"),te.a)&&!je(a.get("pastSubscriptions"),te.a)),r=Object(ae.a)(a.get("services").toJSON(),"parsec"),s=e&&n,o=t&&i&&!n,d=t&&!i&&!n,u=e&&n&&!r;return{...W.prototype.serializeData.call(this),hideArcadeGreeting:!s,hideArcadeRequired:!o,hideArcadeUpsell:!d,hideParsecRequired:!u,isDisabled:t&&!n,isGamesSection:e,isNewGamesSection:t,subscribeURL:l.default.join(["https://www.plex.tv","/arcade/checkout"])}},validate:function(e){var t=Ce(Object(c.c)("appModel").get("user").get("subscriptions"),te.a);if(e.isNew()&&e.get("type")===O.a){if(!t)return["subscriptionRequired"];if(e.get("downloadMedia"))return[]}var a=[];return e.get("locations").length||a.push("locations"),a},renderSectionLocation:function(){var e=new se({collection:this.model.get("locations")});this.pathsRegion.show(e)},onCollectionChange:function(){this.showValidationResult(this.validate(this.model))},onAddFolderClick:function(e){e.preventDefault();var t=new Ee({server:this.model.server});this.listenToOnce(t,"add:folder",this.onAddFolder),o.a.trigger("show:modal",t)},onAddFolder:function(e){if(e){var t={path:e};this.model.get("locations").findWhere(t)||this.model.get("locations").add(t)}},onFolderChange:function(e){var t=i()(e.currentTarget),a=t.prop("defaultValue"),n=t.val();n?(this.model.get("locations").findWhere({path:a}).set("path",n),t.prop("defaultValue",n)):t.val(a)},onDownloadMediaChange:function(e){i()(e.currentTarget).prop("checked")?(this.model.set("downloadMedia",1),this.trigger("valid")):(this.model.unset("downloadMedia"),this.trigger("invalid"))},onUserChange:function(){const{hideArcadeGreeting:e,hideArcadeRequired:t,hideArcadeUpsell:a,hideParsecRequired:n,isDisabled:i}=this.serializeData(),{addFolderBtn:r,arcadeDownloadMediaInput:s,arcadeGreeting:o,arcadeRequired:l,arcadeUpsell:c,parsecRequired:d}=this.ui;r.prop("disabled",i),s.prop("disabled",i),o.toggleClass("hidden",e),l.toggleClass("hidden",t),c.toggleClass("hidden",a),d.toggleClass("hidden",n),this.showValidationResult(this.validate(this.model))}}),Pe=a("9U9a"),Te=a("CHYD"),we=a.n(Te),Ne=W.extend({template:we.a,ui:{chooseLibrary:".choose-library"},events:{"click .choose-library":"onChooseLibraryClick"},modelEvents:{"change:agent":"onSectionAgentChange","change:scanner":"onSectionScannerChange"},onlyAfterRender:["updateSelectedOffering"],initialize:function(){this.hasPremiumMusic=this.model.server.hasOwnerFeature("premium_music_metadata"),this.updateSelectedOffering()},serializeData:function(){var e=c.c("appModel").get("user");return{hasPremiumMusic:this.hasPremiumMusic,plexPassUrl:e.server.get("plexPassUrl"),hasLyrics:this.model.server.get("transcoderLyrics")}},updateSelectedOffering:function(){var e=this.model.get("agent"),t=this.model.get("scanner");this.ui.chooseLibrary.find("input").prop("checked",!1);var a=this.ui.chooseLibrary.filter('[data-agent="'+e+'"][data-scanner="'+t+'"]').find("input");a.length||(a=this.ui.chooseLibrary.not("[data-agent][data-scanner]").find("input")),a.prop("checked",!0)},onChooseLibraryClick:function(e){var t=i()(e.currentTarget),a=t.data("agent"),n=t.data("scanner");!a&&!n||this.hasPremiumMusic?(this.model.agentSettings=null,this.model.set({agent:a||this.getSectionType().defaultAgent,scanner:n||this.getSectionType().defaultScanner})):o.a.trigger("show:modal",new Pe.a({model:this.model.server}))},onSectionAgentChange:function(){this.updateSelectedOffering()},onSectionScannerChange:function(){this.updateSelectedOffering()}}),xe=a("zTsO"),Ae=a("8vr4"),Le=a("VzrX"),ke=a("xNAM"),Re=a("7H9Q"),ze=a("eX9C"),Ue=a("aCTI"),Ve=a("Hpi7"),Be=a("uuaR");var Fe=function(e){switch(e){case O.b:return Re.a;case O.c:return ze.a;case O.d:return Ue.a;case O.e:return Ve.a;case O.f:return ke.a;case O.a:return Be.a}},He=a("PKZm"),_e=a.n(He);function We(e,t){return(null==e?void 0:e.key)!==O.a||t.get("games")}var Qe=W.extend({template:_e.a,ui:s.a.extend({sectionTypes:".wizard-block",sectionTitle:"#edit-section-title",sectionLanguage:"#edit-section-language",sectionLanguageGroup:".language-group"},W.prototype.ui),modelEvents:{"change:type":"onSectionTypeChange","change:title":"onSectionTitleChange","change:language":"onSectionLanguageChange"},events:{"click .section-type":"onSectionTypeClick","keyup #edit-section-title":"onEditSectionTitleChange","change #edit-section-title":"onEditSectionTitleChange","change #edit-section-language":"onEditSectionLanguageChange"},onlyAfterRender:["renderSectionLanguage","updateSectionTypesWizardBlocks","updateSectionLanguage","updateSectionTitle"].concat(W.prototype.onlyAfterRender),initialize:function(e){this.populateCollections(),this.isDefaultSection=e.isDefaultSection},serializeData:function(){var e=W.prototype.serializeData.apply(this,arguments);const t=c.c("appModel"),a=t.get("user"),n=a.get("features").get(xe.x)&&this.model.server.hasOwnerFeature(xe.x);e.sectionTypes=O.g.getAll().reduce((e,t)=>((t.key!==O.a||n)&&e.push({...t,typeIcon:Object(Le.a)(Fe(t.key),{className:"wizard-block-icon"})}),e),[]);var i=this.getSectionType();i&&(e.currentSectionKey=i.key);var r=this.model.get("updatedAt");return r&&(e.updatedAt=Object(Ae.a)(r)),e.canChangeType=this.model.isNew()&&!this.isDefaultSection,e.hasType=!!this.model.get("type"),e.isInitialTypeSupported=We(this.model.sectionType,this.model.server),e.escapedUpdatedAt=s.a.escape(e.updatedAt),e},validate:function(e){var t=[];return e.get("type")||t.push("type"),e.get("title")||t.push("title"),e.get("language")||t.push("language"),e.get("isCollectionsPopulated")||t.push("collectionsNotPopulated"),We(e.sectionType,e.server)||t.push("unsupportedType"),t},populateCollections:function(){this.model.set("isCollectionsPopulated",!1);var e=this.populateAgents(),t=this.populateScanners(),a=this.getSectionType(),n=i.a.when(a,e,t,this.model.server.get("myPlexSubscription")&&this.model.server.supports("premiumMusic"));return this.model.isNew()&&(n=n.then(s.a.bind(this.model.setAgentAndScanner,this.model))),n=n.then(e).then(s.a.bind(this.onAgentsPopulate,this)).then(s.a.bind((function(){this.showValidationResult(this.validate(this.model))}),this)).then(()=>{this.model.isNew()&&this.model.get("type")===O.a?this.model.set("downloadMedia",1):this.model.unset("downloadMedia"),this.model.set("isCollectionsPopulated",!0)})},renderSectionLanguage:function(){var e=this.model.get("language"),t=this.model.agents.get(this.model.get("agent"));if(t){var a=t.get("languages");if(!a.get(e)){var n,i=a.findWhere({default:!0});if(i&&(n=i.get("code")),!n){var r=this.model.get("type");n=O.g.get(r).defaultLanguage}this.model.set("language",n,{silent:!0}),e=n}var s=a.map((function(e){return{label:e.get("name"),value:e.id}}));this.updateSectionLanguage(),this.ui.sectionLanguage.html(this.createMenuOptions(s,e))}else this.ui.sectionLanguageGroup.hide()},updateSectionTypesWizardBlocks:function(){this.ui.sectionTypes.removeClass("selected"),this.ui.sectionTypes.filter('[data-key="'+this.model.get("type")+'"]').addClass("selected"),this.$el.addClass("section-type-chosen")},updateSectionLanguage:function(){this.ui.sectionLanguage.val(this.model.get("language"))},updateSectionTitle:function(){var e=this.ui.sectionTitle.val(),t=this.model.get("title");e!==t&&this.ui.sectionTitle.val(t)},onSectionTypeClick:function(e){e.preventDefault();var t=i()(e.currentTarget);if(t.hasClass("selectable")){var a=t.data("key"),n={type:a},r=O.g.get(a);this.model.get("title")||(n.title=r.title),this.model.set(n)}},onEditSectionTitleChange:function(e){var t=i()(e.currentTarget);this.model.set("title",t.val()),this.showValidationResult(this.validate(this.model))},onEditSectionLanguageChange:function(e){var t=i()(e.currentTarget);this.model.set("language",t.val()),this.showValidationResult(this.validate(this.model))},onSectionTypeChange:function(e,t){this.updateSectionTypesWizardBlocks();var a=O.g.get(t);if(!this.model.get("language")){var n=a.defaultLanguage;this.model.set("language",n)}var i=this.model.get("title"),r=this.model.previous("type"),s=O.g.get(r),o=s&&s.title;i&&i!==o||this.model.set("title",a.title),this.setSectionType(a),this.model.agents=null,this.model.scanners=null,this.model.settings=null;const l=We(a,this.model.server);this.$el.toggleClass("is-type-unsupported",!l),l&&this.populateCollections()},onSectionTitleChange:function(e,t){this.updateSectionTitle(),this.showValidationResult(this.validate(this.model))},onSectionLanguageChange:function(e,t){this.updateSectionLanguage()},onAgentsPopulate:function(e){this.renderSectionLanguage()}}),Ge=a("S1hb"),Ke=a("5QzM"),Ye=a.n(Ke),qe=ve.a.extend({mixins:[C.a],name:"editSectionModal",className:"edit-section-modal modal modal-lg fade",template:Ye.a,panes:{type:{constructor:Qe,nextPane:"folders",dependentPanes(){return this.showFolders?["folders"]:["options","advanced"]}},folders:{constructor:De,nextPane:"options",dependentPanes:["options","advanced"]},options:{constructor:Ne,nextPane:"advanced"},advanced:{constructor:Z},error:{constructor:$}},panesModel:"tempModel",ui:{sidebar:".modal-nav-list",optionsBtn:".options-btn",saveBtn:".save-btn",message:".form-message",headerSectionType:".section-type-title"},regions:{paneRegion:".pane-region"},events:s.a.extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onSaveClick","submit .edit-section-type-form":"onGeneralFormSubmit"},ve.a.prototype.events),onlyAfterRender:["showPane","updateMessage","updateSectionTitle","updateSectionTitleDestabilized","updateSaveBtn"],paneConstructorArg:function(){return{isDefaultSection:this.isDefaultSection}},initialize:function(e){ve.a.prototype.initialize.apply(this,arguments),this.server=e.server,this.redirect=e.redirect,this.isDefaultSection=e.isDefaultSection,this.isLoading=!0,this.model?(this.tempModel=this.model.clone(),this.tempModel.collection=this.model.collection):this.tempModel=new d.a({},{server:this.server,collection:this.server.get("sections")}),this.listenTo(this.tempModel,"change:type",this.onSectionTypeChange),this.tempModel.isNew()&&e.seedAttrs&&this.tempModel.set(this.tempModel.parse(e.seedAttrs)),this._deferred=i.a.Deferred(),this.promise=this._deferred.promise();var t=this.server.get("providers");t.populate().done(this.whenRendered(()=>{var a=t.get(g.d).get("features").get(h.h).get("automaticLibraryFolders");this.showFolders=!a,this.isLoading=!1,this.render(),this.showPane(e.selectedPane||"type")}))},serializeData:function(){var e=this.tempModel,t=e.isNew(),a=e&&Object(I.default)("Edit {1}",e.get("title"),{escape:!0});return{isLoading:this.isLoading,add:t,edit:!t,paneTitle:a,section:e&&e.toJSON(),selectedPane:this.selectedPane,showFolders:this.showFolders}},updateMessage:function(e){this.ui.message.text(e||"")},updateSaveBtn:function(){var e=this.ui.saveBtn,t=this.panes[this.selectedPane],a=s.a.bind((function(a){var n,i=t.nextPane,r=this.tempModel.isNew(),s=!t.constructor.prototype.validate||0===t.constructor.prototype.validate(this.tempModel).length,o=!this.getReachablePanes().isAnyInvalid,l=this.tempModel.get("isCollectionsPopulated");this.ui.optionsBtn.toggleClass("hidden",!a.showOptions);var c=l&&(o||r&&s);n=i,a.showOptions||"options"!==i||(n=!1),o&&(n=!1),a.showOptions&&"options"===i&&(n=!0),a.showAdvanced&&"advanced"===i&&(n=!0),this.tempModel.isNew()&&"folders"===i&&(n=!0),e.toggleClass("save",!n),e.toggleClass("next",!!n),e.toggleClass("disabled",!c)}),this),n=this.tempModel.server,i=this.tempModel.sectionType,r=i&&"music"===i.key&&n.supports("premiumMusic"),o=this.tempModel.isNew();r?this.paneRegion.currentView.populateAgents().then((function(e){var t=e.findWhere({identifier:m.h}),n=o&&t;a({showOptions:n,showAdvanced:n})})):a({})},updateSectionTitle:function(){var e=O.g.get(this.tempModel.get("type"));if(e){this.updateSectionTitleDestabilized();var t=s.a.escape(e.title);this.ui.headerSectionType.html(t)}},updateSectionTitleDestabilized:function(){this.ui.headerSectionType.addClass("section-type-title-unstable"),this.ui.headerSectionType.triggerReflow(),this.ui.headerSectionType.removeClass("section-type-title-unstable")},save:function(){var e=this.ui.saveBtn;this.updateMessage(""),e.addClass("active");var t=this.saveModel();t.always((function(){e.removeClass("active")})),t.fail(s.a.bind((function(e){503===e.status?o.a.trigger("show:modal",new Ge.a({model:this.server})):this.updateMessage(Object(I.default)("Your changes could not be saved."))}),this)),t.then(s.a.bind((function(){var e=this.model.server.entityID(),t=Object(c.c)("appStore").dispatch;if(t(Object(p.u)({serverEntityID:e})),t(Object(p.t)({serverEntityID:e})),!this.redirect)return this._deferred.resolve(),void this.hide();var a,n={machineIdentifier:this.model.server.get("machineIdentifier"),isCloud:this.model.server.get("isCloud")},i={identifier:g.d,isLibraryProvider:!0},r={id:this.model.id},s=this.model.get("type"),o={};Object(D.a)()?(o.pivot=Object(y.a)(this.model.server.get("version"),u.a.pivotIDs)?"library":Object(b.a)(this.model.id,s),s===E.ARTIST&&(o.key=l.default.join(["/library/sections",this.model.id,"all"],{type:Object(E.getMetadataType)(E.ALBUM).id,sort:"addedAt:desc"})),a=Object(M.a)(n,i,r,o)):(o.key=Object(b.a)(this.model.id,s),s===E.ARTIST&&(o.typeKey=`/library/sections/${this.model.id}/all?type=${Object(E.getMetadataType)(E.ALBUM).id}`,o.sort="addedAt:desc"),a=Object(M.a)(n,i,r,o)),window.location.hash=a,this._deferred.resolve(),this.hide()}),this))},saveModel:function(){var e,t=this.getSectionSettingsParams(),a=this.server.supports("saveInlineSectionSettings"),n=t&&a?{data:{prefs:t}}:{};return this.tempModel.isNew()?e=(e=this.tempModel.save(null,n)).then(s.a.bind((function(e,a,n){var i=f.a.parseXML(e);if(201===n.status){if(i.Directory&&(i=i.Directory),!i.key){var r=n.getResponseHeader("Location");r&&(i.key=r.substring(r.lastIndexOf("/")+1))}var s=this.server;s.supports("advancedFilters")&&(i.filters=!0),this.model=new d.a(i,{parse:!0,server:s}),s.get("sections").add(this.model);var o=null==t?void 0:t.hidden,l="string"==typeof o?parseInt(o,10):null;if(1!==l&&2!==l){var u=s.get("providers").get(g.d),p=u?Object(S.a)(u.toJSON(),this.model.toJSON()):null,m=p?p.key:null;u&&m&&Object(c.c)("appStore").dispatch(Object(j.t)({sources:[{key:Object(v.a)(m,s.get("machineIdentifier"),u.get("identifier"),i.key),sourceType:m,serverEntityID:s.entityID(),machineIdentifier:s.get("machineIdentifier"),providerEntityID:u.entityID(),providerIdentifier:u.get("identifier"),providerMetricsIdentifier:u.get("metricsIdentifier"),directoryID:i.key,directoryIcon:null,title:this.model.get("title"),serverFriendlyName:s.get("friendlyName"),serverSourceTitle:s.get("sourceTitle"),isLocal:s.get("isPrivateConnection"),isUnavailable:!1,isOutOfDate:!1,isUnclaimedServer:!s.get("isClaimed"),isFullOwnedServer:s.get("isFullOwnedServer"),isProviderReady:!0}],interaction:!1}))}return n}}),this)):(this.model.copy(this.tempModel),e=this.model.save(null,n)),t&&!a&&(e=e.then(s.a.bind(this.saveSettings,this,t))),e=e.then(s.a.bind(this.saveAgentSettings,this))},saveSettings:function(e){var t=i.a.Deferred().resolve(this.model).promise();if(!this.server.supports("sectionSettings"))return t;if(!e)return t;var a=l.default.join(["/library/sections/",this.model.id,"/prefs"],e),n=s.a.extend(this.server.getXHROptions(a),{type:"PUT"});return i.a.ajax(n).promise().then((function(){return t}))},saveAgentSettings:function(){var e=i.a.Deferred().resolve(this.model).promise(),t=this.tempModel.agentSettings;if(!this.tempModel.agentSettings)return e;var a=this.getSettingsChanges(t);if(s.a.isEmpty(a))return e;var n=t.first(),r=n.getSaveParams(a),o=s.a.result(t,"url"),c=l.default.join([o,"/set"],r),d=n.server.getXHROptions(c);return i.a.ajax(d).promise().then((function(){return e}))},getSectionSettingsParams:function(){var e=this.tempModel.settings;if(e){var t=this.getSettingsChanges(e);if(!s.a.isEmpty(t))return e.first().getSaveParams(t)}},getSettingsChanges:function(e){return e.filter((function(e){return e.changedAttributes()})).reduce((function(e,t){var a=t.get("value");return"bool"===t.get("type")&&(a=a?"1":"0"),e[t.get("id")]=a,e}),{})},onPaneShow:function(e,t){this.listenTo(t,"valid",this.updateSaveBtn),this.listenTo(t,"invalid",this.updateSaveBtn),this.updateSaveBtn()},onPaneHide:function(e,t){this.stopListening(t,"valid",this.updateSaveBtn),this.stopListening(t,"invalid",this.updateSaveBtn)},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))},onSaveClick:function(e){e.preventDefault();var t=this.ui.saveBtn;if(!t.isDisabled())if(t.hasClass("next")){var a=this.panes[this.selectedPane].nextPane;"folders"!==a||this.showFolders||(a=this.ui.sidebar.find(".options-btn").isDisabled()?"advanced":"options"),a&&!this.ui.sidebar.find("."+a+"-btn").isDisabled()&&this.showPane(a)}else this.save()},onGeneralFormSubmit:function(e){this.onSaveClick(e)},onSectionTypeChange:function(){this.updateSaveBtn()}});t.a=qe},"5XbV":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));const n="error",i="success"},"5Y3Z":function(e,t,a){e.exports={rightTitle:"PrePlayRightTitle-rightTitle-3oK12x"}},"5YKo":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("EVdn"),i=a.n(n),r=a("cgRT");var s=a("YINS"),o=a("rXDx");function l(e,t={}){const{allowMetrics:a,metricsProperties:n={}}=t,l=e.server,c=`/library/metadata/${e.get("ratingKey")}/analyze`,d=l.getXHROptions(c,{type:"PUT"}),u=e.get("mediaState"),p=Object(o.isDirectoryType)(e.get("type"));p||e.set("mediaState","analyzing");const m=i.a.ajax(d).fail(t=>{p||"analyzing"!==e.get("mediaState")||e.set("mediaState",u)});return a&&Object(r.c)("metrics").trackClick({...n,action:s.h,type:e.get("type")}),m.promise()}},"5cL8":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("G4qV"),i=a("l1OG");function r(){return Object(n.a)((e,{columnAdjustment:t})=>t,i.a,(e,t)=>e||t.columnAdjustment)}},"5exe":function(e,t,a){"use strict";function n(e,t){return e.replace(/^\w+:\/\//,t+"//")}a.d(t,"a",(function(){return n}))},"5hya":function(e,t,a){e.exports={signalStrength:"SignalStrength-signalStrength-33wP3p"}},"5ic+":function(e,t,a){e.exports={title:"CalendarHeaderTitle-title-15Pr3D"}},"5iwJ":function(e,t,a){e.exports={row:"ListRow-row-1sqnTj",alternateRow:"ListRow-alternateRow-Vy6Unv ListRow-row-1sqnTj",isHovered:"ListRow-isHovered-1TphVQ"}},"5kqZ":function(e,t,a){e.exports={card:"WatchTogetherHubItemPosterCard-card-3eXNmg PosterCard-card-VhPkOe",moreButton:"WatchTogetherHubItemPosterCard-moreButton-3oxko8 MetadataPosterCardActions-moreButton-3uGw5x MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",image:"WatchTogetherHubItemPosterCard-image-1jjLMD",iconContainer:"WatchTogetherHubItemPosterCard-iconContainer-1ojNXC PosterCardIcon-container-257jtF",link:"WatchTogetherHubItemPosterCard-link-1auk2z PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hoveredLink:"WatchTogetherHubItemPosterCard-hoveredLink-18Nnwe PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hiddenMoreButton:"WatchTogetherHubItemPosterCard-hiddenMoreButton-2CavOI WatchTogetherHubItemPosterCard-moreButton-3oxko8 MetadataPosterCardActions-moreButton-3uGw5x MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK MetadataPosterCardActions-isHidden-17PeaH"}},"5lOB":function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("+X4A"),s=a("B69o"),o=a("0jfG");const l=s.a.extend({name:"SortCollection",context:["server","section","typeID"],model:o.a,url(){const e=i.a.result(this.section,"url"),t=this.typeID||this.section.get("currentType").id,a=t?{type:t}:{};return r.default.join([e,"/sorts"],a)}});t.a=l},"5m2Q":function(e,t,a){e.exports={overlay:"PlayPauseOverlay-overlay-1k7-8U",playButton:"PlayPauseOverlay-playButton-25OfWy PlayPauseOverlay-overlay-1k7-8U PlayButton-playButton-3WX8X-",pauseButton:"PlayPauseOverlay-pauseButton-hSFg5q PlayPauseOverlay-playButton-25OfWy PlayPauseOverlay-overlay-1k7-8U PlayButton-playButton-3WX8X-",playCircle:"PlayPauseOverlay-playCircle-3ydPYX PlayButton-playCircle-3Evfdw",hiddenCursor:"PlayPauseOverlay-hiddenCursor-21ESCa"}},"5mkL":function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("LiCP"),s=a.n(r),o=a("q1tI"),l=a.n(o),c=a("xORa"),d=a("yhTy"),u=a.n(d);class p extends o.Component{constructor(e,t){super(e,t),this.onProgressToUpdate=()=>{this.setState({progress:this._progressPosition.progress})},this.onProgressToComplete=()=>{this._progressToTween=null},this.state={progress:0}}componentDidMount(){this._progressTo(this.props)}componentDidUpdate(e){e.progress!==this.props.progress&&this._progressTo(this.props)}componentWillUnmount(){this._cancelProgressTo()}_progressTo({progress:e}){const t=this.props.smoothProgressDuration/1e3,a={progress:e,ease:this.props.easing,onUpdate:this.onProgressToUpdate,onComplete:this.onProgressToComplete};this._progressPosition={progress:this.state.progress},this._cancelProgressTo(),this._progressToTween=s.a.to(this._progressPosition,t,a)}_cancelProgressTo(){this._progressToTween&&(this._progressToTween.kill(),this._progressToTween=null)}render(){const e=this.state.progress,{className:t,containerClassName:a,backgroundClassName:n,textClassName:r,size:s,lineWidth:o,strokeColor:c,trackColor:d,progressText:p=Math.round(e)+"%",showProgressText:m,showIndeterminate:h}=this.props,g=h?50:e,y=h?null:p,f=s/2,b=f-o,v=Math.PI*(2*b),I=s+"px",S=s-3*o+"px",E=(100-g)/100*v;return l.a.createElement("div",{className:a,style:{width:I,height:I,lineHeight:I}},l.a.createElement("svg",{className:i()(t,h&&u.a.indeterminate),version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:s,height:s},d?l.a.createElement("circle",{fill:"transparent",r:b,cx:f,cy:f,style:{strokeWidth:o,stroke:d}}):null,l.a.createElement("circle",{fill:"transparent",r:b,cx:f,cy:f,strokeDasharray:v,style:{strokeWidth:o,stroke:c,strokeDashoffset:E}})),l.a.createElement("div",{className:n,style:{width:S,height:S}}),m&&y?l.a.createElement("div",{className:r},y):null)}}p.defaultProps={className:u.a.circularProgressBar,containerClassName:u.a.circularProgressBarContainer,backgroundClassName:u.a.circularProgressBarBackground,textClassName:u.a.circularProgressBarText,size:60,lineWidth:5,strokeColor:c.a.primaryColor,showProgressText:!0,smoothProgressDuration:1e3},t.a=p},"5qtW":function(e,t,a){e.exports={primaryTitle:"PrePlayPrimaryTitle-primaryTitle-1r9P9r"}},"5tgX":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("+X4A");function l(e,t){const a=e.server,n=s.a.result(e,"url"),r=a.getXHROptions(o.default.join([n,"move"],{after:t}),{type:"PUT"});return i.a.ajax(r).promise()}},"5xhV":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-arrow-right"></i> '+c(i(a("d8WC")).call(t,"Go Premium",{hash:{},data:s}))+' </h4> </div> <div class="modal-body"> <p class="text-center"><i class="plex-image plex-pass"></i></p> <h4 class="text-center">'+c(i(a("d8WC")).call(t,"This feature requires a Plex Pass subscription.",{hash:{},data:s}))+"</h4> ",((o=n.if.call(t,t&&t.isClaimed,{hash:{},inverse:this.program(3,(function(e,t){var n="";return n+=' <p class="text-muted">'+c(i(a("d8WC")).call(e,'The server "{1}" has not been claimed. This server must be claimed by an account with a Plex Pass subscription.',e&&e.escapedFriendlyName,{hash:{},data:t}))+"</p> "}),s),fn:this.program(1,(function(e,t){var n="";return n+=' <p class="text-muted">'+c(i(a("d8WC")).call(e,"Everything you need to experience the best of Plex. Your subscription gives you premium features and exclusive access to new ones.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=' <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(o=t&&t.plexPassUrl)?o.apply(t):o)+'" target="_blank">'+c(i(a("d8WC")).call(t,"Learn More",{hash:{},data:s}))+"</a> </p> </div> </div> </div> "}))},"6+d7":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return o+="<h2>"+(0,this.escapeExpression)((s=a("d8WC"),s&&(s.__esModule?s.default:s)).call(t,"Announcements",{hash:{},data:r}))+'</h2> <div class="announcements-container"></div> '}))},"6+qq":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n);t.a=function({className:e,title:t}){return i.a.createElement("span",{className:e,title:t},t)}},"611r":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=n.if.call(t,t&&t.canReparent,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,r="";return r+=' <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(e,"autocompleteTextInput",{hash:{label:"Artist",name:"parentTitle",placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.parentTitle),ratingKey:(n=e&&e.item,null==n||!1===n?n:n.parentRatingKey),title:(n=e&&e.item,null==n||!1===n?n:n.parentTitle)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Album",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey),scopeToAttr:"parentRatingKey",scopeToParam:"artist.id"},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Album",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-3"> <label>'+c(i(a("d8WC")).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> ',((o=n.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n,r="";return r+=' <div class="col-md-4"> '+c(i(a("nptq")).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(n=e&&e.item,null==n||!1===n?n:n.year),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.year),locked:(n=e&&e.locked,null==n||!1===n?n:n.year),ratingKey:(n=e&&e.item,null==n||!1===n?n:n.ratingKey)},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="col-md-',((o=n.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,(function(e,t){return"5"}),s),fn:this.program(5,(function(e,t){return"9"}),s),data:s}))||0===o)&&(l+=o),l+=' "> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Record Label",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Review",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> </div> </form> "}))},"61K8":function(e,t,a){e.exports={pageHeaderRight:"PrimaryPageHeaderRight-pageHeaderRight-29YOqg PageHeaderRight-pageHeaderRight-1dljwG"}},"61dU":function(e,t,a){e.exports={button:"ServerSettingsServerMenuButton-button-24D7lE SidebarMenuButton-sidebarMenuButton-khx_Pb",secondaryTitle:"ServerSettingsServerMenuButton-secondaryTitle-2Flndc SidebarMenuButton-sidebarMenuSecondaryTitle-2jpJLR",icon:"ServerSettingsServerMenuButton-icon-2pk73R"}},"66GW":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return i}));var n=a("NciQ");function i(e,...t){return n.a.t.apply(n.a,arguments)}},"66mf":function(e,t,a){e.exports={page:"SignInLaunchPagePoll-page-1MNEQu",container:"SignInLaunchPagePoll-container-10QkUk",section:"SignInLaunchPagePoll-section-11igev",addendumLink:"SignInLaunchPagePoll-addendumLink-2n2Dig",switchToSkipSignInLink:"SignInLaunchPagePoll-switchToSkipSignInLink-2eT_Lx",button:"SignInLaunchPagePoll-button-2n0OF4 SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn Button-large-3S9UdJ"}},"67KC":function(e,t,a){e.exports={pageHeader:"PrimaryPageHeader-pageHeader-21UFe6 PageHeader-pageHeader-2KNPGd"}},"6DgY":function(e,t,a){e.exports={container:"ErrorNavBar-container-2YGrro NavBar-container-1T0BJz",icon:"ErrorNavBar-icon-2uGCg9"}},"6FMj":function(e,t,a){"use strict";function n(e,t){if(e===t)return!0;const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;const i=Object.prototype.hasOwnProperty;for(let n=0;n<a.length;n++)if(!i.call(t,a[n])||e[a[n]]!==t[a[n]])return!1;return!0}a.d(t,"a",(function(){return n}))},"6GOp":function(e,t,a){e.exports={header:"PlaylistItemTable-header-2fQb_w HubCellHeader-hubCellHeader-2pvYNF",durationTitle:"PlaylistItemTable-durationTitle-2PGlcL",editLink:"PlaylistItemTable-editLink-1YrVJh"}},"6MR1":function(e,t,a){e.exports={avatarContainer:"AvatarEditor-avatarContainer-3eqle0",isOverDropTarget:"AvatarEditor-isOverDropTarget-xHyXAj",avatarPane:"AvatarEditor-avatarPane-ZIMdI5",sliderContainer:"AvatarEditor-sliderContainer-1XP4NL",sliderEnd:"AvatarEditor-sliderEnd-LMe5uN",sliderWrapper:"AvatarEditor-sliderWrapper-2-DX7n",slider:"AvatarEditor-slider-1DyFRU Slider-slider-2oLVTs",help:"AvatarEditor-help-9JA7xI",avatarTextPane:"AvatarEditor-avatarTextPane-3QTnNq",avatarActionButtons:"AvatarEditor-avatarActionButtons-29uxGU",avatarFileInput:"AvatarEditor-avatarFileInput-2RZv10"}},"6N1R":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("Xs/E"),s=a.n(r);function o({children:e,className:t,...a}){return i.a.createElement("p",{...a,className:t},e)}o.defaultProps={className:s.a.help},t.a=o},"6Nac":function(e,t,a){e.exports={pageContent:"ServerLog-pageContent-3VPW5Y PageContent-pageContent-16mK6G",hiddenPageContent:"ServerLog-hiddenPageContent-2lLY70",pageContentScroller:"ServerLog-pageContentScroller-1gN08N",rawTextScroller:"ServerLog-rawTextScroller-bQAXSk",jumpLinkVisible:"ServerLog-jumpLinkVisible-3DIQ4u Link-link-2n0yJn",jumpLinkHidden:"ServerLog-jumpLinkHidden-1de4QU ServerLog-jumpLinkVisible-3DIQ4u Link-link-2n0yJn"}},"6XLl":function(e,t,a){e.exports={header:"ServerDashboardPageHeader-header-25us0F",headerTitle:"ServerDashboardPageHeader-headerTitle-3nplEc"}},"6XbQ":function(e,t,a){"use strict";function n(e,t){return Math.max(Math.min(e,t-1),0)}a.d(t,"a",(function(){return n}))},"6XcZ":function(e,t,a){e.exports={hubCell:"HubCell-hubCell-3Ys175",hubActions:"HubCell-hubActions-28w1-R",hubScrollButton:"HubCell-hubScrollButton-2Y7riu",hubScroller:"HubCell-hubScroller-2qgkrG VirtualListScroller-scroller-3aWqhy",hubCellHeader:"HubCell-hubCellHeader-3s3KKW HubCellHeader-hubCellHeader-2pvYNF"}},"6a8U":function(e,t,a){e.exports={unsupported:"UnsupportedDeviceIcon-unsupported-_Tz7jI",unsupportedIcon:"UnsupportedDeviceIcon-unsupportedIcon-gpTqo6",unsupportedTooltip:"UnsupportedDeviceIcon-unsupportedTooltip-38E6zp Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},"6cmb":function(e,t,a){e.exports={trackList:"AlbumDisc-trackList-3LOJZb",titleContainer:"AlbumDisc-titleContainer-3NuZgy PrePlayListTitle-titleContainer-1ITpXZ",selectedTitleContainer:"AlbumDisc-selectedTitleContainer-2h19Mm PrePlayListTitle-selectedTitleContainer-CISxYT PrePlayListTitle-titleContainer-1ITpXZ",selectButton:"AlbumDisc-selectButton-2F8dxi PrePlayListTitle-selectButton-2GE1kx SelectButton-selectButton-3Kbjm9"}},"6dAO":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("Vk9Z");function i(e,t){const a=e.get("features").get(n.c),i=a.get("directories");if(!a||!i)return null;const r=i.find(e=>e.get("hubKey")===t||e.get("key")===t);return r?r.toJSON():null}},"6eR6":function(e,t,a){"use strict";const n=new(a("4P0s").a)({props:["X-Plex-Client-Identifier","X-Plex-Device","X-Plex-Device-Name","X-Plex-Device-Screen-Resolution","X-Plex-Device-Vendor","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"]});t.a=n},"6ek3":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="",o=this.escapeExpression;return s+='<a class="btn-gray" data-identifier="',s+=o((r=a.identifier)||"function"==typeof(r=t&&t.identifier)?r.call(t,{hash:{},data:i}):r)+'" href="#">',s+=o((r=a.name)||"function"==typeof(r=t&&t.name)?r.call(t,{hash:{},data:i}):r)+"</a> "}))},"6gEP":function(e,t,a){e.exports={hubCell:"HomeHubCell-hubCell-3ioBjg HubCell-hubCell-3Ys175",hubCellHeader:"HomeHubCell-hubCellHeader-1j-ZKS HubCell-hubCellHeader-3s3KKW HubCellHeader-hubCellHeader-2pvYNF",titleSeparator:"HomeHubCell-titleSeparator-4VHhFq MetadataHubCellHeader-titleSeparator-2XLwHj DashSeparator-separator-4CyEFW",sourceTitle:"HomeHubCell-sourceTitle-2q-ZZ0 MetadataHubCellHeader-sourceTitle-VjjOkx",hubScroller:"HomeHubCell-hubScroller-TifVnj HubCell-hubScroller-2qgkrG VirtualListScroller-scroller-3aWqhy",errorSeparator:"HomeHubCell-errorSeparator-1u82zN HomeHubCell-titleSeparator-4VHhFq MetadataHubCellHeader-titleSeparator-2XLwHj DashSeparator-separator-4CyEFW",errorTitle:"HomeHubCell-errorTitle-2f9701 HomeHubCell-sourceTitle-2q-ZZ0 MetadataHubCellHeader-sourceTitle-VjjOkx",iconButton:"HomeHubCell-iconButton-1zgW6Q",iconButtonIcon:"HomeHubCell-iconButtonIcon-2eaaLl"}},"6ivQ":function(e,t,a){e.exports={inputContainer:"FieldRatingInput-inputContainer-3KLz2W"}},"6nCn":function(e,t,a){e.exports={gridContainer:"ChannelsGrid-gridContainer-u_bmj0",gridRowCell:"ChannelsGrid-gridRowCell-3P8MTs ChannelsGrid-gridContainer-u_bmj0",gridRow:"ChannelsGrid-gridRow-2odI0o ChannelsGridRow-container-2sCkCm",gridContent:"ChannelsGrid-gridContent-3Vhy_E",gridInnerContent:"ChannelsGrid-gridInnerContent-27SAIf VirtualListScroller-scroller-3aWqhy",timeline:"ChannelsGrid-timeline-ctXXxM ChannelsGridTimeline-container-3dKF2q",innerEmptyPage:"ChannelsGrid-innerEmptyPage-18fOTc InnerEmptyPage-innerEmptyPage-1MHKZS EmptyPage-emptyPage-2AM9uQ",banner:"ChannelsGrid-banner-1ij7nr ProgramGuideGracenoteMigrationBanner-container-1G9MWN"}},"6oI5":function(e,t){},"6orZ":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a("/MKj"),o=a("xPjC");const l={dispatchUpdateDownloadAvailability:o.updateDownloadAvailability,dispatchUpdateDownloadSubscriptionIDs:o.updateDownloadSubscriptionIDs};function c(e){const{dispatchUpdateDownloadAvailability:t,dispatchUpdateDownloadSubscriptionIDs:a,metadataItemEntityID:n,providerEntityID:i}=e;return Object(r.useEffect)(()=>{const e={metadataItemEntityID:n,providerEntityID:i};t(e),a(e)},[t,a,n,i]),null}c.propTypes={metadataItemEntityID:i.a.string.isRequired,providerEntityID:i.a.string.isRequired,dispatchUpdateDownloadAvailability:i.a.func.isRequired,dispatchUpdateDownloadSubscriptionIDs:i.a.func.isRequired},t.a=Object(s.b)(null,l)(c)},"6uTd":function(e,t,a){e.exports={slider:"Slider-slider-2oLVTs",isDisabled:"Slider-isDisabled-1hEOtJ",thumb:"Slider-thumb-2QGiU1 Link-link-2n0yJn",isDragging:"Slider-isDragging-3wZpYx",hasAutoHideThumb:"Slider-hasAutoHideThumb-tpdhCS",track:"Slider-track-28JOSn",fill:"Slider-fill-35GFqs",secondaryFill:"Slider-secondaryFill-31_05F Slider-fill-35GFqs",thumbTrack:"Slider-thumbTrack-21hGVQ"}},"7/aH":function(e,t,a){"use strict";function n(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startOffsetMilliseconds")||e.get("startMetadataItemEntityID")===t.entityID()?e.get("startOffsetMilliseconds"):t.get("viewOffset")||0}a.d(t,"a",(function(){return n}))},"7Azh":function(e,t,a){e.exports={row:"ManageLibrarySummary-row-2TdDPx",alternateRow:"ManageLibrarySummary-alternateRow-2PUt_n ManageLibrarySummary-row-2TdDPx",underlay:"ManageLibrarySummary-underlay-2U_wyn Link-link-2ew_DK",overlay:"ManageLibrarySummary-overlay-3IPc5P",iconContainer:"ManageLibrarySummary-iconContainer-2xeEIR",icon:"ManageLibrarySummary-icon-2mVVBA",title:"ManageLibrarySummary-title-Gm8mAA",actions:"ManageLibrarySummary-actions-mUhoWF",action:"ManageLibrarySummary-action-3kjMJg Link-link-2ew_DK",visible:"ManageLibrarySummary-visible-3GOoD4",editIcon:"ManageLibrarySummary-editIcon-1c5oLK",header:"ManageLibrarySummary-header-1VmYf4",column:"ManageLibrarySummary-column-2LQh59",headerIcon:"ManageLibrarySummary-headerIcon-1f5Dif",spinner:"ManageLibrarySummary-spinner-2byQEL Spinner-spinner-1qRM4t spin-spin-2kLwt_ ManageLibrarySummary-icon-2mVVBA"}},"7DXn":function(e,t,a){e.exports={container:"VideoChapters-container-1hROwi AudioVideoStripeContainer-container-MI02OU"}},"7EDZ":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("EVdn"),i=a.n(n);function r(e){const{user:t,friend:a,serverShare:n,librarySectionIDs:r,isNewFriend:s,isCreatingManagedUser:o,isNewServerShare:l}=e,c={machineIdentifier:n.get("machineIdentifier"),librarySectionIds:r};s&&(c.settings=a.getSaveParams()),l&&(s&&!o?c.invitedEmail=a.get("username"):c.invitedId=a.id);const d=n.url(),u=t.server.getXHROptions(d,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(c)});return i.a.ajax(u).promise()}},"7ElX":function(e,t,a){e.exports={container:"ChannelsGridDetailRow-container-3CcnPZ",preplayContainer:"ChannelsGridDetailRow-preplayContainer-2ECfQQ",poster:"ChannelsGridDetailRow-poster-3A0RgC PosterCard-card-1rN9gd",navigationContainer:"ChannelsGridDetailRow-navigationContainer-P4_-il"}},"7F8R":function(e,t,a){"use strict";var n=a("EK1w"),i=a("ijGY"),r=a("gnaf"),s=a("zTsO");t.a=function({protocol:e,protocolCapabilities:t=[],providerIdentifier:a,userFeaturesByUUID:o,metadataItemModel:l,playQueueType:c,isWatchTogether:d=!1}){if(e!==n.a&&e!==n.b)return!1;if(c===i.c)return!1;if(d)return!1;const u=r.l(a,[r.d,r.h]),p=r.l(a,[r.c,r.b]),m=r.l(a,[r.j,r.g]),h=r.l(a,r.f),g=r.l(a,r.e),y=r.l(a,[r.i]),f=e===n.a||o[s.k],b=o[s.J],v=e===n.a||t.includes("provider-playback");return!!(u||p&&f||m&&b||h&&v||g&&v||y&&v)}},"7GFg":function(e,t,a){e.exports={modalFooter:"ModalFooter-modalFooter-3ZumZj",button:"ModalFooter-button-1ia6_L Button-button-2kT68l Link-link-2n0yJn",splitButton:"ModalFooter-splitButton-bwqoMJ ModalFooter-button-1ia6_L Button-button-2kT68l Link-link-2n0yJn"}},"7GJu":function(e,t,a){e.exports={container:"AudioVideoPlaybackSettings-container-2pTAjN AudioVideoStripeContainer-container-MI02OU",title:"AudioVideoPlaybackSettings-title-2MRYF1",menusContainer:"AudioVideoPlaybackSettings-menusContainer-2bvbji"}},"7H9Q":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-movies-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m0 560l560 0 0-520-560 0 0 520m120-40l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100 0l-240 0 0-200 240 0 0 200m100-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100-80l-240 0 0-200 240 0 0 200m100 0l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},"7J7q":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r.a}));a("zry3"),a("yOfu");var n=a("QPyl");function i(e=n.a){return"ios"===e.platformID}var r=a("ApK9");a("y4j6")},"7MQH":function(e,t,a){e.exports={stylesContainer:"MetadataListStylesMenu-stylesContainer-dCRuLN",slider:"MetadataListStylesMenu-slider-2AFE-t Slider-slider-2oLVTs",stylesButton:"MetadataListStylesMenu-stylesButton-2ntxAp Link-link-2ew_DK",stylesButtonWithArrow:"MetadataListStylesMenu-stylesButtonWithArrow-3xDyWL MetadataListStylesMenu-stylesButton-2ntxAp Link-link-2ew_DK",stylesIcon:"MetadataListStylesMenu-stylesIcon-11jRpQ"}},"7MiL":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<h3>Browser</h3> <p><span class="text-muted">Host:</span> '+c("function"==typeof(o=t&&t.host)?o.apply(t):o)+'</p> <p><span class="text-muted">User Agent:</span> '+c("function"==typeof(o=t&&t.userAgent)?o.apply(t):o)+'</p> <p><span class="text-muted">Name:</span> '+c("function"==typeof(o=null==(o=t&&t.browser)||!1===o?o:o.name)?o.apply(t):o)+'</p> <p><span class="text-muted">Version:</span> '+c("function"==typeof(o=null==(o=t&&t.browser)||!1===o?o:o.version)?o.apply(t):o)+'</p> <p><span class="text-muted">Platform:</span> '+c("function"==typeof(o=null==(o=t&&t.browser)||!1===o?o:o.platform)?o.apply(t):o)+'</p> <p><span class="text-muted">Mobile:</span> '+c(i(a("Dj7K")).call(t,null==(o=t&&t.browser)||!1===o?o:o.mobile,{hash:{},data:s}))+'</p> <h3>User</h3> <p><span class="text-muted">Username:</span> '+c("function"==typeof(o=null==(o=t&&t.user)||!1===o?o:o.username)?o.apply(t):o)+" ",((o=n.if.call(t,t&&t.hasPlexPass,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"(Plex Pass)"}),s),data:s}))||0===o)&&(l+=o),l+='</p> <p><span class="text-muted">Email:</span> '+c("function"==typeof(o=null==(o=t&&t.user)||!1===o?o:o.email)?o.apply(t):o)+'</p> <p><span class="text-muted">Token:</span> '+c("function"==typeof(o=null==(o=t&&t.user)||!1===o?o:o.accessToken)?o.apply(t):o)+'</p> <h3>plex.tv</h3> <p><span class="text-muted">URL:</span> '+c("function"==typeof(o=t&&t.cloudServerUrl)?o.apply(t):o)+'</p> <p><span class="text-muted">Available:</span> '+c(i(a("Dj7K")).call(t,null==(o=t&&t.cloudServer)||!1===o?o:o.available,{hash:{},data:s}))+'</p> <p><span class="text-muted">Authorized:</span> '+c(i(a("Dj7K")).call(t,null==(o=t&&t.cloudServer)||!1===o?o:o.authorized,{hash:{},data:s}))+"</p> <h3>Primary Server</h3> ",((o=n.if.call(t,t&&t.primaryServer,{hash:{},inverse:this.program(5,(function(e,t){return' <p><span class="text-muted">none</span></p> '}),s),fn:this.program(3,(function(e,t){var a,n="";return n+=' <p><span class="text-muted">Name:</span> '+c("function"==typeof(a=null==(a=e&&e.primaryServer)||!1===a?a:a.friendlyName)?a.apply(e):a)+'</p> <p><span class="text-muted">URL:</span> '+c("function"==typeof(a=e&&e.primaryServerUrl)?a.apply(e):a)+'</p> <p><span class="text-muted">Version:</span> '+c("function"==typeof(a=null==(a=e&&e.primaryServer)||!1===a?a:a.version)?a.apply(e):a)+'</p> <p><span class="text-muted">Token:</span> '+c("function"==typeof(a=null==(a=e&&e.primaryServer)||!1===a?a:a.accessToken)?a.apply(e):a)+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},"7S2Z":function(e,t,a){"use strict";function n(e){return!!e&&"string"==typeof e&&Date.now()>=new Date(e).getTime()}a.d(t,"a",(function(){return n}))},"7WRz":function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("CpQb"),s=a("pXC0"),o=a("rXDx"),l=a("hGck"),c=a.n(l),d=r.a.ItemView.extend({className:"convert-policy-container",template:c.a,ui:{policyUnwatchedInput:"#convert-policy-unwatched",policyScopeInput:"#convert-policy-scope",policyValueInput:"#convert-policy-value",policyWarning:".convert-warning"},events:{"change input[name=policyUnwatched]":"onPolicyUnwatchedChange","change input[name=policyScope]":"onPolicyScopeChange","keyup input[name=policyValue]":"onPolicyValueChange","change input[name=policyValue]":"onPolicyValueChange"},initialize:function(e){this.type=Object(o.getMetadataType)(this.model.get("metadataType")||"movie"),this.leafMediaType=Object(o.getLeafType)(this.type.typeString).mediaType,this.model.setPolicyDefaultsFor(this.leafMediaType)},serializeData:function(){var e={isSync:this.options.isSync,isDirectory:this.model.get("isDirectory"),policy:this.model.get("policy").toJSON()};return e.showLimitWarning=this.model.shouldShowPolicyWarning(this.leafMediaType,e.policy.value),e.showUnwatched=e.isDirectory&&this.leafMediaType===s.e,e},updatePolicyValue:function(){var e=this.model.get("policy"),t=Math.abs(parseInt(this.ui.policyValueInput.val(),10));this.ui.policyValueInput.val(i.a.isNaN(t)?"":t),i.a.isNaN(t)&&(t=0),e.set("value","all"===e.scope?null:t);var a=this.model.shouldShowPolicyWarning(this.leafMediaType,t);this.ui.policyWarning.toggleClass("hidden",!a)},onPolicyUnwatchedChange:function(e){this.model.get("policy").set("unwatched",this.ui.policyUnwatchedInput.prop("checked"))},onPolicyScopeChange:function(e){var t=this.model.get("policy"),a=this.ui.policyScopeInput.prop("checked")?this.ui.policyScopeInput.val():"all";t.set("scope",a),this.updatePolicyValue()},onPolicyValueChange:function(e){this.updatePolicyValue()}});t.a=d},"7epD":function(e,t,a){e.exports={scroller:"Scroller-scroller-CQJq74",none:"Scroller-none-ljb6p8",vertical:"Scroller-vertical-2wA-jb",auto:"Scroller-auto-2axzk9",horizontal:"Scroller-horizontal-fw4wh4",omni:"Scroller-omni-Mntgp9"}},"7f9p":function(e,t,a){e.exports={scroller:"SidebarScroller-scroller-2wp83y"}},"7jkP":function(e,t,a){e.exports={button:"SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn",spinnerContainer:"SpinnerButton-spinnerContainer-1NdZWc",spinner:"SpinnerButton-spinner-1TgDPI Spinner-spinner-Niere7 spin-spin-2kLwt_",label:"SpinnerButton-label-qxG01S",isSpinning:"SpinnerButton-isSpinning-bbh-4T"}},"7qsM":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o}));var n=a("ICb1"),i=a("i4Tt");const r=Object(n.a)(i.a),s=Object(n.a)(i.b),o=Object(n.a)(i.s)},"7ykk":function(e,t,a){e.exports={unwatchedCircle:"MetadataTitleProgress-unwatchedCircle-25KKnh",medium:"MetadataTitleProgress-medium-1tjFo8"}},"7za+":function(e,t,a){"use strict";a.d(t,"n",(function(){return n})),a.d(t,"k",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"p",(function(){return o})),a.d(t,"l",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return p})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return h})),a.d(t,"j",(function(){return g})),a.d(t,"i",(function(){return y})),a.d(t,"m",(function(){return f})),a.d(t,"o",(function(){return b})),a.d(t,"q",(function(){return v}));const n="servers",i="providers",r="libraries",s="hubs",o="users",l="resources",c="friends",d="homeUsers",u="metadataLists",p="metadataItems",m="mediaSubscriptions",h="liveTVSessions",g="playQueueItems",y="playlistItems",f="searchResults",b="transcodeJobs",v="watchTogetherRooms"},"8/e7":function(e,t,a){e.exports={container:"TopPlayedList-container-QVdmM- ServerDashboardSectionContent-container-3rMPaP",column:"TopPlayedList-column-2auHqz"}},"806G":function(e,t,a){const n=a("DhI4").default,i=a("a4Cb");e.exports=i(n)},"80CF":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("MOdi");function i(e,t,a,i){const r={};return e&&e.length&&(r[n.a]=e.join(",")),t&&t.length&&(r[n.b]=t.join(",")),a&&a.length&&(r[n.d]=a.join(",")),i&&i.length&&(r[n.c]=i.join(",")),r}function r(e){const{allowSync:t,allowCameraUpload:a,allowTuners:n,moviesContentRatings:r,moviesExcludeContentRatings:s,moviesLabels:o,moviesExcludeLabels:l,televisionContentRatings:c,televisionExcludeContentRatings:d,televisionLabels:u,televisionExcludeLabels:p,musicLabels:m,musicExcludeLabels:h}=e,g={};return null!=t&&(g.allowSync=t),null!=a&&(g.allowCameraUpload=a),null!=n&&(g.allowTuners=Number(n)),null==r&&null==s&&null==o&&null==l||(g.filterMovies=i(r,s,o,l)),null==c&&null==d&&null==u&&null==p||(g.filterTelevision=i(c,d,u,p)),null==m&&null==h||(g.filterMusic=i(null,null,m,h)),g}},"814K":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t,a){var i,r="";return r+=' <ul class="media-info-file-list well"> ',((i=n.if.call(e,a&&a.showDeleteFile,{hash:{},inverse:d.noop,fn:d.program(5,p,t),data:t}))||0===i)&&(r+=i),r+=" ",((i=n.each.call(e,e&&e.Part,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,g,t,a),data:t}))||0===i)&&(r+=i),r+=" </ul> "}function p(e,t){var n,r="";return r+=' <a href="#" data-media-item="'+c("function"==typeof(n=null==t||!1===t?t:t.index)?n.apply(e):n)+'" class="delete-btn text-danger pull-right"> <i class="glyphicon bin"></i> ',((n=i(a("w+Xr")).call(e,null==(n=e&&e.Part)||!1===n?n:n.length,"1",{hash:{},inverse:d.program(8,h,t),fn:d.program(6,m,t),data:t}))||0===n)&&(r+=n),r+=" </a> "}function m(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Delete File",{hash:{},data:t}))+" "}function h(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Delete Files",{hash:{},data:t}))+" "}function g(e,t,a){var i,r="";return r+=" <li> ",((i=n.if.call(e,a&&a.showFilepath,{hash:{},inverse:d.program(13,f,t),fn:d.program(11,y,t),data:t}))||0===i)&&(r+=i),r+=" ",((i=n.unless.call(e,e&&e.accessible,{hash:{},inverse:d.noop,fn:d.program(15,b,t),data:t}))||0===i)&&(r+=i),r+=" </li> "}function y(e,t){var a,n="";return n+=" "+c("function"==typeof(a=e&&e.file)?a.apply(e):a)+" "}function f(e,t){var n="";return n+=" "+c(i(a("3bbS")).call(e,e&&e.file,{hash:{},data:t}))+" "}function b(e,t){var a,i="";return i+=" ",((a=n.if.call(e,e&&e.exists,{hash:{},inverse:d.program(18,I,t),fn:d.program(16,v,t),data:t}))||0===a)&&(i+=a),i+=" "}function v(e,t){var n="";return n+=' <span class="label label-danger" data-toggle="tooltip" title="'+c(i(a("d8WC")).call(e,"Please check the permissions for this file.",{hash:{},data:t}))+'">'+c(i(a("d8WC")).call(e,"Inaccessible",{hash:{},data:t}))+"</span> "}function I(e,t){var n="";return n+=' <span class="label label-danger" data-toggle="tooltip" title="'+c(i(a("d8WC")).call(e,"Please check that this file exists and the necessary drive is mounted.",{hash:{},data:t}))+'">'+c(i(a("d8WC")).call(e,"Unavailable",{hash:{},data:t}))+"</span> "}function S(e,t){var n,r="";return r+=' <li> <span class="detail-label">'+c(i(a("d8WC")).call(e,e&&e.name,{hash:{},data:t}))+'</span> <span class="detail">'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+"</span> </li> "}function E(e,t,r){var s,o="";return o+=' <div class="part"> <div class="props"> <h4>'+c(i(a("d8WC")).call(e,"Part",{hash:{},data:t}))+"</h4> <ul> ",((s=n.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,S,t),data:t}))||0===s)&&(o+=s),o+=' </ul> </div> <div class="streams"> ',((s=n.each.call(e,e&&e.Stream,{hash:{},inverse:d.noop,fn:d.program(24,O,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=n.if.call(e,r&&r.loading,{hash:{},inverse:d.noop,fn:d.program(33,T,t),data:t}))||0===s)&&(o+=s),o+=" </div> </div> "}function O(e,t){var r,s="";return s+=' <div class="props"> ',((r=i(a("w+Xr")).call(e,e&&e.streamType,"1",{hash:{},inverse:d.program(27,C,t),fn:d.program(25,M,t),data:t}))||0===r)&&(s+=r),s+=" <ul> ",((r=n.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,S,t),data:t}))||0===r)&&(s+=r),s+=" </ul> </div> "}function M(e,t){var n="";return n+=" <h4>"+c(i(a("d8WC")).call(e,"Video",{hash:{},data:t}))+"</h4> "}function C(e,t){var n;return(n=i(a("w+Xr")).call(e,e&&e.streamType,"2",{hash:{},inverse:d.program(30,D,t),fn:d.program(28,j,t),data:t}))||0===n?n:""}function j(e,t){var n="";return n+=" <h4>"+c(i(a("d8WC")).call(e,"Audio",{hash:{},data:t}))+"</h4> "}function D(e,t){var n;return(n=i(a("w+Xr")).call(e,e&&e.streamType,"3",{hash:{},inverse:d.noop,fn:d.program(31,P,t),data:t}))||0===n?n:""}function P(e,t){var n="";return n+=" <h4>"+c(i(a("d8WC")).call(e,"Subtitles",{hash:{},data:t}))+"</h4> "}function T(e,t){var n="";return n+=' <div class="props"> <h4>'+c(i(a("d8WC")).call(e,"Loading",{hash:{},data:t}))+"...</h4> </div> "}function w(e,t){var n,r="";return r+=' <div class="modal-footer"> <div class="pull-left"> <a href="'+c("function"==typeof(n=e&&e.url)?n.apply(e):n)+'" target="_blank">'+c(i(a("d8WC")).call(e,"View XML",{hash:{},data:t}))+"</a> </div> </div> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(i(a("d8WC")).call(t,"Media Info",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="position-ref ',((o=n.unless.call(t,t&&t.hasStreams,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"hide-streams-column"}),s),data:s}))||0===o)&&(l+=o),l+='"> ',((o=n.if.call(t,t&&t.hasFiles,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var r,s="";return s+=' <div class="files"> <h4>'+c(i(a("d8WC")).call(e,"Files",{hash:{},data:t}))+"</h4> ",((r=n.each.call(e,e&&e.media,{hash:{},inverse:d.noop,fn:d.programWithDepth(4,u,t,e),data:t}))||0===r)&&(s+=r),s+=" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.each.call(t,t&&t.media,{hash:{},inverse:d.noop,fn:d.programWithDepth(20,(function(e,t,r){var s,o="";return o+=' <div class="media"> <div class="props"> <h4>'+c(i(a("d8WC")).call(e,"Media",{hash:{},data:t}))+"</h4> <ul> ",((s=n.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,S,t),data:t}))||0===s)&&(o+=s),o+=" </ul> </div> ",((s=n.each.call(e,e&&e.Part,{hash:{},inverse:d.noop,fn:d.programWithDepth(23,E,t,r),data:t}))||0===s)&&(o+=s),o+=" </div> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </div> </div> ",((o=n.if.call(t,t&&t.key,{hash:{},inverse:d.noop,fn:d.programWithDepth(35,(function(e,t,a){var i;return(i=n.if.call(e,a&&a.showFilepath,{hash:{},inverse:d.noop,fn:d.program(36,w,t),data:t}))||0===i?i:""}),s,t),data:s}))||0===o)&&(l+=o),l+=" </div> </div> "}))},"81Xg":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+c((o=a("d8WC"),o&&(o.__esModule?o.default:o)).call(t,"Sync Status",{hash:{},data:r}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4 class="sync-item-title">'+c("function"==typeof(s=t&&t.rootTitle)?s.apply(t):s)+" &middot; "+c("function"==typeof(s=t&&t.title)?s.apply(t):s)+"</h4> ",((s=n.if.call(t,null==(s=t&&t.Status)||!1===s?s:s.failure,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var a,n="";return n+=' <p class="text-muted"><i class="glyphicon warning-sign"></i> '+c("function"==typeof(a=null==(a=e&&e.Status)||!1===a?a:a.failure)?a.apply(e):a)+"</p> "}),r),data:r}))||0===s)&&(l+=s),l+=' <div class="sync-status-list-container"></div> </div> </div> </div> '}))},"85+Z":function(e,t,a){e.exports={watchlistBadge:"WatchlistBadge-watchlistBadge-JTghpe Badge-badge-3I6Kzp"}},"87wx":function(e,t,a){e.exports={downloadIcon:"DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj",hasShadow:"DownloadIcon-hasShadow-5mpN0m",arrowIcon:"DownloadIcon-arrowIcon-2Lp78c",progressBarContainer:"DownloadIcon-progressBarContainer-1Qpx70 CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",hasProgress:"DownloadIcon-hasProgress-2Wq4Tq",showIndeterminate:"DownloadIcon-showIndeterminate-rVIAWL"}},"8A8b":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var n=a("y3BC");const i=16;function r(e){const{hubKey:t,server:a,provider:r,options:s}=e;return new n.default([],{count:i,excludes:["playlists"],libraryHubsOnly:!0,includeEmpty:!0,includeFeaturedTags:!0,includeTypeFirst:!0,includeRecentChannels:!0,...s,hubKey:t,server:a,provider:r})}},"8CTZ":function(e,t,a){e.exports={badge:"Badge-badge-3I6Kzp",icon:"Badge-icon-24omK1"}},"8Dqf":function(e,t,a){"use strict";function n(e){return!!e.user.anonymous}a.d(t,"a",(function(){return n}))},"8HKk":function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("XOYs"),l=a.n(o);function c({children:e,className:t,errorClassName:a,name:n,hasError:r,...o}){return s.a.createElement("label",{...o,className:i()(t,r&&a),htmlFor:n},e)}c.defaultProps={className:l.a.label,errorClassName:l.a.hasError},t.a=c},"8Ipq":function(e,t,a){e.exports={infoContainer:"MediaInfo-infoContainer-2LgYro",info:"MediaInfo-info-JF98Bn",hidden:"MediaInfo-hidden-tBjNBF"}},"8NF1":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("pXC0"),i=a("f2wi"),r=a("rXDx");function s({metadataItemModel:e,listType:t}){const a=e.get("playlistType");if(a)return a;const s=e.get("subtype");if(s===i.PODCAST)return n.a;const l=e.get("type");return l===r.COLLECTION?o(null,s):o(t,l)}function o(e,t){let a;return e&&(a=r.getLeafType(e)),a||(a=r.getLeafType(t)),a&&a.mediaType}function l(e){const{type:t,metadataType:a,metadataItemModel:l,metadataItemModels:c,metadataListModel:d}=e;return t||(a?o(a):l?s(e):c&&c.length?s({...e,metadataItemModel:c[0]}):d?function({metadataListModel:e,listType:t}){return e.get("firstItemSubtype")===i.PODCAST?n.a:e.get("firstItemType")===r.COLLECTION?o(t,e.get("firstItemSubtype")):o(t,e.get("firstItemType"))}(e):void 0)}},"8Pq2":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.style"],{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,r="";return r+=' <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(n=e&&e.locked,null==n||!1===n?n:n.style)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.mood"],{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n,r="";return r+=' <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(n=e&&e.locked,null==n||!1===n?n:n.mood)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </form> "}))},"8UDN":function(e,t,a){e.exports={tagsListLink:"PrePlayTagListLink-tagsListLink-1VUQaN Link-link-2ew_DK"}},"8UJ8":function(e,t,a){e.exports={progress:"ServerDownloadProgressBar-progress-2i0Zm3",emptyBar:"ServerDownloadProgressBar-emptyBar-1Y1EQQ",bar:"ServerDownloadProgressBar-bar-3VI-Vq"}},"8YbF":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-section-advanced-form settings-container"> <div class="language-group"> <input type="hidden" name="language" value="'+c("function"==typeof(o=null==(o=t&&t.section)||!1===o?o:o.language)?o.apply(t):o)+'"> </div> <div class="row"> <div class="col-md-12"> <div class="form-group scanner-group hidden"> <label for="edit-section-scanner" class="control-label"> '+c(i(a("d8WC")).call(t,"Scanner",{hash:{},data:s}))+' <span class="control-error">'+c(i(a("d8WC")).call(t,"A scanner is required.",{hash:{},data:s}))+'</span> </label> <select id="edit-section-scanner" name="scanner"></select> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group agent-group hidden"> <label for="edit-section-agent" class="control-label"> '+c(i(a("d8WC")).call(t,"Agent",{hash:{},data:s}))+' <span class="control-error">'+c(i(a("d8WC")).call(t,"An agent is required.",{hash:{},data:s}))+'</span> </label> <select id="edit-section-agent" name="agent"></select> </div> </div> </div> <div class="row"> <div class="col-md-12 section-agent-settings-region"></div> </div> <div class="row"> <div class="col-md-12 section-settings-region"></div> </div> </form> '}))},"8a1k":function(e,t,a){"use strict";t.a=function(e){return e?e.toUpperCase():""}},"8b/l":function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("bsps"),l=a("3862"),c=a.n(l),d=o.a.extend({className:"confirm-modal modal modal-sm fade",template:c.a,ui:{doubleConfirmMessage:".double-confirm-message",confirmBtn:".confirm-btn",confirmLabel:".confirm-btn .btn-label"},events:s.a.extend({"click .confirm-btn":"onConfirm"},o.a.prototype.events),whitelistedOptions:["title","message","confirmLabel","cancelLabel","hasDanger","hideCancel"],initialize:function(e){o.a.prototype.initialize.apply(this,arguments),this.async=e.async,this.data=s.a.pick(e,this.whitelistedOptions),this.promise=i.a.Deferred()},serializeData:function(){return s.a.defaults(this.data,{confirmLabel:"Yes",cancelLabel:"No"})},onRender:function(){o.a.prototype.onRender.apply(this,arguments),window.setTimeout(s.a.bind((function(){this.ui.confirmBtn.focus()}),this),this.focusDelay)},onHide:function(e){o.a.prototype.onHide.apply(this,arguments),this.promise.reject()},onConfirm:function(e){if(e.preventDefault(),this.options.requireDoubleConfirm&&!this.hasConfirmedOnce){this.hasConfirmedOnce=!0;var t=this.options.doubleConfirmMessage,a=this.options.doubleConfirmLabel;return t&&this.ui.doubleConfirmMessage.text(t),void(a&&this.ui.confirmLabel.text(a))}this.promise.resolve(),this.async?this.ui.confirmBtn.addClass("active"):this.hide()}});t.a=d},"8cAR":function(e,t,a){e.exports={header:"UsersSettingsPageListHeader-header-Xombf9",pageHeaderLeft:"UsersSettingsPageListHeader-pageHeaderLeft-3YO7gD",pageHeaderRight:"UsersSettingsPageListHeader-pageHeaderRight-2vIIyU"}},"8cH1":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r}));const n="hub",i="list",r="view"},"8ck4":function(e,t,a){e.exports={sourceItem:"SelectSourceItemInput-sourceItem-27ZJnH",sourceTitle:"SelectSourceItemInput-sourceTitle-5GEyy5",sourceIconContainer:"SelectSourceItemInput-sourceIconContainer-MjtV8A",iconImg:"SelectSourceItemInput-iconImg-CfO67q SourceSidebarItem-iconImg-2zgKLr",input:"SelectSourceItemInput-input-ioDkeo CheckInput-input-1Pi_2g"}},"8iII":function(e,t,a){"use strict";var n=a("ZTgP"),i=a("sKrL");const r={[n.FAIRPLAY]:i.FAIRPLAY,[n.FAIRPLAY_AUDIO]:i.FAIRPLAY,[n.FAIRPLAY_VIDEO]:i.FAIRPLAY,[n.PLAYREADY]:i.PLAYREADY,[n.PLAYREADY_AUDIO]:i.PLAYREADY,[n.PLAYREADY_VIDEO]:i.PLAYREADY,[n.WIDEVINE]:i.WIDEVINE,[n.WIDEVINE_AUDIO]:i.WIDEVINE,[n.WIDEVINE_VIDEO]:i.WIDEVINE};t.a=r},"8idU":function(e,t,a){e.exports={placeholder:"MetadataDirectoryPosterCell-placeholder-1qJ1Mw MetadataPosterCardFace-poster-L2P6rC",titleContainer:"MetadataDirectoryPosterCell-titleContainer-2B6MFr",title:"MetadataDirectoryPosterCell-title-3smW-W"}},"8jJ5":function(e,t,a){e.exports={link:"MetadataSpotlightCellLink-link-3CKqJt"}},"8lLI":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="";return s+='<textarea class="form-control">',s+=(0,this.escapeExpression)((r=a.logs)||"function"==typeof(r=t&&t.logs)?r.call(t,{hash:{},data:i}):r)+"</textarea> "}))},"8n2K":function(e,t,a){e.exports={form:"ShareUsers-form-YsG9bs",modalBody:"ShareUsers-modalBody-3Izxn4 ModalBody-modalBody--5uHSu",messages:"ShareUsers-messages-25vig6",inputContainer:"ShareUsers-inputContainer-1zfFiC",icon:"ShareUsers-icon-1QZ44l",checkIcon:"ShareUsers-checkIcon-2Y5A3A ShareUsers-icon-1QZ44l",warningMessage:"ShareUsers-warningMessage-2bn0A-",restrictionsInput:"ShareUsers-restrictionsInput-JX1Mwa RestrictionProfilesInput-input-1u2NCr SelectInput-input-x1tNmq input-input-1P2Vi4",list:"ShareUsers-list-1AWlgI UserList-list-1xb8US Scroller-vertical-VScFLT"}},"8pg1":function(e,t,a){e.exports={logo:"DiscoverEmptyTidalPage-logo-3po-Ac EmptyPage-icon-31D3ZA"}},"8ros":function(e,t,a){e.exports={recordButton:"EPGPrePlayRecordButton-recordButton-1Y_Dwm PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5",recordingIcon:"EPGPrePlayRecordButton-recordingIcon-15EDBw",recordIcon:"EPGPrePlayRecordButton-recordIcon-3SHaDe"}},"8ruQ":function(e,t,a){e.exports={container:"MetadataUpNext-container-3BvKXW",upNext:"MetadataUpNext-upNext-3XxQSf"}},"8uQ2":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("F/us"),i=a.n(n);function r(e,t,a){return void 0===a||i.a.isObject(t)?t:a}},"8vbc":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("E3/3"),s=a.n(r);function o({className:e,children:t,...a}){return i.a.createElement("div",{className:e,...a},t)}o.defaultProps={className:s.a.modalFooter},t.a=o},"8vr4":function(e,t,a){"use strict";var n=a("Ctv7"),i=a("RgJi"),r=a("odh7"),s=a("66GW");function o(e,{limit:t}={},a=!1){if(!e)return"";const o=new Date;e=Math.round(e),"past"===t?e=Math.min(e,Object(r.a)(o)):"future"===t&&(e=Math.max(e,Object(r.a)(Object(n.a)(o,1))));const l=Object(i.a)(e).getTime()-o.getTime();let c;return c="future"===t||"past"!==t&&l>0,function({milliseconds:e,isShorthand:t,isFuture:a}){let n=Math.abs(e)/1e3;n&&(n=n<1?1:Math.round(n));const i=Math.round(n/60),r=Math.round(i/60),o=Math.round(r/24),l=Math.round(o/30),c=Math.round(o/365),d={seconds:n,minutes:i,hours:r,days:o,months:l,years:c},u={unitOfTime:n<=44&&(t?Object(s.default)("{seconds}s",d):Object(s.default)("a few seconds",d))||n<45&&(t?Object(s.default)("{seconds}s",d):Object(s.default)("{seconds} seconds",d))||i<=1&&(t?Object(s.default)("{minutes}m",d):Object(s.default)("a minute",d))||i<45&&(t?Object(s.default)("{minutes}m",d):Object(s.default)("{minutes} minutes",d))||r<=1&&(t?Object(s.default)("{hours}h",d):Object(s.default)("an hour",d))||r<22&&(t?Object(s.default)("{hours}h",d):Object(s.default)("{hours} hours",d))||o<=1&&(t?Object(s.default)("{days}d",d):Object(s.default)("a day",d))||o<26&&(t?Object(s.default)("{days}d",d):Object(s.default)("{days} days",d))||l<=1&&(t?Object(s.default)("{months}mo",d):Object(s.default)("a month",d))||l<11&&(t?Object(s.default)("{months}mo",d):Object(s.default)("{months} months",d))||c<=1&&(t?Object(s.default)("{years}y",d):Object(s.default)("a year",d))||(t?Object(s.default)("{years}y",d):Object(s.default)("{years} years",d))};return a?Object(s.default)("in {unitOfTime}",u):Object(s.default)("{unitOfTime} ago",u)}({milliseconds:l,isShorthand:a,isFuture:c})}t.a=function(e,t){return o(e,{limit:"past"},t)}},"8wkp":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"disabled"}return l+='<div class="filter-bar"> <span class="page-count">'+d(i(a("d8WC")).call(t,"Page {1} of {2}",t&&t.escapedPage,t&&t.escapedPages,{hash:{},data:s}))+"</span> ",((o=n.unless.call(t,t&&t.shared,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var a,i="";return i+=' <div class="filter-bar-right"> <a class="previous-btn btn-gray ',((a=n.unless.call(e,e&&e.enablePrevious,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===a)&&(i+=a),i+='" href="#"> <i class="glyphicon chevron-left"></i> </a> <a class="next-btn btn-gray ',((a=n.unless.call(e,e&&e.enableNext,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===a)&&(i+=a),i+='" href="#"> <i class="glyphicon chevron-right"></i> </a> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=n.if.call(t,t&&t.shared,{hash:{},inverse:c.program(6,(function(e,t){return' <div class="alert-list-container"></div> '}),s),fn:c.program(4,(function(e,t){var n="";return n+=' <div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> <h4 class="text-muted text-center">'+d(i(a("d8WC")).call(e,"Alerts are restricted from shared users.",{hash:{},data:t}))+"</h4> </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},"8zoK":function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("5mkL"),l=a("hFcZ"),c=a("17x9"),d=a.n(c),u=a("xhK+"),p=a.n(u);function m(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-arrow-560"};i["aria-hidden"]=!t,i.style=n,i.className=p.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"M280 406l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}m.propTypes={"aria-label":d.a.string,className:d.a.string,style:d.a.object};var h=m,g=a("87wx"),y=a.n(g);function f(e){const{className:t,isDisabled:a,showIndeterminate:n,lineWidth:r,progress:c,arrowSize:d,shadowWidth:u,showShadow:p,size:m}=e,g=null!=c&&c>=0,f=d+"px",b=n?l.a.primaryColor:l.a.selectedColor;let v;v=a?l.a.defaultLinkDisabledLinkColor:g||n?l.a.dimColor:"currentColor";const I={fontSize:f};if(p){const e=m+2*u;I.width=e+"px",I.height=e+"px",I.borderRadius=e/2+"px"}else I.width=m+r+"px",I.height=m+r+"px";const S=g?void 0:0;return s.a.createElement("div",{className:i()(t,g&&y.a.isDownloading,n&&y.a.showIndeterminate,p&&y.a.hasShadow),style:I},s.a.createElement(h,{className:y.a.arrowIcon}),s.a.createElement(o.a,{containerClassName:y.a.progressBarContainer,lineWidth:r,progress:g?c:0,showIndeterminate:n,showProgressText:!1,size:m,smoothProgressDuration:S,strokeColor:b,trackColor:v}))}f.defaultProps={className:y.a.downloadIcon,size:18,arrowSize:19,lineWidth:1.3,showShadow:!1,shadowWidth:1};t.a=f},"92Vb":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("EVdn"),i=a.n(n),r=(a("slDQ"),a("+0Fo"));function s(e){const{key:t,getModel:a}=e;return Object(r.a)({...e,fetch(e,n){const r=a(e,n),s=t?r.get(t):r;return s?s.fetch(n.options).then(null,(e,t)=>i.a.Deferred().reject(t).promise()):i.a.Deferred().reject({status:0}).promise()}})}},"93eU":function(e,t,a){"use strict";var n=a("B69o"),i=a("CHn6"),r=a("mOXR");var s=i.a.extend({name:"ChannelMappingModel",context:["server"],rootPropertyName:"ChannelMapping",idAttribute:"deviceIdentifier",syncedAttrs:{deviceIdentifier:r.a.string,lineupIdentifier:r.a.string,channelKey:r.a.string,enabled:r.a.boolean},defaults:{enabled:!1}});const o=n.a.extend({name:"ChannelMappingCollection",context:["server"],model:s});t.a=o},"94tf":function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"g",(function(){return r})),a.d(t,"i",(function(){return s})),a.d(t,"f",(function(){return o}));var n=a("rXDx");a.d(t,"h",(function(){return n.MOVIE})),a.d(t,"l",(function(){return n.SEASON})),a.d(t,"d",(function(){return n.EPISODE})),a.d(t,"a",(function(){return n.ALBUM})),a.d(t,"m",(function(){return n.TRACK})),a.d(t,"b",(function(){return n.CLIP})),a.d(t,"j",(function(){return n.PHOTO})),a.d(t,"k",(function(){return n.PLAYLIST})),a.d(t,"c",(function(){return n.COLLECTION}));const i="extra",r="mixed",s="musicVideo",o="folder"},"999L":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="",o=this;function l(e,t){return"star"}function c(e,t){return"dislikes"}return((r=a.each.call(t,t&&t.stars,{hash:{},inverse:o.noop,fn:o.program(1,(function(e,t){var n,i="";return i+='<span class="star"><i class="star-icon glyphicon ',((n=a.if.call(e,e,{hash:{},inverse:o.program(4,c,t),fn:o.program(2,l,t),data:t}))||0===n)&&(i+=n),i+='"></i><span class="empty-icon"></span></span>'}),i),data:i}))||0===r)&&(s+=r),s+=" "}))},"9A7T":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{},'<div class="modal-dialog"> <div class="modal-alert"></div> <div class="modal-content"></div> </div> '}))},"9Cni":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-add-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m320 320l0 200-80 0 0-200-200 0 0-80 200 0 0-200 80 0 0 200 200 0 0 80-200 0"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},"9IAt":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}return l+='<label class="control-label" for="convert-storage-location">'+c(i(a("d8WC")).call(t,"Version storage location",{hash:{},data:s}))+'</label> <select id="convert-storage-location" class="storage-location-select" name="storageLocation" ',((o=n.if.call(t,t&&t.disableLocation,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"disabled"}),s),data:s}))||0===o)&&(l+=o),l+='> <option value="-1" ',((o=i(a("w+Xr")).call(t,t&&t.selectedLocationID,-1,{hash:{},inverse:d.noop,fn:d.program(3,u,s),data:s}))||0===o)&&(l+=o),l+=">"+c(i(a("d8WC")).call(t,"In folders with original items",{hash:{},data:s}))+"</option> ",((o=n.each.call(t,t&&t.locations,{hash:{},inverse:d.noop,fn:d.programWithDepth(5,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.id)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,n&&n.selectedLocationID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("oLRI")).call(e,e&&e.path,50,20,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(i(a("d8WC")).call(t,'A "Plex Versions" folder will be created in your chosen location.',{hash:{},data:s}))+"</p> "}))},"9JDX":function(e,t,a){e.exports={header:"UserSharingSettingsPageHeader-header-EJMZn4"}},"9O+r":function(e,t,a){e.exports={group:"FormGroup-group-Gtcqpe"}},"9OK2":function(e,t,a){e.exports={button:"Button-button-2kT68l Link-link-2n0yJn",default:"Button-default--yDCH5",primary:"Button-primary-3fwLzo",success:"Button-success-lQICHw",danger:"Button-danger-2T8IUN",dark:"Button-dark-y17CmQ",small:"Button-small-PnnoGC",medium:"Button-medium-3g45_Q",large:"Button-large-3S9UdJ"}},"9RqU":function(e,t,a){e.exports={title:"RecordingPrioritySubscriptionTitle-title-3QS814",secondaryTitle:"RecordingPrioritySubscriptionTitle-secondaryTitle-2Wl5uS"}},"9T71":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const n={"home.continue":[/^(movie|tv)\.inprogress\.([0-9]+)/],"home.movies.recent":[/^movie\.recentlyadded\.([0-9]+)/],"home.music.recent":[/^music\.recent\.added\.([0-9]+)/],"home.photos.recent":[/^photo\.recent\.([0-9]+)/],"home.ondeck":[/^tv\.ondeck\.([0-9]+)/],"home.television.recent":[/^tv\.recentlyadded\.([0-9]+)/],"home.videos.recent":[/^video\.recent\.([0-9]+)/]};function i(e,t){return t.some(t=>t.test(e))}function r(e){for(const t in n){if(i(e,n[t]))return t}return e}},"9TTh":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:s}))+" </div> </div> </form> "}))},"9U8V":function(e,t,a){e.exports={message:"EPGDownload-message-1nld-C",spinnerContainer:"EPGDownload-spinnerContainer-OHwKIR",spinnerMessage:"EPGDownload-spinnerMessage-j4e6Wi"}},"9U9a":function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("cgRT"),s=a("bsps"),o=a("5xhV"),l=a.n(o),c=s.a.extend({name:"plexPassModal",template:l.a,serializeData:function(){return{plexPassUrl:r.c("appModel").get("user").server.get("plexPassUrl"),escapedFriendlyName:i.a.escape(this.model.get("friendlyName")),isClaimed:this.model.get("isClaimed")}}});t.a=c},"9XR6":function(e,t,a){e.exports={container:"ProviderUpsell-container-1IlPDU",text:"ProviderUpsell-text-15oxDl",logo:"ProviderUpsell-logo-2NAj0c",body:"ProviderUpsell-body-1XTnDH"}},"9Y86":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("vOHB");function i(e,t){var a;let n=!1;for(let i=0;i<e.length;i++){const r=e[i];let s=null!=(a=r.value)?a:r;Math.abs(s)<.06&&(s=0);const o=t.values.get(i),l=o||s;s!==o&&l?(n=!0,t.values.set(i,s),t.changed.add(i)):t.changed.delete(i)}return n}function r(e){if(!n.a.hasGamepads)return()=>{};const t=new Map,a=()=>{r=window.requestAnimationFrame(a);for(const a of window.navigator.getGamepads()){if(!(null==a?void 0:a.connected))continue;let n=t.get(a.index);if(n||t.set(a.index,n={axes:{changed:new Set,values:new Map},buttons:{changed:new Set,values:new Map},timestamp:0}),n.timestamp!==a.timestamp){const t=i(a.axes,n.axes),r=i(a.buttons,n.buttons);n.timestamp=a.timestamp,(t||r)&&e(a,n.axes,n.buttons)}}};let r=window.requestAnimationFrame(a);return()=>{t.clear(),window.cancelAnimationFrame(r)}}},"9YI8":function(e,t,a){e.exports={container:"ProgramGuideGracenoteMigrationBanner-container-1G9MWN",messageContainer:"ProgramGuideGracenoteMigrationBanner-messageContainer-Ecs5cw",message:"ProgramGuideGracenoteMigrationBanner-message-1nNQmA",icon:"ProgramGuideGracenoteMigrationBanner-icon-3z9koh",button:"ProgramGuideGracenoteMigrationBanner-button-Ayhpr7 Button-button-2kT68l Link-link-2n0yJn"}},"9ZQ6":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("ihSJ"),s=a("66GW");function o(e){return i.a.createElement(r.a,{...e,loadingLabel:Object(s.default)("Loading")})}o.propTypes=r.a.propTypes,o.defaultProps=r.a.defaultProps,t.a=o},"9gKU":function(e,t,a){"use strict";var n=a("B69o"),i=a("CHn6"),r=a("mOXR");var s=i.a.extend({name:"FieldModel",context:["server"],idAttribute:"key",rootPropertyName:"Field",syncedAttrs:{key:r.a.string,title:r.a.string,type:r.a.string,subType:r.a.string}});var o=n.a.extend({name:"FieldCollection",context:["server"],model:s}),l=a("5J4V"),c=a("5lOB");var d=i.a.extend({name:"MetadataTypeModel",context:["server"],idAttribute:"key",rootPropertyName:"Type",syncedAttrs:{type:r.a.string,subtype:r.a.string,key:r.a.string,title:r.a.string,context:r.a.string},syncedRelations:{filters:{relationClass:l.a,rootPropertyName:"Filter"},sorts:{relationClass:c.a,rootPropertyName:"Sort"},fields:{relationClass:o,rootPropertyName:"Field"}}});const u=n.a.extend({name:"MetadataTypeCollection",context:["server"],model:d});t.a=u},"9gax":function(e,t,a){e.exports={container:"LiveTVSettingsPage-container-KCZxGV"}},"9iqW":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(a("d8WC")).call(t,"This media is being converted.",{hash:{},data:s}))+"</h4> <h4>"+l(i(a("d8WC")).call(t,"Watch the status of the conversion {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:s}))+"</h4> </div> </div> "}))},"9jA7":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<a class="show-actions playlist-inner-item '+c("function"==typeof(o=t&&t.type)?o.apply(t):o)+'" href="#"> <div class="media-actions media-reorder"> <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> <button class="edit-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="generator-status col-md col-secondary"> <div class="generator-status-container generator-status-complete"> <i class="generator-status-icon glyphicon ok-2 text-success"></i> '+c(i(a("d8WC")).call(t,"Complete",{hash:{},data:s}))+' </div> <div class="generator-status-container generator-status-failed"> <i class="generator-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-status-failed-message">'+c(i(a("d8WC")).call(t,"Failed",{hash:{},data:s}))+'</span> </div> <div class="generator-status-container generator-status-converting"> <i class="generator-status-icon glyphicon restart"></i> '+c(i(a("d8WC")).call(t,"Converting",{hash:{},data:s}))+' </div> <div class="generator-status-container generator-status-pending"> <i class="generator-status-icon glyphicon clock"></i> '+c(i(a("d8WC")).call(t,"Waiting",{hash:{},data:s}))+" </div> </div> </div> </div> </a> "}))},"9kxW":function(e,t,a){e.exports={sidebarUnderlay:"EmptySourceSidebar-sidebarUnderlay-vtLxD9 SourceSidebar-sidebarUnderlay-2odIuy",collapsedSidebar:"EmptySourceSidebar-collapsedSidebar-ORj7Lb SourceSidebar-collapsedSidebar-3MDUee SourceSidebar-sidebar-YpV2mw",openSidebar:"EmptySourceSidebar-openSidebar-uzbF72 SourceSidebar-openSidebar-364QEr SourceSidebar-sidebar-YpV2mw"}},"9l/z":function(e,t,a){e.exports={headerContainer:"CurrentSource-headerContainer-wlq8ce"}},"9leU":function(e,t,a){e.exports={photoContainer:"PlaylistPhotoItem-photoContainer-3t9rft MetadataPhotoCell-photoContainer-1HkmQE",image:"PlaylistPhotoItem-image-2oORkY MetadataPhotoCell-image-3KqaFc",photo:"PlaylistPhotoItem-photo-10hVk3 MetadataPhotoCell-photo-Po3Kxh MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC",badge:"PlaylistPhotoItem-badge-3F6lgO MetadataPhotoCell-badge-2L0KJM",isSelected:"PlaylistPhotoItem-isSelected-9usYFV MetadataPosterCardFace-isSelected-1XUgkl"}},"9pnm":function(e,t,a){e.exports={container:"UnclaimedServer-container-2zE1QO",message:"UnclaimedServer-message-16zts1",messageHeader:"UnclaimedServer-messageHeader-6cNqhY",messageDetails:"UnclaimedServer-messageDetails-2ERBDY"}},"9rAt":function(e,t,a){e.exports={toggle:"NowPlaying-toggle-1ztIUg Link-link-2ew_DK",tilesContainer:"NowPlaying-tilesContainer-3DkObs",nowPlayingList:"NowPlaying-nowPlayingList-2guNhr",column:"NowPlaying-column-2-BR9u",emptyMessage:"NowPlaying-emptyMessage-2bgxAw ServerDashboardPageMessage-container-2qUY4V"}},"9uqb":function(e,t,a){e.exports={errorMessage:"MediaSubscriptionNoLibrary-errorMessage-39UUf6",addIcon:"MediaSubscriptionNoLibrary-addIcon-2B_Pqv"}},"9wnK":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("L395"),s=a("pQ98"),o=a("W+Vb"),l=a.n(o);function c({children:e,className:t,innerClassName:a,scrollDirection:n,...o}){const c=n!==s.b;return t||(t=c?l.a.modalScroller:l.a.modalBody),i.a.createElement(r.a,{className:t,scrollDirection:n,autoScroll:!0,...o},c?i.a.createElement("div",{className:a},e):e)}c.defaultProps={innerClassName:l.a.innerModalBody},t.a=c},A9O1:function(e,t,a){"use strict";var n=a("G4qV"),i=a("l1OG");const r=Object(n.a)(i.a,e=>e.savedPivotParams);t.a=r},AKFi:function(e,t,a){e.exports={avatar:"ServerAvatar-avatar-2VGH0z",icon:"ServerAvatar-icon-DrP34o"}},AKSZ:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR"),r=a("8uQ2"),s=a("nvND"),o=a("B69o");var l=n.a.extend({name:"ServerShareLibraryModel",syncedAttrs:{id:i.a.integer,key:i.a.string,title:i.a.string,type:i.a.string}});var c=o.a.extend({name:"ServerShareLibraryCollection",context:["server"],model:l}),d=a("vUHz");var u=n.a.extend({name:"ServerShareSharingSettingsModel",syncedAttrs:d.a});const p=n.a.extend({name:"ServerShareModel2",context:["server"],mergeStrategy:r.a,responseType:s.a,urlRoot:"api/v2/shared_servers",syncedAttrs:{id:i.a.integer,serverId:i.a.integer,machineIdentifier:i.a.string,name:i.a.string,owned:i.a.boolean,admin:i.a.boolean,pending:i.a.boolean,accepted:i.a.boolean,ownerId:i.a.integer,inviteToken:i.a.string,invitedEmail:i.a.string,invitedAt:i.a.string,acceptedAt:i.a.string,lastSeenAt:i.a.string,deletedAt:i.a.string,leftAt:i.a.string,numLibraries:i.a.integer,allLibraries:i.a.boolean},syncedRelations:{libraries:{relationClass:c},sharingSettings:{relationClass:u}}});t.a=p},AQCF:function(e,t,a){"use strict";var n=a("eNuQ");t.a=function(e){return e.repeatOne?n.c:e.repeatAll?n.a:n.b}},AQch:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r}));const n="arcade",i="plexpass",r="tidal",s=[n,i,r];t.d=s},AUbT:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("3Y6y"),s=a("dRWt"),o=a("rXDx");t.a=function({className:e,type:t}){return Object(o.isDirectoryType)(t)?i.a.createElement(r.a,{className:e}):i.a.createElement(s.a,{className:e})}},AXwp:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n="0"},"Aeq+":function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l="",c=this.escapeExpression;return l+='<a class="dropdown-toggle" href="#auto-match-dropdown" data-toggle="dropdown">'+c((o=a("d8WC"),o&&(o.__esModule?o.default:o)).call(t,"Auto Match",{hash:{},data:r}))+' <i class="caret-icon caret-icon-sm"></i></a> <ul class="dropdown-menu"> ',((s=n.each.call(t,t&&t.agents,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var a,n="";return n+=' <li><a class="auto-match-agent" href="#" data-id="'+c("function"==typeof(a=e&&e.identifier)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+"</a></li> "}),r),data:r}))||0===s)&&(l+=s),l+=" </ul> "}))},AfY7:function(e,t,a){"use strict";var n=a("sWYD"),i=a("TpeJ"),r=a("cHAT"),s=a("/Tr7"),o=a("X60b"),l=a("66GW");t.a=function(e){let t=e.episodeIndex;if(t>0||0===t)return e.noLeadingZero||(t=Object(o.a)(t)),e.useLongName?Object(l.default)("Episode {episodeNumber}",{episodeNumber:t}):Object(l.default)("E{episodeNumber}",{episodeNumber:t});if(e.date&&e.dateFormat)return Object(n.a)(Object(s.a)(e.date),e.dateFormat);if(e.date){const t=Object(s.a)(e.date);return Object(l.default)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:Object(r.a)(t)+1,dayNumber:Object(i.a)(t),shortYear:Object(n.a)(t,"yy")})}return""}},AoyP:function(e,t,a){e.exports={container:"PlexAccountUpsellPage-container-ntao9A",panel:"PlexAccountUpsellPage-panel-1mEqP6",panelIcon:"PlexAccountUpsellPage-panelIcon-2iZHqS",panelTitle:"PlexAccountUpsellPage-panelTitle-1ZIESl",panelDescription:"PlexAccountUpsellPage-panelDescription-poLyzl"}},ApK9:function(e,t,a){"use strict";function n(){return!1}a.d(t,"a",(function(){return n}))},AsNd:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n,r="";return r+=" "+c(i(a("nptq")).call(e,"lockableTagInput",{hash:{label:"Labels",name:"label",attribute:"labels",locked:(n=e&&e.locked,null==n||!1===n?n:n.label)},data:t}))+" "}function p(e,t){var n="";return n+=' <div class="form-group"> <label>'+c(i(a("d8WC")).call(e,"Labels",{hash:{},data:t}))+"</label> <p>"+c(i(a("d8WC")).call(e,"Labels require Plex Media Server {1} or later.",e&&e.escapedLabelsMinVersion,{hash:{},data:t}))+"</p> </div> "}return((o=n.if.call(t,t&&t.hasContentFilterFeature,{hash:{},inverse:d.program(6,(function(e,t){var n,r="";return r+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(i(a("d8WC")).call(e,"You need a Plex Pass to use restrictions.",{hash:{},data:t}))+'</h4> <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(n=e&&e.plexPassUrl)?n.apply(e):n)+'" target="_blank">'+c(i(a("d8WC")).call(e,"Learn More",{hash:{},data:t}))+"</a> </p> </div> "}),s),fn:d.program(1,(function(e,t){var a,i="";return i+=' <form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> ',((a=n.if.call(e,e&&e.showLabels,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===a)&&(i+=a),i+=" </div> </div> </form> "}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},Aslj:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("FeaP"),s=a("EVgX"),o=a("wCAT"),l=a("ZMKu"),c=a("/iqQ"),d=a("5Fux"),u=a("sBwU"),p=a("fklS"),m=a("obnR"),h=a("B854"),g=a.n(h);const y=Object(d.a)(p.a.tooltipSpeed),f=1e3*y,b={opacity:{ease:"easeOut",duration:y},y:{ease:m.a.motionEasing,duration:y},x:{ease:m.a.motionEasing,duration:y},scale:{ease:m.a.motionEasing,duration:y}};function v(e){switch(e){case u.g:case u.f:case u.h:return 5;case u.b:case u.a:case u.c:return-5;case u.d:case u.e:default:return 0}}function I(e){switch(e){case u.g:case u.f:case u.h:return 0;case u.b:case u.a:case u.c:return 0;case u.d:return 5;case u.e:return-5;default:return 0}}function S(e){switch(e){case u.g:case u.f:case u.h:return-5;case u.b:case u.a:case u.c:return 5;case u.d:case u.e:default:return 0}}function E(e){switch(e){case u.g:case u.f:case u.h:return 0;case u.b:case u.a:case u.c:return 0;case u.d:return-5;case u.e:return 5;default:return 0}}const O={before:e=>({opacity:0,y:v(e),x:I(e),scale:.95,transition:b}),enter:{opacity:1,y:0,x:.001,scale:1,transition:b},exit:e=>({opacity:0,y:S(e),x:E(e),scale:.95,transition:b})},M={[u.g]:{placement:"top-start"},[u.f]:{placement:"top"},[u.h]:{placement:"top-end"},[u.b]:{placement:"bottom-start"},[u.a]:{placement:"bottom"},[u.c]:{placement:"bottom-end"},[u.d]:{placement:"left"},[u.e]:{placement:"right"}};function C(e){const{children:t,className:a,target:n,attachment:r,options:s,isOpen:o,onMenuClose:d,...u}=e;return i.a.createElement(c.a,{className:g.a.tooltipPortal,target:n,options:s||M[r],isOpen:o,closeTimeoutMilliseconds:f},i.a.createElement(l.a,null,o?i.a.createElement(l.b.div,{key:"container",initial:"before",animate:"enter",exit:"exit",variants:O,custom:r,className:a||g.a[r],...u},t):null))}C.defaultProps={attachment:u.a};var j=C;var D=function(e){const{children:t,...a}=e;return i.a.createElement("div",{...a},t)};class P extends n.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.props.showOnHover&&(this._isHovered=!0,this.setState({isOpen:!0}))},this.onMouseLeave=e=>{this.props.showOnHover&&(this._isHovered=!1,this.setState({isOpen:this._isFocused}))},this.onFocus=e=>{this.props.showOnFocus&&(this._isFocused=!0,this.setState({isOpen:!0}))},this.onBlur=e=>{this.props.showOnFocus&&(this._isFocused=!1,this.setState({isOpen:this._isHovered}))},this.onPress=e=>{this.props.hideOnPress&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))},this.state={isOpen:!1},this._isHovered=!1,this._isFocused=!1,this._targetID=Object(s.a)()}shouldComponentUpdate(e,t){return Object(o.a)(this,e,t)}componentDidUpdate(e){const{hideOnDisabled:t,isDisabled:a}=this.props,{isOpen:n}=this.state;n&&t&&a&&!e.isDisabled&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))}render(){const{id:e,component:t,tooltip:a,tooltipClassName:n,tooltipFocusedClassName:s,tooltipAttachment:o,tooltipTarget:l,tooltipOptions:c,showOnHover:d,showOnFocus:u,hideOnDisabled:p,hideOnPress:m,onMouseEnter:h,onMouseLeave:g,onFocus:y,onBlur:f,onPress:b,...v}=this.props,{isOpen:I}=this.state,S=this._isFocused&&s?s:n;return i.a.createElement(i.a.Fragment,null,i.a.createElement(t,{id:e||this._targetID,onMouseEnter:Object(r.a)(this.onMouseEnter,h),onMouseLeave:Object(r.a)(this.onMouseLeave,g),onFocus:Object(r.a)(this.onFocus,y),onBlur:Object(r.a)(this.onBlur,f),onPress:Object(r.a)(this.onPress,b),...v}),a?i.a.createElement(j,{className:S,attachment:o,options:c,target:l||e||this._targetID,isOpen:I},a):null)}}P.defaultProps={component:D,showOnHover:!0,showOnFocus:!0,hideOnPress:!0,hideOnDisabled:!0};t.a=P},Auv6:function(e,t,a){e.exports={button:"SettingsButton-button-27S5zB NavBar-button-diriIs NavBarIconButton-button-eR0v0j IconButton-button-9An-7I"}},Ayk2:function(e,t,a){"use strict";t.a={account:"/settings/account",accountPlexTv:"/account",announcements:"/announcements",devices:"/settings/devices/:deviceTypeID?",downloads:"/downloads",firstRunExperience:"/client-setup",home:["","/dashboard"],info:"/info",login:"/login",logout:"/logout",logs:"/logs",media:"/media/:machineIdentifier?/:providerIdentifier",mediaGuideV3:"/media/:machineIdentifier?/:providerIdentifier/guide",mediaRecordingScheduleV3:"/media/:machineIdentifier?/:providerIdentifier/schedule",mediaTimelineV3:"/media/:machineIdentifier?/:providerIdentifier/timeline",onlineMediaSources:"/settings/online-media-sources",playHistory:"/server/:machineIdentifier/playHistory",playlist:["/server/:machineIdentifier/playlist","/server/:machineIdentifier/album","/server/:machineIdentifier/provider/:providerIdentifier/playlist","/server/:machineIdentifier/provider/:providerIdentifier/album","/provider/:providerIdentifier/playlist"],prePlay:["/server/:machineIdentifier/details","/server/:machineIdentifier/provider/:providerIdentifier/details","/provider/:providerIdentifier/details"],providerSettings:"/provider/:providerIdentifier/settings",search:"/search",serverDownloadMessage:"/get-plex-media-server",serverSettingsStatusSync:"/settings/server/:machineIdentifier/status/sync/:deviceID?",serverSettings:"/settings/server/:machineIdentifier/:settingsSection/:settingsGroup",serverSettingsPMS:"/settings/server/:machineIdentifier",serverSetup:"/setup/:machineIdentifier?",serverUpdate:"/server/:machineIdentifier/update",signUp:"/signUp",transientPrePlay:"/transient/provider/:providerIdentifier/details",userSharingSettings:"/settings/users-sharing/:userID",usersSharing:"/settings/users-sharing",webhooks:"/settings/webhooks",webSettings:"/settings/web/:settingsSubset?"}},"B+IN":function(e,t,a){e.exports={badge:"PremiereAiringBadge-badge-hAmdnV"}},B69o:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=(a("slDQ"),a("+X4A")),l=a("Khyo"),c=a("mCRK"),d=a("kwss"),u=a("nvND"),p=(a("uCj2"),a("1Lwt"));const m=l.c.Collection.extend({mixins:[c.a],responseType:u.c,instanceOptions:["url","path","pageStart","pageSize","persistInCache","skipCache"],_context:["parent"],cache:null,cacheKey:function(){return s.a.result(this,"url")},constructor:function(e,t){t||(t={}),s.a.each(this.getContext(),(function(e){const a=t[e];void 0!==a&&this.setContext(e,a)}),this);const a=s.a.result(this,"instanceOptions");if(s.a.each(a,(function(e){s.a.has(t,e)&&(this[e]=t[e])}),this),null==this.pageStart&&null==this.pageSize||(this.pageStart||(this.pageStart=0),this.pageSize||(this.pageSize=0)),t.populated&&this.resetPopulatePromise(i.a.Deferred().resolve().promise()),!this.cache||this.skipCache)return l.c.Collection.prototype.constructor.apply(this,arguments),void this._initState();this.initialize.apply(this,arguments);const n=this.cache.getItemCacheKey(this),r=this.cache.get(n);return this.uninitialize(),r||(t.onlyIfCached?{}:(l.c.Collection.prototype.constructor.apply(this,arguments),this._initState(),void this.cache.store(this,n)))},uninitialize:function(){this.stopListening()},_initState:function(){d.a.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.on("reset update sort",this.onCollectionChange,this),this.on("statechange",this.onStateChange,this))},hasContext:function(e){return this.getContext().includes(e)},getContext:function(){if(!this.context)return this._context;const e=s.a.result(this,"context");return this._context.concat(e)},setContext:function(e,t){-1!==this.getContext().indexOf(e)&&this[e]!==t&&(this[e]=t,this.each((function(a){a.setContext(e,t)})))},getState:function(){return this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const a=this.getState();return this.trigger("statechange",this,a,t),{name:this.name,previousState:e,nextState:a}},toState:function(){this.name;return this.reduce(this.reduceState,[])},reduceState:function(e,t){const a=t.getState();return a&&e.push(a),e},shouldUpdateModelState:function(e,t,a){return t!==a},sync:function(){return this.cache&&this.cache.store(this),l.c.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=s.a.result(this,"url")),this.path&&(e=o.default.join([e,s.a.result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=o.default.join(e,t)}return e},parse:function(e,t){this.name;return this.convert(e)},convert:function(e){let t=e;const a=s.a.result(this,"responseType");if(s.a.isString(t)&&(s.a.isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,a)),t=a.parse(t),a===u.a&&t.MediaContainer&&(t=t.MediaContainer)),s.a.isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,a)),Array.isArray(t))return t;const n=this.model.prototype.rootPropertyName;if(!n)return t;let i=t[n];return i?(Array.isArray(i)||(i=[i]),i):[]},clone:function(e){e||(e=this.models);const t=s.a.result(this,"instanceOptions"),a=s.a.extend(s.a.pick(this,t),s.a.pick(this,this.getContext()),{skipCache:!0,persistInCache:!1});return new this.constructor(e,a)||null},cloneDeep:function(e){e||(e=this.models);const t=s.a.map(e,(function(e){return e.clone()}));return this.clone(t)},clear:function(e){e=s.a.extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)},getSaveParams:function(){return this.map((function(e){return e.getSaveParams()}))},onCollectionChange:function(){p.b(this.updateState,this)},onStateChange:function(e,t,a){e!==this&&this.shouldUpdateModelState(e,t,a)&&p.b(this.updateState,this)}});t.a=m},"B8+q":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=" "+c(i(a("c1Ka")).call(e,e&&e.name,25,{hash:{},data:t}))+" "}function p(e,t){var n="";return n+=" "+c(i(a("c1Ka")).call(e,e&&e.device,25,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon iphone"></i> '+c(i(a("d8WC")).call(t,"Choose Destination",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=n.each.call(t,t&&t.devices,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var a,i="";return i+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+'" href="#"> ',((a=n.if.call(e,e&&e.name,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===a)&&(i+=a),i+=" </a> </li> "}),s),data:s}))||0===o)&&(l+=o),l+=" </ul> </div> </div> </div> "}))},B854:function(e,t,a){e.exports={tooltipPortal:"Tooltip-tooltipPortal-3Nb82p",tooltip:"Tooltip-tooltip-9TKmAQ",tooltipArrow:"Tooltip-tooltipArrow-3GUCry",tooltipBottomArrow:"Tooltip-tooltipBottomArrow-34fSAD",tooltipTopArrow:"Tooltip-tooltipTopArrow-NjH0DX",tooltipRightArrow:"Tooltip-tooltipRightArrow-18BKzY",tooltipLeftArrow:"Tooltip-tooltipLeftArrow-1Zt2gV",tooltipCenterAlignArrow:"Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipLeftAlignArrow:"Tooltip-tooltipLeftAlignArrow-NweCLw",tooltipRightAlignArrow:"Tooltip-tooltipRightAlignArrow-1ETgza",tooltipMiddleAlignArrow:"Tooltip-tooltipMiddleAlignArrow-3x1zFR",topLeft:"Tooltip-topLeft-2DEJ1a Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipLeftAlignArrow-NweCLw",topCenter:"Tooltip-topCenter-Hv9C9n Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipCenterAlignArrow-35uHtY",topRight:"Tooltip-topRight-3-BmgQ Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipRightAlignArrow-1ETgza",bottomLeft:"Tooltip-bottomLeft-2fPtVW Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipLeftAlignArrow-NweCLw",bottomCenter:"Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",bottomRight:"Tooltip-bottomRight-T6_Ik3 Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipRightAlignArrow-1ETgza",middleLeft:"Tooltip-middleLeft-11JlOJ Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipRightArrow-18BKzY Tooltip-tooltipMiddleAlignArrow-3x1zFR",middleRight:"Tooltip-middleRight-3lubOi Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipLeftArrow-1Zt2gV Tooltip-tooltipMiddleAlignArrow-3x1zFR"}},B8UO:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"textInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"textInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5"},data:s}))+" </div> </div> </form> "}))},BBrP:function(e,t,a){"use strict";const n={NEVER:"never",SAME_NETWORK:"samenetwork",ALWAYS:"always"};n.settings=[{value:n.NEVER,title:"Never"},{value:n.SAME_NETWORK,title:"On same network as server"},{value:n.ALWAYS,title:"Always"}],t.a=n},BD9E:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a("0jae");function i(e){return(t,a,n)=>{const i=e(t[a],a);n?(t[n]=i,delete t[a]):t[a]=i}}const r=i((e,t)=>{const a=typeof e;if("string"===a||"number"===a)return Number(e);"undefined"!==a&&n.a.warn(`normalizeAsNumber: returning undefined for type: ${a}, property: ${t}`)}),s=i((e,t)=>{const a=typeof e;return"boolean"===a||"number"===a?Boolean(e):"string"===a?"1"===e:void("undefined"!==a&&n.a.warn(`normalizeAsBoolean: returning undefined for type: ${a}, property: ${t}`))}),o=i((e,t)=>{const a=typeof e;if(null!=e)return String(e);"undefined"!==a&&n.a.warn(`normalizeAsNumber: returning undefined for type: ${a}, property: ${t}`)});function l(e,t,a){e.hasOwnProperty(a)&&(t[a]=e[a],delete e[a])}function c(e,t,a){e.hasOwnProperty(a)&&(t[a]=e[a])}},BDy8:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="",l=this.escapeExpression;return o+='<form class="edit-metadata-form"> ',((s=n.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,i="";return i+=" "+l((n=a("nptq"),n&&(n.__esModule?n.default:n)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),r),data:r}))||0===s)&&(o+=s),o+=" </form> "}))},BNpA:function(e,t,a){e.exports={container:"MetadataIcon-container-1OiQBF"}},BSWJ:function(e,t,a){e.exports={icon:"LibraryEmptyWatchlistPage-icon-34dmWk"}},BTFm:function(e,t,a){e.exports={activityIcon:"NavBarActivityButton-activityIcon-1Db2GP NavBarActivityIcon-iconContainer-24xhXd",label:"NavBarActivityButton-label-2ZN0gQ",isHighlighted:"NavBarActivityButton-isHighlighted-27qlko",alertIcon:"NavBarActivityButton-alertIcon-3opbQx NavBarIconButton-alertIcon-2HPvE2"}},BUrS:function(e,t,a){e.exports={castList:"PrePlayCastList-castList-3dQB5e"}},BVbW:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var r,s="";return((r=(a=this.merge(a,e.helpers)).if.call(t,t&&t.disabled,{hash:{},inverse:this.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),i),fn:this.program(1,(function(e,t){return' <div class="user-select-container"> '}),i),data:i}))||0===r)&&(s+=r),s+=' <div class="user-select-top"> <div class="user-poster img-circle"></div> <i class="protected-icon user-icon glyphicon lock"></i> <i class="admin-icon user-icon glyphicon crown"></i> </div> <div class="caption"> <div class="username"></div> <div class="managed-title"></div> </div> ',((r=a.if.call(t,t&&t.disabled,{hash:{},inverse:this.program(7,(function(e,t){return" </a> "}),i),fn:this.program(5,(function(e,t){return" </div> "}),i),data:i}))||0===r)&&(s+=r),s+=" "}))},BW9E:function(e,t,a){"use strict";var n=a("sWYD"),i=a("TpeJ"),r=a("cHAT"),s=a("/Tr7"),o=a("X60b"),l=a("66GW");t.a=function(e){let t=e.seasonIndex,a=e.episodeIndex;if((a>0||0===a)&&t<1e3){e.noLeadingZero||(t=Object(o.a)(t),a=Object(o.a)(a));const n=e.separator;if(e.useLongName){return`${Object(l.default)("Season {seasonNumber}",{seasonNumber:t})}${n||" "}${Object(l.default)("Episode {episodeNumber}",{episodeNumber:a})}`}return`${Object(l.default)("S{seasonNumber}",{seasonNumber:t})}${n||""}${Object(l.default)("E{episodeNumber}",{episodeNumber:a})}`}if(e.date){const t=Object(s.a)(e.date);return Object(l.default)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:Object(r.a)(t)+1,dayNumber:Object(i.a)(t),shortYear:Object(n.a)(t,"yy")})}return""}},BcwQ:function(e,t,a){"use strict";a.r(t);const n={allowFlash:!0,allowHttpsMediaServerConnections:!0,allowMediaServerRelayConnections:!0,allowMultipleWebSocketConnections:!0,shouldCreateFlexModels:!0,shouldCreateStateTree:!0,shouldRequestHTMLFromCloudProvider:!0,allowCloudPubSub:!0,allowLoopbackDiscovery:"http:"===window.location.protocol,allowSSO:!1,bufferingDetectionLimit:500,allowSyncSettings:!0,allowSync:!0,allowDirectDownload:!0,allowSyncDownload:!1};t.default=n},BgT4:function(e,t,a){e.exports={day:"CalendarDay-day-1O4pXT"}},BoH4:function(e,t,a){e.exports={input:"ShareServerLibrariesServerTitle-input-c9nTTO CheckInput-label-2yG4rI"}},BoiH:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("VzhI"),l=a("MZ2x"),c=a.n(l);class d extends r.Component{constructor(e,t){super(e,t),this.setRef=e=>{this._checkbox=e},this.onChange=e=>{const t=e.target.checked?this.props.checkedValue:this.props.uncheckedValue;this.props.value!==t&&this.props.onChange(t)},this._checkbox=null}componentDidMount(){this.setIndeterminate()}componentDidUpdate(){this.setIndeterminate()}setIndeterminate(){if(!this._checkbox)return;const{value:e,uncheckedValue:t,checkedValue:a}=this.props;this._checkbox.indeterminate=e!==t&&e!==a}render(){const{className:e,inputClassName:t,errorClassName:a,disabledClassName:n,isDisabled:r,size:o,checkboxText:l,name:d,initialValue:u,value:p,checkedValue:m,uncheckedValue:h,showErrors:g,hasError:y,errors:f,validations:b,...v}=this.props;return s.a.createElement("label",{className:i()(e,c.a[o],r&&n,y&&a),htmlFor:d},s.a.createElement("input",{...v,id:d,type:"checkbox",disabled:r,className:t,checked:p===m,ref:this.setRef,onChange:this.onChange}),l)}}d.defaultProps={className:c.a.label,inputClassName:c.a.input,errorClassName:c.a.hasError,disabledClassName:c.a.isDisabled,isDisabled:!1,size:o.a,uncheckedValue:!1,checkedValue:!0,value:!1,hasError:!1},t.a=d},Bvvc:function(e,t,a){e.exports={container:"DVRSetupDevice-container-2iL_G0",section:"DVRSetupDevice-section-gCyfJJ",make:"DVRSetupDevice-make-3YU1SA",model:"DVRSetupDevice-model-2ZJHSY",moreInfo:"DVRSetupDevice-moreInfo-2-07Dt",channelsMessage:"DVRSetupDevice-channelsMessage-1DrJSm",button:"DVRSetupDevice-button-2m-QYS SpinnerButton-button-2YjGJZ Button-button-3A5jB3 Link-link-2ew_DK",disabledText:"DVRSetupDevice-disabledText-1jFkEL"}},Bw3N:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("9O+r"),s=a.n(r);function o({children:e,...t}){return i.a.createElement("div",{...t},e)}o.defaultProps={className:s.a.group},t.a=o},Bzgf:function(e,t,a){e.exports={recordIconContainer:"RecordButton-recordIconContainer-274aRc PlayButton-playCircle-1_WgTy",recordIcon:"RecordButton-recordIcon-3ABxLQ"}},C0QX:function(e,t,a){const n=a("JHeM").default,i=a("a4Cb");e.exports=i(n)},C2o0:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("F/us"),i=a.n(n),r=(a("slDQ"),a("ETPs")),s=a("ys09");let o,l;function c(e,t){if(i.a.isEmpty(e))return;if(e===o)return l;const a=e.map(({key:e,value:a,operator:n=r.b})=>{let i;i=t?Array.isArray(a)?a.join(s.b):a:Array.isArray(a)?a.map(encodeURIComponent).join(s.b):encodeURIComponent(a);const o=n.lastIndexOf(r.b),l=n.substr(0,o),c=n.substr(o+1,n.lastIndexOf(r.b));return encodeURIComponent(e)+encodeURIComponent(l)+r.b+encodeURIComponent(c)+i},[]);return o=e,l=a.join(s.a),l}},C3YB:function(e,t,a){e.exports={measure:"AudioVideoFullMusic-measure-3rspAQ",content:"AudioVideoFullMusic-content-7Qnq7O",card:"AudioVideoFullMusic-card-3HHZDw MetadataPosterCard-card-3bztRc",titlesContainer:"AudioVideoFullMusic-titlesContainer-1f9NMl",title:"AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9",primaryTitle:"AudioVideoFullMusic-primaryTitle-sT84wu AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9",secondaryTitle:"AudioVideoFullMusic-secondaryTitle-2tx_Bf AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9"}},C5La:function(e,t,a){e.exports={card:"PrePlayReviewList-card-1JeBzp PosterCard-card-VhPkOe",details:"PrePlayReviewList-details-3pnUYy",ratingImg:"PrePlayReviewList-ratingImg-IQXmhD",reviewContainer:"PrePlayReviewList-reviewContainer-1WkRIG",titleContainer:"PrePlayReviewList-titleContainer-1REvg3",title:"PrePlayReviewList-title-1KHIn6 MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",author:"PrePlayReviewList-author-2HRwbj PrePlayReviewList-title-1KHIn6 MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X"}},C5pU:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o}));const n="tag",i="string",r="boolean",s="date",o="rating"},C7oW:function(e,t,a){"use strict";var n=a("+X4A"),i=a("CHn6"),r=a("mOXR"),s=a("d7+L"),o=a("nvND"),l=a("Pizw"),c=a("B69o"),d=a("tibn"),u=a("WfN5"),p=a("7za+");var m=i.a.extend({name:"PlaylistItemModel",context:["server","provider","playlist"],entityType:p.i,entityID(e=this.state){return Object(u.a)(this.entityType,e.playlistItemID||e.key,this.server.entityID())},idAttribute:"playlistItemID",syncedAttrs:{playlistItemID:r.a.string,key:r.a.string,type:r.a.string},syncedRelations:{metadataItem:{relationClass:d.a,deferred:!0}},augmentResponse:e=>({playlistItemID:e.playlistItemID,key:e.key,type:e.type,metadataItem:e})});var h=c.a.extend({name:"PlaylistItemCollection",context:["server","provider","playlist"],model:m});const g=i.a.extend({mixins:[s.a],name:"PlaylistItemListModel",context:["server","provider","playlist","includeExternalMedia"],idAttribute:"key",collectionName:"metadataItems",url(){let e=this.getPaginatedUrl(this.get("containerKey"));return this.includeExternalMedia&&(e=n.default.join(e,{includeExternalMedia:1})),e},sessionAttrs:{containerKey:r.a.string,currentPageStart:r.a.integer,currentPageSize:r.a.integer,populatedRange:r.a.object},syncedAttrs:{totalSize:r.a.integer},syncedRelations:{metadataItems:{relationClass:h,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===o.c?Object(l.b)(e):e});t.a=g},CCSj:function(e,t,a){(function(e){!function(e){"use strict";var t=function(t,a){this.options=a,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var a=this,n=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop((function(){var n=e.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(document.body),a.$element.show(),n&&a.$element[0].offsetWidth,a.$element.addClass("in").attr("aria-hidden",!1),a.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});n?a.$element.find(".modal-dialog").one(e.support.transition.end,(function(){a.$element.focus().trigger(i)})).emulateTransitionEnd(300):a.$element.focus().trigger(i)})))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){delete this.backdropMouseDownTarget,this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&a;if(this.$backdrop=e('<div class="modal-backdrop '+a+'" />').appendTo(document.body),this.$element.on("mousedown.dismiss.modal",e.proxy((function(e){this.backdropMouseDownTarget=e.target}),this)),this.$element.on("mouseup.dismiss.modal",e.proxy((function(e){e.target===this.backdropMouseDownTarget&&(delete this.backdropMouseDownTarget,e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)))}),this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var a=e.fn.modal;e.fn.modal=function(a,n){return this.each((function(){var i=e(this),r=i.data("bs.modal"),s=e.extend({},t.DEFAULTS,i.data(),"object"==typeof a&&a);r||i.data("bs.modal",r=new t(this,s)),"string"==typeof a?r[a](n):s.show&&r.show(n)}))},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var a=e(this),n=a.attr("href"),i=e(a.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("modal")?"toggle":e.extend({remote:!/#/.test(n)&&n},i.data(),a.data());t.preventDefault(),i.modal(r,this).one("hide",(function(){a.is(":visible")&&a.focus()}))})),e(document).on("show.bs.modal",".modal",(function(){e(document.body).addClass("modal-open")})).on("hidden.bs.modal",".modal",(function(){e(document.body).removeClass("modal-open")}))}(e)}).call(this,a("EVdn"))},CHO5:function(e,t,a){e.exports={mediaElement:"HTMLMedia-mediaElement-35x77U"}},CHYD:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="choose-library use-premium-library" data-agent="com.plexapp.agents.plexmusic" data-scanner="Plex Premium Music Scanner"> <div class="row"> <div class="col-xs-12"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> <span class="header-text"> '+c(i(a("d8WC")).call(t,"Create a premium Plex music library!",{hash:{},data:s}))+' </span> </div> </div> <div class="row use-premium-library-body"> <div class="col-xs-8"> <ul> <li>'+c(i(a("d8WC")).call(t,"Access to the best artwork, artist bios, album reviews, and more",{hash:{},data:s}))+"</li> <li>"+c(i(a("d8WC")).call(t,"Smart mixes based on track or mood",{hash:{},data:s}))+"</li> <li>"+c(i(a("d8WC")).call(t,"Improved music recognition and matching",{hash:{},data:s}))+"</li> </ul> ",((o=n.unless.call(t,t&&t.hasPremiumMusic,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=' <p class="help-block"> '+c(i(a("d8WC")).call(e,"Note: An active Plex Pass is required for this service. Don't have a Plex Pass? {1}Subscribe here{2}",'<a href="{3}" target="_blank">',"</a>",e&&e.plexPassUrl,{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="col-xs-4 vendor-logos"> ',((o=n.if.call(t,t&&t.hasLyrics,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){return'<div class="vendor-logo vendor-logo-lyricfind"></div>'}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="vendor-logo vendor-logo-gracenote"></div> <div class="vendor-logo vendor-logo-plex-pass"></div> </div> </div> </div> </div> </div> <div class="choose-library use-basic-library"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> '+c(i(a("d8WC")).call(t,"Create a basic music library",{hash:{},data:s}))+" </div> </div> </div> "}))},CHn6:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("rG0a"),l=a("slDQ"),c=a("0jae"),d=a("+X4A"),u=a("cgRT"),p=a("Khyo"),m=a("mCRK"),h=a("mOXR"),g=a("kwss"),y=a("nvND");var f=function(e,t){return e?s.a.reduce(t,(t,a,n)=>(s.a.isEqual(e[n],a)||(t[n]=a),t),{}):t},b=(a("uCj2"),a("FIl5")),v=a("1Lwt");const I=/^change:([\w]+)$/,S=e=>Array.isArray(e)?e[0]:e,E=p.c.Model.extend({mixins:[m.a],name:"AbstractModel",responseType:y.c,hasInitialRelations:!1,_context:["parent","skipCache"],cache:null,cacheKey:function(e){return e[this.idAttribute]},constructor:function(e,t){let a;if(e||(e={}),t||(t={}),this.initialize!==p.c.Model.prototype.initialize&&(a=this.initialize,this.initialize=function(){}),this.getContextNames().forEach(e=>{const a=this.findOption(t,e);void 0!==a&&(this[e]=a)}),!this.cache||this.findOption(t,"skipCache"))return p.c.Model.prototype.constructor.apply(this,arguments),this._initModel(t),void(a&&(a.apply(this,arguments),this.initialize=a));const n=this.findOption(t,"onlyIfCached"),i=this.cache.getItemCacheKey(this,e);let r=this.cache.get(i);if(!r&&this.entityID&&Object(u.a)("appModel")){const t=Object(u.c)("appModel");if(t.has("entities")){const a=t.get("entities").get(this.entityType),n=this.entityID(e),i=a.get(n);i&&(r=i.get("model"))}}return r?(this.uninitialize(),n||(this.mergeStrategy&&(r.isMergingAttributes=!0),t.parse?e=r.parse(e):s.a.extend(e,r._getRelations(this.syncedRelations,e)),r.set(e),r.isMergingAttributes=!1),this.getContextNames().forEach(e=>{r.setContext(e,this[e]||r[e])}),t.collection&&(r.collection=t.collection),r.updateEntity(),r):n?{}:(p.c.Model.prototype.constructor.apply(this,arguments),this._initModel(t),a&&(a.apply(this,arguments),this.initialize=a),void this.cache.store(this,i))},uninitialize:function(){this.stopListening()},_initModel:function(e){g.a.shouldCreateStateTree&&this.entityID&&(this.state=this.toState()),this._initRelations(e),this._initDerived(e),this._initState()},_initRelations:function(e){this._relationListeners={};const t=s.a.extend({},this.sessionRelations,this.syncedRelations);s.a.each(t,(function(e,t){this._initRelation(e,t);const a=s.a.bind(this._initRelation,this,e,t);this.on("change:"+t,a)}),this),this.hasInitialRelations=!0,this.set(this._getRelations(this.sessionRelations,this.attributes)),e.parse||this.set(this._getRelations(this.syncedRelations,this.attributes))},_initRelation:function(e,t){const a=this._resolveRelationDefinition(e).relationClass,n=this.get(t),i=this.previous(t),r=n&&n instanceof a;i&&i instanceof a&&s.a.has(this._relationListeners,t)&&(i.off("all",this._relationListeners[t]),this._relationListeners[t]=null),r&&this._forwardRelationEvents(n,t)},_initDerived:function(){s.a.each(this.derivedAttrs,this._setDerived,this)},_initState:function(){g.a.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.updateEntity(),this.on("all",this.onEvent,this))},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},getContextNames:function(){return this.getContext().map(S)},getContext:function(){if(!this.context)return this._context;const e=s.a.result(this,"context");return this._context.concat(e)},setContext:function(e,t){if(!this.hasContext(e)||this[e]===t)return;const a=this.getContext().find(t=>S(t)===e),n=Array.isArray(a)&&a[1]&&a[1].boundDerivedAttrs,i=n?[e,...n]:[e];let r;if(this[e]=t,i.forEach(e=>{this.hasDerived(e)&&(r=r||{},r[e]=this.derivedAttrs[e].call(this))}),r&&this.set(r),"parent"===e)return;const o=s.a.extend({},this.sessionRelations,this.syncedRelations);s.a.each(o,(function(a,n){const i=this.get(n);i&&i.setContext(e,t)}),this)},getScopedKey:function(e){return null!=e&&s.a.isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},getState:function(){return this._computedEntityID||this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const a=this.getState();return a!==t&&this.updateEntity(),this.trigger("statechange",this,a,t),{name:this.name,previousState:e,nextState:a}},updateEntity:function(){this._computedEntityID&&!this.skipCache&&(Object(l.a)(this.entityType,this.name+" requires an `entityType`"),o.a.trigger("change:entity",{type:this.entityType,id:this._computedEntityID,model:this}))},toState:function(){this.name;const e=Object.keys(this.attributes),t=s.a.reduce(e,this.reduceState,{possibleEntityContainers:[]},this);return Object.defineProperty(t,"possibleEntityContainers",{enumerable:!1}),this.entityID&&(this._computedEntityID=this.entityID(t)),t},reduceState:function(e,t){const a=this.attributes[t];return a&&a.getState?(e.possibleEntityContainers.push(t),e[t]=a.getState(),e):(a&&a.initialize||(e[t]=a),e)},shouldUpdateRelationState:function(e,t,a){return t!==a},toJSON:function(e={}){this.name;const t=this.syncedAttrs,a=this.sessionRelations,n=this.syncedRelations,r=this.attributes,o={};for(const i in r){const l=e.excluded&&e.excluded.includes(i),c=a&&s.a.has(a,i),d=n&&s.a.has(n,i),u=e.syncedOnly&&(!t||!s.a.has(t,i));l||c||d||u||(o[i]=r[i])}let l=i.a.extend(!0,{},o);function c(t,a){const n=this.get(a),i=e.excluded&&e.excluded.includes(a);if(n&&!i){let t;t=e.excludeDefaults?n instanceof p.c.Collection?n.map((function(t){return f(s.a.result(t,"defaults"),t.toJSON(e))})):f(s.a.result(n,"defaults"),n.toJSON(e)):n.toJSON(e),l[a]=t}}return e.excludeDefaults&&(l=f(s.a.result(this,"defaults"),l)),e.syncedOnly||s.a.each(a,c,this),s.a.each(n,c,this),l},clone:function(){const e=s.a.extend(s.a.pick(this,this.getContextNames()),{skipCache:!0});return new this.constructor(this.toJSON(),e)||null},copy:function(e){Object(l.a)(e instanceof this.constructor,"Only a model of the same type may be copied");const t=e.toJSON();return s.a.extend(t,this._getRelations(this.sessionRelations,t,{parse:!0}),this._getRelations(this.syncedRelations,t,{parse:!0})),this.set(t)},restoreDefaults:function(e){const t={};return s.a.each(this.attributes,(function(e,a){this.derivedAttrs&&s.a.has(this.derivedAttrs,a)||(t[a]=void 0)}),this),s.a.extend(t,this._getRelations(this.sessionRelations,{},{reset:!0}),this._getRelations(this.syncedRelations,{},{reset:!0}),s.a.result(this,"defaults"),e),this.set(t)},set:function(e,t,a){let n,i;return s.a.isObject(e)?(n=e,a=t):(n={})[e]=t,a||(a={}),!this.isMergingAttributes&&a.merge&&this.mergeStrategy&&(i=!0,this.isMergingAttributes=!0),this.isMergingAttributes&&(n=this._mergeAttributes(n)),p.c.Model.prototype.set.call(this,n,a),i&&(this.isMergingAttributes=!1),this},hasAttr:function(e){const t=this.sessionAttrs&&s.a.has(this.sessionAttrs,e),a=this.syncedAttrs&&s.a.has(this.syncedAttrs,e);return!(!t&&!a)},hasRelation:function(e){const t=this.sessionRelations&&s.a.has(this.sessionRelations,e),a=this.syncedRelations&&s.a.has(this.syncedRelations,e);return!(!t&&!a)},hasDerived:function(e){return!(!this.derivedAttrs||!s.a.has(this.derivedAttrs,e))},hasContext:function(e){return this.getContextNames().includes(e)},validate:function(e,t){const a=s.a.extend({},this.sessionAttrs,this.syncedAttrs,this.sessionRelations,this.syncedRelations),n=this._validateTypes(e,a);return n&&Object(l.a)(!1,n),n},parse:function(e,t){if(t&&t.save&&!this.hasResponseOnSave)return this.attributes;this.name;return this.convert(e,t)},parseResponse(e){let t=e;const a=s.a.result(this,"responseType");let n;return s.a.isString(t)&&(n=!0,s.a.isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,a)),t=a.parse(t)),a===y.a&&t.MediaContainer&&(t=t.MediaContainer),s.a.isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,a)),n&&this.rootPropertyName&&s.a.has(t,this.rootPropertyName)&&(t=t[this.rootPropertyName]),Array.isArray(t)&&(t=t[0]),t},convert:function(e,t){const a=this.parseResponse(e),n={};let i;s.a.each(this.sessionAttrs,(function(e,t){s.a.has(a,t)&&(n[t]=a[t])})),s.a.each(this.syncedAttrs,(function(e,t){if(s.a.has(a,t)){let i,r=e;r.typeName||(r=e.type,i=s.a.omit(e,"type")),n[t]=null==a[t]?a[t]:r.parse(a[t],i)}else this.has(t)&&(i||(i=s.a.result(this,"defaults")),n[t]=i&&s.a.has(i,t)?i[t]:void 0)}),this);const r=s.a.extend({},t,{parse:!0});return s.a.extend(n,this._getRelations(this.syncedRelations,a,r)),n},save:function(e,t,a){let n;null==e||"object"==typeof e?(n=e,a=t):(n={})[e]=t;const r=s.a.extend({save:!0},a),o=s.a.extend(this.getSaveParams(n),r.data);if(s.a.isEmpty(o))return r.success&&r.success(this),i.a.Deferred().resolve(this);r.data=o;const l=r.success;return r.success=function(e,t,a){e.cache&&e.cache.store(e),l&&l(e,t,a)},p.c.Model.prototype.save.call(this,n,r)},sync:function(e,t,a){const n=a?s.a.clone(a):{};if("create"===e||"update"===e){const e=n.data,t=n.url||s.a.result(this,"saveUrl")||s.a.result(this,"syncUrl")||s.a.result(this,"url");n.url=d.default.join(t,e),n.data=""}return p.c.Model.prototype.sync.call(this,e,t,n)},getSaveParams:function(e){const t=this._getSaveAttrs(e);return s.a.reduce(t,(function(e,t,a){const n=t.definition;let i=t.value,r=a;if(!n)return e[r]=i,e;const o=n.relationClass;if(o){const e=o.prototype.model;let t;n.rootPropertyName?t=n.rootPropertyName:i&&i.rootPropertyName?t=i.rootPropertyName:e&&e.prototype&&(t=e.prototype.rootPropertyName),i&&(i=i.getSaveParams()),t&&(r=t)}else{let e,t;s.a.has(n,"type")?(e=n.type,t=s.a.omit(n,"type")):e=n,i=e.stringify(i,t)}return e[r]=i,e}),{},this)},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void Object(l.a)(!1,this.name+" is already capturing events");const e=this.set,t=[],a=s.a.clone(this.attributes);this.set=function(a,n,i){const r=s.a.extend({},i,{silent:!0});let o;return"object"==typeof a?(o=a,i=n):(o={})[a]=n,s.a.each(o,(function(a,n){this.get(n)!==a&&(t.push({key:n,value:a}),e.call(this,n,a,r))}),this),s.a.each(this._derivedListeners,(function(a){const n=a.key,i=this.derivedAttrs[n].call(this);this.get(n)!==i&&(t.push({key:n,value:i}),e.call(this,n,i,r))}),this),this},this.releaseCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,this._previousAttributes=a,this._changing=!0,s.a.each(t,(function(e){this.trigger("change:"+e.key,this,e.value)}),this),this._changing=!1,s.a.isEmpty(t)||this.trigger("change",this,{})},this.discardCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,t.length=0}},spyOnGet:function(e){const t=[],a=this.get;return this.get=function(e){return t.push("change:"+e),this.hasRelation(e)&&t.push("change:"+e+".change"),a.apply(this,arguments)},e.call(this),this.get=a,t},dispatch:function(e){},_mergeAttributes:function(e){const t=this.mergeStrategy;if(!t)return e;return s.a.reduce(e,(function(e,a,n,i){return e[n]=t(n,this.get(n),a),e}),{},this)},_resolveRelationDefinition:function(e){return s.a.isFunction(e)?e.call(this):e},_getRelations:function(e,t,a){t||(t={}),a||(a={});const n={};return s.a.each(e,(function(e,i){const r=this._resolveRelationDefinition(e),o=r.relationClass;Object(l.a)(o,this.name+" requires a `relationClass` for the "+i+" relation");let c=i;a.parse&&!s.a.has(t,i)&&s.a.has(r,"rootPropertyName")&&(c=r.rootPropertyName);let d=t[c];if(d instanceof o)return void(n[i]=d);if(!d&&r.deferred)return void(n[i]=void 0);let u=a.reset?null:this.get(i),m=u instanceof o;const h=o.prototype instanceof p.c.Collection;if(h?d=b.a.parseArray(d):d||(d={}),m&&!h&&(a.parse&&(d=u.parse(d)),m=u.id===d[u.idAttribute||"id"]),m){u.isMergingAttributes=this.isMergingAttributes;let e=r.setOptions;s.a.isFunction(e)&&(e=e.call(this,a)),h?u.set(d,s.a.extend({parse:a.parse,remove:!this.isMergingAttributes},e)):u.set(d,s.a.extend({merge:!0},e)),u.isMergingAttributes=!1}else{const e={parse:a.parse};if(this.getContextNames().forEach(t=>{e[t]=this[t]}),!h){let e=r.attrs;s.a.isFunction(e)&&(e=e.call(this,t)),d=s.a.extend({},d,e)}let n=r.options;s.a.isFunction(n)&&(n=n.call(this,t)),s.a.extend(e,{parent:this},n),u=new o(d,e)}n[i]=u}),this),n},_forwardRelationEvents:function(e,t){const a=["sync","request","invalid","error","add","remove"];function n(){const n=arguments[0];if("change"===n)return;if("statechange"===n)return void(this.shouldUpdateRelationState.apply(this,s.a.rest(arguments,1))&&v.b(this.updateState,this));const i=s.a.toArray(arguments);i[0]="change:"+t+"."+n,this.trigger.apply(this,i),s.a.contains(a,n)||(this.trigger("change:"+t+".change",this,e),this.trigger("change",this))}e.on("all",n,this),this._relationListeners[t]=n},_setDerived:function(e,t){let a;const n=this.spyOnGet((function(){const n=this.set;this.set=function(){Object(l.a)(!1,this.name+" blocked `set` in the "+t+" attribute. Derived attributes are read-only.")},a=e.call(this),this.set=n}));this.set(t,a),s.a.each(n,(function(a){this._addDerivedListener(t,a,e)}),this)},_addDerivedListener:function(e,t,a){this._derivedListeners||(this._derivedListeners=[]);const n={key:e,name:t,callback:s.a.bind(this._setDerived,this,a,e)};s.a.findWhere(this._derivedListeners,{key:e,name:n.name})||(this._derivedListeners.push(n),this.on(n.name,n.callback))},_getSaveAttrs:function(e){let t;if(e)t=s.a.reduce(e,(function(e,t,a){return e[a]={definition:this.syncedAttrs[a],value:t},e}),{},this);else{const e=s.a.extend({},this.syncedAttrs,this.syncedRelations);t=s.a.reduce(e,(function(e,t,a){const n=this._resolveRelationDefinition(t);let i=n.save;return s.a.isFunction(i)&&(i=i.call(this)),i&&(e[a]={definition:n,value:this.get(a)}),e}),{},this)}return t},_validateTypes:function(e,t){const a=Object.keys(e),n=s.a.reduce(a,(function(a,n){if(this.hasDerived(n))return a;if(!s.a.has(t,n))return a.push(this.name+" received an unknown attribute: "+n+". All attributes must be defined in `sessionAttrs`, `syncedAttrs`, `sessionRelations`, or `syncedRelations`."),a;const i=e[n],r=this._resolveRelationDefinition(t[n]),o=r.relationClass;let l;l=o?this.hasInitialRelations?h.a.instanceOf(o):o.prototype instanceof p.c.Collection?h.a.oneOfType(h.a.array,h.a.object):h.a.object:r.type?r.type:r;const c=l.validate;return c?c(i)||a.push(n+" of type "+l.typeName+" has an invalid value: "+JSON.stringify(i)):a.push(n+" has an unknown type. Specify the type in the attribute definition or use attrTypes.any as a wildcard type."),a}),[],this);if(n.length>0)return n.join("\n")},onEvent:function(e,t,a){if(!t)return void c.a.warn("Unable to handle",e);const n=e.match(I);if(!n)return;const i=n[1];t.get(i)!==this.state[i]&&(a&&a.updateEntity&&a.updateEntity(),v.b(this.updateState,this))}});t.a=E},CR3D:function(e,t,a){"use strict";var n=a("66GW"),i=a("1Cr9");const r=Object(i.a)(["id","typeString"],[{id:0,typeString:"tag",title:()=>Object(n.default)("Tag")},{id:1,typeString:"genre",title:()=>Object(n.default)("Genre")},{id:2,typeString:"collection",title:()=>Object(n.default)("Collection")},{id:3,typeString:"bookmark",title:()=>Object(n.default)("Bookmark")},{id:4,typeString:"director",title:()=>Object(n.default)("Director"),isPerson:!0},{id:5,typeString:"writer",title:()=>Object(n.default)("Writer"),isPerson:!0},{id:6,typeString:"actor",title:()=>Object(n.default)("Actor"),isPerson:!0},{id:7,typeString:"producer",title:()=>Object(n.default)("Producer"),isPerson:!0},{id:8,typeString:"country",title:()=>Object(n.default)("Country")},{id:9,typeString:"chapter",title:()=>Object(n.default)("Chapter")},{id:10,typeString:"review",title:()=>Object(n.default)("Review")},{id:11,typeString:"label",title:()=>Object(n.default)("Label")},{id:42,typeString:"versionBackgroundProcessingTarget",title:()=>Object(n.default)("Version Background Processing Target")},{id:200,typeString:"make",title:()=>Object(n.default)("Make")},{id:201,typeString:"model",title:()=>Object(n.default)("Model")},{id:202,typeString:"aperture",title:()=>Object(n.default)("Aperture")},{id:203,typeString:"exposure",title:()=>Object(n.default)("Exposure")},{id:204,typeString:"iso",title:()=>Object(n.default)("ISO")},{id:205,typeString:"lens",title:()=>Object(n.default)("Lens")},{id:206,typeString:"device",title:()=>Object(n.default)("Device")},{id:207,typeString:"autotag",title:()=>Object(n.default)("Autotag")},{id:400,typeString:"place",title:()=>Object(n.default)("Place")},{id:300,typeString:"mood",title:()=>Object(n.default)("Mood")},{id:301,typeString:"bpm",title:()=>Object(n.default)("BPM")},{id:302,typeString:"composer",title:()=>Object(n.default)("Composer")},{id:303,typeString:"featuring",title:()=>Object(n.default)("Featuring")},{id:304,typeString:"trackArtist",title:()=>Object(n.default)("Track Artist")},{id:305,typeString:"similarArtist",title:()=>Object(n.default)("Similar Artist")},{id:306,typeString:"concert",title:()=>Object(n.default)("Concert")}]);t.a=r},CWZi:function(e,t,a){e.exports={poster:"MetadataPosterCardFace-poster-L2P6rC",face:"MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC",isSelected:"MetadataPosterCardFace-isSelected-1XUgkl",faceFront:"MetadataPosterCardFace-faceFront-1bxHG3",faceBack:"MetadataPosterCardFace-faceBack-1ofDHf"}},CXxV:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("BoiH"),s=a("Bw3N"),o=a("6N1R"),l=a("8HKk"),c=a("xyiB");function d({formGroupClassName:e,labelText:t,checkboxText:a,helpText:n,showErrors:c,errors:d,...u}){const[p]=d;return i.a.createElement(s.a,{className:e},t?i.a.createElement(l.a,null,t):null,i.a.createElement(r.a,{hasError:c,checkboxText:i.a.createElement("span",null,a,c&&p?" — "+p:null),...u}),n?i.a.createElement(o.a,null,n):null)}d.defaultProps={showErrors:!1,errors:[]},t.a=Object(c.a)(d)},CZ2S:function(e,t,a){"use strict";var n=a("0jae"),i=a("5/Tp");t.a=function(e,t={}){try{return JSON.parse(e)}catch(a){const r=Object(i.a)(e)?e.substring(0,50):"no response";return n.a.warn(`[Parser] Unable to parse JSON: ${a.message} (${r})`),t}}},CjSz:function(e,t,a){e.exports={modalBody:"SubtitlesUploadModalContent-modalBody-26_M5- ModalBody-modalBody--5uHSu",container:"SubtitlesUploadModalContent-container-hAKMim",dropHover:"SubtitlesUploadModalContent-dropHover-2g3rQZ",uploadingContainer:"SubtitlesUploadModalContent-uploadingContainer-3YDAh7",fileInputContainer:"SubtitlesUploadModalContent-fileInputContainer-oioGGH",fileInputLink:"SubtitlesUploadModalContent-fileInputLink-2mJgaq",separator:"SubtitlesUploadModalContent-separator-3gi0QY"}},"Co+w":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("MWLE"),l=a("wCAT"),c=a("NG4B");const d={[c.i]:!0,[c.b]:!0,[c.f]:!0,[c.g]:!0,[c.h]:!0};t.a=function(e){var t;return(t=class extends r.Component{constructor(e,t){super(e,t),this.onKeyDown=e=>{const{pressedModifierKeys:t}=this.state;d[e.which]&&-1===t.indexOf(e.which)&&this.setState({pressedModifierKeys:t.concat(e.which)})},this.onKeyUp=e=>{const{pressedModifierKeys:t}=this.state,a=t.indexOf(e.which);a>-1&&this.setState({pressedModifierKeys:t.slice(0,a).concat(t.slice(a+1))})},this.onMouseDown=e=>{this._isMouseDown=!0},this.onMouseUp=e=>{this._isMouseDown=!1},this.onFocusChange=e=>{this.state.pressedModifierKeys.length&&this.setState({pressedModifierKeys:[]}),this._isMouseDown=!1},this.onMouseEnter=e=>{const{selectionType:t,activeSelectionType:a}=this.props;this._isMouseDown&&a&&a===t&&this.onSelectPress(e)},this.onSelectPress=e=>{const{selectionID:t,selectionType:a,isSelected:n,onSelectItem:i}=this.props;n||i({id:t,type:a,isRangeSelect:e.shiftKey})},this.onDeselectPress=e=>{const{selectionID:t,isSelected:a,onDeselectItem:n}=this.props;a&&n({id:t})},this.state={pressedModifierKeys:[]}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("dragstart",this.onFocusChange),document.addEventListener("contextmenu",this.onFocusChange),window.addEventListener("blur",this.onFocusChange)}shouldComponentUpdate(e,t){return Object(l.a)(this,e,t)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("dragstart",this.onFocusChange),document.removeEventListener("contextmenu",this.onFocusChange),window.removeEventListener("blur",this.onFocusChange)}render(){const{selectionType:t,activeSelectionType:a,isSelected:n,...i}=this.props,{pressedModifierKeys:r}=this.state,o=!!a;return s.a.createElement(e,{hasActiveSelection:o,isSelected:n,isOtherItemSelected:o&&!n,isConflictingTypeSelected:o&&a!==t,isModifierKeyPressed:r.length>0,onMouseEnter:this.onMouseEnter,onSelectPress:this.onSelectPress,onDeselectPress:this.onDeselectPress,...i})}}).displayName=`Selectable(${Object(o.a)(e)})`,t.WrappedComponent=e,t.propTypes={selectionID:i.a.string.isRequired,selectionType:i.a.string.isRequired,activeSelectionType:i.a.string,isSelected:i.a.bool.isRequired,onSelectItem:i.a.func.isRequired,onDeselectItem:i.a.func.isRequired},t.defaultProps={disableSelection:!1},t}},Co7d:function(e,t,a){"use strict";function n(e){return e>0?e+" kbps":""}a.d(t,"a",(function(){return n}))},CpQb:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("slDQ"),s=a("0jae"),o=a("Khyo"),l=a("DYcP"),c=a.n(l),d=a("EVdn"),u=a.n(d);u.a.fn.isDisabled=function(){return this.hasClass("disabled")||this.hasClass("active")||this.hasClass("hidden")},u.a.fn.selectText=function(){const e=this[0];let t;if(document.body.createTextRange)t=document.body.createTextRange(),t.moveToElementText(e),t.select();else if(window.getSelection){const a=window.getSelection();t=document.createRange(),t.selectNodeContents(e),a.removeAllRanges(),a.addRange(t)}},u.a.fn.triggerReflow=function(){const e=this[0];return e&&e.offsetHeight,this},c.a.isNodeAttached=function(e){return o.c.$.contains(document.documentElement,e)};const p=i.a.clone(c.a.View.prototype),m=i.a.clone(c.a.CollectionView.prototype),h=i.a.clone(c.a.Region.prototype),g=i.a.clone(c.a.Region),y=i.a.clone(c.a.Layout.prototype),f={constructor:function(){this.wrapAfterRender(),p.constructor.apply(this,arguments),this.listenViewEvents()},listenViewEvents:function(){this.stopListeningViewEvents();const e=i.a.result(this,"viewEvents");e&&(this._viewEventsListeners=i.a.mapObject(e,e=>i.a.isString(e)?this[e]:e),this.listenTo(this,this._viewEventsListeners))},stopListeningViewEvents:function(){this._viewEventsListeners&&(this.stopListening(this,this._viewEventsListeners),delete this._viewEventsListeners)},_setElement:function(){p._setElement.apply(this,arguments),this.el&&(this.el._viewInstance?this.el._viewInstance!==this&&s.a.warn('Multiple views registered for a single element with class="%s"',this.el.className):this.el._viewInstance=this)},_removeElement:function(){this.el&&delete this.el._viewInstance,p._removeElement.apply(this,arguments)},bindAllWhenRendered:function(){Object(r.a)(arguments.length>0,"`bindAllWhenRendered` requires at least one function");const e=Array.isArray(arguments[0])?arguments[0]:arguments;i.a.each(e,(function(e){try{this[e]=this.whenRendered(this[e])}catch(t){Object(r.a)(!1,"`bindAllWhenRendered` is unable to wrap "+JSON.stringify(e))}}),this)},whenRendered:function(e){return Object(r.a)(i.a.isFunction(e),"`whenRendered` must be called with a single function"),i.a.bind((function(){if(this.isClosed)return;const t=i.a.toArray(arguments),a=i.a.bind((function(){this.isRendered&&!this.isClosed&&e.apply(this,t)}),this);this.isRendered?i.a.defer(a):this.listenToOnce(this,"render",(function(){i.a.defer(a)}))}),this)},wrapAfterRender:function(){void 0!==this.onlyAfterRender&&(Object(r.a)(Array.isArray(this.onlyAfterRender),"`onlyAfterRender` must be an array"),this.bindAllWhenRendered.apply(this,this.onlyAfterRender))},bindUIElements:function(){p.bindUIElements.apply(this,arguments),this.bindToModel(),this.isRendered=!0},unbindUIElements:function(){p.unbindUIElements.apply(this,arguments),this.unbindFromModel()},_getImmediateChildren:function(){return[]},_getNestedViews:function(){const e=this._getImmediateChildren();return e.length?i.a.reduce(e,(function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e}),e):e}},b={constructor:function(){m.constructor.apply(this,arguments)},triggerRendered:function(){return this.isRendered=!0,m.triggerRendered.apply(this,arguments)},rebase:function(e){return this.stopListening(this.collection),this.collection=e,this._initialEvents(),i.a.isFunction(this._renderChildren)?this._renderChildren():this.render(),this},buildItemView:function(){const e=m.buildItemView.apply(this,arguments);return e._parentView=this,e},_getImmediateChildren:function(){return i.a.values(this.children._views)}},v={constructor:function(){m.constructor.apply(this,arguments)}},I={append:function(e,t,a){const n=e.isClosed||i.a.isUndefined(e.$el),r=e!==this.currentView;return r&&this.close(),e.render(),(r||n)&&(t||(t=this.getEl(this.el)),a?t.prepend(e.el):t.append(e.el)),this.attachView(e),c.a.triggerMethod.call(this,"show",e),c.a.triggerMethod.call(e,"show"),this._updateParentView(e),this._triggerAttached(e,t),this},prepend:function(e,t){return this.append(e,t,!0)},show:function(e){h.show.apply(this,arguments),this._updateParentView(e),this._triggerAttached(e,this.$el)},_triggerAttached:function(e,t){if(!c.a.isNodeAttached(t.get(0)))return;const a=i.a.union([e],i.a.result(e,"_getNestedViews")||[]);i.a.each(a,(function(e){e.triggerMethod&&e.triggerMethod("attached",this)}),this)},_updateParentView:function(e){e&&(e._parentView=this._parentView)}},S={buildRegion:function(e,t){const a=g.buildRegion.apply(this,arguments);return a._parentView=e._parentView,a}},E={_buildRegions:function(e){const t=i.a.mapObject(e,e=>i.a.isString(e)?{_parentView:this,selector:e}:i.a.defaults(e,{_parentView:this}));return y._buildRegions.call(this,t)},_getImmediateChildren:function(){return i.a.chain(this.regionManager._regions).values().pluck("currentView").compact().value()}};i.a.extend(c.a.View.prototype,f),i.a.extend(c.a.ItemView.prototype,f),i.a.extend(c.a.CollectionView.prototype,f,b),i.a.extend(c.a.CompositeView.prototype,f,v),i.a.extend(c.a.Region.prototype,I),i.a.extend(c.a.Region,S),i.a.extend(c.a.Layout.prototype,E),c.a.extend=o.c.Model.extend,c.a.Controller.extend=c.a.extend,c.a.Region.extend=c.a.extend,c.a.Application.extend=c.a.extend,c.a.Module.extend=c.a.extend,c.a.View.extend=c.a.extend,c.a.ItemView.extend=c.a.extend,c.a.CollectionView.extend=c.a.extend,c.a.CompositeView.extend=c.a.extend,c.a.Layout.extend=c.a.extend;t.a=c.a},CsFZ:function(e,t,a){e.exports={container:"ServerDashboardGraph-container-3OySq3 ServerDashboardSectionContent-container-3rMPaP",errorMessage:"ServerDashboardGraph-errorMessage-2LPJoX ServerDashboardSectionContent-errorMessage-32wZKY ServerDashboardPageMessage-container-2qUY4V"}},Cu2K:function(e,t,a){e.exports={itemExtraDetail:"AudioVideoQualityMenuItem-itemExtraDetail-202QW4"}},CuR8:function(e,t,a){e.exports={container:"PivotTabDropdown-container-1QP8Fk",button:"PivotTabDropdown-button-1UgTLu PageHeaderTabButton-button-1zTdeV Button-button-2kT68l Link-link-2n0yJn",buttonContents:"PivotTabDropdown-buttonContents-1S-hwV",title:"PivotTabDropdown-title-17TfJG",disclosureArrow:"PivotTabDropdown-disclosureArrow-Kjyz5C DisclosureArrow-disclosureArrow-1KPaBC",isSelected:"PivotTabDropdown-isSelected-1F5jFF"}},Cudw:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("vkXu");function i(e,t){return Object(n.a)(e,t)?"localQuality":"remoteQuality"}},Cxyf:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return s}));const n="queued",i="matching",r="processing",s="loading"},CytX:function(e,t,a){e.exports={measureContainer:"ChannelsGridPageContent-measureContainer-86FCP0",gridContent:"ChannelsGridPageContent-gridContent-1qxiR6 ChannelsGrid-gridContainer-u_bmj0"}},D1lN:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));const n="/hubs",i="/hubs?identifier=home.continue,home.ondeck"},DA7V:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("q1tI"),i=a.n(n);function r(e,t,a){let n=0;return i.a.Children.map(e,e=>{if(i.a.isValidElement(e)){const i=n;return n++,t.call(a,e,i)}return e})}},DBXq:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));const n="boolean",i="other"},DBlN:function(e,t,a){(function(e){!function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,a,n){this.enabled=!0,this.type=t,this.$element=e(a),this.options=this.getOptions(n);for(var i=this.options.trigger.split(" "),r=i.length;r--;){var s=i[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var o="hover"==s?"mouseenter":"focus",l="hover"==s?"mouseleave":"blur";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},a=this.getDefaults();return this._options&&e.each(this._options,(function(e,n){a[e]!=n&&(t[e]=n)})),t},t.prototype.enter=function(t){var a=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(a.timeout),a.hoverState="in",!a.options.delay||!a.options.delay.show)return a.show();a.timeout=setTimeout((function(){"in"==a.hoverState&&a.show()}),a.options.delay.show)},t.prototype.leave=function(t){var a=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(a.timeout),a.hoverState="out",!a.options.delay||!a.options.delay.hide)return a.hide();a.timeout=setTimeout((function(){"out"==a.hoverState&&a.hide()}),a.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var a=this.tip();this.setContent(),this.options.animation&&a.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,r=i.test(n);r&&(n=n.replace(i,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);var s=this.getPosition(),o=a[0].offsetWidth,l=a[0].offsetHeight;if(r){var c=this.$element.parent(),d=n,u=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),m="body"==this.options.container?window.innerHeight:c.outerHeight(),h="body"==this.options.container?0:c.offset().left;n="bottom"==n&&s.top+s.height+l-u>m?"top":"top"==n&&s.top-u-l<0?"bottom":"right"==n&&s.right+o>p?"left":"left"==n&&s.left-o<h?"right":n,a.removeClass(d).addClass(n)}var g=this.getCalculatedOffset(n,s,o,l);this.applyPlacement(g,n),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var a,n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),o=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(o)&&(o=0),e.top=e.top+s,e.left=e.left+o,n.offset(e).addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;if("top"==t&&c!=r&&(a=!0,e.top=e.top+r-c),/bottom|top/.test(t)){var d=0;e.left<0&&(d=-2*e.left,e.left=0,n.offset(e),l=n[0].offsetWidth,c=n[0].offsetHeight),this.replaceArrow(d-i+l,l,"left")}else this.replaceArrow(c-r,c,"top");a&&n.offset(e)},t.prototype.replaceArrow=function(e,t,a){this.arrow().css(a,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){var t=this,a=this.tip(),n=e.Event("hide.bs."+this.type);function i(){"in"!=t.hoverState&&a.detach()}if(this.$element.trigger(n),!n.isDefaultPrevented())return a.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?a.one(e.support.transition.end,i).emulateTransitionEnd(150):i(),this.$element.trigger("hidden.bs."+this.type),this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,a,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-a/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-a/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-a}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var a=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;a.tip().hasClass("in")?a.leave(a):a.enter(a)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=e.fn.tooltip;e.fn.tooltip=function(a){return this.each((function(){var n=e(this),i=n.data("bs.tooltip"),r="object"==typeof a&&a;i||n.data("bs.tooltip",i=new t(this,r)),"string"==typeof a&&i[a]()}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=a,this}}(e)}).call(this,a("EVdn"))},DDT0:function(e,t,a){e.exports={unknown:"RemoteAccessStateIcon-unknown-2v9yMF",error:"RemoteAccessStateIcon-error-1HDvqj",ok:"RemoteAccessStateIcon-ok-2eQXXP"}},DDbo:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("+X4A"),s=a("CHn6"),o=a("mOXR"),l=a("0jfG"),c=a("rXDx"),d=a("Wpyo");const u={unviewedLeafCount:">="};var p=d.default.extend({name:"SectionMetadataListModel",context:["server","section","identifier","mediaTagPrefix","mediaTagVersion","allowSync"],url(){let e,t,a=[];const n=this.section.get("currentFolderKey");if(n)a.push(n);else if(a.push(i.a.result(this.section,"url")),e=this.section.get("currentSubset").id,this.section.get("allowAdvancedFilters"))"recentlyAdded"!==e&&"newest"!==e||(e="all"),a.push(e),t=this.getParams();else{const t=this.section.get("currentFilters");t.length?a=[t[0].values[0]]:a.push(e)}let s=r.default.join(a,t);return s=this.replaceSpecialFilterOperators(s),this.set("containerKey",s),this.server.get("isFullServer")?this.getPaginatedUrl(s):s},getParams(){const e=this.getFilterParams(),t=this.getMetadataTypeID(),a=this.getSort();return t&&t!==Object(c.getMetadataType)("photo").id&&(e.type=t),a&&(e.sort=a),this.section.get("refreshing")&&this.server.supports("timelineState")&&(e.timelineState=1),e},getFilterParams(){const e=this.section.get("currentFilters"),t={};return i.a.each(e,e=>{e.values.length&&(t[e.key]=e.values.map(decodeURIComponent).join(","))}),t},getMetadataTypeID(){const e=this.section.get("currentSubset").id;let t=this.section.get("currentType").id||Object(c.getMetadataType)(this.section.get("type")).id;return/^(onDeck|recentlyAdded|recentlyViewed|newest)$/.test(e)?t===Object(c.getMetadataType)("show").id||t===Object(c.getMetadataType)("season").id?t=Object(c.getMetadataType)("episode").id:t!==Object(c.getMetadataType)("artist").id&&t!==Object(c.getMetadataType)("track").id||(t=Object(c.getMetadataType)("album").id):/^recentlyViewedShows$/.test(e)&&(t=Object(c.getMetadataType)("show").id),t},getSort(){const e=this.section.get("currentSort"),t=this.section.get("currentSubset").id;if("recentlyAdded"===t)return"addedAt:desc";if("newest"===t)return"originallyAvailableAt:desc";if(e){return(e.get("direction")||e.get("defaultDirection"))===l.a.directions.DESCENDING?e.get("descKey"):e.get("key")}},replaceSpecialFilterOperators:e=>(i.a.each(u,(t,a)=>{e=e.replace(a+"=",a+t)}),e)}),m=a("Gu3x"),h=a("KKL4"),g=a("WfN5"),y=a("7za+"),f=a("z8ZC"),b=a("66GW"),v=a("1Cr9");var I=Object(v.a)(["key"],[{key:"all",title:()=>Object(b.default)("All")},{key:"unwatched",title:()=>Object(b.default)("Unplayed")},{key:"newest",title:()=>Object(b.default)("Recently Released")},{key:"recentlyAdded",title:()=>Object(b.default)("Recently Added")},{key:"recentlyViewed",title:()=>Object(b.default)("Recently Viewed")},{key:"recentlyViewedShows",title:()=>Object(b.default)("Recently Viewed Shows")},{key:"onDeck",title:()=>Object(b.default)("On Deck")},{key:"folder",title:()=>Object(b.default)("By Folder")}]),S=a("5J4V"),E=a("JHYu"),O=a("ONsB"),M=a("B69o"),C=a("HQmg");var j=s.a.extend({name:"LinearFilterModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{secondary:o.a.boolean,key:o.a.string,title:o.a.string},syncedRelations:{options:{relationClass:C.a}},defaults:{secondary:!1}});var D=M.a.extend({name:"LinearFilterCollection",context:["server","section"],model:j,url(){return i.a.result(this.section,"url")},filterBySecondary(){const e=this.filter(e=>e.get("secondary"));return this.clone(e)}});var P=s.a.extend({name:"LocationModel",context:["server","section"],rootPropertyName:"Location",syncedAttrs:{id:o.a.integer,path:{type:o.a.string,save:!0}}});var T=M.a.extend({name:"LocationCollection",context:["server","section"],model:P});var w=s.a.extend({name:"MediaTypeModel",context:["server","section"],sessionAttrs:{id:o.a.integer,typeString:o.a.string,title:o.a.string,plural:o.a.string,mediaType:o.a.string,child:o.a.string,parent:o.a.string,selected:o.a.boolean},defaults:{selected:!1}});var N=M.a.extend({name:"MediaTypeCollection",context:["server","section"],model:w});const x=["all","recentlyAdded","recentlyViewed","recentlyViewedShows","onDeck","newest","folder"];var A=s.a.extend({name:"SectionSubsetModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:o.a.boolean},syncedAttrs:{key:o.a.string,title:o.a.string,secondary:o.a.boolean},derivedAttrs:{primary(){return!this.get("secondary")&&i.a.contains(x,this.get("key"))}},defaults:{selected:!1},augmentResponse:e=>("all"===e.key&&(e.title=Object(b.default)("All")),e)},{whitelistedPrimaryKeySubsets:x});var L=M.a.extend({name:"SectionSubsetCollection",context:["server","section"],model:A,url(){return i.a.result(this.section,"url")},filterPrimaries(){const e=this.filter(e=>e.get("primary"));return this.clone(e)}}),k=a("5lOB");const R=s.a.extend({name:"SectionModel",context:["server"],entityType:y.d,entityID(e=this.state){return Object(g.a)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"Directory",cache:new h.a,persistInCache:!0,cacheKey(e){return this.server&&this.server.getScopedKey(e.key)},url(){if(this.isNew())return i.a.result(this,"urlRoot")||i.a.result(this.collection,"url");return i.a.isNaN(parseInt(this.id,10))?this.id:"/library/sections/"+this.id},sessionAttrs:{isSection:o.a.boolean,isCollectionsPopulated:o.a.boolean,currentFilters:o.a.array,currentFolderKey:o.a.string,settings:o.a.instanceOf(m.a)},syncedAttrs:{key:o.a.oneOfType(o.a.string,o.a.integer),uuid:o.a.string,thumb:o.a.string,art:o.a.string,createdAt:o.a.integer,updatedAt:o.a.integer,allowAdvancedFilters:o.a.boolean,allowSync:o.a.boolean,refreshing:o.a.boolean,name:{type:o.a.string,save:!0},title:{type:o.a.string,save:!0},type:{type:o.a.string,save:!0},agent:{type:o.a.string,save:!0},scanner:{type:o.a.string,save:!0},language:{type:o.a.string,save:!0},importFromiTunes:{type:o.a.boolean,save:!0},enableAutoPhotoTags:{type:o.a.boolean,save:!0},downloadMedia:{type:o.a.integer,save:!0}},derivedAttrs:{serverEntityID(){return this.state?this.server.entityID():""}},syncedRelations:{locations(){return{relationClass:T,rootPropertyName:"Location",options:{section:this},save:!0}}},sessionRelations:{items(){return{relationClass:p,options:{section:this}}},currentSubset(){return{relationClass:A,options:{section:this}}},currentFirstCharacter:()=>({relationClass:O.a,deferred:!0}),currentType:()=>({relationClass:w,deferred:!0}),currentSort:()=>({relationClass:l.a,deferred:!0}),types(){return{relationClass:N,options:{section:this}}},subsets(){return{relationClass:L,options:{section:this}}},filters(){return{relationClass:this.get("allowAdvancedFilters")?S.a:D,options:{section:this}}},sorts(){return{relationClass:k.a,options:{section:this}}},firstCharacters(){return{relationClass:E.a,options:{section:this}}}},defaults(){return{isSection:!0,isCollectionsPopulated:!1,currentType:null,currentFilters:[],currentSort:null,currentFirstCharacter:null,currentFolderKey:null,currentSubset:I.get("all"),settings:new m.a([],{server:this.server,url:()=>r.default.join(["/library/sections/",this.get("key"),"/prefs"])})}},initialize(e){this.updateMediaTypes(this,e.type),this.set({currentType:this.get("types").findWhere({typeString:e.type})}),this.on("change:type",this.updateMediaTypes,this)},uninitialize(){this.off("change:type",this.updateMediaTypes,this),this.stopListening()},augmentResponse:e=>(e.allowAdvancedFilters=!!e.filters,delete e.filters,e),getSectionType(){const e=this.get("type");return f.g.get(e)},getSaveParams(e){const t=s.a.prototype.getSaveParams.apply(this,arguments);if("type"in t){const e=f.g.get(t.type);e&&(t.type=e.typeString)}return"title"in t&&(t.name=t.title,delete t.title),i.a.isObject(t.type)&&(t.type=t.type.typeString),"Location"in t&&(t.location=i.a.pluck(t.Location,"path"),delete t.Location),t},getSyncTitle(e){const t=this.get("title"),a=[],n=this.get("currentSubset"),r=this.get("currentFilters");return e?(i.a.each(e,e=>{a.push(e.get("title"))}),t+": "+a.join(", ")):"all"!==n.id?t+": "+n.get("title"):r.length?(i.a.each(r,(function(e){a.push(e.titles.join(", "))})),t+": "+a.join(",")):t},setAgentAndScanner(e,t,a){const n=e.defaultAgents.find(e=>t.find(t=>t.get("identifier")===e)),i=e.defaultScanners.find(e=>a.find(t=>t.get("name")===e));this.set({agent:n,scanner:i})},updateMediaTypes(e,t){const a=Object(c.getRelatedTypes)(t);this.get("types").reset(a)}});t.a=R},DFfa:function(e,t,a){e.exports={icon:"ErrorSourceSidebar-icon-2qnXAl"}},DHe7:function(e,t,a){e.exports={description:"ImportPlaylistsModal-description-3Lm544",row:"ImportPlaylistsModal-row-1RJDHk",overwrite:"ImportPlaylistsModal-overwrite-11Wk9k",library:"ImportPlaylistsModal-library-3t6Hg-",buttonBar:"ImportPlaylistsModal-buttonBar-3Y9UNY ModalFooterButtonBar-buttonBar-7XF2zU"}},DJk6:function(e,t,a){e.exports={divider:"PrePlayListDivider-divider-ujL6N2"}},DJkp:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("L395"),s=a("1cGo"),o=a("oSTF"),l=a("tsu6"),c=a("/XtJ"),d=a("17x9"),u=a.n(d),p=a("xhK+"),m=a.n(p);function h(e){var t=e["aria-label"],a=e.className,n=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-user-home-560"};r["aria-hidden"]=!t,r.style=n,r.className=m.a.plexIcon+(a?" "+a:"");var s=[i.a.createElement.apply(i.a,["path",{d:"M532 504H319.2V352.8h-78.4V504H28V280L280 28l252 252v224zm-168-44.8h123.2V298.557L280 91.357l-207.2 207.2V459.2H196V308h168v151.2z"}].concat([]))];return t&&s.unshift(i.a.createElement("title",null,t)),i.a.createElement.apply(i.a,["svg",r].concat(s))}h.propTypes={"aria-label":u.a.string,className:u.a.string,style:u.a.object};var g=h,y=a("czqj"),f=a.n(y);class b extends n.Component{constructor(){super(...arguments),this.onPress=()=>{this.props.onSelect(this.props.user.id)}}render(){const{serverEntityID:e,user:t,isSelected:a}=this.props,{title:n,email:r,thumb:d,home:u}=t,p=r&&r!==n;return i.a.createElement(o.a,{className:a?f.a.selectedButton:f.a.button,onPress:this.onPress},i.a.createElement(c.a,{className:f.a.avatar,serverEntityID:e,url:d,width:30,height:30}),i.a.createElement("div",{className:f.a.titleContainer},i.a.createElement("span",{className:f.a.title},n),p?i.a.createElement("span",{className:f.a.email},i.a.createElement(s.b,null),r):null),a?i.a.createElement(l.a,{className:f.a.selectedIcon}):null,i.a.createElement(g,{className:u?f.a.visibleHomeIcon:f.a.homeIcon}))}}var v=b,I=a("UcbN"),S=a.n(I);function E(e){const{className:t,serverEntityID:a,users:n,isUserSelected:s,onUserSelect:o}=e;return i.a.createElement(r.a,{className:t,autoScroll:!0},n.map(e=>i.a.createElement(v,{key:e.id,serverEntityID:a,user:e,isSelected:s(e),onSelect:o})))}E.defaultProps={className:S.a.list};t.a=E},DOb5:function(e,t,a){e.exports={relatedList:"PrePlayHubList-relatedList-3rwpfc",spinnerContainer:"PrePlayHubList-spinnerContainer-1kYSWN"}},DQgx:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("Gzlz");t.a=function(e){const{prefs:t}=e;return i.a.createElement("div",null,t.map(e=>{const{id:t}=e;return i.a.createElement(r.a,{key:t,...e})}))}},DRU1:function(e,t,a){"use strict";a.d(t,"a",(function(){return E})),a.d(t,"c",(function(){return O}));var n=a("q1tI"),i=a.n(n),r=a("/MKj"),s=a("G4qV"),o=a("xSXQ"),l=a("2bcr"),c=a("5NB4"),d=a("zTsO"),u=a("FjJJ"),p=a("66GW"),m=a("f2wi"),h=a("ERyq");var g=function(){return Object(s.a)(e=>e.downloads.states,Object(h.a)(),Object(s.a)(Object(o.a)(),e=>e.ratingKey),(e,t,a)=>e.find(e=>e.ratingKey===a&&e.sourceAttr===t))},y=a("5HFX"),f=a("PD/8");var b=a("FAcX"),v=a("6orZ"),I=a("Fx8r"),S=a("hW8R");const E={SUBSCRIBE:"subscribe",CANCEL:"cancel",REMOVE:"remove",UPSELL:"upsell"};function O(e){const{onCancelDownloadActivity:t,onCreateDownloadSubscription:a,onDeleteDownloadSubscription:i}=e,[r,s]=Object(n.useState)({isOpen:!1,state:null}),o=Object(n.useCallback)(e=>{const t=e===E.SUBSCRIBE,n=null!==e&&!t,i=t?null:e;t&&a();s({isOpen:n,state:i})},[a]),l=Object(n.useCallback)(()=>s({isOpen:!1,state:null}),[]),c=Object(n.useCallback)(()=>{r.state===E.CANCEL?t():r.state===E.REMOVE&&i(),l()},[r.state,t,l,i]);return{...r,onPress:o,onClose:l,onConfirm:c}}const M=Object(s.a)(Object(c.a)(d.f),Object(c.a)(d.e),l.b,(e,t,a)=>{var n;const i=t&&(null==(n=a.ownerFeatures)?void 0:n.includes(d.e));return!e&&!i});t.b=Object(r.b)((function(){return Object(s.a)((e,{isDisabled:t})=>t,Object(o.a)(),g(),(e=u.d,Object(s.a)(Object(o.a)(),Object(h.a)(),Object(f.a)(e),(e,t,a)=>{const n=Object(y.a)(t);return a.find(({Context:t})=>{let a=!1;if(t.itemKey===e.key){const e=Object(y.a)(t.source);a=n.serverIdentifier===e.serverIdentifier&&n.providerIdentifier===e.providerIdentifier}return a})})),M,b.a,(e,t,a,n,i,r)=>{const s=!!a,o=Object(I.a)(t),l=Object(S.a)(t),c=!l;return{canCancel:!!n&&n.cancellable,canRemove:l,canShowUpsell:!l&&i&&t.subtype!==m.PODCAST,canSubscribe:c,hasDownloadState:s,hasOfflineFile:o,hasOwnSubscription:l,isDisabled:e||!r,progress:n&&n.progress}});var e}),(function(e,t){return{}}))((function(e){const{component:t,canCancel:a,canRemove:r,canShowUpsell:s,canSubscribe:o,metadataItemEntityID:l,metricsPage:c,providerEntityID:d,serverEntityID:u,onCancelDownloadActivity:m,onCreateDownloadSubscription:h,onDeleteDownloadSubscription:g,onPress:y,...f}=e,b=Object(n.useCallback)(()=>{let e=null;a?e=E.CANCEL:r?e=E.REMOVE:s?e=E.UPSELL:o&&(e=E.SUBSCRIBE),y&&y(e)},[a,r,s,o,y]);let I;return I=a?Object(p.default)("Cancel Download"):r?Object(p.default)("Delete Download"):Object(p.default)("Download"),i.a.createElement(i.a.Fragment,null,i.a.createElement(t,{...f,label:I,onPress:b}),i.a.createElement(v.a,{metadataItemEntityID:l,providerEntityID:d}))}))},DSbB:function(e,t,a){"use strict";t.a=[]},DTM1:function(e,t,a){e.exports={textArea:"TextArea-textArea-2jx-Xy input-input-1P2Vi4",small:"TextArea-small-1qB4kd",large:"TextArea-large-3b8XTo",isDisabled:"TextArea-isDisabled-33gHrC input-isDisabled-2FiSY3",hasError:"TextArea-hasError-2KSz1h input-hasError-1to6Ql"}},DUT6:function(e,t,a){e.exports={spinner:"Spinner-spinner-1qRM4t spin-spin-2kLwt_",tiny:"Spinner-tiny-28qpDI",small:"Spinner-small-3HDhxQ",medium:"Spinner-medium-1O8qVb",large:"Spinner-large-35s3aN"}},DYcP:function(e,t,a){
/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */
!function(t,n){var i=a("F/us"),r=a("zLeb");a("e1Br"),a("5/Iy");e.exports=function(e,t){!function(e,t,a){"use strict";var n={};t.Marionette=n,n.$=t.$;var i=Array.prototype.slice;function r(e,t){var a=new Error(e);throw a.name=t||"Error",a}n.extend=t.Model.extend,n.getOption=function(e,t){if(e&&t)return e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]},n.normalizeMethods=function(e){var t,n={};return a.each(e,(function(e,i){t=e,a.isFunction(t)||(t=this[t]),t&&(n[i]=t)}),this),n},n.triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,a){return a.toUpperCase()}return function(n){var i="on"+n.replace(e,t),r=this[i];if(a.isFunction(this.trigger)&&this.trigger.apply(this,arguments),a.isFunction(r))return r.apply(this,a.tail(arguments))}}(),n.MonitorDOMRefresh=function(e){function t(t){t._isShown&&t._isRendered&&function(t){return e.contains(t.el)}(t)&&a.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",(function(){!function(e){e._isShown=!0,t(e)}(e)})),e.listenTo(e,"render",(function(){!function(e){e._isRendered=!0,t(e)}(e)}))}}(document.documentElement),function(e){function t(e,t,n,i){var s=i.split(/\s+/);a.each(s,(function(a){var i=e[a];i||r("Method '"+a+"' was configured as an event handler, but does not exist."),e.listenTo(t,n,i)}))}function n(e,t,a,n){e.listenTo(t,a,n)}function i(e,t,n,i){var r=i.split(/\s+/);a.each(r,(function(a){var i=e[a];e.stopListening(t,n,i)}))}function s(e,t,a,n){e.stopListening(t,a,n)}function o(e,t,n,i,r){t&&n&&(a.isFunction(n)&&(n=n.call(e)),a.each(n,(function(n,s){a.isFunction(n)?i(e,t,s,n):r(e,t,s,n)})))}e.bindEntityEvents=function(e,a,i){o(e,a,i,n,t)},e.unbindEntityEvents=function(e,t,a){o(e,t,a,s,i)}}(n),n.Callbacks=function(){this._deferred=n.$.Deferred(),this._callbacks=[]},a.extend(n.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done((function(a,n){t&&(a=t),e.call(a,n)}))},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=n.$.Deferred(),this._callbacks=[],a.each(e,(function(e){this.add(e.cb,e.ctx)}),this)}}),n.Controller=function(e){this.triggerMethod=n.triggerMethod,this.options=e||{},a.isFunction(this.initialize)&&this.initialize(this.options)},n.Controller.extend=n.extend,a.extend(n.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),n.Region=function(e){if(this.options=e||{},this.el=n.getOption(this,"el"),this.el||r("An 'el' must be specified for a region.","NoElError"),this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},a.extend(n.Region,{buildRegion:function(e,t){var n,i,s=a.isString(e),o=a.isString(e.selector),l=a.isUndefined(e.regionType),c=a.isFunction(e);c||s||o||r("Region must be specified as a Region type, a selector string or an object with selector property"),s&&(n=e),e.selector&&(n=e.selector,delete e.selector),c&&(i=e),!c&&l&&(i=t),e.regionType&&(i=e.regionType,delete e.regionType),(s||c)&&(e={}),e.el=n;var d=new i(e);return e.parentEl&&(d.getEl=function(t){var n=e.parentEl;return a.isFunction(n)&&(n=n()),n.find(t)}),d}}),a.extend(n.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||a.isUndefined(e.$el),i=e!==this.currentView;i&&this.close(),e.render(),(i||t)&&this.open(e),this.currentView=e,n.triggerMethod.call(this,"show",e),n.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return n.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),n.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),n.Region.extend=n.extend,n.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var n={};return a.each(e,(function(e,i){a.isString(e)&&(e={selector:e}),e.selector&&(e=a.defaults({},e,t));var r=this.addRegion(i,e);n[i]=r}),this),n},addRegion:function(t,n){var i,r=a.isObject(n),s=a.isString(n),o=!!n.selector;return i=s||r&&o||a.isFunction(n)?e.Region.buildRegion(n,e.Region):n,this._store(t,i),this.triggerMethod("region:add",t,i),i},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){a.each(this._regions,(function(e,t){this._remove(t,e)}),this)},closeRegions:function(){a.each(this._regions,(function(e,t){e.close()}),this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=a.size(this._regions)}});return a.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){t.prototype[e]=function(){var t=a.values(this._regions),n=[t].concat(a.toArray(arguments));return a[e].apply(a,n)}})),t}(n),n.TemplateCache=function(e){this.templateId=e},a.extend(n.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new n.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=i.call(arguments),a=t.length;if(a>0)for(e=0;e<a;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),a.extend(n.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=n.$(e).html();return t&&0!==t.length||r("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return a.template(e)}}),n.Renderer={render:function(e,t){return e||r("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError"),("function"==typeof e?e:n.TemplateCache.get(e))(t)}},n.View=t.View.extend({constructor:function(e){a.bindAll(this,"render"),this.options=a.extend({},a.result(this,"options"),a.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(a.result(this,"events")),t.View.prototype.constructor.apply(this,arguments),n.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:n.triggerMethod,normalizeMethods:n.normalizeMethods,getTemplate:function(){return n.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=n.getOption(this,"templateHelpers");return a.isFunction(t)&&(t=t.call(this)),a.extend(e,t)},normalizeUIKeys:function(e){var t=this;if(void 0!==e)return a.each(a.keys(e),(function(n){var i=/@ui.[a-zA-Z_$0-9]*/g;n.match(i)&&(e[n.replace(i,(function(e){return a.result(t,"ui")[e.slice(4)]}))]=e[n],delete e[n])})),e},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(a.result(this,"triggers"));return a.each(t,(function(t,n){var i=a.isObject(t),r=i?t.event:t;e[n]=function(e){if(e){var a=e.preventDefault,n=e.stopPropagation,s=i?t.preventDefault:a,o=i?t.stopPropagation:n;s&&a&&a.apply(e),o&&n&&n.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(r,l)}}),this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),n.bindEntityEvents(this,this.model,n.getOption(this,"modelEvents")),n.bindEntityEvents(this,this.collection,n.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,a.isFunction(e)&&(e=e.call(this));var n={},i=this.configureTriggers();a.extend(n,e,i),t.View.prototype.delegateEvents.call(this,n)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),n.unbindEntityEvents(this,this.model,n.getOption(this,"modelEvents")),n.unbindEntityEvents(this,this.collection,n.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=a.result(this,"_uiBindings");this.ui={},a.each(a.keys(e),(function(t){var a=e[t];this.ui[t]=this.$(a)}),this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(a.each(this.ui,(function(e,t){delete this.ui[t]}),this),this.ui=this._uiBindings,delete this._uiBindings)}}),n.ItemView=n.View.extend({constructor:function(){n.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),a=n.Renderer.render(t,e);return this.$el.html(a),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),n.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),n.CollectionView=n.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),n.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(a.each(this._bufferedChildren,(function(e){n.triggerMethod.call(e,"show")})),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,a){this.closeEmptyView();var n=this.getItemView(e),i=this.collection.indexOf(e);this.addItemView(e,n,i)},onShowCalled:function(){this.children.each((function(e){n.triggerMethod.call(e,"show")}))},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each((function(t,a){e=this.getItemView(t),this.addItemView(t,e,a)}),this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var a=new t.Model;this.addItemView(a,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return n.getOption(this,"emptyView")},getItemView:function(e){var t=n.getOption(this,"itemView");return t||r("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,i){var r=n.getOption(this,"itemViewOptions");a.isFunction(r)&&(r=r.call(this,e,i));var s=this.buildItemView(e,t,r);return this.addChildViewEventForwarding(s),this.triggerMethod("before:item:added",s),this.children.add(s),this.renderItemView(s,i),this._isShown&&!this.isBuffering&&n.triggerMethod.call(s,"show"),this.triggerMethod("after:item:added",s),s},addChildViewEventForwarding:function(e){var t=n.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",(function(){var r=i.call(arguments),s=r[0],o=this.normalizeMethods(this.getItemEvents());r[0]=t+":"+s,r.splice(1,0,e),void 0!==o&&a.isFunction(o[s])&&o[s].apply(this,r),n.triggerMethod.apply(this,r)}),this)},getItemEvents:function(){return a.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,n){return new t(a.extend({model:e},n))},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,a){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),n.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each((function(e){this.removeChildView(e)}),this),this.checkEmpty()}}),n.CompositeView=n.CollectionView.extend({constructor:function(){n.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",(function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))}))},getItemView:function(e){var t=n.getOption(this,"itemView")||this.constructor;return t||r("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),n.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return n.Renderer.render(t,e)},appendBuffer:function(e,t){this.getItemViewContainer(e).append(t)},appendHtml:function(e,t,a){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):this.getItemViewContainer(e).append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,i=n.getOption(e,"itemViewContainer");if(i){var s=a.isFunction(i)?i.call(this):i;(t=e.$(s)).length<=0&&r("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),n.Layout=n.ItemView.extend({regionType:n.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),n.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),n.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),n.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,t){var a={};return a[e]=t,this._buildRegions(a)[e]},addRegions:function(e){return this.regions=a.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,a={regionType:n.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,a)},_initializeRegions:function(e){var t;this._initRegionManager(),t=a.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each((function(e){e.reset()}))},_initRegionManager:function(){this.regionManager=new n.RegionManager,this.listenTo(this.regionManager,"region:add",(function(e,t){this[e]=t,this.trigger("region:add",e,t)})),this.listenTo(this.regionManager,"region:remove",(function(e,t){delete this[e],this.trigger("region:remove",e,t)}))}}),n.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var a=n.getOption(this,"appRoutes"),i=this._getController();this.processAppRoutes(i,a)},appRoute:function(e,t){var a=this._getController();this._addAppRoute(a,e,t)},processAppRoutes:function(e,t){if(t){var n=a.keys(t).reverse();a.each(n,(function(a){this._addAppRoute(e,a,t[a])}),this)}},_getController:function(){return n.getOption(this,"controller")},_addAppRoute:function(e,t,n){var i=e[n];i||r("Method '"+n+"' was not found on the controller"),this.route(t,n,a.bind(i,e))}}),n.Application=function(e){this._initRegionManager(),this._initCallbacks=new n.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},a.extend(this,e),this.triggerMethod=n.triggerMethod},a.extend(n.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var a=n.Module.getClass(t),r=i.call(arguments);return r.unshift(this),a.create.apply(a,r)},_initRegionManager:function(){this._regionManager=new n.RegionManager,this.listenTo(this._regionManager,"region:add",(function(e,t){this[e]=t})),this.listenTo(this._regionManager,"region:remove",(function(e,t){delete this[e]}))}}),n.Application.extend=n.extend,n.Module=function(e,t,i){this.moduleName=e,this.options=a.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=n.triggerMethod,a.isFunction(this.initialize)&&this.initialize(this.options,e,t)},n.Module.extend=n.extend,a.extend(n.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(a.each(this.submodules,(function(t){t.startWithParent&&t.start(e)})),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,n.triggerMethod.call(this,"before:stop"),a.each(this.submodules,(function(e){e.stop()})),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),n.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var r=a.flatten([this,this.app,t,n,n.$,a,i]);e.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new n.Callbacks,this._finalizerCallbacks=new n.Callbacks}}),a.extend(n.Module,{create:function(e,t,n){var r=e,s=i.call(arguments);s.splice(0,3);var o=(t=t.split(".")).length,l=[];return l[o-1]=n,a.each(t,(function(t,a){var i=r;r=this._getModule(i,t,e,n),this._addModuleDefinition(i,r,l[a],s)}),this),r},_getModule:function(e,t,n,i,r){var s=a.extend({},i),o=this.getClass(i),l=e[t];return l||(l=new o(t,n,s),e[t]=l,e.submodules[t]=l),l},getClass:function(e){var t=n.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,i,r){var s,o;!a.isFunction(i)||i.prototype instanceof n.Module?a.isObject(i)?(s=i.define,o=!!a.isUndefined(i.startWithParent)||i.startWithParent):o=!0:(s=i,o=!0),s&&t.addDefinition(s,r),t.startWithParent=t.startWithParent&&o,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer((function(e){t.startWithParent&&t.start(e)})))}})}(0,t,e);return t.Marionette}(i,r)}()},DYor:function(e,t,a){e.exports={message:"ConfirmAdvertisingNotice-message-2crJY6",consentMessage:"ConfirmAdvertisingNotice-consentMessage-3Bhdzy"}},DdRF:function(e,t,a){"use strict";a.d(t,"a",(function(){return ne}));var n={};a.r(n),a.d(n,"startPlayback",(function(){return d})),a.d(n,"endPlayback",(function(){return u})),a.d(n,"playNextItem",(function(){return p})),a.d(n,"playPreviousItem",(function(){return m})),a.d(n,"playItem",(function(){return h})),a.d(n,"play",(function(){return g})),a.d(n,"pause",(function(){return y})),a.d(n,"seek",(function(){return f})),a.d(n,"changeVolume",(function(){return b})),a.d(n,"changeQualityIndex",(function(){return v})),a.d(n,"changeStream",(function(){return I})),a.d(n,"changeSubtitleColor",(function(){return S})),a.d(n,"changeSubtitlePosition",(function(){return E})),a.d(n,"changeSubtitleSize",(function(){return O})),a.d(n,"changeSubtitleOffset",(function(){return M})),a.d(n,"changeAutoPlay",(function(){return C})),a.d(n,"changePlaybackSpeed",(function(){return j})),a.d(n,"setRepeat",(function(){return D})),a.d(n,"refreshRemotePlayQueue",(function(){return P})),a.d(n,"refreshRemoteStreams",(function(){return T})),a.d(n,"mirrorDetails",(function(){return w}));var i={};a.r(i),a.d(i,"startPlayback",(function(){return k})),a.d(i,"endPlayback",(function(){return R})),a.d(i,"playNextItem",(function(){return z})),a.d(i,"playPreviousItem",(function(){return U})),a.d(i,"playItem",(function(){return V})),a.d(i,"play",(function(){return B})),a.d(i,"pause",(function(){return F})),a.d(i,"seek",(function(){return H})),a.d(i,"changeVolume",(function(){return _})),a.d(i,"changeQualityIndex",(function(){return W})),a.d(i,"changeStream",(function(){return Q})),a.d(i,"changeSubtitleColor",(function(){return G})),a.d(i,"changeSubtitlePosition",(function(){return K})),a.d(i,"changeSubtitleSize",(function(){return Y})),a.d(i,"changeSubtitleOffset",(function(){return q})),a.d(i,"changeAutoPlay",(function(){return Z})),a.d(i,"changePlaybackSpeed",(function(){return X})),a.d(i,"setRepeat",(function(){return J})),a.d(i,"refreshRemotePlayQueue",(function(){return $})),a.d(i,"refreshRemoteStreams",(function(){return ee})),a.d(i,"mirrorDetails",(function(){return te}));var r=a("Ve6J"),s=a("cgRT"),o=a("lbl0"),l=a("AQCF"),c=a("Ivly");function d(e){r.startPlayback(e);const t=Object(s.c)("remoteCastPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e),e.set({startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null})}function u(e){r.endPlayback(e);Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.r})}function p(e){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.a})}function m(e){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.d})}function h(e,t){r.playItem(e,t);const a=Object(s.c)("remoteCastPlayerManager"),n=e.get("playQueue"),i=n.get("playQueueItems"),l=n.get("playQueueSelectedItemID"),c=i.get(l).get("metadataItem");a.sendMessage({type:o.q,playQueueItemID:l,key:c.get("key")})}function g(e){r.play(e);Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.c})}function y(e){r.pause(e);Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.b})}function f(e,t){r.seek(e,t);Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.g,currentTime:t})}function b(e,t,a){Object(s.c)("remoteCastPlayerManager").setVolume(t)}function v(e,t){r.changeQualityIndex(e,t);const a=c.a.getQualityByIndex(t);Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.i,bitrate:a.bitrate})}function I(e,t,a){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.k,stream:{type:t,id:a}})}function S(e,t,a){r.changeSubtitleColor(e,t,a);Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.l,subtitleColor:t})}function E(e,t,a){r.changeSubtitlePosition(e,t,a);Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.n,subtitlePosition:t})}function O(e,t,a){r.changeSubtitleSize(e,t,a);Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.o,subtitleSize:t})}function M(e,t,a){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.m,subtitleOffset:t})}function C(e,t,a){r.changeAutoPlay(e,t,a);Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.h,autoPlay:t})}function j(e,t){}function D(e,t){e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne});Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.j,repeat:Object(l.a)(t)})}function P(e){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.e})}function T(e){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.f})}function w(e){Object(s.c)("remoteCastPlayerManager").mirrorDetails(e)}var N=a("LJTU"),x=a("eNuQ"),A=a("bcER");function L(e){const t=e.get("playQueue");return Object(N.d)(t.get("type"))}function k(e){r.startPlayback(e);const t=Object(s.c)("remotePlexPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e)}function R(e){const t=Object(s.c)("remotePlexPlayerManager"),a={};e.get("playQueue")&&(a.type=L(e)),r.endPlayback(e),t.sendCommand("/player/playback/stop",a)}function z(e){const t=Object(s.c)("remotePlexPlayerManager"),a=L(e);t.sendCommand("/player/playback/skipNext",{type:a})}function U(e){const t=Object(s.c)("remotePlexPlayerManager"),a=L(e);t.sendCommand("/player/playback/skipPrevious",{type:a})}function V(e,t){r.playItem(e,t);const a=Object(s.c)("remotePlexPlayerManager"),n=L(e),i=e.get("playQueue"),o=i.get("playQueueItems"),l=i.get("playQueueSelectedItemID"),c=o.get(l).get("metadataItem");a.sendCommand("/player/playback/skipTo",{type:n,key:c.get("key")})}function B(e){r.play(e);const t=Object(s.c)("remotePlexPlayerManager"),a=L(e);t.sendCommand("/player/playback/play",{type:a})}function F(e){r.pause(e);const t=Object(s.c)("remotePlexPlayerManager"),a=L(e);t.sendCommand("/player/playback/pause",{type:a})}function H(e,t){r.seek(e,t);const a=Object(s.c)("remotePlexPlayerManager"),n=L(e);a.seek({type:n,offset:1e3*t})}function _(e,t,a){const n=Object(s.c)("remotePlexPlayerManager"),i=L(e);n.changeVolume({type:i,volume:t})}function W(e,t){}function Q(e,t,a){const n=Object(s.c)("remotePlexPlayerManager"),i=L(e),r=A.a.get(t).key;n.sendCommand("/player/playback/setStreams",{type:i,[r]:a})}function G(e,t,a){const n=Object(s.c)("remotePlexPlayerManager"),i=L(e);n.sendCommand("/player/playback/setParameters",{type:i,subtitleColor:t}),r.changeSubtitleColor(e,t,a)}function K(e,t,a){const n=Object(s.c)("remotePlexPlayerManager"),i=L(e);n.sendCommand("/player/playback/setParameters",{type:i,subtitlePosition:t}),r.changeSubtitlePosition(e,t,a)}function Y(e,t,a){const n=Object(s.c)("remotePlexPlayerManager"),i=L(e);n.sendCommand("/player/playback/setParameters",{type:i,subtitleSize:t}),r.changeSubtitleSize(e,t,a)}function q(e,t,a){const n=Object(s.c)("remotePlexPlayerManager"),i=L(e);n.sendCommand("/player/playback/setParameters",{type:i,subtitleOffset:t})}function Z(e,t,a){const n=Object(s.c)("remotePlexPlayerManager"),i=L(e);n.sendCommand("/player/playback/setParameters",{type:i,autoPlay:t?1:0}),r.changeAutoPlay(e,t,a)}function X(e,t){}function J(e,t){r.setRepeat(e,t);const a=Object(s.c)("remotePlexPlayerManager"),n=L(e),i=e.get("repeatAll"),o=e.get("repeatOne");let l=x.b;i&&(l=o?x.c:x.a),a.sendCommand("/player/playback/setParameters",{type:n,repeat:l})}function $(e){const t=Object(s.c)("remotePlexPlayerManager"),a=L(e),n=e.get("playQueue").get("playQueueID");t.sendCommand("/player/playback/refreshPlayQueue",{type:a,playQueueID:n})}function ee(e){const t=Object(s.c)("remotePlexPlayerManager"),a=L(e);t.sendCommand("/player/playback/refreshStreams",{type:a})}function te(e){Object(s.c)("remotePlexPlayerManager").mirrorDetails(e)}var ae=a("EK1w");function ne(e){const t=e.get("remotePlayer");return t?t.get("protocol")===ae.a?n:i:r}},DdkG:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("G4qV"),i=a("iNJT"),r=a("8Dqf"),s=a("ZGgN");function o(e,t=[],a=[]){return{anonymous:e,features:Object(s.a)(t,e=>e.uuid,()=>!0),services:Object(s.a)(a,e=>e.id,e=>e)}}const l=Object(n.a)(r.a,Object(i.a)("features"),Object(i.a)("services"),o);t.b=l},DgQC:function(e,t,a){"use strict";t.a={NORMAL:0,LOCAL:42,CLOUD:43}},DhI4:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return i}));var n=a("+t+Z");function i(e){return Object(n.a)(e.bitrate)}},Dj7K:function(e,t,a){const n=a("frcC").default,i=a("a4Cb");e.exports=i(n)},DkTW:function(e,t,a){e.exports={pageHeaderCenter:"TabsPageHeaderCenter-pageHeaderCenter-3im4zZ PageHeaderCenter-pageHeaderCenter-XZlGC2"}},Dmct:function(e,t,a){e.exports={seekBar:"SeekBar-seekBar-2UK3iX Slider-slider-2oLVTs",seekBarTrack:"SeekBar-seekBarTrack-3Gu5RX Slider-track-28JOSn",seekBarFill:"SeekBar-seekBarFill-1Lcu0w Slider-fill-35GFqs",seekBarBuffer:"SeekBar-seekBarBuffer-3bUz95 Slider-secondaryFill-31_05F Slider-fill-35GFqs",noFillTransition:"SeekBar-noFillTransition-2hHzCv"}},Dq8X:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR"),r=a("KKL4"),s=a("pXC0");var o=n.a.extend({name:"VersionGeneratorMediaSettingsModel",context:["server"],syncedAttrs:{videoQuality:{type:i.a.integer,save:!0},videoResolution:{type:i.a.string,save:!0},maxVideoBitrate:{type:i.a.integer,save:!0},audioBoost:{type:i.a.integer,save:!0},subtitleSize:{type:i.a.integer,save:!0},musicBitrate:{type:i.a.integer,save:!0},photoQuality:{type:i.a.integer,save:!0},photoResolution:{type:i.a.string,save:!0}}}),l=a("F/us"),c=a.n(l),d=a("+X4A"),u=a("d7+L"),p=a("nvND"),m=a("Pizw"),h=a("B69o"),g=a("tibn");var y=n.a.extend({name:"VersionGeneratorMetadataModel",context:["server","generator"],idAttribute:"ratingKey",syncedAttrs:c.a.extend({},g.a.prototype.syncedAttrs,{processingState:i.a.string,processingStateContext:i.a.string})});var f=h.a.extend({name:"VersionGeneratorMetadataCollection",context:["server","generator"],model:y});var b=n.a.extend({mixins:[u.a],name:"VersionGeneratorMetadataListModel",context:["server","generator"],collectionName:"metadataItems",url(){const e=d.default.join([c.a.result(this.generator,"url"),"items"]);return this.getPaginatedUrl(e)},sessionAttrs:{currentPageStart:i.a.integer,currentPageSize:i.a.integer,populatedRange:i.a.object},syncedAttrs:{totalSize:i.a.integer,identifier:i.a.string,mediaTagPrefix:i.a.string,mediaTagVersion:i.a.string,viewGroup:i.a.string,title:i.a.string},syncedRelations:{metadataItems:{relationClass:f,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===p.c?Object(m.b)(e):e});var v=n.a.extend({name:"VersionGeneratorPolicyModel",context:["server"],syncedAttrs:{scope:{type:i.a.string,save:!0},value:{type:i.a.integer,save:!0},unwatched:{type:i.a.boolean,save:!0}},defaults:{unwatched:!1}});var I=n.a.extend({name:"VersionGeneratorStatusModel",context:["server"],syncedAttrs:{state:i.a.string,failureCode:i.a.string,failure:i.a.string,itemsCount:i.a.integer,itemsCompleteCount:i.a.integer,itemsSuccessfulCount:i.a.integer,itemsFailedCount:i.a.integer,itemsDisabledCount:i.a.integer,totalSize:i.a.integer}});const S=n.a.extend({name:"VersionGeneratorModel",context:["server","section","playlistID"],rootPropertyName:"Item",cache:new r.a,cacheKey(e){return this.server&&this.server.getScopedKey(e.id)},urlRoot(){return`/playlists/${this.playlistID||this.parent.id}/items`},syncedAttrs:{id:i.a.integer,clientIdentifier:i.a.string,contentType:i.a.string,composite:i.a.string,type:{type:i.a.integer,save:!0},title:{type:i.a.string,save:!0},target:{type:i.a.string,save:!0},targetTagID:{type:i.a.integer,save:!0},locationID:{type:i.a.integer,save:!0},Location:{type:i.a.object,save:!0},Device:{type:i.a.object,save:!0}},sessionRelations:{children:{relationClass:b,options(){return{generator:this}}}},syncedRelations:{status:{relationClass:I,rootPropertyName:"Status"},policy:{relationClass:v,rootPropertyName:"Policy",save:!0},mediaSettings:{relationClass:o,rootPropertyName:"MediaSettings",save:!0}},derivedAttrs:{isDirectory(){const e=this.get("Location");if(e.uri)return/(playlist:\/\/|library:\/\/([\w-]*)\/directory\/)/.test(e.uri)}},defaults:()=>({type:42,locationID:-1,Location:{},Device:{}}),defaultCounts:{[s.e]:5,[s.a]:50,[s.c]:50},warningCounts:{[s.e]:10,[s.a]:100,[s.c]:100},getSaveParams(e,t){const a=n.a.prototype.getSaveParams.apply(this,arguments);return a.targetTagID&&(delete a.MediaSettings,delete a.Device),{Item:a}},setPolicyDefaultsFor(e){const t=this.get("policy"),a=this.get("isDirectory");return t.has("scope")||t.set("scope",a?"count":"all"),!t.has("value")&&a&&t.set("value",this.defaultCounts[e]),this},shouldShowPolicyWarning(e,t){const a=this.get("policy").get("scope");return"count"===a?t>this.warningCounts[e]:"all"===a&&this.get("isDirectory")}});t.a=S},DrhB:function(e,t,a){e.exports={addDeviceButton:"DVRSetupDeviceSelector-addDeviceButton-37qk2J",manualDeviceButtonContainer:"DVRSetupDeviceSelector-manualDeviceButtonContainer-3-lqeO",manualDeviceContainer:"DVRSetupDeviceSelector-manualDeviceContainer-6K51iL",manualAddressArrow:"DVRSetupDeviceSelector-manualAddressArrow-e9thnK",manualDeviceInput:"DVRSetupDeviceSelector-manualDeviceInput-22enzQ TextInput-input-1VMuma input-input-1P2Vi4",deviceCount:"DVRSetupDeviceSelector-deviceCount-6HUilm",devices:"DVRSetupDeviceSelector-devices-2f43GS",device:"DVRSetupDeviceSelector-device-QX9WAw",spinnerContainer:"DVRSetupDeviceSelector-spinnerContainer-2U4Wii"}},Dsr7:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("htvf"),s=a("rG0a"),o=a("0jae"),l=a("Eeuk");const c=r.a.extend({mixins:l.a,maxCycles:3,maxSize:50,isListening:!1,initialize:function(){this._cache={},this.size=0,this.cycles=[],this.cycle()},startListening:function(){this.isListening||(this.isListening=!0,this.listenTo(s.a,{"cycle:cache":this.cycle,"clearWhere:cache":this.clearWhere,"clearAll:cache":this.clearAll,"clearCycles:cache":this.clearCycles}))},get:function(e){const t=this._cache[e];return t&&t._cacheCycle&&this.setItemCycle(t,e,i.a.first(this.cycles)),t},store:function(e,t){t||(t=this.getItemCacheKey(e)),this.remove(e),t&&(this.startListening(),e._cacheKey=t,this._cache[t]=e,this.size++,e.persistInCache||this.setItemCycle(e,t,i.a.first(this.cycles)))},getItemCacheKey:function(e){return i.a.result(e,"cacheKey")},setItemCycle:function(e,t,a){const n=e._cacheCycle;n&&n.hasOwnProperty(t)&&delete n[t],e._cacheCycle=a,a[t]=e},cycle:function(){this.size>this.maxSize&&(o.a.warn("Cache overflow, size: "+this.size),i.a.each(this.cycles.slice(1),this.removeCycle,this)),this.cycles.unshift({}),this.cycles.length>Math.max(this.maxCycles,1)&&this.removeCycle(i.a.last(this.cycles))},remove:function(e){if(!e||!e._cacheKey)return;const t=e._cacheKey;this._cache.hasOwnProperty(t)&&(delete this._cache[t],this.size--),e._cacheCycle&&(e._cacheCycle.hasOwnProperty(t)&&delete e._cacheCycle[t],delete e._cacheCycle),delete e._cacheKey},removeCycle:function(e){i.a.each(i.a.values(e),this.remove,this);const t=i.a.indexOf(this.cycles,e);this.cycles.splice(t,1)},clearWhere:function(e){const t=i.a.where(i.a.values(this._cache),e);i.a.each(t,this.remove,this)},clearAll:function(){i.a.each(i.a.values(this._cache),this.remove,this),this.cycles.length=0,this.cycle(),this.stopListening(),this.isListening=!1},clearCycles:function(){const e=this.cycles;for(;e.length;)this.removeCycle(e[e.length-1]);this.cycle()}});t.a=c},Dw2a:function(e,t,a){e.exports={link:"PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hoveredLink:"PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK"}},"Dz/n":function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("Um5/"),l=a("fLiA"),c=a("vOHB"),d=a("cgRT"),u=a("CpQb"),p=a("kwss"),m=a("LnML");const h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",g=u.a.ItemView.extend({tagName:"img",background:!1,backgroundSize:"",cache:new o.a,initialize:function(e){e||(e={}),s.a.bindAll(this,"onLoad","onError","loadImage"),this.url=e.url,this.server=e.server,this.placeholder=e.placeholder,this.placeholderClass=e.placeholderClass,this.modelAttribute=e.modelAttribute,this.ignoreAttributeChanges=e.ignoreAttributeChanges,this.exposeUrl=e.exposeUrl,this.resetOnError=e.resetOnError,this.emptyImage=e.explicitEmpty?"url("+h+")":"",e.background&&(this.background=e.background),e.backgroundSize&&(this.backgroundSize=e.backgroundSize),e.format&&(this.format=e.format),e.quality&&(this.quality=e.quality),s.a.isFunction(e.getUrl)&&(this.getUrl=e.getUrl),this.allowBaseImageBlobs=p.a.allowBaseImageBlobs,this.allowBaseImagePreloading=p.a.allowBaseImagePreloading,this.setup(e)},setup:function(e){this.setDimensions(e),this.setFilters(e.filters),this.setModel(e.model,e)},setDimensions:function(e){e.width&&e.height&&(this.transcode=!0,this.width=e.width,this.height=e.height)},setFilters:function(e){this.filters=e||void 0},hasFilters:function(){return void 0!==this.filters},setModel:function(e,t){t||(t={}),this.stopListening(),this.src=null,this.model=e,e&&(this.server||(this.server=e.server),t.url||this.modelAttribute&&(this.url=this.getUrl(e.get(this.modelAttribute)),this.ignoreAttributeChanges||this.listenTo(e,"change:"+this.modelAttribute,this.onChange)))},setElement:function(e){u.a.ItemView.prototype.setElement.apply(this,arguments),this.render({force:!0})},getUrl:function(e){return e},getTranscodeUrl:function(e){if(!this.server||!this.transcode)return e;const t=d.c("appModel"),a=Object(l.a)();return m.a.image(this.server,e,{fallbackServer:t.get("primaryServer"),width:this.width*a,height:this.height*a,minSize:this.minSize,filters:this.filters,format:this.format,quality:this.quality})},render:function(e){return e||(e={}),this.url||this.placeholder||this.placeholderClass?this.src?(e.force&&this.showImage(this.src),this):(this.isPlaceholderRendered&&this.url||this.showPlaceholder(),this.url&&this.load(this.url,this.transcode).then(this.onLoad,this.onError,this.onLoad),this):this},showPlaceholder:function(){if(this.isPlaceholderRendered=!0,this.$el.removeClass("loaded"),this.placeholderClass)return this.$el.addClass(this.placeholderClass),void this.$el.css("background-image",this.emptyImage);this.placeholder?this.showImage(this.placeholder):this.clearImage()},clearImage:function(){this.background?this.$el.css("background-image",this.emptyImage):this.showImage(h)},showImage:function(e){this.background?this.showBackgroundImage(e):this.$el.attr("src",e).removeAttr("width").removeAttr("height")},showBackgroundImage:function(e){this.$el.css("background-image","url("+e+")")},load:function(e){if(!e)return i.a.Deferred().reject().promise();if(e=this.getTranscodeUrl(e),this.exposeUrl&&this.$el.attr("data-image-url",e),this.allowBaseImageBlobs&&c.a.hasBlob&&c.a.hasObjectUrl){let t=this.loadBlob(e);return t=t.then(this.loadImage,null,this.loadImage),t}return this.allowBaseImagePreloading?this.loadImage(e):i.a.Deferred().resolve(e).promise()},loadBlob:function(e){const t=i.a.Deferred();this.cancel();const a=this.cache.getBlobUrl(e);if(a)return t.resolve(a),t.promise();{const a=this.cache.getPlaceholder(e);a&&t.notify(a,!0)}const n=new window.XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",this.xhr=n,n.onreadystatechange=s.a.bind((function(){if(4===n.readyState)if(n.onreadystatechange=null,this.xhr=null,200===n.status){const a=new window.Blob([n.response],{type:"image/jpeg"}),i=window.URL.createObjectURL(a);this.cache.store({url:e,blobUrl:i}),t.resolve(i)}else t.reject()}),this),n.send(),t.promise()},loadImage:function(e,t){const a=i.a.Deferred(),n=new window.Image;return n.onload=function(){n.onload=n.onabort=n.onerror=null,t?a.notify(e,n.width,n.height):a.resolve(e,n.width,n.height)},n.onabort=n.onerror=function(){n.onload=n.onabort=n.onerror=null,a.reject()},n.src=e,a.promise()},cancel:function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.abort(),this.xhr=null)},onLoad:function(e,t,a){if(this.backgroundSize){const e=t&&t>this.width||a&&a>this.height?this.backgroundSize:"auto";this.$el[0].style.backgroundSize=e}this.src=e,this.placeholderClass&&this.$el.removeClass(this.placeholderClass),this.$el.addClass("loaded"),this.showImage(e),this.trigger("load",e,t,a)},onError:function(){this.resetOnError&&this.showPlaceholder(),this.trigger("error")},onClose:function(){this.cancel()},onChange:function(e,t){if(t=this.getUrl(t),this.url===t)return this;this.url=t,this.src=null,this.render()}});t.a=g},DzTo:function(e,t,a){e.exports={underlay:"MetadataItemLinkUnderlay-underlay-1UjxLG Link-link-2ew_DK"}},"E3/3":function(e,t,a){e.exports={modalFooter:"ModalFooter-modalFooter-30WIB5",button:"ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn",splitButton:"ModalFooter-splitButton-2NLiBa ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn"}},E4nB:function(e,t,a){"use strict";function n(e){if(e)return e.relay?"relayed":e.isLoopback?"localhost":e.isPrivate?"local":"remote"}a.d(t,"a",(function(){return n}))},"E6f+":function(e,t,a){e.exports={footer:"DVRSetupModalFooter-footer-VLPNTO ModalFooter-modalFooter-30WIB5"}},EAJj:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(i(a("d8WC")).call(t,"Conversions for sync and media optimization will appear here.",{hash:{},data:s}))+"</p> <p>"+l(i(a("d8WC")).call(t,"Manage your optimized versions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",t&&t.manageVersionsRoute,{hash:{},data:s}))+"</p> </h4> </div> "}))},EBCF:function(e,t,a){e.exports={anagram:"Anagram-anagram-2KZ_Z0"}},EC8F:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("0jae"),s=a("Cudw");const o={ORIGINAL:-1,CONVERT_AUTOMATICALLY:-2,qualities:{},getQualityByIndex:function(e){if(e===this.CONVERT_AUTOMATICALLY)return{index:this.CONVERT_AUTOMATICALLY};if(e<0)return{index:this.ORIGINAL};const t={index:e};return i.a.each(this.qualities,(function(a,n){t[n]=i.a.result(this.qualities,n)[e]}),this),t},getQualityCount:function(){const e=i.a.first(i.a.keys(this.qualities));return i.a.result(this.qualities,e).length},getQualityAttribute:function(e){const t=Object(s.a)(e,e.server.get("isPrivateConnection"));return"video"!==this.type?this.type+"!"+t:t},getSyncQualityAttribute:function(){return"syncQuality!"+this.type},getCurrentQuality:function(e,t,a){const n=this.getQualityAttribute(e);let s=t.get(n);return s>=this.getQualityCount()&&(r.a.warn("Quality index "+s+" is out of bounds"),s=i.a.result(t,"defaults")[n],a({[n]:s})),i.a.extend(this.getQualityByIndex(s),{attribute:n})},getAvailableQualities:function(e){e||(e={});const t=e.lowestQualityIndex;let a=e.highestQualityIndex;const n=e.comparator,i=[];a===this.ORIGINAL&&(a=void 0);for(let e=0,r=this.getQualityCount();e<r;e++)if(!(t&&e<t)){if(a&&e>a)return i;if(n&&n.call(this,e))return i;i.push(this.getQualityByIndex(e))}return i},getResolutionFromSize:function(e){const t=e.split("x"),a=parseInt(t[1],10);return this.getResolutionFromHeight(a)},getResolutionFromHeight:function(e){return e>2560?"8k":e>1100?"4k":e>720?"1080":e>576?"720":e>480?"576":e>360?"480":"sd"},getHeightFromResolution:function(e){switch(e){case"8k":return 5120;case"4k":return 2560;case"1080":return 1080;case"720":return 720;case"576":return 576;case"480":return 480;case"sd":default:return 360}},getNearestIndex:function(e,t){if(!t)return this.ORIGINAL;let a=e.indexOf(t);if(a<0){a=0;for(let n=0,i=e.length;n<i;n++){if(e[n]>t)break;a=n}}return a}};t.a=o},EEaV:function(e,t,a){"use strict";var n=a("q1tI"),i=a("Ty5D"),r=a("+X4A");t.a=function(){const e=Object(i.h)().search;return Object(n.useMemo)(()=>{const{params:t}=r.default.parseUri(e);return t},[e])}},EIzA:function(e,t,a){e.exports={container:"FullPage-container-17Y0cs"}},EK1w:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));const n="cast",i="plex"},EMYl:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("f6jo");class s extends n.Component{constructor(){super(...arguments),this.onChange=e=>{const t=e?parseInt(e,10):null;this.props.onChange(t)}}render(){return i.a.createElement(r.a,{type:"number",...this.props,selectTextOnFocus:!1,onChange:this.onChange})}}t.a=s},EOrL:function(e,t,a){e.exports={container:"ServerDashboardSectionContent-container-3rMPaP",spinner:"ServerDashboardSectionContent-spinner-3geO_e Spinner-spinner-1qRM4t spin-spin-2kLwt_",errorMessage:"ServerDashboardSectionContent-errorMessage-32wZKY ServerDashboardPageMessage-container-2qUY4V"}},EPph:function(e,t,a){"use strict";a.d(t,"c",(function(){return W})),a.d(t,"b",(function(){return Y})),a.d(t,"a",(function(){return q})),a.d(t,"d",(function(){return X}));var n=a("F/us"),i=a.n(n),r=a("slDQ"),s=a("0jae"),o=a("+X4A"),l=a("cgRT"),c=a("6eR6"),d=a("vtVQ"),u=a("Khyo"),p=a("CHn6"),m=a("SZF0"),h=a("mOXR"),g=a("kwss"),y=a("1CqU"),f=a("5lOB"),b=a("d7+L"),v=a("Q3JP"),I=a("nZd1"),S=a("B69o"),E=a("EVdn"),O=a.n(E),M=a("tqLa"),C=a("C7oW");var j=p.a.extend({name:"PlaylistModel",context:["server","containerKey"],idAttribute:"ratingKey",rootPropertyName:"Playlist",urlRoot:"/playlists",saveUrl(){return this.server.supports("truePlaylistsPath")?i.a.result(this,"url"):"/library/metadata/"+this.id},sessionAttrs:{isPlaylist:h.a.boolean,isLibraryItem:h.a.boolean},syncedAttrs:{ratingKey:h.a.string,key:h.a.string,guid:h.a.string,type:h.a.string,playlistType:h.a.string,title:h.a.string,titleSort:h.a.string,composite:h.a.string,summary:h.a.string,smart:h.a.boolean,allowSync:h.a.boolean,duration:h.a.integer,durationInSeconds:h.a.integer,leafCount:h.a.integer,addedAt:h.a.integer,updatedAt:h.a.integer},sessionRelations:{children:{relationClass:C.a,attrs(e){const t={};return"audio"===e.playlistType&&(t.includeRelated=1),{containerKey:o.default.join(["/playlists",e.ratingKey,"items"],t)}},options(){return{playlist:this}}}},defaults:{isPlaylist:!0,isLibraryItem:!0},findItem(e){return this.get("children").getCollection().findWhere({playlistItemID:e})},moveItem(e,t){if(void 0===e)return;const a=t?{after:t}:{},n=o.default.join([i.a.result(this,"url"),"/items/",e,"/move"],a),r=i.a.extend(this.server.getXHROptions(n),{type:"PUT"}),s=O.a.ajax(r),l=this.get("children").getCollection(),c=this.findItem(e);l.remove(c);const d=this.findItem(t),u=d?l.indexOf(d)+1:0;return l.add(c,{at:u}),s},removeItem(e){if(void 0===e)return;const t=o.default.join([i.a.result(this,"url"),"/items/",e]),a=i.a.extend(this.server.getXHROptions(t),{type:"DELETE"}),n=O.a.ajax(a);n.then(e=>{this.set(this.parse(e))});const r=this.get("children").getCollection(),s=this.findItem(e);return r.remove(s),r.trigger("destroy",s,r),n},addContent(e,t){const a=this.isNew()?"POST":"PUT",n=[i.a.result(this,"url")],r={};this.isNew()?(r.type=this.get("playlistType"),r.title=this.get("title"),r.smart=this.get("smart")?1:0):n.push("/items"),e.get("playQueueID")?r.playQueueID=e.get("playQueueID"):r.uri=M.a.uri(e,t);const s=o.default.join(n,r),l=i.a.extend(e.server.getXHROptions(s),{type:a}),c=O.a.ajax(l);return c.then(e=>{this.set(this.parse(e))}),c.promise()},isLibraryItem:(e,t)=>!0,isPlexMusicItem:()=>!1});var D=S.a.extend({name:"PlaylistCollection",context:["server","containerKey"],model:j,url(){return this.containerKey}});var P=p.a.extend({mixins:[b.a],name:"PlaylistListModel",context:["server","section"],idAttribute:"key",collectionName:"playlists",responseType(){return Object(v.a)(this.server)},url(){return this.getPaginatedUrl(i.a.result(this,"containerKey"))},containerKey(){const e=this.section.get("currentType"),t=this.section.get("currentSort"),a={type:15};return a.sort=t?t.id+":"+(t.get("direction")||"asc"):"titleSort:asc",e&&(a.playlistType=e),this.section.get("onlyDumb")&&(a.smart=0),o.default.join("/playlists/all",a)},sessionAttrs:{isPlaylistList:h.a.boolean,currentPageStart:h.a.integer,currentPageSize:h.a.integer,populatedRange:h.a.object},syncedAttrs:{totalSize:h.a.integer},syncedRelations:{playlists:{relationClass:D,rootPropertyName:"Playlist",options(e){return{containerKey:i.a.result(this,"containerKey")}},setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({isPlaylistList:!0,populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},sync(e,t,a){const n=I.a.addVersionHeader(2,a);return p.a.prototype.sync.call(this,e,t,n)},augmentResponse:e=>(e.Metadata&&(e.Playlist=e.Metadata,delete e.Metadata),e)});var T=y.a.extend({name:"PlaylistsSectionModel",defaults(){return{pseudo:!0,currentType:0,sorts:new f.a([],{section:this,server:this.server}),items:new P({},{section:this,server:this.server})}},url:()=>"/playlists"}),w=a("TxKk"),N=a("JVak"),x=a("8uQ2"),A=a("//Um"),L=a("hFBU"),k=a("KKL4"),R=a("PSl2"),z=a("WfN5"),U=a("7za+"),V=a("IRZJ"),B=a("N368"),F=a("Rmik"),H=a("ftj1"),_=a("JMV9");const W={PENDING:"pending",CONNECTED:"connected",UNAVAILABLE:"unavailable",UNAUTHORIZED:"unauthorized"},Q={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},G={SECONDARY:"secondary"},K=["camera_upload","content_filter","home","lyrics","music_videos","pass","premium_music_metadata","sync","trailers"],Y="ok",q="none",Z=U.n;function X({machineIdentifier:e}){return Object(z.a)(Z,e)}const J=p.a.extend({mixins:[N.a],name:"ServerModel",entityType:Z,entityID(e=this.state){return X({machineIdentifier:e.machineIdentifier||this.cid})},idAttribute:"machineIdentifier",connectionTestTimeout:1e4,responseType(){return Object(v.a)(this)},mergeStrategy:x.a,cache:new k.a,persistInCache:!0,sessionAttrs:{connectionTestResult:h.a.oneOf(W.PENDING,W.CONNECTED,W.UNAVAILABLE,W.UNAUTHORIZED).isRequired,promiseState:h.a.oneOf(Q.PENDING,Q.RESOLVED,Q.REJECTED).isRequired,sections:h.a.instanceOf(w.a).isRequired,playlists:h.a.instanceOf(T).isRequired,isShared:h.a.boolean.isRequired,isBundled:h.a.boolean.isRequired,isCloud:h.a.boolean.isRequired,isMerged:h.a.boolean.isRequired,isEmbedded:h.a.boolean.isRequired,isInstallingServerUpdate:h.a.boolean.isRequired,superToken:h.a.string,accessToken:h.a.string,sourceTitle:h.a.string,publicAddressMatches:h.a.boolean,httpsRequired:h.a.boolean,presence:h.a.boolean,home:h.a.boolean,createdAt:h.a.integer,lastSeenAt:h.a.integer,ownerId:h.a.integer,hasEventConnection:h.a.boolean,serverClass:h.a.oneOf(G.SECONDARY),onlyXML:h.a.boolean,isProvidersPending:h.a.boolean.isRequired,isProvidersPopulated:h.a.boolean.isRequired,providersError:h.a.object},sessionRelations:{activeConnection:{relationClass:H.a,deferred:!0},connections:{relationClass:F.b,options(){return{server:this}}}},syncedRelations:{providers:{relationClass:A.a,rootPropertyName:"MediaProvider",options(){return{server:this}}}},syncedAttrs:{machineIdentifier:h.a.string,friendlyName:h.a.string,startState:h.a.string,version:h.a.string,platform:h.a.string,platformVersion:h.a.string,sync:h.a.boolean,backgroundProcessing:h.a.boolean,multiuser:h.a.boolean,transcoderLyrics:h.a.boolean,myPlex:h.a.boolean,myPlexMappingState:h.a.string,myPlexSigninState:h.a.oneOf(Y,q,"invalid"),myPlexSubscription:h.a.boolean,myPlexUsername:h.a.string,transcoderPhoto:h.a.boolean,transcoderAudio:h.a.boolean,transcoderVideo:h.a.boolean,transcoderVideoRemuxOnly:h.a.boolean,transcoderSubtitles:h.a.boolean,transcoderActiveVideoSessions:h.a.integer,allowMediaDeletion:h.a.boolean,allowCameraUpload:h.a.boolean,allowChannelAccess:h.a.boolean,allowSync:h.a.boolean,diagnostics:h.a.list,companionProxy:h.a.boolean,updater:h.a.boolean,isDesktop:h.a.boolean,photoAutoTag:h.a.boolean,itemClusters:h.a.boolean,updatedAt:h.a.integer,countryCode:h.a.string,ownerFeatures:h.a.list,mediaProviders:h.a.integer,maxUploadBitrate:h.a.integer,maxUploadBitrateReason:h.a.string,maxUploadBitrateReasonMessage:h.a.string,streamingBrainABRVersion:h.a.integer,livetv:h.a.integer,games:h.a.boolean},derivedAttrs:{debugName(){const e=this.get("machineIdentifier"),t=this.get("connections"),a=1===t.length&&t.at(0).get("isLoopback");let n=this.get("friendlyName");return!n&&this.get("isBundled")?n="[Bundled]":!n&&a&&(n="[Loopback]"),n||(e?`[${e}]`:"[Anonymous]")},shortVersion(){return Object(V.a)(this.get("version"))},isConnected(){return this.get("connectionTestResult")===W.CONNECTED},isUnavailable(){return this.get("connectionTestResult")===W.UNAVAILABLE},isUnauthorized(){return this.get("connectionTestResult")===W.UNAUTHORIZED},isPending(){return this.get("promiseState")===Q.PENDING},isPrivateConnection(){const e=this.get("activeConnection");return!(!e||!e.get("isPrivate"))},isResolved(){return this.get("promiseState")===Q.RESOLVED},isRejected(){return this.get("promiseState")===Q.REJECTED},isRelayed(){const e=this.get("activeConnection");return!(!e||!e.get("relay"))},isSecure(){const e=this.get("activeConnection");return!(!e||!e.get("isSecure"))},hasHttpsConnections(){return!!this.get("connections").findWhere({isHttps:!0})},hasFallbackConnections(){return!!this.get("connections").findWhere({isFallback:!0})},isMobileServer(){return this.get("serverClass")===G.SECONDARY},isFullServer(){return!this.get("isCloud")&&!this.get("isMobileServer")&&!this.get("isEmbedded")},isFullOwnedServer(){return this.get("isFullServer")&&!this.get("isShared")},isPrimaryEligible(){return!(!g.a.allowMobileServers&&this.get("isMobileServer"))&&!(!this.get("machineIdentifier")||this.get("isUnauthorized")||this.get("isCloud")||this.get("isEmbedded"))},isOutOfDate(){return!this.get("isMobileServer")&&!this.isVersionOrNewer("1.15.2")},isClaimed:function(){return this.get("isConnected")?this.get("myPlexSigninState")===Y:void 0},hasManualConnection(){return this.get("connections").some(e=>e.get("sources").some(e=>/^manual/.test(e.id)))},hasAdaptiveBitrate(){return this.get("streamingBrainABRVersion")>=3},shared(){return this.get("isShared")},bundled(){return this.get("isBundled")},cloud(){return this.get("isCloud")},merged(){return this.get("isMerged")},connected(){return this.get("connectionTestResult")===W.PENDING?null:this.get("isConnected")},available(){return this.get("connectionTestResult")===W.PENDING?null:!this.get("isUnavailable")},authorized(){return this.get("connectionTestResult")===W.PENDING?null:this.get("isResolved")},relayed(){return this.get("isRelayed")}},defaults(){return{connectionTestResult:W.PENDING,promiseState:Q.PENDING,sections:new w.a([],{server:this}),playlists:new T({},{server:this}),isShared:!1,isBundled:!1,isCloud:!1,isMerged:!1,isEmbedded:!1,isInstallingServerUpdate:!1,hasEventConnection:!1,sync:!1,backgroundProcessing:!1,allowChannelAccess:!1,updater:!0,ownerFeatures:[],games:!1,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},url(e=this.get("activeConnection")){Object(r.a)(e,"An active or manual connection is required for a server url");let t=i.a.result(e,"url");return/\/$/.test(t)||(t+="/"),t},initialize(){this._reset(),this.on("change:machineIdentifier",this.onMachineIdentifierChange,this),this.listenTo(this.get("connections"),{remove:this.onConnectionRemove,reset:this.onConnectionsReset})},uninitialize(){this.off("change:machineIdentifier",this.onMachineIdentifierChange,this),this.stopListening()},updateEntity(){if(!this.get("isMerged"))return p.a.prototype.updateEntity.apply(this,arguments)},fetch(){return u.c.Model.prototype.fetch.apply(this,arguments)},resolveUrl(e,t={}){if(Object(B.a)(e))return e;let a;a=t.useRelativeUrl?this.get("isMobileServer")?`http://127.0.0.1:${this.getLoopbackPort()}/`:"":t.baseUrl||this.url(t.connection);const n=this.get("accessToken"),r=i.a.extend({},t.params);return t.appendHeaders&&i.a.defaults(r,this.getHeaders()),t.appendToken&&n&&(r["X-Plex-Token"]=n),o.default.join([a,e],r)},getXHROptions(e,{headers:t,baseUrl:a,...n}={}){return{url:this.resolveUrl(e,{baseUrl:a}),dataType:"text",headers:i.a.extend(this.getHeaders(),t),allowHeadersInUrl:!0,allowBlacklistedMethodHeaders:this.supports("allowBlacklistedMethodHeaders"),...n}},getHeaders(){const e=c.a.getInstance(),t=i.a.clone(e),a=this.get("accessToken");a&&(t["X-Plex-Token"]=a);const n=Object(l.c)("settingFinder").find("language");return n&&(t["X-Plex-Language"]=n,t["Accept-Language"]=n),t},addConnection(e){e.sources||(e.sources=[{id:"internal"}]);const t=this.get("connections"),a=new H.a(e),n=t.get(a.id);if(n){return n.get("sources").set(e.sources,{remove:!1}),n}return t.add(e)},hasSource(e){return this.get("connections").some(t=>t.hasSource(e))},removeSource(e){const t=this.get("connections");let a=t.length-1;for(;a>=0;){t.at(a).get("sources").remove(e),a--}},testAllConnections(){const e=this.get("connections");return Object(s.a)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName")),this._reset(),e.each(e=>{const t=!e.get("relay"),a=!e.get("isUntested");(t||a)&&this.testConnection(e)}),this.populatePromise},testOnlyUntestedConnections(){return this.get("connections").each(e=>{const t=!e.get("relay"),a=e.get("isUntested"),n=e.get("isAborted");t&&(a||n)&&this.testConnection(e)}),this.populatePromise},testOnlyUntestedRelayConnections(){return this.get("connections").each(e=>{const t=e.get("relay"),a=e.get("isUntested");t&&a&&this.testConnection(e)}),this.populatePromise},testConnection(e,t={}){t.server=this,t.connection=e,this.get("promiseState")===Q.REJECTED&&this._reset();return d.a.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortAllConnectionTests(){const e=this.get("connections");Object(s.a)("[Connections] Aborting all pending connection tests for",this.get("debugName")),e.each(e=>{this.abortConnectionTest(e)})},abortConnectionTest(e){const t={server:this,connection:e};d.a.execute("abortServerConnectionTest",t)},populateIdentity(e){if(this._identityPromise)return this._identityPromise;const t=d.a.execute("populateServerIdentity",{server:this,connection:e});return t.done(e=>{this.set("machineIdentifier",e)}),this._identityPromise=t,t},updateCacheKey(){const e=this.get("debugName"),t=this.cacheKey(this.attributes),a=this.cache.get(t);if(a){const n=a.get("debugName");s.a.warn("[Identity] %s and %s (cached) collide",e,n),a.get("isConnected")||!this.get("isConnected")?(Object(s.a)("[Identity] Merging %s into %s (cached)",e,n),a.merge(this)):(Object(s.a)("[Identity] Merging %s (cached) into %s",n,e),this.merge(a),this.cache.store(this,t))}else this.cache.store(this,t)},merge(e){e.set("isMerged",!0),e.get("isBundled")&&this.set("isBundled",!0),e.get("connections").each(e=>{this.addConnection(e.toJSON())}),this.collection&&(this.collection.remove(e.cid,{silent:!0}),this.collection._byId[this.id]=this,this.collection.trigger("remove",e,this.collection),this.collection.trigger("update",this.collection)),this.cache.remove(e),g.a.shouldCreateStateTree&&this.updateEntity()},hasOwnerFeature(e){if(this.supports("ownerFeatures")){const t=this.get("ownerFeatures");return!!(t&&t.indexOf(e)>-1)}return!!this.get("myPlexSubscription")&&K.indexOf(e)>-1},supports(e){const t=this.get(e);if(i.a.isBoolean(t))return t;const a=_.a[e];return null!=a&&this.isVersionOrNewer(a)},isVersionOrNewer(e){const t=this.get("shortVersion");return!e||!t||Object(R.a)(t,e)},hasRegression(e){if(!e)return!1;const t=this.isVersionOrNewer(e.introduced),a=e.resolved&&this.isVersionOrNewer(e.resolved);return t&&!a},hasOtherLoopbackServer(){return!!this.collection&&this.collection.hasLoopbackServer()},getLoopbackPort(){const e=this.get("connections").findWhere({isPrivate:!0});return e?e.get("port"):"32400"},authenticate(e){this._resolve({accessToken:e})},deauthenticate(){this._reject({accessToken:null})},_reset(){this.startCapturingChangeEvents(),this.set("promiseState",Q.PENDING),this._resetPopulate(),this.releaseCapturedChangeEvents()},_resolve(e){const t=i.a.extend({connectionTestResult:W.CONNECTED,promiseState:Q.RESOLVED},e);this.startCapturingChangeEvents(),this.set(t),g.a.shouldCreateStateTree&&this.updateState(),this._resolvePopulate(),this.releaseCapturedChangeEvents()},_reject(e){const t=this.get("connections");t.hasOnlyFailedConnections()&&s.a.warn("[Connections] All connections to %s failed",this.get("debugName"));const a=t.findWhere({isUnauthorized:!0})?W.UNAUTHORIZED:W.UNAVAILABLE,n=i.a.extend({connectionTestResult:a,promiseState:Q.REJECTED},e);this.startCapturingChangeEvents(),this.set(n),this._rejectPopulate(),this.releaseCapturedChangeEvents()},_checkActiveConnection(){const e=this.get("activeConnection"),t=this.get("connections");if(e&&!t.contains(e)){const e=t.getBestConnection();e?this.set({activeConnection:e}):this.testAllConnections()}},onMachineIdentifierChange(e,t){this.collection?this.listenToOnce(this.collection,"change:machineIdentifier",(function(){this.updateCacheKey()})):this.updateCacheKey()},onConnectionRemove(e,t){t.length?this._checkActiveConnection():(this.trigger("change:connections.remove",e,t),this.trigger("change:connections.change",this,t),this.trigger("destroy",this,this.collection))},onConnectionsReset(e,t){e.length?this._checkActiveConnection():(this.trigger("change:connections.reset",e,t),this.trigger("change:connections.change",this,e),this.trigger("destroy",this,this.collection))},onConnectionTestSuccess(e,t){const a=this.get("connections").getBestConnection();if(a!==this.get("activeConnection")&&s.a.info("[Connections] Active connection to %s is %s",this.get("debugName"),a.id),this._resolve({activeConnection:a,...t}),g.a.allowLoopbackDiscovery){const e=this.get("connections"),t=this.get("activeConnection"),a=t.get("isPrivate"),n=!!e.findWhere({isLoopback:!0});!a||n||this.hasOtherLoopbackServer()||(Object(s.a)("[Connections] Adding possible loopback connection for",this.get("debugName")),this.addConnection(t.getLoopbackAttributes()))}},onConnectionTestError(e,t){if(e.get("isAborted"))return;const a=this.get("connections");!e.get("isHttps")||e.get("isUnauthorized")||e.get("relay")||Object(l.c)("appStore").dispatch(Object(L.p)({serverEntityID:this.entityID(),address:e.get("address"),port:e.get("port")})),!this.id&&e.get("isUnauthorized")&&this.populateIdentity(e),a.hasOnlyFailedConnections()?this.id||!this._identityPromise?this._reject():this._identityPromise.always(()=>{a.hasOnlyFailedConnections()&&this._reject()}):a.hasFailedEveryDirectConnection()&&this.testOnlyUntestedRelayConnections()}},{connectionTestResults:W,promiseStates:Q,serverClasses:G});Object(m.a)(J,(function(){return{relationClass:Object(l.c)("ServerFlexModel"),options:{server:this}}}));t.e=J},EQVT:function(e,t,a){e.exports={container:"PhotoMetadataControls-container-1FKfKq PlayerControlsMetadata-container-2wqMfv"}},ERyq:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("G4qV"),i=a("xSXQ"),r=a("sfIp"),s=a("2bcr"),o=a("zTY+");function l(){return Object(n.a)(Object(i.a)(),r.b,s.b,(e,t,a)=>e&&e.source||Object(o.a)({providerIdentifier:t.identifier,serverIdentifier:a.machineIdentifier}))}},ESci:function(e,t,a){e.exports={sortDirectionIcon:"IconTableHeaderSortDirection-sortDirectionIcon-3VWsqV"}},ETIq:function(e,t,a){e.exports={hubCell:"WatchTogetherParticipantsHubCell-hubCell-2d54Ct HubCell-hubCell-3Ys175"}},ETPs:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"h",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"g",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"f",(function(){return d}));const n="=",i="!=",r="==",s="!==",o=">>=",l="<<=",c=">>=-",d="<<=-",u=[n,i,r,s,">=","<=",o,l,c,d];t.i=u},EVgX:function(e,t,a){"use strict";let n=0;t.a=function(){return"id-"+n++}},EWqP:function(e,t,a){e.exports={description:"LinkedAccounts-description-JKP8ii",dim:"LinkedAccounts-dim-2wlJAd"}},EXW4:function(e,t,a){e.exports={header:"SourceSidebarHeader-header-2ViQaF"}},EXeW:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="card card-announcement"> <div class="unread ',((s=n.if.call(t,t&&t.read,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"hidden"}),r),data:r}))||0===s)&&(l+=s),l+='"></div> ',((s=n.if.call(t,t&&t.url,{hash:{},inverse:this.program(5,(function(e,t){var a,n="";return n+=" <h4>"+c("function"==typeof(a=e&&e.title)?a.apply(e):a)+'</h4> <img class="thumb"/> '}),r),fn:this.program(3,(function(e,t){var a,n="";return n+=' <h4><a href="'+c("function"==typeof(a=e&&e.url)?a.apply(e):a)+'" target="_blank">'+c("function"==typeof(a=e&&e.title)?a.apply(e):a)+'</a></h4> <a href="'+c("function"==typeof(a=e&&e.url)?a.apply(e):a)+'" target="_blank"> <img class="thumb"/> </a> '}),r),data:r}))||0===s)&&(l+=s),l+=' <div class="date">'+c((o=a("C0QX"),o&&(o.__esModule?o.default:o)).call(t,t&&t.notifyAt,{hash:{},data:r}))+'</div> <div class="description">',((s="function"==typeof(s=t&&t.content)?s.apply(t):s)||0===s)&&(l+=s),l+="</div> </div> "}))},Ed4x:function(e,t,a){"use strict";var n=a("XmNb"),i=a("DgQC"),r=a("EVdn"),s=a.n(r),o=a("F/us"),l=a.n(o),c=a("+X4A"),d=a("1CqU"),u=a("vjRy"),p=a("tqLa"),m=a("e/b/"),h=a("nZd1");var g=d.a.extend({idAttribute:"ratingKey",whitelistedAttrs:["guid","addedAt","composite","duration","key","leafCount","playlistType","ratingKey","smart","summary","title","type","allowSync"],defaults:function(){return{children:new u.default([],{server:this.server,parent:this,url:function(){const e="/playlists/"+this.parent.id+"/items";let t;return"audio"===this.parent.get("playlistType")&&(t={includeRelated:1}),c.default.join(e,t)}})}},urlRoot:"/playlists",saveUrl:function(){return"/library/metadata/"+this.id},cacheKey:function(e){if(e.key)return this.server&&this.server.getScopedKey(e.key)},initialize:function(){this.listenToOnce(this.get("children"),"add",(function(e){this.set("art",e.get("art"))}))},sync:function(e,t,a){const n=h.a.addVersionHeader(2,a);return d.a.prototype.sync.call(this,e,t,n)},parse:function(e){let t=this.convert(e);return t.Playlist&&(t=t.Playlist),m.a.parseInteger(t,["duration","leafCount","addedAt"]),m.a.parseBoolean(t,["smart","allowSync"]),t.isPlaylist=!0,t},findItem:function(e){return this.get("children").findWhere({playlistItemID:e})},moveItem:function(e,t){const a=t?{after:t}:{},n=c.default.join([l.a.result(this,"url"),"/items/",e,"/move"],a),i=l.a.extend(this.server.getXHROptions(n),{type:"PUT"}),r=s.a.ajax(i),o=this.get("children"),d=this.findItem(e);o.remove(d);const u=this.findItem(t),p=u?o.indexOf(u)+1:0;return o.add(d,{at:p}),r},removeItem:function(e){e=e.toString();const t=c.default.join([l.a.result(this,"url"),"/items/",e]),a=l.a.extend(this.server.getXHROptions(t),{type:"DELETE"}),n=s.a.ajax(a);n.then(l.a.bind((function(e){this.set(this.parse(e))}),this));const i=this.get("children"),r=this.findItem(e);return i.remove(r),n},addContent:function(e,t){const a=this.isNew()?"POST":"PUT",n=[l.a.result(this,"url")],i={};this.isNew()?(i.type=this.get("playlistType"),i.title=this.get("title"),i.smart=this.get("smart")?1:0):n.push("/items"),e.get("playQueueID")?i.playQueueID=e.get("playQueueID"):i.uri=p.a.uri(e,t);const r=c.default.join(n,i),o=l.a.extend(e.server.getXHROptions(r),{type:a}),d=s.a.ajax(o);return d.then(l.a.bind((function(e){this.set(this.parse(e))}),this)),d.promise()},isLibraryItem:function(){return!0},isPlexMusicItem:function(){return!1}}),y=a("B69o"),f=a("Dq8X");var b=y.a.extend({name:"VersionGeneratorCollection",context:["server"],model:f.a,url(){return c.default.join(["playlists",this.parent.id,"items"],{type:i.a.LOCAL})}}),v=g.extend({defaults:function(){return{children:new b([],{server:this.server,parent:this})}},findItem:function(e){return this.get("children").get(e)},addContent:function(e){var t=[l.a.result(this,"url"),"items",e.id],a=c.default.join(t,e.getSaveParams()),n=l.a.extend(e.server.getXHROptions(a),{type:"PUT"}),i=s.a.ajax(n);return i.then(l.a.bind((function(e){this.set(this.parse(e))}),this)),i.promise()}}),I=n.a.extend({model:v,url:"/playlists?type="+i.a.LOCAL,parse:function(e){return this.convert(e,"Playlist")}});t.a=I},EdFZ:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("2pL0"),s=a("66GW"),o=a("y0Ze"),l=a("Qc4C"),c=a.n(l);function d(e){const{className:t,circleClassName:a,title:n,...l}=e;return i.a.createElement(r.a,{className:t,"aria-label":Object(s.default)("Play {title}",{title:n}),...l},i.a.createElement(o.a,{className:a}))}d.defaultProps={className:c.a.playButton,circleClassName:c.a.playCircle},t.a=d},Eeuk:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n);a("qpNu");const r=/\s+/,s=function(e,t,a,n){if(!a)return!0;if("object"==typeof a){for(const i in a)e[t].apply(e,[i,a[i]].concat(n));return!1}if(r.test(a)){const i=a.split(r);for(let a=0,r=i.length;a<r;a++)e[t].apply(e,[i[a]].concat(n));return!1}return!0},o=function(e,t){let a,n=-1;const i=e.length,r=t[0],s=t[1],o=t[2];switch(t.length){case 0:for(;++n<i;)(a=e[n]).callback.call(a.ctx);return;case 1:for(;++n<i;)(a=e[n]).callback.call(a.ctx,r);return;case 2:for(;++n<i;)(a=e[n]).callback.call(a.ctx,r,s);return;case 3:for(;++n<i;)(a=e[n]).callback.call(a.ctx,r,s,o);return;default:for(;++n<i;)(a=e[n]).callback.apply(a.ctx,t)}},l={on:function(e,t,a){if(!s(this,"on",e,[t,a])||!t)return this;this._events||(this._events={});return(this._events[e]||(this._events[e]=[])).push({callback:t,context:a,ctx:a||this}),this},once:function(e,t,a){if(!s(this,"once",e,[t,a])||!t)return this;const n=this;var r=i.a.once((function(){n.off(e,r),t.apply(this,arguments)}));return r._callback=t,this.on(e,r,a)},off:function(e,t,a){let n,r,o,l,c,d,u;if(!this._events||!s(this,"off",e,[t,a]))return this;if(!e&&!t&&!a)return this._events=void 0,this;const p=e?[e]:i.a.keys(this._events);for(l=0,c=p.length;l<c;l++)if(e=p[l],o=this._events[e],o){if(this._events[e]=n=[],t||a)for(d=0,u=o.length;d<u;d++)r=o[d],(t&&t!==r.callback&&t!==r.callback._callback||a&&a!==r.context)&&n.push(r);n.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;const t=[].slice.call(arguments,1);if(!s(this,"trigger",e,t))return this;const a=this._events[e],n=this._events.all;return a&&o(a,t),n&&o(n,arguments),this},stopListening:function(e,t,a){let n=this._listeningTo;if(!n)return this;const r=!t&&!a;a||"object"!=typeof t||(a=this),e&&((n={})[e._listenId]=e);for(const s in n)(e=n[s]).off(t,a,this),(r||i.a.isEmpty(e._events))&&delete this._listeningTo[s];return this},hasListener:function(e){const t=this._events&&this._events[e];return Array.isArray(t)&&t.length>0}};i.a.each({listenTo:"on",listenToOnce:"once"},(function(e,t){l[t]=function(t,a,n){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=i.a.uniqueId("l"))]=t,n||"object"!=typeof a||(n=this),t[e](a,n,this),this}})),l.bind=l.on,l.unbind=l.off,t.a=l},EiC7:function(e,t,a){"use strict";function n(e){const t=parseFloat(e,10);let a=e.match(/m?s/);switch(a&&(a=a[0]),a){case"s":return 1e3*t;case"ms":return t}return 0}a.d(t,"a",(function(){return n}))},"EjF/":function(e,t,a){"use strict";var n=a("G4qV"),i=a("haOg"),r=a("Xq+7"),s=a("iNJT");const o=Object(n.a)(r.a,i.a,Object(s.a)("providers"),(e,t,a)=>e.reduce((e,n)=>{const i=(n.isCloud?a:n.providers).map(e=>({server:n,provider:t[e]})),r=i.length?i:[{server:n}];return e.push(...r),e},[]));t.a=o},EtI4:function(e,t,a){e.exports={externalMenuItemContainer:"SubtitlesStreamsMenu-externalMenuItemContainer-1x3fqr",externalMenuItem:"SubtitlesStreamsMenu-externalMenuItem-284uph SelectedMenuItem-menuItemContainer-2hXIr-",menuLabelClassName:"SubtitlesStreamsMenu-menuLabelClassName-16VXob SelectedMenuItem-menuLabel-2fp2lo",externalDeleteButton:"SubtitlesStreamsMenu-externalDeleteButton-1SUFSe IconButton-iconButton-2l04Bi Link-link-2ew_DK",extendedTitle:"SubtitlesStreamsMenu-extendedTitle-1prcXn"}},EykR:function(e,t,a){e.exports={dragPreview:"PlaylistItemDragPreview-dragPreview-pFud8h"}},EzYn:function(e,t,a){e.exports={dragPreview:"PlaylistPhotoDragPreview-dragPreview-1Grr5S"}},F3Cg:function(e,t,a){e.exports={form:"EPGSettings-form-ZJ79Ys",message:"EPGSettings-message-159MED",regionInput:"EPGSettings-regionInput-1wXWR6 SelectInput-input-x1tNmq input-input-1P2Vi4",fetchingSpinner:"EPGSettings-fetchingSpinner-3HphG1 Spinner-spinner-Niere7 spin-spin-2kLwt_"}},F5AI:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("pQ98"),s=a("bCk4"),o=a("vQY0"),l=a.n(o);t.a=function(e){return i.a.createElement(s.a,{className:l.a.innerEmptyPage,contentClassName:l.a.innerEmptyPageContent,scrollDirection:r.b,...e})}},F5gX:function(e,t,a){e.exports={container:"PrePlayLowerContent-container-1cIUf_"}},F8pK:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("+X4A");function i(e,t,a,i={},r){const s=["#!","media"];return e||s.push(encodeURIComponent(t)),s.push(encodeURIComponent(a),r),n.default.join(s,i)}},FAcX:function(e,t,a){"use strict";function n(e){return e.embeddedServer}a.d(t,"a",(function(){return n}))},FAj2:function(e,t,a){e.exports={icon:"InnerErrorPage-icon-tWVPF4 ErrorPage-icon-ZJ38xX EmptyPage-icon-31D3ZA"}},FGim:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r}));const n="complete",i="error",r="postprocessing"},FIl5:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("RNo0"),s=a("e0Cb"),o=a("0jae");var l=function(e){if(null==e)return"";try{return decodeURIComponent(e)}catch(t){return o.a.warn("[Parser] Unable to parse encoded string"),e}};var c=function(e){return null==e||""===e?0:window.parseFloat(e)},d=a("2Xys"),u=a("CZ2S");var p=function(e){return e?Array.isArray(e)?e:e.split(","):[]},m=a("GXN7"),h=a("zzzj"),g=a("Xh8s"),y=a("uF0K");var f=function(e){return e.join(",")},b=a("P24g");const v={parseType:function(e,t,a){const n=this.getByType("parse",e,this._parseTypeMap);return n?n(t,a):t},stringifyType:function(e,t,a){if(i.a.isString(t))return t;if(null==t)return"";const n=this.getByType("stringify",e,this._stringifyTypeMap);return n?n(t,a):t},getByType:function(e,t,a){if(a&&i.a.has(a,t))return a[t];const n=e+(t.charAt(0).toUpperCase()+t.slice(1));return i.a.has(this,n)?(a[t]=this[n],this[n]):void 0},parseBoolean:s.a,stringifyBoolean:y.a,parseInteger:d.a,parseFloat:c,parseString:h.a,parseEncodedString:l,parseArray:r.a,parseList:p,stringifyList:f,parseQueryString:m.a,stringifyQueryString:b.a,parseJSON:u.a,parseXML:g.a,reset:function(){this._parseTypeMap={json:this.parseJSON,xml:this.parseXML},this._stringifyTypeMap={}}};v.reset();t.a=v},FKox:function(e,t,a){"use strict";t.a=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}},FM3t:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("slDQ");var n=a("FKox"),i=a("b3RP");function r(e){const{key:t,getModel:a}=e;const r=Object(n.a)(t),s=`is${r}Pending`,o=`is${r}Populated`,l=t?t+"Error":"error";return(e,n={})=>{const{count:r}=n,c=a(e,n),d=t?c.get(t):c;c.sessionAttrs;const u=c.get(s);c.set(s,!0),d.repopulateRange(r).done(()=>{c.set({[s]:!1,[o]:!0,[l]:null})}).fail((e,t)=>{t.aborting?c.set(s,u):c.set({[s]:!1,[l]:Object(i.a)(t)})})}}},FQAj:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Artist",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Artist",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Biography",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},FSRn:function(e,t,a){e.exports={button:"NavBarButton-button-oTeMHk Link-link-2n0yJn"}},FVT0:function(e,t,a){e.exports={tableHeaderLink:"TableHeaderLink-tableHeaderLink-2vwPqB Link-link-2ew_DK"}},FWoo:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var n=a("0jae");function i(e,t,a){const n=e.get("entities").get(t);if(n){const e=n.get(a);if(e)return e.get("model")}}function r(e,t,a){const r=i(e,t,a);return r||n.a.warn('An entity does not exist with the type "%s" and id "%s"',t,a),r}},FYT4:function(e,t,a){e.exports={subscription:"RecordingPrioritySubscription-subscription-sOfYqe",link:"RecordingPrioritySubscription-link-2-ONe6",linkContainer:"RecordingPrioritySubscription-linkContainer-35Li6i",posterContainer:"RecordingPrioritySubscription-posterContainer-1ZjTKX",titleContainer:"RecordingPrioritySubscription-titleContainer-2zfvGj",dragHandle:"RecordingPrioritySubscription-dragHandle-1KbYqy Link-link-2n0yJn",dragIcon:"RecordingPrioritySubscription-dragIcon-2zAikO"}},FYiy:function(e,t,a){e.exports={signInButton:"NavBarSignInButton-signInButton-gyzAOM NavBarButton-button-oTeMHk Link-link-2n0yJn"}},FdSe:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return m}));var n=a("q1tI"),i=a.n(n),r=a("iZkF");const s=Symbol(void 0),o=Symbol(void 0),l=[s,s,s],c=Object(n.createContext)({metricsPage:r.yb,metricsContextTuple:l});function d(){return Object(n.useContext)(c)}function u([e,t,a]){if(e!==s)return[e,t===s||t===o?"":t,a===s||a===o?"":a].join("~").replace(/~+$/,"")}function p([e,t,a]){if(e!==s)return{context:e,row:t===o||t===s?void 0:t,col:a===o||a===s?void 0:a}}function m({children:e,metricsPage:t,metricsContextParam:a,name:r,row:u=s,column:p=s}){const{metricsPage:m,metricsContextTuple:h}=d(),g=Object(n.useMemo)(()=>{const[e,n,i]=h;return a?function(e){if(!e)return l;const[t,a,n]=e.split("~");return t?[t,a?parseInt(a,10):o,n?parseInt(n,10):o]:l}(a):r?[`${m}:${r}`,u,p]:e!==s?[e,n===s?u:n,i===s?p:i]:t&&t!==m?h:void 0},[p,h,a,m,t,r,u]),y=Object(n.useMemo)(()=>g?{metricsPage:t||m,metricsContextTuple:g}:void 0,[g,m,t]);return y?i.a.createElement(c.Provider,{value:y},e):e}},"Fe9+":function(e,t,a){e.exports={modalHeader:"WatchTogetherRoomErrorModal-modalHeader-18dTIR ModalHeader-modalHeader-1Kf9RW"}},FePx:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=n.if.call(t,t&&t.canReparent,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,r="";return r+=' <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(e,"autocompleteTextInput",{hash:{label:"Album Artist",name:"grandparentTitle",placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.grandparentTitle),ratingKey:(n=e&&e.item,null==n||!1===n?n:n.grandparentRatingKey),title:(n=e&&e.item,null==n||!1===n?n:n.grandparentTitle)},data:t}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(e,"autocompleteTextInput",{hash:{label:"Album",name:"parentTitle",placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.parentTitle),ratingKey:(n=e&&e.item,null==n||!1===n?n:n.parentRatingKey),title:(n=e&&e.item,null==n||!1===n?n:n.parentTitle),scopeToAttr:"grandparentRatingKey",scopeToParam:"artist.id"},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-4"> <label>'+c(i(a("d8WC")).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> <div class="col-md-4"> '+c(i(a("nptq")).call(t,"lockableNumericInput",{hash:{label:"Track",name:"index",value:(o=t&&t.item,null==o||!1===o?o:o.index),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.index),locked:(o=t&&t.locked,null==o||!1===o?o:o.index),disabled:t&&t.disableIndices},data:s}))+' </div> <div class="col-md-4"> '+c(i(a("nptq")).call(t,"lockableNumericInput",{hash:{label:"Disc",name:"parentIndex",value:(o=t&&t.item,null==o||!1===o?o:o.parentIndex),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.parentIndex),locked:(o=t&&t.locked,null==o||!1===o?o:o.parentIndex),disabled:t&&t.disableIndices},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Artist",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> </div> </form> "}))},FeaP:function(e,t,a){"use strict";function n(...e){return function(...t){for(let a=0,n=e.length;a<n;a++){const n=e[a];"function"==typeof n&&n(...t)}}}a.d(t,"a",(function(){return n}))},Fg7B:function(e,t,a){e.exports={item:"PlaylistListItem-item-3FQ7lc Link-link-2ew_DK",imageContainer:"PlaylistListItem-imageContainer-2yxL79",image:"PlaylistListItem-image-3H1bJ2",title:"PlaylistListItem-title-3CeF_i"}},Fh1j:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));a("slDQ");var n=a("0jae");const i={};let r=!1;function s(e,t){const a=t&&!r,s=i[e];return a&&s&&s.length?(Object(n.a)("[MediaElement] Found existing media element to use. type: %s",e),s.shift()):(Object(n.a)("[MediaElement] Creating new media element. type: %s",e),document.createElement(e))}function o(e){const t=e.nodeName.toLowerCase();Object(n.a)("[MediaElement] Releasing media element to pool. type: %s",t),i[t]||(i[t]=[]),i[t].push(e)}},FjJJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"g",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"j",(function(){return p})),a.d(t,"k",(function(){return m})),a.d(t,"l",(function(){return h})),a.d(t,"m",(function(){return g})),a.d(t,"n",(function(){return y})),a.d(t,"o",(function(){return f})),a.d(t,"p",(function(){return b})),a.d(t,"q",(function(){return v}));const n="general.db.backup",i="general.bundle.clean",r="grabber.grab",s="grabber.assimilate",o="library.delete",l="library.update.section",c="library.refresh.items",d="library.update.item.metadata",u="media.generate.bif",p="media.generate.chapter.thumbs",m="media.generate.intros",h="general.db.optimize",g="provider.device.channelscan",y="provider.epg.load",f="provider.subscriptions.process",b="provider.subscription.refresh",v="subtitle.download"},FjM4:function(e,t,a){e.exports={container:"PlaylistItemDragSource-container-ACeFE8"}},Fp13:function(e,t,a){e.exports={starRating:"StarRating-starRating-1-SbNQ",stars:"StarRating-stars-2HyHdq",dot:"StarRating-dot-3IqC-T",star:"StarRating-star-31C9XQ",hidden:"StarRating-hidden-2n6-94",emptyStar:"StarRating-emptyStar-1XVvKp StarRating-star-31C9XQ",fullStar:"StarRating-fullStar-3gYOkk StarRating-star-31C9XQ",pulsing:"StarRating-pulsing-ZL72Hc",isReadOnly:"StarRating-isReadOnly-2SumJR",isUnrated:"StarRating-isUnrated-2pl1WY",slider:"StarRating-slider-2uo17U",track:"StarRating-track-29690M"}},FuJG:function(e,t,a){e.exports={homeUsersList:"UsersSettingsPage-homeUsersList-3XOzw8",button:"UsersSettingsPage-button-1upQLF",upsell:"UsersSettingsPage-upsell-3zJGA6",upsellMessage:"UsersSettingsPage-upsellMessage-3ocMg3"}},Fx8r:function(e,t,a){"use strict";t.a=function(e){return!(!e||!e.isDownloaded)}},FzNv:function(e,t,a){e.exports={controls:"PlayerControls-controls-e59abb",buttonGroup:"PlayerControls-buttonGroup-4L6Pw-",buttonGroupLeft:"PlayerControls-buttonGroupLeft-3vLk-g PlayerControls-buttonGroup-4L6Pw-",buttonGroupCenter:"PlayerControls-buttonGroupCenter-11q8ie PlayerControls-buttonGroup-4L6Pw-",buttonGroupRight:"PlayerControls-buttonGroupRight-18LS_l PlayerControls-buttonGroup-4L6Pw-",volumeButton:"PlayerControls-volumeButton-hSQZXs PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",balanceLeft:"PlayerControls-balanceLeft--vfZAg",volumeSlider:"PlayerControls-volumeSlider-9c0JEx VolumeSlider-slider-1QXdTt VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",hasLandscapePoster:"PlayerControls-hasLandscapePoster-23Gat5",hasSquarePoster:"PlayerControls-hasSquarePoster--hAg0V"}},"G+Pm":function(e,t,a){e.exports={container:"DeviceChannelMapping-container-13vudz",mappingDisabled:"DeviceChannelMapping-mappingDisabled-1NA7_H",deviceChannel:"DeviceChannelMapping-deviceChannel-3alGEO",channelEnabled:"DeviceChannelMapping-channelEnabled-DnEcU5",channelEnabledCheckbox:"DeviceChannelMapping-channelEnabledCheckbox-u8U6II Checkbox-input-2z-Vk6",deviceChannelIdentifier:"DeviceChannelMapping-deviceChannelIdentifier-3tw2Zo",deviceChannelInfo:"DeviceChannelMapping-deviceChannelInfo-24h2wg",deviceChannelName:"DeviceChannelMapping-deviceChannelName-k43NdB",signalQuality:"DeviceChannelMapping-signalQuality-2Gdjmj",lineupChannel:"DeviceChannelMapping-lineupChannel-2vnzPU",lineupChannelSelect:"DeviceChannelMapping-lineupChannelSelect-3t53Cj Select-input-1OU8QF",drmChannel:"DeviceChannelMapping-drmChannel-2Y9-mU",drmChannelBadge:"DeviceChannelMapping-drmChannelBadge-2etigG",hdBadge:"DeviceChannelMapping-hdBadge-1GBkKq"}},G35J:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("F/us"),i=a.n(n);function r(e,t){t.get("connections").each(a=>{const n=[{id:t.server.id}],r=i.a.extend(a.toJSON(),{sources:n});e.addConnection(r)})}},G53E:function(e,t,a){"use strict";a.d(t,"b",(function(){return j}));var n=a("CHn6"),i=a("mOXR"),r=a("cVe3"),s=a("0v4y"),o=a("1DJO"),l=a("bUqy"),c=a("B69o");var d=n.a.extend({name:"DVRSetupErrorMessageModel",sessionAttrs:{id:i.a.string,message:i.a.string}});var u=c.a.extend({name:"DVRSetupErrorMessageCollection",model:d}),p=a("WfwD");var m=n.a.extend({name:"EPGCountryModel",context:["server"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{key:i.a.string,type:i.a.string,title:i.a.string,code:i.a.string,example:i.a.string,flavor:i.a.integer,language:i.a.string,languageTitle:i.a.string}});var h=c.a.extend({name:"EPGCountryCollection",context:["server"],model:m,url:"/livetv/epg/countries"});var g=n.a.extend({name:"EPGCountryRegionModel",context:["server"],idAttribute:"key",rootPropertyName:"Region",syncedAttrs:{key:i.a.string,type:i.a.string,title:i.a.string}});var y=c.a.extend({name:"EPGCountryRegionCollection",context:["server"],model:g});var f=n.a.extend({name:"EPGLineupModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Lineup",syncedAttrs:{uuid:i.a.string,type:i.a.string,title:i.a.string,lineupType:i.a.integer,location:i.a.string},defaults:{location:""}});var b=c.a.extend({name:"EPGCountryRegionCollection",context:["server"],model:f});var v=n.a.extend({name:"EPGLineupGroupModel",context:["server"],idAttribute:"uuid",syncedAttrs:{uuid:i.a.string},syncedRelations:{lineups:{relationClass:b,rootPropertyName:"Lineup"}}});var I=n.a.extend({name:"EPGLanguageModel",context:["server"],rootPropertyName:"Language",idAttribute:"code",syncedAttrs:{code:i.a.string,title:i.a.string}});var S=c.a.extend({name:"EPGLanguageCollection",context:["server"],model:I,url:"/livetv/epg/languages"});var E=n.a.extend({name:"EPGSettingsModel",context:["server"],sessionAttrs:{baseUrl:i.a.string,postalCode:i.a.string,isFetching:i.a.boolean,isPopulated:i.a.boolean},sessionRelations:{countries:{relationClass:h},languages:{relationClass:S},regions:{relationClass:y},lineupGroup:{relationClass:v},selectedCountry:{relationClass:m,deferred:!0},selectedLanguage:{relationClass:I,deferred:!0},selectedRegion:{relationClass:g,deferred:!0}},defaults:{baseUrl:"/livetv/epg/countries",isFetching:!1,isPopulated:!1,postalCode:""}});var O=n.a.extend({name:"EPGChannelModel",context:["server"],rootPropertyName:"Channel",syncedAttrs:{identifier:i.a.string,key:i.a.string,callSign:i.a.string,thumb:i.a.string,title:i.a.string,hd:i.a.boolean},defaults:{hd:!1}});var M=c.a.extend({name:"EPGChannelCollection",context:["server"],model:O}),C=a("93eU");const j={DEVICE:"device",UNSUPPORTED_DEVICE:"unsupportedDevice",DEVICE_CHANNELS:"deviceChannels",EPG:"epg",EPG_MAPPING:"epgMapping",CHANNEL_MAPPING:"channelMapping",EPG_DOWNLOAD:"epgDownload"},D=n.a.extend({name:"DVRSetupModel",context:["server"],sessionAttrs:{isDevicesPending:i.a.boolean,isDevicesPopulated:i.a.boolean,devicesError:i.a.object,isDiscoveringDevices:i.a.boolean,isChannelMappingsPending:i.a.boolean,isChannelMappingsPopulated:i.a.boolean,channelMappingsError:i.a.object,isChannelMappingsSaving:i.a.boolean,channelMappingsSaveError:i.a.object,isLineupChannelsPending:i.a.boolean,isLineupChannelsPopulated:i.a.boolean,lineupChannelsError:i.a.object,epgLineupActivityID:i.a.string,epgDownloadActivityID:i.a.string,step:i.a.string,selectedLineupUUID:i.a.string,addDevicePending:i.a.boolean,isSavingDVR:i.a.boolean,hasScannedChannels:i.a.boolean},sessionRelations:{devices:{relationClass:s.a},lineupChannels:{relationClass:M},epgSettings:{relationClass:E},channelMappings:{relationClass:C.a},selectedDVR:{relationClass:p.a,deferred:!0},selectedDevice:{relationClass:o.a,deferred:!0},selectedLanguage:{relationClass:I,deferred:!0},setupErrorMessages:{relationClass:u},scanPrefs:{relationClass:r.a,deferred:!0},scanNetworks:{relationClass:l.a,deferred:!0}},defaults:{step:j.DEVICE,isDevicesPending:!1,isDevicesPopulated:!1,isDiscoveringDevices:!1,devicesError:null,isChannelMappingsPending:!1,isChannelMappingsPopulated:!1,channelMappingsError:null,isChannelMappingsSaving:!1,channelMappingsSaveError:null,isLineupChannelsPending:!1,isLineupChannelsPopulated:!1,lineupChannelsError:null,epgLineupActivityID:"",epgDownloadActivityID:"",addDevicePending:!1,isSavingDVR:!1,hasScannedChannels:!1}});t.a=D},G5dy:function(e,t,a){e.exports={button:"WatchTogetherLobbyControlButton-button-2pzvIx Button-button-2kT68l Link-link-2n0yJn",icon:"WatchTogetherLobbyControlButton-icon-2T2gG5"}},G5wA:function(e,t,a){e.exports={modalHeader:"ModalHeader-modalHeader-3FeWrI"}},GERC:function(e,t,a){e.exports={face:"PrePlayPosterCard-face-3rQEjm MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC"}},GFd0:function(e,t,a){e.exports={pageContent:"PageContent-pageContent-16mK6G",innerPageContent:"PageContent-innerPageContent-3ktLTA"}},"GMu+":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("G4qV"),i=a("nxTK");function r(){return Object(n.a)((e,{metadataListEntityID:t})=>t,i.a,(e,t)=>t[e])}},GNXi:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n);t.a=function(e,t){let a;if(e.Part.length>1){let n=0;for(let i=0,r=e.Part.length;i<r&&(a=e.Part[i],a.duration)&&(n+=a.duration,!(n>t));i++);}else a=i.a.first(e.Part);return a}},GP3F:function(e,t,a){e.exports={attribution:"MetadataHubTitle-attribution-1onFMt"}},GTkx:function(e,t,a){e.exports={container:"FullPage-container-3qanwH FullPage-container-17Y0cs"}},GUIr:function(e,t,a){"use strict";t.a=function(e,t){return e>t?50:e<=0||t<=0?0:parseFloat((e/t*100).toFixed(2))}},GWGF:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));const n="machineIdentifier",i="sectionID"},GXN7:function(e,t,a){"use strict";var n=a("0jae"),i=a("tjw3"),r=a("5/Tp");t.a=function(e,t){if(t||(t={}),Object(i.a)(e))return e;if(!Object(r.a)(e))return{};if(!(e=e.trim().replace(/^(\?|#)/,"")))return{};const a=t.separators&&t.separators.join("")||t.separator||"&",s=new RegExp(`[${a}]+`);return e.split(s).reduce((e,t)=>{let[a,i]=t.split("=");try{a=decodeURIComponent(a),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(a)?Array.isArray(e[a])?e[a].push(i):e[a]=[e[a],i]:e[a]=i}catch(e){n.a.warn("[Parser] Unable to decode query string at "+a)}return e},{})}},GaN0:function(e,t,a){e.exports={placeholder:"ListRowPlaceholder-placeholder-2XX5pq",shimmer:"ListRowPlaceholder-shimmer-3xDgPJ"}},GaVp:function(e,t,a){e.exports={image:"DVRDeviceImage-image-20gwdt"}},GbpW:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("G4qV"),i=a("xSXQ"),r=a("m8hN"),s=a("OMWn"),o=a("DdkG"),l=a("4A6Q");function c(){return Object(n.a)(Object(i.a)(),s.a,r.a,o.b,(e,t,a,n)=>Object(l.o)({server:t,provider:a,stableUser:n,metadataItem:e}))}},GdCd:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("slDQ");var n=a("FKox");function i(e){const{key:t,fetchActionCreator:a,getModel:i}=e,r=`is${Object(n.a)(t)}Populated`;return(e,t,n)=>{i(e,t).get(r)||n(a(t))}}},GfmD:function(e,t,a){e.exports={container:"AudioVideoPlayerPlayQueueMetadata-container-sM2h0v",cardContainer:"AudioVideoPlayerPlayQueueMetadata-cardContainer-vcGvjG",card:"AudioVideoPlayerPlayQueueMetadata-card-18P30N QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6",titlesContainer:"AudioVideoPlayerPlayQueueMetadata-titlesContainer-2G9lRp",sourceText:"AudioVideoPlayerPlayQueueMetadata-sourceText-2jMM6D",durationContainer:"AudioVideoPlayerPlayQueueMetadata-durationContainer-2dgI92"}},GhQZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("G4qV"),i=a("dOl7");function r(){return Object(n.a)(i.a,(e,t)=>t.friendEntityID,(e,t)=>e[t])}},GhuN:function(e,t,a){e.exports={pageHeader:"PrePlayPageHeader-pageHeader-2o14Fw PageHeader-pageHeader-2KNPGd",altPageHeader:"PrePlayPageHeader-altPageHeader-3bZbSG PrePlayPageHeader-pageHeader-2o14Fw PageHeader-pageHeader-2KNPGd",currentSourcePageHeaderLeftChildrenContainer:"PrePlayPageHeader-currentSourcePageHeaderLeftChildrenContainer-2tbTyv",divider:"PrePlayPageHeader-divider-WQRk87 PageHeaderDivider-pageHeaderDivider-1NwPUr",listStylesArrowsDivider:"PrePlayPageHeader-listStylesArrowsDivider-1OrTCc PageHeaderDivider-pageHeaderDivider-1NwPUr"}},Gkyr:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("v6AS"),s=a.n(r);function o({children:e,...t}){return i.a.createElement("div",{...t},e)}o.defaultProps={className:s.a.buttonBar},t.a=o},Gopy:function(e,t,a){e.exports={tableHeader:"TableHeader-tableHeader-vLg8Js"}},GsoU:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("hDJw"),i=a("zTsO");function r(e){return{includeExternalMedia:Object(n.a)(e,i.a),includeExternalMetadata:!0,includeStations:!0}}},GtsS:function(e,t,a){e.exports={container:"PrePlayList-container-WZ86OE HubCell-hubCell-3Ys175",emptyContainer:"PrePlayList-emptyContainer-1scC5X",emptyMessage:"PrePlayList-emptyMessage-aeAV8W PrePlayList-emptyContainer-1scC5X"}},Gu3x:function(e,t,a){"use strict";var n=a("B69o"),i=a("CHn6"),r=a("mOXR"),s=a("FIl5");const o="int",l="text",c="bool",d="enum",u="double";function p(e,t){switch(e){case o:case d:return s.a.parseInteger(t);case c:return s.a.parseBoolean(t);default:return t}}var m=i.a.extend({idAttribute:"id",url:"/:/prefs",context:["server"],sessionAttrs:{isSaving:r.a.boolean},syncedAttrs:{id:r.a.string,label:r.a.string,default:r.a.oneOfType(r.a.integer,r.a.string,r.a.boolean,r.a.array),summary:r.a.string,value:{type:r.a.oneOfType(r.a.integer,r.a.string,r.a.boolean,r.a.array),save:!0},type:r.a.oneOf(o,l,c,d,u),group:r.a.string,advanced:r.a.boolean,option:r.a.string,hidden:r.a.boolean,enumValues:r.a.array,values:r.a.string},defaults:{isSaving:!1,type:"string",summary:"",label:"",group:""},augmentResponse(e){if(e.value=p(e.type,e.value),e.advanced=p(c,e.advanced),e.hidden=p(c,e.hidden),e.enumValues&&!Array.isArray(e.enumValues)&&(e.enumValues=e.enumValues.split("|").map(t=>{const[a,n=a]=t.split(":");return{label:n,value:p(e.type,a)}})),e.type===d&&e.values&&!Array.isArray(e.values)){let t=0;e.enumValues=e.values.split("|").map(e=>({label:e,value:t++}))}return e},getSaveParams(e){const t=i.a.prototype.getSaveParams.apply(this,arguments);return e&&!e.hasOwnProperty("value")?(Object.keys(t).forEach(t=>delete e[t]),t):{[this.get("id")]:t.value}}});const h=n.a.extend({name:"ServerSettingCollection",context:["server"],url:"/:/prefs",model:m,augmentResponse(e){if(!e.Setting)return[];return(Array.isArray(e.Setting)?e.Setting:[e.Setting]).filter(e=>e.id)}});t.a=h},GxT8:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"g",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));const n="small-60",i="small-120",r="medium-240",s="medium-360",o="large-480",l="large-720",c="large-1280",d="large-1920"},Gzlz:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("CXxV"),s=a("Bw3N"),o=a("6N1R"),l=a("buLI"),c=a("xyiB"),d=a("EMYl"),u=a("VOGa"),p=a.n(u);function m({formGroupClassName:e,formLabelClassName:t,inputClassName:a,name:n,labelText:r,helpText:c,showErrors:u,errors:p,...m}){return i.a.createElement(s.a,{className:e},i.a.createElement(l.a,{className:t,showErrors:u,errors:p,name:n,labelText:r}),i.a.createElement(d.a,{className:a,name:n,type:"number",hasError:u,...m}),c?i.a.createElement(o.a,null,c):null)}m.defaultProps={inputClassName:p.a.input};var h=Object(c.a)(m),g=a("HamW"),y=a("UpFG"),f=a("/fYT"),b=a("f90G");function v(e=[]){return e.map(({label:e,value:t})=>({[t]:e}))}const I={playbackSpeed:a("VCJj").a};function S(e){const{id:t,type:a,label:n,summary:s,value:o,initialValueModifier:l,enumValues:c,min:d,max:u,step:p}=e,m={name:t,helpText:s,initialValue:l(o)};if(Array.isArray(c))return i.a.createElement(g.a,{labelText:n,...m,values:v(c)});switch(a){case f.b.TEXT:return i.a.createElement(y.b,{labelText:n,...m});case f.b.BOOL:return i.a.createElement(r.a,{checkboxText:n,...m});case f.b.INT:return i.a.createElement(h,{labelText:n,...m});case f.b.DOUBLE:return i.a.createElement(b.a,{labelText:n,min:d,max:u,stepSize:p,valueModifier:I[t],...m});default:return null}}S.defaultProps={initialValueModifier:e=>e};t.a=S},H3DA:function(e,t,a){e.exports={container:"UsersSettingsRowHome-container-7lwe0f",icon:"UsersSettingsRowHome-icon-QYwADJ",lockedIcon:"UsersSettingsRowHome-lockedIcon-oExhHy UsersSettingsRowHome-icon-QYwADJ"}},H43X:function(e,t,a){e.exports={duration:"EPGPrePlayStatusLeftTitle-duration-1W91hQ"}},H6oa:function(e,t,a){e.exports={spinner:"ServerSettingsStatusIcon-spinner-zyA9uo"}},HAvv:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=n.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(3,(function(e,t){var n,r="";return r+=" "+c(i(a("nptq")).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(n=e&&e.item,null==n||!1===n?n:n.year),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.year),locked:(n=e&&e.locked,null==n||!1===n?n:n.year)},data:t}))+" "}),s),fn:this.program(1,(function(e,t){var n,r="";return r+=" "+c(i(a("nptq")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(n=e&&e.item,null==n||!1===n?n:n.originallyAvailableAt),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.originallyAvailableAt),locked:(n=e&&e.locked,null==n||!1===n?n:n.originallyAvailableAt)},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> <div class="col-md-4"> <label>'+c(i(a("d8WC")).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-',((o=n.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,(function(e,t){return"6"}),s),fn:this.program(5,(function(e,t){return"12"}),s),data:s}))||0===o)&&(l+=o),l+=' selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> ",((o=n.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var n,r="";return r+=' <div class="col-md-6"> '+c(i(a("nptq")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(n=e&&e.item,null==n||!1===n?n:n.originallyAvailableAt),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.originallyAvailableAt),locked:(n=e&&e.locked,null==n||!1===n?n:n.originallyAvailableAt)},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},HCZj:function(e,t,a){e.exports={container:"UsersSettingsRowAvatar-container-3QE77x"}},HDjD:function(e,t,a){e.exports={topControls:"FullPlayerTopControls-topControls-2gkcEk",topButton:"FullPlayerTopControls-topButton-2iGrJm PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",castButton:"FullPlayerTopControls-castButton-1CwQ3E FullPlayerTopControls-topButton-2iGrJm PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",remotePlayerName:"FullPlayerTopControls-remotePlayerName-32QaKl",remotePlayerProduct:"FullPlayerTopControls-remotePlayerProduct-2k5kgk"}},HJAU:function(e,t,a){e.exports={badge:"PrePlayContentRating-badge-3Omhmg Badge-badge-21NQRi"}},HJfd:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<p class="versions-status-message hidden"> <button class="delete-all-btn btn btn-sm btn-danger pull-right">'+l(i(a("d8WC")).call(t,"Delete All Versions",{hash:{},data:s}))+"</button> "+l(i(a("d8WC")).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:s}))+' </p> <div class="background-processing-list-region"></div> '}))},HJi7:function(e,t,a){e.exports={progress:"MetadataPosterCardProgressBar-progress-H-gNPX",track:"MetadataPosterCardProgressBar-track-1wK6zj",bar:"MetadataPosterCardProgressBar-bar-3N2AjG"}},HPXQ:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("ZMKu"),s=a("q1tI"),o=a.n(s),l=a("/iqQ"),c=a("L395"),d=a("5Fux"),u=a("x481"),p=a("EVgX"),m=a("pQ98"),h=a("VzhI"),g=a("wCAT"),y=a("fklS"),f=a("T+ch"),b=a("obnR"),v=a("NG4B"),I=a("21iP"),S=a.n(I);const E=Object(d.a)(y.a.menuSpeed),O=1e3*E,M=parseInt(f.a.menuPadding,10),C={ease:"easeOut",duration:E},j={ease:b.a.motionEasing,duration:E},D={opacity:C,y:j,scale:j},P={preEnter:{opacity:0,y:-10,scale:.95,transition:D},enter:{opacity:1,y:0,scale:1,transition:D},exit:{opacity:0,y:10,scale:.95,transition:D}},T=[{name:"preventOverflow",enabled:!0,options:{altAxis:!0}}];function w(e){return Math.min(window.innerHeight-2*M,e.maxHeight)}class N extends s.Component{constructor(e,t){super(e,t),this.onResize=e=>{this.setState({maxHeight:w(this.props)})},this.onWindowDownPress=e=>{this._isElementContainedOrTarget(e.target)||(this._willMenuClose=!0)},this.onWindowUpPress=e=>{this._willMenuClose&&!this._isElementContainedOrTarget(e.target)&&this.props.onMenuClose(),this._willMenuClose=!1},this.onKeyDown=e=>{const t=e.keyCode;t===v.j?u.e(e):t===v.e&&(e.preventDefault(),e.stopPropagation(),this.props.onMenuClose(),u.c())},this.state={maxHeight:w(e)},this._willMenuClose=!1,this._menuID=Object(p.a)()}componentDidMount(){this.props.isOpen&&this._enable(),window.addEventListener("resize",this.onResize)}shouldComponentUpdate(e,t){return Object(g.a)(this,e,t)}componentDidUpdate(e,t){const a=e.isOpen&&!e.isAutoCloseDisabled,n=this.props.isOpen&&!this.props.isAutoCloseDisabled;!a&&n?this._enable():a&&!n&&this._disable()}componentWillUnmount(){this.props.isOpen&&!this.props.isAutoCloseDisabled&&this._disable(),window.removeEventListener("resize",this.onResize)}_enable(){u.f(document.getElementById(this._menuID)),document.addEventListener("mousedown",this.onWindowDownPress),document.addEventListener("touchstart",this.onWindowDownPress),document.addEventListener("mouseup",this.onWindowUpPress),document.addEventListener("touchend",this.onWindowUpPress),document.addEventListener("keydown",this.onKeyDown)}_disable(){document.removeEventListener("mousedown",this.onWindowDownPress),document.removeEventListener("touchstart",this.onWindowDownPress),document.removeEventListener("mouseup",this.onWindowUpPress),document.removeEventListener("touchend",this.onWindowUpPress),document.removeEventListener("keydown",this.onKeyDown)}_isElementContainedOrTarget(e){const{target:t}=this.props,a=document.getElementById(this._menuID),n=a&&a.contains(e),i=!n&&document.getElementById(t),r=i&&i.contains(e);return n||r}render(){var e;const{children:t,className:a,portalClassName:n,target:s,options:d,isOpen:u,isDisabled:p,scrollerProps:m,size:h,onMouseEnter:g,onMouseLeave:y,onMenuCloseComplete:f}=this.props,{maxHeight:b}=this.state;return o.a.createElement(l.a,{className:n,target:s,options:{placement:"bottom-start",...d,modifiers:[...T,...null!=(e=null==d?void 0:d.modifiers)?e:[]]},isOpen:u,closeTimeoutMilliseconds:O,onClose:f},o.a.createElement(r.a,null,u?o.a.createElement(r.b.div,{key:"container",initial:"preEnter",animate:"enter",exit:"exit",variants:P,id:this._menuID,className:i()(a,S.a[h],p&&S.a.isDisabled),onMouseEnter:g,onMouseLeave:y},o.a.createElement(c.a,{...m,style:{maxHeight:b}},t)):null))}}N.defaultProps={className:S.a.menu,portalClassName:S.a.menuPortal,size:h.b,maxHeight:600,isDisabled:!1,scrollerProps:{className:S.a.menuScroller,scrollDirection:m.c,autoScroll:!0}},t.a=N},HPx8:function(e,t,a){e.exports={sidebarMenuButton:"SidebarMenuButton-sidebarMenuButton-khx_Pb",sidebarMenuButtonContainer:"SidebarMenuButton-sidebarMenuButtonContainer-3c2yQl",sidebarMenuSpinner:"SidebarMenuButton-sidebarMenuSpinner-2cI_mh",sidebarMenuTitle:"SidebarMenuButton-sidebarMenuTitle-2If4a2",sidebarMenuPrimaryTitleContainer:"SidebarMenuButton-sidebarMenuPrimaryTitleContainer-3-vDDD",sidebarMenuPrimaryTitle:"SidebarMenuButton-sidebarMenuPrimaryTitle-2_fxHH",sidebarMenuSecondaryTitle:"SidebarMenuButton-sidebarMenuSecondaryTitle-2jpJLR",icon:"SidebarMenuButton-icon-3UrWWB",isDisabled:"SidebarMenuButton-isDisabled-Iwcsxd"}},HQmg:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("+X4A"),s=a("B69o"),o=a("CHn6"),l=a("mOXR");var c=o.a.extend({name:"FilterOptionModel",context:["server","section","type","standalone"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:l.a.encodedString,type:l.a.string,field:l.a.string,value:l.a.string,title:l.a.string},augmentResponse:e=>(e.fastKey?(e.value=e.key,e.key=e.fastKey,e.field=e.type,delete e.type,delete e.fastKey):e.fastKey||e.value||(e.value=e.key),e)});const d=s.a.extend({name:"FilterOptionCollection",context:["server","provider","section","type","standalone","includeExternalMedia"],model:c,url(){let e;this.type?e={type:this.type}:this.standalone||(e=this.getUrlParams());const t=i.a.result(this.section,"url");return r.default.join([t,this.parent.id],e)},getUrlParams(){const e={},t=[],a=this.section.get("currentType"),n=this.section.get("currentFilters");return a&&(e.type=a.id),i.a.each(n,t=>{t.key!==this.parent.id&&t.values.length&&(e[t.key]=t.values.join(","))}),i.a.each(e,(e,a)=>{"unviewedLeafCount"===a?t.push(`${a}>=${e}`):t.push(`${a}=${e}`)}),t.join("&")},augmentResponse:e=>(e.Directory&&!Array.isArray(e.Directory)&&(e.Directory=[e.Directory]),e.Directory=i.a.filter(e.Directory,e=>e.title),e),search(e){const t=this.filter(t=>t.get("title").toLowerCase().indexOf(e.toLowerCase())>-1);return this.clone(t)}});t.a=d},HR74:function(e,t,a){e.exports={pageHeaderRight:"PageHeaderRight-pageHeaderRight-2a8wuj"}},HSBM:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("IaPh"),s=a("PJR5");t.a=function(e){const{serverEntityID:t,providerEntityID:a,itemServerEntityID:n,itemProviderEntityID:o,type:l,isOffscreen:c,url:d,src:u,width:p,height:m,icon:h,backgroundSize:g,isFolder:y,disableCrossFade:f,onLoad:b,onError:v}=e;return c?null:d||u?i.a.createElement(r.a,{serverEntityID:n||t,providerEntityID:o||a,url:d,src:u,width:p,height:m,backgroundPosition:"artist"===l?"center top":"center",backgroundSize:"game"===l?"contain":g,disableCrossFade:f,onLoad:b,onError:v}):i.a.createElement(s.a,{type:l,width:p,height:m,isFolder:y,icon:h})}},HU9O:function(e,t,a){e.exports={emptyDescription:"DiscoverEmptyLibraryPage-emptyDescription-dADhf6",manageLibraries:"DiscoverEmptyLibraryPage-manageLibraries-1_r43R"}},HUgi:function(e,t,a){e.exports={descendantHubCellHeader:"PrePlayDescendantList-descendantHubCellHeader-2qK3U8 HubCellHeader-hubCellHeader-2pvYNF",titleButton:"PrePlayDescendantList-titleButton-P7EPne"}},HVP4:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(i(a("d8WC")).call(t,"Limited Connection",{hash:{},data:s}))+" - "+c("function"==typeof(o=t&&t.serverName)?o.apply(t):o)+' </h4> </div> <div class="modal-body"> <p> '+c(i(a("d8WC")).call(t,"You are not connected directly to {1} so streaming quality may be limited. You may be able to connect directly to this server by changing your home network settings. {2}Learn more{3}",t&&t.escapedServerName,'<a href="https://help.plex.tv/relay" target="_blank" class="learn-more">',"</a>",{hash:{},data:s}))+' </p> </div> <div class="modal-footer"> <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(i(a("d8WC")).call(t,"OK",{hash:{},data:s}))+"</button> </div> </div> </div> "}))},HXOB:function(e,t,a){"use strict";var n=a("4P0s");t.a=new n.a({interface:["get","set","remove","clear"]})},HY0z:function(e,t,a){e.exports={container:"AudioVideoPlayQueue-container-mD38oi",topContainer:"AudioVideoPlayQueue-topContainer-3udEGu",topLeft:"AudioVideoPlayQueue-topLeft-_-AJUI",topRight:"AudioVideoPlayQueue-topRight-2iuaOm",count:"AudioVideoPlayQueue-count-1zBsgM",content:"AudioVideoPlayQueue-content-28l4x2 Scroller-vertical-VScFLT",tooltipButton:"AudioVideoPlayQueue-tooltipButton-1wdD77"}},HY9I:function(e,t,a){e.exports={badge:"MetadataTitleAttributed-badge-iUFJdK"}},HYaw:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("G4qV"),i=a("haOg");function r(){return Object(n.a)((e,{providerEntityID:t})=>t,i.a,(e,t)=>t[e])}},HamW:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("Bw3N"),s=a("6N1R"),o=a("buLI"),l=a("LmLz"),c=a("xyiB");t.a=Object(c.a)((function({formGroupClassName:e,formLabelClassName:t,name:a,labelText:n,helpText:c,showErrors:d,errors:u,...p}){return i.a.createElement(r.a,{className:e},i.a.createElement(o.a,{className:t,showErrors:d,errors:u,name:a,labelText:n}),i.a.createElement(l.a,{name:a,hasError:d,...p}),c?i.a.createElement(s.a,null,c):null)}))},Hbfx:function(e,t,a){e.exports={row:"UsersSettingsRowHomeUser-row-yBG7Dd UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UsersSettingsRowHomeUser-actions-2K_nSZ UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt",editPin:"UsersSettingsRowHomeUser-editPin-14dFb5"}},HdxU:function(e,t,a){const n=a("NNG8").default,i=a("a4Cb");e.exports=i(n)},HhKU:function(e,t,a){e.exports={row:"RomSettings-row-3ZZrxI AudioVideoSettingsRow-row-2CrSzB",rowPressed:"RomSettings-rowPressed-KZoD14 RomSettings-row-3ZZrxI AudioVideoSettingsRow-row-2CrSzB"}},HiPX:function(e,t,a){e.exports={item:"LineupChannel-item-2RFFmG",label:"LineupChannel-label-Is-sCJ",title:"LineupChannel-title-1DrUax",iconReorder:"LineupChannel-iconReorder-1a9SGI",toggleButton:"LineupChannel-toggleButton-3lhOGk AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I",thumb:"LineupChannel-thumb-1F_INC"}},HjAS:function(e,t,a){e.exports={sidebarContainer:"SidebarContainer-sidebarContainer-2RAYT1"}},Hpi7:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m440 520l0 40-320 0 0-40 320 0m120-40l-560 0 0-440 560 0 0 440m-60-380l-440 0 0 280 440 0 0-280"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},Hr1X:function(e,t,a){e.exports={draggable:"PlaylistPhotoSortableItem-draggable-2XyLAc"}},I178:function(e,t,a){e.exports={overlay:"MetadataPosterCardOverlay-overlay-1uMpL6 PosterCardOverlay-overlay-3wQFXY",background:"MetadataPosterCardOverlay-background-2EwyBM PosterCardOverlay-background-23u0Zs",hoverBackground:"MetadataPosterCardOverlay-hoverBackground-1SwD6Z PosterCardOverlay-hoverBackground-2KpNfu",selectedBackground:"MetadataPosterCardOverlay-selectedBackground-Wzv0ox PosterCardOverlay-selectedBackground-3gAngY",visibleBackground:"MetadataPosterCardOverlay-visibleBackground-1JQ4_4 PosterCardOverlay-visibleBackground-1Kms_J",link:"MetadataPosterCardOverlay-link-1SwhlG",badge:"MetadataPosterCardOverlay-badge-1FU-pf",topLeftBadge:"MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",versionBadge:"MetadataPosterCardOverlay-versionBadge-1cDAuU MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",versionBadgeIcon:"MetadataPosterCardOverlay-versionBadgeIcon-JkU8Ef",smartBadge:"MetadataPosterCardOverlay-smartBadge-2YOF_V MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",smartBadgeIcon:"MetadataPosterCardOverlay-smartBadgeIcon-378Syu",favoriteBadge:"MetadataPosterCardOverlay-favoriteBadge-1jLkEK MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",favoriteBadgeIcon:"MetadataPosterCardOverlay-favoriteBadgeIcon-2CJhPF",unplayedBadge:"MetadataPosterCardOverlay-unplayedBadge-2hKHo5 MetadataPosterCardOverlay-badge-1FU-pf",hasSubscriptionBadge:"MetadataPosterCardOverlay-hasSubscriptionBadge-l3MOeu DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",unplayedTagContainer:"MetadataPosterCardOverlay-unplayedTagContainer-1uFYq2",unplayedTag:"MetadataPosterCardOverlay-unplayedTag-3hwoiQ MetadataPosterCardOverlay-unplayedBadge-2hKHo5 MetadataPosterCardOverlay-badge-1FU-pf",progress:"MetadataPosterCardOverlay-progress-2voxfD PosterCardOverlayProgress-progress-16k0BJ",button:"MetadataPosterCardOverlay-button-M43H-q",centerCircle:"MetadataPosterCardOverlay-centerCircle-1Mg-s-",playButton:"MetadataPosterCardOverlay-playButton-1fjhkh PlayButton-playButton-3WX8X- MetadataPosterCardOverlay-button-M43H-q",playCoverButton:"MetadataPosterCardOverlay-playCoverButton-I7oU3N MetadataPosterCardOverlay-playButton-1fjhkh PlayButton-playButton-3WX8X- MetadataPosterCardOverlay-button-M43H-q",playCircle:"MetadataPosterCardOverlay-playCircle-M67q6x PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",selectButton:"MetadataPosterCardOverlay-selectButton-3rwSVG SelectButton-selectButton-3Kbjm9 MetadataPosterCardOverlay-button-M43H-q",selectCircle:"MetadataPosterCardOverlay-selectCircle-3ql8ST SelectButton-selectCircle-3tdvGt",coverButton:"MetadataPosterCardOverlay-coverButton-2Dm9Pj",selectCoverButton:"MetadataPosterCardOverlay-selectCoverButton-ukQUfL MetadataPosterCardOverlay-coverButton-2Dm9Pj",deselectCoverButton:"MetadataPosterCardOverlay-deselectCoverButton-3mzekx MetadataPosterCardOverlay-coverButton-2Dm9Pj",editButton:"MetadataPosterCardOverlay-editButton-7oR-Qi MetadataPosterCardOverlay-button-M43H-q",favoriteButton:"MetadataPosterCardOverlay-favoriteButton-3SmN_W MetadataPosterCardOverlay-button-M43H-q",moreButton:"MetadataPosterCardOverlay-moreButton-3FK-Ko MetadataPosterCardOverlay-button-M43H-q",removeButton:"MetadataPosterCardOverlay-removeButton-3hIPxU MetadataPosterCardOverlay-button-M43H-q",hasActiveSelection:"MetadataPosterCardOverlay-hasActiveSelection-2pflV8",refreshingCircle:"MetadataPosterCardOverlay-refreshingCircle-3EbpeR MetadataPosterCardOverlay-centerCircle-1Mg-s-",trashCircle:"MetadataPosterCardOverlay-trashCircle-XoEoZf MetadataPosterCardOverlay-centerCircle-1Mg-s-",isActionsMenuOpen:"MetadataPosterCardOverlay-isActionsMenuOpen-AvHIX3",isSelected:"MetadataPosterCardOverlay-isSelected-2muunK",isConflictingTypeSelected:"MetadataPosterCardOverlay-isConflictingTypeSelected-E8CIxH",isModifierKeyPressed:"MetadataPosterCardOverlay-isModifierKeyPressed-2cmkda",isDragging:"MetadataPosterCardOverlay-isDragging-1XK1P4",refreshingSpinnerContainer:"MetadataPosterCardOverlay-refreshingSpinnerContainer-1ERDtN",refreshingSpinner:"MetadataPosterCardOverlay-refreshingSpinner-ipJiyn",refreshingIcon:"MetadataPosterCardOverlay-refreshingIcon-3dF55d"}},I36r:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+" </div> </div> ",((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.style"],{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,r="";return r+=' <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(n=e&&e.locked,null==n||!1===n?n:n.style)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.mood"],{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n,r="";return r+=' <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(n=e&&e.locked,null==n||!1===n?n:n.mood)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> ",((o=n.if.call(t,t&&t.canEditSimilarArtists,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var n,r="";return r+=' <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(e,"lockableTagInput",{hash:{label:"Similar Artists",name:"similar",attribute:"similar",query:"title",locked:(n=e&&e.locked,null==n||!1===n?n:n.similar)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </form> "}))},I4jB:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-analyzing-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m336 364l15.027 67.524c.858 3.854 2.685 7.18 5.477 9.972 2.792 2.792 6.118 4.619 9.972 5.477l67.524 15.027-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.027c3.854-.858 7.18-2.685 9.972-5.477 2.792-2.792 4.619-6.118 5.477-9.972l15.027-67.524m-315 140l343-343 35 35-343 343-35-35m441-266l15.027 67.523c.858 3.855 2.685 7.181 5.477 9.973 2.792 2.792 6.118 4.619 9.972 5.476l67.524 15.028-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.028c3.854-.857 7.18-2.684 9.972-5.476 2.792-2.792 4.619-6.118 5.477-9.973l15.027-67.523m-322-238l21.468 96.462c1.2 5.396 3.914 10.338 7.823 14.247 3.909 3.909 8.851 6.623 14.247 7.823l96.462 21.468-96.462 21.468c-5.396 1.2-10.338 3.914-14.247 7.823-3.909 3.909-6.623 8.851-7.823 14.247l-21.468 96.462-21.468-96.462c-1.2-5.396-3.914-10.338-7.823-14.247-3.909-3.909-8.851-6.623-14.247-7.823l-96.462-21.468 96.462-21.468c5.396-1.2 10.338-3.914 14.247-7.823 3.909-3.909 6.623-8.851 7.823-14.247l21.468-96.462m252 133l35 35 112-112-35-35-112 112"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},ICb1:function(e,t,a){"use strict";t.a=function(e,t){return function(...a){const n="function"==typeof t?t(...a):a[0];return{type:e,payload:n}}}},ID2g:function(e,t,a){e.exports={card:"WatchTogetherHubItem-card-3HhnHa WatchTogetherHubItemPosterCard-card-3eXNmg PosterCard-card-VhPkOe",splitTitleContainer:"WatchTogetherHubItem-splitTitleContainer-23J9a_",title:"WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",secondaryTitle:"WatchTogetherHubItem-secondaryTitle-28kXfW WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X",splitLineTitle:"WatchTogetherHubItem-splitLineTitle-13snOO WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",splitLineSecondaryTitle:"WatchTogetherHubItem-splitLineSecondaryTitle-1sX6o6 WatchTogetherHubItem-secondaryTitle-28kXfW WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X WatchTogetherHubItem-splitLineTitle-13snOO WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-"}},IE0F:function(e,t,a){"use strict";var n=a("0jae"),i=a("EVdn"),r=a.n(i),s=a("F/us"),o=a.n(s);var l=function(e){if(!e.length)return r.a.Deferred().reject().promise();const t=r.a.Deferred();let a=e.length;return o.a.each(e,(function(e){e.done((function(){a--,t.resolveWith(this,arguments)})).fail((function(){a--,0===a&&t.reject()}))})),t.promise()},c=a("+X4A"),d=a("cgRT"),u=a("vtVQ"),p=a("SZF0"),m=a("mOXR"),h=a("EPph"),g=a("Rmik"),y=a("ftj1"),f=a("B69o"),b=a("kwss"),v=a("nvND"),I=a("LGmu");var S=f.a.extend({name:"ResourceCollection",model:I.a,context:["server"],responseType:v.a,url(){const e={};return b.a.allowHttpsMediaServerConnections&&(e.includeHttps=1),b.a.allowMediaServerRelayConnections&&(e.includeRelay=1),c.default.join("/api/v2/resources",e)}});const{connectionTestResults:E,promiseStates:O}=h.e,M=h.e.extend({name:"CloudServerModel",connectionTestUrl:"https://plex.tv/monitoring/health",sessionAttrs:{connectionTestResult:m.a.oneOf(E.PENDING,E.CONNECTED,E.UNAVAILABLE,E.UNAUTHORIZED).isRequired,promiseState:m.a.oneOf(O.PENDING,O.RESOLVED,O.REJECTED).isRequired,isShared:m.a.boolean.isRequired,isBundled:m.a.boolean.isRequired,isCloud:m.a.boolean.isRequired,isMerged:m.a.boolean.isRequired,isDownForMaintenance:m.a.boolean.isRequired,isResourcesPending:m.a.boolean.isRequired,isResourcesPopulated:m.a.boolean.isRequired,hasFailedResources:m.a.boolean.isRequired,accessToken:m.a.string,baseUrl:m.a.string.isRequired,plexPassUrl:m.a.string.isRequired,appsUrl:m.a.string.isRequired,hasEventConnection:m.a.boolean},sessionRelations:{activeConnection:{relationClass:y.a,deferred:!0},connections:{relationClass:g.b,options(){return{server:this}}},resources:{relationClass:S,options(){return{server:this}}}},defaults(){const e="https://plex.tv";return{connectionTestResult:E.PENDING,promiseState:O.PENDING,isShared:!1,isBundled:!1,isCloud:!0,isMerged:!1,isDownForMaintenance:!1,isResourcesPending:!1,isResourcesPopulated:!1,hasFailedResources:!1,friendlyName:"plex.tv",baseUrl:e,plexPassUrl:c.default.join([e,"/subscription/about"]),appsUrl:c.default.join([e,"/downloads"]),hasEventConnection:!1}},testAllConnections(){const e=this.get("connections");Object(n.a)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName"));const t=e.map(e=>this.testConnection(e));return l(t)},testConnection(e){const t={server:this,connection:e,url:this.connectionTestUrl};return u.a.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortConnectionTest(e){const t={server:this,connection:e,url:this.connectionTestUrl};u.a.execute("abortServerConnectionTest",t)},deauthenticate(){this.get("resources").clear(),this._reject({connectionTestResult:this.get("connectionTestResult"),accessToken:null})},onConnectionTestSuccess(e){const t=this.get("connections").getBestConnection();n.a.info("[Connections] Active connection to %s is %s",this.get("debugName"),t.id),this.startCapturingChangeEvents(),this.set({isDownForMaintenance:!1,connectionTestResult:E.CONNECTED,activeConnection:t}),this.releaseCapturedChangeEvents()},onConnectionTestError(e,t){e.get("isAborted")||this.get("connections").hasOnlyFailedConnections()&&this._reject({isDownForMaintenance:503===t.status})}});Object(p.a)(M,(function(){return{relationClass:Object(d.c)("CloudServerFlexModel"),options:{server:this}}}));t.a=M},IEMP:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("Nb++");function i(e=40,t=10,a){return Object(n.c)({direction:n.b,columns:1,overscan:t,getCellWidth:e=>e.innerViewportWidth,getCellHeight:()=>e,...a})}},IIsI:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("ZMKu"),s=a("i8i4"),o=a.n(s),l=a("XjQJ"),c=a("5Fux"),d=a("x481"),u=a("VzhI"),p=a("wCAT"),m=a("fklS"),h=a("obnR"),g=a("NG4B"),y=a("/3H6"),f=a.n(y);const b=Object(c.a)(m.a.modalSpeed),v=1e3*b,I={ease:"easeOut",duration:b},S={ease:h.a.motionEasing,duration:b},E={opacity:I},O={enter:{opacity:1,transition:E},exit:{opacity:0,transition:E}},M={scale:S,opacity:I},C={enter:{opacity:1,scale:1,transition:M},exit:{opacity:0,scale:.95,transition:M}};class j extends n.Component{constructor(){super(...arguments),this.onBackdropBeginPress=e=>{this._isBackdropPressed=this._isBackdropTarget(e)},this.onBackdropEndPress=e=>{!this.props.preventCloseOnBackdropPress&&this._isBackdropPressed&&this._isBackdropTarget(e)&&this.props.onModalClose(),this._isBackdropPressed=!1},this.onTouchMove=e=>{this._isBackdropPressed=!1},this.onTouchCancel=e=>{this._isBackdropPressed=!1},this.onKeyDown=e=>{const t=e.keyCode;t===g.j?d.e(e):t===g.e&&(e.preventDefault(),e.stopPropagation(),this.props.onModalClose(),d.c())}}componentDidMount(){this.props.isOpen&&this._openModal()}shouldComponentUpdate(e,t){return Object(p.a)(this,e,t)}componentDidUpdate(e){!e.isOpen&&this.props.isOpen?this._openModal():e.isOpen&&!this.props.isOpen&&this._closeModal()}componentWillUnmount(){this.props.isOpen&&this._closeModal()}_openModal(){d.f(o.a.findDOMNode(this.refs.modal)),this._autoFocusTimeoutID=window.setTimeout(d.d,v),document.addEventListener("keydown",this.onKeyDown)}_closeModal(){window.clearTimeout(this._autoFocusTimeoutID),document.removeEventListener("keydown",this.onKeyDown)}_isBackdropTarget(e){const t=this._findEventTarget(e);if(t){const e=o.a.findDOMNode(this.refs.modal);return!e||!e.contains(t)}return!1}_findEventTarget(e){const t=e.changedTouches;if(!t)return e.target;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}}render(){const{className:e,backdropClassName:t,containerClassName:a,children:n,size:s,isOpen:o}=this.props;return i.a.createElement(l.a,{isOpen:o,closeTimeoutMilliseconds:v,className:a},i.a.createElement(r.a,null,o?i.a.createElement(r.b.div,{key:"backdrop",initial:"exit",animate:"enter",exit:"exit",variants:O,className:t,onMouseDown:this.onBackdropBeginPress,onMouseUp:this.onBackdropEndPress,onTouchStart:this.onBackdropBeginPress,onTouchEnd:this.onBackdropEndPress,onTouchMove:this.onTouchMove,onTouchCancel:this.onTouchCancel},i.a.createElement(r.b.div,{key:"modal",initial:"exit",animate:"enter",exit:"exit",variants:C,className:e||f.a[s],ref:"modal"},n)):null))}}j.defaultProps={backdropClassName:f.a.modalBackdrop,containerClassName:f.a.modalContainer,size:u.b,preventCloseOnBackdropPress:!1};var D=j,P=a("ZEoo");t.a=function(e){const{children:t,metricsPage:a,metricsProperties:n,...r}=e;return i.a.createElement(D,{...r},i.a.createElement(P.a,{...n,page:a},t))}},ILlL:function(e,t,a){"use strict";var n=a("B69o"),i=a("CHn6"),r=a("mOXR");var s=i.a.extend({name:"UserServiceModel",syncedAttrs:{id:r.a.string,subscriptionType:r.a.string}});const o=n.a.extend({name:"UserServiceCollection",model:s});t.a=o},IMai:function(e,t,a){e.exports={overlay:"PosterCardOverlay-overlay-3wQFXY",background:"PosterCardOverlay-background-23u0Zs",hoverBackground:"PosterCardOverlay-hoverBackground-2KpNfu",selectedBackground:"PosterCardOverlay-selectedBackground-3gAngY",visibleBackground:"PosterCardOverlay-visibleBackground-1Kms_J"}},INWF:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return c}));var n=a("ICb1"),i=a("5XbV");const r="ui/repopulatePage",s="ui/showAlert",o=Object(n.a)(r),l=Object(n.a)(s,e=>"string"==typeof e?{type:i.a,message:e}:e),c={[s](e,t){}}},IRZJ:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n);t.a=function(e){const t=/(\d+\.){2,3}\d+/.exec(e);return i.a.first(t)||e}},ISTI:function(e,t,a){e.exports={recordingBadge:"RecordingBadge-recordingBadge-2UNalG"}},IV0B:function(e,t,a){e.exports={container:"TopUsers-container-wn74_O",listActions:"TopUsers-listActions-17a4re",listScrollButton:"TopUsers-listScrollButton-1-dRkY IconButton-iconButton-2l04Bi Link-link-2ew_DK"}},IV3D:function(e,t,a){e.exports={pageHeader:"PageHeader-pageHeader-14-NYz"}},IVDS:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("q1tI");function i(e){const t=Object(n.useRef)();return Object(n.useEffect)(()=>{t.current=e},[e]),t.current}},IaPh:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("g3sH"),s=a("wFRV");const o={position:"relative",top:0,left:0,display:"block",width:"100%",height:"100%"};t.a=function(e){return i.a.createElement(s.a,{...e,component:r.a,containerStyle:o})}},IbVa:function(e,t,a){e.exports={modal:"WhatsNewModal-modal-x5tLGu Modal-modal-3Z1JSX",innerModalBody:"WhatsNewModal-innerModalBody-2nc-P_",modalHeader:"WhatsNewModal-modalHeader-17zePa ModalHeader-modalHeader-1Kf9RW",modalFooter:"WhatsNewModal-modalFooter-3DGjaX ModalFooter-modalFooter-30WIB5",image:"WhatsNewModal-image-18YwXl",title:"WhatsNewModal-title-15Zfa9",copyContainer:"WhatsNewModal-copyContainer-2A-E6v",copy:"WhatsNewModal-copy-VU0yei",okButton:"WhatsNewModal-okButton-26ylQH Button-button-2kT68l Link-link-2n0yJn",footer:"WhatsNewModal-footer-24jCY_"}},IbpV:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("+X4A");function l(e,t={}){return e.get("isLocal")?function(e){return i.a.Deferred().resolve(e).promise()}(e):function(e,t={}){const{urlPath:a="",params:n={},type:r="GET"}=t,l=o.default.join([s.a.result(e,"url"),a]),c=o.default.join(l,{...n,repeat:e.get("repeat")?1:0,own:e.get("own")?1:0,includeChapters:1,includeMarkers:1,includeGeolocation:1,includeExternalMedia:1}),d=e.provider.getXHROptions(c,{type:r}),u=e.get("playQueueSelectedItemID");return e.set("isUpdatePending",!0),i.a.ajax(d).promise().then(t=>{e.get("own")&&"shuffle"!==a&&"unshuffle"!==a&&u&&(u!==e.get("playQueueSelectedItemID")||u!==e.parseResponse(t).playQueueSelectedItemID)||e.set(e.parse(t));const n=e.get("playQueueItems"),r=e.get("currentIndex");return r>=0&&r<n.length?i.a.Deferred().resolve(e).promise():i.a.Deferred().reject("ERROR_PLAY_QUEUE_INDEX_INVALID").promise()},()=>i.a.Deferred().reject("ERROR_PLAY_QUEUE_COULD_NOT_POPULATE").promise()).always(()=>{e.set("isUpdatePending",!1)})}(e,t)}},IjFk:function(e,t,a){e.exports={placeholder:"QuickSearchPlaceholderLink-placeholder-1Wxzp6",isPlaceholderSelected:"QuickSearchPlaceholderLink-isPlaceholderSelected-rDCpKm"}},IlPc:function(e,t,a){e.exports={remotePlayerName:"RemotePlayerMenuItems-remotePlayerName-L2owql",remoteProduct:"RemotePlayerMenuItems-remoteProduct-3K34_6",remotePlayerProduct:"RemotePlayerMenuItems-remotePlayerProduct-3Xx8U1",menuItemSubtitle:"RemotePlayerMenuItems-menuItemSubtitle-102JIU",emptyMessage:"RemotePlayerMenuItems-emptyMessage-_vLf31",disconnectIcon:"RemotePlayerMenuItems-disconnectIcon-3DaqB7"}},Ioaq:function(e,t,a){e.exports={sourceLink:"HomeSourceLink-sourceLink-2PwRKn SourceSidebarLink-sourceLink-307kPL"}},IpeH:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("cgRT");function i(){return Object(n.c)("settingFinder").find("volume")}},IqAM:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("EVdn"),i=a.n(n),r=a("Q0ne");function s(e,t){const a=e.get("serverShares");return a?Object(r.a)(a.map(e=>e.fetch({merge:!0,scope:t}))):i.a.Deferred().resolve().promise()}},IqTc:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("N6j3");function i(e){return Object(n.a)(e.get("user").get("features").getState())}},IsoN:function(e,t,a){e.exports={content:"SearchPageContent-content-2wx4DB HomePageContent-content-3x2Kyr PageContent-innerPageContent-3ktLTA"}},Ivly:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("k9ft"),s=a("EC8F"),o=i.a.extend({},s.a,{type:"video",qualities:{bitrate:[64,96,208,320,720,1500,2e3,3e3,4e3,8e3,1e4,12e3,2e4],videoResolution:["220x128","220x128","284x160","420x240","576x320","720x480","1280x720","1280x720","1280x720","1920x1080","1920x1080","1920x1080","1920x1080"],videoQuality:[10,20,30,30,40,60,60,75,100,60,75,90,100]},getAvailableQualitiesFor(e,t,a){if(!e||!t)return[];if(Array.isArray(e)||(e=[e]),0===e.length)return[];const n=t.get("transcoderVideo"),s=t.get("transcoderVideoRemuxOnly"),o=this.getMaximumResolution(e);if(!n||s||!o)return[];const l=t.get("maxUploadBitrate"),c=i.a.extend({},a,{comparator:function(e){if(l&&this.qualities.bitrate[e]>l)return!0;const t=this.qualities.videoResolution[e].split("x");return Object(r.a)(t[0],t[1])>o}});return this.getAvailableQualities(c)},getBestAvailableQuality:function(e,t){return 0===t.length?o.ORIGINAL:t.find(t=>t.index===e.index)?e.index:i.a.last(t).index},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)},getMinimumQuality:function(e,t){return(e===o.ORIGINAL?Number.MAX_VALUE:e)<(t===o.ORIGINAL?Number.MAX_VALUE:t)?e:t},getMaximumQuality:function(e,t){return this.getMinimumQuality(e,t)===e?t:e},getMaximumResolution:function(e){return e.reduce((function(e,t){if(!t.width&&!t.height)return e;const a=Object(r.a)(t.width,t.height);return null===e||a>e?a:e}),null)},isExplicitQuality:function(e){return e!==o.ORIGINAL&&e!==o.CONVERT_AUTOMATICALLY}});t.a=o},"J/RP":function(e,t,a){e.exports={container:"PageHeaderTitle-container-2-Lq-0",containerWithRoute:"PageHeaderTitle-containerWithRoute-3iGmXW PageHeaderTitle-container-2-Lq-0",title:"PageHeaderTitle-title-2ui-TL",detail:"PageHeaderTitle-detail-2k7SgN"}},J4LB:function(e,t,a){e.exports={container:"MetadataWidePosterListItem-container-34PGnF",card:"MetadataWidePosterListItem-card-20dLcQ PosterCard-card-VhPkOe",placeholderCard:"MetadataWidePosterListItem-placeholderCard-3B_1GE MetadataPosterCardPlaceholder-placeholder-3jI6Xi PosterCard-card-VhPkOe",placeholderTitle:"MetadataWidePosterListItem-placeholderTitle-2hFGNN",placeholderSubtitle:"MetadataWidePosterListItem-placeholderSubtitle-Uc3eL8 MetadataWidePosterListItem-placeholderTitle-2hFGNN",titlesContainer:"MetadataWidePosterListItem-titlesContainer-k60Epd",title:"MetadataWidePosterListItem-title-3KewqL",doubleTitle:"MetadataWidePosterListItem-doubleTitle-3FCz2o MetadataWidePosterListItem-title-3KewqL",subtitle:"MetadataWidePosterListItem-subtitle-2YnzNH MetadataWidePosterListItem-title-3KewqL",cardShimmer:"MetadataWidePosterListItem-cardShimmer-2W_cxh"}},J7Rr:function(e,t,a){e.exports={container:"PlaylistItemMetadata-container-2NWQH2",transientTitleLeft:"PlaylistItemMetadata-transientTitleLeft-3qVWpm PlaylistItemMetadata-transientTitle-2Qo_VZ",button:"PlaylistItemMetadata-button-mjGjCU",cardContainer:"PlaylistItemMetadata-cardContainer-7tc0mg",card:"PlaylistItemMetadata-card-2mWmPP QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6",indexContainer:"PlaylistItemMetadata-indexContainer-fnl6eJ",titlesContainer:"PlaylistItemMetadata-titlesContainer-964Lec",durationContainer:"PlaylistItemMetadata-durationContainer-yQA2Vd",downloadIcon:"PlaylistItemMetadata-downloadIcon-3CngSd DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj",attributionContainer:"PlaylistItemMetadata-attributionContainer-3xQOQf SourceBadge-container-3OfQBW",transientTitle:"PlaylistItemMetadata-transientTitle-2Qo_VZ",transientTitleRight:"PlaylistItemMetadata-transientTitleRight-3KEzxj PlaylistItemMetadata-transientTitle-2Qo_VZ",playButton:"PlaylistItemMetadata-playButton-2Nx0Mi PlayButton-playButton-3WX8X- PlaylistItemMetadata-button-mjGjCU",equalizer:"PlaylistItemMetadata-equalizer-3_dxgr EqualizerIcon-equalizer-2SoFA6"}},J9Q8:function(e,t,a){e.exports={container:"ChartTooltip-container-3qn8Yf",separator:"ChartTooltip-separator-3cEIac",LegendLabel:"ChartTooltip-LegendLabel-11wpbJ LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",legendLabel:"ChartTooltip-LegendLabel-11wpbJ LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",label:"ChartTooltip-label-2Ez54j",values:"ChartTooltip-values-AlrdzX",valueRow:"ChartTooltip-valueRow-2OZ4lo",total:"ChartTooltip-total-2SwEHi"}},JFSz:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{},'<ul class="js-file-list-items list browse-directory-list"></ul> <div class="js-file-list-truncated-message css-file-list-truncated-message"></div> '}))},JHYu:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("B69o"),s=a("Q3JP"),o=a("ONsB");const l=r.a.extend({name:"FirstCharacterCollection",context:["server","provider","section"],model:o.a,responseType(){return Object(s.a)(this.server)},url(){const e=i.a.result(this.section,"url")+"/firstCharacter",t=this.getUrlParams();return t?e+"?"+t:e},getUrlParams(){const e={},t=[],a=this.section.get("currentType");a&&(e.type=a.id);const n=this.section.get("currentFilters");return i.a.each(n,t=>{t.values.length&&(e[t.key]=t.values.join(","))}),i.a.each(e,(a,n)=>{"unviewedLeafCount"===n?t.push(`${n}>=${e[n]}`):t.push(`${n}=${e[n]}`)}),t.join("&")}});t.a=l},JHeM:function(e,t,a){"use strict";a.r(t);var n=a("sWYD"),i=a("RgJi");t.default=function(e,t="MMMM d, yyyy"){return e?Object(n.a)(Object(i.a)(e),t):""}},JImT:function(e,t,a){"use strict";var n=a("G4qV"),i=a("X7Ko");const r=Object(n.a)(i.a,e=>e.watchTogetherRooms||{});t.a=r},JKRp:function(e,t,a){e.exports={sliderContainer:"SliderInputGroup-sliderContainer-2Dx08D input-input-1P2Vi4",slider:"SliderInputGroup-slider-1x6JAX Slider-slider-2oLVTs",sliderValue:"SliderInputGroup-sliderValue-2oLooy"}},JMV9:function(e,t,a){"use strict";t.a={gracenoteAttribution:"1.21.1",firstCharacterKeySortDirection:"1.20.4",pivotIDs:"1.20.4",freeLiveTVDVRSettings:"1.20.2",augmentedHubsInRelatedHubs:"1.19.5",simpleRelatedKey:"1.19.2",plexMusicUpgrade:"1.18.0",libraryUpdateActivity:"1.16.5",contentDirectoryID:"1.18.0.1892",addProviderContentToLibrary:"1.15.4.993",transientTokenProxy:"1.15.4",dashboardRAMChart:"1.15.3",dashboardCPUChart:"1.15.2",playHistoryDevices:"1.15.2",playHistory:"1.15.1",enhancedSessionDetails:"1.15.1",sessionJSON:"1.15.1",dashboardTopPlayedChart:"1.14.1",dashboardBandwidthChart:"1.14.1",mediaProvidersServerRoot:"1.13.10",streamDisplayTitles:"1.13.8",bundledWebAppNewSettingsRoutes:"1.13.8",saveInlineSectionSettings:"1.13.4",softSubtitlesWithDirectPlay:"1.13.4",channelGrid:"1.13.2.5081",typeFirst:"1.12.1",photoTagEdit:"1.11.1",sharedUserNotifications:"1.11.1",adaptiveBitrateFallback:"1.9.5",truePlaylistsPath:"1.9.3",multiplePlaylistTypes:"1.7.1",itemClusters:"1.5.4",optimizeDatabaseActivity:"1.4.2",asyncCheckFiles:"1.4.0",json:"1.8.0",libraryDeleteActivity:"1.2.1",cleanBundlesActivity:"1.2.1",allowBlacklistedMethodHeaders:"1.2.1",decisionEndpoint:"1.0.3",defaultSections:"0.9.17.3",ownerFeatures:"0.9.17.0",replaceTranscodeTarget:"0.9.17.0",quickSearch:"0.9.16.0",relay:"0.9.15.0",claimServer:"0.9.14.2",searchSpecificType:"0.9.14.2",linkedYearMetadata:"0.9.14.0",streamReady:"0.9.14.0",syncOriginalQuality:"0.9.14.0",allPartsStreamSelection:"0.9.12.5",sharedChannels:"0.9.12.5",shortenTranscodeURL:"0.9.12.5",companionProxy:"0.9.12.5",editSimilarArtists:"0.9.12.2",neuterRedirect:"0.9.12.0",audioAsVideo:"0.9.12.0",compositeDelete:"0.9.12.0",batchEdit:"0.9.12.0",premiumMusic:"0.9.12.0",transientToken:"0.9.12.0",softSubtitles:"0.9.12.0",sharedSyncStatus:"0.9.11.14",reachability:"0.9.11.14",photoPlayQueues:"0.9.11.12",publicNowPlaying:"0.9.11.3",labels:"0.9.11.2",updater:"0.9.11.1",playItemsBatchAdd:"0.9.9.16",playlists:"0.9.9.13",imageFilters:"0.9.9.13",hubFilterSigns:"0.9.9.12",cancelAllUpdates:"0.9.9.10",playQueues:"0.9.9.6",sectionSettings:"0.9.9.6",hubFilters:"0.9.9.2",streamingMKV:"0.9.9.16",chunkedHTTP:"0.9.9.3",sharedSync:"0.9.9.3",dash:"0.9.8.6",specificMediaDeletion:"0.9.7.23",sharedSettings:"0.9.7.23",syncNotifications:"0.9.7.23",universalMusicTranscoder:"0.9.8.3",universalTranscoder:"0.9.7.17",sync:"0.9.7.10",artworkUpload:"0.9.7.9",firstRunPref:"0.9.7.3",timelineState:"0.9.7.2",cleanBundles:"0.9.7.0",advancedFilters:"0.9.7.0",search:"0.9.7.0",merge:"0.9.7.0",splitApart:"0.9.7.0"}},JQa6:function(e,t,a){e.exports={rightTitle:"PrePlayAttributionTitle-rightTitle-3S6QtD PrePlayRightTitle-rightTitle-3oK12x",attributionLogo:"PrePlayAttributionTitle-attributionLogo-3G1f_z"}},JUjL:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("bcER"),s=a("/No1");t.a=function(e){const t=r.a.get("audio").id,a=Object(s.a)(e,{streamType:t,selected:!0});return i.a.first(a)}},JVak:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("slDQ");const s={fetch(){return Object(r.a)(!1,"A model or collection with a controlled populate promise cannot be fetched directly"),this.populatePromise},isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},_resetPopulate(){return this.isPopulating()||(this._populateDeferred=i.a.Deferred(),this.populatePromise=this._populateDeferred.promise()),this.populatePromise},_resolvePopulate(){return"resolved"===this.populatePromise.state()||("rejected"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.resolveWith(this,[this])),this.populatePromise},_rejectPopulate(){return"rejected"===this.populatePromise.state()||("resolved"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.rejectWith(this,[this])),this.populatePromise}};t.a=s},JW6f:function(e,t,a){e.exports={hub:"PhotoHub-hub-3ROVkK",container:"PhotoHub-container-2-eNSV",body:"PhotoHub-body-2A7LSr",overlay:"PhotoHub-overlay-1cF_Sl",title:"PhotoHub-title-1Js3ET",count:"PhotoHub-count-30JDLw",icon:"PhotoHub-icon-1yZ1em"}},JbXI:function(e,t,a){e.exports={actions:"MetadataMomentCell-actions--ESOoE",selectButton:"MetadataMomentCell-selectButton-2JUtis SelectButton-selectButton-3Kbjm9",title:"MetadataMomentCell-title-RqYT09",header:"MetadataMomentCell-header-3vgVay",hasSelection:"MetadataMomentCell-hasSelection-3g1dLr"}},Jdyf:function(e,t,a){e.exports={disabled:"ServerSettingsServerMenuItem-disabled-PIAsvm",friendlyName:"ServerSettingsServerMenuItem-friendlyName-2eYIlv",details:"ServerSettingsServerMenuItem-details-soe_sv",icon:"ServerSettingsServerMenuItem-icon-3bTVtt"}},JgKN:function(e,t,a){e.exports={concert:"PrePlayConcert-concert-2d4lOH",concertCalendar:"PrePlayConcert-concertCalendar-1FILvy",concertMonth:"PrePlayConcert-concertMonth-2qln2a",concertDay:"PrePlayConcert-concertDay-zNEEhM",concertDetails:"PrePlayConcert-concertDetails-_iXFvZ",concertTitle:"PrePlayConcert-concertTitle-2O-pNp",concertLocation:"PrePlayConcert-concertLocation-3ltdCq"}},Jig8:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));const n="html",i=[n,"mpv","samsung_avplay","webmaf_video_player"]},JjHc:function(e,t,a){e.exports={button:"SourceSidebarLink-button-1Qe470 SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",isDim:"SourceSidebarLink-isDim-1Fd4hr",title:"SourceSidebarLink-title-1lgRT2 SidebarLink-title-2vaAAn",iconContainer:"SourceSidebarLink-iconContainer-2M-FOW SidebarLink-icon-34JWqs",isDisabled:"SourceSidebarLink-isDisabled-3NPqYK SourceSidebarLink-isDim-1Fd4hr",isSelected:"SourceSidebarLink-isSelected-27-9-6",isActive:"SourceSidebarLink-isActive-2_QExr",sourceLink:"SourceSidebarLink-sourceLink-307kPL",titles:"SourceSidebarLink-titles-uoVrTb",detail:"SourceSidebarLink-detail-32x4Iq",small:"SourceSidebarLink-small-3s6oyr",medium:"SourceSidebarLink-medium-3t-Vhv"}},Jjk7:function(e,t,a){e.exports={menuItemContainer:"DisclosureFilterMenuItem-menuItemContainer-1RE7kj SelectedMenuItem-menuItemContainer-2hXIr-",menuLabel:"DisclosureFilterMenuItem-menuLabel-PotHcG SelectedMenuItem-menuLabel-2fp2lo",spinner:"DisclosureFilterMenuItem-spinner-3b1fH8 Spinner-spinner-1qRM4t spin-spin-2kLwt_",selectedIcon:"DisclosureFilterMenuItem-selectedIcon-32bEp3 SelectedMenuItem-selectedIcon-20Yx1_",isSelected:"DisclosureFilterMenuItem-isSelected-19NpBK"}},JkX4:function(e,t,a){e.exports={container:"AudioVideoPlayQueueItem-container-2_nsgE",moveControls:"AudioVideoPlayQueueItem-moveControls-1M6Iyd",removeControls:"AudioVideoPlayQueueItem-removeControls-1XM62U",metadataDurationContainer:"AudioVideoPlayQueueItem-metadataDurationContainer-184JwM AudioVideoPlayerPlayQueueMetadata-durationContainer-2dgI92",sourceText:"AudioVideoPlayQueueItem-sourceText-1oT-kA SourceBadge-text-Y8yYEa",metadataContainer:"AudioVideoPlayQueueItem-metadataContainer-w326I_ AudioVideoPlayerPlayQueueMetadata-container-sM2h0v",leftContainer:"AudioVideoPlayQueueItem-leftContainer-2xVS6L",removeButton:"AudioVideoPlayQueueItem-removeButton-4gx_SM IconButton-button-9An-7I",opacity20Percent:"AudioVideoPlayQueueItem-opacity20Percent-1Ji9Ja",opacity40Percent:"AudioVideoPlayQueueItem-opacity40Percent-2CWePI",opacity60Percent:"AudioVideoPlayQueueItem-opacity60Percent-1HxnMy",opacity80Percent:"AudioVideoPlayQueueItem-opacity80Percent-JMAlXg",isCurrentItem:"AudioVideoPlayQueueItem-isCurrentItem-3g1KW-",isItemDragging:"AudioVideoPlayQueueItem-isItemDragging-1lnodd"}},Jl0g:function(e,t,a){e.exports={slider:"AudioSettings-slider-2uCoXx Slider-slider-2oLVTs"}},JrF9:function(e,t,a){e.exports={selectButtonContainer:"RowSelectButton-selectButtonContainer-3pOaEw",selectButton:"RowSelectButton-selectButton-1qCTNM SelectButton-selectButton-3jGXzS Link-link-2ew_DK",isVisible:"RowSelectButton-isVisible-1MFNNR"}},Jrrk:function(e,t,a){e.exports={container:"ChannelsGridTimeline-container-3dKF2q",dayContainer:"ChannelsGridTimeline-dayContainer-22VllU",labelContainer:"ChannelsGridTimeline-labelContainer-3JCH3a",label:"ChannelsGridTimeline-label-368pi8",navigationButtons:"ChannelsGridTimeline-navigationButtons-3GtRvh",navigationButton:"ChannelsGridTimeline-navigationButton-2oRTOG"}},JwlK:function(e,t,a){"use strict";a.r(t);var n=a("B69o"),i=a("uNiD");const r=n.a.extend({name:"QueryRuleCollection",model:i.a});t.default=r},JzmK:function(e,t,a){"use strict";var n=a("i7Pf"),i=a("qKkM"),r=a("gZLj");const s=Object(n.c)({name:"metadataItemState",initialState:{},reducers:{metadataItemStatesNormalized(e,{payload:t}){Object.assign(e,t.metadataItemStates)},playedStatusUpdateRequested(e,{payload:t}){const{sourceURI:a,played:n}=t,i=e[a];if(i){const{viewedLeafCount:e,unviewedLeafCount:t,viewCount:a,viewOffset:r,tempState:s}=i;s.viewedLeafCount=e,s.unviewedLeafCount=t,s.viewCount=a,s.viewOffset=r,null!=t&&null!=e?(i.viewedLeafCount=n?t+e:0,i.unviewedLeafCount=n?0:t+e):(i.viewCount=n?(i.viewCount||0)+1:0,i.viewOffset=0)}},playedStatusUpdateSucceeded(e,{payload:t}){const{sourceURI:a}=t,n=e[a];if(n){const{tempState:e}=n;e.viewedLeafCount=void 0,e.unviewedLeafCount=void 0,e.viewCount=void 0,e.viewOffset=void 0,n.isStale=!0}},playedStatusUpdateFailed(e,{payload:t}){const a=e[t.sourceURI];if(a){const{tempState:e}=a;a.viewedLeafCount=e.viewedLeafCount,e.viewedLeafCount=void 0,a.unviewedLeafCount=e.unviewedLeafCount,e.unviewedLeafCount=void 0,a.viewCount=e.viewCount,e.viewCount=void 0,a.viewOffset=e.viewOffset,e.viewOffset=void 0}},rateRequested(e,{payload:t}){const a=e[t.sourceURI];if(a){const{lastRatedAt:e,userRating:n,tempState:i}=a,r=-1===t.rating;i.lastRatedAt=e,i.userRating=n,a.lastRatedAt=r?void 0:Date.now(),a.userRating=r?void 0:t.rating}},rateSucceeded(e,{payload:t}){const a=e[t.sourceURI];if(a){const{tempState:e}=a;e.lastRatedAt=void 0,e.userRating=void 0}},rateFailed(e,{payload:t}){const a=e[t.sourceURI];if(a){const{tempState:e}=a;a.lastRatedAt=e.lastRatedAt,e.lastRatedAt=void 0,a.userRating=e.userRating,e.userRating=void 0}},toggleWatchlistRequested(e,{payload:t}){const a=e[t.sourceURI];if(a){const{watchlistedAt:e,tempState:n}=a;n.watchlistedAt=e,a.watchlistedAt=t.added?Date.now():void 0}},toggleWatchlistSucceeded(e,{payload:t}){const a=e[t.sourceURI];if(a){const{tempState:e}=a;e.watchlistedAt=void 0,a.isStale=!0}},toggleWatchlistFailed(e,{payload:t}){const a=e[t.sourceURI];if(a){const{tempState:e}=a;a.watchlistedAt=e.watchlistedAt,e.watchlistedAt=void 0}},toggleSavedRequested(e,{payload:t}){const a=e[t.sourceURI];if(a){const{saved:e,tempState:n}=a;n.saved=e,a.saved=t.saved}},toggleSavedSucceeded(e,{payload:t}){const a=e[t.sourceURI];if(a){const{tempState:e}=a;e.saved=void 0,a.isStale=!0}},toggleSavedFailed(e,{payload:t}){const a=e[t.sourceURI];if(a){const{tempState:e}=a;a.saved=e.saved,e.saved=void 0}},streamSelectRequested(e,t){},streamSelectSucceeded(e,{payload:t}){const a=e[t.sourceURI];a&&(a.isStale=!0)},streamSelectFailed(e,{payload:t}){const a=e[t.sourceURI];a&&(a.isStale=!0)},streamDeleteRequested(e,{payload:t}){const a=e[t.sourceURI];a&&(a.isStreamDeletePending=!0)},streamDeleteSucceeded(e,{payload:t}){const a=e[t.sourceURI];a&&(a.isStreamDeletePending=!1,a.isStale=!0)},streamDeleteFailed(e,{payload:t}){const a=e[t.sourceURI];a&&(a.isStreamDeletePending=!1)},metadataProcessed(e,{payload:t}){const a=e[t.sourceURI];a&&(a.isStale=!0)},fetchRequested(e,{payload:t}){var a;const n=null!=(a=e[t.sourceURI])?a:{tempState:{},isPending:!0,isPopulated:!1,error:null,isStale:!1};Object(r.c)(n),e[t.sourceURI]=n},fetchSucceeded(e,{payload:t}){const a=e[t.sourceURI];a&&(Object.assign(a,t.metadataItemState),Object(r.d)(a))},fetchFailed(e,{payload:t}){const a=e[t.sourceURI];a&&Object(r.b)(a,t.error)},fetchCancelled(e,{payload:t}){const a=e[t.sourceURI];a&&Object(r.a)(a)},repopulateRequested(e,{payload:t}){const a=e[t.sourceURI];a&&(a.isStale=!0)},repopulateCanceled(e,{payload:t}){const a=e[t.sourceURI];a&&(a.isStale=!1)},deleted(e,{payload:t}){const a=e[t.sourceURI];a&&(a.deletedAt=Date.now(),a.isDeleted=!0)},preferenceChanged(e,{payload:t}){const a=e[t.sourceURI];a&&(a.isStale=!0)},addToLibraryRequested(e,t){},removeFromContinueWatchingRequested(e,t){},removeFromContinueWatchingSucceeded(e,{payload:t}){const a=e[t.sourceURI];a&&(a.isStale=!0)}},extraReducers:e=>{e.addCase(i.a.actions.added,(e,{payload:t})=>{Object.assign(e,t.metadataItemStates)}),e.addCase(i.a.actions.fetchRangeSucceeded,(e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)}),e.addCase(i.a.actions.fetchAllSucceeded,(e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)}),e.addCase(i.a.actions.repopulateRangeSucceeded,(e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)})}});t.a=s},"K/Mj":function(e,t,a){e.exports={device:"DVRDevice-device-3IwH66",details:"DVRDevice-details-F9a0My",modelContainer:"DVRDevice-modelContainer-3qwvJt",model:"DVRDevice-model-1unSm8",deviceSettingsButton:"DVRDevice-deviceSettingsButton-2W-U0I Link-link-2n0yJn",deviceSettingsIcon:"DVRDevice-deviceSettingsIcon-wNdKgV",uri:"DVRDevice-uri-2Vhv07",deviceWarning:"DVRDevice-deviceWarning-UAoFis",deviceWarningIconContainer:"DVRDevice-deviceWarningIconContainer-29K1lz",separator:"DVRDevice-separator-2sIVzr DashSeparator-separator-4CyEFW",info:"DVRDevice-info-kn53L2",removeDeviceContainer:"DVRDevice-removeDeviceContainer-2W5hIO",removeDevice:"DVRDevice-removeDevice-3N-rDk"}},K5nX:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-9"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Captured Time",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.capturedTime),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},K5wW:function(e,t,a){e.exports={help:"ProviderSettingLineupFormSection-help-3F6fO4 FormHelp-help-3VCuqa"}},K6Cx:function(e,t,a){e.exports={button:"MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",playButton:"MetadataPosterCardActions-playButton-8An35K PlayButton-playButton-3WX8X- MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",playCoverButton:"MetadataPosterCardActions-playCoverButton-1hdkQK PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK MetadataPosterCardActions-playButton-8An35K PlayButton-playButton-3WX8X- MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",playCircle:"MetadataPosterCardActions-playCircle-3YI1wW PlayButton-playCircle-3Evfdw MetadataPosterCardCircle-cardCircle-2NfIyT",editButton:"MetadataPosterCardActions-editButton-7FWNt8 MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",selectButton:"MetadataPosterCardActions-selectButton-EmmJlc SelectButton-selectButton-3jGXzS Link-link-2ew_DK MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",moreButton:"MetadataPosterCardActions-moreButton-3uGw5x MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",isHidden:"MetadataPosterCardActions-isHidden-17PeaH"}},K8a1:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("gnaf"),i=a("taAd");function r(e){return n.l(Object(i.a)(e.identifier,e.providerIdentifier),[n.b,n.c])}},KAMT:function(e,t,a){e.exports={row:"LibraryHubListItem-row-1frCE8",draggingRow:"LibraryHubListItem-draggingRow-fZVUZI LibraryHubListItem-row-1frCE8",handle:"LibraryHubListItem-handle-yJLNqk",title:"LibraryHubListItem-title-28bDMj",inputs:"LibraryHubListItem-inputs-2Fxg1A",input:"LibraryHubListItem-input-AjxD-w"}},KDda:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n);t.a=function(e,t){const a=i.a.groupBy(e,e=>e.advanced||t&&t.has(e.id)?"advanced":"basic");return a.basic=i.a.indexBy(a.basic,"id"),a}},KEDo:function(e,t,a){"use strict";a.d(t,"d",(function(){return y})),a.d(t,"e",(function(){return f})),a.d(t,"f",(function(){return b})),a.d(t,"g",(function(){return v})),a.d(t,"a",(function(){return I})),a.d(t,"b",(function(){return S})),a.d(t,"c",(function(){return E})),a.d(t,"h",(function(){return O}));var n=a("kwss"),i=a("DdRF"),r=a("QNOv"),s=a("tNwU"),o=a("+Mxn"),l=a("1Lwt");function c(e){const t=e.get("captureBuffer");return t&&t.startedAt}function d(e){return e.get("currentPosition")}function u(e){const t=e.get("liveTVSession");return e.get("liveTVSession")?d(t):0}function p(e){const t=e.get("liveTVSession"),a=t.get("captureBuffer");if(a){const{startedAt:e,seekStartSeconds:t,seekEndSeconds:n}=a;return{seekStartSeconds:e+t,seekEndSeconds:e+n}}const n=t.get("startedAt");return{seekStartSeconds:n+e.get("seekStartSeconds"),seekEndSeconds:n+e.get("seekEndSeconds")}}function m(e){const t=d(e);if(!t)return;const a=e.get("timeline");for(let e=0;e<a.length;e++){const n=[...a.at(e).get("Media")].sort((e,t)=>e.endsAt-t.endsAt);for(let e=0;e<n.length;e++){const a=n[e],{beginsAt:i,endsAt:r}=a;if(i<=t&&r>t)return a}}}function h(e,t){const a=u(e),n=p(e).seekEndSeconds;return a?Math.min(n,a+t):void 0}function g(e,t){const a=u(e),n=p(e).seekStartSeconds;return a?Math.max(n,a-t):void 0}function y(e){return g(e,s.c)}function f(e){return h(e,s.d)}function b(e){return g(e,s.e)}function v(e){return h(e,s.f)}function I(e){const t=e.get("liveTVSession");if(!e.get("liveTVSession"))return;const a=p(e).seekEndSeconds,n=m(t);return n?Math.min(a,n.endsAt):void 0}function S(e){const t=e.get("liveTVSession");if(!e.get("liveTVSession"))return;const a=p(e).seekStartSeconds,n=d(t),i=m(t);if(!i)return;if(n-i.beginsAt>s.a)return Math.max(a,i.beginsAt);const r=function(e){const t=d(e);if(!t)return;const a=e.get("timeline");for(let e=a.length-1;e>=0;e--){const n=[...a.at(e).get("Media")].sort((e,t)=>e.endsAt-t.endsAt);for(let e=n.length-1;e>=0;e--){const a=n[e];if(a.endsAt<=t)return a}}}(t);return r?Math.max(a,r.beginsAt):void 0}function E(e,t){1===arguments.length&&(t=e.get("currentPosition"));const a=c(e)||e.get("startedAt");return t-a}function O(e,t,a,s){if(null==a)return;const c=Object(i.a)(e),d=Object(o.c)(e,t),u=d.get("liveTVSession"),p=u.get("startedAt");Object(l.a)(()=>{if(u.set({currentPosition:a,lastSeekPosition:a}),function(e,t){const a=e.get("currentDecision");if(!a||a.isDirectPlay)return!1;const i=e.get("liveTVSession"),r=i.get("startedAt");if(!i.get("captureBuffer"))return!1;if(n.a.shouldCreateNewSessionWhenSeekingLiveTV)return!0;const s=r+e.get("seekStartSeconds"),o=r+e.get("seekEndSeconds");return!(t>=s&&t<=o)}(d,a))u.set({startedAt:a}),s(Object(r.e)({playerType:t,decisionOptions:{offset:1e3*E(u)}}));else{const e=Math.max(a-p,0);c.seek(d,e)}})}},KEW7:function(e,t,a){e.exports={outerContainer:"MediaOverlays-outerContainer-2Cktvz",innerContainer:"MediaOverlays-innerContainer-3XcnEA",horizontal:"MediaOverlays-horizontal-27EYNq",vertical:"MediaOverlays-vertical-3ZV2RT",overlay:"MediaOverlays-overlay-hl37n8",northwest:"MediaOverlays-northwest-3IkDS_ MediaOverlays-horizontal-27EYNq",north:"MediaOverlays-north-2yVkMi MediaOverlays-horizontal-27EYNq",northeast:"MediaOverlays-northeast-2M4-Kb MediaOverlays-horizontal-27EYNq",east:"MediaOverlays-east-13wz-R MediaOverlays-vertical-3ZV2RT",southeast:"MediaOverlays-southeast-3EFh4V MediaOverlays-horizontal-27EYNq",south:"MediaOverlays-south-3P7w99 MediaOverlays-horizontal-27EYNq",southwest:"MediaOverlays-southwest-3R8EK- MediaOverlays-horizontal-27EYNq",west:"MediaOverlays-west-1SBS_Z MediaOverlays-vertical-3ZV2RT",center:"MediaOverlays-center-26LspU MediaOverlays-horizontal-27EYNq"}},KHus:function(e,t,a){e.exports={tag:"MetadataFollowMuteTag-tag-2CoGQF",tagText:"MetadataFollowMuteTag-tagText-2sa_RS",icon:"MetadataFollowMuteTag-icon-sFuVhK",isFollowed:"MetadataFollowMuteTag-isFollowed-1q9G0Y",isMuted:"MetadataFollowMuteTag-isMuted-2XZVIW"}},KKL4:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n);const r=a("Dsr7").a.extend({maxCycles:5,maxSize:100,getItemCacheKey:function(e,t){if(i.a.isFunction(e.cacheKey))return t||(t=e.toJSON()),e.cacheKey(t)}});t.a=r},KN9C:function(e,t,a){e.exports={buttons:"WebhookFormSection-buttons-1bW9AT",button:"WebhookFormSection-button-2hUeXy",dangerButton:"WebhookFormSection-dangerButton-1Hm32l",label:"WebhookFormSection-label-1llL2- FormLabel-label-2aLJ9b CloseableFormSection-isPressable-3BPTnc"}},KR2X:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("zTsO");const i=["free"];function r(e,t){const a=t&&t.requires;if(!a)return!0;if(a===n.r)return!e.anonymous;const r=e.services[a];return!!r&&!i.includes(r.subscriptionType)}},KYea:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r}));const n=Object.keys,i=Object.values,r=Object.entries},Kao6:function(e,t,a){e.exports={dismiss:"PromotionWarningModal-dismiss-22MKWM"}},KcGe:function(e,t,a){e.exports={rightTitle:"PrePlayRightTitle-rightTitle-VxiwUS"}},Khyo:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return u}));var n=a("F/us"),i=a.n(n),r=a("htvf"),s=(a("qpNu"),a("+X4A")),o=a("zLeb");var l={bindToModel:function(){this.bindings&&i.a.each(i.a.keys(this.bindings),(function(e){const t=this.bindings[e];let a;if(a=t.model?this[t.model]:this[this.bindingsModel]||this.model,!a)return;const n=t.modelListeners||[t.modelAttribute];i.a.each(n,(function(n){const r={obj:a,name:"change:"+n,callback:i.a.bind(this.renderBinding,this,e,t,a)};this._bindingListeners||(this._bindingListeners=[]),this._bindingListeners.push(r),this.listenTo(r.obj,r.name,r.callback)}),this),this.renderBinding(e,t,a)}),this)},unbindFromModel:function(){this.bindings&&(i.a.each(this._bindingListeners,(function(e){this.stopListening(e.obj,e.name,e.callback)}),this),this._bindingListeners=null)},renderBinding:function(e,t,a){const n=this.$(e),r=t.formatter,s=!!t.isHtml,o=t.autohide,l=t.hiddenClass||"hidden";let c=a.get(t.modelAttribute);if(r&&(c=r.call(this,c,n)),o){const e=i.a.isFunction(o)?o.call(this,c):c;n.toggleClass(l,!e)}t.manual||(!s&&i.a.isString(c)&&(c=i.a.escape(c)),n.html(c))}};function c(e){const t={},a=i.a.result(e,"responseType");return a&&a.accept&&(t.Accept=a.accept),t}const d=3e4,u=6e4,p=a.n(o).a.noConflict(),m=p.sync;p.sync=function(e,t,{url:a,data:n,headers:r,...o}){const l=function(e,t){return t.server?t.server:e.getXHROptions?e:e.provider?e.provider:e.server?e.server:e}(t,o),p=a||i.a.result(t,"syncUrl")||i.a.result(t,"url"),h=i.a.isObject(n)?s.default.stringifyParams(n):n,g=!!h&&h.indexOf("checkFiles=1")>-1;let y={data:h,dataType:"text",processData:!1,headers:i.a.extend(c(t),r),timeout:g?u:d,...o};return i.a.isFunction(l.getXHROptions)?y=l.getXHROptions(p,y):y.url=p,m(e,t,y)},p.wrapError=function(e,t){const a=t.error;t.error=function(n){a&&a(e,n,t),e.trigger("error",e,n,t)}},i.a.extend(p.View.prototype,l),[p.Model,p.Collection,p.Router,p.View,p.History].forEach(e=>{e.extend=r.a.extend});t.c=p},Kjiw:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var a,n="";return n+=' rows="'+c("function"==typeof(a=e&&e.rows)?a.apply(e):a)+'"'}function p(e,t){var a,n="";return n+='data-scope-to-attr="'+c("function"==typeof(a=e&&e.scopeToAttr)?a.apply(e):a)+'" data-scope-to-param="'+c("function"==typeof(a=e&&e.scopeToParam)?a.apply(e):a)+'"'}function m(e,t){var a,n="";return n+='data-rating-key="'+c("function"==typeof(a=e&&e.ratingKey)?a.apply(e):a)+'"'}return l+='<div class="form-group selectize-group" data-attr="'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'"> <label for="lockable-'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'">'+c(i(a("d8WC")).call(t,t&&t.label,{hash:{},data:s}))+'</label> <div class="input-group"> <a href="#" data-field="'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'" class="input-group-addon edit-lock-addon',((o=n.if.call(t,t&&t.locked,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return" locked"}),s),data:s}))||0===o)&&(l+=o),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> ',((o=i(a("w+Xr")).call(t,t&&t.type,"textarea",{hash:{},inverse:d.program(6,(function(e,t){var a,i="";return i+=' <input type="text" id="lockable-'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" class="form-control lockable-field" name="'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'" placeholder="'+c("function"==typeof(a=e&&e.placeholder)?a.apply(e):a)+'" ',((a=n.if.call(e,e&&e.scopeToAttr,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===a)&&(i+=a),i+=" ",((a=n.if.call(e,e&&e.ratingKey,{hash:{},inverse:d.noop,fn:d.program(9,m,t),data:t}))||0===a)&&(i+=a),i+="> "}),s),fn:d.program(3,(function(e,t){var a,i="";return i+=' <textarea class="form-control lockable-field" id="lockable-'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" name="'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'"',((a=n.if.call(e,e&&e.rows,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===a)&&(i+=a),i+=' placeholder="'+c("function"==typeof(a=e&&e.placeholder)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+"</textarea> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> </div> "}))},KluX:function(e,t,a){e.exports={rounded:"PrePlayCastList-rounded-djFPql",card:"PrePlayCastList-card-384Zo9 PosterCard-card-VhPkOe PrePlayCastList-rounded-djFPql",link:"PrePlayCastList-link-3fr1Oe PosterCardLink-link-1lt0M1 Link-link-2ew_DK PrePlayCastList-rounded-djFPql",hoveredLink:"PrePlayCastList-hoveredLink-24Qrni PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK PrePlayCastList-rounded-djFPql",titleContainer:"PrePlayCastList-titleContainer-3o8hXG",title:"PrePlayCastList-title-2wVwgJ MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",role:"PrePlayCastList-role-KogO64 PrePlayCastList-title-2wVwgJ MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X"}},KoQh:function(e,t,a){"use strict";var n=a("G4qV"),i=a("X7Ko");const r=Object(n.a)(i.a,e=>e.homeUsers);t.a=r},Kpr6:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <form id="fix-incorrect-match-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon nameplate"></i> <span class="modal-title-text"></span></h4> ',((o=n.if.call(t,t&&t.location,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=' <div class="match-location"> '+c(i(a("d8WC")).call(e,"Location",{hash:{},data:t}))+": "+c(i(a("oLRI")).call(e,e&&e.location,60,12,{hash:{},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((o=n.if.call(t,t&&t.showNavigation,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n="";return n+=' <ul class="list modal-list"> <li class="modal-list-item"><a class="search-options-btn" href="#">'+c(i(a("d8WC")).call(e,"Search Options",{hash:{},data:t}))+'</a></li> <li class="auto-match-dropdown-region modal-list-item"></li> </ul> '}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="pane-region"></div> </div> <div class="modal-footer"> <div class="match-search-actions"> <button type="button" class="cancel-btn btn btn-default">'+c(i(a("d8WC")).call(t,"Cancel",{hash:{},data:s}))+"</button> ",((o=n.if.call(t,t&&t.showNavigation,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var n="";return n+=' <button type="submit" class="search-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(e,"Search",{hash:{},data:t}))+"</span> </button> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> </div> </form> </div> </div> "}))},Kurw:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("oSTF"),s=a("9wnK"),o=a("8vbc"),l=a("Gkyr"),c=a("Zgl5"),d=a("qNMu"),u=a("VzhI"),p=a("wCAT"),m=a("cgRT"),h=a("YINS"),g=a("66GW"),y=a("Na6n"),f=a("Uia1"),b=a("IIsI"),v=a("wmCi"),I=a("dDQa"),S=a.n(I);class E extends n.Component{constructor(e,t){super(e,t),this.onCancel=()=>{Object(m.c)("metrics").trackClick({...this.props.metricsProperties,page:this.props.metricsPage,action:h.j}),this.props.onCancel()},this.onAccordChange=e=>{this.setState({isAccordGiven:e.target.checked})},this.state={isAccordGiven:!1}}shouldComponentUpdate(e,t){return Object(p.a)(this,e,t)}render(){const{containerClassName:e,isCancelButtonDisabled:t,isConfirmButtonSpinning:a,isOpen:n,metricsPage:p,metricsProperties:m,kind:I,title:E,message:O,accordMessage:M,confirmLabel:C,cancelLabel:j,hideCancelButton:D,onConfirm:P}=this.props,T=!!M,w=a||T&&!this.state.isAccordGiven;return i.a.createElement(b.a,{containerClassName:e,size:u.c,isOpen:n,metricsPage:p,metricsProperties:m,onModalClose:this.onCancel},i.a.createElement(v.a,{onModalClose:this.onCancel},i.a.createElement(c.a,null,E),i.a.createElement(s.a,{className:S.a.confirmBody},O,T?i.a.createElement("label",{className:S.a.accordLabel},i.a.createElement("input",{type:"checkbox",className:S.a.accordInput,checked:this.state.isAccordGiven,onChange:this.onAccordChange}),M):null),i.a.createElement(o.a,null,i.a.createElement(l.a,null,D?null:i.a.createElement(r.a,{className:S.a.cancelButton,kind:d.c,isDisabled:t,onPress:this.onCancel},j||Object(g.default)("Cancel")),i.a.createElement(y.a,{...m,action:h.o},i.a.createElement(f.a,{className:S.a.confirmButton,"data-autofocus":!0,kind:I,isDisabled:w,isSpinning:a,onPress:P},C||Object(g.default)("OK")))))))}}E.defaultProps={isConfirmButtonSpinning:!1,kind:d.d},t.a=E},KzEB:function(e,t,a){e.exports={tableHeader:"TableHeader-tableHeader-1_aP-y"}},L0ox:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="",l=this.escapeExpression,c=this;function d(e,t){var a,n="";return n+=' <span class="match-year">'+l("function"==typeof(a=e&&e.year)?a.apply(e):a)+'</span> <span class="match-separator">&middot;</span> '}return o+='<a class="match-result col-xs-12" href="#"> <div class="row"> <div class="col-xs-9 match-title-info"> ',((s=n.if.call(t,t&&t.parentName,{hash:{},inverse:c.program(3,(function(e,t){var a,n="";return n+=' <span class="match-name">'+l("function"==typeof(a=e&&e.name)?a.apply(e):a)+"</span> "}),r),fn:c.program(1,(function(e,t){var a,n="";return n+=' <span class="match-name">'+l("function"==typeof(a=e&&e.parentName)?a.apply(e):a)+'</span> &ndash; <span class="match-name">'+l("function"==typeof(a=e&&e.name)?a.apply(e):a)+"</span> "}),r),data:r}))||0===s)&&(o+=s),o+=" ",((s=n.if.call(t,t&&t.disambiguationInfo,{hash:{},inverse:c.noop,fn:c.program(5,(function(e,t){var a,n="";return n+=' — <span class="match-disambiguation-info">'+l("function"==typeof(a=e&&e.disambiguationInfo)?a.apply(e):a)+"</span> "}),r),data:r}))||0===s)&&(o+=s),o+=" </div> ",((s=n.if.call(t,t&&t.normalizedScore,{hash:{},inverse:c.program(10,(function(e,t){var a,n="";return n+=' <div class="col-xs-3 match-score-info"> <span class="match-year">'+l("function"==typeof(a=e&&e.year)?a.apply(e):a)+"</span> </div> "}),r),fn:c.program(7,(function(e,t){var i,r,s="";return s+=' <div class="col-xs-3 match-score-info" title="'+l((r=a("d8WC"),r&&(r.__esModule?r.default:r)).call(e,"Score {1}",e&&e.escapedNormalizedScore,{hash:{},data:t}))+'"> ',((i=n.if.call(e,e&&e.year,{hash:{},inverse:c.noop,fn:c.program(8,d,t),data:t}))||0===i)&&(s+=i),s+=' <span class="match-score"><i class="match-score-icon glyphicon certificate"></i>'+l("function"==typeof(i=e&&e.normalizedScore)?i.apply(e):i)+"</span> </div> "}),r),data:r}))||0===s)&&(o+=s),o+=' </div> <div class="row match-extended-info hidden"> ',((s=n.if.call(t,t&&t.summary,{hash:{},inverse:c.program(14,(function(e,t){return' <div class="col-xs-9 children-region"></div> '}),r),fn:c.program(12,(function(e,t){var a,n="";return n+=' <div class="col-xs-9 match-summary">'+l("function"==typeof(a=e&&e.summary)?a.apply(e):a)+"</div> "}),r),data:r}))||0===s)&&(o+=s),o+=' <div class="col-xs-3"> <img class="match-art" src="'+l("function"==typeof(s=t&&t.thumb)?s.apply(t):s)+'"/> </div> </div> </a> '}))},L1D5:function(e,t,a){e.exports={content:"HomePageContent-content-3x2Kyr PageContent-innerPageContent-3ktLTA"}},L1nn:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="",l=this.escapeExpression,c=this;function d(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}return o+='<div class="filter-bar"> <span class="dropdown"> <a class="dropdown-toggle" href="#device-type-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+l("function"==typeof(s=null==(s=t&&t.selectedDeviceType)||!1===s?s:s.title)?s.apply(t):s)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((s=n.each.call(t,t&&t.deviceTypes,{hash:{},inverse:c.noop,fn:c.programWithDepth(1,(function(e,t,n){var i,r,s="";return s+=' <li><a data-id="'+l("function"==typeof(i=e&&e.id)?i.apply(e):i)+'" href="#"><span class="dropdown-truncated-label">'+l("function"==typeof(i=e&&e.title)?i.apply(e):i)+"</span>",((i=(r=a("w+Xr"),r&&(r.__esModule?r.default:r)).call(e,null==(i=n&&n.selectedDeviceType)||!1===i?i:i.id,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,d,t),data:t}))||0===i)&&(s+=i),s+="</a></li> "}),r,t),data:r}))||0===s)&&(o+=s),o+=' </ul> </span> </div> <div class="device-list-container col-sm-12 col-md-12"></div> '}))},L395:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("LiCP"),s=a.n(r),o=a("Ckcz"),l=a.n(o),c=a("q1tI"),d=a.n(c),u=a("DA7V"),p=a("pQ98"),m=a("wCAT"),h=a("YuNx"),g=a.n(h);class y extends c.Component{constructor(e,t){super(e,t),this.onScroll=e=>{if(e.target!==this._scrollerRef.current)return;const t=e.target.scrollTop,a=e.target.scrollLeft,n=t!==this._currentScrollTop,i=a!==this._currentScrollLeft;(n||i)&&this._setScrollPosition({scrollTop:t,scrollLeft:a}),this.props.onScroll&&this.props.onScroll(e)},this.onScrollPositionChange=()=>{this._animationFrameID=null,this.props.onScrollPositionChange({scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft})},this.onScrollTimeout=()=>{this.setState({isScrolling:!1})},this.onScrollToUpdate=()=>{this._updateScrollPosition(this._scrollToPosition),this.props.onScrollToUpdate&&this.props.onScrollToUpdate(this._scrollToPosition)},this.onScrollToComplete=()=>{this._scrollToTween=null,this._scrollToPosition=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.state={isScrolling:!1},this._scrollerRef=e.forwardedRef||d.a.createRef(),this._currentScrollTop=0,this._currentScrollLeft=0}componentDidMount(){this._scrollTo(this.props)}componentWillReceiveProps(e){e.scrollTop===this.props.scrollTop&&e.scrollLeft===this.props.scrollLeft||this.setState({isScrolling:!0})}shouldComponentUpdate(e,t){return Object(m.a)(this,e,t)}componentDidUpdate(e){this.state.isScrolling&&(this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID),this._scrollTimeoutID=window.setTimeout(this.onScrollTimeout,this.props.isScrollingTimeout)),this._scrollTo(this.props)}componentWillUnmount(){this._clearTimeouts(),this._cancelScrollTo()}_setScrollPosition({scrollTop:e,scrollLeft:t}){this._clearTimeouts(),this._currentScrollTop=e,this._currentScrollLeft=t,this._animationFrameID=window.requestAnimationFrame(this.onScrollPositionChange)}_updateScrollPosition({scrollTop:e,scrollLeft:t}){const a=this._scrollerRef.current;null!=e&&(a.scrollTop=e),null!=t&&(a.scrollLeft=t)}_scrollTo({scrollTop:e,scrollLeft:t}){if(null==e&&null==t)return;const a=null!=e&&e!==this._currentScrollTop,n=null!=t&&t!==this._currentScrollLeft;if(!a&&!n)return;if(!this.props.smoothScroll&&!this.props.restoreScroll)return this._currentScrollTop=e,this._currentScrollLeft=t,void this._updateScrollPosition({scrollTop:e,scrollLeft:t});const i=this.props.smoothScrollDuration/1e3,r={ease:l.a.Power3.easeOut,onUpdate:this.onScrollToUpdate,onComplete:this.onScrollToComplete};this._scrollToPosition={};const o=this._scrollerRef.current;a&&(r.scrollTop=Math.min(e,o.scrollHeight-o.clientHeight),this._scrollToPosition.scrollTop=o.scrollTop),n&&(r.scrollLeft=Math.min(t,o.scrollWidth-o.clientWidth),this._scrollToPosition.scrollLeft=o.scrollLeft),this._cancelScrollTo(),this._scrollToTween=s.a.to(this._scrollToPosition,i,r)}_cancelScrollTo(){this._scrollToTween&&(this._scrollToTween.kill(),this._scrollToTween=null)}_clearTimeouts(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID)}render(){const{className:e,children:t,scrollDirection:a,autoScroll:n,compactScroller:r,enableChildrenProps:s,onScroll:o,onScrollPositionChange:l,forwardedRef:c,smoothScroll:p,restoreScroll:m,smoothScrollDuration:h,scrollTop:y,scrollLeft:f,isScrollingTimeout:b,onScrollToUpdate:v,onScrollToComplete:I,...S}=this.props;return d.a.createElement("div",{className:i()(e,g.a.scroller,g.a[a],n&&g.a.auto,r&&g.a.compactScroller),ref:this._scrollerRef,onScroll:l?this.onScroll:o,...S},s?Object(u.a)(t,e=>d.a.cloneElement(e,{isScrolling:this.state.isScrolling,scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft})):t)}}y.defaultProps={scrollDirection:p.c,autoScroll:!1,smoothScroll:!0,restoreScroll:!1,smoothScrollDuration:400,enableChildrenProps:!1,isScrollingTimeout:100},t.a=d.a.forwardRef((e,t)=>d.a.createElement(y,{...e,forwardedRef:t}))},L4fs:function(e,t,a){"use strict";function n(e){return e.reduce((e,t)=>{const{isFullOwnedServer:a,serverSourceTitle:n,machineIdentifier:i}=t;if(!a&&n){null==e.sharedSources[n]&&(e.sharedSources[n]=[]);const t=e.sharedSources[n];t.includes(i)||t.push(i)}return i&&a&&(null==e.ownedSources[i]&&(e.ownedSources[i]=0),e.ownedSources[i]++),e},{sharedSources:{},ownedSources:{}})}a.d(t,"a",(function(){return n}))},L4oE:function(e,t,a){e.exports={content:"UserSharingSettingsProfile-content-2u8WLm SettingsPage-content-1vKVEr PageContent-pageContent-16mK6G"}},L6Cy:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-8 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> <div class="col-md-4 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},L7Oz:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("0jae");function i(e,t){const a=e.get("playQueue");return(...i)=>{if(e.get("isOpen")&&a&&a===e.get("playQueue"))return t(...i);n.a.warn("[Player] Player was closed or a new playback session was started; ignoring callback")}}},L9Nd:function(e,t,a){"use strict";a.d(t,"a",(function(){return H}));var n=a("EVdn"),i=a.n(n),r=a("+X4A"),s=a("cgRT"),o=a("CHn6"),l=a("mOXR"),c=a("8uQ2"),d=a("nvND"),u=a("xcRr"),p=a("Vk9Z"),m=a("gnaf"),h=a("D1lN"),g=a("zTsO"),y=a("ZLfv"),f=a("+fvj"),b=a("8cH1"),v=a("fwi0"),I=a("duQd"),S=a("66GW"),E=a("rXDx"),O=a("xI1S"),M=a("jMpR");function C(e){return{key:e.hubKey,type:b.a,title:Object(S.default)("Recommended"),context:f.DISCOVER_PIVOT}}function j(e,t){return{key:Object(I.a)(e.id,t),libraryKey:e.key,type:b.b,title:Object(S.default)("Library"),context:f.LIBRARY_PIVOT,isContent:!0}}function D(e){const t=E.getMetadataType(E.COLLECTION);return{key:r.default.join([e.key,"all"],{type:t.id}),type:b.b,title:Object(S.default)("Collections"),context:f.COLLECTIONS_PIVOT}}function P(e,t){const a=e.key.match(/\/library\/sections\/(\w+)/)[1],n=E.getMetadataType(E.PLAYLIST);return r.default.join("/playlists/all",{type:n.id,playlistType:t,sectionID:a})}function T(e,t){return{key:P(e,t),type:b.b,title:Object(S.default)("Playlists"),context:f.PLAYLISTS_PIVOT}}function w(e){return e&&-1!==e.split(",").indexOf(v.a)}function N(e,t){return e&&e.some(e=>e.type===t)}function x(e,t,a){return a.type===e&&(null==t&&null==a.subtype||null!=t&&a.subtype===t)}function A(e,t){return/\/library\/sections\/(\w+)/.test(t.key)&&x(e,null,t)}var L=a("taAd"),k=a("WfN5"),R=a("7za+"),z=a("i0dk"),U=a("N368"),V=a("aqep");function B(e){const t=Object(s.c)("appModel").get("drmType");return{...Object(y.a)(t),"X-Plex-Text-Format":Object(u.a)(e),"X-Plex-Provider-Version":"1.3"}}const F=R.k;function H({identifier:e,serverEntityID:t}){return Object(k.a)(F,e,t)}const _=o.a.extend({name:"ProviderModel",context:["server"],entityType:F,entityID(e=this.state){return H({identifier:e.identifier,serverEntityID:this.server.entityID()})},idAttribute:"identifier",rootPropertyName:"MediaProvider",responseType:d.a,url(){return this.get("baseURL")},mergeStrategy:(e,t,a)=>"protocols"===e&&a&&a.length>0?a:Object(c.a)(e,t,a),syncedAttrs:{id:l.a.integer,parentID:l.a.integer,identifier:l.a.string,providerIdentifier:l.a.string,baseURL:l.a.string,title:l.a.string,sourceTitle:l.a.string,types:l.a.list,protocols:l.a.list,subscriptions:l.a.boolean,icon:l.a.string,epgSource:l.a.string,source:l.a.string},sessionAttrs:{isPending:l.a.boolean,isPopulated:l.a.boolean,error:l.a.object},syncedRelations:{features:{relationClass:V.a,rootPropertyName:"Feature",options(){return{provider:this}},setOptions:{remove:!1}}},derivedAttrs:{isLibraryProvider(){return m.l(Object(L.a)(this.get("identifier"),this.get("providerIdentifier")),m.d)},metricsIdentifier(){const e=this.get("providerIdentifier")||this.get("identifier");return m.l(e,m.c)?e.split(":")[0]:e}},populate(){return this.get("isPopulated")?i.a.Deferred().resolve(this).promise():o.a.prototype.populate.apply(this,arguments)},resolveUrl(e,t){const a={...t};return this.url()&&(a.baseUrl=this.url()),this.server.resolveUrl(e,a)},getXHROptions(e,t={}){const a=Object(U.a)(e)?e:r.default.join([this.get("baseURL"),e]),n=this.get("providerIdentifier")||this.get("identifier"),i=this.server.getXHROptions(a,{...t,headers:{...B(n),...t.headers}});return this.server.get("isCloud")&&(delete i.headers["X-Plex-Username"],delete i.headers["X-Plex-Device-Name"]),i},defaults:()=>({protocols:[],isPending:!0,isPopulated:!1,error:null}),augmentResponse(e){if(e.MediaProvider&&(e=e.MediaProvider),!e.Feature)return e;const t=m.l(e.identifier,m.d);return e.Feature.forEach(a=>{if(a.type===p.p&&(a.Setting=[]),!a.Directory||a.type!==p.c)return;let n;if(!a.key&&t&&(a.key="/library/sections"),a.Directory.forEach((t,a)=>{const i=t.key||t.hubKey;!t.id&&i&&(t.id=Object(z.a)(i)),t.type===E.PLAYLIST&&(n=a),t.Pivot||(t.Pivot=function(e,t,a){return e.hubKey||"/playlists"===e.key?A(E.ARTIST,e)?[C(e),j(e,E.ARTIST),T(e,O.a)]:A(E.MOVIE,e)?[C(e),j(e,E.MOVIE),D(e),T(e,O.c)]:A(E.SHOW,e)?[C(e),j(e,E.SHOW),D(e),T(e,O.c)]:A(E.PHOTO,e)?[C(e),{key:M.c.TIMELINE,type:b.c,title:Object(S.default)("Timeline"),context:f.TIMELINE_PIVOT},j(e,E.PHOTO),T(e,O.b)]:w(t)&&N(a,p.q)?[{key:e.hubKey,type:b.a,title:Object(S.default)("Recommended"),context:f.DVR_DISCOVER_PIVOT},{key:M.c.GUIDE,type:b.c,title:Object(S.default)("Guide"),context:f.DVR_GUIDE_PIVOT},{key:M.c.RECORDING_SCHEDULE,type:b.c,title:Object(S.default)("DVR Schedule"),context:f.DVR_SCHEDULE_PIVOT}]:w(t)||N(a,p.e)?[{key:e.hubKey,type:b.a,title:Object(S.default)("Recommended"),context:f.DVR_DISCOVER_PIVOT},{key:M.c.GUIDE,type:b.c,title:Object(S.default)("Guide"),context:f.DVR_GUIDE_PIVOT}]:x(E.PLAYLIST,null,e)?[{key:r.default.join(e.key,{playlistType:O.a}),type:b.b,title:Object(S.default)("Music"),context:f.PLAYLISTS_PIVOT},{key:r.default.join(e.key,{playlistType:O.c}),type:b.b,title:Object(S.default)("Video"),context:f.PLAYLISTS_PIVOT},{key:r.default.join(e.key,{playlistType:O.b}),type:b.b,title:Object(S.default)("Photo"),context:f.PLAYLISTS_PIVOT}]:[]:[]}(t,e.protocols,e.Feature)),Array.isArray(t.Pivot)||(t.Pivot=[t.Pivot]),t.Pivot.forEach(e=>{e.id&&e.id.match(/\.(saved|watchlist|playlists)$/)&&(e.requires=g.r)})}),n&&n<a.Directory.length-1){const e=a.Directory[n];a.Directory.splice(n,1),a.Directory.push(e)}}),t&&!e.Feature.find(e=>e.type===p.d)&&e.Feature.push({type:p.d,key:h.b}),e}});t.b=_},LGmu:function(e,t,a){"use strict";var n=a("odh7"),i=a("CHn6"),r=a("mOXR"),s=a("Rmik");const o=i.a.extend({name:"ResourceModel",context:["server"],idAttribute:"clientIdentifier",urlRoot:"/api/v2/resources",syncedAttrs:{clientIdentifier:r.a.string,name:r.a.string,sourceTitle:r.a.string,accessToken:r.a.string,product:r.a.string,productVersion:r.a.string,platform:r.a.string,platformVersion:r.a.string,device:r.a.string,provides:r.a.list,owned:r.a.boolean,home:r.a.boolean,synced:r.a.boolean,presence:r.a.boolean,publicAddressMatches:r.a.boolean,httpsRequired:r.a.boolean,createdAt:r.a.integer,lastSeenAt:r.a.integer,ownerId:r.a.integer},syncedRelations:{connections:{relationClass:s.b}},augmentResponse(e){"string"==typeof e.createdAt&&(e.createdAt=Object(n.a)(e.createdAt)),"string"==typeof e.lastSeenAt&&(e.lastSeenAt=Object(n.a)(e.lastSeenAt));const t=e.Device;return t?(t.connections=t.Connection,delete t.Connection,t):e}});t.a=o},LH2V:function(e,t,a){e.exports={info:"PlexPassUpsellInfo-info-2k9lub",moreInfo:"PlexPassUpsellInfo-moreInfo-3FndRu",upsell:"PlexPassUpsellInfo-upsell-uBlkWj PlexPassUpsell-upsell-3i2JLq"}},LJ6K:function(e,t,a){e.exports={spinner:"SourceSidebarBadgedIcon-spinner-2bI1aW",container:"SourceSidebarBadgedIcon-container-3XjdPK",badge:"SourceSidebarBadgedIcon-badge-2uHPR5",image:"SourceSidebarBadgedIcon-image-2aA5FB"}},LJTU:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return c}));var n=a("ijGY");const i="video",r="music",s="photo",o={[n.d]:i,[n.a]:r,[n.b]:s};function l(e){return o[e]}function c(e){for(const t in o){if(e===o[t])return t}}},"LL+a":function(e,t,a){"use strict";a("slDQ");var n=a("mOXR"),i=a("RO7n"),r=a("B69o"),s=a("cgRT"),o=a("NjRo"),l=a("nXlV"),c=a("RXTF"),d=a("ILlL"),u=a("lcbe"),p=a("qNtb"),m=a("b4zP");var h=r.a.extend({name:"StoredServerCollection",model:m.a}),g=a("CHn6"),y=a("aY6d");var f=g.a.extend({name:"StoredUserSettingModel",syncedAttrs:{...y.a.prototype.syncedAttrs,isDirty:n.a.boolean}});var b=r.a.extend({name:"StoredUserSettingCollection",model:f});var v=p.a.extend({name:"StoredUserModel",additionalRelations:["servers"],syncedAttrs:{id:n.a.integer,authToken:n.a.string,anonymous:n.a.boolean,username:n.a.string,email:n.a.string,title:n.a.string,thumb:n.a.string,pin:n.a.string,home:n.a.boolean,restricted:n.a.boolean,guest:n.a.boolean,hasAllEntitlements:n.a.boolean,lastPrimaryServerID:n.a.string},syncedRelations:{subscriptions:{relationClass:u.a},roles:{relationClass:c.a},entitlements:{relationClass:l.a},services:{relationClass:d.a},features:{relationClass:o.a},settings:{relationClass:b},experienceSettings:()=>({relationClass:Object(s.c)("StoredUserExperienceSettingsModel")}),servers:{relationClass:h}},clearSensitiveAttributes(){this.unset("authToken"),this.unset("pin"),this.get("servers").reset()}});var I=r.a.extend({name:"StoredUserCollection",model:v});const S=i.a.extend({name:"UserStorageModel",storageKey:"users",sessionAttrs:{activeUserID:n.a.integer},syncedRelations:{users:{relationClass:I}},initialize(){this.debouncedSaveTimeout=null},debouncedSave(){this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout(()=>this.save(),1e3)},flushDebouncedSave(){this.debouncedSaveTimeout&&(window.clearTimeout(this.debouncedSaveTimeout),this.save())},getActiveUser(){const e=this.get("users"),t=this.get("activeUserID");if(null!=t)return e.get(t)},clearActiveUser(){const e=this.getActiveUser();return e&&e.clearSensitiveAttributes(),this.unset("activeUserID"),this.save()},getActiveServers(){const e=this.getActiveUser();if(e)return e.get("servers")}});t.a=new S},LMIY:function(e,t,a){e.exports={form:"SettingsModalContent-form-3-N4qz"}},LPXR:function(e,t,a){e.exports={strip:"PhotoStrip-strip-q6m2Bg",thumbs:"PhotoStrip-thumbs-2iLLAJ",cell:"PhotoStrip-cell-NRVDib",thumbContainer:"PhotoStrip-thumbContainer-1kU-fS",isSelected:"PhotoStrip-isSelected-3exw8b",thumb:"PhotoStrip-thumb-eGqcdL",thumbOverlay:"PhotoStrip-thumbOverlay-gC5wmR"}},"LS/l":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("f2wi"),i=a("rXDx"),r=a("mMyY"),s=a("okn6");function o(e,t,a={},o,l){const c=a.type,d=a.subtype,u=a.playlistType;let p=a.key;if(!a.skipDetails&&c!==i.PHOTO)return c===i.TRACK&&d!==n.PODCAST&&(p=a.skipParent?a.grandparentKey:a.parentKey),!p&&a.librarySectionID?Object(r.a)(e,t,l,o):Object(s.a)(e,t,p,o,u)}},LSig:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"h",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"j",(function(){return p})),a.d(t,"k",(function(){return m}));const n="com.plexapp.agents.imdb",i="com.plexapp.agents.lastfm",r="com.plexapp.agents.lyricfind",s="com.plexapp.agents.none",o="com.plexapp.agents.plexmusic",l="tv.plex.agents.music",c="tv.plex.agents.movie",d="tv.plex.agents.game",u="tv.plex.agents.series",p="com.plexapp.agents.themoviedb",m="com.plexapp.agents.thetvdb"},LU7h:function(e,t,a){e.exports={button:"Button-button-3A5jB3 Link-link-2ew_DK",default:"Button-default-23k-Yy",primary:"Button-primary-3z8akl",success:"Button-success-vmFCv4",danger:"Button-danger-3iOd8P",small:"Button-small-3W395A",medium:"Button-medium-2d_jtE",large:"Button-large-3rnrpe"}},LU9U:function(e,t,a){e.exports={container:"AudioVideoPostPlay-container-1G36_l",poster:"AudioVideoPostPlay-poster-1YcVF8",details:"AudioVideoPostPlay-details-2CzQuz"}},LWeR:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("Um5/"),l=a("fLiA"),c=a("GxT8"),d=(a("slDQ"),a("ydjH")),u=a("+X4A"),p=a("MfK7");const m=new o.a,h={},g={},y=[c.h,c.g,c.e,c.f,c.c,c.d,c.a,c.b].sort((e,t)=>f(e)-f(t));function f(e){if(g.hasOwnProperty(e))return g[e];const t=e.split("-")[1];return g[e]=t,t}function b(e){const t=e.allowPixelRatioSize?Object(l.a)():1,a=e.size||function(e){if(h.hasOwnProperty(e))return h[e];const t=y.find(t=>f(t)>=e)||y[y.length-1];return h[e]=t,t}(e.width);if(e.supportsSize)return{size:a,scale:Math.ceil(t)};{const n=f(a),i=e.height/e.width;return{width:Math.ceil(n*t),height:Math.ceil(i*n*t),minSize:e.minSize?1:void 0,upscale:e.upscale?1:void 0}}}function v(e){const{url:t,minSize:a,format:n,quality:o,upscale:l,filters:c,allowPixelRatioSize:h,allowImageBlobs:g,supportsSize:y,onError:f,...v}=e,I=function(e,t){if(!e)return;const a=Object.assign(b(t),t.filters);t.format&&(a.format=t.format),t.quality&&(a.quality=t.quality);const n=e.indexOf("?");let i=e;return n>-1?(i=u.default.join(e.substring(0,n),a),i+=-1===i.indexOf("?")?"?":"&",i+=e.substring(n+1)):i=u.default.join(i,a),i}(t,e);let S,E;I&&g&&(S=m.getBlobUrl(I),S||(E=m.getPlaceholder(I)));const[O,M]=Object(r.useState)(S||E||(g?null:I)),C=Object(r.useRef)(!1);return Object(r.useEffect)(()=>{if(C.current&&(C.current=!1,null==O))return void(f&&f());let e;return S?O!==S&&M(S):I&&g?(e=function(e){const t=i.a.Deferred(),a={cancelable:Object(d.a)(t.promise()),xhr:null},n=new window.XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",a.xhr=n,n.onreadystatechange=()=>{if(4===n.readyState)if(n.onreadystatechange=null,200===n.status){const a=new window.Blob([n.response],{type:"image/jpeg"}),i=window.URL.createObjectURL(a);m.store({url:e,blobUrl:i}),t.resolve(i)}else t.reject()},n.send(),a}(I),e.cancelable.promise.then(t=>{e=null,M(t)},({isCanceled:t}={})=>{t||(e=null,null===O?f&&f():(C.current=!0,M(null)))})):M(I&&!g?I:null),()=>{e&&(e.cancelable.cancel(),e.xhr&&(e.xhr.onreadystatechange=null,e.xhr.abort()))}},[O,I,S,g,f]),s.a.createElement(p.a,{...v,src:O,onError:f})}v.defaultProps={minSize:!0,upscale:!0,allowPixelRatioSize:!0,allowImageBlobs:!0},t.a=Object(r.memo)(v)},LX0A:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("wCAT"),s=(a("slDQ"),a("R+Vt")),o=a.n(s);class l extends n.Component{constructor(e,t){super(e,t),this._requestFrame=()=>{this._clearTimeout(),this._cancelFrame(),this._frameRequestID=window.requestAnimationFrame(this._measure)},this._requestTimeout=()=>{this._clearTimeout(),this._cancelFrame(),this._measureTimeoutID=window.setTimeout(this._requestFrame,this.props.resizeTimeout)},this._measure=()=>{const{ignoreWidth:e,ignoreHeight:t,ignorePosition:a,ignoreTransforms:n}=this.props,{isMeasured:i,width:r,scrollWidth:s,height:o,scrollHeight:l,x:c,y:d}=this.state,u=this._container;if(!u)return;const p=u.getBoundingClientRect(),m=n?u.offsetWidth:p.width,h=n?u.offsetHeight:p.height,g=!0!==i,y=!a&&(p.left!==c||p.top!==d),f=!e&&(m!==r||u.scrollWidth!==s),b=!t&&(h!==o||u.scrollHeight!==l);if(this._reset(),g||y||f||b){const n=window.getComputedStyle(u),i={isMeasured:!0};if(a||(i.x=y?p.left:c,i.y=y?p.top:d),!e){const e=parseInt(n.paddingRight,10)||0,t=parseInt(n.paddingLeft,10)||0;i.width=f?m-t-e:r,i.scrollWidth=f?u.scrollWidth:s}if(!t){const e=parseInt(n.paddingTop,10)||0,t=parseInt(n.paddingBottom,10)||0;i.height=b?h-e-t:o,i.scrollHeight=b?u.scrollHeight:l}this.setState(i),this.props.onMeasure&&this.props.onMeasure(i)}},this._setContainerRef=e=>{this._container=e;const{onContainerRef:t}=this.props;t&&t(e)},this._setExpandContainerRef=e=>{this._expandContainer=e},this._setShrinkContainerRef=e=>{this._shrinkContainer=e},this.onScroll=e=>{this._requestTimeout()};const{ignoreWidth:a,ignoreHeight:n,ignorePosition:i}=e;this.state={isMeasured:!1,width:a?void 0:0,scrollWidth:a?void 0:0,height:n?void 0:0,scrollHeight:n?void 0:0,x:i?void 0:0,y:i?void 0:0}}componentDidMount(){this._requestFrame()}shouldComponentUpdate(e,t){return Object(r.a)(this,e,t)}componentWillUnmount(){this._cancelFrame(),this._clearTimeout()}_cancelFrame(){this._frameRequestID&&(this._frameRequestID=window.cancelAnimationFrame(this._frameRequestID))}_clearTimeout(){this._measureTimeoutID&&(this._measureTimeoutID=window.clearTimeout(this._measureTimeoutID))}_reset(){const e=this._expandContainer,t=this._shrinkContainer;e.scrollTop=1e5,e.scrollLeft=1e5,t.scrollTop=1e5,t.scrollLeft=1e5}render(){const{id:e,className:t,children:a,style:n,onKeyDown:r,onMeasure:s}=this.props,l="function"!=typeof a;return i.a.createElement("div",{id:e,className:t,style:n,ref:this._setContainerRef,onKeyDown:r},l?a:a(this.state),i.a.createElement("div",{className:o.a.scrollContainer,ref:this._setExpandContainerRef,onScroll:this.onScroll},i.a.createElement("div",{className:o.a.expandContent})),i.a.createElement("div",{className:o.a.scrollContainer,ref:this._setShrinkContainerRef,onScroll:this.onScroll},i.a.createElement("div",{className:o.a.shrinkContent})))}}l.defaultProps={className:o.a.container,ignoreWidth:!1,ignoreHeight:!1,ignorePosition:!1,ignoreTransforms:!1,resizeTimeout:100},t.a=l},La1S:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("67KC"),s=a.n(r);function o({children:e,...t}){return i.a.createElement("div",{...t},e)}o.defaultProps={className:s.a.pageHeader},t.a=o},LcEX:function(e,t,a){e.exports={sidebarUnderlay:"SourceSidebar-sidebarUnderlay-2odIuy",sidebar:"SourceSidebar-sidebar-YpV2mw",collapsedSidebar:"SourceSidebar-collapsedSidebar-3MDUee SourceSidebar-sidebar-YpV2mw",expandedSidebar:"SourceSidebar-expandedSidebar-ljacXC SourceSidebar-sidebar-YpV2mw",openSidebar:"SourceSidebar-openSidebar-364QEr SourceSidebar-sidebar-YpV2mw",pane:"SourceSidebar-pane-3b3ayx",heading:"SourceSidebar-heading-2EO2Ee",footer:"SourceSidebar-footer-h1OTb1",toggleMenuButton:"SourceSidebar-toggleMenuButton-3rDpsd",toggleMenuIcon:"SourceSidebar-toggleMenuIcon-2FNbrD"}},LdBX:function(e,t,a){"use strict";function n(e){return e.isCloud?"online":e.isShared?"shared":"owned"}a.d(t,"a",(function(){return n}))},LgTU:function(e,t,a){e.exports={pageContentScroller:"DirectoryHubsPageContent-pageContentScroller-2e1vaI PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74",banner:"DirectoryHubsPageContent-banner-2jfJT2 ProgramGuideGracenoteMigrationBanner-container-1G9MWN"}},Livm:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-artist-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m250 306.694l-157.846 67.947-40-69.282 258.305-192.603 77.647 134.488-78.106 33.622 0 279.134-60 0 0-253.306m88.09-226.08c7.93-10.767 18.16-20.107 30.474-27.217 47.797-27.595 109.007-11.194 136.603 36.603 27.595 47.797 11.194 109.007-36.603 136.603-12.314 7.109-25.518 11.298-38.808 12.783l-91.666-158.772"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},LlG2:function(e,t,a){"use strict";t.a=function(e){const{key:t,sourceType:a,machineIdentifier:n,providerIdentifier:i,directoryID:r,directoryIcon:s,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}=e;return{key:t,sourceType:a,machineIdentifier:n,providerIdentifier:i,directoryID:r,directoryIcon:s,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}}},LmLz:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("F/us"),l=a.n(o),c=a("VzhI"),d=a("mKd/"),u=a.n(d);class p extends r.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){const{className:e,errorClassName:t,disabledClassName:a,isDisabled:n,size:r,name:o,initialValue:c,value:d,values:p,hasError:m,errors:h,validations:g,...y}=this.props;return s.a.createElement("div",{className:i()(e,u.a[r],n&&a,m&&t)},s.a.createElement("select",{...y,disabled:n,className:u.a.select,id:o,name:o,value:d,onChange:this.onChange},p.map((e,t)=>{if(l.a.isString(e))return s.a.createElement("option",{key:t,value:e},e);const[a]=l.a.keys(e);return s.a.createElement("option",{key:t,value:a},l.a.result(e,a))})))}}p.defaultProps={className:u.a.input,errorClassName:u.a.hasError,disabledClassName:u.a.isDisabled,isDisabled:!1,size:c.a,hasError:!1},t.a=p},Ln5r:function(e,t,a){e.exports={button:"PivotTab-button-1S6bOr Button-button-3A5jB3 Link-link-2ew_DK",selectedButton:"PivotTab-selectedButton-2u9uk3 PivotTab-button-1S6bOr Button-button-3A5jB3 Link-link-2ew_DK"}},LnML:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("0jae"),s=a("+X4A"),o=a("ZpxE");var l=function(e,t){return t?e.get("Media").findIndex(e=>e.id===t):0};var c=function(e,t){const a=e.Part;return i.a.indexOf(a,i.a.findWhere(a,{key:t}))};const d={extensions:{dash:".mpd",hls:".m3u8",http:""},logParams:function(e,t,a){Object(r.a)("[Transcoder] %s (%s) options:",e,t,a)},serializeParams:function(e,t){let a,n={},r={};const o=/^X-Plex/;return i.a.each(e,(function(e,t){o.test(t)?r[t]=e:n[t]=e})),n=s.default.stringifyParams(n),r=s.default.stringifyParams(r),a=n&&r?n+"&"+r:n||r,a},image:function(e,t,a){if(!t)return"";const n=a.fallbackServer;let r,s=!1;if(n&&n.get("isConnected")){r=n.get("isFullServer")?n:null}if(r)if(e.get("cloud"))s=!0;else if(!e.get("isFullServer")){const t=!e.get("activeConnection").get("isPrivate"),a=r.get("activeConnection").get("isPrivate");s=t||a}const o=s?r:e,l=o.id===e.id,c={url:e.resolveUrl(t,{useRelativeUrl:l,appendToken:!0}),width:a.width&&Math.round(parseFloat(a.width)),height:a.height&&Math.round(parseFloat(a.height))};a.minSize&&(c.minSize=1),a.format&&(c.format=a.format),a.quality&&(c.quality=a.quality),a.filters&&i.a.each(a.filters,(function(e,t){void 0!==e&&(c[t]=e)}));const d="/photo/:/transcode?"+this.serializeParams(c,o);return o.resolveUrl(d,{appendToken:!0})},music:function(e,t,a,n){n||(n="start");const r=i.a.first(t.get("Media"));if(!r)return;const s=i.a.first(r.Part);if(!s)return;let o,l;e.supports("universalMusicTranscoder")?(o=i.a.extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:!0}),mediaIndex:0,partIndex:0},a),l="/music/:/transcode/universal/"+n):(o={identifier:t.get("identifier"),url:e.resolveUrl(s.key,{useRelativeUrl:!0}),format:"mp3",audioCodec:"libmp3lame",audioBitrate:320,audioSamples:44100},l="/music/:/transcode/generic.mp3"),this.logParams("Music",n,o),o=i.a.extend(o,e.getHeaders());const c=this.extensions[o.protocol];return"start"===n&&c&&(l+=c),e.resolveUrl(l+"?"+this.serializeParams(o,e))},video:function(e,t,a,n,r,s){r||(r={}),s||(s="start");const d=e.entityID()===t.get("serverEntityID"),u=e.get("activeConnection").get("isPrivate");let p=i.a.extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:d,appendToken:!d}),mediaIndex:l(t,a.id),partIndex:c(a,n.key),protocol:"hls",fastSeek:1,directPlay:0,directStream:1,subtitleSize:100,audioBoost:o.b,location:u?"lan":"wan"},r);this.logParams("Video",s,p),p=i.a.extend(p,e.getHeaders());const m=this.extensions[p.protocol];let h="/video/:/transcode/universal/"+s;return"start"===s&&m&&(h+=m),e.resolveUrl(h+"?"+this.serializeParams(p,e))},game:function(e,t,a,n,r){n||(n={}),r||(r="start");const s=e.entityID()===t.get("serverEntityID"),o=e.get("activeConnection").get("isPrivate");let c=i.a.extend({path:e.resolveUrl(t.get("key"),{useRelativeUrl:s,appendToken:!s}),location:o?"lan":"wan",mediaIndex:l(t,a.id)},n,{protocol:void 0});this.logParams("Game",r,c),c=i.a.extend(c,e.getHeaders());const d=this.extensions[c.protocol];let u="/game/:/transcode/"+r;return"start"===r&&d&&(u+=d),e.resolveUrl(u+"?"+this.serializeParams(c,e))}};t.a=d},Lnxm:function(e,t,a){e.exports={container:"DirectoryListAdvancedFilters-container-1mP8st",loadingContainer:"DirectoryListAdvancedFilters-loadingContainer-2LPazw DirectoryListAdvancedFilters-container-1mP8st",scroller:"DirectoryListAdvancedFilters-scroller-1OQ7bi Scroller-scroller-CQJq74",editHeading:"DirectoryListAdvancedFilters-editHeading-jNFVsF",buttonBar:"DirectoryListAdvancedFilters-buttonBar-2cu4iT",buttonCluster:"DirectoryListAdvancedFilters-buttonCluster-30oZ0-",applyButton:"DirectoryListAdvancedFilters-applyButton-29P-XK Button-button-3A5jB3 Link-link-2ew_DK",formLabel:"DirectoryListAdvancedFilters-formLabel-3wZaAk FormLabel-label-1YNrUM",textInput:"DirectoryListAdvancedFilters-textInput-2fNh1j TextInput-input-1mDdJf"}},"Lo/S":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("/MKj"),l=a("MWLE");function c(...e){const t=Object(o.b)(...e);return e=>{const a=t(e);function n(e,{metricsPage:t,metricsContext:n}){const{metricsContext:i,...r}=e;return s.a.createElement(a,{metricsPage:t,metricsContext:i||n,...r})}return n.displayName=`ConnectWithMetrics(${Object(l.a)(e)})`,n.contextTypes={metricsPage:i.a.string,metricsContext:i.a.string},n.propTypes={...a.propTypes,metricsContext:i.a.string},n}}},LrNF:function(e,t,a){e.exports={modalHeader:"ModalHeader-modalHeader-1Kf9RW"}},LtKR:function(e,t,a){e.exports={container:"PlexAccountUpsellPageContent-container-1oEiwm",panel:"PlexAccountUpsellPageContent-panel-1np-7E",panelIcon:"PlexAccountUpsellPageContent-panelIcon-2yfhpM",panelTitle:"PlexAccountUpsellPageContent-panelTitle-1Wd4AE",panelDescription:"PlexAccountUpsellPageContent-panelDescription-VLB7T3"}},LttS:function(e,t,a){e.exports={slider:"VolumeSlider-slider-1QXdTt VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",track:"VolumeSlider-track-2WJDzq VerticalSlider-track-1RVQfn Slider-track-28JOSn",fill:"VolumeSlider-fill-3XkYyD VerticalSlider-fill-2HISoE Slider-fill-35GFqs"}},"Lu/9":function(e,t,a){e.exports={item:"MetadataMenuItem-item-2s1r1Q"}},Lw7a:function(e,t,a){const n=a("repV").default,i=a("a4Cb");e.exports=i(n)},LxUg:function(e,t,a){"use strict";var n=a("/MKj"),i=a("G4qV"),r=a("mVxl"),s=a("q1tI"),o=a.n(s),l=a("cftR"),c=a("FeaP"),d=a("66GW"),u=a("3+3Z"),p=a("3gZG"),m=a("kvRM"),h=a("xSXQ"),g=a("Lu/9"),y=a.n(g);var f=function(e){const{ratingKey:t,title:a,onPress:n}=e,i=Object(s.useCallback)(()=>n(t),[n,t]);return o.a.createElement(l.a,{className:y.a.item,onPress:i},a)};const b=Object(i.a)(Object(h.a)(),({ratingKey:e,title:t})=>({ratingKey:e,title:t}));var v=Object(n.b)(b)(f);function I(e){const{metadataItemEntityIDs:t,showTopSeparator:a,header:n,onItemPress:i}=e;return t.length?o.a.createElement(o.a.Fragment,null,a&&t.length?o.a.createElement(m.a,null):null,n?o.a.createElement(p.a,null,n):null,t.map(e=>o.a.createElement(v,{key:e,metadataItemEntityID:e,onPress:i}))):null}I.defaultProps={showTopSeparator:!0};var S=I;const E=Object(i.a)(e=>e.ui.addToPlaylistMenu.recentPlaylists,e=>({recentPlaylists:e}));t.a=Object(n.b)(E,(function(e,t){const{serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,metadataListEntityID:s}=t;return{onInitMenu(){e(Object(r.d)({serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,metadataListEntityID:s}))},onClearMenu(){e(Object(r.c)())},onAddToExistingPlaylistPress(t){e(Object(r.a)({providerEntityID:n,playlistID:t}))}}}))((function(e){const{showAddToPlaylist:t,showAddToSmartPlaylist:a,recentPlaylists:n,customFilterRoute:i,onAddToPlaylistPress:r,onAddToSmartPlaylistPress:p,onAddToExistingPlaylistPress:m,onInitMenu:h,onClearMenu:g,onMenuClose:y}=e;Object(s.useEffect)(()=>(h(),g),[g,h]);const f=!!i;return o.a.createElement(o.a.Fragment,null,t?o.a.createElement(l.a,{onPress:r},Object(d.default)("Add to Playlist...")):null,a?o.a.createElement(l.a,{onPress:p},Object(d.default)("Save as Smart Playlist...")):null,f?o.a.createElement(l.a,{to:i},Object(d.default)("Create Smart Playlist")):null,n?o.a.createElement(u.a,{metadataListEntityID:n,component:S,initialSize:3,showTopSeparator:t||f,header:Object(d.default)("Add to..."),onItemPress:Object(c.a)(m,y)}):null)}))},"M/J+":function(e,t,a){e.exports={event:"CalendarEvent-event-1N79nG",isComplete:"CalendarEvent-isComplete-3BKnCP",hasError:"CalendarEvent-hasError-2mgqYf",underlay:"CalendarEvent-underlay-2LGTNr",overlay:"CalendarEvent-overlay-3RDXNJ",errorIcon:"CalendarEvent-errorIcon-3q6lKQ",title:"CalendarEvent-title-K5q2kI",secondaryInfo:"CalendarEvent-secondaryInfo-3pj4z0",time:"CalendarEvent-time-sjVsBy",status:"CalendarEvent-status-27k9YY",recording:"CalendarEvent-recording-1igLY0",recordingProgressBackground:"CalendarEvent-recordingProgressBackground-1vuJU9 CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",recordingIcon:"CalendarEvent-recordingIcon-3BTduh"}},M0a6:function(e,t,a){e.exports={serverMenu:"ServerSettingsServerMenu-serverMenu-3CI7iC Menu-menu-3XnN6J",serverMenuScroller:"ServerSettingsServerMenu-serverMenuScroller-2WzFgn Menu-menuScroller-1TF6oW Scroller-vertical-VScFLT"}},M15R:function(e,t,a){e.exports={button:"SourceSidebarServerHeaderActionsButtons-button-cJs32h IconButton-button-9An-7I",hidden:"SourceSidebarServerHeaderActionsButtons-hidden-3eVZ6I"}},M1AR:function(e,t,a){e.exports={buttons:"WebhookSettingsPage-buttons-1ppDm6",error:"WebhookSettingsPage-error-3sqjBM"}},M2eu:function(e,t,a){e.exports={container:"ChannelsGridMetadataItemCell-container-2NM2za",selected:"ChannelsGridMetadataItemCell-selected-3K64Hu",hoverable:"ChannelsGridMetadataItemCell-hoverable-Tm-6mJ",subTitleContainer:"ChannelsGridMetadataItemCell-subTitleContainer-2Izpkj",actions:"ChannelsGridMetadataItemCell-actions-3OwaeD",onAir:"ChannelsGridMetadataItemCell-onAir-1TBnoi",finishedAiring:"ChannelsGridMetadataItemCell-finishedAiring-1NTjLc",underlay:"ChannelsGridMetadataItemCell-underlay-Qhctil",content:"ChannelsGridMetadataItemCell-content-3-Y3Yf",actionsContainer:"ChannelsGridMetadataItemCell-actionsContainer-_6ZyYW",subTitle:"ChannelsGridMetadataItemCell-subTitle-iaQsk7",premiereBadge:"ChannelsGridMetadataItemCell-premiereBadge-1Qqk61 PremiereAiringBadge-badge-hAmdnV",subscriptionBadge:"ChannelsGridMetadataItemCell-subscriptionBadge-dFSz15",placeholderContainer:"ChannelsGridMetadataItemCell-placeholderContainer-2681u-"}},M4gS:function(e,t,a){e.exports={container:"LiveTVUpNext-container-1kAJR9",upNext:"LiveTVUpNext-upNext-pGRmzn",icon:"LiveTVUpNext-icon-3DqMOZ"}},"M6j/":function(e,t,a){e.exports={separator:"MetadataTitleAirDate-separator-2i3bJv DashSeparator-separator-4CyEFW"}},"M7+X":function(e,t,a){"use strict";var n=a("X60b"),i=a("66GW");t.a=function(e){let t=e.seasonIndex;return null==t?"":t>1e3?t:(e.noLeadingZero||(t=Object(n.a)(t)),e.useLongName?Object(i.default)("Season {seasonNumber}",{seasonNumber:t}):Object(i.default)("S{seasonNumber}",{seasonNumber:t}))}},M7EV:function(e,t,a){e.exports={container:"AudioVideoUpNext-container-1HyiyV",title:"AudioVideoUpNext-title-2RflZV",poster:"AudioVideoUpNext-poster-362QoU",progress:"AudioVideoUpNext-progress-3dmBnM",playButton:"AudioVideoUpNext-playButton-3X0Mbp PlayButton-playButton-3WX8X-",playCircle:"AudioVideoUpNext-playCircle-RTuurg PlayButton-playCircle-3Evfdw",timeLeft:"AudioVideoUpNext-timeLeft--rCIME",autoPlay:"AudioVideoUpNext-autoPlay-2s2lSY",autoPlayOn:"AudioVideoUpNext-autoPlayOn-2tSBYt AudioVideoUpNext-autoPlay-2s2lSY",autoPlayOff:"AudioVideoUpNext-autoPlayOff-3tmvpL AudioVideoUpNext-autoPlay-2s2lSY"}},M8A8:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("+X4A"),i=a("0jae"),r=a("PXtH"),s=a("tqLa"),o=a("5HFX"),l=a("0jcA");function c(e){const{providerFeatureType:t,providerModel:a,itemProviderModel:c,metadataItemModel:d,metadataListModel:u,metadataItemModels:p}=e,m=a.get("features"),h=m&&m.get(t);if(!!h&&h.get("flavor")===r.c){const e=(null==d?void 0:d.get("source"))?Object(o.a)(d.get("source")).providerIdentifier:void 0,t=!!e&&e!==c.get("identifier")?d.get("source"):Object(l.a)(c.server.get("machineIdentifier"),c.get("identifier")),a=d&&d.get("key")||u&&u.get("containerKey")||function(e){if(!e)return;const[t]=e;return e.some(e=>e.get("source")!==t.get("source"))?void i.a.warn("[Playlists] universal playlists can not contain items from multiple sources"):"/library/metadata/"+e.map(e=>e.get("ratingKey")).join(",")}(p);return n.default.join([t,a])}return s.a.uri(d||u||p,{items:p})}var d=a("8NF1"),u=a("Vk9Z"),p=a("rXDx");function m(e){const{providerModel:t,itemProviderModel:a,metadataItemModel:i,metadataListModel:r,multiSelectModel:s,playQueueModel:o,smart:l,readOnly:m,recent:h}=e,g=s&&s.get("activeSelectionItems").pluck("model"),y=o?o.get("type"):Object(d.a)({metadataItemModel:i,metadataListModel:r,metadataItemModels:g}),f=t&&t.get("features"),b=f&&f.get(u.k),v=b&&b.get("key"),I={type:Object(p.getMetadataType)(p.PLAYLIST).id,playlistType:y,smart:l?1:0,readOnly:m?1:0};h&&(I.sort="updatedAt:desc");const S={playlistType:y,containerKey:v&&n.default.join(v,I)};return o||(S.uri=c({providerFeatureType:u.k,providerModel:t,itemProviderModel:a,metadataItemModel:i,metadataListModel:r,metadataItemModels:g})),S}},M8LJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("5rFJ"),i=a("cKYz"),r=a("aKOQ"),s=a("gZLj");function o(e,t){const a={items:[],totalSize:void 0,isPending:!1,isPopulated:!1,error:null};return{getDefaultPaginatedState:()=>a,getRepopulateRangeOptions(e){const t=Math.max(e.findIndex(e=>null!=e),0);return{startIndex:t,size:e.length-t}},fetchAll:function*(e,a){const{server:i,provider:s,params:o}=a,l=yield Object(n.b)(r.a.get,e,{server:i,provider:s,params:o}),c=t?t({server:i,provider:s,data:l.data}):l.data;return yield c},fetchRange:function*(e,a){const{server:s,provider:o,params:l,startIndex:c,size:d,isPrepend:u}=a,p=s.isCloud?i.a:i.d,m=Math.max(Math.min(d,p),0),h=u?Math.max(c-m+1,0):c,g=yield Object(n.b)(r.a.get,e,{server:s,provider:o,params:l,headers:{"X-Plex-Container-Start":String(h),"X-Plex-Container-Size":String(m)}}),y=t?t({server:s,provider:o,data:g.data}):g.data;return yield y},reducers:{reset(t,{payload:n}){const i=e(t,n);Object.assign(i,a)},fetchAllRequested(t,{payload:a}){const n=e(t,a);Object(s.c)(n)},fetchAllSucceeded(t,{payload:a}){const n=e(t,a),{items:i,size:r}=a.data;Object(s.d)(n),n.totalSize=r,n.items=i},fetchAllFailed(t,{payload:a}){const n=e(t,a);Object(s.b)(n,a.error)},fetchRangeRequested(t,{payload:a}){const n=e(t,a);Object(s.c)(n)},fetchRangeSucceeded(t,{payload:a}){const n=e(t,a),{items:i,totalSize:r,offset:o}=a.data;Object(s.d)(n),n.totalSize=r;for(let e=0;e<i.length;e++)n.items[e+o]=i[e]},fetchRangeFailed(t,{payload:a}){const n=e(t,a);Object(s.b)(n,a.error)},repopulateRangeRequested(t,{payload:a}){const n=e(t,a);Object(s.c)(n)},repopulateRangeSucceeded(t,{payload:a}){const n=e(t,a),{items:i,totalSize:r,offset:o}=a.data;Object(s.d)(n),n.items=[],n.totalSize=r;for(let e=0;e<i.length;e++)n.items[e+o]=i[e]},repopulateRangeFailed(t,{payload:a}){const n=e(t,a);Object(s.b)(n,a.error)}}}}},MCZW:function(e,t,a){"use strict";var n=a("G4qV"),i=a("xoRd"),r=a("Xq+7");const s=Object(i.a)(Object(n.a)(r.a,e=>e.reduce((e,t)=>(t.isFullOwnedServer&&t.isClaimed&&t.friendlyName&&e.push(t.entityID),e),[])),e=>e);t.a=s},MEJa:function(e,t,a){e.exports={tableCell:"TableCell-tableCell-4fCpHS",activeTableCell:"TableCell-activeTableCell-1y-9p6 TableCell-tableCell-4fCpHS",title:"TableCell-title-6gbkRR"}},MIt9:function(e,t,a){e.exports={sidebarMessage:"SidebarMessage-sidebarMessage-3O-Deq"}},MLKk:function(e,t,a){e.exports={container:"WatchTogetherInviteParticipantCell-container-3KVdQt",posterCardContainer:"WatchTogetherInviteParticipantCell-posterCardContainer-241qoG WatchTogetherParticipantCell-posterCardContainer-2ny7Q7 WatchTogetherParticipantCell-card-qkBk8M TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC TagPosterCard-isPerson-1ez1h_",icon:"WatchTogetherInviteParticipantCell-icon-3kZpPf",titleContainer:"WatchTogetherInviteParticipantCell-titleContainer-3JNQtb WatchTogetherParticipantCell-titleContainer-2bZ6ul"}},MOdi:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return s}));const n="contentRating",i="contentRating!",r="label",s="label!"},MUEv:function(e,t,a){e.exports={hubCell:"MetadataVerticalHubCell-hubCell-2E01xY",list:"MetadataVerticalHubCell-list-13IVCh",hubCellHeader:"MetadataVerticalHubCell-hubCellHeader-2ofTba HubCellHeader-hubCellHeader-2pvYNF",attribution:"MetadataVerticalHubCell-attribution-2ogVGt",title:"MetadataVerticalHubCell-title-29HZKR HubCellTitle-hubCellTitle-2abInv",titleButton:"MetadataVerticalHubCell-titleButton-12ONcU"}},MUGT:function(e,t,a){e.exports={feature:"PlexPassFeature-feature-227Do1",featurePadding:"PlexPassFeature-featurePadding-3qxKLi",featureImage:"PlexPassFeature-featureImage-1MQuZ0",featureContainer:"PlexPassFeature-featureContainer-5yGpRx",featureTitle:"PlexPassFeature-featureTitle-cBOf4G",featureDescription:"PlexPassFeature-featureDescription-2mgxrS"}},MWLE:function(e,t,a){"use strict";function n(e){return e.displayName||e.name||"Component"}a.d(t,"a",(function(){return n}))},MWmE:function(e,t,a){e.exports={dragSource:"RecordingPrioritySubscriptionDragSource-dragSource-2qcUl6"}},MXEh:function(e,t,a){e.exports={pageHeaderLeft:"PageHeaderLeft-pageHeaderLeft-OxyzPN"}},MXUH:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("2pL0"),l=a("66GW"),c=a("4pPT"),d=a("+MhW"),u=a.n(d);function p(e){const{className:t,selectedClassName:a,circleClassName:n,iconClassName:r,title:d,isSelected:u,...p}=e;return s.a.createElement(o.a,{className:i()(t,u&&a),"aria-label":u?Object(l.default)("Deselect {title}",{title:d}):Object(l.default)("Select {title}",{title:d}),...p},s.a.createElement("div",{className:n,"data-qa-id":"multipleSelectButton"},s.a.createElement(c.a,{className:r})))}p.defaultProps={className:u.a.selectButton,selectedClassName:u.a.isSelected,circleClassName:u.a.selectCircle,iconClassName:u.a.selectedIcon},t.a=p},MZ2x:function(e,t,a){e.exports={input:"CheckInput-input-1Pi_2g",label:"CheckInput-label-2yG4rI",small:"CheckInput-small-3zAF6g",large:"CheckInput-large-3wPNUE",isDisabled:"CheckInput-isDisabled-C1Lz-G",hasError:"CheckInput-hasError-1V3ZUM"}},Mb8u:function(e,t,a){e.exports={input:"EPGLineupSelect-input-2fYK-o Select-input-1OU8QF"}},MeBg:function(e,t,a){e.exports={innerModalBody:"DVRSetupInfo-innerModalBody-1yzYOf ModalBody-innerModalBody-BHe1nE",container:"DVRSetupInfo-container-2-8g0g",spinner:"DVRSetupInfo-spinner-2Fw-Th Spinner-spinner-1qRM4t spin-spin-2kLwt_",steps:"DVRSetupInfo-steps-wSr0PW",buttonBar:"DVRSetupInfo-buttonBar-1_jVYY ModalFooterButtonBar-buttonBar-7XF2zU"}},MfK7:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("v9IS");function s(e){e&&(e.onload=e.onabort=e.onerror=void 0)}function o(e){const{src:t,emptySrc:a,component:r,preloadOnMount:o,onLoad:l,onError:c,...d}=e,[u,p]=Object(n.useState)(o?null:t),[m,h]=Object(n.useState)(null),g=Object(n.useRef)(o);return Object(n.useEffect)(()=>{if(!g.current)return void(g.current=!0);if(!t)return;let e=new window.Image;return e.onload=()=>{e=s(e),p(t),h(null)},e.onabort=e.onerror=()=>{e=s(e),p(null),h(new Error("Unable to load "+t))},e.src=t,()=>{e=s(e)}},[t]),Object(n.useEffect)(()=>{!t&&u&&p(null)},[u,t]),Object(n.useEffect)(()=>{u&&l&&l(u)},[u,l]),Object(n.useEffect)(()=>{m&&c&&c(m)},[m,c]),i.a.createElement(r,{...d,src:u||a})}o.defaultProps={emptySrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",component:r.a,preloadOnMount:!0},t.a=o},Ms8g:function(e,t,a){e.exports={title:"QuickSearchProvider-title-1DX5MD",noResults:"QuickSearchProvider-noResults-2j7_91",spinnerContainer:"QuickSearchProvider-spinnerContainer-lhn2AI",spinner:"QuickSearchProvider-spinner-2_uC9g"}},Mtv6:function(e,t,a){e.exports={item:"SubtitleRow-item-1suQRb",downloadIcon:"SubtitleRow-downloadIcon-3pqWjW SubtitleRow-icon-21El6y",titles:"SubtitleRow-titles-3FAr9t",title:"SubtitleRow-title-1Jeywc",secondaryTitle:"SubtitleRow-secondaryTitle-17rEPf SubtitleRow-title-1Jeywc",score:"SubtitleRow-score-1DVm2L",perfectMatch:"SubtitleRow-perfectMatch-3N1BnR",spinnerContainer:"SubtitleRow-spinnerContainer-FDGoZD",icon:"SubtitleRow-icon-21El6y",downloadedIcon:"SubtitleRow-downloadedIcon-2F0Cd2 SubtitleRow-icon-21El6y"}},MzBL:function(e,t,a){e.exports={loadingItem:"MetadataTrackCellLoading-loadingItem-2YS2vz",alternateLoadingItem:"MetadataTrackCellLoading-alternateLoadingItem-2ueUqH MetadataTrackCellLoading-loadingItem-2YS2vz"}},N2kb:function(e,t,a){e.exports={container:"ShareRestrictionsTag-container-3Z5sm-",tag:"ShareRestrictionsTag-tag-3Affwz",remove:"ShareRestrictionsTag-remove-1Bew_T TagLabel-remove-27nEke"}},N368:function(e,t,a){"use strict";function n(e){return/^\w+:\/\//.test(e)}a.d(t,"a",(function(){return n}))},N6Bl:function(e,t,a){e.exports={tableHeaderCell:"TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-3cIqeg TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS"}},N6gl:function(e,t,a){e.exports={help:"LocationSettingInputGroup-help-3KxH7k FormHelp-help-3VCuqa",secondaryLabel:"LocationSettingInputGroup-secondaryLabel-1RrMcE FormLabel-label-2aLJ9b"}},N6j3:function(e,t,a){"use strict";var n=a("ZGgN");t.a=function(e){return Object(n.a)(e,e=>e.uuid,()=>!0)}},N7lw:function(e,t,a){e.exports={bottomBar:"BottomBar-bottomBar-gbDBaF"}},N85i:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="form-group" data-attr="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'"> <label for="text-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="control-label">'+c((o=a("d8WC"),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:r}))+'<span class="control-error"></span></label> <div class="input-group selectize-group"> <input type="text" id="text-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="form-control text-field" name="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" placeholder="'+c("function"==typeof(s=t&&t.placeholder)?s.apply(t):s)+'" data-rating-key="'+c("function"==typeof(s=t&&t.ratingKey)?s.apply(t):s)+'" data-title="'+c("function"==typeof(s=t&&t.title)?s.apply(t):s)+'" ',((s=n.if.call(t,t&&t.scopeToAttr,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var a,n="";return n+='data-scope-to-attr="'+c("function"==typeof(a=e&&e.scopeToAttr)?a.apply(e):a)+'" data-scope-to-param="'+c("function"==typeof(a=e&&e.scopeToParam)?a.apply(e):a)+'"'}),r),data:r}))||0===s)&&(l+=s),l+="> </div> </div> "}))},NAGO:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4> ',((o=n.if.call(t,t&&t.status,{hash:{},inverse:this.program(3,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"There was a problem preparing for optimization.",{hash:{},data:t}))+" "}),s),fn:this.program(1,(function(e,t){var a,n="";return n+=" "+c("function"==typeof(a=e&&e.status)?a.apply(e):a)+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </h4> <h4><a class="try-again-link" href="#">'+c(i(a("d8WC")).call(t,"Try again",{hash:{},data:s}))+"</a></h4> </div> </div> "}))},NBPW:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR");const r=n.a.extend({name:"TagModel",context:["server","section"],idAttribute:"tag",syncedAttrs:{id:i.a.integer,key:i.a.string,tag:{type:i.a.string,save:!0},tagType:i.a.integer,librarySectionID:i.a.string,librarySectionKey:i.a.string,librarySectionType:i.a.integer,librarySectionTitle:i.a.string,filter:i.a.string,role:i.a.string,thumb:i.a.string,count:i.a.integer,directory:i.a.boolean,type:i.a.string,context:i.a.string}});t.a=r},NCaO:function(e,t,a){"use strict";function n(e,t,a){const n=e.indexOf(t);if(n<0)return e;const i=e.slice(0);return i[n]=a,i}a.d(t,"a",(function(){return n}))},NCdd:function(e,t,a){e.exports={badge:"PrePlayContentRating-badge-3LtQUH Badge-badge-21NQRi"}},NDU1:function(e,t,a){e.exports={container:"LineupChannelDragSource-container-2sHd0Z",isOver:"LineupChannelDragSource-isOver-PWEZV8"}},NG4B:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"j",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"i",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"k",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"g",(function(){return p})),a.d(t,"h",(function(){return m}));const n=8,i=9,r=13,s=16,o=17,l=27,c=38,d=40,u=91,p=93,m=224},NJkC:function(e,t,a){e.exports={item:"EPGPrePlayEpisodeCell-item-31U2lg",recordButton:"EPGPrePlayEpisodeCell-recordButton-x7LVGv RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2",alternateItem:"EPGPrePlayEpisodeCell-alternateItem-3QMpyC EPGPrePlayEpisodeCell-item-31U2lg",underlay:"EPGPrePlayEpisodeCell-underlay-28hJxq",overlay:"EPGPrePlayEpisodeCell-overlay-2sL4QI",primaryTitle:"EPGPrePlayEpisodeCell-primaryTitle-p-NawY",secondaryTitle:"EPGPrePlayEpisodeCell-secondaryTitle-iTKpt4",subscriptionIcon:"EPGPrePlayEpisodeCell-subscriptionIcon-14CJUM",nextAiringDate:"EPGPrePlayEpisodeCell-nextAiringDate-10Bif2",separator:"EPGPrePlayEpisodeCell-separator-2LvFs5",loadingItem:"EPGPrePlayEpisodeCell-loadingItem-2VkI2H",alternateLoadingItem:"EPGPrePlayEpisodeCell-alternateLoadingItem-2KPtT_ EPGPrePlayEpisodeCell-loadingItem-2VkI2H"}},NJuV:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m280 0l-280 520 560 0-280-520m0 400c22.077 0 40 17.923 40 40 0 22.077-17.923 40-40 40-22.077 0-40-17.923-40-40 0-22.077 17.923-40 40-40m-30-40l0-220 60 0 0 220-60 0"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},NM2O:function(e,t,a){e.exports={link:"Link-link-2ew_DK",isHrefLink:"Link-isHrefLink-3mRmVl",default:"Link-default-1uNM9i",primary:"Link-primary-swdMK3",success:"Link-success-2povE6",danger:"Link-danger-30DOAN",small:"Link-small-3LOyMt",medium:"Link-medium-JcTlXb",large:"Link-large-E7KsvQ"}},NMOu:function(e,t,a){e.exports={menuLabelClassName:"AudioStreamsMenu-menuLabelClassName-1CDPNF SelectedMenuItem-menuLabel-2fp2lo",extendedTitle:"AudioStreamsMenu-extendedTitle-25gjI0"}},"NN/D":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+" </div> </div> ",((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.style"],{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,r="";return r+=' <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(n=e&&e.locked,null==n||!1===n?n:n.style)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.mood"],{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n,r="";return r+=' <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(n=e&&e.locked,null==n||!1===n?n:n.mood)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> </form> "}))},NNG8:function(e,t,a){"use strict";a.r(t);var n=a("Ivly"),i=a("66GW"),r=a("VLKS"),s=a("S09J");t.default=function(e){if(e.index===n.a.CONVERT_AUTOMATICALLY)return Object(i.default)("Convert Automatically");if(e.index===n.a.ORIGINAL)return Object(i.default)("Original");const t=e.bitrate||e.maxVideoBitrate,a=e.videoResolution;if(!t&&!a)return Object(i.default)("Unknown");const o=[];if(t&&o.push(Object(s.default)(t)),a&&(!t||t>=1e3)){const e=n.a.getResolutionFromSize(a);o.push(Object(r.default)(e))}const l=o.join(", ");return e.description?l+" "+e.description:l}},NQww:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form id="server-settings-form"> ',((o=n.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=" "+c(i(a("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},NRWW:function(e,t,a){e.exports={modalHeader:"PlayerConflictModalContent-modalHeader-esgnIK ModalHeader-modalHeader-1Kf9RW",innerModalBody:"PlayerConflictModalContent-innerModalBody-2N2K54 ModalBody-innerModalBody-36gmbf",message:"PlayerConflictModalContent-message-1A31cS",conflicts:"PlayerConflictModalContent-conflicts-2yWT26",footerMessage:"PlayerConflictModalContent-footerMessage-1ptDWP"}},NXjI:function(e,t,a){e.exports={label:"DVRSetupCountryRegionSelectInput-label-GgBp9L FormLabel-label-2aLJ9b"}},NYQO:function(e,t,a){e.exports={carousel:"PhotoCarousel-carousel-3ebQMF",message:"PhotoCarousel-message-2qnduU",contents:"PhotoCarousel-contents-1OztiK"}},NYe9:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("yfwS"),s=a.n(r);function o(e){const{circleClassName:t,iconClassName:a}=e;return i.a.createElement("div",{className:t},i.a.createElement("span",{className:a}))}o.defaultProps={circleClassName:s.a.recordCircle,iconClassName:s.a.recordIcon},t.a=o},Na6n:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("FeaP"),l=a("wCAT"),c=a("cgRT");class d extends r.Component{constructor(){super(...arguments),this.onPress=e=>{const{children:t,...a}=this.props,{metricsPage:n}=this.context;Object(c.c)("metrics").trackClick({...a,page:n})}}shouldComponentUpdate(e,t){return Object(l.a)(this,e,t)}render(){const e=s.a.Children.only(this.props.children);return s.a.cloneElement(e,{onPress:Object(o.a)(this.onPress,e.props.onPress)})}}d.propTypes={children:i.a.element.isRequired,action:i.a.string.isRequired},d.contextTypes={metricsPage:i.a.string.isRequired},t.a=d},"Nb++":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return s}));a("slDQ");var n=a("6XbQ");const i="vertical",r="horizontal";function s(e={}){const{direction:t=i,rows:a,columns:s,overscan:o=0,innerHorizontalPadding:l=0,innerVerticalPadding:c=0,outerPaddingTop:d=0,outerPaddingRight:u=0,outerPaddingBottom:p=0,outerPaddingLeft:m=0,getCellWidth:h,getCellHeight:g}=e;let y,f,b,v,I,S,E,O,M,C;function j(e){return t===i?Math.floor(e/S):e%I}function D(e){return t===i?e%S:Math.floor(e/I)}function P(e,a){const n=j(e);return t===i?n*S:n}function T(e,a){const n=D(e);return t===i?n:n*I}return{options:e,getListStyle:function(e,n){const o=[d,u,p,m,n];for(const t in e)o.push(e[t]);const j=o.join(":");if(j===O)return M;y=e.listTop,f=e.listLeft;let D=(e.viewportWidth||0)-u-m,P=(e.viewportHeight||0)-d-p;t===i?D-=f:P-=y,D=Math.max(0,D),P=Math.max(0,P),b=h({innerViewportWidth:D,innerViewportHeight:P,innerHorizontalPadding:l,innerVerticalPadding:c}),v=g({cellWidth:b,innerViewportWidth:D,innerViewportHeight:P,innerHorizontalPadding:l,innerVerticalPadding:c}),I=Math.max(0,a||Math.floor((P+c)/(v+c))),S=Math.max(0,s||Math.floor((D+l)/(b+l))),E=S*I;let T=0,w=0;return t===i&&S?(T=S*(b+l)-l,w=Math.ceil(n/S)*(v+c)-c):t===r&&I&&(T=Math.ceil(n/I)*(b+l)-l,w=I*(v+c)-c),C={},O=j,M={width:T+u+m,height:w+d+p},M},getRelativeIndex:function(e,a,s,o){const l=t===s;if(l&&(t===i&&1===S||t===r&&1===I))return Object(n.a)(e+a,o);let c,d,u;s===i&&(c=l?S*a:a,d=T(e,o),u=function(e,a){if(t===i){const t=a-1,n=D(e),i=(j(t)+1)*S-(S-n);let r;return r=i<a?i:t-a%S-(S-1-n),r}{const t=T(e,a);return Object(n.a)(t+(I-1),a)}}(e,o)),s===r&&(c=l?I*a:a,d=P(e,o),u=function(e,a){if(t===i){const t=P(e,a);return Object(n.a)(t+(S-1),a)}{const t=a-1,n=j(e),i=(D(t)+1)*I-(I-n);let r;return r=i<a?i:t-a%I-(I-1-n),r}}(e,o));const p=e+c;return d||u?Math.max(Math.min(p,u),d):e},getCoordinateDistance:function(e,t){const a=j(e),n=j(t),i=D(e),r=D(t);return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-i,2))},getPositionForIndex:function(e){const t=e;if(C[t])return C[t];const a=D(e),n=j(e),i={column:a,row:n,cellX:a*(b+l)+f+m,cellY:n*(v+c)+y+d,cellWidth:b,cellHeight:v};return C[t]=i,i},getRangesForPosition:function(e,a,r){const s=t===i?S:I,d=t===i?(e-y)/(v+c):(a-f)/(b+l),u=E+2*s+o*s*2,p=Math.ceil(d)*s,m=p+E-1,h=Math.floor(d)*s,g=p+E+s-1;let O=h-s*o;const M=Object(n.a)(O,r)+u-1;return M>=r&&(O=r-u),{visibleStartIndex:Object(n.a)(p,r),visibleEndIndex:Object(n.a)(m,r),partiallyVisibleStartIndex:Object(n.a)(h,r),partiallyVisibleEndIndex:Object(n.a)(g,r),renderStartIndex:Object(n.a)(O,r),renderEndIndex:Object(n.a)(M,r)}}}}},Nbqw:function(e,t,a){e.exports={label:"FormLabel-label-1YNrUM",hasError:"FormLabel-hasError-1CDqKK"}},Nc8A:function(e,t,a){e.exports={icon:"ErrorPage-icon-ZJ38xX EmptyPage-icon-31D3ZA"}},Nca4:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=(a("slDQ"),a("ybUE"));function s(e){const{className:t,component:a,childrenPropName:n,tags:s,message:o}=e;let l=[o],c=s.length-1,d=0;for(;c>=0;){const{open:e,close:t,unpaired:a,children:n,component:o,childrenPropName:u,...p}=s[c],m=e?new RegExp("(^.*)"+Object(r.a)(`{${e}}`)+"(.*)"+Object(r.a)(`{${t}}`)+"(.*$)"):new RegExp("(^.*)"+Object(r.a)(`{${a}}`)+"()(.*$)"),h=[];for(let e=l.length-1;e>=0;e--){const t=l[e];if("string"!=typeof t)h.unshift(t);else{const e=t.match(m);if(e){const[,t,a,r]=e;o?h.unshift(t,i.a.createElement(o,{key:d,...p,[u||"children"]:a}),r):h.unshift(t,n,r),d+=1}else h.unshift(t)}}h.length===l.length?c-=1:l=h}return i.a.createElement(a,{className:t,[n]:l})}s.defaultProps={component:"span",childrenPropName:"children"},t.a=s},NciQ:function(e,t,a){"use strict";const n=new(a("4P0s").a)({interface:["getLanguages","load","t"]});t.a=n},Ngum:function(e,t,a){"use strict";t.a=function(e){return`${e.beginsAt}-${e.channelIdentifier}-${e.endsAt}`}},"Nh+l":function(e,t,a){e.exports={container:"PlayerControlsMetadata-container-2wqMfv",ratingContainer:"PlayerControlsMetadata-ratingContainer-1bg_57",hasUserRating:"PlayerControlsMetadata-hasUserRating-2bCRcO",durationContainer:"PlayerControlsMetadata-durationContainer-3UDmW1 DurationRemaining-container-1F4w8F",mediaInfoContainer:"PlayerControlsMetadata-mediaInfoContainer-3g4P-6 MediaInfo-infoContainer-2LgYro"}},NjRo:function(e,t,a){"use strict";var n=a("+X4A"),i=a("B69o"),r=a("nvND"),s=a("CHn6"),o=a("mOXR");var l=s.a.extend({name:"UserFeatureModel",idAttribute:"uuid",syncedAttrs:{uuid:o.a.string.isRequired,id:o.a.string}});const c=i.a.extend({name:"UserFeatureCollection",context:["server"],model:l,url:n.default.join(["https://plex.tv","/api/v2/features"]),responseType:r.a});t.a=c},"Nw/v":function(e,t,a){e.exports={disclosureArrow:"PrePlayPageHeaderSiblingMenu-disclosureArrow-1L4tU8 DisclosureArrow-disclosureArrow-1KPaBC",disabledDisclosureArrow:"PrePlayPageHeaderSiblingMenu-disabledDisclosureArrow-q0Gl6X PrePlayPageHeaderSiblingMenu-disclosureArrow-1L4tU8 DisclosureArrow-disclosureArrow-1KPaBC"}},Nwpn:function(e,t,a){e.exports={title:"MediaSubscriptionTitle-title-1I857z",secondaryTitle:"MediaSubscriptionTitle-secondaryTitle-1srwEQ"}},"O+qT":function(e,t,a){e.exports={hubCellHeader:"HubCellHeader-hubCellHeader-2pvYNF"}},O6KH:function(e,t,a){e.exports={homeInvite:"UserSettingsInviteRow-homeInvite-3fuSS8"}},O9Ym:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-files-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m480 240l0 240-240 0 0-240 240 0m-40 40l-160 0 0 160 160 0 0-160m-40-120l0 40-200 0 0 200-40 0 0-240 240 0m-80-80l0 40-200 0 0 200-40 0 0-240 240 0"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},OAeU:function(e,t,a){e.exports={content:"PrePlayMetadataContent-content-kSY-kH"}},OJ00:function(e,t,a){e.exports={overlay:"MetadataSharedItemRow-overlay-1iSGYd",underlay:"MetadataSharedItemRow-underlay-136eKR Link-link-2ew_DK",summaryContainer:"MetadataSharedItemRow-summaryContainer-4mcNzm",posterContainer:"MetadataSharedItemRow-posterContainer-1jS6zE",playPosterContainer:"MetadataSharedItemRow-playPosterContainer-1QAAfO MetadataSharedItemRow-posterContainer-1jS6zE",playCircle:"MetadataSharedItemRow-playCircle-3fPFCw MetadataPosterCardActions-playCircle-3YI1wW PlayButton-playCircle-3Evfdw MetadataPosterCardCircle-cardCircle-2NfIyT",titlesContainer:"MetadataSharedItemRow-titlesContainer-2TzNou",titleContainer:"MetadataSharedItemRow-titleContainer-FOEoWU",title:"MetadataSharedItemRow-title-spLdum",doubleTitle:"MetadataSharedItemRow-doubleTitle-340_bN MetadataSharedItemRow-title-spLdum",subtitle:"MetadataSharedItemRow-subtitle-226jYT MetadataSharedItemRow-titleContainer-FOEoWU MetadataSharedItemRow-title-spLdum",actions:"MetadataSharedItemRow-actions-12u_-v",actionsButton:"MetadataSharedItemRow-actionsButton-yP6zUW Link-link-2ew_DK"}},OMWn:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("2bcr");function i(e,{metadataItemEntityID:t}){const a=e.entities.metadataItems[t],i=a&&a.serverEntityID;if(i)return Object(n.b)(e,{serverEntityID:i})}},ONsB:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR");const r=n.a.extend({name:"FirstCharacterModel",context:["server","provider","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:i.a.string,title:i.a.string,size:i.a.integer},urlRoot(){return`/library/sections/${this.section.id}/firstCharacter`}});t.a=r},ONyx:function(e,t,a){e.exports={spinnerContainer:"PrePlayAugmentedHubsList-spinnerContainer-2U0vto"}},OOzj:function(e,t,a){e.exports={inputs:"UnitInput-inputs-1Fc89j",textInput:"UnitInput-textInput-QSuLWN TextInput-input-1VMuma input-input-1P2Vi4"}},OPqZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return s}));const n="playlist://image.favorite",i="playlist://image.radio",r="folder",s="watchtogether"},OQUr:function(e,t,a){e.exports={playedBadge:"PlayedBadge-playedBadge-nExTpX Badge-badge-3I6Kzp"}},OY1m:function(e,t,a){e.exports={container:"AudioVideoPlayQueueItemDragSource-container-3ncn7E"}},OYMB:function(e,t){},OelS:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("03dv");function i(e,t,a){switch(Object(n.d)(e,t,a)){case n.a:return 114;case n.b:return 64;case n.c:return 74}}},OhLM:function(e,t,a){e.exports={tableCell:"TableCell-tableCell-2mwuHk",activeTableCell:"TableCell-activeTableCell-21Vleo TableCell-tableCell-2mwuHk",title:"TableCell-title-2x35AT"}},OiDK:function(e,t,a){e.exports={innerModalBody:"RecoveryCodesModalContent-innerModalBody-1q_5so ModalBody-innerModalBody-BHe1nE",codes:"RecoveryCodesModalContent-codes-2I1Q8E",code:"RecoveryCodesModalContent-code-14ESy4",info:"RecoveryCodesModalContent-info-3eF0FF",strong:"RecoveryCodesModalContent-strong-1bSbrs"}},OpXE:function(e,t,a){"use strict";var n=a("Se/U"),i=a("LPPQ"),r=a("EVdn"),s=a.n(r),o=a("F/us"),l=a.n(o),c=a("rG0a"),d=a("ydjH"),u=a("+X4A"),p=a("cgRT"),m=a("vtVQ"),h=a("aCX2"),g=a("INWF"),y=a("ZGgN"),f=a("gnaf"),b=a("C5pU"),v=a("41GN"),I=a("zTY+"),S=a("66GW"),E=a("rXDx"),O=a("nhAy"),M=a("CHn6"),C=a("mOXR"),j=a("B69o"),D=a("NBPW");var P=j.a.extend({name:"TagCollection",context:["server","section"],model:D.a}),T=a("cVe3"),w=a("tqLa");var N=M.a.extend({name:"LockedFieldModel",context:["server","section"],idAttribute:"name",syncedAttrs:{name:{type:C.a.string,save:!0},locked:{type:C.a.boolean,save:!0}}});var x=j.a.extend({name:"LockedFieldCollection",context:["server","section"],model:N});const A={Autotag:"autotags",Collection:"collections",Composer:"composers",Conductor:"conductors",Country:"countries",Director:"directors",Genre:"genres",Label:"labels",Mood:"moods",Producer:"producers",Role:"roles",Similar:"similar",Style:"styles",Tag:"tags",Writer:"writers"},L={album:{title:"title",parentRatingKey:"artist.id",parentTitle:"artist.title"},track:{parentRatingKey:"album.id",parentTitle:"album.title",grandparentRatingKey:"artist.id",grandparentTitle:"artist.title"}};var k=M.a.extend({name:"MultiMetadataModel",context:["server","section"],rootPropertyName:"Common",isNew:()=>!1,url(){return u.default.join([this.sectionUrl(),"common"],this.getUrlParams())},saveUrl(){return u.default.join([this.sectionUrl(),"all"],this.getUrlParams())},sectionUrl(){return l.a.result(this.section,"url")},sessionAttrs:{metadataItems:C.a.array.isRequired,editableTags:C.a.array,originalSaveParams:C.a.object,poster:C.a.string,banner:C.a.string,art:C.a.string},syncedAttrs:{mixedFields:C.a.list.isRequired,key:{type:C.a.string,save:!0},ratingKey:{type:C.a.string,save:!0},parentRatingKey:{type:C.a.string,save:!0},grandparentRatingKey:{type:C.a.string,save:!0},title:{type:C.a.string,save:!0},titleSort:{type:C.a.string,save:!0},originalTitle:{type:C.a.string,save:!0},parentTitle:{type:C.a.string,save:!0},grandparentTitle:{type:C.a.string,save:!0},year:{type:C.a.string,save:!0},tagline:{type:C.a.string,save:!0},summary:{type:C.a.string,save:!0},studio:{type:C.a.string,save:!0},contentRating:{type:C.a.string,save:!0},originallyAvailableAt:{type:C.a.string,save:!0},rating:{type:C.a.float,save:!0},userRating:{type:C.a.float,save:!0},index:{type:C.a.integer,save:!0},parentIndex:{type:C.a.integer,save:!0}},sessionRelations:{preferences:{relationClass:T.a}},syncedRelations:Object.keys(A).reduce((e,t)=>(e[A[t]]={relationClass:P,rootPropertyName:t,save:!0},e),{lockedFields:{relationClass:x,rootPropertyName:"Field",save:!0}}),derivedAttrs:{type(){const e=this.getSingleMetadataItem();if(e)return e.get("type")},aggregateTitle(){if(this.get("metadataItems").length)return w.a.title(null,{items:this.get("metadataItems")})},isSingleMetadataItem(){return 1===this.get("metadataItems").length}},defaults:()=>({metadataItems:[],mixedFields:[]}),initialize(e,t){this.set("metadataItems",l.a.clone(t.metadataItems))},getSingleMetadataItem(){return l.a.first(this.get("metadataItems"))},getUrlParams(){const e=Object(E.getMetadataType)(this.get("type")),t=l.a.map(this.get("metadataItems"),e=>e.get("ratingKey"));return{type:e.id,id:t.join(","),includeExternalMedia:1}},getSaveParams(){const e=M.a.prototype.getSaveParams.apply(this,arguments),t=this.get("originalSaveParams");if(!t)return e;const a={};if(l.a.each(e,(e,n)=>{const i=t[n];l.a.isEqual(e,i)||l.a.extend(a,this.getSaveParam(n,e,i))}),a.isReparenting){delete a.isReparenting;const e=L[this.get("type")];l.a.each(e,(e,t)=>{const n=e+".value",i=this.getQueryAttrSibling(e)+".value",r=l.a.has(a,n),s=l.a.has(a,i);if(r&&s&&n!==i&&delete a[i],!r&&!s){const e=this.get(t);e&&(a[n]=e)}})}return a},getSaveParam(e,t,a){if("Field"===e)return this.getFieldSaveParams(e,t,a);if(A.hasOwnProperty(e))return this.getTagSaveParams(e,t,a);const n=L[this.get("type")];if(n&&l.a.has(n,e)){const a=n[e];return t?{isReparenting:!0,[a+".value"]:t}:void 0}return{[e+".value"]:t}},getFieldSaveParams:(e,t,a)=>t.reduce((e,t)=>(e[t.name+".locked"]=t.locked,e),{}),getTagSaveParams(e,t,a){const n=l.a.map(t,e=>e.tag),i=l.a.map(a,e=>e.tag),r=l.a.without(i,...n),s=e.toLowerCase(),o={};return n.forEach((e,t)=>{o[s+"["+t+"].tag.tag"]=e}),r.length&&(o[s+"[].tag.tag-"]=l.a.map(r,encodeURIComponent).join(",")),o},getQueryAttr(e){const t=this.get("type"),a=L[t];return a&&a[e]||e},getQueryAttrSibling(e){const t=this.getQueryAttr(e).match(/(^.*\.)(.*$)/);return t?t[1]+("id"===t[2]?"title":"id"):e}}),R=a("JzmK"),z=a("yauL"),U=a("BDy8"),V=a.n(U);var B=z.a.extend({template:V.a,serializeData(){const e=this.model.get("preferences"),t=this.model.getSingleMetadataItem().get("preferences");return e.length?t.reduce((t,a)=>{const n=e.get(a.id);return n?t.push(n.toJSON()):t.push(a.toJSON()),t},[]):t.toJSON()},flushChanges(){const e=this.ui.form.serializeArray(),t=this.model.getSingleMetadataItem().get("preferences"),a=this.model.get("preferences");e.forEach(e=>{const n=a.get(e.name)||t.get(e.name),i=n.clone();i.parseAndSetValue(e.value),i.get("value")!==n.get("value")&&a.add(i,{merge:!0})})}}),F=a("vOHB"),H=a("CpQb"),_=a("tibn"),W=M.a.extend({name:"ArtworkModel",context:["server","artworkType"],idAttribute:"ratingKey",rootPropertyName:"Photo",syncedAttrs:{key:C.a.string,ratingKey:C.a.string,thumb:C.a.string,selected:C.a.boolean}},{types:{POSTER:"poster",ART:"art",BANNER:"banner"}}),Q=j.a.extend({name:"ArtworkCollection",context:["server","artworkType"],model:W,url(){const e=u.default.parseUrl(l.a.result(this.parent,"url"));return u.default.join([e.pathname,this.artworkType+"s"],e.params)}}),G=a("cR0X"),K=a("ziyK"),Y=a("pNb9"),q=a("Dz/n"),Z=a("m7TM"),X=a.n(Z),J=H.a.Layout.extend({tagName:"span",template:X.a,regions:{poster:".media-poster"},initialize:function(e){var t=e.artworkType,a=150;"art"===t?a=240:"banner"===t&&(a=520),this.$el.addClass(t),this.image=new q.a({className:"media-poster-image",model:this.model,modelAttribute:"thumb",placeholderClass:K.a[t],width:a,height:Y.a.getPosterHeight(t,a)})},bindings:{".artwork-option":{modelAttribute:"selected",manual:!0,formatter:function(e,t){t.toggleClass("selected",e)}}},onRender:function(){this.poster.show(this.image)}}),$=G.a.extend({className:"artwork-options-list",itemView:J}),ee=a("mJEB"),te=a.n(ee),ae=H.a.Layout.extend({template:te.a,dragStatus:0,ui:{upload:".upload-artwork-container",urlInput:"input[name=url]"},regions:{list:".artwork-list-container"},events:{dragenter:"onDragEnter",dragleave:"onDragLeave",dragover:"onDragOver",drop:"onDrop",keydown:"onKeyDown","change .artwork-file-control":"onFileChange","click .upload-url-btn":"onUploadUrlClick","click .cancel-url-btn":"onCancelUrlClick","click .submit-url-btn":"onUrlSubmit","submit #upload-form":"onUrlSubmit","click .upload-back-btn":"onUploadBackClick","click .artwork-option":"onArtworkOptionClick"},initialize:function(e){this.type=e.type,this.metadataItem=this.model.getSingleMetadataItem(),this.changes={},this.collection=new Q([],{server:this.model.server,section:this.model.section,parent:this.metadataItem,artworkType:this.type}),this.collection.fetch()},serializeData:function(){return{showUpload:this.model.server.supports("artworkUpload"),showFileUpload:F.a.hasFileUpload}},flushChanges:function(){this.model.set(this.changes)},uploadFiles:function(e){if(e&&e.length){this.changes={},this.ui.upload.removeClass("show-success show-error");var t=this.collection.url(),a=l.a.extend(this.model.server.getXHROptions(t),{type:"POST",processData:!1}),n=[],i=l.a.bind((function(e){/image\//.test(e.type)&&(a.data=e,n.push(s.a.ajax(a)))}),this);l.a.each(e,i),n.length?(this.ui.upload.addClass("show-progress"),this.monitorUpload(s.a.when.apply(s.a,n))):this.ui.upload.addClass("show-error")}},uploadUrl:function(e){this.changes={},this.ui.upload.removeClass("show-form"),this.ui.upload.addClass("show-progress"),this.ui.urlInput.val("");var t=u.default.join(this.collection.url(),{url:e}),a=this.model.server.getXHROptions(t,{type:"POST"});this.monitorUpload(s.a.ajax(a))},monitorUpload:function(e){e.done(l.a.bind((function(){this.isClosed||this.ui.upload.addClass("show-success");var e={server:this.model.server,onlyIfCached:!0},t=new _.a({key:this.metadataItem.get("key")},e);l.a.isEmpty(t)||t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}),this.collection.fetch()}),this)),e.fail(this.whenRendered((function(){this.ui.upload.addClass("show-error")}))),e.always(this.whenRendered((function(){this.ui.upload.removeClass("show-progress")})))},onRender:function(){this.list.show(new $({collection:this.collection,itemViewOptions:{artworkType:this.type}}))},onDragEnter:function(e){this.dragStatus++,this.ui.upload.addClass("drag-hover")},onDragLeave:function(e){this.dragStatus--,0===this.dragStatus&&this.ui.upload.removeClass("drag-hover")},onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.dragStatus=0,this.ui.upload.removeClass("drag-hover"),this.uploadFiles(e.originalEvent.dataTransfer.files)},onKeyDown:function(e){27===e.which&&this.ui.upload.hasClass("show-form")&&(e.preventDefault(),this.ui.upload.removeClass("show-form"))},onFileChange:function(e){this.uploadFiles(e.target.files)},onUploadUrlClick:function(e){e.preventDefault(),this.ui.upload.addClass("show-form"),this.ui.urlInput.focus()},onCancelUrlClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-form")},onUrlSubmit:function(e){e.preventDefault();var t=this.ui.urlInput.val();t?this.uploadUrl(t):this.ui.upload.removeClass("show-form")},onUploadBackClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-success show-error")},onArtworkOptionClick:function(e){e.preventDefault();var t=s()(e.currentTarget),a=t.data("ratingKey");this.$(".artwork-option.selected").removeClass("selected"),t.addClass("selected"),this.changes[this.type]=a}}),ne=a("ZKO5"),ie=a("XmNb"),re=a("Wpyo"),se=a("0vpL"),oe=a.n(se),le=H.a.ItemView.extend({template:oe.a,tagName:"li",className:"well",serializeData:function(){return{file:this.model.get("file")}}}),ce=a("b3Ly"),de=a.n(ce),ue=H.a.CompositeView.extend({template:de.a,className:"files",itemView:le,itemViewContainer:"ul",initialize:function(){this.collection=new ie.a,this.populateParts().always(this.whenRendered((function(){this.$(".loading").addClass("hidden")})))},populateParts:function(){var e=this.collection;function t(e){var t=e.get("Media");if(t&&t.length)return l.a.each(t,a),t}function a(e){l.a.each(e.Part,n)}function n(t){e.push(t)}var i=this.model.getSingleMetadataItem();return t(i)?s.a.Deferred().resolve():i.populate().then((function(){if(!t(i)&&i.has("childrenKey")){const e=new re.default({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider,skipCache:!0});return e.fetch().then((function(){e.get("metadataItems").each(t)}))}}))},flushChanges:function(){}}),pe=a("JMV9"),me=a("zTsO"),he=(a("ZDL3"),a("DDbo")),ge=a("pxcU"),ye=a("+RUx"),fe=function(e,t){var a=s()(t),n=a.data("name"),i=a.data("query")||a.data("name"),r=a.data("attr"),o=!!a.data("only-delete"),c=e.model.get(r).toJSON(),d=l.a.pluck(c,"tag"),u=e.model["original.tag."+n];u||(u=l.a.clone(c),e.model["original.tag."+n]=u);var p=l.a.difference(d,l.a.pluck(u,"tag"));if(p.length){var m=l.a.map(p,(function(e){return{tag:e}}));m.unshift(u.length,0),u.splice.apply(u,m)}var h=function(t){e.model["original.allTagsRequested."+n]=!0,new ge.a({filter:n,filterType:"string"},{server:e.model.server,section:e.section,type:Object(E.getMetadataType)(e.model.get("type")).id}).get("options").populate().then(l.a.bind((function(a){e.model["original.allTagsAvailable."+n]=!0,t(a.map((function(e){return{tag:e.attributes.title}})))}),e))};a.data("original-value",a.val()),a.selectize({options:u,items:d,plugins:["remove_button"],create:!0,hideDropdown:o,labelField:"tag",valueField:"tag",sortField:"tag",searchField:["tag"],highlight:!1,createFilter:function(e){return!l()(this.options).findWhere({tag:e})},onInitialize:function(){o&&(this.$control.off("click mousedown"),this.$control.addClass("no-input"),this.$control_input.prop("disabled",!0))},onChange:function(){e.onLockableFieldChange(a)},onFocus:function(){this.onSearchChange("")},loadingClass:"",load:function(t,a){if(i!==n||t.length&&e.canAutocomplete)if(e.model["original.allTagsAvailable."+n]||0===t.length)a();else{var r={};r[i]=t;var s=new ye.a([],{server:e.model.server,multiMetadataItem:e.model,query:r}),o=i===n?function(e){return e.toJSON()}:function(e){return{tag:e.get(i)}};s.fetch().done((function(e){var t=e.map(o);a(t)})).fail((function(){a()}))}else e.model["original.allTagsRequested."+n]?a():h.call(e,a)},render:{item:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<span class="autocomplete-annotate">('+Object(S.default)("blank")+")</span>")+"</div>"},option:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<small class="autocomplete-annotate">('+Object(S.default)("blank")+")</small>")+"</div>"}}})},be=a("NN/D"),ve=a.n(be),Ie=a("I36r"),Se=a.n(Ie),Ee=a("9TTh"),Oe=a.n(Ee),Me=a("W/xp"),Ce=a.n(Me),je=a("hrOP"),De=a.n(je),Pe=a("ceEp"),Te=a.n(Pe),we=a("8Pq2"),Ne=a.n(we),xe=z.a.extend({templatesByType:{movie:Ce.a,show:Te.a,episode:Oe.a,artist:Se.a,album:ve.a,track:Ne.a,photo:De.a},ui:l.a.extend({tagInputs:".tag-input-hidden"},z.a.prototype.ui),events:l.a.extend({"change .lockable-field":"onLockableFieldChange"},z.a.prototype.events),initialize:function(e){this.template=this.templatesByType[this.model.get("type")]||this.templatesByType.movie,this.canAutocomplete=this.model.server.supports("batchEdit"),this.canEditSimilarArtists=this.model.server.supports("editSimilarArtists"),this.getSection()},getSection:function(){var e=this.model.section;if(!e){var t=this.model.get("librarySectionID");e=new he.a({key:t},{server:this.model.server})}this.section=e},flushChanges:function(){var e=this.ui.form,t=l.a.reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{}),a=l.a.reduce(this.ui.tagInputs,(function(e,t){var a=t.selectize,n=s()(t).data("name");return e[s()(t).data("attr")]=l.a.map(a.items,(function(e){var t=a.options[e];return{tag:t.tag,id:t.id}})),this.model["original.tag."+n]=l.a.toArray(a.options),e}),{},this);l.a.each(a,(function(e,t){this.model.get(t).set(e,{parse:!0})}),this),this.model.get("lockedFields").set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(t)},serializeData(){return this.model.get("editableTags").reduce((e,t)=>(e.editableTags[t]=!0,e),z.a.prototype.serializeData.apply(this,arguments))},onRender:function(){var e=this;this.ui.tagInputs.each((function(t,a){fe(e,a)}))}}),Ae=a("AsNd"),Le=a.n(Ae),ke=xe.extend({templatesByType:{movie:Le.a,show:Le.a,album:Le.a,photo:Le.a},serializeData:function(){var e=p.c("appModel"),t=e.get("user"),a=xe.prototype.serializeData.apply(this,arguments);const n=t.get("features").get(me.c);return l.a.extend(a,{showLabels:this.model.server.supports("labels"),escapedLabelsMinVersion:pe.a.labels,hasContentFilterFeature:n,plexPassUrl:t.server.get("plexPassUrl")}),a}}),Re=a("bsps"),ze=a("8b/l"),Ue=a("d0sW"),Ve=a.n(Ue),Be={movie:["general","tags","sharing","poster","art","info","advanced"],show:["general","tags","sharing","poster","banner","art","advanced"],season:["general","poster","art","info","advanced"],episode:["general","tags","poster","art","info","advanced"],artist:["general","tags","poster","art","advanced"],album:["general","tags","sharing","poster","art","info","advanced"],track:["general","tags","info","advanced"],photoalbum:["general","poster","art","advanced"],photo:["general","tags","info","advanced"],clip:["general","info","advanced"],collection:["general","sharing","poster","art","info","advanced"]},Fe=["poster","art","banner","info","advanced"];function He({server:e,provider:t,metadataTypeName:a,sectionKey:n}){const i=new h.a({key:"/library/sections/"+n},{server:e,provider:t,includeAdvanced:!0});return i.populate().then(()=>{const e=i.get("types").findWhere({type:a});return e?e.get("fields").filter(e=>e.get("type")===b.e).map(e=>e.get("key")):[]})}var _e=Re.a.extend({mixins:[O.a],name:"editMetadataModal",className:"edit-metadata-modal modal modal-lg fade",template:Ve.a,panes:{general:{constructor:ne.a},tags:{constructor:xe},poster:{constructor:ae},art:{constructor:ae},banner:{constructor:ae},sharing:{constructor:ke},info:{constructor:ue},advanced:{constructor:B}},events:{"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit",...Re.a.prototype.events},ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){Re.a.prototype.initialize.apply(this,arguments);const t=e.items||[this.model],a=t[0],n=a.server;this.model=new k({},{server:n,metadataItems:t}),this.on("before:close",this.onBeforeClose),this._initCancelable=Object(d.a)(a.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}).then(()=>{const e=Object(v.a)(a,{onlyIfCached:!1});return this.model.setContext("section",e),this.model.populate().then(()=>e.get("key"))}).then(e=>He({server:n,provider:a.provider,metadataTypeName:this.model.get("type"),sectionKey:e}))),this._initCancelable.promise.then(t=>{this.model.set({editableTags:t,originalSaveParams:this.model.getSaveParams()}),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(c.a,"shortcut:save",this.saveChanges)},({isCanceled:e})=>{e||(this.ui.message.text(Object(S.default)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden"))})},serializeData:function(){const e=this.model.get("type");let t=Be[e]||Be[E.MOVIE];this.model.get("isSingleMetadataItem")||(t=l.a.difference(t,Fe)),this.model.getSingleMetadataItem().has("preferences")||(t=l.a.difference(t,["advanced"])),this.model.getSingleMetadataItem().get("remoteMedia")&&(t=l.a.difference(t,["info"])),e!==E.PHOTO||this.model.server.supports("photoTagEdit")||(t=l.a.difference(t,["tags"]));var a=Object(S.default)("Edit {1}",this.model.get("aggregateTitle"),{escape:!0});return{item:this.model.toJSON(),panes:Object(y.a)(t,e=>e,()=>!0),selectedPane:this.selectedPane,paneTitle:a}},paneConstructorArg:function(){return{type:this.selectedPane}},invalidChangedAttrs:function(e){var t=[];const a=this.model.get("type");if(a===E.TRACK){var r=l.a.has(e,"artist.id.value")||l.a.has(e,"artist.title.value")||l.a.has(e,"album.id.value")||l.a.has(e,"album.title.value"),s=e["album.id.value"]||e["album.title.value"],o=e["artist.id.value"]||e["artist.title.value"];!r||o&&s||(o||t.push("grandparentTitle"),s||t.push("parentTitle"))}else if(a===E.ALBUM&&!this.model.get("isSingleMetadataItem")){const a=this.model.get("mixedFields"),n=l.a.has(e,"artist.title.value")||l.a.has(e,"artist.id.value"),i=l.a.includes(a,"ratingKey"),r=l.a.has(e,"title.value");i&&r&&!n&&t.push("parentTitle")}if(l.a.has(e,"originallyAvailableAt.value")){var c=e["originallyAvailableAt.value"];if(/^\d{4}$/.test(c)&&(e["originallyAvailableAt.value"]+="-01-01",c=e["originallyAvailableAt.value"]),""!==c){var d=Object(n.a)(Object(i.a)(c,"yyyy-MM-dd",new Date)),u=Object(n.a)(Object(i.a)(c,"yyyy-MM-dd HH:mm:ss",new Date));d||u||t.push("originallyAvailableAt")}else this.model.set("originallyAvailableAt",c)}return t},markInvalid:function(e){this.paneRegion.currentView.markInvalid(e)},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var a=[],n=this.model.getSaveParams(),i=this.invalidChangedAttrs(n);if(i.length)this.markInvalid(i);else{e.addClass("active");var r=this.showAdvancedConfirmModal({saving:!0});r.done(()=>{["poster","banner","art"].forEach(e=>{var t=this.model.get(e);t&&a.push(m.a.execute("changeArtwork",{item:this.model.getSingleMetadataItem(),artworkType:e,artworkRatingKey:t}))}),a.push(this.savePreferences()),a.push(this.model.save());var n=s.a.when.apply(s.a,a);n.done(()=>{var e=p.c("appStore").dispatch,t=this.model.server.entityID();t&&e(Object(g.c)({serverEntityID:t})),this.hide()}),n.fail((function(){t.text(Object(S.default)("Your changes could not be saved."))})),n.always((function(){e.removeClass("active")}))}),r.fail(()=>{e.removeClass("active"),this.showPane("advanced")})}}},savePreferences:function(){var e=this.model.get("preferences");if(!e.length)return s.a.Deferred().resolve().promise();var t=this.model.getSingleMetadataItem(),a=u.default.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),n=this.model.server.getXHROptions(a,{type:"PUT"}),i=s.a.ajax(n);return i.done(()=>{var a=t.get("preferences");e.forEach((function(e){a.get(e.id).set("value",e.get("value"))}));var n=p.c("appStore").dispatch,i=Object(I.a)({serverIdentifier:this.model.server.get("machineIdentifier"),providerIdentifier:f.d,key:t.get("key")});n(R.a.actions.preferenceChanged({sourceURI:i,preferences:e.toJSON()}))}),i},showAdvancedConfirmModal:function(){if(!this.model.get("preferences").some((function(e){return/^autoDeletion/.test(e.id)})))return s.a.Deferred().resolve().promise();var e=new ze.a({title:Object(S.default)("Confirm Deletion Settings"),message:Object(S.default)("Deletion settings will take effect immediately! Files may be deleted and this can't be undone. Are you sure?"),confirmLabel:Object(S.default)("Yes"),cancelLabel:Object(S.default)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:Object(S.default)("Multiple files may be deleted."),doubleConfirmLabel:Object(S.default)("Yes, I'm sure"),hasDanger:!0});return c.a.trigger("show:modal",e),e.promise},onBeforeClose:function(e){this._initCancelable.cancel()},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}});t.a=_e},OsFP:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a("G4qV"),i=a("F/us"),r=a.n(i),s=a("fVMv"),o=a("2BXX"),l=a("FIl5"),c=a("xSXQ");const d={s:"seconds",m:"minutes",h:"hours",d:"days",w:"weeks",M:"months",y:"years"};function u(e){if("now"===e)return{};const t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){const[,e,a]=t;if(e&&a)return{[d[a]]:parseInt(e,10)}}else{const t=parseInt(e,10);if(r.a.isNumber(t))return t}return{}}function p(e,t){return!(!r.a.isObject(t)||!Object(s.a)(e,t))||e>=t}function m(e,t){return!(!r.a.isObject(t)||!Object(o.a)(e,t))||e<=t}function h(){return Object(n.a)((e,{containerKey:t})=>t,Object(c.a)(),(e,t)=>{if(!t||!t.Media)return;const a=function(e){if(!e)return;const[,t]=e.split("?");return t?l.a.parseQueryString(t):void 0}(e),n=r.a.sortBy(t.Media,"endsAt"),i=Date.now()/1e3;for(let e=0,t=n.length;e<t;e++){const t=n[e];if(a){const e=a["beginsAt>"],n=a["beginsAt<"],i=a["endsAt>"],r=a["endsAt<"];if(e){const a=u(e);if(m(t.beginsAt,a))continue}if(n){const e=u(n);if(p(t.beginsAt,e))continue}if(i){const e=u(i);if(m(t.endsAt,e))continue}if(r){const e=u(r);if(p(t.endsAt,e))continue}}if(t.endsAt>i)return t}return r.a.first(n)})}},OtNE:function(e,t,a){e.exports={container:"ServerLogLineModal-container-36025E",containerWithTimeFilter:"ServerLogLineModal-containerWithTimeFilter-HpbS0j",closeButton:"ServerLogLineModal-closeButton-33oO-Y Link-link-2n0yJn",action:"ServerLogLineModal-action-3YbmGc",label:"ServerLogLineModal-label-11MSOm",containerError:"ServerLogLineModal-containerError-BFsDKE ServerLogLineModal-container-36025E",containerWarning:"ServerLogLineModal-containerWarning-1L6UQw ServerLogLineModal-container-36025E",containerInfo:"ServerLogLineModal-containerInfo-1xSNjM ServerLogLineModal-container-36025E",containerDebug:"ServerLogLineModal-containerDebug-1_0AQ7 ServerLogLineModal-container-36025E",containerVerbose:"ServerLogLineModal-containerVerbose-3MAAhh ServerLogLineModal-container-36025E",containerUnknown:"ServerLogLineModal-containerUnknown-3YTiLQ ServerLogLineModal-container-36025E",levelError:"ServerLogLineModal-levelError-ATM6vg",levelWarning:"ServerLogLineModal-levelWarning-3o-hUc",levelInfo:"ServerLogLineModal-levelInfo-GC9mts"}},OwEl:function(e,t,a){"use strict";var n=a("XmNb"),i=a("F/us"),r=a.n(i),s=a("1CqU"),o=a("e/b/");var l=s.a.extend({urlRoot:"/api/home/users",whitelistedAttrs:["id","uuid","admin","protected","restricted","restrictionProfile","guest","title","username","email","thumb"],convert(e){let t=r.a.isObject(e)?e:o.a.parseXML(e);return t.User&&(t=t.User),o.a.parseInteger(t,"id"),o.a.parseBoolean(t,["admin","protected","restricted","guest"]),t},parse(e){let t=this.convert(e);return t=r.a.pick(t,this.whitelistedAttrs),t},getSaveParams(e,t){if(r.a.isEmpty(e)){const e={};return this.get("restricted")?e.title=this.get("title"):this.isNew()&&(e.invitedEmail=this.get("username")),e}return s.a.prototype.getSaveParams.apply(this,arguments)}});const c=n.a.extend({model:l,url:"/api/home/users",parse(e){return this.convert(e,"User")}});t.a=c},P0vZ:function(e,t,a){e.exports={isDecisionPending:"PlayerMedia-isDecisionPending-3d0gXT"}},P24g:function(e,t,a){"use strict";t.a=function(e={},t={}){return function(e,t){const a=Object.keys(e);return t.orFields&&t.andFields&&a.sort((e,a)=>t.orFields.includes(e)&&t.andFields.includes(a)?-1:t.andFields.includes(e)&&t.orFields.includes(a)?1:0),a}(e,t).reduce((a,n,i)=>{let r=t.separator||"&";return 0===i?r="":t.orFields&&t.orFields.includes(n)?r="|":t.andFields&&t.andFields.includes(n)&&(r="&"),a+`${r}${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`},"")}},"P5+F":function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l}));const n="untested",i="pending",r="connected",s="unauthorized",o="unavailable",l="aborted"},P5aE:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){return"checked"}function m(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.experienceSettings)||!1===r?r:r.allowHttpFallback,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function h(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.deviceSettings)||!1===r?r:r["settings.keepOnTop"],{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c("function"==typeof(r=e&&e.title)?r.apply(e):r)+"</option> "}function g(e,t){var a,i="";return i+=' <div class="form-group advanced-setting" > <button type="button" class="toggle-sync-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">',((a=n.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.shouldSyncSettings,{hash:{},inverse:d.program(27,f,t),fn:d.program(25,y,t),data:t}))||0===a)&&(i+=a),i+='</span> </button> <p class="help-block"> ',((a=n.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.shouldSyncSettings,{hash:{},inverse:d.program(31,v,t),fn:d.program(29,b,t),data:t}))||0===a)&&(i+=a),i+=" </p> </div> "}function y(e,t){return c(i(a("d8WC")).call(e,"Turn off settings sync",{hash:{},data:t}))}function f(e,t){return c(i(a("d8WC")).call(e,"Turn on settings sync",{hash:{},data:t}))}function b(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Currently all {1} settings and customization are synchronized with other {1} instances.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function v(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Currently all {1} settings and customization apply to this {1} instance only.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function I(e,t){var r,s="";return s+=' <div class="form-group"> <label for="chromecastAppID">★ Chromecast Receiver</label> <select id="chromecastAppID"> ',((r=n.each.call(e,e&&e.chromecastAppIDs,{hash:{},inverse:d.noop,fn:d.programWithDepth(51,S,t,e),data:t}))||0===r)&&(s+=r),s+=' </select> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> <div id="chromecast-custom-group" class="form-group ',((r=i(a("WX+G")).call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r.chromecastAppID,"custom",{hash:{},inverse:d.noop,fn:d.program(53,E,t),data:t}))||0===r)&&(s+=r),s+='"> <label for="chromecastCustomAppID">Custom Chromecast Application ID</label> <input type="text" id="chromecastCustomAppID" class="form-control" placeholder="Application ID" value="'+c("function"==typeof(r=null==(r=e&&e.deviceSettings)||!1===r?r:r.chromecastCustomAppID)?r.apply(e):r)+'"> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> '}function S(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.deviceSettings)||!1===r?r:r.chromecastAppID,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function E(e,t){return"hidden"}function O(e,t){var n,r="";return r+=' <div class="form-group"> <label for="">★ Report Inspector Port</label> <select id="settings.webInspectorPort" data-type="int"> <option value="0" ',((n=i(a("w+Xr")).call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"],0,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(r+=n),r+='>Disabled</option> <option value="9222" ',((n=i(a("w+Xr")).call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"],9222,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(r+=n),r+='>9222</option> <option value="9229" ',((n=i(a("w+Xr")).call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"],9229,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(r+=n),r+='>9229</option> <option value="9992" ',((n=i(a("w+Xr")).call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"],9992,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(r+=n),r+='>9992</option> </select> <p class="help-block">Save then restart to take effect. Afterwards use Chrome to select Plex from chrome://inspect/#devices.</p> </div> '}function M(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.deviceSettings)||!1===r?r:r.debugAdKind,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function C(e,t){var a,i="";return i+=' <option value="'+c("function"==typeof(a=e&&e.cid)?a.apply(e):a)+'" ',((a=n.if.call(e,e&&e.isSelected,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===a)&&(i+=a),i+=">"+c("function"==typeof(a=e&&e.title)?a.apply(e):a)+"</option> "}function j(e,t){var a,i="";return i+=' <fieldset class="audio-device-fields',((a=n.unless.call(e,e&&e.isSelected,{hash:{},inverse:d.noop,fn:d.program(72,D,t),data:t}))||0===a)&&(i+=a),i+='" data-cid="'+c("function"==typeof(a=e&&e.cid)?a.apply(e):a)+'"> ',((a=n.if.call(e,e&&e.kinds,{hash:{},inverse:d.noop,fn:d.program(74,P,t),data:t}))||0===a)&&(i+=a),i+=" </fieldset> "}function D(e,t){return" hidden"}function P(e,t){var r,s="";return s+=' <div class="form-group advanced-setting"> <label> '+c(i(a("d8WC")).call(e,"Audio Device Kind",{hash:{},data:t}))+' <select id="'+c(i(a("ZLEm")).call(e,"ignore",{hash:{},data:t}))+'" class="audio-device-kind" data-cid="'+c("function"==typeof(r=e&&e.cid)?r.apply(e):r)+'"> ',((r=n.each.call(e,e&&e.kinds,{hash:{},inverse:d.noop,fn:d.programWithDepth(75,T,t,e),data:t}))||0===r)&&(s+=r),s+=" </select> </label> </div> ",((r=n.each.call(e,e&&e.capabilities,{hash:{},inverse:d.noop,fn:d.programWithDepth(77,w,t,e),data:t}))||0===r)&&(s+=r),s+=" "}function T(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,n&&n.kind,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c("function"==typeof(r=e&&e.title)?r.apply(e):r)+"</option> "}function w(e,t,r){var s,o="";return o+=' <fieldset class="audio-device-kind-fields',((s=i(a("WX+G")).call(e,e&&e.kind,r&&r.kind,{hash:{},inverse:d.noop,fn:d.program(72,D,t),data:t}))||0===s)&&(o+=s),o+='" data-cid="'+c("function"==typeof(s=r&&r.cid)?s.apply(e):s)+'" data-kind="'+c("function"==typeof(s=e&&e.kind)?s.apply(e):s)+'"> <div class="form-group advanced-setting"> <label> '+c(i(a("d8WC")).call(e,"Audio Channels",{hash:{},data:t}))+' <select name="channelLayout" id="'+c(i(a("ZLEm")).call(e,"ignore",{hash:{},data:t}))+'" data-cid="'+c("function"==typeof(s=r&&r.cid)?s.apply(e):s)+'"> ',((s=n.each.call(e,e&&e.channelLayoutSettings,{hash:{},inverse:d.noop,fn:d.programWithDepth(78,N,t,r),data:t}))||0===s)&&(o+=s),o+=' </select> </label> </div> <div class="form-group advanced-setting hidden"> <label class="control-label"> <input name="transcodeToAC3" type="checkbox" id="'+c(i(a("ZLEm")).call(e,"ignore",{hash:{},data:t}))+'" ',((s=n.if.call(e,null==(s=e&&e.transcodeToAC3Setting)||!1===s?s:s.value,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(o+=s),o+=' disabled data-cid="'+c("function"==typeof(s=r&&r.cid)?s.apply(e):s)+'" /> '+c(i(a("d8WC")).call(e,null==(s=e&&e.transcodeToAC3Setting)||!1===s?s:s.title,{hash:{},data:t}))+" </label> </div> ",((s=n.each.call(e,e&&e.passthroughCodecSettings,{hash:{},inverse:d.noop,fn:d.programWithDepth(80,x,t,r),data:t}))||0===s)&&(o+=s),o+=" </fieldset> "}function N(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,n&&n.channelLayout,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c("function"==typeof(r=e&&e.title)?r.apply(e):r)+"</option> "}function x(e,t,n){var r,s="";return s+=' <div class="form-group advanced-setting audio-passthrough-codec"> <label class="control-label"> <input name="passthroughCodecs" type="checkbox" id="'+c(i(a("ZLEm")).call(e,"ignore",{hash:{},data:t}))+'" value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("nnsB")).call(e,n&&n.passthroughCodecs,e&&e.value,{hash:{},inverse:d.noop,fn:d.program(81,A,t),data:t}))||0===r)&&(s+=r),s+=' data-cid="'+c("function"==typeof(r=n&&n.cid)?r.apply(e):r)+'"> '+c("function"==typeof(r=e&&e.title)?r.apply(e):r)+" </label> </div> "}function A(e,t){return" checked"}function L(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.experienceSettings)||!1===r?r:r.subtitlesBurnLevel,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function k(e,t){var a,i="";return i+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.refreshRateSwitchingEnabled" ',((a=n.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a["player.refreshRateSwitchingEnabled"],{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===a)&&(i+=a),i+='> ★ Refresh Rate Switching Enabled </label> <p class="help-block">Change refresh rate of display to match video when playing in fullscreen.</p> </div> <div class="form-group advanced-setting"> <label for="player.refreshRateSwitchingDelayMilliseconds">★ Refresh Rate Switching Delay</label> <select id="player.refreshRateSwitchingDelayMilliseconds"> ',((a=n.each.call(e,e&&e.refreshRateSwitchingDelaySettings,{hash:{},inverse:d.noop,fn:d.programWithDepth(94,R,t,e),data:t}))||0===a)&&(i+=a),i+=' </select> <p class="help-block">Delay to briefly pause playback after a refresh rate switch.</p> </div> '}function R(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.deviceSettings)||!1===r?r:r["player.refreshRateSwitchingDelayMilliseconds"],{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function z(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.experienceSettings)||!1===r?r:r.musicDownloadQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c("function"==typeof(r=e&&e.title)?r.apply(e):r)+"</option> "}function U(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.experienceSettings)||!1===r?r:r.videoDownloadQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c("function"==typeof(r=e&&e.title)?r.apply(e):r)+"</option> "}function V(e,t){return' <hr /> <div class="form-group advanced-setting"> <button type="button" class="reset-reminders-btn btn btn-sm btn-primary form-control-btn"> <span class="btn-label"> ★ Reset reminders</span> </button> <p class="help-block">Reset all Plex Web reminders for this user. Reload to take effect.</p> </div> '}function B(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"NOTE: If {1}settings sync{2} is also turned on, settings on other {4} instances may also be reset. Use with caution.",'<a href="{3}">',"</a>",e&&e.generalSettingsRoute,e&&e.escapedProductName,{hash:{},data:t}))+" "}return l+='<div class="filter-bar"> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right basic-setting">'+c(i(a("d8WC")).call(t,"Show Advanced",{hash:{},data:s}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right advanced-setting">'+c(i(a("d8WC")).call(t,"Hide Advanced",{hash:{},data:s}))+"</button> </div> ",((o=n.if.call(t,t&&t.showReloadSecurely,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n,r="";return r+=' <div class="filter-bar-warning"> <span class="filter-bar-warning-text"> <span class="filter-bar-warning-alert-icon"> ',((n="function"==typeof(n=e&&e.alertIcon)?n.apply(e):n)||0===n)&&(r+=n),r+=" </span> "+c(i(a("d8WC")).call(e,"Your connection to the web app is not secure.",{hash:{},data:t}))+' </span> <button class="reload-securely-btn btn btn-sm btn-primary"> '+c(i(a("d8WC")).call(e,"Reload Securely",{hash:{},data:t}))+" </button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-sm-12 col-md-12"> <form id="web-settings-form"> <div id="general-web-group" class="settings-group"> <h4 class="version-title"> '+c(i(a("d8WC")).call(t,"Version",{hash:{},data:s}))+" "+c("function"==typeof(o=t&&t.version)?o.apply(t):o)+' </h4> <div class="form-group"> <label for="language">'+c(i(a("d8WC")).call(t,"Language",{hash:{},data:s}))+'</label> <select id="language"> ',((o=n.each.call(t,t&&t.languages,{hash:{},inverse:d.noop,fn:d.programWithDepth(3,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.experienceSettings)||!1===r?r:r.language,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+="> "+c("function"==typeof(r=e&&e.title)?r.apply(e):r)+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(i(a("d8WC")).call(t,"Help us translate this app into your language {1}here{2}.",'<a href="https://transifex.com/plex-1/plex-web" target="_blank">',"</a>",{hash:{},data:s}))+"</p> </div> ",((o=n.if.call(t,t&&t.hasV4DirectoryFeature,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var a,i="";return i+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="v4DirectoryEnabled" ',((a=n.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.v4DirectoryEnabled,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===a)&&(i+=a),i+='> Experimental directory pages </label> <p class="help-block">Preview the v4 directory pages. (Requires Auto Home)</p> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.hasV4DVRSetupFeature,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var a,i="";return i+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="v4DVRSetupEnabled" ',((a=n.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.v4DVRSetupEnabled,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===a)&&(i+=a),i+='> Experimental DVR setup </label> <p class="help-block">Preview the v4 DVR setup page.</p> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.unless.call(t,t&&t.isRestricted,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){var r,s="";return s+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoLogin" ',((r=n.if.call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r.autoLogin,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("d8WC")).call(e,"Automatically Sign In",{hash:{},data:t}))+' </label> <p class="help-block">'+c(i(a("d8WC")).call(e,"Do not prompt to select a user or enter a PIN during startup on this device.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="shouldSaveLastSourcePivots" ',((o=n.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.shouldSaveLastSourcePivots,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(a("d8WC")).call(t,"Remember selected tab",{hash:{},data:s}))+' </label> <p class="help-block">'+c(i(a("d8WC")).call(t,"Default to the last selected tab for a media source.",{hash:{},data:s}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="playThemeMusic" ',((o=n.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.playThemeMusic,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(a("d8WC")).call(t,"Play Theme Music",{hash:{},data:s}))+' </label> <p class="help-block">'+c(i(a("d8WC")).call(t,"Automatically play theme music in the background when available.",{hash:{},data:s}))+"</p> </div> ",((o=n.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){var r,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="companion" ',((r=n.if.call(e,null==(r=e&&e.experienceSettings)||!1===r?r:r.companion,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("d8WC")).call(e,"Advertise as player",{hash:{},data:t}))+' </label> <p class="help-block">'+c(i(a("d8WC")).call(e,"Allow other Plex apps to fling content to this device and control it remotely.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.httpFallbackOptions,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var r,s="";return s+=' <div class="form-group advanced-setting"> <label for="allowHttpFallback">'+c(i(a("d8WC")).call(e,"Allow Fallback to Insecure Connections",{hash:{},data:t}))+'</label> <select id="allowHttpFallback"> ',((r=n.each.call(e,e&&e.httpFallbackOptions,{hash:{},inverse:d.noop,fn:d.programWithDepth(16,m,t,e),data:t}))||0===r)&&(s+=r),s+=' </select> <p class="help-block">'+c(i(a("d8WC")).call(e,"Allow this app to make insecure connections to Plex Media Server if secure connections fail.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label for="timeFormat">'+c(i(a("d8WC")).call(t,"Time Format",{hash:{},data:s}))+'</label> <select id="timeFormat"> ',((o=n.each.call(t,t&&t.timeFormats,{hash:{},inverse:d.noop,fn:d.programWithDepth(18,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.experienceSettings)||!1===r?r:r.timeFormat,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=n.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(20,(function(e,t){var r,s="";return s+=' <div class="form-group"> <label for="settings.keepOnTop">'+c(i(a("d8WC")).call(e,"Keep Plex on top of windows",{hash:{},data:t}))+'</label> <select id="settings.keepOnTop"> ',((r=n.each.call(e,e&&e.keepOnTopSettings,{hash:{},inverse:d.noop,fn:d.programWithDepth(21,h,t,e),data:t}))||0===r)&&(s+=r),s+=" </select> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:d.noop,fn:d.program(23,(function(e,t){var r,s="";return s+=' <hr class="advanced-setting" /> ',((r=n.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:d.noop,fn:d.program(24,g,t),data:t}))||0===r)&&(s+=r),s+=' <div class="form-group advanced-setting" > <button type="button" class="reset-customization-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(e,"Reset customization",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+c(i(a("d8WC")).call(e,"Reset sidebar navigation and home screen layout to the default state. You’ll be redirected to the {1} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",e&&e.escapedProducttName,{hash:{},data:t}))+" </p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <hr class="advanced-setting" /> ',((o=n.if.call(t,t&&t.isSyncSettingsRestrictedBySchemaVersion,{hash:{},inverse:d.noop,fn:d.program(33,(function(e,t){var n,r="";return r+=' <p class="help-block"> <span class="inline-icon">',((n="function"==typeof(n=e&&e.alertIcon)?n.apply(e):n)||0===n)&&(r+=n),r+="</span> "+c(i(a("d8WC")).call(e,"Any {1} settings and customization made in this {1} instance will not be synchronized with other {1} instances. This is because we have detected you have previously saved settings from a newer version of {1}.",e&&e.escapedProductName,{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div id="quality-web-group" class="settings-group"> ',((o=n.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(35,(function(e,t){var r,s="";return s+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoAdjustQuality" ',((r=n.if.call(e,null==(r=e&&e.experienceSettings)||!1===r?r:r.autoAdjustQuality,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("d8WC")).call(e,"Automatically adjust quality (Beta)",{hash:{},data:t}))+' </label> <p class="help-block">'+c(i(a("d8WC")).call(e,"Plex will increase or decrease quality based on connection speed. Requires latest Plex Media Server.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <h4 class="',((o=n.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.program(39,(function(e,t){return"settings-header-first"}),s),fn:d.program(37,(function(e,t){return"settings-header"}),s),data:s}))||0===o)&&(l+=o),l+='">'+c(i(a("d8WC")).call(t,"Internet Streaming",{hash:{},data:s}))+'</h4> <div class="form-group"> <label for="remoteQuality">'+c(i(a("d8WC")).call(t,"Video quality",{hash:{},data:s}))+'</label> <select id="remoteQuality" data-type="int"> <option value="-1">'+c(i(a("d8WC")).call(t,"Maximum",{hash:{},data:s}))+"</option> ",((o=n.each.call(t,t&&t.availableQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(41,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.index)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.index,null==(r=n&&n.experienceSettings)||!1===r?r:r.remoteQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("HdxU")).call(e,e,{hash:{},data:t}))+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(i(a("d8WC")).call(t,"Set the default quality for streaming video over the internet. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:s}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="remoteSmallVideoAtOriginalQuality" ',((o=n.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.remoteSmallVideoAtOriginalQuality,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(a("d8WC")).call(t,"Play smaller videos at original quality",{hash:{},data:s}))+' </label> <p class="help-block"> '+c(i(a("d8WC")).call(t,"When a video file is smaller than the quality above, try playing the original video without converting. This preserves full quality, but playback may pause frequently.",{hash:{},data:s}))+" ",((o=n.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(43,(function(e,t){return c(i(a("d8WC")).call(e,'"Automatically adjust quality" will be disabled for these videos.',{hash:{},data:t}))}),s),data:s}))||0===o)&&(l+=o),l+=' </p> </div> <h4 class="settings-header">'+c(i(a("d8WC")).call(t,"Home Streaming",{hash:{},data:s}))+'</h4> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="useHomeStreamingRecommendedSettings" ',((o=n.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.useHomeStreamingRecommendedSettings,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(a("d8WC")).call(t,"Use recommended settings",{hash:{},data:s}))+' </label> <p class="help-block recommended-home-streaming-settings">'+c(i(a("d8WC")).call(t,"All compatible videos will play at original quality. Incompatible videos will be converted at maximum quality.",{hash:{},data:s}))+'</p> </div> <div class="form-group custom-home-streaming-settings"> <label for="localQuality">'+c(i(a("d8WC")).call(t,"Video quality",{hash:{},data:s}))+'</label> <select id="localQuality" data-type="int"> <option value="-1">'+c(i(a("d8WC")).call(t,"Maximum",{hash:{},data:s}))+"</option> ",((o=n.each.call(t,t&&t.availableQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(45,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.index)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.index,null==(r=n&&n.experienceSettings)||!1===r?r:r.localQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("HdxU")).call(e,e,{hash:{},data:t}))+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(i(a("d8WC")).call(t,"Choose the default video quality to use for local Wi-Fi streaming on home networks. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:s}))+'</p> </div> </div> <div id="debug-web-group" class="settings-group"> <div class="form-group"> <label for="debugLevel">'+c(i(a("d8WC")).call(t,"Debug Level",{hash:{},data:s}))+'</label> <select id="debugLevel" data-type="int"> ',((o=n.each.call(t,t&&t.debugLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(47,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.deviceSettings)||!1===r?r:r.debugLevel,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(i(a("d8WC")).call(t,"You can view the debug logs {1}here{2}.",'<a href="#!/logs">',"</a>",{hash:{},data:s}))+"</p> </div> ",((o=n.if.call(t,t&&t.isNinja,{hash:{},inverse:d.noop,fn:d.program(49,(function(e,t){var a,i="";return i+=" ",((a=n.unless.call(e,e&&e.isHybridPlatform,{hash:{},inverse:d.noop,fn:d.program(50,I,t),data:t}))||0===a)&&(i+=a),i+=' <div class="form-group"> <label for="sonosCustomBaseURL">★ Custom Sonos Environment</label> <input type="text" id="sonosCustomBaseURL" class="form-control" placeholder="Base URL" value="'+c("function"==typeof(a=null==(a=e&&e.deviceSettings)||!1===a?a:a.sonosCustomBaseURL)?a.apply(e):a)+'"> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="rejectDirectConnections" ',((a=n.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.rejectDirectConnections,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===a)&&(i+=a),i+='> ★ Reject direct connections </label> <p class="help-block">Forces relayed connections if available. Refresh after saving this setting for it to take effect.</p> </div> ',((a=n.if.call(e,e&&e.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(55,O,t),data:t}))||0===a)&&(i+=a),i+=" "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directPlay" ',((o=n.if.call(t,null==(o=t&&t.deviceSettings)||!1===o?o:o.directPlay,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(a("d8WC")).call(t,"Direct Play",{hash:{},data:s}))+' </label> <p class="help-block"> ',((o=n.if.call(t,t&&t.isHybridPlatform,{hash:{},inverse:d.program(59,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Allows the player to play compatible media without any conversion. In most browsers, direct play supports MP4 videos with h264 video and AAC audio. Videos with subtitles cannot be played directly.",{hash:{},data:t}))+" "}),s),fn:d.program(57,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Allows the player to play compatible media without any conversion.",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directStream" ',((o=n.if.call(t,null==(o=t&&t.deviceSettings)||!1===o?o:o.directStream,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(a("d8WC")).call(t,"Direct Stream",{hash:{},data:s}))+' </label> <p class="help-block">'+c(i(a("d8WC")).call(t,"Allows the server to copy compatible audio and video streams without converting them.",{hash:{},data:s}))+"</p> </div> ",((o=n.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:d.noop,fn:d.program(61,(function(e,t){var r,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="forceTranscodeProtocolHLS" ',((r=n.if.call(e,null==(r=e&&e.experienceSettings)||!1===r?r:r.forceTranscodeProtocolHLS,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("d8WC")).call(e,"Use alternate streaming protocol for video playback",{hash:{},data:t}))+' </label> <p class="help-block">'+c(i(a("d8WC")).call(e,"Experimental workaround for Chrome, Edge, and other Chromium based browsers which may avoid unexpected skipping during video playback. The workaround will not be used if automatic quality adjusting is enabled.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.canDebugAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(63,(function(e,t){var a,i="";return i+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="debugVideoQualityOverlay" ',((a=n.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.debugVideoQualityOverlay,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===a)&&(i+=a),i+='> Video quality overlay </label> <p class="help-block">Burns a quality information overlay on video when automatically adjusting quality.</p> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.canDebugAds,{hash:{},inverse:d.noop,fn:d.program(65,(function(e,t){var a,i="";return i+=' <div class="form-group"> <label for="debugAdKind">★ Debug advertisements</label> <select id="debugAdKind" data-type="int"> ',((a=n.each.call(e,e&&e.debugAdKinds,{hash:{},inverse:d.noop,fn:d.programWithDepth(66,M,t,e),data:t}))||0===a)&&(i+=a),i+=' </select> <p class="help-block">Instructs ad supporting providers to return one or more advertisements. Remember to disable any ad blockers.</p> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div id="player-web-group" class="settings-group"> <h4 class="settings-header-first">'+c(i(a("d8WC")).call(t,"Audio & Subtitles",{hash:{},data:s}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="normalizeDownmixedVolume" ',((o=n.if.call(t,t&&t.normalizeDownmixedVolume,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(a("d8WC")).call(t,"Normalize Multi-channel Audio",{hash:{},data:s}))+' </label> <p class="help-block">'+c(i(a("d8WC")).call(t,"Reduce volume to avoid clipping when converting from multi-channel audio formats.",{hash:{},data:s}))+"</p> </div> ",((o=n.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(68,(function(e,t){var r,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.exclusiveAudioEnabled" ',((r=n.if.call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r["player.exclusiveAudioEnabled"],{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("d8WC")).call(e,"Exclusive Audio",{hash:{},data:t}))+' </label> <p class="help-block">'+c(i(a("d8WC")).call(e,"Bypasses the system audio mixer, ensuring that only the media's audio is sent unchanged to the output device. This prevents sounds from other applications on the selected device.",{hash:{},data:t}))+'</p> </div> <div class="form-group advanced-setting"> <label> '+c(i(a("d8WC")).call(e,"Audio Device",{hash:{},data:t}))+' <select id="player.audioDevice" class="audio-device-name"> ',((r=n.each.call(e,e&&e.audioDevices,{hash:{},inverse:d.noop,fn:d.program(69,C,t),data:t}))||0===r)&&(s+=r),s+=" </select> </label> </div> ",((r=n.each.call(e,e&&e.audioDevices,{hash:{},inverse:d.noop,fn:d.program(71,j,t),data:t}))||0===r)&&(s+=r),s+=" "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label for="subtitleColor">'+c(i(a("d8WC")).call(t,"Subtitle Color",{hash:{},data:s}))+'</label> <select id="subtitleColor"> ',((o=n.each.call(t,t&&t.subtitleColors,{hash:{},inverse:d.noop,fn:d.programWithDepth(83,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.experienceSettings)||!1===r?r:r.subtitleColor,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> </div> <div class="form-group"> <label for="subtitlePosition">'+c(i(a("d8WC")).call(t,"Subtitle Position",{hash:{},data:s}))+'</label> <select id="subtitlePosition"> ',((o=n.each.call(t,t&&t.subtitlePositions,{hash:{},inverse:d.noop,fn:d.programWithDepth(85,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.experienceSettings)||!1===r?r:r.subtitlePosition,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> </div> <div class="form-group"> <label for="subtitleSize">'+c(i(a("d8WC")).call(t,"Subtitle Size",{hash:{},data:s}))+'</label> <select id="subtitleSize" data-type="int"> ',((o=n.each.call(t,t&&t.subtitleSizes,{hash:{},inverse:d.noop,fn:d.programWithDepth(87,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.experienceSettings)||!1===r?r:r.subtitleSize,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=n.if.call(t,t&&t.hasSubtitleBurnLevel,{hash:{},inverse:d.noop,fn:d.program(89,(function(e,t){var r,s="";return s+=' <div class="form-group advanced-setting"> <label for="subtitlesBurnLevel">'+c(i(a("d8WC")).call(e,"Burn Subtitles",{hash:{},data:t}))+'</label> <select id="subtitlesBurnLevel"> ',((r=n.each.call(e,e&&e.subtitlesBurnLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(90,L,t,e),data:t}))||0===r)&&(s+=r),s+=' </select> <p class="help-block">'+c(i(a("d8WC")).call(e,"Determines if the server should burn in subtitles when converting video depending on the subtitles format. Avoiding burn in improves server performance and is only supported by the HTML5 player.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(92,(function(e,t){var r,s="";return s+=' <h4 class="settings-header advanced-setting">'+c(i(a("d8WC")).call(e,"Video",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.hardwareDecodingEnabled" ',((r=n.if.call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r["player.hardwareDecodingEnabled"],{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("d8WC")).call(e,"Use Hardware Decoding",{hash:{},data:t}))+' </label> <p class="help-block">'+c(i(a("d8WC")).call(e,"Hardware decoding may improve video playback performance. Disable this setting if you encounter unexpected playback problems.",{hash:{},data:t}))+"</p> </div> ",((r=n.if.call(e,e&&e.isNinja,{hash:{},inverse:d.noop,fn:d.program(93,k,t),data:t}))||0===r)&&(s+=r),s+=" "}),s),data:s}))||0===o)&&(l+=o),l+=' <h4 class="settings-header">'+c(i(a("d8WC")).call(t,"Extras",{hash:{},data:s}))+'</h4> <div class="form-group"> <label for="extrasPrefixCount">'+c(i(a("d8WC")).call(t,"Cinema Trailers to Play Before Movies",{hash:{},data:s}))+'</label> <select id="extrasPrefixCount" data-type="int"> ',((o=n.each.call(t,t&&t.extrasPrefixCounts,{hash:{},inverse:d.noop,fn:d.programWithDepth(96,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,null==(r=n&&n.experienceSettings)||!1===r?r:r.extrasPrefixCount,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+=">"+c(i(a("d8WC")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=n.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:d.noop,fn:d.program(98,(function(e,t){var r,s="";return s+=' <h4 class="settings-header advanced-setting">'+c(i(a("d8WC")).call(e,"Chromecast",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="audioForceMultiChannel" ',((r=n.if.call(e,null==(r=e&&e.experienceSettings)||!1===r?r:r.audioForceMultiChannel,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("d8WC")).call(e,"Force multi-channel audio support",{hash:{},data:t}))+' </label> <p class="help-block">'+c(i(a("d8WC")).call(e,"Forces Chromecast to allow six channel surround sound whether or not the device reports support.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=n.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(100,(function(e,t){var r,s="";return s+=' <div id="downloads-web-group" class="settings-group"> <div class="form-group"> <label for="musicDownloadQuality">'+c(i(a("d8WC")).call(e,"Music Quality",{hash:{},data:t}))+'</label> <select id="musicDownloadQuality" data-type="int"> ',((r=n.each.call(e,e&&e.musicDownloadQualityLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(101,z,t,e),data:t}))||0===r)&&(s+=r),s+=' </select> </div> <div class="form-group"> <label for="videoDownloadQuality">'+c(i(a("d8WC")).call(e,"Video Quality",{hash:{},data:t}))+'</label> <select id="videoDownloadQuality" data-type="int"> ',((r=n.each.call(e,e&&e.videoDownloadQualityLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(103,U,t,e),data:t}))||0===r)&&(s+=r),s+=' </select> </div> <p class="help-block">'+c(i(a("d8WC")).call(e,"Lower quality downloads use less disk space. Media will be converted on the server.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> ',((o=n.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:d.noop,fn:d.program(105,(function(e,t){var r,s="";return s+=' <div id="debug-web-group-footer" class="settings-group"> ',((r=n.if.call(e,e&&e.isNinja,{hash:{},inverse:d.noop,fn:d.program(106,V,t),data:t}))||0===r)&&(s+=r),s+=' <hr /> <div class="form-group"> <button type="button" class="restore-btn btn btn-sm btn-danger btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(e,"Restore defaults",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+c(i(a("d8WC")).call(e,"All {1} settings and customization will be reset and restored to their default state.",e&&e.escapedProductName,{hash:{},data:t}))+" ",((r=n.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:d.noop,fn:d.program(108,B,t),data:t}))||0===r)&&(s+=r),s+=" </p> </div> <hr /> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </form> </div> </div> "}))},P9FS:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("Qc+q"),i=a("gnaf");function r(e){const t=Object(n.a)(e).get("metadataItem");return i.l(t.provider.get("identifier"),i.b)}},P9eC:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="form-group"> <label for="lockable-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'">'+c((o=a("d8WC"),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:r}))+'</label> <div class="input-group selectize-group"> <a href="#" data-field="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="input-group-addon edit-lock-addon',((s=n.if.call(t,t&&t.locked,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return" locked"}),r),data:r}))||0===s)&&(l+=s),l+='"><i class="glyphicon lock"></i></a> <input type="text" id="lockable-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="form-control lockable-field tag-input-hidden" data-name="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" data-attr="'+c("function"==typeof(s=t&&t.attribute)?s.apply(t):s)+'" data-only-delete="'+c("function"==typeof(s=t&&t.onlyDelete)?s.apply(t):s)+'" ',((s=n.if.call(t,t&&t.query,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var a,n="";return n+='data-query="'+c("function"==typeof(a=e&&e.query)?a.apply(e):a)+'"'}),r),data:r}))||0===s)&&(l+=s),l+="> </div> </div> "}))},P9va:function(e,t,a){e.exports={row:"UsersSettingsRow-row-3XFVVH",underlay:"UsersSettingsRow-underlay-2ev7sE"}},"PD/8":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("G4qV"),i=a("j3oq");var r=Object(n.a)(i.a,e=>e?e.desktop.activities:[]);function s(e){return Object(n.a)(r,t=>t.filter(t=>t.type===e))}},PDl1:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return' <i class="server-alert-icon glyphicon bullhorn"></i> '}function p(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"playing",{hash:{},inverse:c.program(9,h,t),fn:c.program(7,m,t),data:t}))||0===n?n:""}function m(e,t){return' <i class="server-alert-icon glyphicon imac"></i> '}function h(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"websocket",{hash:{},inverse:c.program(13,f,t),fn:c.program(10,g,t),data:t}))||0===n?n:""}function g(e,t){var a,i="";return i+=" ",((a=n.if.call(e,null==(a=e&&e.event)||!1===a?a:a.opened,{hash:{},inverse:c.program(11,y,t),fn:c.program(4,u,t),data:t}))||0===a)&&(i+=a),i+=" "}function y(e,t){return' <i class="server-alert-icon glyphicon warning-sign"></i> '}function f(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n.state,0,{hash:{},inverse:c.program(16,v,t),fn:c.program(14,b,t),data:t}))||0===n?n:""}function b(e,t){return' <i class="server-alert-icon glyphicon plus"></i> '}function v(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n.state,5,{hash:{},inverse:c.program(19,S,t),fn:c.program(17,I,t),data:t}))||0===n?n:""}function I(e,t){return' <i class="server-alert-icon glyphicon ok-2"></i> '}function S(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n.state,6,{hash:{},inverse:c.program(22,O,t),fn:c.program(20,E,t),data:t}))||0===n?n:""}function E(e,t){return' <i class="server-alert-icon glyphicon magic"></i> '}function O(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n.state,9,{hash:{},inverse:c.program(25,C,t),fn:c.program(23,M,t),data:t}))||0===n?n:""}function M(e,t){return' <i class="server-alert-icon glyphicon bin"></i> '}function C(e,t){return' <i class="server-alert-icon glyphicon tags"></i> '}function j(e,t){var a,i="";return i+=" ",((a=n.if.call(e,null==(a=e&&e.event)||!1===a?a:a.message,{hash:{},inverse:c.program(33,P,t),fn:c.program(31,D,t),data:t}))||0===a)&&(i+=a),i+=" "}function D(e,t){var n,r="";return r+=" "+d(i(a("d8WC")).call(e,null==(n=e&&e.event)||!1===n?n:n.message,{hash:{},data:t}))+" "}function P(e,t){var r,s="";return s+=" "+d(i(a("d8WC")).call(e,null==(r=e&&e.event)||!1===r?r:r.title,{hash:{},data:t})),((r=n.if.call(e,null==(r=e&&e.event)||!1===r?r:r.description,{hash:{},inverse:c.noop,fn:c.program(34,T,t),data:t}))||0===r)&&(s+=r),s+=" "}function T(e,t){var n,r="";return r+=": "+d(i(a("d8WC")).call(e,null==(n=e&&e.event)||!1===n?n:n.description,{hash:{},data:t}))}function w(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"timeline",{hash:{},inverse:c.program(39,x,t),fn:c.program(37,N,t),data:t}))||0===n?n:""}function N(e,t){var n,r="";return r+=" "+d(i(a("d8WC")).call(e,null==(n=e&&e.event)||!1===n?n:n.stateString,{hash:{},data:t}))+' <a href="#!/server/'+d(i(a("WmQF")).call(e,e&&e.serverID,{hash:{},data:t}))+"/details?key="+d(i(a("WmQF")).call(e,e&&e.itemKey,{hash:{},data:t}))+'">'+d("function"==typeof(n=null==(n=e&&e.event)||!1===n?n:n.mediaTitle)?n.apply(e):n)+"</a> "}function x(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"playing",{hash:{},inverse:c.program(45,R,t),fn:c.program(40,A,t),data:t}))||0===n?n:""}function A(e,t){var a,i="";return i+=" ",((a=n.if.call(e,null==(a=e&&e.event)||!1===a?a:a.player,{hash:{},inverse:c.program(43,k,t),fn:c.program(41,L,t),data:t}))||0===a)&&(i+=a),i+=" "}function L(e,t){var n="";return n+=" "+d(i(a("d8WC")).call(e,"{1} started playing {2} on {3}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,e&&e.escapedEventPlayer,{hash:{},data:t}))+" "}function k(e,t){var n="";return n+=" "+d(i(a("d8WC")).call(e,"{1} started playing {2}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,{hash:{},data:t}))+" "}function R(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"websocket",{hash:{},inverse:c.noop,fn:c.program(46,z,t),data:t}))||0===n?n:""}function z(e,t){var a,i="";return i+=" ",((a=n.if.call(e,null==(a=e&&e.event)||!1===a?a:a.opened,{hash:{},inverse:c.program(49,V,t),fn:c.program(47,U,t),data:t}))||0===a)&&(i+=a),i+=" "}function U(e,t){var n="";return n+=" "+d(i(a("d8WC")).call(e,"Opened connection to {1}, listening for events.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function V(e,t){var a;return(a=n.if.call(e,null==(a=e&&e.event)||!1===a?a:a.closed,{hash:{},inverse:c.program(52,F,t),fn:c.program(50,B,t),data:t}))||0===a?a:""}function B(e,t){var n="";return n+=" "+d(i(a("d8WC")).call(e,"Connection to {1} closed.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function F(e,t){var n="";return n+=" "+d(i(a("d8WC")).call(e,"Unable to listen for events on {1}.",e&&e.escapedServerName,{hash:{},data:t}))+" "}return l+='<div class="striped-list-inner-item alert-list-inner-item"> ',((o=i(a("w+Xr")).call(t,null==(o=t&&t.event)||!1===o?o:o._type,"setting",{hash:{},inverse:c.program(3,(function(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"status",{hash:{},inverse:c.program(6,p,t),fn:c.program(4,u,t),data:t}))||0===n?n:""}),s),fn:c.program(1,(function(e,t){return' <i class="server-alert-icon glyphicon cogwheel"></i> '}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="server-alert-details"> <span class="server-alert-time">'+d(i(a("Lw7a")).call(t,null==(o=t&&t.event)||!1===o?o:o.time,t&&t.timeFormat,{hash:{},data:s}))+"</span> ",((o=i(a("w+Xr")).call(t,null==(o=t&&t.event)||!1===o?o:o._type,"setting",{hash:{},inverse:c.program(29,(function(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.event)||!1===n?n:n._type,"status",{hash:{},inverse:c.program(36,w,t),fn:c.program(30,j,t),data:t}))||0===n?n:""}),s),fn:c.program(27,(function(e,t){var n="";return n+=" "+d(i(a("d8WC")).call(e,"{1} set to {2}.",e&&e.escapedEventLabel,e&&e.escapedEventValue,{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> </div> "}))},PE3u:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));function n(e){const t={};return(...a)=>{const n=JSON.stringify(a);if(t.hasOwnProperty(n))return t[n];{0;const i=e(...a);return t[n]=i,i}}}},PHkR:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=n.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(3,(function(e,t){var n,r="";return r+=" "+c(i(a("nptq")).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(n=e&&e.item,null==n||!1===n?n:n.year),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.year),locked:(n=e&&e.locked,null==n||!1===n?n:n.year)},data:t}))+" "}),s),fn:this.program(1,(function(e,t){var n,r="";return r+=" "+c(i(a("nptq")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(n=e&&e.item,null==n||!1===n?n:n.originallyAvailableAt),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.originallyAvailableAt),locked:(n=e&&e.locked,null==n||!1===n?n:n.originallyAvailableAt)},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> <div class="col-md-4"> <label>'+c(i(a("d8WC")).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-',((o=n.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,(function(e,t){return"6"}),s),fn:this.program(5,(function(e,t){return"12"}),s),data:s}))||0===o)&&(l+=o),l+=' selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> ",((o=n.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var n,r="";return r+=' <div class="col-md-6"> '+c(i(a("nptq")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(n=e&&e.item,null==n||!1===n?n:n.originallyAvailableAt),placeholder:(n=e&&e.placeholders,null==n||!1===n?n:n.originallyAvailableAt),locked:(n=e&&e.locked,null==n||!1===n?n:n.originallyAvailableAt)},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},PJR5:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("OPqZ"),l=a("XUCZ"),c=a("qCD8"),d=a("bxUM"),u=a("fIk4"),p=a("BNpA"),m=a.n(p);var h=function(e){const{className:t,type:a,width:n,height:r,icon:p}=e,h=function(e){switch(e){case o.c:return c.a;case o.b:return l.a;case o.d:return d.a}}(p)||u.a[a];if(!h)return null;const g={fontSize:Math.max(14,Math.min(Math.round(n/4),42)),lineHeight:r+"px"},y={width:n+"px",height:r+"px"};return s.a.createElement("div",{className:i()(t,m.a.container),style:y},s.a.createElement(h,{style:g}))},g=a("jWai"),y=a.n(g);t.a=function(e){const{className:t,type:a,icon:n,width:r,height:l,isFolder:c}=e;return s.a.createElement(h,{className:i()(t,y.a.placeholderIcon),type:a,icon:c?o.b:n,width:r,height:l})}},PKZm:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selectable"}function p(e,t){return"selected"}return l+='<form class="edit-section-type-form settings-container ',((o=n.if.call(t,null==(o=t&&t.section)||!1===o?o:o.type,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"section-type-chosen"}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.unless.call(t,t&&t.isInitialTypeSupported,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return"is-type-unsupported"}),s),data:s}))||0===o)&&(l+=o),l+='"> ',((o=n.if.call(t,t&&t.add,{hash:{},inverse:d.program(7,(function(e,t){var n="";return n+=" <label>"+c(i(a("d8WC")).call(e,"Library type",{hash:{},data:t}))+"</label> "}),s),fn:d.program(5,(function(e,t){var n="";return n+=' <p class="prompt">'+c(i(a("d8WC")).call(e,"Select your library type",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="wizard-blocks-group form-group type-group"> ',((o=n.each.call(t,t&&t.sectionTypes,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,(function(e,t,r){var s,o="";return o+='<a class="wizard-block section-type ',((s=n.if.call(e,r&&r.canChangeType,{hash:{},inverse:d.noop,fn:d.program(10,u,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i(a("w+Xr")).call(e,r&&r.currentSectionKey,e&&e.key,{hash:{},inverse:d.noop,fn:d.program(12,p,t),data:t}))||0===s)&&(o+=s),o+='" data-key="'+c("function"==typeof(s=e&&e.key)?s.apply(e):s)+'" href="#">',((s="function"==typeof(s=e&&e.typeIcon)?s.apply(e):s)||0===s)&&(o+=s),o+=" "+c("function"==typeof(s=e&&e.title)?s.apply(e):s)+"</a>"}),s,t),data:s}))||0===o)&&(l+=o),l+=' <label class="control-label"> <span class="control-error">'+c(i(a("d8WC")).call(t,"You must select a media type.",{hash:{},data:s}))+'</span> </label> </div> <div class="visible-once-section-type-chosen"> ',((o=n.if.call(t,t&&t.hasType,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){var n="";return n+=' <div class="row"> <div class="col-xs-12"> <p class="prompt">'+c(i(a("d8WC")).call(e,"Name your library and choose language.",{hash:{},data:t}))+"</p> </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row section-type-unsupported"> <div class="col-md-7"> <label>'+c(i(a("d8WC")).call(t,"Sorry, this library type is unsupported by this server.",{hash:{},data:s}))+'</label> </div> </div> <div class="row section-type-supported"> <div class="col-md-7"> <div class="form-group title-group"> <div> <label for="edit-section-title" class="control-label"> '+c(i(a("d8WC")).call(t,"Name",{hash:{},data:s}))+' <span class="control-error">'+c(i(a("d8WC")).call(t,"A library name is required.",{hash:{},data:s}))+'</span> </label> </div> <input type="text" id="edit-section-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.section)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> </div> <div class="col-md-5"> <div class="form-group language-group"> <div> <label for="edit-section-language" class="control-label"> '+c(i(a("d8WC")).call(t,"Language",{hash:{},data:s}))+' <span class="control-error">'+c(i(a("d8WC")).call(t,"A language is required.",{hash:{},data:s}))+'</span> </label> </div> <select id="edit-section-language" name="language"></select> </div> </div> </div> <div class="row section-type-supported"> <div class="col-md-12"> <span class="text-muted"> ',((o=n.if.call(t,t&&t.updatedAt,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Last updated {1}",e&&e.escapedUpdatedAt,{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" </span> </div> </div> </div> </form> "}))},PLrD:function(e,t,a){e.exports={searchInputContainer:"FilterOptionInput-searchInputContainer-3zRJcR",button:"FilterOptionInput-button-3BPLID Link-link-2ew_DK",small:"FilterOptionInput-small-2PIux7",medium:"FilterOptionInput-medium-1PYhIv",large:"FilterOptionInput-large-21qS0_",isDisabled:"FilterOptionInput-isDisabled-2ajdEU",hasError:"FilterOptionInput-hasError-1MAgjM",menuContainer:"FilterOptionInput-menuContainer-1iwAKP",menu:"FilterOptionInput-menu-1pBGCi",loadingMenu:"FilterOptionInput-loadingMenu-1VpvR5 FilterOptionInput-menu-1pBGCi",scroller:"FilterOptionInput-scroller-1_ehlo Scroller-scroller-CQJq74",input:"FilterOptionInput-input-3et4wI FilterTextInput-input-3NJ5Fl TextInput-input-1mDdJf",list:"FilterOptionInput-list-1qAvHK",listItem:"FilterOptionInput-listItem-1BbAdp",listItemHighlighted:"FilterOptionInput-listItemHighlighted-1GnUP3 FilterOptionInput-listItem-1BbAdp"}},PSl2:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("slDQ");function i(e,t){Object(n.a)(null!=e,"No `version` supplied to `isVersionOrNewer`."),Object(n.a)(null!=t,"No `minVersion` supplied to `isVersionOrNewer`. Have you misspelled a constant?");const a=t.split("."),i=e.split(".");for(let e=0,t=a.length;e<t;e++)if(e<i.length){const t=parseInt(a[e],10),n=parseInt(i[e],10);if(t<n)return!0;if(t>n)return!1}return!0}},PXtH:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r}));const n="download",i="record",r="universal"},PZBo:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l="";return l+='<button class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <i class="alert-icon glyphicon ',((s=(o=a("w+Xr"),o&&(o.__esModule?o.default:o)).call(t,t&&t.type,"success",{hash:{},inverse:this.program(3,(function(e,t){return"circle-exclamation-mark"}),r),fn:this.program(1,(function(e,t){return"circle-ok"}),r),data:r}))||0===s)&&(l+=s),l+='"></i> <h4>',((s="function"==typeof(s=t&&t.message)?s.apply(t):s)||0===s)&&(l+=s),l+="</h4> "}))},PZfv:function(e,t,a){e.exports={container:"PrePlayAttributedLeftTitle-container-3uhPwv",attribution:"PrePlayAttributedLeftTitle-attribution-1XwG5F",title:"PrePlayAttributedLeftTitle-title-3g0eIf"}},PbuU:function(e,t,a){e.exports={input:"FilterSelectInput-input-3lZ071 Select-input-1OU8QF"}},Pfwo:function(e,t){e.exports=function(){return""}},Pg5J:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("bcER"),s=a("/No1");t.a=function(e){const t=r.a.get("video").id,a=Object(s.a)(e,{streamType:t});return i.a.first(a)}},PiUd:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}return l+='<div class="conversion-filter-bar filter-bar"> ',((o=n.if.call(t,t&&t.hasPausedSetting,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var r,s="";return s+=' <div class="filter-bar-right"> <button class="pause-btn btn btn-sm btn-default ',((r=n.if.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===r)&&(s+=r),s+='">'+d(i(a("d8WC")).call(e,"Pause",{hash:{},data:t}))+'</button> <button class="resume-btn btn btn-sm btn-primary ',((r=n.unless.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===r)&&(s+=r),s+='">'+d(i(a("d8WC")).call(e,"Resume",{hash:{},data:t}))+"</button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=n.if.call(t,t&&t.errorMessage,{hash:{},inverse:c.program(6,(function(e,t){var n="";return n+=' <p class="conversion-status-message">'+d(i(a("d8WC")).call(e,"Manage your completed conversions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),s),fn:c.program(4,(function(e,t){var n,r="";return r+=' <p class="conversion-error-message"><i class="conversion-error-icon glyphicon circle-exclamation-mark text-danger"></i> '+d("function"==typeof(n=e&&e.errorMessage)?n.apply(e):n)+" "+d(i(a("d8WC")).call(e,"Check the status in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.shouldShowList,{hash:{},inverse:c.program(10,(function(e,t){var n="";return n+=' <div class="row row-padded"> <h4 class="text-muted text-center"> '+d(i(a("d8WC")).call(e,"This requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" </h4> </div> "}),s),fn:c.program(8,(function(e,t){var a,i="";return i+=' <div class="conversion-queue-empty-region"></div> <div class="conversion-queue-up-next-list-region"></div> <hr class="conversion-queue-divider ',((a=n.unless.call(e,e&&e.shouldShowDivider,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===a)&&(i+=a),i+='"> <div class="conversion-queue-after-up-next-list-region"></div> '}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},Pizw:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("rXDx");let i;var r=function(e){i||(i=Object(n.getAllMetadataTypes)().map(e=>e.typeString).join("|"));const t=new RegExp(`<Directory([^>]*?)type="(${i})"([\\s\\S]*?)</Directory>`,"gm"),a=new RegExp(`<Directory([^>]*?)type="(${i})"([\\s\\S]*?)/>`,"gm");return e.replace(t,'<Metadata$1type="$2" elementName="Directory"$3</Metadata>').replace(a,'<Metadata$1type="$2" elementName="Directory"$3/>')};var s=function(e,t,a){Array.isArray(t)||(t=[t]);const n=t.join("|"),i=new RegExp(`<(${n})`,"g"),r=new RegExp(`</(${n})>`,"g");return e.replace(i,`<${a} elementName="$1"`).replace(r,`</${a}>`)};const o=["Video","Track","Photo","Playlist","Game"];t.b=function(e,t){const a=t&&t.includeDirectories,n=a?["Directory",...o]:o,i=s(e,n,"Metadata");return a?i:r(i)}},PuYh:function(e,t,a){e.exports={container:"CurrentSourceBreadcrumb-container-1kPu8S",tooltipButton:"CurrentSourceBreadcrumb-tooltipButton-1qQPeq ToolbarButton-toolbarButton-2i2nnD",noButton:"CurrentSourceBreadcrumb-noButton-uUd9XT"}},Q0ne:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("n/o+");t.a=function(...e){const t=Array.isArray(e[0])?e[0]:e;return i.a.when(...t.map(r.a))}},Q3JP:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("nvND");function i(e){return function(e){return!!e&&(!!e.get("isCloud")||e.supports("json")&&!e.get("onlyXML")&&!e.get("isMobileServer"))}(e)?n.a:n.c}},QAuZ:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-empty-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z M279.611348,451.652619 L479.792832,260.692492 C518.735723,223.398694 525.522119,157.229004 486.579229,119.960019 C448.828204,83.7828011 390.389111,76.569777 338.530931,131.136016 L280,187.188371 L221.443159,131.136016 C165.95959,82.5852498 112.168614,83.7828011 74.4175887,119.960019 C35.4746985,157.229004 41.2642774,223.398694 80.2071677,260.692492 L279.611348,451.652619 Z"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},QExs:function(e,t,a){e.exports={modalContent:"ModalContent-modalContent-UQlV4k",closeButton:"ModalContent-closeButton-3NY5uJ Link-link-2n0yJn"}},QF2Q:function(e,t,a){e.exports={hubTitle:"QuickSearchHubContainer-hubTitle-2B0GDG"}},QIBL:function(e,t,a){"use strict";var n=a("G4qV"),i=a("Zp0I");const r=Object(n.a)(i.a,e=>e.dismissedUnclaimedServers);t.a=r},QJ4M:function(e,t,a){"use strict";a.d(t,"g",(function(){return S})),a.d(t,"l",(function(){return E})),a.d(t,"m",(function(){return O})),a.d(t,"q",(function(){return M})),a.d(t,"j",(function(){return C})),a.d(t,"b",(function(){return j})),a.d(t,"z",(function(){return D})),a.d(t,"A",(function(){return P})),a.d(t,"p",(function(){return T})),a.d(t,"o",(function(){return w})),a.d(t,"y",(function(){return N})),a.d(t,"c",(function(){return x})),a.d(t,"s",(function(){return A})),a.d(t,"B",(function(){return L})),a.d(t,"d",(function(){return k})),a.d(t,"u",(function(){return R})),a.d(t,"e",(function(){return z})),a.d(t,"v",(function(){return U})),a.d(t,"a",(function(){return V})),a.d(t,"t",(function(){return B})),a.d(t,"w",(function(){return F})),a.d(t,"f",(function(){return H})),a.d(t,"x",(function(){return _})),a.d(t,"i",(function(){return W})),a.d(t,"h",(function(){return Q})),a.d(t,"C",(function(){return G})),a.d(t,"r",(function(){return K})),a.d(t,"n",(function(){return Y})),a.d(t,"k",(function(){return ae}));var n=a("EVdn"),i=a.n(n),r=a("ICb1"),s=a("+X4A"),o=a("Khyo"),l=a("cVe3"),c=a("U//L"),d=a("92Vb"),u=a("hFBU"),p=a("t/0V"),m=a("FIl5"),h=a("FjJJ"),g=a("66GW"),y=a("b3RP"),f=a("1DJO"),b=a("bUqy"),v=a("G53E"),I=a("w41d");const S=Object(r.a)("CLEAR_DVR_SETUP"),E=Object(r.a)("DVR_SETUP_NEXT_STEP"),O=Object(r.a)("DVR_SETUP_PREVIOUS_STEP"),M=Object(r.a)("FETCH_DEVICES"),C=Object(r.a)("DISCOVER_DEVICES"),j=Object(r.a)("ADD_DEVICE"),D=Object(r.a)("SELECT_DEVICE"),P=Object(r.a)("SELECT_DEVICE_SOURCE"),T=Object(r.a)("FETCH_DEVICE_DETAILS"),w=Object(r.a)("FETCH_DEVICE_CHANNELS"),N=Object(r.a)("SCAN_DEVICE_CHANNELS"),x=Object(r.a)("CANCEL_SCAN_DEVICE_CHANNELS"),A=Object(r.a)("FIND_BEST_EPG_LINEUP"),L=Object(r.a)("SELECT_EPG_LINEUP"),k=Object(r.a)("CLEAR_CHANNEL_MAP_ERROR"),R=Object(r.a)("SAVE_CHANNEL_MAP"),z=Object(r.a)("CLEAR_CHANNEL_MAPPINGS_SAVE_ERROR"),U=Object(r.a)("SAVE_DVR"),V=Object(r.a)("ADD_DVR_DEVICE"),B=Object(r.a)("REMOVE_DVR_DEVICE"),F=Object(r.a)("SAVE_DVR_SETTINGS"),H=Object(r.a)("CLEAR_DVR_SETTINGS_SAVE_ERROR"),_=Object(r.a)("SAVE_DEVICE_SETTINGS"),W=Object(r.a)("CLEAR_DEVICE_SETTINGS_SAVE_ERROR"),Q=Object(r.a)("CLEAR_DEVICE_SCAN_PREFS"),G=Object(r.a)("SET_DVR_DEVICE_ENABLED"),K=Object(r.a)("FETCH_LINEUP_CHANNELS",e=>({options:{url:s.default.join("/livetv/epg/channels",{lineup:e.lineupUUID}),timeout:o.b},...e})),Y=Object(r.a)("FETCH_CHANNEL_MAP",e=>({options:{url:s.default.join("/livetv/epg/channelmap",{device:e.deviceUUID,lineup:e.lineupUUID})},...e}));function q(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function Z(e){return e.get("ui").get("dvrSettingsUI").get("dvrs")}function X(e,t){return Z(e).get(t.dvrID)}function J(e,t){const a=q(e),n=t.deviceID;if(t.dvrID&&n){const a=X(e,t).get("devices").get(n);if(a)return a}if(n){const e=a.get("devices").get(n);if(e)return e}return a.get("selectedDevice")}function $(e,t){if(t.country)return t.country;const a=q(e).get("epgSettings").get("selectedCountry");return a?a.get("code"):void 0}function ee(e,t){const a=q(e),n=Object(I.k)(e,t),r=J(e,t).get("channels"),o=t.data,l=[],c={};Object.keys(o).forEach(e=>{const{enabled:t,channelKey:a,lineupIdentifier:n}=o[e],i=r.get(e),s=!(!i||!i.get("drm"));t&&n&&!s&&l.push(e),n&&(c[`channelMappingByKey[${e}]`]=a,c[`channelMapping[${e}]`]=n)});const d=s.default.join(["/media/grabbers/devices",t.deviceID,"channelmap"],{channelsEnabled:l.toString(),...c});a.set("isChannelMappingsSaving",!0);const u=n.getXHROptions(d,{type:"PUT"}),p=i.a.ajax(u);return p.done(()=>{a.set({isChannelMappingsSaving:!1,channelMappingsSaveError:null});const n=function(e,t){if(t.dvrID&&t.deviceID){return J(e,t).get("channelMappings")}return q(e).get("channelMappings")}(e,t);r.forEach(e=>{const t=e.id,a=-1!==l.indexOf(t),i=c[`channelMapping[${t}]`];i?n.add([{deviceIdentifier:t,enabled:a,lineupIdentifier:i}],{parse:!0,merge:!0}):n.remove(t)})}),p.fail(e=>{a.set({isChannelMappingsSaving:!1,channelMappingsSaveError:Object(y.a)(e)})}),p}function te(e,t){const a=Object(I.k)(e,t),n=t.enabled,r=s.default.join(["/media/grabbers/devices",t.deviceID],{enabled:n?1:0}),o=a.getXHROptions(r,{type:"PUT"}),l=i.a.ajax(o).promise();return l.done(()=>{if(q(e)){const a=J(e,t);a&&a.set("status",n?"enabled":"disabled")}}),l}const ae=Object(c.a)({CLEAR_DVR_SETUP(e){q(e).restoreDefaults()},DVR_SETUP_NEXT_STEP(e,t={}){const a=q(e),n={};switch(a.get("step")){case v.b.DEVICE:a.get("selectedDevice").get("unsupported")?n.step=v.b.UNSUPPORTED_DEVICE:n.step=v.b.DEVICE_CHANNELS;break;case v.b.UNSUPPORTED_DEVICE:n.step=v.b.DEVICE_CHANNELS;break;case v.b.DEVICE_CHANNELS:t.dvrID?(n.selectedLineupUUID=X(e,t).get("lineup"),n.step=v.b.CHANNEL_MAPPING):n.step=v.b.EPG;break;case v.b.EPG:a.get("selectedLineupUUID")?n.step=v.b.CHANNEL_MAPPING:n.step=v.b.EPG_MAPPING;break;case v.b.EPG_MAPPING:n.step=v.b.CHANNEL_MAPPING;break;case v.b.CHANNEL_MAPPING:n.step=v.b.EPG_DOWNLOAD}a.get("setupErrorMessages").reset(),a.set(n)},DVR_SETUP_PREVIOUS_STEP(e,t={}){const a=q(e),n={};switch(a.get("step")){case v.b.UNSUPPORTED_DEVICE:n.step=v.b.DEVICE;break;case v.b.DEVICE_CHANNELS:n.hasScannedChannels=!1,n.step=v.b.DEVICE;break;case v.b.EPG:n.step=v.b.DEVICE_CHANNELS;break;case v.b.CHANNEL_MAPPING:t.dvrID?n.step=v.b.DEVICE_CHANNELS:n.step=v.b.EPG}a.get("setupErrorMessages").reset(),a.set(n)},FETCH_DEVICES(e,t,a){const n=q(e),i=n.get("devices");n.set("isDevicesPending",!0),i.fetch().done(()=>{n.set({isDevicesPending:!1,isDevicesPopulated:!0,devicesError:null});const e=i.filter(e=>!e.get("parentID")&&e.get("status")===f.b.ALIVE);1===e.length&&a(D({serverEntityID:t.serverEntityID,deviceID:e[0].id}))}).fail((e,t)=>{n.set({isDevicesPending:!1,devicesError:Object(y.a)(t)})})},DISCOVER_DEVICES(e,t,a){const n=Object(I.k)(e,t),r=q(e),s=n.getXHROptions("/media/grabbers/devices/discover",{type:"POST"});r.get("isDiscoveringDevices")||(r.set("isDiscoveringDevices",!0),i.a.ajax(s).done(e=>{const n=r.get("devices").add(e,{parse:!0,merge:!0}).filter(e=>!e.get("parentID")&&e.get("status")===f.b.ALIVE);r.get("setupErrorMessages").remove("discoverDevices"),1===n.length&&a(D({serverEntityID:t.serverEntityID,deviceID:n[0].id})),r.set("isDiscoveringDevices",!1)}).fail(e=>{r.get("setupErrorMessages").add({id:"discoverDevices",message:Object(p.a)(e,Object(g.default)("There was a problem discovering devices"))}),r.set("isDiscoveringDevices",!1)}))},ADD_DEVICE(e,t,a){const n=Object(I.k)(e,t),r=q(e),o=s.default.join(["/media/grabbers","tv.plex.grabbers.hdhomerun","devices"],{uri:t.uri}),l=n.getXHROptions(o,{type:"POST"});r.set("addDevicePending",!0),i.a.ajax(l).done((e,a)=>{const n=r.get("devices").add(e,{parse:!0});if(0===n.length){const a=m.a.parseXML(e),n=a&&a.message||Object(g.default)("No device found at {1}",t.uri);r.get("setupErrorMessages").add({id:"addDevice",message:n}),r.set("addDevicePending",!1)}else r.get("setupErrorMessages").remove("addDevice"),r.set({addDevicePending:!1,selectedDevice:1===n.length?n[0]:r.get("selectedDevice")})}).fail(e=>{r.get("setupErrorMessages").add({id:"addDevice",message:Object(p.a)(e,Object(g.default)("There was a problem adding the device: {1}",t.uri))}),r.set("addDevicePending",!1)})},SELECT_DEVICE(e,t){const a=q(e),n=J(e,t);a.set("selectedDevice",n)},SELECT_DEVICE_SOURCE(e,t){q(e).get("selectedDevice").set("selectedSource",t.source)},FETCH_DEVICE_DETAILS(e,t){const a=q(e);J(e,t).fetch().fail(e=>{a.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:Object(p.a)(e,Object(g.default)("There was a problem getting the details for your device"))})})},FETCH_DEVICE_CHANNELS(e,t){const a=q(e),n=J(e,t),i=s.default.join(["/media/grabbers/devices",n.get("key"),"channels"]);n.set("isChannelsPending",!0);const r={url:i,timeout:o.b};n.get("channels").fetch(r).done(()=>{n.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null})}).fail(e=>{n.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null}),a.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:Object(p.a)(e,Object(g.default)("There was a problem getting the channels for your device"))})})},SCAN_DEVICE_CHANNELS(e,t,a){const n=q(e),r=Object(I.k)(e,t),o=J(e,t),c=$(e,t),d=o.get("selectedSource")||o.get("source"),{prefs:u,network:m}=t,h=s.default.join(["/media/grabbers/devices",o.get("key"),"scan"],{source:d,country:c,prefs:u,network:m}),y=r.getXHROptions(h,{type:"POST"});i.a.ajax(y).done((e,i,r)=>{const s=r.getResponseHeader("X-Plex-Activity");if(o.get("channels").reset(),s)a(Q(t));else{const t=new l.a(e,{parse:!0});n.set("scanPrefs",t)}}).fail(e=>{n.get("setupErrorMessages").add({id:"scanDeviceChannels",message:Object(p.a)(e,Object(g.default)("There was a problem scanning channels"))})})},CANCEL_SCAN_DEVICE_CHANNELS(e,t,a){const n=q(e),r=Object(I.k)(e,t),o=t.deviceID;if(!o)throw new Error("A device ID is required to cancel a channel scan.");const l=s.default.join(["/media/grabbers/devices",o,"scan"]),c=r.getXHROptions(l,{type:"DELETE"});i.a.ajax(c).fail(e=>{n.get("setupErrorMessages").add({id:"cancelScanDeviceChannels",message:Object(p.a)(e,Object(g.default)("There was a problem canceling the current channel scan"))})})},FIND_BEST_EPG_LINEUP(e,t,a){const n=Object(I.k)(e,t),r=q(e),o=r.get("selectedDevice"),l=r.get("epgSettings").get("lineupGroup"),c=s.default.join("/livetv/epg/lineup",{device:o.get("uuid"),lineupGroup:l.get("uuid")}),d=n.getXHROptions(c);i.a.ajax(d).done((e,t,a)=>{const n=a.getResponseHeader("X-Plex-Activity");r.set("epgLineupActivityID",n)}).fail(e=>{r.get("setupErrorMessages").add({id:"findBestEPGLineup",message:Object(p.a)(e,Object(g.default)("There was a problem mapping channels"))})})},SELECT_EPG_LINEUP(e,t){q(e).set("selectedLineupUUID",t.lineupUUID)},FETCH_LINEUP_CHANNELS:Object(d.a)({key:"lineupChannels",getModel:q}),FETCH_CHANNEL_MAP(e,t){const a=q(e),n=a.get("channelMappings"),i={timeout:o.b,...t.options};a.set("isChannelMappingsPending",!0),n.fetch(i).done(()=>{t.forceEnabled&&n.each(e=>{e.set("enabled",e.has("lineupIdentifier"))}),a.set({isChannelMappingsPending:!1,isChannelMappingsPopulated:!0,channelMappingsError:null})}).fail((e,t)=>{a.set({isChannelMappingsPending:!1,channelMappingsError:Object(y.a)(t)})})},CLEAR_CHANNEL_MAP_ERROR(e,t){q(e).set({channelMappingsError:null,lineupChannelsError:null})},SAVE_CHANNEL_MAP(e,t,a){ee(e,t).done(()=>{a(T(t))})},CLEAR_CHANNEL_MAPPINGS_SAVE_ERROR(e){q(e).set("channelMappingsSaveError",null)},SAVE_DVR(e,t,a){const n=q(e);n.set("isSavingDVR",!0);const{serverEntityID:r,deviceID:o}=t,l=Z(e);te(e,{serverEntityID:r,deviceID:o,enabled:!0}).then(()=>ee(e,t)).then(()=>{const a=Object(I.k)(e,t),r=n.get("selectedDevice"),o=n.get("selectedLineupUUID"),l=n.get("epgSettings").get("selectedLanguage"),c=$(e,t);n.get("setupErrorMessages").remove("saveDVR");const d=s.default.join("/livetv/dvrs",{device:r.get("uuid"),lineup:o,language:l.get("code"),country:c}),u=a.getXHROptions(d,{type:"POST"});return i.a.ajax(u)}).then((e,t,s)=>{const o=s.getResponseHeader("X-Plex-Activity"),c=l.add(e,{parse:!0})[0];if(!c)return i.a.Deferred().reject(s).promise();n.get("setupErrorMessages").remove("saveDVR"),n.set({epgDownloadActivityID:o,selectedDVR:c,isSavingDVR:!1}),a(E({serverEntityID:r})),a(Object(u.u)({serverEntityID:r}))}).fail(e=>{n.get("setupErrorMessages").add({id:"saveDVR",message:Object(p.a)(e,Object(g.default)("There was a problem saving your DVR. Please try again."))}),n.set("isSavingDVR",!1)})},ADD_DVR_DEVICE(e,t,a){const n=q(e);n.set("isSavingDVR",!0);const{serverEntityID:r,deviceID:o}=t,l=n.get("selectedDevice"),c=X(e,t);te(e,{serverEntityID:r,deviceID:o,enabled:!0}).then(()=>ee(e,t)).then(()=>{const a=Object(I.k)(e,t),n=s.default.join(["/livetv/dvrs",c.id,"devices",l.id]),r=a.getXHROptions(n,{type:"PUT"});return i.a.ajax(r)}).done((e,t,i)=>{const s=i.getResponseHeader("X-Plex-Activity");c.get("devices").add([l]),n.set({epgDownloadActivityID:s,selectedDVR:c,isSavingDVR:!1}),a(E({serverEntityID:r})),a(Object(u.u)({serverEntityID:r}))}).fail(e=>{n.get("setupErrorMessages").add({id:"addDVRDevice",message:Object(p.a)(e,Object(g.default)("There was a problem adding a new device to your DVR. Please try again."))}),n.set("isSavingDVR",!1)})},REMOVE_DVR_DEVICE(e,t,a){const n=Object(I.k)(e,t),r=X(e,t),o=t.deviceID,l=s.default.join(["/livetv/dvrs",r.id,"devices",o]),c=n.getXHROptions(l,{type:"DELETE"});i.a.ajax(c).done((e,t,a)=>{r.get("devices").remove(o)})},SAVE_DVR_SETTINGS(e,t){const a=Object(I.k)(e,t),n=X(e,t),r=t.prefs,o=s.default.join(["/livetv/dvrs",t.dvrID,"prefs"],r);n.set("isSaving",!0);const l=a.getXHROptions(o,{type:"PUT"}),c=i.a.ajax(l);c.done(()=>{const e=n.get("prefs");Object.keys(r).forEach(t=>{e.get(t).set("value",r[t])}),n.set({isSaving:!1,saveError:null})}),c.fail(e=>{n.set({isSaving:!1,saveError:Object(y.a)(e)})})},CLEAR_DVR_SETTINGS_SAVE_ERROR(e,t){X(e,t).set("saveError",null)},SAVE_DEVICE_SETTINGS(e,t){const a=Object(I.k)(e,t),n=J(e,t),r=t.prefs,o=s.default.join(["/media/grabbers/devices",t.deviceID,"prefs"],r);n.set("isSaving",!0);const l=a.getXHROptions(o,{type:"PUT"}),c=i.a.ajax(l);c.done(()=>{const e=n.get("prefs");Object.keys(r).forEach(t=>{e.get(t).set("value",r[t])}),n.set({isSaving:!1,saveError:null})}),c.fail(e=>{n.set({isSaving:!1,saveError:Object(y.a)(e)})})},CLEAR_DEVICE_SETTINGS_SAVE_ERROR(e,t){J(e,t).set("saveError",null)},CLEAR_DEVICE_SCAN_PREFS(e){q(e).set({scanPrefs:void 0,scanNetworks:void 0})},SET_DVR_DEVICE_ENABLED(e,t){te(e,t)},[u.g](e,t,a){const n=q(e);if(!n)return;const i=n.get("selectedDevice"),r=t.activity;if(i&&r.type===h.m&&parseInt(r.Context.deviceID,10)===i.id){const e=r.Response.Network;if(e){const t=new b.a(e,{parse:!0});n.set("scanNetworks",t)}else n.set("hasScannedChannels",!0)}else{if(r.uuid===n.get("epgLineupActivityID"))return n.set({selectedLineupUUID:r.Response.lineup,epgLineupActivityID:""}),void a(E({serverEntityID:t.serverEntityID}));r.uuid!==n.get("epgDownloadActivityID")||n.set("epgDownloadActivityID","")}}})},QNOv:function(e,t,a){"use strict";a.d(t,"a",(function(){return de})),a.d(t,"b",(function(){return ue})),a.d(t,"d",(function(){return pe})),a.d(t,"e",(function(){return me})),a.d(t,"c",(function(){return ge}));var n=a("EVdn"),i=a.n(n),r=a("ICb1"),s=(a("slDQ"),a("cgRT")),o=a("ujuY"),l=a("kwss"),c=a("5HFX"),d=a("L9Nd"),u=a("EPph");function p(e){let t;if(e.get("indirect")){const a=e.get("Origin");t=a&&a.source}else if(e.get("remoteMedia")){const a=e.get("Media");t=a[0]&&a[0].source}else e.get("source")&&(t=e.get("source"));return t||null}function m(e){const t=p(e);let a,n;if(t){const{serverIdentifier:e,providerIdentifier:i}=Object(c.a)(t);n=Object(u.d)({machineIdentifier:e}),a=Object(d.a)({identifier:i,serverEntityID:n})}else n=e.get("serverEntityID"),a=e.get("providerEntityID");return{serverEntityID:n,providerEntityID:a}}var h=a("LGmu");function g(e,t){if(!e.supports("transientTokenProxy"))return i.a.Deferred().reject().promise();const a=e.resolveUrl("/security/resources");let n=i.a.ajax(e.getXHROptions(a,{data:{source:t}})).promise();return n=n.then(t=>new h.a(t,{parse:!0,server:e})),n}var y=a("IE0F"),f=a("mvw6"),b=a("YWOF");function v(e,t){return g(e,t).then(e=>{const t=function(e){const t=new y.a({accessToken:e.get("accessToken"),machineIdentifier:f.a});t.addConnection(Object(b.a)());const a=e.get("connections").first();return new d.b({identifier:e.get("clientIdentifier"),title:e.get("name"),baseURL:a.get("uri")},{server:t})}(e);return t.server.testAllConnections().then(()=>t.populate({merge:!0}))})}var I=a("2y0P");var S=a("hPIe");function E(e){return e.get("isConnected")||e.testOnlyUntestedConnections()}function O(e,t){return Object(c.a)(t).isServer?function(e,t){return g(e,t).then(e=>Object(I.a)(e,!0).testAllConnections())}(e,t):v(e,t)}var M=function(e,t,a){const n=a.get("metadataItem"),r=S.m(e,{serverEntityID:t.get("serverEntityID")}),s=m(n),o={serverEntityID:n.get("serverEntityID"),providerEntityID:n.get("providerEntityID")},d=n.get("source"),u=p(n),h=S.m(e,o),g=u&&S.m(e,s),y=l.a.allowTransientProxy&&r.get("isFullOwnedServer")&&r.supports("transientTokenProxy");if(!y&&(d&&!h||u&&!g))return i.a.Deferred().reject().promise();const f=[];return h?f.push(E(h)):y&&d&&f.push(O(r,d)),d!==u&&(g?f.push(E(g)):y&&u&&f.push(O(r,u))),i.a.when(...f).then(()=>function(e,t){const a=e.get("user"),n=t&&Object(c.a)(t);return!!a.get("providers")&&n&&!n.isServer?a.get("providers").populate().then(e=>{const t=e.findWhere({identifier:n.providerIdentifier});return t&&t.populate()}):i.a.Deferred().resolve().promise()}(e,u)).then(()=>({serverModel:S.m(e,o),providerModel:S.j(e,o),mediaServerModel:S.m(e,s),mediaProviderModel:S.j(e,s)}))},C=a("Qc+q"),j=a("+fvj"),D=a("zTsO"),P=a("x181"),T=a("UnFr"),w=a("7S2Z"),N=a("+Mxn"),x=a("osxg");const A=[(e,t,a)=>{const n=e.get("user").get("experienceSettings").get("reminders").get(Object(x.a)(P.b,T.TONE_MAPPING));if(n&&!Object(w.a)(n.get("remindAfter")))return null;const i=Object(N.c)(e,t).get("playQueue").get("playQueueItems").get(a.playQueueItemID).get("metadataItem"),r=m(i),s=Object(S.m)(e,r),o=i.get("Media")[a.mediaIndex],l=null==o?void 0:o.Part[a.partIndex];if(!s||!l)return null;const c=s.hasOwnerFeature(D.i),d=s.hasOwnerFeature(D.B);return s.get("isFullOwnedServer")&&c&&!d&&function(e){return Array.isArray(e.Stream)&&e.Stream.some(e=>"smpte2084"===e.colorTrc)}(l)&&!a.canDisplayHDR&&!a.isDirectPlay&&!a.canDirectStreamVideo?{type:T.TONE_MAPPING,metricsContext:j.HDR_CONVERSION}:null}];var L=a("7/aH"),k=a("F/us"),R=a.n(k),z=a("Ivly"),U=a("gPan");function V(e,t){const{type:a,item:n,availableQualities:i,qualityIndex:r}=e,{transcodeServer:s,media:o,part:l}=t,c=n.get("Media"),d=o.Part,u=function(e,t){return R.a.findIndex(e,e=>null!=e.id?e.id===t.id:null==e.uuid||e.uuid===t.uuid)}(c,o),p=function(e,t){return R.a.findIndex(e,e=>null!=e.id?e.id===t.id:null==e.key||e.key===t.key)}(d,l);let m=[],h=z.a.ORIGINAL;a===U.a.types.VIDEO&&(m=i,h=r),t.abr&&(h=z.a.CONVERT_AUTOMATICALLY);const g={availableQualities:m,qualityIndex:h,mediaIndex:u,partIndex:p,partCount:d.length,url:t.url,subtitlesUrl:t.subtitlesUrl,protocol:t.protocol,isDirectPlay:t.canDirectPlay,useSoftSubtitles:t.useSoftSubtitles,useSidecarSrtSubtitles:t.useSidecarSrtSubtitles,canDirectStreamVideo:t.canDirectStreamVideo,canDirectStreamAudio:t.canDirectStreamAudio,canPlayOriginalQuality:t.canPlayOriginalQuality,positionSeconds:Math.floor(t.offset/1e3),durationSeconds:Math.floor((l.duration||0)/1e3),playbackSessionID:t.playbackSessionID,canDisplayHDR:t.canDisplayHDR,canDisplayDolbyVision:t.canDisplayDolbyVision};return t.canDirectPlay||(g.transcodeSessionID=t.transcodeSessionID),t.drm&&(g.drm=t.drm,g.license=t.license,g.certificate=t.certificate),g.transcodeServerEntityID=s&&s.entityID(),g}var B=a("L7Oz");function F(e){return e>=2e3}function H(e){return F(e.transcodeDecisionCode)?e.transcodeDecisionText:F(e.generalDecisionCode)?e.generalDecisionText:F(e.mdeDecisionCode)?e.mdeDecisionText:e.errorMessage}var _=a("0jae"),W=a("+X4A"),Q=a("JMV9"),G=a("gnaf");var K=a("XaBv"),Y=a("nVBp"),q=a("1eqe"),Z=a("ZLfv"),X=a("GNXi"),J=a("zePt"),$=a("gFlf");var ee=function(e){const t=e?R.a.first(e.get("Media")):null;return!(!t||t.container)},te=a("uisW"),ae=a("FIl5"),ne=a("ZYvM"),ie=a("66GW"),re=a("pXC0");function se(e){return"dash"===e||"hls"===e}function oe(e,t){return t.itemProvider||e.provider||t.itemServer||e.server}var le={getPlayerDecision:function(e){return this.resolvePlayerDecision(e).then(null,t=>t.canDirectPlay&&1001===t.generalDecisionCode?(_.a.warn("[PDE] Forcing transcode;",t.mdeDecisionText),this.resolvePlayerDecision({...e,allowDirectPlay:!1})):t)},resolvePlayerDecision:function(e){R.a.defaults(e,{offset:0,minVersionForDASH:Q.a.dash,minVersionForStreamingMKV:Q.a.streamingMKV,transcoderOptions:{}});const t={playbackSessionID:e.playbackSessionID||Object(ne.a)(),transcodeSessionID:e.transcodeSessionID||Object(ne.a)(),offset:e.offset};let a=this.populateMedia(t,e);return a=a.then(R.a.bind((function(){return this.resolveMedia(t,e)}),this)),a=a.then((function(){return i.a.when(t.url)})),a=a.then((function(e){return t.url=e,t})),a},populateMedia:function(e,t){const a=i.a.Deferred(),n=R.a.bind(a.resolve,a,e);return t.requireAnalysis&&ee(t.item)?t.item.fetch({scope:"player"}).always(n):R.a.defer(n),a.promise()},resolveMedia:function(e,t){const a=R.a.extend({transcodeServer:this.resolveTranscodeServer(t)},t),n=te.a.getMediaDecision(a);if(a.originalQualityDecisionOptions){const e=te.a.getMediaDecision({...a,...a.originalQualityDecisionOptions});n.canPlayOriginalQuality=e.canDirectPlay||e.canDirectStreamVideo}else n.canPlayOriginalQuality=n.canDirectPlay||n.canDirectStreamVideo;const r=n.media,s=i.a.Deferred();return R.a.extend(e,n),r?e.canPlay?"webkit"===r.protocol?(_.a.warn("[PDE] Webkit videos are not supported"),e.redirect=!0,s.reject(e).promise()):"embed"===r.protocol?(_.a.warn("[PDE] An embed is required"),e.embed=!0,e.part=R.a.first(r.Part),s.reject(e).promise()):this.resolvePart(e,t):(_.a.warn("[PDE] Unable to play item;",e.errorMessage),s.reject(e).promise()):this.resolveUrls(e,t)},resolveTranscodeServer:function(e){const t=e.itemServer||e.item.server,a=e.fallbackServer,n=e.itemProvider||e.item.provider;if(t===a||!a||!a.get("isConnected"))return t;let i;e.type===U.a.types.VIDEO?i="transcoderVideo":e.type===U.a.types.MUSIC&&(i="transcoderAudio");const r=!n||G.l(n.get("identifier"),G.d);return i&&!t.get(i)&&a.get(i)&&r?a:t},resolvePart:function(e,t){return t.part?e.part=t.part:t.offset?1===e.media.Part.length?e.part=e.media.Part[0]:(e.part=Object(X.a)(e.media,t.offset),e.offset=Object(J.a)(e.media,e.part,t.offset)):e.part=R.a.first(e.media.Part),e.part.drm&&(e.drm=e.part.drm,e.certificate=e.part.certificate,Object(_.a)("[PDE] DRM content decryption module:",e.drm),Object(_.a)("[PDE] DRM certificate:",e.certificate)),this.resolveUrls(e,t)},resolveUrls:function(e,t){const a=i.a.Deferred();return this.validateDrmType(e,t)&&this.validatePlayerType(e,t)?(this.validateSidecarSrtSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSidecarSrtSubtitles=!1,this.validateSoftSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSoftSubtitles&&(e.useSoftSubtitles=!1),Object(_.a)("[PDE] Player decision:",{playerType:e.playerType,protocol:e.protocol,canDirectPlay:e.canDirectPlay}),e.canDirectPlay?e.url=this.resolveDirectPlayUrl(e,t):e.url=this.resolveTranscoderUrl(e,t),e.drm&&(e.license=this.resolveLicenseUrl(e,t)),this.resolveDecision(e,t)):a.reject(e).promise()},validateDrmType:function(e,t){const a=s.c("appModel").get("drmType"),n={music:re.a,video:re.e},i=!!e.drm,r=a===Object(Y.a)(e.drm)||a===Object(Y.a)(e.drm,n[t.type]);return i&&!r&&(e.errorCode=Object(q.c)(),e.errorMessage=Object(ie.default)("Streaming this media is unsupported.")),!i||r},validatePlayerType:function(e,t){return e.media&&t.type&&t.type!==U.a.types.PHOTO?e.canDirectPlay?("hls"===e.media.protocol?(e.protocol="hls",e.playerType=t.hasNativeHLS?"html":"flash"):"dash"===e.media.protocol?(e.protocol="dash",e.playerType="html"):(e.protocol="http",e.playerType="flv"===e.media.container?"flash":"html"),!0):this.validatePlayerTranscodeProtocol(e,t):(e.protocol="http",e.playerType="html",!0)},validatePlayerTranscodeProtocol:function(e,t){const a=e.transcodeServer,n=t.transcodeProtocol;let i,r=!0,s=!0,o=!0;if(n&&(r="dash"===n,s="http"===n,o="hls"===n),o&&t.hasNativeHLS)return e.protocol="hls",e.playerType="html",!0;if(s&&t.hasStreamingMKV){if(a.isVersionOrNewer(t.minVersionForStreamingMKV))return e.protocol="http",e.playerType="html",!0;i=t.minVersionForStreamingMKV}if(r&&t.hasDASH){if(a.isVersionOrNewer(t.minVersionForDASH))return e.protocol="dash",e.playerType="html",!0;i=t.minVersionForDASH}return t.type===U.a.types.MUSIC?(e.protocol="http",e.playerType="html",!0):o&&t.hasFlash?(e.protocol="hls",e.playerType="flash",!0):t.type===U.a.types.ROM?(e.protocol="parsec",!0):(e.errorMessage=i?Object(ie.default)("Please update Plex Media Server. This feature requires {1} or later.",i):Object(ie.default)("Streaming this media is unsupported."),!1)},validateSidecarSrtSubtitles:function(e,t){return e.useSidecarSrtSubtitles&&!e.canDirectPlay?(_.a.warn("[PDE] Sidecar SRT is only supported when media is direct play."),!1):e.useSidecarSrtSubtitles},validateSoftSubtitles:function(e,t){return e.useSoftSubtitles&&"html"!==e.playerType?(_.a.warn("[PDE] Only the HTML player supports soft subtitles"),!1):!e.useSoftSubtitles||e.canDirectPlay||t.allowDirectStreamVideoWithSoftSubtitles?e.useSoftSubtitles:(_.a.warn("[PDE] Unable to use soft subtitles without direct play"),!1)},resolveDirectPlayUrl:function(e,t){const a=t.item,n=e.part,i={"X-Plex-Session-Identifier":e.playbackSessionID};e.drm&&Object.assign(i,Object(Z.a)(e.drm));const r=n?n.key:a.get("key"),s={appendHeaders:!0,params:i};return oe(a,t).resolveUrl(r,s)},resolveTranscoderUrl:function(e,t,a){const n=t.item,i=e.media,r=e.part;let s=t.transcoderOptions;R.a.isFunction(s)&&(s=s(e)),s=R.a.extend({},e.transcoderQualityOptions,s,{"X-Plex-Session-Identifier":e.playbackSessionID,session:e.transcodeSessionID,protocol:e.protocol,directPlay:e.canDirectPlay?1:0,offlineTranscode:t.offlineTranscode,context:t.context,offset:e.offset?e.offset/1e3:e.offset});const o=t.subtitlesBurnLevel;t.type!==U.a.types.VIDEO||e.transcodeServer.get("isCloud")||(o===K.a.NEVER?s.subtitles=e.canDirectPlay?"none":"auto":e.useSoftSubtitles?(s.subtitles=e.canDirectPlay?"sidecar":"auto",o===K.a.AVOID&&(s.advancedSubtitles="text")):s.subtitles="burn");let l=t.profileExtra;R.a.isFunction(l)&&(l=l(e)),s["X-Plex-Client-Profile-Extra"]=l;const c=n.get("Media")[0],d=!!c&&"livetv"===c.origin;("hls"===s.protocol&&!t.useOffsetHLS&&!d||"dash"===s.protocol&&!d)&&(Object(_.a)("[PDE] DASH and HLS should seek forward by default, offset=0"),delete s.offset),"hls"===s.protocol&&t.useOffsetHLS&&(e.useOffsetHLS=!0,s.offset&&(Object(_.a)("[PDE] HLS started with an offset, copyts=0"),s.copyts=0)),se(s.protocol)&&d&&(s.copyts=0),"http"===s.protocol&&(s.copyts=d?0:1),"http"!==s.protocol||e.canDirectPlay||(s["X-Plex-Chunked"]=1),t.allowIncompleteSegments&&(s["X-Plex-Incomplete-Segments"]=1),R.a.each(R.a.keys(s),(function(e){null==s[e]&&delete s[e]}));const u=t.type,p=t.transcoder,m=e.transcodeServer;if(u===U.a.types.VIDEO)return p.video(m,n,i,r,s,a);if(u===U.a.types.MUSIC)return p.music(m,n,s,a);if(u===U.a.types.PHOTO){s.fallbackServer=t.fallbackServer;const e="photo"===n.get("type")?n.getMediaKey():n.get("thumb");return p.image(m,e,s)}return u===U.a.types.ROM?p.game(m,n,i,{...s,displayHeight:Math.min(window.screen.height,1080),displayWidth:Math.min(window.screen.width,1920)},a):void 0},resolveSubtitlesUrl:function(e,t){if(e.useSidecarSrtSubtitles){const a=t.itemProvider||t.item.provider,n=Object($.a)(e.media);return a.resolveUrl(n.key,{appendHeaders:!0,appendToken:!0,params:{format:"srt"}})}const a=this.resolveTranscoderUrl(e,t),n=W.default.parseUrl(a).params,i=e.canDirectPlay?"/subtitles/:/transcode/universal/start":"/video/:/transcode/universal/subtitles";return e.transcodeServer.resolveUrl(i,{params:n})},resolveLicenseUrl:function(e,t){const a=t.item,n={appendHeaders:!0,params:Object(Z.a)(e.drm)},i=oe(a,t);return Object(_.a)("[PDE] Resolving DRM license",e.part.license),i.resolveUrl(e.part.license,n)},resolveDecision:function(e,t){const a=e.transcodeServer,n=i.a.Deferred(),r=a.get("isCloud")||!a.supports("decisionEndpoint"),s=t.type===U.a.types.PHOTO||t.type===U.a.types.ROM;if(r||s)return Object(_.a)("[PDE] Unnecessary for server to resolve decision"),n.resolve(e).promise();const o=R.a.clone(e);this.validatePlayerTranscodeProtocol(o,t);const l=this.resolveTranscoderUrl(o,t,"decision"),c=i.a.ajax(a.getXHROptions(l,{timeout:2e3}));return null!=e.offset&&!e.canDirectPlay&&se(e.protocol)&&e.media&&"livetv"===e.media.origin&&(e.offset=0),c.done((function(t){const a=ae.a.parseXML(t);a.generalDecisionCode&&(e.generalDecisionCode=ae.a.parseInteger(a.generalDecisionCode),e.generalDecisionText=a.generalDecisionText),a.mdeDecisionCode&&(e.mdeDecisionCode=ae.a.parseInteger(a.mdeDecisionCode),e.mdeDecisionText=a.mdeDecisionText),a.transcodeDecisionCode&&(e.transcodeDecisionCode=ae.a.parseInteger(a.transcodeDecisionCode),e.transcodeDecisionText=a.transcodeDecisionText),e.abr=ae.a.parseBoolean(a.abr),e.decisionXML=t,H(e)?n.reject(e):n.resolve(e)})),c.fail((function(){_.a.warn("[PDE] Player decision failed; the transcode server may be a slow or outdated"),n.resolve(e)})),n.promise()}},ce=a("1Lwt");const de=Object(r.a)("ui/player/playerDecision/makeDecision"),ue=Object(r.a)("ui/player/playerDecision/makeNextDecision"),pe=Object(r.a)("ui/player/playerDecision/removeDecision"),me=Object(r.a)("ui/player/playerDecision/retryDecision");function he(e,t,a){const n=Object(N.c)(e,t),i=Object(C.a)(n),r=i.get("metadataItem");if(i.get("playQueueItemID")!==a.playQueueItemID)return;const s={currentDecision:a,availableQualities:a.availableQualities,qualityIndex:a.qualityIndex,mediaIndex:a.mediaIndex,partIndex:a.partIndex,positionSeconds:a.positionSeconds,durationSeconds:a.durationSeconds};null!=n.get("startMetadataItemEntityID")&&n.get("startMetadataItemEntityID")!==r.entityID()||(s.startMetadataItemEntityID=null,s.startOffsetMilliseconds=null,s.startMediaIndex=null);const o=function(e,t,a){if(e.get("user").get("experienceSettings").get("reminders"))for(const n of A){const i=n(e,t,a);if(i)return i}return null}(e,t,a);s.confirmPlayerUpsellPayload=o,s.isPaused=!!o||n.get("isPaused"),n.set(s)}const ge={"ui/player/playerDecision/makeDecision"(e,t){const{playerType:a,playQueueItemEntityID:n,mediaIndex:r,partIndex:l,qualityIndex:c,transcodeSessionID:d,options:u={}}=t,p=Object(N.c)(e,a),m=S.h(e,{playQueueItemEntityID:n});if(m.get("type")===re.c)return;const h=p.get("decisions")[n];if(h)return void he(e,a,h);let g,y;const f=m.get("metadataItem");let b,v=M(e,p,m).then(e=>p.get("liveTVSession")?i.a.Deferred().resolve().promise():(g=e.mediaServerModel,y=e.mediaProviderModel,Object(o.a)(f,{forceSyncCheckFiles:!0,itemProvider:e.providerModel})));v=v.then(()=>{const t=null==r?function(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startMediaIndex")||e.get("startMetadataItemEntityID")===t.entityID()?e.get("startMediaIndex"):null}(p,f):r,a=f.get("Media")[t],n=a&&a.Part[l],i=Object(s.c)("getDecisionOptions")(f,c,a);return b={transcodeSessionID:d,playbackSessionID:p.get("playbackSessionID"),item:f,offset:Object(L.a)(p,f),fallbackServer:e.get("primaryServer"),media:a,part:n,itemProvider:y,itemServer:g,...i,...u},u.offset,le.getPlayerDecision(b)}),v.done(Object(B.a)(p,t=>{const i={...V(b,t),playQueueItemID:m.get("playQueueItemID")},r=p.get("decisions");p.set("decisions",{...r,[n]:i}),he(e,a,i)})).fail(Object(B.a)(p,e=>{let t;g&&y?f.get("isPreFetched")?(f.set({isPreFetched:!1}),t=H(e)):t=Object(ie.default)("Content is unavailable"):t=Object(ie.default)("Source is unavailable"),function(e,t,a,n){const i=e.get("playQueue"),r=i.get("playQueueItems").at(i.get("currentIndex"));t.id===r.id&&e.set({isMediaLoading:!1,hasError:!0,errorCode:n,errorMessage:a})}(p,m,t,e.errorCode)}))},"ui/player/playerDecision/makeNextDecision"(e,{playerType:t},a){const n=Object(N.c)(e,t),i=n.get("playQueue"),r=i.get("playQueueItems"),s=i.get("currentIndex");let o=n.get("repeatOne")?s:s+1;if(n.get("repeatAll")&&o>r.length-1&&(o=0),o!==s&&o<r.length){const e=r.at(o).entityID();a(de({playerType:t,playQueueItemEntityID:e}))}},"ui/player/playerDecision/removeDecision"(e,{playerType:t,playQueueItemEntityID:a}){const n=Object(N.c)(e,t);Object(ce.a)(()=>{const e=n.get("decisions"),t=n.get("currentDecision"),i={decisions:{...e,[a]:null}};e[a]===t&&(i.currentDecision=null),n.set(i)})},"ui/player/playerDecision/retryDecision"(e,t,a){const{playerType:n,decisionOptions:i}=t,r=Object(N.c)(e,n),s=r.get("playQueue"),o=s.get("playQueueItems"),l=r.get("currentDecision"),c=s.get("currentIndex"),d=o.at(c).entityID();l&&a(pe({playerType:n,playQueueItemEntityID:d})),a(de(l?{playerType:n,playQueueItemEntityID:d,mediaIndex:l.mediaIndex,partIndex:l.partIndex,qualityIndex:r.get("qualityIndex"),options:{offset:1e3*r.get("positionSeconds"),...i}}:{playerType:n,playQueueItemEntityID:d,qualityIndex:r.get("qualityIndex")}))}}},QPyl:function(e,t,a){"use strict";var n=a("3oIs");const i=/version\/(\d+(\.\d+)?)/i,r=/\/([^\s]+)\s+\(Vizio/,s=/(?:applewebkit|safari)\/(\d+(\.\d+)?)/i,o=function(e){const t=/\(.* ([^)]+)\)$/.exec(e);return t&&t[1]||void 0};function l(e){let t="",a="";e?(t=e.userAgent,a=e.platform):n.a&&null!=window.navigator&&(t=window.navigator.userAgent,a=window.navigator.platform),this.platformVersion="0",this.detect({userAgent:t,platform:a})}l.prototype={constructor:l,browsers:[{id:"konvergo",name:"Plex Media Player",webkit:!0,regex:/plexmediaplayer/i,versionRegex:/plexmediaplayer (\d+\.\d+\.\d+)/i},{id:"wiiu",name:"Wii U",regex:/wiiu/i,versionRegex:s,webkit:!0},{id:"ps3",name:"Unknown Browser",webkit:!0,regex:/\(PLAYSTATION 3 \d\./},{id:"ps4",name:"Unknown Browser",webkit:!0,regex:/\(PlayStation 4 \d\./},{id:"ps3",name:"PlayStation 3",webkit:!0,regex:/\(PlayStation 3\)/,versionRegex:s},{id:"ps4",name:"PlayStation 4",webkit:!0,regex:/\(PlayStation 4\)/,versionRegex:s},{id:"edge",name:"Microsoft Edge",regex:/edge?|(windows phone.+chrome)/i,versionRegex:/edge?\/(\d+(\.\d+)?)/i},{id:"ie",name:"Internet Explorer",msie:!0,regex:/(msie|trident|iemobile)/i,versionRegex:/(msie |rv:)(\d+(\.\d+)?)/i,versionMatchIndex:2},{id:"opera",name:"Opera",presto:!0,regex:/opera/i,versionRegex:i},{id:"opera",name:"Opera",webkit:!0,regex:/OPR\//,versionRegex:/OPR\/\s?(\d+(\.\d+)?)/},{id:"vivaldi",name:"Vivaldi",webkit:!0,regex:/vivaldi/i,versionRegex:/Vivaldi\/\s?(\d+(\.\d+)?)/},{id:"chrome",name:"Chrome",webkit:!0,regex:/(chrome|crios|gfiber|netbox)/i,versionRegex:/(?:chrome|crios|gfibertv)[/-](\d+(\.\d+)?)/i},{id:"firefox",name:"Firefox",gecko:!0,regex:/firefox/i,versionRegex:/firefox[ /](\d+(\.\d+)?)/i},{id:"safari",name:"Safari",webkit:!0,regex:/macintosh.+safari/i,versionRegex:i},{id:"safari",name:"Safari",webkit:!0,regex:/applewebkit/i,versionRegex:s}],platforms:[{id:"metrological",name:"Metrological",tv:!0,regex:/WPE([-\w]+)?$/,version:function(e=""){const t=/WPE(?:-(\w*))?$/.exec(e);if(t&&t[1])return t[1]}},{id:"netgem",name:"Netgem",tv:!0,regex:/^Netbox/,version:function(e=""){return e.split("/")[1]||e}},{id:"netcast",name:"NetCast",tv:!0,predicate:function(e){return/netcast/i.test(e)&&!/web[o0]s/i.test(e)}},{id:"webos",name:"webOS",tv:!0,predicate:function(e){return/web[o0]s/i.test(e)&&/smarttv/i.test(e)}},{id:"blackberry",name:"Blackberry",mobile:!0,regex:/BlackBerry|RIM|BB10/,version:function(e){const t=(/PlayBook/.test(e)?/Tablet OS (\d+\.\d+)/:i).exec(e);return t&&t[1]}},{id:"ps3",name:"PlayStation 3",tv:!0,regex:/P(lay)?S(tation )?3/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"ps4",name:"PlayStation 4",tv:!0,regex:/P(lay)?S(tation )?4/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"wiiu",name:"Wii U",tv:!0,regex:/Nintendo WiiU/},{id:"tizen",name:"Tizen",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Tizen (\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"winvergo",name:"Windows",tv:!0,predicate:function(e){return n.a&&!!window.Windows},version:function(e){try{const e=window.Windows.System.Profile.AnalyticsInfo.versionInfo.deviceFamilyVersion,t=("0000000000000000"+parseInt(e,10).toString(16)).slice(-16),a=[];let n=0;for(;n<t.length;){const e=t.substring(n,n+4),i=parseInt(e,16);a.push(i),n+=4}return a.join(".")}catch(e){}}},{id:"viera",name:"Viera",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Viera\/(\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"sta",name:"Smart TV Alliance",tv:!0,version:function(e){let t,a;if(/SmartTvA/.test(e))a=/SmartTvA\/(\d+\.\d+)/.exec(e),t=a&&a[1]||t;else{const a=[/nettv\/4/i],n=[/nettv/i],i=function(t){return t.test(e)};[/Linux i686.+Chromium\/18/,/nettv\/4.2/i,/toshiba-dtv/i,/viera/i].some(i)?t="2.0":a.some(i)?t="1.0":n.some(i)&&(t="0")}return t},predicate:function(e){return void 0!==this.version(e)}},{id:"tivo",name:"TiVo",tv:!0,regex:/TiVo/,version:function(e){const t=/TCD[^,]+/.exec(e);return t&&t[0]||void 0}},{id:"viziosmartcast",name:"Vizio SmartCast",tv:!0,predicate:function(e){return n.a&&window.VIZIO&&window.VIZIO.isSmartCastDevice},version:function(e){}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return/opera/i.test(e)&&"undefined"!=typeof iMTK_JSP}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,predicate:function(e){return/opera/i.test(e)&&/vizio/i.test(e)},version:function(e){const t=r.exec(e);return t&&t[1]||void 0}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return r.test(e)&&"undefined"!=typeof iMTK_JSP},version:function(e){const t=r.exec(e);return t&&t[1]||void 0}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,regex:r,version:function(e){const t=r.exec(e);return t&&t[1]||void 0}},{id:"operatvstore",name:"Opera TV Store",tv:!0,predicate:function(e){const t=/Opera TV Store/.test(e),a=/TV Store/.test(e)&&/OMI\//.test(e);return t||a}},{id:"operatv",name:"Opera TV",tv:!0,regex:/opera\/\d+\.\d+ \(linux (mips|arm)/i},{id:"ios",name:"iOS",mobile:!0,regex:/(iphone|ipad|ipod)/i,version:function(e){const t=/OS (\d+_\d+)/.exec(e);return t&&t[1]?t[1].replace("_","."):void 0}},{id:"windowsphone",name:"Windows Phone",mobile:!0,regex:/windows phone/i,version:function(e){const t=/windows phone[ os]*(\d+\.\d+);/i.exec(e);return t&&t[1]}},{id:"android",name:"Android",mobile:!0,regex:/android/i,version:function(e){const t=/Android (\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"webos",name:"webOS",mobile:!0,predicate:function(e){return/hpwOS/.test(e)||/web[o0]s/i.test(e)&&!/smarttv/i.test(e)},version:function(e){const t=/(?:hpw|web)OS\/(\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"openelec-rpi2",name:"Embedded (Raspberry Pi)",tv:!0,regex:/plexmediaplayer.*openelec-rpi2/i,version:o},{id:"openelec",name:"Embedded",tv:!0,regex:/plexmediaplayer.*openelec/i,version:o},{id:"linuxkonvergo",name:"Linux",tv:!0,regex:/plexmediaplayer.*linux/i,version:o},{id:"osxkonvergo",name:"OSX",tv:!0,regex:/plexmediaplayer.*mac/i,version:o},{id:"windowskonvergo",name:"Windows",tv:!0,regex:/plexmediaplayer.*win/i,version:o},{id:"linux",name:"Linux",regex:/linux/i},{id:"osx",name:"OSX",regex:/Macintosh/,version:function(e){const t=/OS X (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}},{id:"windows",name:"Windows",regex:/Windows/,version:function(e){const t={"6.0":"Vista / Server 2008",6.1:"7 / Server 2008 R2",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},a=/Windows [^\d;)]*(\d+\.\d+)/.exec(e);if(a)return t[a[1]]}},{id:"chromeos",name:"Chrome OS",regex:/CrOS/,version:function(e){const t=/CrOS [\S]* (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}}],detect:function(e){const t=this.runTests(this.browsers,e),a=this.runTests(this.platforms,e);let n;t?(this.id=t.id,this.name=t.name,this.version=this.getVersion(e.userAgent,t.versionRegex,t.versionMatchIndex||1),this.webkit=!!t.webkit,this.gecko=!!t.gecko,this.msie=!!t.msie,this.presto=!!t.presto):(this.id="unknown",this.name="Unknown Browser",this.version="0",this.webkit=!1,this.gecko=!1,this.msie=!1,this.presto=!1),a?(n="function"==typeof a.version?a.version(e.userAgent):a.version,this.platform=a.name,this.platformID=a.id,this.platformVersion=n||this.platformVersion,this.mobile=!!a.mobile,this.tv=!!a.tv):(this.platformID="unknown",this.platform="Unknown Platform",this.mobile=!1,this.tv=!1),this.tv||(this.platformModifierKey="osx"===this.platformID||"ios"===this.platformID?"command":"ctrl")},runTests:function(e,t){let a,n,i,r=0;for(;!0!==n&&(i=e[r++]);)a=t[i.context||"userAgent"],i.regex?n=i.regex.test(a):i.predicate&&(n=i.predicate(a));return i},getVersion:function(e,t,a){const n=e.match(t);return n&&n.length>a&&n[a]||"0"},toJSON:function(){const e={};for(const t in this)this[t]&&"browsers"!==t&&"platforms"!==t&&(e[t]=this[t]);return e}},t.a=new l},QUAh:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-search-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"M351.883,407.883C315.613,433.168 271.525,448 224,448C100.371,448 0,347.629 0,224C0,100.371 100.371,0 224,0C347.629,0 448,100.371 448,224C448,271.525 433.168,315.613 407.883,351.883L560,504L504,560L351.883,407.883ZM56,224C56,316.722 131.278,392 224,392C316.722,392 392,316.722 392,224C392,131.278 316.722,56 224,56C131.278,56 56,131.278 56,224Z"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},QUUe:function(e,t,a){e.exports={container:"AdditionalDevice-container-V17Pns",info:"AdditionalDevice-info-1uEj7V",make:"AdditionalDevice-make-vBJpJf",model:"AdditionalDevice-model-OeNnvr"}},QYx4:function(e,t,a){e.exports={photoInformation:"PhotoInformation-photoInformation-1vUJbF",scroller:"PhotoInformation-scroller-1kXikq Scroller-vertical-VScFLT",exif:"PhotoInformation-exif-3TGkhv",line:"PhotoInformation-line-2tnkCU",split:"PhotoInformation-split-3vWYSO PhotoInformation-line-2tnkCU",format:"PhotoInformation-format-IPisod",map:"PhotoInformation-map-26hTST"}},QZ2m:function(e,t,a){e.exports={item:"PlayHistoryTableRow-item-1tWk7h",alternateItem:"PlayHistoryTableRow-alternateItem-2w7YY2 PlayHistoryTableRow-item-1tWk7h",columns:"PlayHistoryTableRow-columns-MZxeOh Link-link-2ew_DK"}},QZNe:function(e,t,a){e.exports={card:"TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC",isPerson:"TagPosterCard-isPerson-1ez1h_"}},Qb9m:function(e,t,a){e.exports={group:"InlineFormGroup-group-2Wa86G"}},QbAs:function(e,t,a){e.exports={attributionLogo:"PrePlayAttributionLogo-attributionLogo-2UZHBf"}},"Qc+q":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("+Mxn");function i(e){const t=e.get("playQueue");if(!t)return;const a=t.get("currentIndex");return Object(n.a)(e,a)}},Qc4C:function(e,t,a){e.exports={playButton:"PlayButton-playButton-3WX8X-",playCircle:"PlayButton-playCircle-3Evfdw"}},QhHd:function(e,t,a){e.exports={container:"PrePlayDetailsContainer-container-3EYqxZ",posterContainer:"PrePlayDetailsContainer-posterContainer-347qPh",content:"PrePlayDetailsContainer-content-2xv-84 PrePlayMetadataContent-content-kSY-kH"}},QlLa:function(e,t,a){e.exports={dvr:"DVRListItem-dvr-1CoTiB",header:"DVRListItem-header-Lb8AEy",separator:"DVRListItem-separator-2BuN4r DashSeparator-separator-4CyEFW",name:"DVRListItem-name-rIFJzK",deleteLink:"DVRListItem-deleteLink-1ATve6",actions:"DVRListItem-actions-1mU6F4",actionIcon:"DVRListItem-actionIcon-fPqPli",devices:"DVRListItem-devices-2eZl_c",addDeviceIcon:"DVRListItem-addDeviceIcon-2n26fm",banner:"DVRListItem-banner-2FUHJP ProgramGuideGracenoteMigrationBanner-container-1G9MWN"}},Qpc7:function(e,t,a){e.exports={link:"SourcesToggleButton-link-O75VbU",icon:"SourcesToggleButton-icon-2cbEY1",pinnedIcon:"SourcesToggleButton-pinnedIcon-3o85VC SourcesToggleButton-icon-2cbEY1",unclaimedImage:"SourcesToggleButton-unclaimedImage-3GLPXd",topBorder:"SourcesToggleButton-topBorder-30Yrnv",bottomBorder:"SourcesToggleButton-bottomBorder-34MxB6"}},Qy3a:function(e,t,a){e.exports={tableHeader:"DirectoryListTableHeader-tableHeader-H1GDhN TableHeader-tableHeader-vLg8Js",tableHeaderLink:"DirectoryListTableHeader-tableHeaderLink-2jpgVS TableHeaderLink-tableHeaderLink-2vwPqB Link-link-2ew_DK",tableHeaderCell:"DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",activeTableHeaderCell:"DirectoryListTableHeader-activeTableHeaderCell-2Smzd_ DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",firstTableHeaderCell:"DirectoryListTableHeader-firstTableHeaderCell-1tpNWq DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",firstActiveTableHeaderCell:"DirectoryListTableHeader-firstActiveTableHeaderCell-3y8zhl DirectoryListTableHeader-firstTableHeaderCell-1tpNWq DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk DirectoryListTableHeader-activeTableHeaderCell-2Smzd_ DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",columnMenuButton:"DirectoryListTableHeader-columnMenuButton-2y5meA Link-link-2ew_DK",actionsTableHeaderCell:"DirectoryListTableHeader-actionsTableHeaderCell-f_pzge DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk"}},"R+Vt":function(e,t,a){e.exports={container:"Measure-container-3yONEe",scrollContainer:"Measure-scrollContainer-1c6dyV",expandContent:"Measure-expandContent-zsLw6n",shrinkContent:"Measure-shrinkContent-303GSV Measure-expandContent-zsLw6n"}},"R/D4":function(e,t,a){e.exports={sectionDetails:"SettingsFormSectionDetails-sectionDetails-2rJ3jd"}},"R/vz":function(e,t,a){e.exports={leftTitle:"PrePlayLeftTitle-leftTitle-3RWvGy"}},R14s:function(e,t,a){e.exports={spinnerContainer:"SettingsPageLoadingSpinner-spinnerContainer-oodfMD"}},R1OT:function(e,t,a){e.exports={pageHeader:"DirectoryListToolbar-pageHeader-HphD2a PageHeader-pageHeader-2KNPGd",disclosureArrowLink:"DirectoryListToolbar-disclosureArrowLink-19JfRI DisclosureArrowLink-disclosureArrowLink-2tZpSu Link-link-2ew_DK",infoText:"DirectoryListToolbar-infoText-2XehfN",listTitle:"DirectoryListToolbar-listTitle-2hUAq4"}},R4w1:function(e,t,a){e.exports={spinner:"SearchPageHeader-spinner-1_DoEP",separator:"SearchPageHeader-separator-C3ELoB"}},R5U7:function(e,t,a){"use strict";var n=a("/MKj"),i=a("G4qV"),r=a("dZ7a"),s=a("prlC"),o=a("q1tI"),l=a.n(o),c=a("9wnK"),d=a("8vbc"),u=a("Gkyr"),p=a("Zgl5"),m=a("qNMu"),h=a("VzhI"),g=a("BBrP"),y=a("iZkF"),f=a("66GW"),b=a("Uia1"),v=a("IIsI"),I=a("wmCi");class S extends o.Component{constructor(e,t){super(e,t),this.onAllowFallbackConfirm=()=>{this.setState({isSubmitting:!0}),this.props.onAllowHttpFallback({serverEntityID:this.props.serverEntityID,allowHttpFallback:this.props.publicAddressMatches?g.a.SAME_NETWORK:g.a.ALWAYS})},this.state={isSubmitting:!1}}render(){const{publicAddressMatches:e,isOpen:t,onModalClose:a}=this.props,{isSubmitting:n}=this.state;return l.a.createElement(v.a,{size:h.c,isOpen:t,metricsPage:y.O,onModalClose:a},l.a.createElement(I.a,{onModalClose:a},l.a.createElement(p.a,null,Object(f.default)("Allow Insecure Connections")),l.a.createElement(c.a,null,e?Object(f.default)("Insecure connections will only be allowed when you're on the same network as the server."):Object(f.default)("Insecure connections will be allowed to any server."),l.a.createElement("br",null),Object(f.default)("The Allow Fallback to Insecure Connections setting can be changed in Web Settings. Would you like to allow insecure connections?")),l.a.createElement(d.a,null,l.a.createElement(u.a,null,l.a.createElement(b.a,{kind:m.c,isDisabled:n,onPress:a},Object(f.default)("Cancel")),l.a.createElement(b.a,{kind:m.a,isSpinning:n,onPress:this.onAllowFallbackConfirm},Object(f.default)("Allow"))))))}}var E=S;const O={onAllowHttpFallback:s.b};t.a=Object(n.b)((function(){return Object(i.a)(Object(r.a)(),e=>({publicAddressMatches:e.publicAddressMatches}))}),O)(E)},R7A0:function(e,t,a){e.exports={container:"TidalUpsellHub-container-TF7gnl",text:"TidalUpsellHub-text-3lFxtm",logo:"TidalUpsellHub-logo-2N5IJ5",body:"TidalUpsellHub-body-a-Qyh6",link:"TidalUpsellHub-link-3mngUv Link-link-2ew_DK"}},R9Jt:function(e,t,a){e.exports={titleContainer:"MetadataChannelCell-titleContainer-3h4coa",placeholder:"MetadataChannelCell-placeholder-2Z1J88 MetadataPosterCardFace-poster-L2P6rC",card:"MetadataChannelCell-card-4uM9rb MetadataPosterCard-card-3bztRc"}},RDBK:function(e,t,a){e.exports={modalContent:"EnableTwoFactorAuthModal-modalContent-1ZR6tf ModalContent-modalContent-4GS6yU",innerModalBody:"EnableTwoFactorAuthModal-innerModalBody-_GC3YX ModalBody-innerModalBody-BHe1nE",inputGroup:"EnableTwoFactorAuthModal-inputGroup-135TxV",secretContent:"EnableTwoFactorAuthModal-secretContent-wxzwgg",verificationCodeContent:"EnableTwoFactorAuthModal-verificationCodeContent-2fuJzD",qrCodeContent:"EnableTwoFactorAuthModal-qrCodeContent-3AJJoT",textCode:"EnableTwoFactorAuthModal-textCode-3GfIMJ",verificationCodeInput:"EnableTwoFactorAuthModal-verificationCodeInput-BY_1Q8",qrCodePlaceholder:"EnableTwoFactorAuthModal-qrCodePlaceholder-DzxrH_"}},RDmF:function(e,t,a){e.exports={header:"ManageLibrariesPane-header-1tRieN",libraryCount:"ManageLibrariesPane-libraryCount-9863ML",button:"ManageLibrariesPane-button-3aNGVX",title:"ManageLibrariesPane-title-BjIOc0",divider:"ManageLibrariesPane-divider-2YKt5K"}},RIFC:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("2pL0"),s=a("EVgX"),o=a("66GW"),l=a("fxUS"),c=a("hK2U");class d extends n.Component{constructor(e,t){super(e,t),this.onActionsPress=e=>{this.setState({hasBeenOpened:!0},()=>{this.props.onMenuOpenChange(!this.props.isMenuOpen)})},this.onActionsMenuClose=()=>{this.props.onMenuOpenChange(!1)},this._moreButtonID=Object(s.a)(),this.state={hasBeenOpened:!1}}render(){const{"data-qa-id":e,className:t,iconClassName:a,tabIndex:n,serverEntityID:s,providerEntityID:d,metadataItemEntityID:u,containerKey:p,listType:m,isMenuOpen:h,onMenuOpenChange:g,...y}=this.props;return i.a.createElement(r.a,{"data-qa-id":e,id:this._moreButtonID,className:t,tabIndex:n,"aria-label":Object(o.default)("More Actions"),"aria-haspopup":!0,onPress:this.onActionsPress},i.a.createElement(c.a,{className:a}),this.state.hasBeenOpened?i.a.createElement(l.a,{serverEntityID:s,providerEntityID:d,metadataItemEntityID:u,containerKey:p,listType:m,target:this._moreButtonID,isOpen:h,onMenuClose:this.onActionsMenuClose,...y}):null)}}t.a=d},RNo0:function(e,t,a){"use strict";t.a=function(e){return e?Array.isArray(e)?e:[e]:[]}},RO7n:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("slDQ"),s=a("HXOB"),o=a("CHn6"),l=a("nvND");const c=o.a.extend({name:"AbstractStorageModel",responseType:l.a,save(e,t,a={}){const n=this.attributes;let r;if(null==e||i.a.isObject(e)?(r=e,a=t):(r={})[e]=t,a=i.a.extend({validate:!0},a),r&&!a.wait){if(!this.set(r,a))return!1}else if(!this._validate(r,a))return!1;r&&a.wait&&(this.attributes=i.a.extend({},n,r));const s=this._getStorageAdapter().getInstance().excludeDefaults,o=this.toJSON({syncedOnly:!0,excludeDefaults:!1!==s}),l=this._serialize(o),c=this._getStorageAdapter().set(this._getStorageKey(),l);return c.done(()=>{this.attributes=n,this.trigger("sync",this,n,a)}),c.fail(e=>{this.trigger("error",this,e,a)}),r&&a.wait&&(this.attributes=n),c},destroy(e={}){e.wait||this.trigger("destroy",this,this.collection,e);const t=this._getStorageAdapter().remove(this._getStorageKey());return t.done(t=>{e.wait&&this.trigger("destroy",this,this.collection,e),this.trigger("sync",this,t,e)}),t.fail(t=>{this.trigger("error",this,t,e)}),t},sync(){this._logError("does not support syncing to a server")},_getStorageAdapter:()=>s.a,_getStorageKey(){const e=i.a.result(this,"storageKey");if(!e)throw new Error(this.name+" requires a `storageKey` property");return e},_fetch(e={}){const t=this._getStorageAdapter().get(this._getStorageKey());return t.done(t=>{t&&this.set(this.parse(t)),this.trigger("sync",this,t,e)}),t.fail(t=>{this.trigger("error",this,t,e)}),t},_serialize(e){let t="";try{t=JSON.stringify(e)}catch(e){this._logError("serialization error: "+e.message)}return t},_warnUnsupportedOptions(e){e.parse&&this._logError("does not support the `parse` option. The response from storage is always parsed."),e.success&&this._logError("does not support a `success` callback. Use the returned promise."),e.error&&this._logError("does not support an `error` callback. Use the returned promise.")},_logError(e){let t;try{t=this._getStorageKey()}catch(e){t="no storageKey"}Object(r.a)(!1,`${this.name} (${t}) ${e}`)}});t.a=c},RVll:function(e,t,a){e.exports={poster:"TopPlayedColumnRow-poster-JGf3-5 Link-link-2ew_DK",artistPoster:"TopPlayedColumnRow-artistPoster-2uLEsx Link-link-2ew_DK",summary:"TopPlayedColumnRow-summary-104umq",itemTitle:"TopPlayedColumnRow-itemTitle-2aOzZ5 Link-link-2ew_DK"}},RWac:function(e,t,a){e.exports={partialButton:"PrePlayRecordingStatusButton-partialButton-1aQ0th PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5",failedButton:"PrePlayRecordingStatusButton-failedButton-ap5JD2 PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},RWya:function(e,t,a){e.exports={emptyContainer:"PrePlayPageHeaderSiblingsMenu-emptyContainer-zMrx0k"}},RXTF:function(e,t,a){"use strict";var n=a("B69o"),i=a("CHn6"),r=a("mOXR");var s=i.a.extend({name:"UserRoleModel",syncedAttrs:{id:r.a.string}});const o=n.a.extend({name:"UserRoleCollection",model:s});t.a=o},RZIj:function(e,t,a){e.exports={form:"AddToCatalogModal-form-3c_MqA",inputContainer:"AddToCatalogModal-inputContainer-3V2vNI",fileNote:"AddToCatalogModal-fileNote-25qjc8"}},ReZX:function(e,t,a){e.exports={container:"ConflictItemRow-container-x4THp8"}},Rhig:function(e,t,a){e.exports={container:"HubTitleToggleHomeHubButton-container-2IqMsG",icon:"HubTitleToggleHomeHubButton-icon-1jwJTZ AddOrRemoveButton-icon-2m9zyA",button:"HubTitleToggleHomeHubButton-button-2V6cQB AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I",isHidden:"HubTitleToggleHomeHubButton-isHidden-2ozuyI",isVisible:"HubTitleToggleHomeHubButton-isVisible-WlFUSh"}},Rj9q:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("a7ba"),s=a.n(r);t.a=function({children:e}){return i.a.createElement("div",{className:s.a.description},e)}},Rkkp:function(e,t,a){e.exports={sectionError:"FormSectionError-sectionError-3ZuKeE",sectionErrorIcon:"FormSectionError-sectionErrorIcon--74cEl"}},RlGa:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("bCk4"),s=a("NJuV"),o=a("Nc8A"),l=a.n(o);t.a=function(e){return i.a.createElement(r.a,{iconClassName:l.a.icon,iconComponent:s.a,...e})}},Rmik:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("F/us"),i=a.n(n),r=a("B69o"),s=a("kwss"),o=a("bQSc"),l=a("ftj1");const c=(e,t)=>!e.get("relay")&&t.get("relay")?e:!t.get("relay")&&e.get("relay")||!e.get("isLoopback")&&t.get("isLoopback")?t:!t.get("isLoopback")&&e.get("isLoopback")?e:!e.get("isPrivate")&&t.get("isPrivate")?t:!t.get("isPrivate")&&e.get("isPrivate")?e:!e.get("isHttps")&&t.get("isHttps")?t:(!t.get("isHttps")&&e.get("isHttps"),e),d=r.a.extend({name:"ConnectionCollection",context:["server"],model:l.a,getBestConnection(){const e=s.a.allowHttpsMediaServerConnections,t=!this.server||this.server.get("isCloud")||e,a=this.filter(e=>e.get("isConnected")&&(t||!e.get("isHttps")));if(a.length)return i.a.reduce(a,c)},hasBetterConnectionCandidates(){const e=this.server&&this.server.get("activeConnection");return this.some(t=>{const a=t.get("isUntested")||t.get("isPending"),n=!e||t!==e&&c(t,e)===t;return a&&n})},hasOnlyFailedConnections(){return this.every(e=>e.get("isFailed"))},hasFailedEveryDirectConnection(){return this.where({relay:!1}).every(e=>e.get("isFailed"))},hasMultiplePrivateV4Subnets(){let e;return this.some(t=>{const a=t.get("address");if(t.get("isPrivate")&&o.e(a)){const t=o.a(a);return e||(e=t),e!==t}})}});t.b=d},RryH:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n);t.a=function(e,t){const a=i.a.Deferred(),n=(new Date).getTime()+t;let r;function s(){const e=(new Date).getTime(),t=Math.max(n-e,0);window.setTimeout(r,t)}return e.then((...e)=>{r=()=>a.resolve(...e)},(...e)=>{r=()=>a.reject(...e)}),e.then(s,s),a.promise()}},Rx8e:function(e,t,a){e.exports={progress:"PosterCardOverlayProgress-progress-16k0BJ",progressTrack:"PosterCardOverlayProgress-progressTrack-3luzPK",progressBar:"PosterCardOverlayProgress-progressBar-3k291O"}},Ryf4:function(e,t,a){e.exports={form:"DVRDeviceSettingsModalContent-form-1a8dRt",container:"DVRDeviceSettingsModalContent-container-320C56",info:"DVRDeviceSettingsModalContent-info-3oNQ9g",deviceImage:"DVRDeviceSettingsModalContent-deviceImage-3ud4cE",model:"DVRDeviceSettingsModalContent-model-3qWA4s",settings:"DVRDeviceSettingsModalContent-settings-3-KyiK"}},RzpD:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("dFNG");function i(e,t,a,i){return Object(n.a)("source",e,t,a,i)}},"S+4V":function(e,t,a){e.exports={groupItem:"PrePlayDetailsGroupItem-groupItem-3QNr1s",label:"PrePlayDetailsGroupItem-label-1HY8Lp",content:"PrePlayDetailsGroupItem-content-23rQMx"}},"S+WG":function(e,t,a){e.exports={sidebarLink:"SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",iconImg:"SidebarLink-iconImg-1grLXe",container:"SidebarLink-container-24bhWp",icon:"SidebarLink-icon-34JWqs",title:"SidebarLink-title-2vaAAn",children:"SidebarLink-children-3Lh_RU",spinner:"SidebarLink-spinner-3MZY0q"}},S09J:function(e,t,a){"use strict";a.r(t);var n=a("Co7d");t.default=function(e){return e>=100?function(e){if(!(e>0))return"";let t=e/1e3;return t=t>=.1?Number(t.toFixed(1)):t,t+" Mbps"}(e):Object(n.a)(e)}},S1hb:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("EPph"),s=a("bsps"),o=a("+Obf"),l=a("Xa5i"),c=a.n(l);const d=s.a.extend({name:"libraryFailureModal",className:"confirm-modal modal modal-sm fade",template:c.a,events:i.a.extend({"click .confirm-btn":"hide"},s.a.prototype.events),serializeData(){return{isSignedIn:this.model.get("myPlexSigninState")===r.b,hasPlexSubscription:this.model.get("myPlexSubscription"),serverSettingsRoute:Object(o.a)(this.model.id,"settings","general")}}});t.a=d},S1st:function(e,t,a){e.exports={addToSavedButton:"PodcastShowPrePlay-addToSavedButton-2aatEo",container:"PodcastShowPrePlay-container-26Mb0Y"}},S686:function(e,t,a){e.exports={dropFileOverlay:"ServerLogPage-dropFileOverlay-30ow04",icon:"ServerLogPage-icon-3tZH8N"}},SBxW:function(e,t,a){e.exports={menuItemContainer:"SelectedMenuItem-menuItemContainer-2hXIr-",menuLabel:"SelectedMenuItem-menuLabel-2fp2lo",selectedIcon:"SelectedMenuItem-selectedIcon-20Yx1_",isSelected:"SelectedMenuItem-isSelected-178xe1"}},SYtG:function(e,t,a){e.exports={agendaHeader:"AgendaHeader-agendaHeader-66Y_9t"}},SZF0:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("kwss");function i(e,t){return n.a.shouldCreateFlexModels&&(e.prototype.sessionRelations={...e.prototype.sessionRelations,desktop:t}),e}},SZP6:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("8HKk"),s=a("LmLz"),o=a("xyiB"),l=a("VzhI"),c=a("agT0"),d=a("66GW"),u=a("+GYj"),p=a.n(u);function m(){return c.c().map(e=>({[e.identifier]:e.title}))}function h(e){const{className:t,name:a,value:o,hasPlexPass:c,onChange:u}=e,h=Object(n.useMemo)(m,[]);return i.a.createElement("div",null,i.a.createElement(r.a,null,Object(d.default)("Restriction Profile")),i.a.createElement(s.a,{className:t,name:a,value:o,values:h,size:l.c,onChange:u}),i.a.createElement("div",{className:p.a.subtitle},c?Object(d.default)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. Pick None to choose your own ratings and manage other Media Server permissions."):Object(d.default)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. With a Plex Pass, you can choose your own ratings and manage other Media Server permissions.")))}h.defaultProps={className:p.a.input},t.a=Object(o.a)(h)},SeTg:function(e,t,a){e.exports={dayOfWeek:"CalendarDayOfWeek-dayOfWeek-3dQ59f",isToday:"CalendarDayOfWeek-isToday-2rPYNP"}},SfGf:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="",o=this.escapeExpression;return s+='<a class="striped-list-item" href="#" data-key="'+o("function"==typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.key)?r.apply(t):r)+'"> <i class="glyphicon file"></i> '+o("function"==typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.title)?r.apply(t):r)+" </a> "}))},ShFY:function(e,t,a){e.exports={alternate:"PlaylistListItem-alternate-3LodVO",container:"PlaylistListItem-container-1zf1-X",card:"PlaylistListItem-card-1lyuEQ PosterCard-card-1rN9gd",title:"PlaylistListItem-title-2aEtHh"}},SiWM:function(e,t,a){"use strict";a.d(t,"i",(function(){return x})),a.d(t,"j",(function(){return A})),a.d(t,"k",(function(){return L})),a.d(t,"l",(function(){return k})),a.d(t,"h",(function(){return R})),a.d(t,"e",(function(){return z})),a.d(t,"d",(function(){return U})),a.d(t,"a",(function(){return V})),a.d(t,"f",(function(){return B})),a.d(t,"g",(function(){return F})),a.d(t,"m",(function(){return H})),a.d(t,"c",(function(){return _})),a.d(t,"b",(function(){return W})),a.d(t,"x",(function(){return Q})),a.d(t,"y",(function(){return G})),a.d(t,"z",(function(){return K})),a.d(t,"A",(function(){return Y})),a.d(t,"v",(function(){return q})),a.d(t,"s",(function(){return Z})),a.d(t,"r",(function(){return X})),a.d(t,"n",(function(){return J})),a.d(t,"t",(function(){return $})),a.d(t,"u",(function(){return ee})),a.d(t,"C",(function(){return te})),a.d(t,"p",(function(){return ae})),a.d(t,"w",(function(){return ne})),a.d(t,"B",(function(){return ie})),a.d(t,"o",(function(){return re})),a.d(t,"q",(function(){return ce}));var n=a("EVdn"),i=a.n(n),r=a("ICb1"),s=a("0jae"),o=a("+X4A"),l=a("cgRT"),c=a("ZToC"),d=a("jpr2"),u=a("8NF1"),p=a("DdRF"),m=a("iPle"),h=a("Ve6J"),g=a("IbpV"),y=a("L7Oz"),f=a("YINS"),b=a("+fvj"),v=a("iZkF"),I=a("2eFc"),S=a("uCRf"),E=a("gnaf"),O=a("zTsO"),M=a("rXDx");var C=function(e){const t=e.get("type"),a="channelDirectory"===t||Object(M.isDirectoryType)(t)||e.get("isFolder");return void 0===e.length&&!a},j=a("hPIe"),D=a("+Mxn"),P=a("1Lwt"),T=a("66GW"),w=a("f2wi"),N=a("U1rH");const x="ui/player/playerLifecycle/startPlayback",A="ui/player/playerLifecycle/startPrimaryExtraPlayback",L="ui/player/playerLifecycle/startRadioPlayback",k="ui/player/playerLifecycle/startRelatedMixPlayback",R="ui/player/playerLifecycle/startExistingPlayQueuePlayback",z="ui/player/playerLifecycle/queueRelatedMixPlayback",U="ui/player/playerLifecycle/queuePlayback",V="ui/player/playerControls/clearPlayerConfirmPlaybackPayload",B="ui/player/playerControls/resetAndClosePlayer",F="ui/player/playerControls/setMetricsPlayer",H="ui/player/playerLifecycle/updateCurrentAd",_="ui/player/playerLifecycle/endPlayback",W="ui/player/playerLifecycle/dismissPlayerUpsell",Q=Object(r.a)(x),G=Object(r.a)(A),K=Object(r.a)(L),Y=Object(r.a)(k),q=Object(r.a)(R),Z=Object(r.a)(z),X=Object(r.a)(U),J=Object(r.a)(V),$=(Object(r.a)("ui/player/playerControls/clearPlayerConfirmNewsSunsetPayload"),Object(r.a)(B)),ee=Object(r.a)(F),te=Object(r.a)(H),ae=Object(r.a)(_),ne=Object(r.a)(x,({options:e={},...t}={})=>({...t,metricsAction:f.O,options:{...e,playAll:!0}})),ie=Object(r.a)(x,({options:e={},...t}={})=>({...t,metricsAction:f.ib,options:{...e,shuffle:!0}})),re=Object(r.a)(W);let se;function oe(e){return e.get("related").findWhere({browse:!1}).get("metadataList")}function le(e,t,a){return(...n)=>{if(t.get("isOpen")&&e===se)return a(...n);s.a.warn("[Player] Player was closed or a new playback session was started; ignoring playback request")}}const ce={[x](e,t,a){const{metadataItemEntityID:n,liveTVSessionEntityID:i,syncplaySessionRoomID:r,confirmPlayback:s,confirmOffset:o,confirmNewsSunset:h,confirmAdvertisingNotice:g,startOffsetMilliseconds:y=null,startMediaIndex:b=null,openState:v=I.a,isPaused:N=!1,isWatchTogetherLobbyVisible:x=!1,extrasPrefixCount:A,playbackStartTime:L=Date.now(),metricsPage:k,metricsProperties:R={}}=t,z=Object(m.a)(e,t),U=Object(u.a)(z),V=S.d(U),B=Object(D.c)(e,V),F=B.get("playQueue"),H=z.metadataItemModel,_=Object(l.c)("appModel").get("user"),W=z.serverModel?z.serverModel.entityID():t.serverEntityID,Q=z.providerModel?z.providerModel.entityID():t.providerEntityID;if(F&&H&&F.get("playQueueSelectedMetadataItemID")===H.get("ratingKey"))return;if(!s&&F&&F.get("playQueueVersion")>1)return void B.set("confirmPlaybackPayload",t);const G={serverEntityID:W,providerEntityID:Q,syncplaySessionRoomID:r,isOpen:!0,openState:v,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:N,isWatchTogetherLobbyVisible:x,startOffsetMilliseconds:y,startMediaIndex:b,playbackStartTime:L,metricsPage:k,metricsSetting:R.setting,metricsContextTuple:R.contextTuple};if(i&&(G.liveTVSession=j.d(e,{liveTVSessionEntityID:i})),H&&C(H)&&(G.startMetadataItemEntityID=n),!g&&H&&H.get("requiresConsent")&&_.get("isFullUser")&&(!_.get("adsConsentSetAt")||_.get("adsConsentReminderAt")<Date.now()/1e3)?G.advertisingNoticePayload=t:_.get("features").get(O.p)&&!_.get("experienceSettings").get("hasDismissedNewsSunsetBanner")&&!h&&H&&H.get("subtype")===w.NEWS?G.confirmNewsSunsetPayload=t:!o&&H&&H.get("viewOffset")&&(G.confirmOffsetPayload=t),Object(P.a)(()=>{B.restoreDefaults(G)}),G.advertisingNoticePayload||G.confirmOffsetPayload||G.confirmNewsSunsetPayload)return;const K=!(y||!H||H.get("type")!==M.MOVIE),Y=E.l(z.providerModel.get("identifier"),E.b),q=Object(c.a)({...z,skipSiblings:Y,extrasPrefixCount:K?A:void 0,playQueueModel:Object(d.a)({...z,playQueueType:U})});se=q,q.done(le(q,B,t=>{B.set({isPlayQueueLoading:!1,playQueue:t}),Object(p.a)(e).startPlayback(B)})).fail(le(q,B,()=>{B.restoreDefaults({hasError:!0,errorMessage:Object(T.default)("An error occurred loading items to play.")})})),t.skipClickMetrics||Object(l.c)("metrics").trackClick({page:t.metricsPage,action:t.metricsAction||f.N,type:U,...R})},[A](e,t,a){const n=t.options||{},i=j.f(e,t);a(Q({...t,metadataItemEntityID:null,metricsAction:f.R,options:{...n,metadataItemKey:i.get("primaryExtraKey"),type:"video"}}))},[k](e,t,a){const n=t.options||{},i=j.f(e,t),r=oe(i);a(Q({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsAction:f.S,skipClickMetrics:t.skipClickMetrics,options:{...n,type:Object(u.a)({metadataItemModel:i}),containerKey:r.get("containerKey")}}))},[L](e,t,a){const{playlistType:n}=t,i=j.f(e,t).get("stations");if(!i.length)return;const r=i.findWhere({playlistType:n});a(Q({metricsAction:f.S,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:r.entityID(),skipClickMetrics:t.skipClickMetrics,options:{type:Object(u.a)({metadataItemModel:r})}}))},[R](e,t){const{serverEntityID:a,providerEntityID:n,playQueueType:i,playQueueID:r,startOffsetMilliseconds:s=null,startMediaIndex:o=null,playbackStartTime:l=Date.now()}=t,c=j.m(e,t),u=S.d(i),p=j.j(e,t),m=Object(D.c)(e,u),y=Object(d.a)({providerModel:p,playQueueID:r,playQueueType:i}),f={serverEntityID:a,providerEntityID:n,isOpen:!0,openState:I.a,isPlayQueueLoading:!0,isMediaLoading:!0,startOffsetMilliseconds:s,startMediaIndex:o,playbackStartTime:l};c===e.get("transientServer")&&(f.metricsPage=v.eb,f.metricsContext=b.COMPANION),m.set(f);return Object(g.a)(y).done(()=>{m.set({playQueue:y,isPlayQueueLoading:!1}),h.startPlayback(m)}).fail(()=>{m.restoreDefaults({hasError:!0,errorMessage:Object(T.default)("An error occurred loading items to play.")})})},[z](e,t,a){const n=j.f(e,t),i=oe(n);a(X({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsAction:f.U,listType:Object(u.a)({metadataItemModel:n}),options:{next:!0,containerKey:o.default.join(i.get("containerKey"),{excludeSeedItem:1})}}))},[U](e,t,a){const{startOffsetMilliseconds:n=null,openState:i=I.a}=t,r=Object(m.a)(e,t),s=Object(u.a)(r),o=S.d(s),h=Object(D.c)(e,o),b=!!r.playQueueID,v=r.serverModel?r.serverModel.entityID():t.serverEntityID,E=r.providerModel?r.providerModel.entityID():t.providerEntityID;let O=h.get("playQueue"),M=!1;if(O&&h.get("providerEntityID")){const t=j.j(e,{providerEntityID:h.get("providerEntityID")}),a=h.get("providerEntityID")===E,n=O.get("isUniversal"),i=t.server.get("isFullOwnedServer");M=a||n&&i}if(M)Object(c.a)({...r,playQueueModel:O}).done(Object(y.a)(h,()=>{Object(p.a)(e).refreshRemotePlayQueue(h)})).fail(Object(y.a)(h,()=>{h.set({hasError:!0,errorMessage:Object(T.default)("An error occurred loading items into the play queue.")})}));else{Object(P.a)(()=>{h.restoreDefaults({serverEntityID:v,providerEntityID:E,isOpen:!0,openState:i,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:!r.next,repeatAll:!!r.playQueueRepeat,startOffsetMilliseconds:n,playbackStartTime:r.playbackStartTime?r.playbackStartTime:Date.now()})}),O=Object(d.a)({...r,playQueueType:s});const t=b?Object(g.a)(O):Object(c.a)({...r,next:!1,playQueueModel:O});se=t,t.done(le(t,h,t=>{h.set({isPlayQueueLoading:!1,playQueue:t}),Object(p.a)(e).startPlayback(h,b)})).fail(le(t,h,()=>{a(Object(N.C)()),b?h.restoreDefaults():h.restoreDefaults({hasError:!0,errorMessage:Object(T.default)("An error occurred loading items to play.")})}))}const C=r.next?f.Q:f.d,w=t.metricsProperties||{};t.skipClickMetrics||Object(l.c)("metrics").trackClick({page:t.metricsPage,action:t.metricsAction||C,type:s,...w})},[V](e,{playerType:t,openState:a}){const n=Object(D.c)(e,t);Object(P.a)(()=>{n.set("confirmPlaybackPayload",null)})},"ui/player/playerControls/clearPlayerConfirmNewsSunsetPayload"(e,{playerType:t}){const a=Object(D.c)(e,t);Object(P.a)(()=>{a.set("confirmNewsSunsetPayload",null)})},[B](e,{playerType:t,openState:a}){const n=Object(D.c)(e,t);Object(P.a)(()=>{n.restoreDefaults()})},[F](e,{playerType:t,metricsPlayer:a}){const n=Object(D.c)(e,t);Object(P.a)(()=>{n.set({metricsPlayer:a})})},[H](e,{adDisplayIndex:t,adDisplayTotal:a,adDurationSeconds:n,adPositionSeconds:i,adState:r,adTimeOffsetSeconds:s,playerType:o}){Object(D.c)(e,o).set({adDisplayIndex:t,adDisplayTotal:a,adDurationSeconds:n,adPositionSeconds:i,adState:r,adTimeOffsetSeconds:s})},[_](e,{playerType:t,isForced:a},n){const r=Object(D.c)(e,t),s=r.get("liveTVSession"),l=r.get("serverEntityID"),c=j.m(e,{serverEntityID:l}),d=Object(p.a)(e);if(Object(P.a)(()=>{a||n(Object(N.C)()),d.endPlayback(r)}),s&&!c.get("isCloud")){const e=o.default.join(["/media/subscriptions",s.id]);i.a.ajax(s.server.getXHROptions(e,{method:"DELETE"}))}},[W](e,{playerType:t}){Object(D.c)(e,t).set({confirmPlayerUpsellPayload:null})}}},Sl7x:function(e,t,a){e.exports={innerModalBody:"DVRSetupDownload-innerModalBody-15DFVO ModalBody-innerModalBody-BHe1nE",text:"DVRSetupDownload-text-K9w4Od",accentText:"DVRSetupDownload-accentText-2m1mMS",additionalDevices:"DVRSetupDownload-additionalDevices-1A2OD-",spinnerContainer:"DVRSetupDownload-spinnerContainer-l2qc3m",spinner:"DVRSetupDownload-spinner-7eNe3j Spinner-spinner-1qRM4t spin-spin-2kLwt_"}},SnPO:function(e,t,a){"use strict";var n=a("0jae"),i=a("cgRT");t.a=function(){const e=Date.now(),t=Object(i.c)("sessionStats");n.a.debug("[Metrics] Updating session last interaction time"),t.save("lastInteractionTime",e)}},Sp9s:function(e,t,a){"use strict";t.a=function(e,t,a){let n=a;if(e.Part.length>1)for(let a=0,i=e.Part.length;a<i;a++){const i=e.Part[a];if(!i.duration)break;if(t.key===i.key)break;n+=i.duration}return n}},SqLh:function(e,t,a){e.exports={leftTitle:"PrePlayLeftTitle-leftTitle-Ev1KGW"}},SsI7:function(e,t,a){e.exports={tagsInput:"AutosuggestTagsInput-tagsInput-6yLPXr TagsInput-tagsInput-2eRCns",input:"AutosuggestTagsInput-input-ZG-hTQ TagsInput-input-3KDPbm"}},"Sua+":function(e,t,a){e.exports={container:"WatchTogetherPlayerParticipants-container-1DTxJ2 AudioVideoStripeContainer-container-MI02OU"}},"T+Fn":function(e,t,a){"use strict";a.d(t,"k",(function(){return X})),a.d(t,"b",(function(){return J})),a.d(t,"c",(function(){return $})),a.d(t,"i",(function(){return ee})),a.d(t,"h",(function(){return te})),a.d(t,"j",(function(){return ae})),a.d(t,"g",(function(){return ne})),a.d(t,"l",(function(){return ie})),a.d(t,"f",(function(){return re})),a.d(t,"m",(function(){return se})),a.d(t,"d",(function(){return oe})),a.d(t,"e",(function(){return le})),a.d(t,"a",(function(){return ce}));var n=a("F/us"),i=a.n(n),r=a("ICb1"),s=a("rG0a"),o=a("0jae"),l=a("+X4A");var c=a("yO9Y"),d=a("hPIe");function u(e,t){return e.save({...t,isSaving:!0,saveError:null}).then(()=>{e.set({isSaving:!1})},t=>{const a=t&&t.message||"";e.set({isSaving:!1,saveError:{message:a}})})}var p=a("kwss"),m=a("5exe");var h=function(){const e=Object(m.a)(window.location.href,"http:"),t=p.a.allowSSO?l.default.join(e,{secure:0},{parseParams:!0,recognizeHash:!0}):e;o.a.info("[redirectToHttp] Redirecting from "+window.location.href+" to "+t),window.location=t},g=a("ZAgb"),y=a("XcGM"),f=a("QPyl"),b=a("17x9"),v=a.n(b),I=a("q1tI"),S=a.n(I),E=a("xhK+"),O=a.n(E);function M(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",id:"plex-icon-plex-chevron"};i["aria-hidden"]=!t,i.style=n,i.className=O.a.plexIcon+(a?" "+a:"");var r=[S.a.createElement.apply(S.a,["path",{d:"M195,0 L485.000707,0 L805,500 L485.000707,1000 L195,1000 L514.999293,500 L195,0"}].concat([]))];return t&&r.unshift(S.a.createElement("title",null,t)),S.a.createElement.apply(S.a,["svg",i].concat(r))}M.propTypes={"aria-label":v.a.string,className:v.a.string,style:v.a.object};var C=M,j=a("cgRT"),D=a("YINS"),P=a("iZkF"),T=a("VzrX"),w=a("nhAy"),N=a("B69o"),x=a("CHn6"),A=a("mOXR");var L=x.a.extend({name:"DownloadServerReleaseModel",context:["server"],modelId(){return this.get("build")+"-"+this.get("distro")},syncedAttrs:{label:A.a.string,build:A.a.string,distro:A.a.string,url:A.a.string}});var k=N.a.extend({name:"DownloadServerReleaseCollection",context:["server"],model:L});var R=x.a.extend({name:"DownloadServerPlatformModel",context:["server","type"],rootPropertyName:"Platform",idAttribute:"id",syncedAttrs:{id:A.a.string,name:A.a.string,version:A.a.string,date:A.a.integer,requirements:A.a.string,fixed:A.a.string,added:A.a.string,info:A.a.string},syncedRelations:{releases:{rootPropertyName:"Release",relationClass:k}},derivedAttrs:{type(){return this.type}},augmentResponse:({release_date:e,extra_info:t,items_fixed:a,items_added:n,...i})=>({...i,info:t,fixed:a,added:n,date:e+"000"})});var z=N.a.extend({name:"DownloadServerPlatformCollection",context:["server","type"],model:R});var U=x.a.extend({name:"DownloadServerModel",context:["server"],rootPropertyName:"Type",idAttribute:"name",syncedAttrs:{name:A.a.string},syncedRelations:{platforms:{rootPropertyName:"Platform",relationClass:z,options:e=>({type:e.name})}}});var V=N.a.extend({name:"DownloadServerCollection",context:["server"],url(){const e=i.a.result(this.server,"url");return l.default.join([e,"api/downloads/1"])},model:U}),B=a("CpQb"),F=a("7J7q"),H=a("YVMD"),_=a.n(H),W=B.a.ItemView.extend({template:_.a,className:"download-server-pane",serializeData:function(){const e=this.model.toJSON(),t=!Object(F.b)(),a=!t&&"_self";return{...e,target:a,shouldUseDownload:t,shouldUseDropup:e.releases.length>1}}}),Q=a("bsps"),G=a("Wks2"),K=a.n(G),Y={osx:"macos"},q=Q.a.extend({mixins:[w.a],name:"serverDownloadModal",className:"server-download-modal modal modal-lg fade",template:K.a,ui:{downloadBtn:".download-btn",paneTabs:".show-pane-btn",loading:".server-download-loading"},regions:{paneRegion:".pane-region"},events:i.a.extend({"click .show-pane-btn":"onShowPaneClick","click .download-btn":"onDownloadClick"},Q.a.prototype.events),panesModel:"selectedModel",onlyAfterRender:["showPane"],initialize:function(e){Q.a.prototype.initialize.apply(this,arguments);var t=j.c("appModel");t.get("primaryServer")||this.listenTo(t,"change:primaryServer",(e,t)=>{t&&t.id&&this.hide()}),this.downloadType=e.downloadType;var a=new V([],{server:t.get("cloudServer")}),n=a.populate();n.done(()=>{this.collection=a.get(this.downloadType).get("platforms"),this.paneSetup(),this.render(),this.ui.loading.addClass("hidden")}),j.c("metrics").trackView({page:P.F,firstRun:!0})},serializeData:function(){return{items:this.collection?this.collection.toJSON():[],selectedPane:this.selectedModel?this.selectedModel.get("id"):null,iconPlexChevron:Object(T.a)(C,{className:"modal-icon"})}},selectListItem:function(){var e=this.selectedModel.get("id");this.ui.paneTabs.removeClass("selected"),this.ui.paneTabs.filter(`[data-pane="${e}"]`).addClass("selected")},paneSetup:function(){this.panes=this.collection.reduce((e,t)=>(e[t.get("id")]={constructor:W},e),{});var{platformID:e}=f.a,t=Y[e]||e;this.selectedModel=this.collection.get(t)||this.collection.first(),this.showPane(this.selectedModel.get("id"))},onRender:function(){Q.a.prototype.onRender.apply(this,arguments),this.selectedModel&&this.selectListItem()},onShowPaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget).data("pane");this.selectedModel=this.collection.get(t),this.showPane(t),this.selectListItem()},onDownloadClick:function(e){var t=this.selectedModel.get("id");j.c("metrics").trackClick({page:P.F,firstRun:!0,action:D.v,platform:this.downloadType,os:t}),this.hide()}}),Z=a("okn6");const X=Object(r.a)("app/restoreDefaultDeviceSettings"),J=(Object(r.a)("app/downloadServer"),Object(r.a)("app/discoverServers")),$=Object(r.a)("app/dismissUnclaimedServer"),ee=Object(r.a)("app/redirectToRoute"),te=Object(r.a)("app/redirectToHttp"),ae=Object(r.a)("app/redirectToUrl"),ne=Object(r.a)("app/preferInsecure"),ie=Object(r.a)("app/selectAudioDevice"),re=(Object(r.a)("app/updateAudioDevices"),Object(r.a)("app/populateCloudServer")),se=Object(r.a)("app/updateNavigationHistory"),oe=Object(r.a)("app/toggleFullscreen",e=>({isFullscreen:!0})),le=Object(r.a)("app/toggleFullscreen",e=>({isFullscreen:!1})),ce={[c.a]:c.q[c.a],[c.k]:c.q[c.k],[c.d]:c.q[c.d],[c.g]:c.q[c.g],[c.h]:c.q[c.h],[c.j]:c.q[c.j],[c.n]:c.q[c.n],[c.c]:c.q[c.c],[c.o]:c.q[c.o],[c.m](e,t){u(e.get("deviceSettings"),t)},"app/restoreDefaultDeviceSettings"(e){const t=e.get("deviceSettings");!function(e,{isUserRestricted:t}){const a={shouldSyncSettings:e.get("shouldSyncSettings")};t&&(a.autoLogin=e.get("autoLogin")),e.restoreDefaults(a)}(t,{isUserRestricted:e.get("user").get("restricted")}),u(t,{})},"app/downloadServer"(e,t){const a=new q({downloadType:t});s.a.trigger("show:modal",a)},"app/discoverServers"(e){s.a.trigger("discover:servers")},"app/dismissUnclaimedServer"(e,t,a){const{machineIdentifier:n}=t,i=e.get("deviceSettings").get("dismissedUnclaimedServers");i[n]||a(Object(c.B)({dismissedUnclaimedServers:{...i,[n]:!0}}))},[c.p](e,t){const{machineIdentifier:a}=t;e.get("servers").findServer(a).then(t=>{e.set({primaryServer:t,isWaitingForPrimaryServer:!1})},()=>{o.a.warn("Unable to set primary server to:",a)})},[c.l](e){e.set({primaryServer:null,isWaitingForPrimaryServer:!0})},[c.b](e,t){const{machineIdentifier:a}=t;e.get("servers").findServer(a).done(t=>{!t.get("isOutOfDate")&&t.get("isPrimaryEligible")&&e.get("primaryServer")!==t&&e.set({primaryServer:t,isWaitingForPrimaryServer:!1})})},[c.e](e,t,a){const n=function(e,t=!0){let a="";return e&&("string"==typeof e.pathname?a=e.query?l.default.join(e.pathname,e.query):e.pathname:"string"==typeof e&&(a=e)),a&&t&&0!==a.indexOf("#!")&&(a="#!"+a),a}(t);t.replace?window.location.replace(n):window.location.href=n},[c.i](e,t,a){const{key:n,replace:i}=t,r=Object(d.m)(e,t),s=Object(d.j)(e,t),o=Object(Z.a)(r.toJSON(),s.toJSON(),n);o&&a(Object(c.v)({pathname:o,replace:i}))},"app/redirectToRoute"(e,{route:t,params:a,replace:n}){i.a.defer(()=>{Object(y.a)(t,a,n)})},"app/redirectToHttp"(){h()},"app/redirectToUrl"(e,{url:t,replace:a}){a?window.location.replace(t):window.location.href=t},"app/preferInsecure"(){try{window.localStorage.setItem("preferInsecure","1")}catch(e){o.a.debug("Unable to set prefer insecure in storage due to error:",e.message)}},"app/toggleFullscreen"(e,{isFullscreen:t}){e.get("isFullscreen")!==t&&e.set("isFullscreen",t)},"app/selectAudioDevice"(){},"app/updateAudioDevices"(){},"app/populateCloudServer"(e){e.get("cloudServer").populate()},"app/updateNavigationHistory"(e,t){const{location:a}=t,n=e.get("history");n.length&&n[n.length-1].pathname===a.pathname&&n[n.length-1].search===a.search||e.set("history",[...n,{pathname:a.pathname,search:a.search}])},[c.f](e,{replace:t}={}){const a=e.get("history");if(a.length<2)e.set("history",[]),Object(y.a)("home",{},t);else{const n=a.slice(0,a.length-1);e.set("history",n);const i=n[n.length-1];t?g.a.replace(i):g.a.push(i)}}}},"T+ch":function(e,t,a){"use strict";t.a={smallSize:"26px",mediumSize:"30px",largeSize:"36px",gapSmall:"15px",gapMedium:"30px",gapLarge:"60px",navigationHeaderHeight:"60px",navigationUserMenuImageSize:"34px",pageHeaderHeight:"60px",breadcrumbMargin:"25px",menuSmallWidth:"120px",menuMediumWidth:"180px",menuLargeWidth:"220px",menuPadding:"8px",menuItemTopPadding:"4px",menuItemSidePadding:"20px",toolbarButtonWidth:"50px",posterTitlePadding:"10px",posterTitleHeight:"20px",searchHubTitleHeight:"18px",searchResultWidth:"346px",searchResultHeight:"50px",sidebarWidth:"240px",sidebarRightGutterWidth:"15px",sidebarLeftGutterWidth:"25px",tableCellPadding:"20px",tableHeaderHeight:"40px",tableRowHeight:"40px",tableTitleHeight:"60px",inputMaxWidth:"360px",inputBorderRadius:"4px",autosuggestSuggestionRadius:"4px",smallArrowWidth:"6px",mediumArrowWidth:"8px",largeArrowWidth:"10px",tooltipArrowSize:"6px",tooltipMarginTop:"-6px",breakpointMobileNarrow:"320px",breakpointExtraSmall:"480px",breakpointSmall:"768px",breakpointMedium:"992px",breakpointLarge:"1200px",modalBodyPadding:"30px"}},"T0/d":function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("htvf"),l=a("0jae"),c=a("+X4A"),d=a("cgRT");const u=o.a.extend({initialize(){s.a.bindAll(this,"onAjaxSend","onAjaxComplete"),this.requests=[],this.byId={}},startListening(){const e=i()(document);e.on("ajaxSend",this.onAjaxSend),e.on("ajaxComplete",this.onAjaxComplete)},stopListening(){const e=i()(document);e.off("ajaxSend",this.onAjaxSend),e.off("ajaxComplete",this.onAjaxComplete)},abortAll(e){for(let t=this.requests.length-1;t>-1;t--){const a=this.requests[t];null!=e&&e!==a.settings.scope||this.abort(a)}},abort(e){const t=s.a.isString(e)?this.byId[e]:e;t&&(t.xhr.aborting=!0,t.xhr.abort(),this.remove(t))},store(e,t){const a=s.a.uniqueId("r");e.rid=a;const n={xhr:e,settings:t};return this.requests.push(n),this.byId[a]=n,n},remove(e){const t=s.a.indexOf(this.requests,e);t>-1&&this.requests.splice(t,1),this.byId.hasOwnProperty(e.xhr.rid)&&delete this.byId[e.xhr.rid]},onAjaxSend(e,t,a){if(a.skipCorsWithRedirect)return;const n=this.store(t,a);t.always(()=>{t.aborting||this.remove(n)})},onAjaxComplete(e,t,a){const n=401===t.status;if(t.aborting||!n)return;const i=c.default.parseUrl(a.url);if(n&&("/log"===i.pathname||"/"===i.pathname||"/media/providers"===i.pathname))return;const r=Object(d.c)("appModel").get("servers"),o=r?r.find(e=>{const t=e.get("activeConnection"),n=t&&t.get("isConnected"),i=s.a.result(t,"url");return!!n&&a.url.substring(0,i.length)===i}):null;o&&(Object(l.a)('[Connections] Active connection to "%s" lost authorization',o.get("debugName")),o.trigger("error:connection",o))}});t.a=new u},T2rF:function(e,t,a){e.exports={innerContent:"PrePlayMetadataListInnerContent-innerContent-2CsIzg"}},T3Bu:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("Q0ne"),i=a("cgRT"),r=a("WxzZ"),s=a("hPIe");function o(e){const t=Object(i.c)("appModel"),a=t.get("user"),o=new r.a(e.map(e=>({machineIdentifier:Object(s.m)(t,{serverEntityID:e}).get("machineIdentifier")})),{server:a.server});return Object(n.a)(o.map(e=>e.fetch())).then(()=>{const e=o.filter(e=>!e.isPopulated());return o.remove(e),o})}},T8us:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l="",c=this.escapeExpression,d=this;function u(e,t){var a,i="";return i+=' <li> <span class="keyboard-shortcuts-keys"> ',((a=n.each.call(e,e&&e.keys,{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===a)&&(i+=a),i+=' </span> <span class="keyboard-shortcuts-label text-muted">'+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</span> </li> "}function p(e,t){var a,i="";return i+=" ",((a=n.if.call(e,e&&e.plain,{hash:{},inverse:d.noop,fn:d.program(4,m,t),data:t}))||0===a)&&(i+=a),i+=" ",((a=n.unless.call(e,e&&e.plain,{hash:{},inverse:d.noop,fn:d.program(6,h,t),data:t}))||0===a)&&(i+=a),i+=" ",((a=n.if.call(e,e&&e.split,{hash:{},inverse:d.noop,fn:d.program(8,g,t),data:t}))||0===a)&&(i+=a),i+=" "}function m(e,t){var a,n="";return n+=' <span class="keyboard-shortcuts-keys-plain">'+c("function"==typeof(a=e&&e.s)?a.apply(e):a)+"</span> "}function h(e,t){var a,n="";return n+=' <span class="keyboard-shortcuts-keys-key">'+c("function"==typeof(a=e&&e.s)?a.apply(e):a)+"</span> "}function g(e,t){return" <br> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon keyboard-wireless"></i> '+c((o=a("d8WC"),o&&(o.__esModule?o.default:o)).call(t,"Keyboard Shortcuts",{hash:{},data:r}))+' </h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((s=n.each.call(t,t&&t.groups,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var a,i="";return i+=' <h5 class="keyboard-shortcuts-header">'+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+'</h5> <ul class="list keyboard-shortcuts-list"> ',((a=n.each.call(e,e&&e.shortcuts,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(i+=a),i+=" </ul> "}),r),data:r}))||0===s)&&(l+=s),l+=" </div> </div> </div> "}))},TGb9:function(e,t,a){e.exports={upsell:"PlexPassUpsell-upsell-3i2JLq",iconContainer:"PlexPassUpsell-iconContainer-3uKd8W",icon:"PlexPassUpsell-icon-1r94uI",title:"PlexPassUpsell-title-3m6RLs",text:"PlexPassUpsell-text-2hF28X"}},THTr:function(e,t,a){e.exports={fileInput:"FileInput-fileInput-2okdnH",filename:"FileInput-filename-3PPxwz",noFilename:"FileInput-noFilename-sUIsdE"}},THzy:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return d}));var n=a("f2wi"),i=a("rXDx"),r=a("fVRA"),s=a("03dv");function o(e){return e.thumb||e.parentThumb||e.grandparentThumb}function l(e){return e.art||e.parentArt||e.grandparentArt}function c(e,t,a,s){if(s)switch(s){case r.n:switch(t){case n.PODCAST:switch(e){case i.TRACK:return a.thumb||a.grandparentThumb}}switch(e){case i.SEASON:case i.EPISODE:case i.ALBUM:case i.TRACK:return a.thumb}break;case r.a:case r.i:case r.s:switch(e){case i.MOVIE:return l(a);case i.EPISODE:return l(a)||a.thumb}break;case r.k:switch(e){case i.MOVIE:return l(a);case i.EPISODE:return a.thumb||l(a)}break;case r.m:case r.l:case r.d:case r.r:switch(e){case i.EPISODE:return a.thumb}}switch(t){case n.PODCAST:switch(e){case i.SHOW:return a.thumb;case i.TRACK:return a.grandparentThumb||a.thumb}break;case n.WEBSHOW:switch(e){case i.EPISODE:return a.thumb}}switch(e){case i.MOVIE:case i.SHOW:return a.thumb;case i.SEASON:return o(a);case i.EPISODE:return a.grandparentThumb;case i.ARTIST:return a.thumb;case i.ALBUM:case i.TRACK:return o(a);case i.PHOTO:case i.PHOTO_ALBUM:case i.CLIP:return a.thumb;case i.PLAYLIST:return a.thumb||a.composite;default:return a.thumb}}function d(e,t,a,n,i,r){const o=null==e?Object(s.f)(t,a,n,r):e,l=null==t?Object(s.e)(e,a,n,r):t;return{url:c(a,n,i,r),width:o,height:l}}},TIWu:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));const n=-1,i=10;t.c=function(e){return e.userRating===i}},TKUo:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"checked"}function p(e,t){var a,n="";return n+=' <p class="help-block">'+c("function"==typeof(a=e&&e.summary)?a.apply(e):a)+"</p> "}function m(e,t){var a,i="";return i+=' <select id="input_'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+c("function"==typeof(a=e&&e.idSuffix)?a.apply(e):a)+'" name="'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+'"> ',((a=n.each.call(e,e&&e.enumValues,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,h,t,e),data:t}))||0===a)&&(i+=a),i+=" </select> "}function h(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,e&&e.value,n&&n.value,{hash:{},inverse:d.noop,fn:d.program(11,g,t),data:t}))||0===r)&&(s+=r),s+=">"+c("function"==typeof(r=e&&e.label)?r.apply(e):r)+"</option> "}function g(e,t){return'selected="selected"'}function y(e,t){var r,s="";return s+=' <input type="',((r=i(a("w+Xr")).call(e,e&&e.option,"hidden",{hash:{},inverse:d.program(16,b,t),fn:d.program(14,f,t),data:t}))||0===r)&&(s+=r),s+='" id="input_'+c("function"==typeof(r=e&&e.id)?r.apply(e):r)+c("function"==typeof(r=e&&e.idSuffix)?r.apply(e):r)+'" class="form-control" name="'+c("function"==typeof(r=e&&e.id)?r.apply(e):r)+'" value="'+c("function"==typeof(r=e&&e.value)?r.apply(e):r)+'" ',((r=n.if.call(e,e&&e.placeholder,{hash:{},inverse:d.noop,fn:d.program(18,v,t),data:t}))||0===r)&&(s+=r),s+="> "}function f(e,t){return"password"}function b(e,t){return"text"}function v(e,t){var a,n="";return n+='placeholder="'+c("function"==typeof(a=e&&e.placeholder)?a.apply(e):a)+'"'}return l+='<div class="form-group ',((o=n.if.call(t,t&&t.advanced,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"advanced-setting"}),s),data:s}))||0===o)&&(l+=o),l+='"> ',((o=i(a("w+Xr")).call(t,t&&t.type,"bool",{hash:{},inverse:d.program(8,(function(e,t){var a,i="";return i+=' <label class="control-label" for="input_'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+c("function"==typeof(a=e&&e.idSuffix)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</label> ",((a=n.if.call(e,e&&e.enumValues,{hash:{},inverse:d.program(13,y,t),fn:d.program(9,m,t),data:t}))||0===a)&&(i+=a),i+=" ",((a=n.if.call(e,e&&e.summary,{hash:{},inverse:d.noop,fn:d.program(6,p,t),data:t}))||0===a)&&(i+=a),i+=" "}),s),fn:d.program(3,(function(e,t){var a,i="";return i+=' <label class="control-label" for="input_'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+c("function"==typeof(a=e&&e.idSuffix)?a.apply(e):a)+'"> <input type="checkbox" id="input_'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+c("function"==typeof(a=e&&e.idSuffix)?a.apply(e):a)+'" name="'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+'" value="1" ',((a=n.if.call(e,e&&e.value,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===a)&&(i+=a),i+="> "+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+" </label> ",((a=n.if.call(e,e&&e.summary,{hash:{},inverse:d.noop,fn:d.program(6,p,t),data:t}))||0===a)&&(i+=a),i+=" "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> "}))},Tent:function(e,t,a){"use strict";a.r(t),a.d(t,"BACKGROUND_TRANSCODE_JOBS",(function(){return i})),a.d(t,"SYNC_METADATA_ITEM",(function(){return r}));var n=a("7za+");a.d(t,"SERVER",(function(){return n.n})),a.d(t,"PROVIDER",(function(){return n.k})),a.d(t,"LIBRARY",(function(){return n.d})),a.d(t,"HUB",(function(){return n.c})),a.d(t,"USER",(function(){return n.p})),a.d(t,"RESOURCE",(function(){return n.l})),a.d(t,"FRIEND",(function(){return n.a})),a.d(t,"HOME_USER",(function(){return n.b})),a.d(t,"METADATA_LIST",(function(){return n.h})),a.d(t,"METADATA_ITEM",(function(){return n.g})),a.d(t,"MEDIA_SUBSCRIPTION",(function(){return n.f})),a.d(t,"LIVE_TV_SESSION",(function(){return n.e})),a.d(t,"PLAY_QUEUE_ITEM",(function(){return n.j})),a.d(t,"PLAYLIST_ITEM",(function(){return n.i})),a.d(t,"SEARCH_RESULT",(function(){return n.m})),a.d(t,"TRANSCODE_JOBS",(function(){return n.o})),a.d(t,"WATCH_TOGETHER_ROOM",(function(){return n.q}));const i="backgroundTranscodeJobs",r="syncMetadataItems"},TkmH:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("EVdn"),i=a.n(n),r=a("+X4A"),s=a("cgRT"),o=a("YINS"),l=a("blH+"),c=a("Vk9Z");function d(e,t,a){const{rating:n,allowMetrics:d,metricsProperties:u={}}=a,p=e.get("features").get(c.b).get("actions").get(l.e);if(!p)return i.a.Deferred().reject().promise();const m={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:n},h=r.default.join(p.get("key"),m),g=e.getXHROptions(h,{type:"PUT"}),y=t.get("userRating"),f=-1===n?void 0:n;t.set("userRating",f);const b=i.a.ajax(g).fail(e=>{t.get("userRating")===f&&t.set("userRating",y)});return d&&Object(s.c)("metrics").trackClick({...u,action:o.V,type:t.get("type"),rating:n}),b.promise()}},Tp3C:function(e,t,a){e.exports={progressContainer:"DVRManageChannelsInfo-progressContainer-1JJ2zU",scroller:"DVRManageChannelsInfo-scroller-1mBV99 Scroller-vertical-VScFLT"}},TpIi:function(e,t,a){"use strict";a.d(t,"f",(function(){return N})),a.d(t,"g",(function(){return x})),a.d(t,"n",(function(){return A})),a.d(t,"m",(function(){return L})),a.d(t,"o",(function(){return k})),a.d(t,"k",(function(){return R})),a.d(t,"j",(function(){return z})),a.d(t,"b",(function(){return U})),a.d(t,"c",(function(){return V})),a.d(t,"i",(function(){return B})),a.d(t,"a",(function(){return F})),a.d(t,"h",(function(){return _})),a.d(t,"e",(function(){return Y})),a.d(t,"d",(function(){return q})),a.d(t,"l",(function(){return Z}));var n=a("EVdn"),i=a.n(n),r=a("1cGo"),s=a("ICb1"),o=a("+X4A"),l=a("U//L"),c=a("T3Bu"),d=a("IqAM"),u=a("hDJw"),p=a("7EDZ"),m=a("agT0"),h=a("zTsO"),g=a("t/0V"),y=a("zTY+"),f=a("FIl5"),b=a("1Lwt"),v=a("66GW"),I=a("T0/d"),S=a("Xyf0"),E=a("f0u1"),O=a("o760"),M=a("AKSZ"),C=a("WXPl"),j=a("80CF"),D=a("l9jO"),P=a("w41d"),T=a("aIFf");const w="shareModal",N=Object(s.a)("ui/shareModal/initShareModal"),x=Object(s.a)("ui/shareModal/resetShareModal"),A=Object(s.a)("ui/shareModal/sharePreviousStep"),L=Object(s.a)("ui/shareModal/shareNextStep"),k=Object(s.a)("ui/shareModal/validateUsername"),R=Object(s.a)("ui/shareModal/setUsername"),z=Object(s.a)("ui/shareModal/setUser"),U=Object(s.a)("ui/shareModal/fetchServerOverviews"),V=Object(s.a)("ui/shareModal/fetchServerShares"),B=Object(s.a)("ui/shareModal/setLibraryShares"),F=Object(s.a)("ui/shareModal/fetchFilterOptionsTags"),H=Object(s.a)("ui/shareModal/saveItemShare"),_=Object(s.a)("ui/shareModal/saveLibraryShares");function W(e){return e.get("ui").get("shareModal")}function Q(e,t){const a=e.get("user"),n=e.get("servers"),{metadataItemEntityID:i,friendEntityID:r,isNewFriend:s=!0,isAddingHomeUser:o,isCreatingManagedUser:l}=t,c=[];o&&c.push(S.b.WARNING),c.push(S.b.USER);const d=!!i,p=n.some(e=>e.get("isFullOwnedServer")&&e.get("isClaimed")&&e.get("friendlyName"));!d&&p&&c.push(S.b.LIBRARIES);const m=a.get("hasPlexPass"),g=function(e,t){const{friendEntityID:a,isNewFriend:n,isAddingHomeUser:i,isCreatingManagedUser:r}=t,s=Object(u.a)(e,h.c),o=Object(u.a)(e,h.C);return s||(o||!(!r&&!!(a||n||i)))}(e,{friendEntityID:r,isNewFriend:s,isAddingHomeUser:o,isCreatingManagedUser:l});return!d&&(s||o)&&(m||l||g)&&c.push(S.b.RESTRICTIONS),s&&!l&&c.push(S.b.SUMMARY),c}function G(e,t){return e.findIndex(e=>e===t)}function K(e,t){return e[G(e,t)-1]}function Y(e,t){return e[G(e,t)+1]}function q(e,t){const a=Y(e,t);return!(!a||a===S.b.SUMMARY)}const Z=Object(l.a)({"ui/shareModal/initShareModal"(e,t){const a=W(e),n=Q(e,t);a.set({steps:n,step:n[0]})},"ui/shareModal/resetShareModal"(e,t={}){const a=W(e);I.a.abortAll(w),a.restoreDefaults(t)},"ui/shareModal/sharePreviousStep"(e,t,a){const n=W(e),i=n.get("steps"),r=n.get("step"),s={steps:i,step:K(i,r),username:n.get("username"),restrictionProfileIdentifier:n.get("restrictionProfileIdentifier"),isUsernameValidated:!n.get("isCreatingManagedUser")};r===S.b.RESTRICTIONS&&(s.friendEntityID=n.get("friendEntityID"),s.isNewFriend=n.get("isNewFriend"),s.isAddingHomeUser=n.get("isAddingHomeUser"),s.isCreatingManagedUser=n.get("isCreatingManagedUser"),s.selectedAllLibrariesMachineIdentifiers=n.get("selectedAllLibrariesMachineIdentifiers"),s.selectedLibrarySectionIDs=n.get("selectedLibrarySectionIDs")),a(x(s))},"ui/shareModal/shareNextStep"(e){const t=W(e),a=Y(t.get("steps"),t.get("step"));a&&t.set({step:a})},"ui/shareModal/validateUsername"(e,t={}){const a=W(e),n=e.get("cloudServer"),{username:r=""}=t;if(""===r.trim())return void a.set({isUsernameValidating:!1,isUsernameValidated:!1});Object(b.a)(()=>{a.set({isUsernameValidating:!0,isUsernameValidated:!1})});const s=o.default.join("/api/users/validate",{invited_email:r}),l=n.getXHROptions(s,{type:"POST",scope:w});i.a.ajax(l).done(()=>{a.set({isUsernameValidating:!1,isUsernameValidated:!0})}).fail(()=>{a.set({isUsernameValidating:!1})})},"ui/shareModal/setUsername"(e,t={},a){const n=W(e),{metadataItemEntityID:i,username:r,restrictionProfileIdentifier:s,isAddingHomeUser:o,isCreatingManagedUser:l}=t,c=e.get("user").get("allFriends");let d=c.findWhere({username:r});d||(d=c.findWhere({email:r}));const u=!!d&&!l,p=u?d.entityID():null,m=Q(e,{metadataItemEntityID:i,friendEntityID:p,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l});n.set({steps:m,metadataItemEntityID:i,friendEntityID:p,username:u?d.get("title"):r,restrictionProfileIdentifier:s,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l});a(q(m,S.b.USER)?L():i?H():_())},"ui/shareModal/setUser"(e,t={},a){const n=W(e),i=Object(P.a)(e,t),{metadataItemEntityID:r,isAddingHomeUser:s}=t,o=i.entityID(),l=Q(e,{metadataItemEntityID:r,friendEntityID:o,isNewFriend:!1,isAddingHomeUser:s,isCreatingManagedUser:!1});n.set({steps:l,metadataItemEntityID:r,friendEntityID:o,username:i.get("title"),isNewFriend:!1,isAddingHomeUser:s}),a(r?H():L())},"ui/shareModal/fetchServerOverviews"(e,t={}){const a=W(e),{serverEntityIDs:n}=t;Object(b.a)(()=>{a.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})}),Object(c.a)(n).then(e=>{a.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})})},"ui/shareModal/fetchServerShares"(e,t={}){const a=W(e),n=Object(P.a)(e,t);I.a.abortAll(w),n?(Object(b.a)(()=>{a.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})}),Object(d.a)(n,w).done(()=>{a.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})}).fail(()=>{a.set({isServerSharesPopulating:!1,serverSharesError:Object(v.default)("Failed to load shares.")})})):a.set("isServerSharesPopulated",!0)},"ui/shareModal/setLibraryShares"(e,t={},a){const n=W(e);n.set(t);a(q(n.get("steps"),S.b.LIBRARIES)?L():_())},"ui/shareModal/fetchFilterOptionsTags"(e,t={}){const a=W(e),{serverEntityIDs:n}=t,i=n.map(t=>Object(P.k)(e,{serverEntityID:t}));I.a.abortAll(w),Object(b.a)(()=>{a.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})}),Object(C.a)(i,w).done(e=>{a.set({isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0,filterOptionsTags:e})})},"ui/shareModal/saveItemShare"(e,t,a){const n=W(e),s=n.get("metadataItemEntityID"),o=n.get("friendEntityID"),l=n.get("username"),c=n.get("isNewFriend"),d=e.get("cloudServer");Object(b.a)(()=>{n.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null,inviteTokenError:null})});const u=Object(P.d)(e,{metadataItemEntityID:s}),p=Object(y.a)({serverIdentifier:u.server.get("machineIdentifier"),key:u.get("key")}),m=Object(T.a)({type:u.get("type"),title:u.get("title"),parentTitle:u.get("parentTitle"),grandparentTitle:u.get("grandparentTitle"),index:u.get("index"),parentIndex:u.get("parentIndex"),originallyAvailableAt:u.get("originallyAvailableAt")},r.a),h={items:[{uri:p,type:u.get("type"),title:m}]};if(o){const t=Object(P.a)(e,{friendEntityID:o});h.invitedId=t.id}else h.invitedEmail=l;const g=d.getXHROptions("/api/v2/shared_items",{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(h),scope:w});i.a.ajax(g).then(t=>{c?function(e,t){const a="/api/v2/shared_sources/"+t,n=e.get("cloudServer").getXHROptions(a,{type:"GET",dataType:"json",scope:w});return i.a.ajax(n).then(e=>e.inviteToken,e=>{const t=e&&e.status?e.responseJSON.errors:null,a=t?t[0].message:Object(v.default)("Unknown error");return Object(v.default)("Failed to get invite link: {errorMessage}",{errorMessage:a})})}(e,t[0].sharedSourceId).done(e=>{n.set({inviteToken:e,isSharingPending:!1,isSharingCompleted:!0})}).fail(e=>{n.set({inviteTokenError:e,isSharingPending:!1,isSharingCompleted:!0})}).always(()=>{a(L())}):n.set({isSharingPending:!1,isSharingCompleted:!0})},e=>{const t=e&&e.status?e.responseJSON.errors:null,a=t?t[0].message:null;n.set({isSharingPending:!1,sharingError:a||Object(v.default)("Failed to share item")})})},"ui/shareModal/saveLibraryShares"(e,t={},a){const{addToHome:n,restrictions:r={}}=t,s=W(e),o=s.get("friendEntityID"),l=s.get("username"),c=s.get("restrictionProfileIdentifier"),d=s.get("isNewFriend"),y=s.get("isAddingHomeUser"),I=s.get("isCreatingManagedUser"),S=s.get("serverOverviews"),C=s.get("selectedAllLibrariesMachineIdentifiers")||[],T=s.get("selectedLibrarySectionIDs")||[],w=e.get("user");Object(b.a)(()=>{s.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})});const N=[],x=o?Object(P.a)(e,{friendEntityID:o}):new E.a({username:l},{server:w.server}),A=Object(u.a)(e,h.c),k=Object(u.a)(e,h.C)||!(!I&&!!(o||d||y)),R=A||k?Object(j.a)(r):{};d&&(A||k)&&x.set(R);const z=x.get("serverShares").where({owned:!0}),U=function(e=[]){return e.reduce((e,t)=>(t.get("sections").forEach(a=>{e[a.get("id")]=t.get("machineIdentifier")}),e),{})}(S),V=z.map(e=>e.get("machineIdentifier")),B=Array.from(new Set(T.map(e=>U[e]))),F=Array.from(new Set([...V,...B,...C])),H=y||n&&!x.get("home")||I;let _;if(H){const e={...R,username:l,restricted:I};c&&c!==m.b&&(e.restrictionProfile=c);_=new O.a(e,{server:w.server}).save(),I&&(_=_.then(e=>{x.set("id",parseInt(f.a.parseXML(e).id,10))}))}else{const e=0===F.length;_=d&&e?x.save({user:l,...R}):i.a.Deferred().resolve().promise()}_.done(()=>{F.forEach(e=>{const t=S.get(e);if(!t)return;const a=z.find(t=>t.get("machineIdentifier")===e),n=C.indexOf(e)>-1,i=!a,r=!n&&!B.find(t=>t===e),s=function(e,t){const a=e.get("sections");return t.filter(e=>a.get(e))}(t,T),o=n?[]:s;if(i){const t=new M.a({machineIdentifier:e}),a=Object(p.a)({user:w,friend:x,serverShare:t,librarySectionIDs:o,isNewFriend:d,isCreatingManagedUser:I,isNewServerShare:!0});N.push(a)}else if(r)N.push(a.destroy({wait:!0}));else{const e=Object(p.a)({user:w,friend:x,serverShare:a,librarySectionIDs:o,isNewFriend:d,isCreatingManagedUser:I,isNewServerShare:!1});N.push(e)}}),i.a.when(...N).done((...e)=>{const t={isSharingPending:!1,isSharingCompleted:!0};if(F.length>0&&d&&!I){const a=(N.length>1?e[e.length-1]:e)[0];t.inviteToken=a.inviteToken}s.set(t),I&&w.set("home",!0),a(L())}).fail((...e)=>{let t;for(const a of e){const e=Object(g.a)(a,null,"status");if(e){t=e;break}}t||(t=I?Object(v.default)("Failed to create home user."):d?Object(v.default)("Failed to send invite."):Object(v.default)("Failed to update server shares.")),s.set({isSharingPending:!1,sharingError:t})}).always(()=>{if(a(Object(D.m)()),a(Object(D.r)()),H){w.get("homeUsers").fetch(),a(Object(D.o)()),a(Object(D.M)())}})}).fail(e=>{const t=Object(g.a)(e,null,"status")||Object(v.default)("Failed to create home user.");s.set({isSharingPending:!1,sharingError:t})})}})},TxKk:function(e,t,a){"use strict";var n=a("B69o"),i=a("Q3JP"),r=a("DDbo");const s=n.a.extend({name:"SectionCollection",context:["server"],model:r.a,url:"/library/sections",responseType(){return Object(i.a)(this.server)}});t.a=s},Ty6D:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{},'<div class="loading loading-inline"></div> '}))},"U+t5":function(e,t,a){e.exports={completeIcon:"AiringDetailsModalContent-completeIcon-38k0QF",recordingIcon:"AiringDetailsModalContent-recordingIcon-LbdQNk",errorIcon:"AiringDetailsModalContent-errorIcon-3syeNu",separator:"AiringDetailsModalContent-separator-3OQLc5 DashSeparator-separator-4CyEFW",summary:"AiringDetailsModalContent-summary-vVorLB"}},"U//L":function(e,t,a){"use strict";a("slDQ"),a("tjw3");t.a=function(e){return e}},U0CT:function(e,t,a){e.exports={header:"PrePlayDisc-header-1227p8 HubCellHeader-hubCellHeader-2pvYNF"}},U0WA:function(e,t,a){e.exports={message:"DVRSetupDeviceInfoMessage-message-2ozwdN"}},U1rH:function(e,t,a){"use strict";a.d(t,"g",(function(){return f})),a.d(t,"h",(function(){return b})),a.d(t,"e",(function(){return v})),a.d(t,"f",(function(){return I})),a.d(t,"d",(function(){return S})),a.d(t,"s",(function(){return E})),a.d(t,"n",(function(){return O})),a.d(t,"r",(function(){return M})),a.d(t,"m",(function(){return C})),a.d(t,"o",(function(){return j})),a.d(t,"q",(function(){return D})),a.d(t,"p",(function(){return P})),a.d(t,"b",(function(){return T})),a.d(t,"c",(function(){return w})),a.d(t,"i",(function(){return N})),a.d(t,"a",(function(){return x})),a.d(t,"l",(function(){return A})),a.d(t,"j",(function(){return L})),a.d(t,"k",(function(){return k})),a.d(t,"y",(function(){return R})),a.d(t,"z",(function(){return z})),a.d(t,"w",(function(){return U})),a.d(t,"x",(function(){return V})),a.d(t,"L",(function(){return B})),a.d(t,"G",(function(){return F})),a.d(t,"K",(function(){return H})),a.d(t,"F",(function(){return _})),a.d(t,"H",(function(){return W})),a.d(t,"J",(function(){return Q})),a.d(t,"I",(function(){return G})),a.d(t,"u",(function(){return K})),a.d(t,"v",(function(){return Y})),a.d(t,"B",(function(){return q})),a.d(t,"t",(function(){return Z})),a.d(t,"E",(function(){return X})),a.d(t,"C",(function(){return J})),a.d(t,"D",(function(){return $})),a.d(t,"A",(function(){return ee}));var n=a("ICb1"),i=a("0jae"),r=a("+X4A"),s=a("DdRF"),o=a("IbpV"),l=a("1iMN"),c=a("P9FS"),d=a("L7Oz"),u=a("tNwU"),p=a("gnaf"),m=a("hPIe"),h=a("+Mxn"),g=a("1Lwt"),y=a("SiWM");const f="ui/player/playQueue/playNextItem",b="ui/player/playQueue/playPreviousItem",v="ui/player/playQueue/playItemByIndex",I="ui/player/playQueue/playItemByKey",S="ui/player/playQueue/playItemByID",E="ui/player/playQueue/toggleShuffle",O="ui/player/playQueue/setRepeat",M="ui/player/playQueue/toggleRepeat",C="ui/player/playQueue/setAutoPlay",j="ui/player/playQueue/showPostPlay",D="ui/player/playQueue/togglePlayerPlayQueueState",P="ui/player/playQueue/togglePlayerLyricsState",T="ui/player/playQueue/fetchPlayQueueItemLyrics",w="ui/player/playQueue/movePlayQueueItem",N="ui/player/playQueue/removePlayQueueItem",x="ui/player/playQueue/fetchPlayQueue",A="ui/player/playQueue/savePlayQueueState",L="ui/player/playQueue/removePlayQueueState",k="ui/player/playQueue/restorePlayQueue",R=Object(n.a)(f),z=Object(n.a)(b),U=Object(n.a)(v),V=Object(n.a)(I),B=(Object(n.a)(S),Object(n.a)(E)),F=Object(n.a)(O),H=Object(n.a)(M),_=Object(n.a)(C),W=Object(n.a)(j),Q=Object(n.a)(D),G=Object(n.a)(P),K=Object(n.a)(T),Y=Object(n.a)(w),q=Object(n.a)(N),Z=Object(n.a)(x),X=Object(n.a)(A),J=Object(n.a)(L),$=Object(n.a)(k),ee={[f](e,{playerType:t,isApplicationInitiated:a}){const n=Object(h.c)(e,t),i=Object(s.a)(e);Object(c.a)(n)||Object(g.a)(()=>{n.get("isPostPlayVisible")&&n.set({isPostPlayVisible:!1}),i.playNextItem(n,a)})},[b](e,{playerType:t}){const a=Object(h.c)(e,t),n=Object(s.a)(e);Object(c.a)(a)||Object(g.a)(()=>{a.set({isPostPlayVisible:!1}),a.get("positionSeconds")>u.a?(n.seek(a,0),n.play(a)):n.playPreviousItem(a)})},[v](e,{playerType:t,index:a}){const n=Object(h.c)(e,t),i=Object(s.a)(e);Object(g.a)(()=>{i.playItem(n,a)})},[I](e,{playerType:t,key:a},n){const r=Object(h.c)(e,t).get("playQueue").get("playQueueItems"),s=r.find(e=>a===e.get("metadataItem").get("key"));if(s){const e=r.indexOf(s);n(U({playerType:t,index:e}))}else i.a.warn(`[Player] Unable to play unknown key "${a}"`)},[S](e,{playerType:t,playQueueItemID:a},n){const r=Object(h.c)(e,t).get("playQueue").get("playQueueItems"),s=r.get(a);if(s){const e=r.indexOf(s);n(U({playerType:t,index:e}))}else i.a.warn(`[Player] Unable to play unknown PlayQueueItemID "${a}"`)},[E](e,t,a){const{playerType:n}=t,i=Object(h.c)(e,n),r=i.get("playQueue");Object(g.a)(()=>{const t=!r.get("playQueueShuffled");r.set("playQueueShuffled",t);const l=t?"shuffle":"unshuffle";Object(o.a)(r,{urlPath:l,type:"PUT"}).done(Object(d.a)(i,()=>{const t=Object(s.a)(e);a(X({playerType:n})),t.refreshRemotePlayQueue(i)})).fail(Object(d.a)(i,()=>{r.set("playQueueShuffled",!t)}))})},[O](e,{playerType:t,repeatAll:a,repeatOne:n},i){const r=Object(h.c)(e,t),l=r.get("playQueue"),c=Object(s.a)(e);Object(g.a)(()=>{c.setRepeat(r,{repeatAll:a||n,repeatOne:n}),Object(o.a)(l).done(Object(d.a)(r,()=>{i(X({playerType:t}))})).fail(Object(d.a)(r,()=>{l.set({repeatAll:!1,repeatOne:!1}),l.set("repeat",!1)}))})},[M](e,{playerType:t},a){const n=Object(h.c)(e,t),i=n.get("repeatAll"),r=n.get("repeatOne");a(F({playerType:t,repeatAll:!i||!r,repeatOne:i&&!r}))},[C](e,{playerType:t,autoPlay:a},n){const i=Object(h.c)(e,t);Object(s.a)(e).changeAutoPlay(i,a,n)},[j](e,{playerType:t},a){const n=Object(h.c)(e,t),i=Object(s.a)(e),r=n.get("playQueue"),o=Object(h.a)(n,r.get("currentIndex")).get("postPlay"),l=r.provider.id,c=()=>{n.set({isSettingsVisible:!1,isChaptersVisible:!1,isPostPlayLoading:!1,isPostPlayVisible:!0}),i.pause(n,!0)};n.set({isPostPlayLoading:!0}),p.l(l,p.d)?o.fetch().then(Object(d.a)(n,()=>{const e=o.findWhere({upNext:!0});e&&o.remove(e),c()}),Object(d.a)(n,c)):window.setTimeout(Object(d.a)(n,c),0)},[D](e,{playerType:t}){const a=Object(h.c)(e,t),n=a.get("isPlayQueueVisible");Object(g.a)(()=>{a.set(Object(l.a)(a,n,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!n,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1}))})},[P](e,{playerType:t}){const a=Object(h.c)(e,t),n=a.get("isLyricsVisible");Object(g.a)(()=>{a.set(Object(l.a)(a,n,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!n,isSubtitlesOffsetSettingsVisible:!1}))})},[T](e,t,a){const{streamID:n}=t,i=Object(m.h)(e,t),r=i.get("metadataItem"),s=Object(m.t)(e,{providerEntityID:r.get("providerEntityID")});if(!s)return;const o=i.get("lyricsStreams").get(n);o.set("lyricsError",null),o.fetch({merge:!0,server:s}).fail(e=>{o.set("lyricsError",e)})},[w](e,t,a){const{playerType:n,playQueueItemEntityID:i,moveIndex:l}=t,c=Object(h.c)(e,n),u=c.get("playQueue"),p=Object(m.h)(e,{playQueueItemEntityID:i}),y=u.get("playQueueItems"),f=y.indexOf(p);if(f===l||f===l-1)return;const b=l>f?l-1:l,v=l>0?y.at(l-1).id:void 0,I=r.default.join(["items",p.id,"move"]),S={after:v};Object(g.a)(()=>{y.remove(p),y.add(p,{at:b}),Object(o.a)(u,{urlPath:I,params:S,type:"PUT"}).done(Object(d.a)(c,()=>{const t=Object(s.a)(e);a(X({playerType:n})),t.refreshRemotePlayQueue(c)})).fail(Object(d.a)(c,()=>{y.indexOf(p)===b&&(y.remove(p),y.add(p,{at:f}))}))})},[N](e,{playerType:t,playQueueItemEntityID:a},n){const i=Object(h.c)(e,t),l=i.get("playQueue"),c=l.get("playQueueItems"),u=Object(m.h)(e,{playQueueItemEntityID:a}),p=c.indexOf(u),y=r.default.join(["items",u.id]);Object(g.a)(()=>{c.remove(u),Object(o.a)(l,{urlPath:y,type:"DELETE"}).done(Object(d.a)(i,()=>{const a=Object(s.a)(e);n(X({playerType:t})),a.refreshRemotePlayQueue(i)})).fail(Object(d.a)(i,()=>{c.add(u,{at:p})}))})},[x](e,{playerType:t}){const a=Object(h.c)(e,t).get("playQueue");Object(o.a)(a)},[A](e,{playerType:t}){},[L](e){},[k](e,t,a){const{serverEntityID:n,providerEntityID:i,playQueueType:r,playQueueOffset:s,playQueueRepeat:o,playQueueID:l,next:c}=t,d={serverEntityID:n,providerEntityID:i,startOffsetMilliseconds:1e3*s,options:{type:r,playQueueRepeat:o,playQueueID:l,next:c}};a(Object(y.r)(d))}}},U47K:function(e,t,a){e.exports={primaryTitle:"PrePlayPrimaryTitle-primaryTitle-3kexTE"}},U6V7:function(e,t,a){e.exports={hub:"MetadataSpotlightHubCell-hub-1Vj94v",iconButtonPrev:"MetadataSpotlightHubCell-iconButtonPrev-3zMbs9 IconButton-button-9An-7I MetadataSpotlightHubCell-iconButton-Q7Xlq4",iconButtonNext:"MetadataSpotlightHubCell-iconButtonNext-1P0bgz IconButton-button-9An-7I MetadataSpotlightHubCell-iconButton-Q7Xlq4",cellItem:"MetadataSpotlightHubCell-cellItem-13vjSC",cellItemFade:"MetadataSpotlightHubCell-cellItemFade-LZO-q1 MetadataSpotlightHubCell-cellItem-13vjSC",dotsContainer:"MetadataSpotlightHubCell-dotsContainer-2HJJyr",iconButton:"MetadataSpotlightHubCell-iconButton-Q7Xlq4"}},UCYk:function(e,t,a){e.exports={secureIcon:"ServerConnectionStatusIcon-secureIcon-2Rpe9G",alertIcon:"ServerConnectionStatusIcon-alertIcon-Jq_NiV",warningIcon:"ServerConnectionStatusIcon-warningIcon-2xMTpf"}},UCuc:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="";return s+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">',s+=(0,this.escapeExpression)((r=a.message)||"function"==typeof(r=t&&t.message)?r.call(t,{hash:{},data:i}):r)+"</span> "}))},"UFJ+":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("BkRI"),i=a.n(n),r=a("tibn"),s=a("5HFX"),o=a("hPIe");function l(e,t){const a=Object(o.m)(e,{serverEntityID:t.server.entityID}),n=Object(o.j)(e,{providerEntityID:t.provider.entityID});let l,c;t.itemServer&&(l=Object(o.m)(e,{serverEntityID:t.itemServer.entityID})),t.itemProvider&&(c=Object(o.j)(e,{providerEntityID:t.itemProvider.entityID}));const d=i()({...t.metadataItem,...t.metadataItemState});if(d.source){const{serverIdentifier:e,providerIdentifier:a}=Object(s.a)(d.source);e===t.server.machineIdentifier&&a===t.provider.identifier&&delete d.source}const u=new r.a(d,{server:a,provider:n,identifier:t.provider.identifier,parse:!0});null==u._populatedParams&&(u._populatedParams={});const p={includeExternalMedia:1};return d.preferences&&(p.includePreferences=1),d.extras&&(p.includeExtras=1),d.stations&&(p.includeStations=1),d.onDeck&&(p.includeOnDeck=1),d.popularLeaves&&(p.includePopularLeaves=1),d.Concert&&(p.includeConcerts=1),d.Chapter&&(p.includeChapters=1),Object.assign(u._populatedParams,p),{serverModel:a,providerModel:n,itemServerModel:l,itemProviderModel:c,metadataItemModel:u}}},UHzi:function(e,t,a){"use strict";function n(e){return/^(idx|pgs|vobsub)$/i.test(e)}a.d(t,"a",(function(){return n}))},UNAp:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("/MKj"),s=a("yO9Y"),o=a("1Lwt");class l extends n.Component{componentDidMount(){this._populate(this.props)}componentDidUpdate(e){const{machineIdentifier:t}=this.props;t&&t!==e.machineIdentifier&&this._populate(this.props)}_populate(e){const{machineIdentifier:t,dispatchSetPrimaryServer:a}=e;t&&Object(o.a)(()=>{a({machineIdentifier:t})})}render(){return i.a.createElement(i.a.Fragment,null,this.props.children)}}const c={dispatchSetPrimaryServer:s.E};t.a=Object(r.b)(null,c)(l)},"UR/t":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("1cGo"),s=a("yRuq"),o=a("bpVy");t.a=function({className:e,tabIndex:t,title:a,index:n,route:l,parentTitle:c,parentIndex:d,parentRoute:u,originallyAvailableAt:p}){return i.a.createElement("span",{className:e},i.a.createElement(o.a,{tabIndex:t,title:a,index:n,route:l,parentTitle:c,parentIndex:d,parentRoute:u,originallyAvailableAt:p}),a?i.a.createElement(r.b,null):null,a?i.a.createElement(s.a,{tabIndex:t,title:a,route:l}):null)}},URCS:function(e,t,a){e.exports={sectionHeader:"FormSectionHeader-sectionHeader-3-cRhw FormLabel-label-1YNrUM"}},URkQ:function(e,t,a){e.exports={container:"LibraryFilterBuilderRow-container-2QVqaQ",rules:"LibraryFilterBuilderRow-rules-3enmeN",rule:"LibraryFilterBuilderRow-rule-2bAya1",tagsInput:"LibraryFilterBuilderRow-tagsInput-1zILxA AutosuggestTagsInput-tagsInput-6yLPXr TagsInput-tagsInput-2eRCns",textInput:"LibraryFilterBuilderRow-textInput-3yZ-zi TextInput-input-1VMuma input-input-1P2Vi4",unitTextInput:"LibraryFilterBuilderRow-unitTextInput-38LP9b UnitInput-textInput-QSuLWN TextInput-input-1VMuma input-input-1P2Vi4",selectInput:"LibraryFilterBuilderRow-selectInput-gFMEG9 SelectInput-input-x1tNmq input-input-1P2Vi4",value:"LibraryFilterBuilderRow-value-3DsOSy",buttons:"LibraryFilterBuilderRow-buttons-3m5ptU",iconButton:"LibraryFilterBuilderRow-iconButton-1L9m0F",iconButtonDisabled:"LibraryFilterBuilderRow-iconButtonDisabled-1LPODg LibraryFilterBuilderRow-iconButton-1L9m0F"}},UT02:function(e,t,a){e.exports={isPressable:"CloseableFormSection-isPressable-3BPTnc",isClosed:"CloseableFormSection-isClosed-37Gj8w CloseableFormSection-isPressable-3BPTnc",isOpen:"CloseableFormSection-isOpen-vvIoP3"}},UVxU:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(a("d8WC")).call(t,"There was a problem syncing this media.",{hash:{},data:s}))+'</h4> <h4><a class="try-again-link" href="#">'+l(i(a("d8WC")).call(t,"Try again",{hash:{},data:s}))+"</a></h4> </div> </div> "}))},UadQ:function(e,t,a){e.exports={crossFade:"CrossFadeImage-crossFade-10Sndv"}},Uazv:function(e,t,a){e.exports={item:"NestedMenuItem-item-23kmqU",icon:"NestedMenuItem-icon-wU7kAQ",menu:"NestedMenuItem-menu-OHevMF Menu-menu-3XnN6J"}},UcbN:function(e,t,a){e.exports={list:"UserList-list-1xb8US Scroller-vertical-VScFLT"}},Uia1:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("fxyv"),s=a("66GW");function o(e){return i.a.createElement(r.a,{...e,loadingLabel:Object(s.default)("Loading")})}o.propTypes=r.a.propTypes,o.defaultProps=r.a.defaultProps,t.a=o},"Um5/":function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("vOHB"),s=a("Dsr7");const o=s.a.extend({maxCycles:3,maxSize:50,imageParamsRegex:/&?(size|scale|width|height)=([^&]+)/g,initialize:function(){s.a.prototype.initialize.apply(this,arguments),this._infoMemo={}},store:function(e,t){if(t||(t=this.getItemCacheKey(e)),!t)return;const a=e.url,n=this.getImageInfo(a),r={url:a,blobUrl:e.blobUrl,size:n.size};let s=this.get(t);if(s){if(!s.images.hasOwnProperty(a)){const e=s.sizes;s.images[a]=r;const t=i.a.sortedIndex(e,r,"size");e.splice(t,0,r)}}else s={images:{},sizes:[r]},s.images[a]=r,this.startListening(),s._cacheKey=t,this._cache[t]=s,this.size++,e.persistInCache||this.setItemCycle(s,t,i.a.first(this.cycles))},getItemCacheKey:function(e){return this.getImageInfo(e.url).key},getImageInfo:function(e){if(this._infoMemo.hasOwnProperty(e))return this._infoMemo[e];const t={width:"0",scale:"1"},a=e.replace(this.imageParamsRegex,(function(e,a,n){return t[a]=n,""})),n=t.size&&t.size.split("-"),i={key:a,size:(n&&2===n.length?n[1]:parseInt(t.width,10))*parseInt(t.scale,10)};return this._infoMemo[e]=i,i},removeImageInfo:function(e){this._infoMemo.hasOwnProperty(e)&&delete this._infoMemo[e]},getBlobUrl:function(e){const t=this.getImageInfo(e),a=this.get(t.key);if(a){const t=a.images[e];if(t)return t.blobUrl}},getPlaceholder:function(e){const t=this.getImageInfo(e),a=this.get(t.key);if(a){if(a.images[e])return;return i.a.last(a.sizes).blobUrl}},remove:function(e,t){s.a.prototype.remove.apply(this,arguments),i.a.each(e.sizes,(function(e){this.removeImageInfo(e.url),r.a.hasObjectUrl&&window.URL.revokeObjectURL(e.blobUrl)}),this)}});t.a=o},UnFr:function(e,t,a){"use strict";a.r(t),a.d(t,"TONE_MAPPING",(function(){return n}));const n="toneMapping"},UpFG:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("q1tI"),i=a.n(n),r=a("Bw3N"),s=a("6N1R"),o=a("buLI"),l=a("f6jo"),c=a("xyiB");function d({formGroupClassName:e,formLabelClassName:t,name:a,labelText:n,helpText:c,showErrors:d,errors:u,children:p,...m}){return i.a.createElement(r.a,{className:e},p,i.a.createElement(o.a,{className:t,showErrors:d,errors:u,name:a,labelText:n}),i.a.createElement(l.a,{name:a,hasError:d,...m}),c?i.a.createElement(s.a,null,c):null)}d.defaultProps={errors:[]},t.b=Object(c.a)(d)},UqSa:function(e,t,a){e.exports={prePlayContentWrapper:"PrePlayPageContent-prePlayContentWrapper-1nWdpv"}},UybS:function(e,t,a){e.exports={actions:"ChannelsGridMetadataCellButtons-actions-250KmI",button:"ChannelsGridMetadataCellButtons-button-9hRMcK",playButton:"ChannelsGridMetadataCellButtons-playButton-3vgI50 PlayButton-playButton-3WX8X- ChannelsGridMetadataCellButtons-button-9hRMcK",recordButton:"ChannelsGridMetadataCellButtons-recordButton-1bSu6m RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 ChannelsGridMetadataCellButtons-button-9hRMcK"}},"V+TA":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));function n(e){const t=new Map;return(...a)=>{const n=JSON.stringify(a);if(t.has(n))return t.get(n);{0;const i=e(...a);return t.set(n,i),i}}}},VCJj:function(e,t,a){"use strict";function n(e){return e+"×"}a.d(t,"a",(function(){return n}))},"VFN/":function(e,t,a){e.exports={content:"SettingsPage-content-1vKVEr PageContent-pageContent-16mK6G"}},VGPm:function(e,t,a){e.exports={schedulePageContent:"RecordingSchedulePageContent-schedulePageContent-2kZUqv PageContent-pageContent-16mK6G",schedulePageInnerContent:"RecordingSchedulePageContent-schedulePageInnerContent-1wYEsP PageContent-innerPageContent-3ktLTA"}},VKXn:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("F/us"),i=a.n(n),r=a("ybUE"),s=(a("slDQ"),a("DBXq"));var o=a("ETPs"),l=a("ys09");const c=`([^&!=<>]+)(${o.i.sort((e,t)=>t.length-e.length).map(r.a).join("|")})([^&]+)?`,d=new RegExp(c,"g"),u=new RegExp(c),p={unwatched:!0,unwatchedLeaves:!0,unmatched:!0,duplicate:!0,inProgress:!0,hdonly:!0,hdr:!0};function m(e){if(!e)return[];const t=decodeURIComponent(e).match(d);if(!t)return[];return t.reduce((e,t)=>{const a=t.match(u),[,n,r,o]=a||[];let c=o?i.a.uniq(o.split(l.b)):"";return 1===c.length&&(c=c[0]),function(e,t,a){const n=[...e];if(a.type===s.a){const e=i.a.findIndex(n,e=>e.key===t),r=-1===e?0:e,s={key:t,...a};-1===e?n.push(s):n.splice(r,1,s)}else{i.a.findWhere(n,{key:t,value:a.value})||n.push({key:t,...a})}return n}(e,n,{value:c,type:p[n]?s.a:s.b,operator:r})},[])}},VLKS:function(e,t,a){"use strict";a.r(t),t.default=function(e,t){if(!e)return"";if(/^\d+$/.test(e)){return e+((null==t?void 0:t.length)?t[0]:"p")}return e.toUpperCase()}},VOGa:function(e,t,a){e.exports={input:"NumberInputGroup-input-yz7KYn TextInput-input-1VMuma input-input-1P2Vi4"}},VTB1:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return o+='<div class="loading loading-inline"></div> <p class="loading-title">'+(0,this.escapeExpression)((s=a("d8WC"),s&&(s.__esModule?s.default:s)).call(t,"Please wait a moment while Plex starts.",{hash:{},data:r}))+"</p> "}))},VUbF:function(e,t,a){e.exports={isActive:"LiveTVCurrentChannel-isActive-2DTwmD",icon:"LiveTVCurrentChannel-icon-17SlvD"}},VVyF:function(e,t,a){e.exports={modalContainer:"SubtitlesModalContent-modalContainer-3B7OAM",modalBody:"SubtitlesModalContent-modalBody-3sIFen ModalBody-modalBody--5uHSu",inputs:"SubtitlesModalContent-inputs-b332_W",languageInput:"SubtitlesModalContent-languageInput-10IPxN SelectInput-input-x1tNmq input-input-1P2Vi4",titleInput:"SubtitlesModalContent-titleInput-sGHLRX TextInput-input-1VMuma input-input-1P2Vi4",centeredContainer:"SubtitlesModalContent-centeredContainer-2fFRIV"}},Ve6J:function(e,t,a){"use strict";a.r(t),a.d(t,"startPlayback",(function(){return m})),a.d(t,"endPlayback",(function(){return h})),a.d(t,"playNextItem",(function(){return g})),a.d(t,"playPreviousItem",(function(){return y})),a.d(t,"playItem",(function(){return f})),a.d(t,"play",(function(){return b})),a.d(t,"pause",(function(){return v})),a.d(t,"seek",(function(){return I})),a.d(t,"changeVolume",(function(){return S})),a.d(t,"changeQualityIndex",(function(){return E})),a.d(t,"changeStream",(function(){return O})),a.d(t,"changeSubtitleColor",(function(){return M})),a.d(t,"changeSubtitlePosition",(function(){return C})),a.d(t,"changeSubtitleSize",(function(){return j})),a.d(t,"changeSubtitleOffset",(function(){return D})),a.d(t,"changeAutoPlay",(function(){return P})),a.d(t,"changePlaybackSpeed",(function(){return T})),a.d(t,"setRepeat",(function(){return w})),a.d(t,"refreshRemotePlayQueue",(function(){return N})),a.d(t,"refreshRemoteStreams",(function(){return x})),a.d(t,"mirrorDetails",(function(){return A}));var n=a("yO9Y"),i=a("t2mA"),r=a("ijGY"),s=a("SnPO"),o=a("+Mxn"),l=a("7/aH");let c=null;function d(e,t,a={}){const n=e.get("playQueue"),i=n.get("currentIndex"),c=n.get("playQueueSelectedItemOffset"),{isApplicationInitiated:d=!1,isRestoringPlayQueue:u=!1}=a,p=Object(o.a)(e,t);if(!p)return;const m=p.get("metadataItem"),h={isMediaLoading:!0,isBuffering:!1,isLyricsVisible:!1,positionSeconds:Math.floor(Object(l.a)(e,m)/1e3),durationSeconds:Math.floor((m.get("duration")||0)/1e3),lastSeekPositionSeconds:null,metricsAutoPlay:d,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,qualityIndex:null,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null,confirmPlayerUpsellPayload:null};u||e.get("isWatchTogether")||n.get("type")===r.b||(h.isPaused=!1),e.set(h),n.set({playQueueSelectedItemID:p.id,playQueueSelectedItemOffset:c+(t-i)}),Object(s.a)()}function u(e,t){const a=e.get("playQueue"),n=a.get("length"),i=a.get("currentIndex")+t;return a.get("repeat")?(i+n)%n:Math.min(Math.max(0,i),n-1)}function p(e,t){c&&(c=window.clearTimeout(c)),e.set({lastSeekPositionSeconds:t,nextPositionSeconds:null})}function m(e,t,a){const n=e.get("playQueue");d(e,n.get("currentIndex"),{isRestoringPlayQueue:t,isApplicationInitiated:a})}function h(e){e.restoreDefaults({metricsContextTuple:e.get("metricsContextTuple")})}function g(e,t){d(e,u(e,1),{isApplicationInitiated:t})}function y(e){d(e,u(e,-1))}function f(e,t){d(e,t)}function b(e,t=!1){e.set({isPaused:!1}),Object(s.a)()}function v(e,t=!1){e.set({isPaused:!0}),Object(s.a)()}function I(e,t,a){a?function(e,t,a){e.set({nextPositionSeconds:t}),c&&window.clearTimeout(c),c=window.setTimeout(()=>{e.get("isOpen")&&(p(e,t),c=null)},a)}(e,t,a):p(e,t),Object(s.a)()}function S(e,t,a){a(Object(n.B)({volume:t}))}function E(e,t){e.set("qualityIndex",t)}function O(e,t,a){}function M(e,t,a){a(Object(i.m)({subtitleColor:t}))}function C(e,t,a){a(Object(i.n)({subtitlePosition:t}))}function j(e,t,a){a(Object(i.o)({subtitleSize:t}))}function D(e,t,a){}function P(e,t,a){a(Object(i.k)({autoPlay:t}))}function T(e,t){e.set("playbackSpeed",t)}function w(e,t){const a=e.get("playQueue");e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),a.set("repeat",t.repeatAll)}function N(e){}function x(e){}function A(e){}},VfUD:function(e,t,a){e.exports={modalScroller:"ModalContentCenter-modalScroller-3cd-bo ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",innerModalBody:"ModalContentCenter-innerModalBody-3jQ5IS ModalBody-innerModalBody-36gmbf"}},VjkR:function(e,t,a){e.exports={iconContainer:"NavBarActivityIcon-iconContainer-24xhXd",icon:"NavBarActivityIcon-icon-VJ4m73",activityIndicator:"NavBarActivityIcon-activityIndicator-3asEGT Spinner-spinner-Niere7 spin-spin-2kLwt_"}},Vk9Z:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"h",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"j",(function(){return p})),a.d(t,"l",(function(){return m})),a.d(t,"k",(function(){return h})),a.d(t,"m",(function(){return g})),a.d(t,"n",(function(){return y})),a.d(t,"o",(function(){return f})),a.d(t,"p",(function(){return b})),a.d(t,"q",(function(){return v})),a.d(t,"r",(function(){return I}));const n="action",i="actions",r="content",s="continuewatching",o="grid",l="imagetranscoder",c="location",d="manage",u="match",p="metadata",m="playqueue",h="playlist",g="promoted",y="rate",f="search",b="settings",v="subscribe",I="timeline"},Vl58:function(e,t,a){e.exports={menuItemContainer:"DisclosureFilterMenuItem-menuItemContainer-umTpyG SelectedMenuItem-menuItemContainer-2hXIr-",menuLabel:"DisclosureFilterMenuItem-menuLabel-3sWTgU SelectedMenuItem-menuLabel-2fp2lo",spinner:"DisclosureFilterMenuItem-spinner-k12hYZ Spinner-spinner-Niere7 spin-spin-2kLwt_",selectedIcon:"DisclosureFilterMenuItem-selectedIcon-1HwbQK SelectedMenuItem-selectedIcon-20Yx1_",isSelected:"DisclosureFilterMenuItem-isSelected-3uWkOw"}},Vm2w:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("+X4A");function i(e,t){return n.default.join(`#!/server/${encodeURIComponent(e)}/playHistory`,t)}},VpnA:function(e,t,a){e.exports={seekBarFill:"AdSeekBar-seekBarFill-1Qc6we SeekBar-seekBarFill-1Lcu0w Slider-fill-35GFqs"}},VqzW:function(e,t,a){e.exports={bar:"BarChart-bar-TGQuuG",translucentBar:"BarChart-translucentBar-g8W7OB BarChart-bar-TGQuuG",legendContainer:"BarChart-legendContainer-1LFnsF",legendLabels:"BarChart-legendLabels-10gpog",legendSummary:"BarChart-legendSummary-OWb0ex",legendLabel:"BarChart-legendLabel-2VxIT5 LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",translucentLegendLabel:"BarChart-translucentLegendLabel-25PxUk BarChart-legendLabel-2VxIT5 LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn"}},Vv31:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("HPXQ"),s=a("cftR"),o=a("EVgX"),l=a("17x9"),c=a.n(l),d=a("xhK+"),u=a.n(d);function p(e){var t=e["aria-label"],a=e.className,n=e.style,r={viewBox:"0 0 473 540",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-triangle-right"};r["aria-hidden"]=!t,r.style=n,r.className=u.a.plexIcon+(a?" "+a:"");var s=[i.a.createElement.apply(i.a,["path",{d:"M473 270L0 540V0l473 270z"}].concat([]))];return t&&s.unshift(i.a.createElement("title",null,t)),i.a.createElement.apply(i.a,["svg",r].concat(s))}p.propTypes={"aria-label":c.a.string,className:c.a.string,style:c.a.object};var m=p,h=a("Uazv"),g=a.n(h);const y={placement:"right-start"};class f extends n.Component{constructor(e,t){super(e,t),this._openMenu=(e=!1)=>{this.wasDismissed=!1,this._updateMenu(e,!0)},this._closeMenu=(e=!1)=>{this.wasDismissed=e,this._updateMenu(e,!1)},this.onMouseEnter=()=>{this._openMenu()},this.onMouseEnterMenu=()=>{this.wasDismissed||this._openMenu()},this.onMouseLeave=()=>{this.wasDismissed||this._closeMenu()},this.onMenuClose=()=>{this._closeMenu(!0),this.props.onMenuClose()},this.onPress=()=>{this._openMenu(!0)},this.target=Object(o.a)(),this.state={isOpen:!1},this.wasDismissed=!1}componentWillUnmount(){window.clearTimeout(this._menuTimer)}_updateMenu(e,t){window.clearTimeout(this._menuTimer),this._menuTimer=window.setTimeout(()=>{this.setState({isOpen:t})},e?0:100)}render(){const{label:e,children:t,isDisabled:a}=this.props,{isOpen:n}=this.state;return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{id:this.target,className:g.a.item,isDisabled:a,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPress:this.onPress},e,i.a.createElement(m,{className:g.a.icon})),i.a.createElement(r.a,{className:g.a.menu,isOpen:n,target:this.target,options:y,onMouseEnter:this.onMouseEnterMenu,onMouseLeave:this.onMouseLeave,onMenuClose:this.onMenuClose},t))}}t.a=f},Vx1m:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a("q1tI"),i=a.n(n),r=a("66GW");const s=-1,o=-1,l=-1;function c({className:e,displayIndex:t,displayTotal:a,secondsUntilAd:n}){const s=n>0&&n<=5;return t>0&&a>0?i.a.createElement("div",{className:e},1===a?Object(r.default)("Ad"):Object(r.default)("Ad {index} of {total}",{index:t,total:a})):s?i.a.createElement("div",{className:e},Object(r.default)("Ad in {seconds}",{seconds:Math.round(n)})):null}},VzhI:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));const n="small",i="medium",r="large"},VzrX:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("q1tI"),i=a.n(n),r=a("KAy6");function s(e,t={}){return Object(r.renderToStaticMarkup)(i.a.createElement(e,{...t}))}},"W+Vb":function(e,t,a){e.exports={modalBody:"ModalBody-modalBody--5uHSu",modalScroller:"ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",innerModalBody:"ModalBody-innerModalBody-36gmbf"}},"W/pu":function(e,t,a){e.exports={row:"UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt"}},"W/xp":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:s}))+' </div> <div class="col-md-6"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Producers",name:"producer",attribute:"producers",locked:(o=t&&t.locked,null==o||!1===o?o:o.producer)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> </form> "}))},W2rq:function(e,t,a){e.exports={measure:"Subtitles-measure-3cYuWS",renderer:"Subtitles-renderer-12VzSU"}},W4O6:function(e,t,a){e.exports={tooltip:"DirectoryListActions-tooltip-24n8Za Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",menu:"DirectoryListActions-menu-64VTkz Menu-menu-3XnN6J"}},W6Nc:function(e,t,a){e.exports={decoratorIconContainer:"MetadataTitleDecoratorIcon-decoratorIconContainer-3n0amT",decoratorIcon:"MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk"}},W7j1:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return o}));const n="active",i="inactive",r="canceled",s="pending_cancellation",o="ended",l=[n,i,r,s,"lapsed",o];t.f=l},WA8t:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return c}));const n="isScrolling",i="isActive",r="isFocused",s="isDisabled",o="isDragging",l="isDraggingBefore",c="isDraggingAfter"},WEzZ:function(e,t,a){e.exports={tertiaryTitleSpacer:"PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-3vf6d-"}},WGvO:function(e,t,a){e.exports={link:"PageHeaderBreadcrumbButton-link-30Jgzu",button:"PageHeaderBreadcrumbButton-button-ZRyx6_ DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn"}},WGyR:function(e,t,a){e.exports={dragSource:"ReorderSourceSidebarItem-dragSource-ZtIKSO",iconReorder:"ReorderSourceSidebarItem-iconReorder-1pLGE5"}},WHnk:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("9wnK"),s=a("wmCi"),o=a("VfUD"),l=a.n(o);t.a=function({children:e,...t}){return i.a.createElement(s.a,{...t},i.a.createElement(r.a,{className:l.a.modalScroller,innerClassName:l.a.innerModalBody},e))}},WQVZ:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> <div class="col-md-6"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},WRlm:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"h",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"j",(function(){return p})),a.d(t,"k",(function(){return m})),a.d(t,"l",(function(){return h})),a.d(t,"m",(function(){return g})),a.d(t,"n",(function(){return y})),a.d(t,"o",(function(){return f})),a.d(t,"p",(function(){return b}));const n="client:claimServer",i="client:claimServerFailure",r="client:click",s="client:relayTested",o="client:shutdown",l="client:signout",c="client:start",d="client:switchuser",u="client:view",p="playback:failure",m="playback:itemend",h="playback:itemrestart",g="playback:itemstart",y="playback:sessionend",f="watchtogether:created",b="watchtogether:joined"},"WX+G":function(e,t){e.exports=function(e,t,a){return e!==t?a.fn(this):a.inverse(this)}},WXPl:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("EVdn"),i=a.n(n),r=a("Q0ne"),s=a("pxcU"),o=a("MOdi"),l=a("rXDx");function c(e,t){const a=e.title.toUpperCase(),n=t.title.toUpperCase();return a<n?-1:a>n?1:0}function d(e,t){const a=Array.isArray(e)?e:[e],n=i.a.Deferred(),d={[o.a]:[],[o.d]:[]},u={[l.MOVIE]:{[o.a]:[],[o.d]:[]},[l.SHOW]:{[o.a]:[],[o.d]:[]},[l.ARTIST]:{[o.a]:[],[o.d]:[]}},p=a.reduce((e,t)=>(t.get("isConnected")&&e.push(t.get("sections")),e),[]),m=p.map(e=>e.populate({scope:t}));return Object(r.a)(m).done(()=>{p.forEach(e=>{e.forEach(e=>{const t=e.get("type");u[t]&&[o.a,o.d].forEach(t=>{const a=new s.a({filter:t},{server:e.server,section:e}).get("options");d[t].push(a)})})}),Object(r.a)([...d[o.a].map(e=>e.fetch({scope:t})),...d[o.d].map(e=>e.fetch({scope:t}))]).done(()=>{d[o.a].forEach(e=>{const t=e.section.get("type");e.toJSON().forEach(e=>{u[t][o.a].find(t=>t.value===e.value)||u[t][o.a].push(e)})}),d[o.d].forEach(e=>{const t=e.section.get("type");e.toJSON().forEach(e=>{u[t][o.d].find(t=>t.value===e.value)||u[t][o.d].push(e)})}),Object.keys(u).forEach(e=>{const t=u[e];t[o.a].sort(c),t[o.d].sort(c)}),n.resolve(u)})}),n.promise()}},"WaF+":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("slDQ");var n=a("FKox"),i=a("b3RP");function r(e){const{key:t,getModel:a}=e;const r=Object(n.a)(t),s=`is${r}Pending`,o=`is${r}Populated`,l=t?t+"Error":"error";return(e,n)=>{const{startIndex:r,endIndex:c,pages:d=3,reloadThreshold:u=6,disableReloadThreshold:p}=n;const m=c-r+1,h=a(e,n),g=t?h.get(t):h;h.sessionAttrs;const y=g.get("populatedRange");let f=r,b=c;if(r<y.start?f=Math.max(0,r-m*d):b=r+m*d,f>=y.start&&b<=y.end)return;const v=h.get(s);h.set(s,!0),g.populateRange({start:f,end:b,reloadThreshold:p?null:m*u}).done(()=>{h.set({[s]:!1,[o]:!0,[l]:null})}).fail((e,t)=>{t.aborting?h.set(s,v):h.set({[s]:!1,[l]:Object(i.a)(t)})})}}},Wdw6:function(e,t,a){e.exports={img:"AttributionLogo-img-SU4X0b"}},WfN5:function(e,t,a){"use strict";function n(e,t,...a){if(!t)return;const n=[];n.push(e);for(let e=0,t=a.length;e<t;e++){const t=a[e];t&&n.push(t)}return n.push(t),n.join("--")}a.d(t,"a",(function(){return n}))},WfwD:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR"),r=a("cVe3"),s=a("0v4y");const o=n.a.extend({name:"DVRModel",context:["server"],rootPropertyName:"Dvr",idAttribute:"key",sessionAttrs:{isSaving:i.a.boolean,saveError:i.a.object},syncedAttrs:{key:i.a.integer,epgIdentifier:i.a.string,country:i.a.string,language:i.a.string,lineup:i.a.string,lineupTitle:i.a.string,uuid:i.a.string},syncedRelations:{devices:{relationClass:s.a,rootPropertyName:"Device"},prefs:{relationClass:r.a,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isSaving:!1,saveError:null}});t.a=o},Wi4N:function(e,t,a){e.exports={splitButton:"ActivityMenuStatusItem-splitButton-1Ov6bl MenuItem-menuItem-1s02mQ",activityTitleContainer:"ActivityMenuStatusItem-activityTitleContainer-1KXytt",activityTitle:"ActivityMenuStatusItem-activityTitle-v72dUV",activitySubtitle:"ActivityMenuStatusItem-activitySubtitle-3uOyHy"}},Wks2:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return" selected"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o="function"==typeof(o=t&&t.iconPlexChevron)?o.apply(t):o)||0===o)&&(l+=o),l+=" "+d(i(a("d8WC")).call(t,"Plex Media Server Downloads",{hash:{},data:s}))+' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> ',((o=n.each.call(t,t&&t.items,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var n,r="";return r+=' <li><a class="btn-gray show-pane-btn type-btn',((n=i(a("w+Xr")).call(e,e&&e.selectedPane,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(r+=n),r+='" href="#" data-pane="'+d("function"==typeof(n=e&&e.id)?n.apply(e):n)+'">'+d("function"==typeof(n=e&&e.name)?n.apply(e):n)+"</a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> </div> <div class="server-download-loading loading loading-inline"></div> </div> </div> '}))},WlSR:function(e,t,a){e.exports={container:"QuickSearchInput-container-1HiCoN",focused:"QuickSearchInput-focused-3rEqJC",searchIcon:"QuickSearchInput-searchIcon-38PAh5",closeIcon:"QuickSearchInput-closeIcon-3ZiORN",searchInput:"QuickSearchInput-searchInput-3m6naA"}},WmQF:function(e,t){e.exports=function(e){return encodeURIComponent(e||"")}},WpwJ:function(e,t,a){e.exports={badge:"PrePlayInWatchlist-badge-3Rvpy4 Badge-badge-21NQRi",icon:"PrePlayInWatchlist-icon-1ZGHqm"}},Wpyo:function(e,t,a){"use strict";a.r(t);var n=a("F/us"),i=a.n(n),r=a("+X4A"),s=a("CHn6"),o=a("mOXR"),l=a("d7+L"),c=a("nvND"),d=a("Q3JP"),u=a("Pizw"),p=a("FIl5"),m=a("WfN5"),h=a("7za+"),g=a("2TYq"),y=a("9gKU");var f=s.a.extend({name:"MetaModel",context:["server","provider"],syncedAttrs:{DisplayFields:o.a.array},syncedRelations:{types:{relationClass:y.a,rootPropertyName:"Type"},fieldTypes:{relationClass:g.a,rootPropertyName:"FieldType"}}}),b=a("vjRy");const v=s.a.extend({mixins:[l.a],name:"MetadataListModel",context:["server","provider","section","metadataItem","identifier","mediaTagPrefix","mediaTagVersion","allowSync","excludeFields","excludeElements","excludeAllLeaves","includeRelated","includeCollections","includeExternalMedia","includeAdvanced","includeMeta"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:h.h,entityID(e=this.state){return Object(m.a)(this.entityType,e.entityKey||e.containerKey||e.key||this.cid,(this.provider||this.server).entityID())},idAttribute:"containerKey",collectionName:"metadataItems",responseType(){return Object(d.a)(this.server)},url(){const e=this.getPaginatedUrl(this.get("containerKey")||this.get("key")),t={excludeElements:this.excludeElements?this.excludeElements:void 0,excludeFields:this.excludeFields?this.excludeFields:void 0,excludeAllLeaves:this.excludeAllLeaves?1:void 0,includeRelated:this.includeRelated?1:void 0,includeCollections:this.includeCollections?1:void 0,includeExternalMedia:this.includeExternalMedia?1:void 0,includeAdvanced:this.includeAdvanced?1:void 0,includeMeta:this.includeMeta?1:void 0};return e?r.default.join(e,t):e},sessionAttrs:{isMetadataList:o.a.boolean,entityKey:o.a.string,containerKey:o.a.string,containerTitle:o.a.string,currentPageStart:o.a.integer,currentPageSize:o.a.integer,populatedRange:o.a.object,isPending:o.a.boolean,isPopulated:o.a.boolean,error:o.a.object},syncedAttrs:{isDirectoryList:o.a.boolean,isMetaPopulated:o.a.boolean,key:o.a.string,librarySectionID:o.a.string,totalSize:o.a.integer,viewGroup:o.a.string,title:o.a.string,thumb:o.a.string,art:o.a.string,banner:o.a.string,theme:o.a.string,allowSync:o.a.boolean},syncedRelations:{metadataItems:{relationClass:b.default,rootPropertyName:"Metadata",options:e=>({containerKey:e.containerKey||e.key}),setOptions:e=>({remove:e.remove,at:e.at})},meta:{relationClass:f,rootPropertyName:"Meta",deferred:!0}},derivedAttrs:{firstItemType(){const e=this.getCollection().first();return e?e.get("type"):this.attributes.firstItemType},firstItemSubtype(){const e=this.getCollection().first();return e?e.get("subtype"):this.attributes.firstItemSubtype},isFirstItemLibraryItem(){const e=this.getCollection().first();return e?e.get("isLibraryItem"):this.attributes.isFirstItemLibraryItem},isChannelsList(){const e=this.getCollection().first();return e?e.get("dvrChannel"):this.attributes.isChannelsList}},defaults:()=>({isMetadataList:!0,isDirectoryList:!1,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,isMetaPopulated:!1,error:null}),initialize(e){this._totalSizeAdjustment=0,this.startPopulatedRangeMonitor(),this.on("change:key change:containerKey",this.onContainerKeyChange,this)},uninitialize(){this.off("change:key change:containerKey",this.onContainerKeyChange,this),this.stopListening()},augmentResponseText(e,t){const a=this.get("containerKey")||this.get("key"),n=/\/folder(\?|$)/.test(a);return t===c.c?Object(u.b)(e,{includeDirectories:n}):e},augmentResponse(e,t){this.responseContext.forEach(t=>{const a=e[t];void 0!==a&&this.setContext(t,a)});const a=p.a.parseArray(e.Metadata),n=p.a.parseArray(e.Directory),r=p.a.parseInteger(e.totalSize);return this.allowAllLeaves||(e.Metadata=i.a.reject(a,(function(e){const t=/\/allLeaves$/.test(e.key);return t&&(this._totalSizeAdjustment-=1),t}),this)),!a.length&&e.Directory&&(e.Metadata=n,e.isDirectoryList=!0),this.includeMeta&&(e.isMetaPopulated=!0),r&&this._totalSizeAdjustment&&(e.totalSize=r-this._totalSizeAdjustment),!e.title&&e.title1&&(e.title=e.title1),e},onContainerKeyChange(e,t){const a=this.get("metadataItems"),n=this.syncedRelations.metadataItems.options(this.attributes);i.a.each(n,(e,t)=>{a.setContext(t,e)})}});t.default=v},WqrE:function(e,t,a){e.exports={extendedTitle:"AudioStreamMenu-extendedTitle-Xhtpm4"}},WtXS:function(e,t,a){e.exports={link:"Link-link-2n0yJn",default:"Link-default-2XA2bN",primary:"Link-primary-1vcAGA",success:"Link-success-oE5mZt",danger:"Link-danger-58vt6Z",dark:"Link-dark-2Q58AO",small:"Link-small-_K-QDf",medium:"Link-medium-3gAfLz",large:"Link-large-3a4C4d",isSelected:"Link-isSelected-IRm9uM"}},WxzZ:function(e,t,a){"use strict";var n=a("B69o"),i=a("CHn6"),r=a("mOXR");var s=i.a.extend({name:"SectionOverviewModel",context:["server"],rootPropertyName:"Section",syncedAttrs:{id:r.a.integer,key:r.a.string,type:r.a.string,title:r.a.string}});var o=n.a.extend({name:"SectionOverviewCollection",context:["server"],model:s});var l=i.a.extend({name:"ServerOverviewModel",context:["server"],idAttribute:"machineIdentifier",rootPropertyName:"Server",urlRoot:"/api/servers",syncedAttrs:{machineIdentifier:r.a.string,name:r.a.string,address:r.a.string,port:r.a.string,version:r.a.string,createdAt:r.a.integer,updatedAt:r.a.integer},syncedRelations:{sections:{relationClass:o,rootPropertyName:"Section"}}});const c=n.a.extend({name:"ServerOverviewCollection",context:["server"],model:l});t.a=c},"X++g":function(e,t,a){e.exports={container:"ModalError-container-2Xi_KZ",icon:"ModalError-icon-3Drvp-",message:"ModalError-message-20i4q-"}},X2jn:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("EVdn"),i=a.n(n),r=a("cgRT"),s=a("Cxyf"),o=a("YINS");function l(e,t={}){const{allowMetrics:a,metricsProperties:n={}}=t,l=e.server,c=`/library/metadata/${e.get("ratingKey")}/refresh`,d=l.getXHROptions(c,{type:"PUT"}),u=e.get("metadataState"),p=s.d;e.set("metadataState",p);const m=i.a.ajax(d).fail(t=>{e.get("metadataState")===p&&e.set("metadataState",u)});return a&&Object(r.c)("metrics").trackClick({...n,action:o.W,type:e.get("type")}),m.promise()}},X4XD:function(e,t,a){e.exports={actionButton:"ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",labeledActionButton:"ActionButton-labeledActionButton-2JSwRp ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",icon:"ActionButton-icon-3yhx5u",iconActionButton:"ActionButton-iconActionButton-2ry8hd ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",tooltip:"ActionButton-tooltip-z3GJhd Tooltip-topCenter-Hv9C9n Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipCenterAlignArrow-35uHtY",small:"ActionButton-small-3meFSQ",medium:"ActionButton-medium-2b4f4z",large:"ActionButton-large-3GDkIC"}},X60b:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n);t.a=function(e){return e=parseInt(e,10),i.a.isNaN(e)?"":(e<10?"0":"")+e}},"X6Q+":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return l}));const n=30,i=365,r=864e5,s=["years","months","days","hours","minutes","seconds","milliseconds"],o={years:r*i,months:r*n,days:r,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1};function l(e){const t=e<0?-1:1,a={};let n=e*t,i=-1;for(;++i<s.length;){const e=s[i],r=o[e],l=Math.floor(n/r);a[e]=l&&l*t,n%=r}return a}},X7Ko:function(e,t,a){"use strict";function n(e){return e.entities}a.d(t,"a",(function(){return n}))},X8Qt:function(e,t,a){e.exports={header:"SettingsSidebarList-header-1RCToc SidebarList-sidebarListHeader-1t0yzs"}},XBZo:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return o+='<div class="match-empty-message">'+(0,this.escapeExpression)((s=a("d8WC"),s&&(s.__esModule?s.default:s)).call(t,"No matches found.",{hash:{},data:r}))+"</div> "}))},XH5U:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a("G4qV"),i=a("F/us"),r=a.n(i),s=a("+X4A"),o=a("xoRd"),l=a("HYaw"),c=a("dZ7a"),d=a("Vk9Z"),u=a("N368");const p={},m={};function h(e,t){const{serverEntityID:a,providerEntityID:i}=t,s=`${a}:${i}`;return m[s]||(m[s]=Object(o.a)(Object(n.a)(Object(c.a)(),Object(l.a)(),(e,t)=>{const a=e&&e.activeConnection&&e.activeConnection.uri;if(!a)return p;let n,i="/photo/:/transcode",s=!1,o=!1;if(t){const e=r.a.findWhere(t.features,{type:d.f});e&&(i=e.key,s=Object(u.a)(i),o=e.public)}return n=s?t&&t.baseURL?t.baseURL:a:"",{accessToken:e.accessToken,baseUrl:n,isAbsoluteTranscodeKey:s,isPublicTranscoder:o,transcodeKey:i,uri:a}}),e=>e)),m[s](e,t)}function g(e){const t=e&&e.urlParams;return Object(n.a)((e,{url:t})=>t,h,(e,a)=>{if(!e||a===p)return;const{accessToken:n,baseUrl:i,isAbsoluteTranscodeKey:r,isPublicTranscoder:o,transcodeKey:l,uri:c}=a;let d;if(Object(u.a)(e))d=e;else{const a={"X-Plex-Token":n};t&&Object.assign(a,t),d=s.default.join([i,e],a)}const m=r?l:[c,l];return s.default.join(m,{url:d,"X-Plex-Token":o?void 0:n})})}},XHow:function(e,t,a){"use strict";var n=a("B69o"),i=a("oQeb"),r=a("Vk9Z"),s=a("o2p+");const o=n.a.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:i.a,url(){return this.provider.get("features").get(r.p).get("settings").get(s.a).get("key")}});t.a=o},XL8h:function(e,t,a){"use strict";const n=["B","KB","MB","GB","TB"];t.a=function(e,t=2){if(0===e)return`${(0).toFixed(t)} ${n[0]}`;const a=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return`${(e/Math.pow(1024,a)).toFixed(t)} ${n[a]}`}},XN2K:function(e,t,a){"use strict";t.a=function(e,t){if(e===t)return 0;const a=e.split("."),n=t.split(".");for(let e=0;e<a.length;e++){if(!n[e])return 1;const t=parseInt(a[e],10),i=parseInt(n[e],10);if(t>i)return 1;if(t<i)return-1}return 0}},XOYs:function(e,t,a){e.exports={label:"FormLabel-label-2aLJ9b",hasError:"FormLabel-hasError-3DBzXd"}},XQST:function(e,t,a){e.exports={watchlistIcon:"EmptyDirectoryPageContent-watchlistIcon-2WvnK-"}},XUCZ:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-folder-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m80 160l480 0-80 360-480 0 80-360m400-80l-10 39.838c-127.207-.297-430 .162-430 .162l-40 200 0-260c0-11.038 8.961-20 20-20l200 0c11.039 0 20 8.962 20 20l0 20 240 0"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},Xa5i:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Settings",{hash:{},data:t}))+" "}function p(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Sign In",{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> ',((o=n.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(3,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Plex Pass Required",{hash:{},data:t}))+" "}),s),fn:d.program(1,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Internet Required",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body"> <p class="confirm-message"> ',((o=n.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(7,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"This library requires your server be signed in to a Plex Pass account.",{hash:{},data:t}))+" "}),s),fn:d.program(5,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"This server cannot reach the Internet. Please verify connectivity and try again.",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </p> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(i(a("d8WC")).call(t,"Ignore",{hash:{},data:s}))+"</button> ",((o=n.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(11,(function(e,t){var a,i="";return i+=' <a class="confirm-btn btn btn-lg btn-primary" href="'+c("function"==typeof(a=e&&e.serverSettingsRoute)?a.apply(e):a)+'"> ',((a=n.if.call(e,e&&e.isSignedIn,{hash:{},inverse:d.program(14,p,t),fn:d.program(12,u,t),data:t}))||0===a)&&(i+=a),i+=" </a> "}),s),fn:d.program(9,(function(e,t){var n="";return n+=' <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(i(a("d8WC")).call(e,"OK",{hash:{},data:t}))+"</button> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> </div> </div> "}))},XaBv:function(e,t,a){"use strict";const n={AUTO:"auto",AVOID:"avoid",ALWAYS:"always",NEVER:"never"};n.settings=[{value:n.AUTO,title:"Automatic"},{value:n.AVOID,title:"Only image formats"},{value:n.ALWAYS,title:"Always"}],t.a=n},XcGM:function(e,t,a){"use strict";var n=a("Ty5D"),i=a("ZAgb"),r=a("Ayk2");t.a=function(e,t={},a=!1){const s=r.a[e],o=Object(n.e)(Array.isArray(s)?s[0]:s,t);a?i.a.replace(o):i.a.push(o)}},XebB:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-trash-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m238 42c0-23.181 18.82-42 42-42 23.18 0 42 18.82 42 42l182 0 0 42-28 0 0 476-392 0 0-476-28 0 0-42 182 0m196 42l-308 0 0 434 308 0 0-434m-217 56l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},Xf7Z:function(e,t,a){e.exports={loadingMessage:"PrePlayDetailsStreamsGroup-loadingMessage-27_ndH"}},XgVp:function(e,t,a){"use strict";var n=a("T+ch");const i=Object.assign({},n.a,{sliderTrackSize:"60px",sliderThumbSize:"12px",serverMenuItemHeight:"60px",sourceMenuItemHeight:"65px",sourceMenuItemGutter:"25px",posterCenterCircleSize:"42px",posterBadgeHeight:"24px",posterHoverSlideDistance:"10px",posterIconPadding:"20px",posterProgressHeight:"4px",v4CardBorderRadius:"4px",v4CardShadowSize:"4px",v4CardTitleGap:"10px",v4CardTitleHeight:"20px",v4CardCircleSize:"42px",listButtonHeight:"40px",hubCellHeaderBottomPadding:"5px",hubCellHeaderTopPadding:"25px",v4ListSpacing:"40px",v4SpotlightHeight:"350px",pagePadding:"60px",v4PagePadding:"50px",v4PagePaddingAlt:"25px",pageHeaderRowHeight:"50px",pageHeaderLeftMargin:"40px",pageHeaderTabButtonLeftRightMargin:"5px",recordingPriorityPaneWidth:"360px",recordingPriorityPaneBorderWidth:"4px",recordingPriorityDragHandleWidth:"62px",channelGridRowHeight:"60px",channelGridTitleColumnWidth:"130px",channelGridChannelColumnWidth:"250px",channelGridChannelOverflowWidth:"100px",channelGridChannelIconWidth:"80px",channelGridBorderSize:"1.5px",jumpBarCharacterHeight:"25px",jumpBarCharacterPadding:"10px",jumpBarGutter:"30px",jumpBarMargin:"10px",playCellWidth:"42px",actionsCellWidth:"82px",actionsCellPadding:"10px",summaryCellHeight:"136px",simpleSummaryCellHeight:"90px",summaryCellPadding:"20px",trackCellHeight:"60px",trackCellPadding:"10px",mosaicCellPadding:"5px",timelineGutter:"60px",prePlaySummaryMaxWidth:"750px",prePlayPosterMinWidth:"150px",prePlayPosterMaxWidth:"230px",prePlayPosterWidthRatio:"0.15",prePlayContentPadding:"20px",prePlayRatingBase:"1em",v4PrePlayListTitleGap:"20px",v4PrePlayDividerHeight:"2px",postPlayPosterWidth:"260px",postPlayTitleHeight:"40px",postPlayAutoPlayHeight:"55px",dvrSetupImageWidth:"193px",dvrSetupChannelMappingItemHeight:"40px",dvrSetupSpinnerSize:"100px",playerControlsHeight:"100px",playerControlsMinWidth:"640px",playerControlsNarrowHeight:"140px",playerControlsNarrowBreakpoint:"960px",playerControlsPosterHeight:"80px",playerControlsPosterLeftGutter:"8px",playerControlsPosterBottomGutter:"8px",playerControlsNarrowPosterBottomGutter:"48px",playerControlsContentSpacing:"20px",playerControlsSquarePosterWidth:"80px",playerControlsLandscapePosterWidth:Math.round(16/9*80)+"px",playerInfoBarHeight:"45px",playerTopControlsHeight:"60px",playerSideControlsWidth:"100px",playerOverlayActionEdgeGutter:"20px",playerIconButtonSize:"30px",playerIconButtonSpacing:"5px",playerVolumeSliderWidth:"32px",playerVolumeSliderHeight:"60px",seekBarHeight:"4px",seekBarTooltipMarginBottom:"4px",seekBarTooltipHeight:"23px",seekBarTooltipSmallWidth:"60px",seekBarTooltipLargeWidth:"90px",playQueueItemHeight:"68px",playQueueMoveButtonWidth:"54px",playQueueSidePadding:"60px",lyricsLineHeight:"30px",lyricsLineWidth:"640px",playerMediaOverlayInnerMargin:"1vw",playerMediaOverlayOuterMargin:"2vw",playlistItemCardWidth:"64px",playlistBadgeSize:"30px",navigationIconSize:"20px",sourceSidebarIconSize:"18px",sourceSidebarWidth:"60px",sourceSidebarExpandedWidth:"260px",sourceSidebarLeftGutter:"20px",sourceSidebarItemHeight:"50px",sourceSidebarLinkHoverStatusbarAllowance:"20px",sourceSidebarServerHeaderIconSize:"24px",homeServerListItemHeight:"40px",serverSelectMenuWidth:"260px",heroBadgeHeight:"90px",heroPageMinHeight:"600px",serverShareListRowHeight:"40px",lineupSettingChannelHeight:"40px",spotlightHubCellHeight:"324px",spotlightHubCellGap:"25px",watchTogetherLobbyPosterWidth:"260px",watchTogetherLobbyTitleHeight:"40px",downloadCellHeight:"120px"});t.a=i},Xh8s:function(e,t,a){"use strict";var n=a("mPz0"),i=a.n(n),r=a("0jae");let s;t.a=function(e){const t={};let a;if(!e)return r.a.warn("[Parser] Empty XML source"),t;s=s||new i.a({attributePrefix:"",emptyNodeForm:{},ignoreRoot:!0});try{a=e&&s.xml2js(e)}catch(e){r.a.warn("[Parser] Unable to parse XML: "+e.message)}return a||t}},XjQJ:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("i8i4"),s=a.n(r);class o extends n.Component{constructor(e,t){super(e,t),this.onCloseTimeout=()=>{this._closeTimeoutID=null,this.setState({shouldPreventPortalClose:!1},()=>{this.props.onClose&&this.props.onClose()})},this.onInteractionEvent=e=>{this.props.allowInteractionEventBubbling||e.stopPropagation()},this.state={isOpen:e.isOpen,shouldPreventPortalClose:!1}}static getDerivedStateFromProps(e,t){return e.isOpen===t.isOpen?null:{isOpen:e.isOpen,shouldPreventPortalClose:e.closeTimeoutMilliseconds&&!e.isOpen&&t.isOpen}}componentDidMount(){this.props.onOpen&&this.props.isOpen&&this.props.onOpen()}componentDidUpdate(e,t){!this.state.shouldPreventPortalClose&&t.shouldPreventPortalClose&&(this._closeTimeoutID=window.clearTimeout(this._closeTimeoutID)),this.state.shouldPreventPortalClose&&!t.shouldPreventPortalClose&&(this._closeTimeoutID=window.setTimeout(this.onCloseTimeout,this.props.closeTimeoutMilliseconds)),this.props.onOpen&&this.props.isOpen&&!e.isOpen&&this.props.onOpen()}componentWillUnmount(){this._closeTimeoutID&&window.clearTimeout(this._closeTimeoutID)}render(){const{className:e,style:t,children:a,forwardedRef:n}=this.props,{isOpen:r,shouldPreventPortalClose:o}=this.state;return r||o?s.a.createPortal(i.a.createElement("div",{className:e,style:t,ref:n,onTouchStart:this.onInteractionEvent,onTouchMove:this.onInteractionEvent,onTouchEnd:this.onInteractionEvent,onTouchCancel:this.onInteractionEvent,onMouseDown:this.onInteractionEvent,onMouseUp:this.onInteractionEvent,onClick:this.onInteractionEvent,onFocus:this.onInteractionEvent,onBlur:this.onInteractionEvent},a),document.body):null}}o.defaultProps={isOpen:!0,closeTimeoutMilliseconds:0,allowInteractionEventBubbling:!1},t.a=i.a.forwardRef((e,t)=>i.a.createElement(o,{...e,forwardedRef:t}))},XmHA:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("mp0/"),s=a("Ed4x"),o=a("XmNb"),l=a("DgQC"),c=a("F/us"),d=a.n(c),u=a("1CqU"),p=a("e/b/"),m=u.a.extend({idAttribute:"title",whitelistedAttrs:["title","selected"],convert:function(e){var t=d.a.isObject(e)?e:p.a.parseXML(e);return p.a.parseBoolean(t,"selected"),t},parse:function(e,t){var a=this.convert(e);return a=d.a.pick(a,this.whitelistedAttrs)}}),h=o.a.extend({model:m,url:"/clients/profiles?type="+l.a.LOCAL,parse:function(e){return this.convert(e,"Profile")}}),g=u.a.extend({name:"VersionTargetModel",whitelistedAttrs:["id","tag","tagType","MediaSettings","Device"],convert:function(e){var t=d.a.isObject(e)?e:p.a.parseXML(e);return p.a.parseInteger(t,"id"),t},parse:function(e,t){var a=this.convert(e);return a=d.a.pick(a,this.whitelistedAttrs)}}),y=o.a.extend({model:g,url:"/library/tags?type="+l.a.LOCAL,comparator:function(e){return e.get("MediaSettings").maxVideoBitrate},parse:function(e){return this.convert(e,"Tag")}}),f=a("bsps"),b=a("CpQb"),v=a("NAGO"),I=a.n(v),S=b.a.ItemView.extend({className:"modal-body",template:I.a,events:{"click .try-again-link":"onTryAgainClick"},serializeData:function(){return{status:this.options.status}},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","loading")}}),E=a("DDbo"),O=a("Wpyo"),M=a("tqLa"),C=a("41GN"),j=a("66GW"),D=a("Dq8X"),P=a("9IAt"),T=a.n(P),w=b.a.ItemView.extend({className:"convert-location-container form-group",template:T.a,events:{"change select[name=storageLocation]":"onLocationChange"},serializeData:function(){return{disableLocation:!this.model.isNew(),selectedLocationID:this.model.get("locationID"),locations:this.model.section&&this.model.section.get("locations").toJSON()}},onLocationChange:function(e){this.model.set("locationID",parseInt(e.currentTarget.value,10))}}),N=a("7WRz"),x=a("+9S5"),A=a("Ivly"),L=a("fZAC"),k=a.n(L),R=b.a.ItemView.extend({className:"convert-target-container form-group",template:k.a,ui:{targetTitleInput:".convert-target-title"},events:{"change select[name=target]":"onTargetChange","keydown input[name=targetTitle]":"onTitleKeyDown","change input[name=targetTitle]":"onTitleChange","change select[name=targetProfile]":"onProfileChange","change select[name=targetQuality]":"onQualityChange"},initialize:function(e){this.targets=e.targets,this.profiles=e.profiles;var t=this.model.get("Device").profile;this.selectedProfile=t?this.profiles.get(t):this.profiles.findWhere({selected:!0}),this.availableCustomQualities=A.a.getAvailableQualities({lowestQualityIndex:x.a}).reverse();var a=this.model.get("mediaSettings").get("maxVideoBitrate");if(a){var n=A.a.getNearestIndexToBitrate(a);this.selectedCustomQuality=A.a.getQualityByIndex(n)}else this.selectedCustomQuality=d.a.first(this.availableCustomQualities);this.model.isNew()||this.model.get("targetTagID")||this.$el.addClass("show-custom-target")},serializeData:function(){return{item:this.model.toJSON(),targets:this.targets.toJSON(),disableTarget:!this.model.isNew(),profiles:this.profiles.toJSON(),selectedProfile:this.selectedProfile.toJSON(),availableCustomQualities:this.availableCustomQualities,selectedCustomQuality:this.selectedCustomQuality}},updateDeviceProfile:function(e){this.model.get("Device").profile=this.selectedProfile.get("title")},updateMediaSettings:function(e){this.model.get("mediaSettings").set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},onTargetChange:function(e){var t=parseInt(e.currentTarget.value,10);t>-1?(this.model.unset("target"),this.model.set({targetTagID:t,Device:{}}),this.model.get("mediaSettings").restoreDefaults()):(this.model.set("target",this.ui.targetTitleInput.val()),this.model.unset("targetTagID"),this.updateDeviceProfile(this.selectedProfile),this.updateMediaSettings(this.selectedCustomQuality)),this.$el.toggleClass("show-custom-target",-1===t)},onTitleKeyDown:function(e){190===e.which&&0===e.currentTarget.selectionStart&&e.preventDefault()},onTitleChange:function(e){this.model.set("target",e.currentTarget.value)},onProfileChange:function(e){this.selectedProfile=this.profiles.findWhere({title:e.currentTarget.value}),this.updateDeviceProfile(this.selectedProfile)},onQualityChange:function(e){var t=parseInt(e.currentTarget.value,10);this.selectedCustomQuality=A.a.getQualityByIndex(t),this.updateMediaSettings(this.selectedCustomQuality)}}),z=a("4gIP"),U=a.n(z),V=b.a.Layout.extend({template:U.a,ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",targetsRegion:".targets-region",locationRegion:".location-region"},events:{"change input[name=title]":"onTitleChange","submit #convert-form":"onSubmit"},initialize:function(e){if(this.playlist=e.playlist,this.targets=e.targets,this.profiles=e.profiles,this.model){this.tempModel=this.model.clone();var t=this.model.get("Location").librarySectionID;if(t){var a=new E.a({key:t},{server:this.model.server,onlyIfCached:!0});d.a.isEmpty(a)||(this.tempModel.section=a)}}else{var n,i=e.item,r=e.items,s=i.has("childrenKey")?new O.default({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider}):i,o=i.server;if(i.get("isSection"))n=i;else{var l=Object(C.a)(i);d.a.isEmpty(l)||(n=l)}this.tempModel=new D.a({title:M.a.title(i,{items:r}),targetTagID:this.targets.first().id,Location:{uri:M.a.uri(s,{items:r})}},{server:o,section:n})}},serializeData:function(){return{conversionItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew(),showRemuxOnlyWarning:this.tempModel.server.get("transcoderVideoRemuxOnly")}},onRender:function(){this.policyRegion.show(new N.a({model:this.tempModel,isSync:!1})),this.targetsRegion.show(new R({model:this.tempModel,targets:this.targets,profiles:this.profiles})),this.locationRegion.show(new w({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){if(t.addClass("active"),!this.tempModel.get("targetTagID")&&!this.tempModel.get("target")){var a=this.tempModel.get("Device");this.tempModel.set("target",Object(j.default)("Custom: {1}",a.profile))}var n=this.playlist.addContent(this.tempModel);n.done(this.whenRendered((function(){if(this.model){var e=d.a.omit(this.tempModel.toJSON(),"children");this.model.set(this.model.parse(e))}this.trigger("request:nextState")}))),n.fail(this.whenRendered((function(e){var t=e.responseText,a=p.a.parseXML(t),n=a&&a.status;this.trigger("request:state","error",n)})))}}}),B=a("Ty6D"),F=a.n(B),H=b.a.ItemView.extend({className:"modal-body loading-container",template:F.a}),_=a("XcGM"),W=a("9iqW"),Q=a.n(W),G=b.a.ItemView.extend({className:"modal-body",template:Q.a,events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),Object(_.a)("serverSettings",{machineIdentifier:this.options.server.id,settingsSection:"status",settingsGroup:"conversion"})}}),K=a("xHef"),Y=a.n(K),q=f.a.extend({mixins:[r.a],name:"convertModal",className:"convert-modal modal fade",template:Y.a,regions:{bodyRegion:".modal-body-region"},initialize:function(e){f.a.prototype.initialize.apply(this,arguments),this.server=this.model?this.model.server:e.item.server;var t={server:this.server,allowInCache:!0};this.playlists=new s.a([],t),this.targets=new y([],t),this.profiles=new h([],t)},initialState:"loading",states:{loading:{nextState:"form",onEnter:function(){this.bodyRegion.show(new H),this.listenForStateRequests();const e=this.options.item,t=e&&!e.get("isMetadataList");var a=i.a.when(t?e.populate():null,this.playlists.populate(),this.targets.populate(),this.profiles.populate(),this.server.get("sections").populate());a.done(this.whenRendered((function(){this.playlist=this.playlists.first(),this.playlist?this.enterNextState():this.enterState("error")}))),a.fail(this.whenRendered((function(){this.enterState("error")})))}},form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new V({model:this.model,item:this.options.item,items:this.options.items,playlist:this.playlist,targets:this.targets,profiles:this.profiles})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new G({server:this.server})),this.listenForStateRequests())}},error:{onEnter:function(e){this.bodyRegion.show(new S({status:e})),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){f.a.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}});t.a=q},XmNb:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("+X4A"),l=a("Khyo"),c=a("mCRK"),d=a("jp3X"),u=a("e/b/");const p=l.c.Collection.extend({mixins:[c.a],cache:new d.a,constructor:function(e,t){if(t||(t={}),this.server=t.server,this.section=t.section,this.channel=t.channel,this.device=t.device,this.parent=t.parent,this.allowInCache=t.allowInCache,this.persistInCache=t.persistInCache,this.skipCache=t.skipCache,t.url&&(this.url=t.url),t.path&&(this.path=t.path),null==t.pageStart&&null==t.pageSize||(this.pageStart=t.pageStart||0,this.pageSize=t.pageSize||0),t.populated&&this.resetPopulatePromise(i.a.Deferred().resolve().promise()),!t.allowInCache&&!t.persistInCache)return void l.c.Collection.prototype.constructor.apply(this,arguments);this.initialize.apply(this,arguments);const a=this.cache.getItemCacheKey(this);let n=this.cache.get(a);if(this.uninitialize(),t.onlyIfCached&&(n||(n={})),n)return n;l.c.Collection.prototype.constructor.apply(this,arguments),this.cache.store(this,a)},uninitialize:function(){this.stopListening()},sync:function(){return(this.allowInCache||this.persistInCache)&&this.cache.store(this),l.c.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=s.a.result(this,"url")),this.path&&(e=o.default.join([e,s.a.result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t=this.pageStart||0,a=this.pageSize||0,n={};n["X-Plex-Container-Start"]=t,n["X-Plex-Container-Size"]=a,e=o.default.join(e,n)}return e},convert:function(e,t){const a=s.a.isObject(e)?e:u.a.parseXML(e);if(!t)return a;let n=a[t];return n?(Array.isArray(n)||(n=[n]),n):[]},clone:function(e){const t={server:this.server,section:this.section,parent:this.parent,url:this.url};return e||(e=this.models),new this.constructor(e,t)},cloneDeep:function(e){return e||(e=this.map((function(e){return e.clone()}))),this.clone(e)},clear:function(e){e=s.a.extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)}});p.extend=function(){const e=l.c.Collection.extend.apply(this,arguments);return e.prototype.cache=new d.a,e},t.a=p},Xo9w:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("qNMu"),l=a("NJuV"),c=a("WHnk"),d=a("bb11"),u=a.n(d);function p(e){const{iconClassName:t,messageClassName:a,kind:n,message:r,...o}=e;return s.a.createElement(c.a,{...o},s.a.createElement(l.a,{className:i()(u.a[n],t)}),s.a.createElement("div",{className:a},r))}p.defaultProps={iconClassName:u.a.icon,messageClassName:u.a.message,kind:o.c},t.a=p},"Xq+7":function(e,t,a){"use strict";var n=a("G4qV"),i=a("aVib");const r=Object(n.a)(i.a,e=>e.servers,e=>e.embeddedServer,(e,t,a)=>{const n=t?t.map(t=>e[t]):[];return a&&e[a]&&n.push(e[a]),n});t.a=r},XrH1:function(e,t,a){e.exports={upsell:"ServerDashboardPageUpsell-upsell-2u8wpO",description:"ServerDashboardPageUpsell-description-2mfh7a",chartImageContainer:"ServerDashboardPageUpsell-chartImageContainer-3qDzxo",listImageContainer:"ServerDashboardPageUpsell-listImageContainer-3P6rw7",image:"ServerDashboardPageUpsell-image-3Uhv_c",button:"ServerDashboardPageUpsell-button-3G-4Xc Link-link-2ew_DK"}},XrKU:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a("EVdn"),i=a.n(n),r=(a("slDQ"),a("+X4A")),s=a("blH+"),o=a("Vk9Z"),l=a("WfN5"),c=a("7za+"),d=a("hPIe"),u=a("rXDx");function p(e,t={}){const{played:a,providerEntityID:n,serverEntityID:p,metadataItemEntityID:m}=t,h=Object(d.j)(e,t);if(null==h){const e="Could not find providerModel with provided `providerEntityID`";return i.a.Deferred().reject({errorMessage:e}).promise()}if(null==Object(d.m)(e,t)){const e="Could not find serverModel with provided `serverEntityID`";return i.a.Deferred().reject({errorMessage:e}).promise()}const g=Object(d.r)(e,{metadataItemEntityID:m});if(null==g){const e="Could not find metadataModel with provided `metadataItemEntityID`";return i.a.Deferred().reject({errorMessage:e}).promise()}const y=h.get("features").get(o.b).get("actions").get(s.g),f=a?y.get("key"):y.get("reverseKey"),b={identifier:g.get("identifier")||"com.plexapp.plugins.library",key:g.get("ratingKey")},v=r.default.join(f,b),I=i.a.ajax(h.getXHROptions(v));return I.then(()=>{const t={providerEntityID:n,serverEntityID:p,metadataItemEntityID:g.entityID()};!function e(t,a,n,i){const r=Object(d.r)(t,a);if(!r)return;const s=Object(u.getMetadataType)(r.get("type")),o=Object(l.a)(c.g,r.get("parentKey"),a.serverEntityID),p=Object(d.r)(t,{metadataItemEntityID:o});let m;p&&(m=Object(u.getMetadataType)(p.get("type")));if(m&&m.typeString===s.parent){let s;const l=Object(u.isDirectoryType)(r.get("type"));n?s=l?r.get("unviewedLeafCount"):1:(s=l?r.get("viewedLeafCount"):1,s*=-1);const c=null!=i?i:s;p.set({viewedLeafCount:p.get("viewedLeafCount")+c});const d={...a,metadataItemEntityID:o};e(t,d,n,c)}}(e,t,a),function e(t,a,n){const i=Object(d.r)(t,a);if(!i)return;if(Object(u.isDirectoryType)(i.get("type"))){i.set({viewedLeafCount:n?i.get("leafCount"):0});const r=Object(l.a)(c.h,i.get("childrenKey"),a.providerEntityID||a.serverEntityID),s=Object(d.s)(t,{metadataListEntityID:r});s&&s.get("metadataItems").forEach(i=>{const r={...a,metadataItemEntityID:i.entityID()};e(t,r,n)})}else i.set({viewOffset:0,viewCount:n?1:0})}(e,t,a)}),I}},Xrwt:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="filter-bar"> ',((o=n.unless.call(t,t&&t.shared,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=' <div class="filter-bar-right"> <button class="toggle-advanced-btn btn btn-sm btn-default basic-setting">'+c(i(a("d8WC")).call(e,"Show Advanced",{hash:{},data:t}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default advanced-setting">'+c(i(a("d8WC")).call(e,"Hide Advanced",{hash:{},data:t}))+"</button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="settings-row row"> <div class="pane-region col-sm-12 col-md-12"></div> </div> '}))},"Xs/E":function(e,t,a){e.exports={help:"FormHelp-help-3VCuqa"}},"Xw7/":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("uarP"),i=a("czSl");function r(e,t,a,r={},s){if(!Object(n.a)(e))return a?Object(i.a)(e,t,{source:a.id,...r},s):Object(i.a)(e,t,r,s)}},Xyf0:function(e,t,a){"use strict";a.d(t,"b",(function(){return o}));var n=a("CHn6"),i=a("mOXR"),r=a("WxzZ"),s=a("agT0");const o={WARNING:"warning",USER:"user",LIBRARIES:"libraries",RESTRICTIONS:"restrictions",SUMMARY:"summary"},l=n.a.extend({name:"ShareModalModel",context:["server"],sessionAttrs:{steps:i.a.array,step:i.a.string,metadataItemEntityID:i.a.string,friendEntityID:i.a.string,username:i.a.string,restrictionProfileIdentifier:i.a.string,isNewFriend:i.a.boolean,isAddingHomeUser:i.a.boolean,isCreatingManagedUser:i.a.boolean,selectedAllLibrariesMachineIdentifiers:i.a.array,selectedLibrarySectionIDs:i.a.array,filterOptionsTags:i.a.object,isUsernameValidating:i.a.boolean,isUsernameValidated:i.a.boolean,isServerOverviewsPopulating:i.a.boolean,isServerOverviewsPopulated:i.a.boolean,isServerSharesPopulating:i.a.boolean,isServerSharesPopulated:i.a.boolean,serverSharesError:i.a.string,isFilterOptionsTagsPopulating:i.a.boolean,isFilterOptionsTagsPopulated:i.a.boolean,isSharingPending:i.a.boolean,isSharingCompleted:i.a.boolean,sharingError:i.a.string,inviteToken:i.a.string,inviteTokenError:i.a.string},sessionRelations:{serverOverviews:{relationClass:r.a,deferred:!0}},defaults:()=>({steps:[],step:null,metadataItemEntityID:null,friendEntityID:null,username:"",restrictionProfileIdentifier:s.a,isNewFriend:!1,isAddingHomeUser:!1,isCreatingManagedUser:!1,selectedAllLibrariesMachineIdentifiers:null,selectedLibrarySectionIDs:null,filterOptionsTags:{},isUsernameValidating:!1,isUsernameValidated:!1,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,inviteToken:null,inviteTokenError:null})});t.a=l},XzZp:function(e,t,a){e.exports={channel:"DVRSetupDeviceChannel-channel-3Z90sR",channelIdentifier:"DVRSetupDeviceChannel-channelIdentifier-1EqGb3",signalStrength:"DVRSetupDeviceChannel-signalStrength-2Jp2fk SignalStrength-signalStrength-33wP3p"}},Xznh:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(i(a("d8WC")).call(e,"Disconnecting server...",{hash:{},data:t}))+" </h4> "}function p(e,t){var a;return(a=n.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.program(12,y,t),fn:d.program(7,m,t),data:t}))||0===a?a:""}function m(e,t){var r,s="";return s+=' <h4 class="status-header text-danger">'+c(i(a("d8WC")).call(e,"Not available outside your network",{hash:{},data:t}))+"</h4> ",((r=n.if.call(e,e&&e.isSignedOut,{hash:{},inverse:d.program(10,g,t),fn:d.program(8,h,t),data:t}))||0===r)&&(s+=r),s+=" "}function h(e,t){var n="";return n+=' <span class="status-description help-block">'+c(i(a("d8WC")).call(e,"First {1}sign in{2} to access your server from anywhere.",'<a class="sign-in-link" href="#">',"</a>",{hash:{},data:t}))+"</span> "}function g(e,t){var n="";return n+=' <span class="status-description help-block">'+c(i(a("d8WC")).call(e,"Enable to access your server from anywhere.",{hash:{},data:t}))+'</span> <button class="remote-access-enable-btn btn btn-sm btn-primary">'+c(i(a("d8WC")).call(e,"Enable Remote Access",{hash:{},data:t}))+"</button> "}function y(e,t){var r,s="";return s+=" ",((r=i(a("w+Xr")).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"unreachable",{hash:{},inverse:d.program(19,S,t),fn:d.program(13,f,t),data:t}))||0===r)&&(s+=r),s+=' <button class="remote-access-disable-btn btn btn-sm btn-default">'+c(i(a("d8WC")).call(e,"Disable Remote Access",{hash:{},data:t}))+"</button> ",((r=n.if.call(e,null==(r=e&&e.mappingModeSetting)||!1===r?r:r.value,{hash:{},inverse:d.noop,fn:d.program(21,E,t),data:t}))||0===r)&&(s+=r),s+=" "}function f(e,t){var n,r="";return r+=' <h4 class="status-header text-danger">'+c(i(a("d8WC")).call(e,"Not available outside your network",{hash:{},data:t}))+'</h4> <span class="unreachable-description status-description help-block">'+c(i(a("d8WC")).call(e,"Your server is signed in to Plex, but is not reachable from outside your network. {1}Learn more{2}",'<a href="https://support.plex.tv/articles/200289506/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</span> ",((n=i(a("w+Xr")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.mappingError,"jumboframes",{hash:{},inverse:d.program(16,v,t),fn:d.program(14,b,t),data:t}))||0===n)&&(r+=n),r+=" "}function b(e,t){var n="";return n+=' <span class="jumbo-frames-description status-details help-block"> <span class="help-tip">'+c(i(a("d8WC")).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(i(a("d8WC")).call(e,'It looks like the devices between your server and the internet have "jumbo frames" enabled which can cause issues with remote access. Disable jumbo frames on at least one device and try again.',{hash:{},data:t}))+" </span> "}function v(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.mappingError,"doublenat",{hash:{},inverse:d.noop,fn:d.program(17,I,t),data:t}))||0===n?n:""}function I(e,t){var n="";return n+=' <span class="double-nat-description status-details help-block"> <span class="help-tip">'+c(i(a("d8WC")).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(i(a("d8WC")).call(e,'It looks like your server may be connected to the internet through multiple routers or other network devices. Try connecting it directly to your primary device, or visit our support site for more information about troubleshooting this "Double-NAT" scenario. {1}Learn more{2}','<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+" </span> "}function S(e,t){var n="";return n+=' <h4 class="status-header text-success">'+c(i(a("d8WC")).call(e,"Fully accessible outside your network",{hash:{},data:t}))+'</h4> <span class="status-description help-block"> '+c(i(a("d8WC")).call(e,"You can access this server from signed-in Plex apps or in a browser at {1}.",'<a href="https://plex.tv/web" target="_blank">https://plex.tv/web</a>',{hash:{},data:t}))+" </span> "}function E(e,t){var n="";return n+=' <p class="remote-access-disable-message help-block"> <i class="remote-access-disable-warning-icon glyphicon circle-exclamation-mark"></i> '+c(i(a("d8WC")).call(e,"You currently have Remote Access enabled through a manually-specified port. If you wish to disable Remote Access, you will need to remove your manual port forwarding from your router.",{hash:{},data:t}))+" </p> "}function O(e,t){var r,s="";return s+=' <div class="remote-access-advanced"> <div class="remote-access-mapping-container ',((r=n.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,M,t),data:t}))||0===r)&&(s+=r),s+='"> <hr> <i class="plex-image server server-xs server-logo"></i> <div class="remote-access-mapping"> <span class="mapping-label text-muted">'+c(i(a("d8WC")).call(e,"Private",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((r=n.if.call(e,e&&e.hasPrivateAddress,{hash:{},inverse:d.program(29,j,t),fn:d.program(27,C,t),data:t}))||0===r)&&(s+=r),s+=" </span> ",((r=n.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(33,P,t),fn:d.program(31,D,t),data:t}))||0===r)&&(s+=r),s+=' <span class="mapping-label text-muted">'+c(i(a("d8WC")).call(e,"Public",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((r=n.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(29,j,t),fn:d.program(35,T,t),data:t}))||0===r)&&(s+=r),s+=" </span> ",((r=i(a("w+Xr")).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"ok",{hash:{},inverse:d.program(33,P,t),fn:d.program(31,D,t),data:t}))||0===r)&&(s+=r),s+=' <span class="mapping-internet ',((r=i(a("WX+G")).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"ok",{hash:{},inverse:d.noop,fn:d.program(37,w,t),data:t}))||0===r)&&(s+=r),s+='"> <i class="mapping-internet-icon glyphicon globe text-muted"></i> '+c(i(a("d8WC")).call(e,"Internet",{hash:{},data:t}))+" </span> </div> </div> ",((r=n.if.call(e,e&&e.hasMappingSettings,{hash:{},inverse:d.noop,fn:d.program(39,N,t),data:t}))||0===r)&&(s+=r),s+=" </div> "}function M(e,t){return"advanced-setting"}function C(e,t){var a,n="";return n+=' <span class="mapping-value">'+c("function"==typeof(a=null==(a=e&&e.cloudAccount)||!1===a?a:a.privateAddress)?a.apply(e):a)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c("function"==typeof(a=null==(a=e&&e.cloudAccount)||!1===a?a:a.privatePort)?a.apply(e):a)+"</span> "}function j(e,t){var n="";return n+=' <span class="mapping-empty-value">'+c(i(a("d8WC")).call(e,"Unknown IP",{hash:{},data:t}))+"</span> "}function D(e,t){return' <i class="mapping-icon glyphicon left-arrow text-success"></i> '}function P(e,t){return' <i class="mapping-icon glyphicon remove-2 text-danger"></i> '}function T(e,t){var a,n="";return n+=' <span class="mapping-value">'+c("function"==typeof(a=null==(a=e&&e.cloudAccount)||!1===a?a:a.publicAddress)?a.apply(e):a)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c("function"==typeof(a=null==(a=e&&e.cloudAccount)||!1===a?a:a.publicPort)?a.apply(e):a)+"</span> "}function w(e,t){return"unreachable"}function N(e,t){var r,s="";return s+=' <div class="remote-access-error-container ',((r=n.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,M,t),data:t}))||0===r)&&(s+=r),s+='"> <div class="form-inline"> <div class="checkbox"> <label class="',((r=n.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===r)&&(s+=r),s+='"> <input type="checkbox" id="'+c("function"==typeof(r=null==(r=e&&e.mappingModeSetting)||!1===r?r:r.id)?r.apply(e):r)+'" name="'+c("function"==typeof(r=null==(r=e&&e.mappingModeSetting)||!1===r?r:r.id)?r.apply(e):r)+'" value="1" ',((r=n.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=n.if.call(e,null==(r=e&&e.mappingModeSetting)||!1===r?r:r.value,{hash:{},inverse:d.noop,fn:d.program(42,A,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("d8WC")).call(e,"Manually specify public port",{hash:{},data:t}))+' </label> </div> <div class="form-group"> <input type="text" id="'+c("function"==typeof(r=null==(r=e&&e.mappingPortSetting)||!1===r?r:r.id)?r.apply(e):r)+'" name="'+c("function"==typeof(r=null==(r=e&&e.mappingPortSetting)||!1===r?r:r.id)?r.apply(e):r)+'" class="form-control" value="'+c("function"==typeof(r=null==(r=e&&e.mappingPortSetting)||!1===r?r:r.value)?r.apply(e):r)+'" ',((r=n.unless.call(e,e&&e.canEditPort,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===r)&&(s+=r),s+='> </div> <button class="retry-btn btn btn-primary btn-loading" ',((r=n.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===r)&&(s+=r),s+='> <div class="loading loading-sm"></div> <span class="btn-label">',((r=i(a("w+Xr")).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"unreachable",{hash:{},inverse:d.program(46,k,t),fn:d.program(44,L,t),data:t}))||0===r)&&(s+=r),s+='</span> </button> </div> <p class="help-block">'+c(i(a("d8WC")).call(e,"You may need to enable this to establish a direct connection from outside your network. You may also need to configure your router. Detailed instructions are available {1}here{2}.",'<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> </div> "}function x(e,t){return"disabled"}function A(e,t){return"checked"}function L(e,t){return c(i(a("d8WC")).call(e,"Retry",{hash:{},data:t}))}function k(e,t){return c(i(a("d8WC")).call(e,"Apply",{hash:{},data:t}))}function R(e,t){return"show-warning"}function z(e,t){var a;return c("function"==typeof(a=e&&e.totalRateSettingValue)?a.apply(e):a)}function U(e,t){var n="";return n+=" "+c(i(a("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return l+='<i class="remote-access-status-icon glyphicon globe"></i> <div class="remote-access-status-message"> ',((o=i(a("w+Xr")).call(t,null==(o=t&&t.cloudAccount)||!1===o?o:o.remoteAccessState,"connecting",{hash:{},inverse:d.program(3,(function(e,t){var n;return(n=i(a("w+Xr")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.remoteAccessState,"disconnecting",{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===n?n:""}),s),fn:d.program(1,(function(e,t){var n="";return n+=' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(i(a("d8WC")).call(e,"Connecting server...",{hash:{},data:t}))+" </h4> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=i(a("WX+G")).call(t,null==(o=t&&t.cloudAccount)||!1===o?o:o.remoteAccessState,"connecting",{hash:{},inverse:d.noop,fn:d.program(23,(function(e,t){var n,r="";return r+=" ",((n=i(a("WX+G")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.remoteAccessState,"disconnecting",{hash:{},inverse:d.noop,fn:d.program(24,O,t),data:t}))||0===n)&&(r+=n),r+=" "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.hasUploadLimitSettings,{hash:{},inverse:d.noop,fn:d.program(48,(function(e,t){var r,s="";return s+=' <div class="remote-access-upload-container ',((r=n.unless.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(49,R,t),data:t}))||0===r)&&(s+=r),s+='"> <hr> <div class="remote-access-upload-icon-container"> <i class="remote-access-upload-icon glyphicon circle-arrow-top"></i> <i class="remote-access-upload-warning-icon glyphicon circle-exclamation-mark"></i> </div> <form id="remote-access-upload-form" class="remote-access-upload-form"> <div class="remote-access-upload-speed-header">'+c(i(a("d8WC")).call(e,"No upload speed set",{hash:{},data:t}))+'</div> <div class="form-group"> <div class="form-inline"> <div class="form-group"> '+c(i(a("d8WC")).call(e,"Internet upload speed",{hash:{},data:t}))+' <input type="text" id="'+c("function"==typeof(r=e&&e.totalRateSettingID)?r.apply(e):r)+'" name="'+c("function"==typeof(r=e&&e.totalRateSettingID)?r.apply(e):r)+'" class="remote-access-upload-speed-control form-control" value="',((r=n.if.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(51,z,t),data:t}))||0===r)&&(s+=r),s+='" > '+c(i(a("d8WC")).call(e,"Mbps",{hash:{},data:t}))+' </div> <p class="help-block"> '+c(i(a("d8WC")).call(e,"You can use {1}speedtest.net{2} to determine your internet upload capacity.",'<a href="http://speedtest.net" target="_blank" rel="noopener noreferrer">',"</a>",{hash:{},data:t}))+" <br> "+c(i(a("d8WC")).call(e,"Enter an upload speed here and Plex can ensure it operates within this boundary.",{hash:{},data:t}))+" </p> </div> </div> ",((r=n.each.call(e,e&&e.uploadSettings,{hash:{},inverse:d.noop,fn:d.program(53,U,t),data:t}))||0===r)&&(s+=r),s+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(e,"Save Changes",{hash:{},data:t}))+'</span> </button> <span class="form-message"></span> </div> </form> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},"Y/9r":function(e,t,a){e.exports={recordButton:"RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2"}},Y0bH:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(i(a("d8WC")).call(t,"A new TV tuner ({tunerMake} {tunerModel}) has been found! Plex DVR is the easiest way to record your favorite shows!",{hash:{tunerModel:t&&t.model,tunerMake:t&&t.make},data:s}))+'</span> <a class="setup-link link" href="'+c("function"==typeof(o=t&&t.dvrSettingsRoute)?o.apply(t):o)+'">'+c(i(a("d8WC")).call(t,"Learn more",{hash:{},data:s}))+"</a> "}))},Y103:function(e,t,a){e.exports={controlsHiddenLinesCount:"ServerLogPageHeader-controlsHiddenLinesCount-2RVYnd",rawButton:"ServerLogPageHeader-rawButton-b0m7AG"}},Y52O:function(e,t,a){e.exports={divider:"PrePlayDivider-divider-1qvbj9"}},Y6zh:function(e,t,a){e.exports={statusContainer:"MetadataPosterCardScanStatus-statusContainer-1t1-fw",spinnerContainer:"MetadataPosterCardScanStatus-spinnerContainer-_dUnLM",spinner:"MetadataPosterCardScanStatus-spinner-3Ztm7W Spinner-spinner-1qRM4t spin-spin-2kLwt_",trashCircle:"MetadataPosterCardScanStatus-trashCircle-1dwTLp MetadataPosterCardCircle-cardCircle-2NfIyT"}},Y7Bh:function(e,t,a){e.exports={container:"PrePlayDetailsContainer-container-1oBwsq"}},Y9Bx:function(e,t,a){e.exports={loadingItem:"MetadataTableRowLoading-loadingItem-2g4_QI",alternateLoadingItem:"MetadataTableRowLoading-alternateLoadingItem-3U7fuh MetadataTableRowLoading-loadingItem-2g4_QI"}},YFI5:function(e,t,a){e.exports={container:"SelectNavigationStep-container-17SG3E FirstRunExperienceActionsContainer-container-1Uv1FY",input:"SelectNavigationStep-input-2MiKPn CheckInput-input-1Pi_2g"}},YINS:function(e,t,a){"use strict";a.d(t,"l",(function(){return n})),a.d(t,"t",(function(){return i})),a.d(t,"jb",(function(){return r})),a.d(t,"o",(function(){return s})),a.d(t,"cb",(function(){return o})),a.d(t,"j",(function(){return l})),a.d(t,"E",(function(){return c})),a.d(t,"n",(function(){return d})),a.d(t,"N",(function(){return u})),a.d(t,"ib",(function(){return p})),a.d(t,"O",(function(){return m})),a.d(t,"T",(function(){return h})),a.d(t,"R",(function(){return g})),a.d(t,"S",(function(){return y})),a.d(t,"P",(function(){return f})),a.d(t,"U",(function(){return b})),a.d(t,"Q",(function(){return v})),a.d(t,"d",(function(){return I})),a.d(t,"c",(function(){return S})),a.d(t,"w",(function(){return E})),a.d(t,"x",(function(){return O})),a.d(t,"G",(function(){return M})),a.d(t,"F",(function(){return C})),a.d(t,"W",(function(){return j})),a.d(t,"h",(function(){return D})),a.d(t,"A",(function(){return P})),a.d(t,"nb",(function(){return T})),a.d(t,"H",(function(){return w})),a.d(t,"kb",(function(){return N})),a.d(t,"mb",(function(){return x})),a.d(t,"J",(function(){return A})),a.d(t,"u",(function(){return L})),a.d(t,"hb",(function(){return k})),a.d(t,"p",(function(){return R})),a.d(t,"D",(function(){return z})),a.d(t,"V",(function(){return U})),a.d(t,"fb",(function(){return V})),a.d(t,"B",(function(){return B})),a.d(t,"I",(function(){return F})),a.d(t,"b",(function(){return H})),a.d(t,"e",(function(){return _})),a.d(t,"Z",(function(){return W})),a.d(t,"f",(function(){return Q})),a.d(t,"ab",(function(){return G})),a.d(t,"Y",(function(){return K})),a.d(t,"K",(function(){return Y})),a.d(t,"m",(function(){return q})),a.d(t,"z",(function(){return Z})),a.d(t,"r",(function(){return X})),a.d(t,"a",(function(){return J})),a.d(t,"pb",(function(){return $})),a.d(t,"k",(function(){return ee})),a.d(t,"C",(function(){return te})),a.d(t,"y",(function(){return ae})),a.d(t,"i",(function(){return ne})),a.d(t,"q",(function(){return ie})),a.d(t,"M",(function(){return re})),a.d(t,"ob",(function(){return se})),a.d(t,"bb",(function(){return oe})),a.d(t,"eb",(function(){return le})),a.d(t,"gb",(function(){return ce})),a.d(t,"v",(function(){return de})),a.d(t,"L",(function(){return ue})),a.d(t,"X",(function(){return pe})),a.d(t,"db",(function(){return me})),a.d(t,"lb",(function(){return he})),a.d(t,"qb",(function(){return ge})),a.d(t,"g",(function(){return ye})),a.d(t,"s",(function(){return fe}));const n="claim",i="dismiss",r="skip",s="confirm",o="select",l="cancel",c="learn",d="complete",u="play",p="shuffle",m="playAll",h="playVersion",g="playPrimaryExtra",y="playRelatedMix",f="playArtistTV",b="queueRelatedMix",v="playNext",I="addToQueue",S="addToPlaylist",E="edit",O="editFilters",M="markAsWatched",C="markAsUnwatched",j="refresh",D="analyze",P="fixMatch",T="unmatch",w="merge",N="splitApart",x="sync",A="optimize",L="downloadFile",k="share",R="delete",z="getInfo",U="rate",V="selectStream",B="follow",F="mute",H="addToLibrary",_="addToSaved",W="removeFromSaved",Q="addToWatchlist",G="removeFromWatchlist",K="removeFromContinueWatching",Y="optimizeDatabase",q="cleanBundles",Z="emptyTrash",X="deleteServer",J="addLibrary",$="updateLibrary",ee="cancelLibraryUpdate",te="forceRefreshLibrary",ae="editLibrary",ne="analyzeLibrary",ie="deleteLibrary",re="pinToNav",se="unpinFromNav",oe="reorderNav",le="selectSource",ce="selectTab",de="downloadServer",ue="optOutMetrics",pe="remoteAccess",me="selectPreferredServer",he="subscribe",ge="upsellTidal",ye="agree",fe="disagree"},"YJ/b":function(e,t,a){e.exports={toolbarContainer:"measuredPageHeaderToolbar-toolbarContainer-24LrJ0 Measure-container-3yONEe",toolbar:"measuredPageHeaderToolbar-toolbar-2vtgM4"}},YP9j:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("kwss"),i=a("zTsO"),r=a("rXDx");function s(e,t,a,s){if(!(e&&t&&a&&s))return!1;const{type:o,hasInvalidKey:l,deletedAt:c,isFolder:d,isMetadataList:u,firstItemType:p,dvrChannel:m,onAir:h}=s;if(!u&&(l||c||d))return!1;if(!(m||u||t.protocols.stream||h))return!1;if(u&&!p)return!1;const g=!!a[i.j];if(t.protocols.livetv&&(e.livetv<4||!g))return!1;if(t.protocols.livetv&&!n.a.allowLiveTVPlayback)return!1;if(t.features.playqueue)return!0;const y=u?p:o,f=Object(r.getLeafType)(y),b=Object(r.getChildType)(y);return y===f.typeString||b.id===f.id}},YRs7:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){var n="";return n+=' <option value="">'+c(i(a("d8WC")).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+c(i(a("d8WC")).call(t,"Title",{hash:{},data:s}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+c(i(a("d8WC")).call(t,"Agent",{hash:{},data:s}))+'</label> <select id="match-search-agent" name="agent"> ',((o=n.each.call(t,t&&t.agents,{hash:{},inverse:d.program(4,p,s),fn:d.program(1,(function(e,t){var a,i="";return i+=' <option value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'" ',((a=n.if.call(e,e&&e.selected,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(i+=a),i+=">"+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+c(i(a("d8WC")).call(t,"Year",{hash:{},data:s}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+c(i(a("d8WC")).call(t,"Language",{hash:{},data:s}))+'</label> <select id="match-search-language" name="language"> ',((o=n.each.call(t,t&&t.languages,{hash:{},inverse:d.program(4,p,s),fn:d.program(6,(function(e,t){var a,n="";return n+=' <option value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+=" </select> </div> </div> </div> "}))},YVMD:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t,a,i){var r,s="";return s+=' <li><a href="'+c("function"==typeof(r=e&&e.url)?r.apply(e):r)+'" ',((r=n.if.call(e,i&&i.shouldUseDownload,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=n.if.call(e,i&&i.target,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,m,t,a),data:t}))||0===r)&&(s+=r),s+=' class="download-btn">'+c("function"==typeof(r=e&&e.label)?r.apply(e):r)+"</a></li> "}function p(e,t){return"download"}function m(e,t,a){var n,i="";return i+='target="'+c("function"==typeof(n=a&&a.target)?n.apply(e):n)+'"'}function h(e,t,a,i){var r,s="";return s+=' <a href="'+c("function"==typeof(r=e&&e.url)?r.apply(e):r)+'" ',((r=n.if.call(e,i&&i.shouldUseDownload,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=n.if.call(e,i&&i.target,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,m,t,a),data:t}))||0===r)&&(s+=r),s+=' class="btn btn-primary download-btn">'+c("function"==typeof(r=e&&e.label)?r.apply(e):r)+"</a> "}return l+='<div class="type-'+c("function"==typeof(o=t&&t.type)?o.apply(t):o)+" platform-logo platform-"+c("function"==typeof(o=t&&t.id)?o.apply(t):o)+'"></div> <h2><strong>'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+"</strong> "+c(i(a("d8WC")).call(t,"Download",{hash:{},data:s}))+"</h2> <h5>"+c(i(a("d8WC")).call(t,"Version",{hash:{},data:s}))+" "+c("function"==typeof(o=t&&t.version)?o.apply(t):o)+"</h5> <h5>"+c(i(a("Lw7a")).call(t,t&&t.date,{hash:{},data:s}))+'</h5> <div class="more-info"> ',((o=n.if.call(t,t&&t.requirements,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n,r="";return r+="<p>"+c(i(a("d8WC")).call(e,"Requirements",{hash:{},data:t}))+": ",((n="function"==typeof(n=e&&e.requirements)?n.apply(e):n)||0===n)&&(r+=n),r+="</p>"}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.info,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var a,n="";return n+="<p>",((a="function"==typeof(a=e&&e.info)?a.apply(e):a)||0===a)&&(n+=a),n+="</p>"}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=n.if.call(t,t&&t.shouldUseDropup,{hash:{},inverse:d.programWithDepth(11,(function(e,t,a){var i,r="";return r+=' <div class="download-server-btn-group"> ',((i=n.each.call(e,e&&e.releases,{hash:{},inverse:d.noop,fn:d.programWithDepth(12,h,t,e,a),data:t}))||0===i)&&(r+=i),r+=" </div> "}),s,t),fn:d.programWithDepth(5,(function(e,t,r){var s,o="";return o+=' <div class="btn-group dropup download-server-btn-group"> <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> '+c(i(a("d8WC")).call(e,"Download",{hash:{},data:t}))+' <span class="caret"></span> </button> <ul class="dropdown-menu"> ',((s=n.each.call(e,e&&e.releases,{hash:{},inverse:d.noop,fn:d.programWithDepth(6,u,t,e,r),data:t}))||0===s)&&(o+=s),o+=" </ul> </div> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" "}))},YWAx:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="sign-in-region"></div> <form id="server-settings-form"> <div class="form-group"> <h4 class="version-header"><span class="version"></span> <span class="update-region"></span></h4> </div> ',((o=n.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=" "+c(i(a("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},YWOF:function(e,t,a){"use strict";function n(){const[,e,t]="https://plex.tv".match(/^([^:]+):\/\/(.*)$/)||[];return{scheme:e,address:t}}a.d(t,"a",(function(){return n}))},YYNq:function(e,t,a){e.exports={tertiaryTitle:"PrePlayTertiaryTitle-tertiaryTitle-1Rc92F"}},YZZ6:function(e,t,a){e.exports={episodeCount:"EPGPrePlayEpisodeCountLeftTitle-episodeCount-1Ae4n- EPGPrePlayStatusLeftTitle-duration-1W91hQ"}},Yc8G:function(e,t,a){e.exports={listModalItem:"ListModalItem-listModalItem-3SDr-X"}},YeIk:function(e,t,a){e.exports={refreshingSpinner:"ProgramGuideActivityStatus-refreshingSpinner-30DBlM"}},Ygol:function(e,t,a){e.exports={listItem:"HomeHubListItem-listItem-3aSc2w",label:"HomeHubListItem-label-1g_Fbz",title:"HomeHubListItem-title-3xEA84",isRemoved:"HomeHubListItem-isRemoved-HpH7U3",iconReorder:"HomeHubListItem-iconReorder-1GrJsE",toggleButton:"HomeHubListItem-toggleButton-2C4qs1 AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I"}},YhBC:function(e,t,a){e.exports={popularTracksHubCell:"PrePlayPopularTracks-popularTracksHubCell-Q0N9bz HubCell-hubCell-3Ys175"}},YhIo:function(e,t,a){e.exports={slideContainer:"SlideImg-slideContainer-2XcH9x",statusContainer:"SlideImg-statusContainer-2GP9ql fadeIn-fadeIn-3S08eh"}},Ynln:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<a href="#" class="check-for-updates-btn label label-btn label-primary ',((o=n.unless.call(t,t&&t.canCheckForUpdate,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"active"}),s),data:s}))||0===o)&&(l+=o),l+='"> <i class="label-icon glyphicon upload"></i> '+c(i(a("d8WC")).call(t,"Check for Updates",{hash:{},data:s}))+' </a> <a href="#" class="checking-for-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(i(a("d8WC")).call(t,"Checking for Updates",{hash:{},data:s}))+' </a> <a href="#" class="available-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(i(a("d8WC")).call(t,"Download Updates",{hash:{},data:s}))+' </a> <span class="downloading-updates-container label label-btn label-progress active"> <i class="label-icon glyphicon download"></i> '+c(i(a("d8WC")).call(t,"Downloading Update",{hash:{},data:s}))+' <span class="downloading-progress-container hidden">(<span class="downloading-progress-label"></span>%)</span ></span> <a href="#" class="install-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(i(a("d8WC")).call(t,"Install Update",{hash:{},data:s}))+' </a> <a href="#" class="installing-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(i(a("d8WC")).call(t,"Installing",{hash:{},data:s}))+' </a> <span class="install-info-label up-to-date-label"> <i class="success-icon glyphicon ok-2"></i> '+c(i(a("d8WC")).call(t,"Up to date",{hash:{},data:s}))+' </span> <span class="install-info-label install-error-label"> <i class="failure-icon glyphicon circle-exclamation-mark"></i> <span class="update-error-message"></span> <a class="install-manual-link" href="https://plex.tv/downloads" target="_blank">'+c(i(a("d8WC")).call(t,"Please install manually.",{hash:{},data:s}))+'</a> </span> <a href="#" class="release-notes-btn label label-btn label-default"> <i class="label-icon glyphicon circle-info"></i> '+c(i(a("d8WC")).call(t,"What's New",{hash:{},data:s}))+" </a> "}))},YoL5:function(e,t,a){e.exports={container:"PlaylistList-container-2136l_",scroller:"PlaylistList-scroller-3AXYYS VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},YsE3:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("EVdn"),i=a.n(n),r=a("+X4A"),s=a("cgRT"),o=a("YINS");function l(e,t){const{libraryID:a,libraryType:n,cancel:l,force:c,allowMetrics:d,metricsProperties:u={}}=t,p=c?{force:1}:void 0,m=r.default.join(["/library/sections",a,"refresh"],p),h=e.getXHROptions(m,{type:l?"DELETE":"GET"});if(d){let e;e=l?o.k:c?o.C:o.pb,Object(s.c)("metrics").trackClick({...u,action:e,type:"all"===a?"all":n})}return i.a.ajax(h).promise()}},YuNx:function(e,t,a){e.exports={scroller:"Scroller-scroller-3GqQcZ",none:"Scroller-none-3GfKRp",vertical:"Scroller-vertical-VScFLT",auto:"Scroller-auto-LsWiWx",horizontal:"Scroller-horizontal-cOKsqj",omni:"Scroller-omni-2Pq3HR",compactScroller:"Scroller-compactScroller-rzREb6"}},Yx3T:function(e,t,a){e.exports={button:"AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I",icon:"AddOrRemoveButton-icon-2m9zyA",iconRemovable:"AddOrRemoveButton-iconRemovable-3pNZ1z AddOrRemoveButton-icon-2m9zyA"}},YxVA:function(e,t,a){e.exports={input:"InlineNumberInputGroup-input-uLbRbq TextInput-input-1VMuma input-input-1P2Vi4"}},Z2Ww:function(e,t,a){e.exports={header:"ShareServerLibraries-header-2FWLto",toggleButton:"ShareServerLibraries-toggleButton-34adjO Link-link-2n0yJn",toggleButtonHidden:"ShareServerLibraries-toggleButtonHidden-12kl7r ShareServerLibraries-toggleButton-34adjO Link-link-2n0yJn",libraries:"ShareServerLibraries-libraries-1v5cs1",hidden:"ShareServerLibraries-hidden-amHqw7",emptyMessage:"ShareServerLibraries-emptyMessage-2sEE--"}},ZAf3:function(e,t,a){e.exports={row:"AudioVideoSettingsRow-row-2CrSzB",cell:"AudioVideoSettingsRow-cell-24KvKF",label:"AudioVideoSettingsRow-label-2h0yy9 AudioVideoSettingsRow-cell-24KvKF",isDisabled:"AudioVideoSettingsRow-isDisabled-3laLAT"}},ZAgb:function(e,t,a){"use strict";var n=a("LhCv");t.a=Object(n.a)({hashType:"hashbang"})},ZDL3:function(e,t,a){(function(n){var i,r,s,o,l,c,d,u,p;s={id:"sifter",exports:{},loaded:!1},i="function"==typeof(r=function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=i(String(e||"").toLowerCase()))||!e.length)return[];var t,a,n,s,l=[],c=e.split(/ +/);for(t=0,a=c.length;t<a;t++){if(n=r(c[t]),this.settings.diacritics)for(s in o)o.hasOwnProperty(s)&&(n=n.replace(new RegExp(s,"g"),o[s]));l.push({string:c[t],regex:new RegExp(n,"i")})}return l},e.prototype.iterator=function(e,t){(s(e)?Array.prototype.forEach||function(e){for(var t=0,a=this.length;t<a;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var a,n,i;e=this.prepareSearch(e,t),n=e.tokens,a=e.options.fields,i=n.length;var r,s=function(e,t){var a,n;return e?-1===(n=(e=String(e||"")).search(t.regex))?0:(a=t.string.length/e.length,0===n&&(a+=.5),a):0},o=(r=a.length)?1===r?function(e,t){return s(t[a[0]],e)}:function(e,t){for(var n=0,i=0;n<r;n++)i+=s(t[a[n]],e);return i/r}:function(){return 0};return i?1===i?function(e){return o(n[0],e)}:"and"===e.options.conjunction?function(e){for(var t,a=0,r=0;a<i;a++){if((t=o(n[a],e))<=0)return 0;r+=t}return r/i}:function(e){for(var t=0,a=0;t<i;t++)a+=o(n[t],e);return a/i}:function(){return 0}},e.prototype.getSortFunction=function(e,a){var n,i,r,s,o,l,c,d,u,p,m;if(m=!(e=(r=this).prepareSearch(e,a)).query&&a.sort_empty||a.sort,u=function(e,t){return"$score"===e?t.score:r.items[t.id][e]},o=[],m)for(n=0,i=m.length;n<i;n++)(e.query||"$score"!==m[n].field)&&o.push(m[n]);if(e.query){for(p=!0,n=0,i=o.length;n<i;n++)if("$score"===o[n].field){p=!1;break}p&&o.unshift({field:"$score",direction:"desc"})}else for(n=0,i=o.length;n<i;n++)if("$score"===o[n].field){o.splice(n,1);break}for(d=[],n=0,i=o.length;n<i;n++)d.push("desc"===o[n].direction?-1:1);return(l=o.length)?1===l?(s=o[0].field,c=d[0],function(e,a){return c*t(u(s,e),u(s,a))}):function(e,a){var n,i,r;for(n=0;n<l;n++)if(r=o[n].field,i=d[n]*t(u(r,e),u(r,a)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var n=(t=a({},t)).fields,i=t.sort,r=t.sort_empty;return n&&!s(n)&&(t.fields=[n]),i&&!s(i)&&(t.sort=[i]),r&&!s(r)&&(t.sort_empty=[r]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var a,n,i,r;return n=this.prepareSearch(e,t),t=n.options,e=n.query,r=t.score||this.getScoreFunction(n),e.length?this.iterator(this.items,(function(e,i){a=r(e),(!1===t.filter||a>0)&&n.items.push({score:a,id:i})})):this.iterator(this.items,(function(e,t){n.items.push({score:1,id:t})})),(i=this.getSortFunction(n,t))&&n.items.sort(i),n.total=n.items.length,"number"==typeof t.limit&&(n.items=n.items.slice(0,t.limit)),n};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=l(String(e||"")))>(t=l(String(t||"")))?1:t>e?-1:0},a=function(e,t){var a,n,i,r;for(a=1,n=arguments.length;a<n;a++)if(r=arguments[a])for(i in r)r.hasOwnProperty(i)&&(e[i]=r[i]);return e},i=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},r=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||n&&n.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},l=function(){var e,t,a,n,i="",r={};for(a in o)if(o.hasOwnProperty(a))for(i+=n=o[a].substring(2,o[a].length-1),e=0,t=n.length;e<t;e++)r[n.charAt(e)]=a;var s=new RegExp("["+i+"]","g");return function(e){return e.replace(s,(function(e){return r[e]})).toLowerCase()}}();return e})?r.call(s.exports,a,s.exports,s):r,s.loaded=!0,void 0!==i||(i=s.exports),c={id:"microplugin",exports:{},loaded:!1},o="function"==typeof(l=function(){var e={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var a,n,i,r=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(a=0,n=e.length;a<n;a++)"string"==typeof e[a]?r.push(e[a]):(this.plugins.settings[e[a].name]=e[a].options,r.push(e[a].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(this.plugins.settings[i]=e[i],r.push(i));for(;r.length;)this.require(r.shift())},e.prototype.loadPlugin=function(t){var a=this.plugins,n=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');a.requested[t]=!0,a.loaded[t]=n.fn.apply(this,[this.plugins.settings[t]||{}]),a.names.push(t)},e.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},e.define=function(t,a){e.plugins[t]={name:t,fn:a}}}},t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})?l.call(c.exports,a,c.exports,c):l,c.loaded=!0,void 0!==o||(o=c.exports),u=[a("EVdn"),i,o],void 0===(p="function"==typeof(d=function(e,t,a){"use strict";var n=function(e,t){if("string"!=typeof t||t.length){var a="string"==typeof t?new RegExp(t,"i"):t,n=function(e){var t=0;if(3===e.nodeType){var i=e.data.search(a);if(i>=0&&e.data.length>0){var r=e.data.match(a),s=document.createElement("span");s.className="highlight";var o=e.splitText(i),l=(o.splitText(r[0].length),o.cloneNode(!0));s.appendChild(l),o.parentNode.replaceChild(s,o),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=n(e.childNodes[c]);return t};return e.each((function(){n(this)}))}},i=function(){};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var a=arguments.length;return 0===a?delete this._events:1===a?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],a=0;a<t.length;a++)e.prototype[t[a]]=i.prototype[t[a]]};var r=/Mac/.test(navigator.userAgent),s=r?91:17,o=r?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,c=function(e){return void 0!==e},d=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},u=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p=function(e){return(e+"").replace(/\$/g,"$$$$")},m=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},h=function(e,t,a){var n,i=e.trigger,r={};for(n in e.trigger=function(){var a=arguments[0];if(-1===t.indexOf(a))return i.apply(e,arguments);r[a]=arguments},a.apply(e,[]),e.trigger=i,r)r.hasOwnProperty(n)&&i.apply(e,r[n])},g=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var a=document.selection.createRange(),n=document.selection.createRange().text.length;a.moveStart("character",-e.value.length),t.start=a.text.length-n,t.length=n}return t},y=function(a,n){var i,r,s,o;(o=a[0]).selectize=this;var l,c,d,u=window.getComputedStyle&&window.getComputedStyle(o,null);if(s=(s=u?u.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||a.parents("[dir]:first").attr("dir")||"",e.extend(this,{order:0,settings:n,$input:a,tabIndex:a.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++y.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:a.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?this.onSearchChange:(l=this.onSearchChange,c=n.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(d),d=window.setTimeout((function(){l.apply(e,t)}),c)})}),this.sifter=new t(this.options,{diacritics:n.diacritics}),this.settings.options){for(i=0,r=this.settings.options.length;i<r;i++)this.registerOption(this.settings.options[i]);delete this.settings.options}if(this.settings.optgroups){for(i=0,r=this.settings.optgroups.length;i<r;i++)this.registerOptionGroup(this.settings.optgroups[i]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return i.mixin(y),a.mixin(y),e.extend(y.prototype,{setup:function(){var t,a,n,i,c,d,u,p,m,h,y,f,b,v=this,I=v.settings,S=v.eventNS,E=e(window),O=e(document),M=v.$input;if(u=v.settings.mode,p=M.attr("class")||"",t=e("<div>").addClass(I.wrapperClass).addClass(p).addClass(u),a=e("<div>").addClass(I.inputClass).addClass("items").appendTo(t),n=e('<input type="text" autocomplete="off" />').appendTo(a).attr("tabindex",M.is(":disabled")?"-1":v.tabIndex),d=e(I.dropdownParent||t),i=e("<div>").addClass(I.dropdownClass).addClass(u).hide().appendTo(d),c=e("<div>").addClass(I.dropdownContentClass).appendTo(i),v.settings.copyClassesToDropdown&&i.addClass(p),t.css({width:M[0].style.width}),v.plugins.names.length&&(m="plugin-"+v.plugins.names.join(" plugin-"),t.addClass(m),i.addClass(m)),(null===I.maxItems||I.maxItems>1)&&1===v.tagType&&M.attr("multiple","multiple"),v.settings.placeholder&&n.attr("placeholder",I.placeholder),!v.settings.splitOn&&v.settings.delimiter){var C=v.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");v.settings.splitOn=new RegExp("\\s*"+C+"+\\s*")}M.attr("autocorrect")&&n.attr("autocorrect",M.attr("autocorrect")),M.attr("autocapitalize")&&n.attr("autocapitalize",M.attr("autocapitalize")),v.$wrapper=t,v.$control=a,v.$control_input=n,v.$dropdown=i,v.$dropdown_content=c,i.on("mouseenter","[data-selectable]",(function(){return v.onOptionHover.apply(v,arguments)})),i.on("mousedown click","[data-selectable]",(function(){return v.onOptionSelect.apply(v,arguments)})),y="mousedown",f="*:not(input)",b=function(){return v.onItemSelect.apply(v,arguments)},(h=a).on(y,f,(function(e){for(var t=e.target;t&&t.parentNode!==h[0];)t=t.parentNode;return e.currentTarget=t,b.apply(this,[e])})),v.settings.manualInputWidth||function(t){var a=null,n=function(n,i){var r,s,o,l,c,d,u,p;i=i||{},(n=n||window.event||{}).metaKey||n.altKey||(i.force||!1!==t.data("grow"))&&(r=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(o=(s=n.keyCode)>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||32===s,46===s||8===s?(p=g(t[0])).length?r=r.substring(0,p.start)+r.substring(p.start+p.length):8===s&&p.start?r=r.substring(0,p.start-1)+r.substring(p.start+1):46===s&&void 0!==p.start&&(r=r.substring(0,p.start)+r.substring(p.start+1)):o&&(d=n.shiftKey,u=String.fromCharCode(n.keyCode),r+=u=d?u.toUpperCase():u.toLowerCase())),l=t.attr("placeholder"),!r&&l&&(r=l),(c=function(t,a){if(!t)return 0;var n=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");!function(e,t,a){var n,i,r={};if(a)for(n=0,i=a.length;n<i;n++)r[a[n]]=e.css(a[n]);else r=e.css();t.css(r)}(a,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var i=n.width();return n.remove(),i}(r,t)+4)!==a&&(a=c,t.width(c),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()}(n),a.on({mousedown:function(){return v.onMouseDown.apply(v,arguments)},click:function(){return v.onClick.apply(v,arguments)}}),n.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return v.onKeyDown.apply(v,arguments)},keyup:function(){return v.onKeyUp.apply(v,arguments)},keypress:function(){return v.onKeyPress.apply(v,arguments)},resize:function(){v.positionDropdown.apply(v,[])},blur:function(){return v.onBlur.apply(v,arguments)},focus:function(){return v.ignoreBlur=!1,v.onFocus.apply(v,arguments)},paste:function(){return v.onPaste.apply(v,arguments)}}),M.parents().last().find('label[for="'+M.attr("id")+'"]').on("click",(function(){v.onClick.apply(v,arguments)})),O.on("keydown"+S,(function(e){v.isCmdDown=e[r?"metaKey":"ctrlKey"],v.isCtrlDown=e[r?"altKey":"ctrlKey"],v.isShiftDown=e.shiftKey})),O.on("keyup"+S,(function(e){e.keyCode===o&&(v.isCtrlDown=!1),16===e.keyCode&&(v.isShiftDown=!1),e.keyCode===s&&(v.isCmdDown=!1)})),O.on("mousedown"+S,(function(e){if(v.isFocused){if(e.target===v.$dropdown[0]||e.target.parentNode===v.$dropdown[0])return!1;v.$control.has(e.target).length||e.target===v.$control[0]||v.blur(e.target)}})),E.on(["scroll"+S,"resize"+S].join(" "),(function(){v.isOpen&&v.positionDropdown.apply(v,arguments)})),E.on("mousemove"+S,(function(){v.ignoreHover=!1})),this.revertSettings={$children:M.children().detach(),tabindex:M.attr("tabindex")},M.attr("tabindex",-1).hide().after(v.$wrapper),e.isArray(I.items)&&(v.setValue(I.items),delete I.items),l&&M.on("invalid"+S,(function(e){e.preventDefault(),v.isInvalid=!0,v.refreshState()})),v.updateOriginalInput(),v.refreshItems(),v.refreshState(),v.updatePlaceholder(),v.isSetup=!0,M.is(":disabled")&&v.disable(),v.on("change",this.onChange),M.data("selectize",v),M.addClass("selectized"),v.trigger("initialize"),!0===I.preload&&v.onSearchChange("")},setupTemplates:function(){var t=this.settings.labelField,a=this.settings.optgroupLabelField,n={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[a])+"</div>"},option:function(e,a){return'<div class="option">'+a(e[t])+"</div>"},item:function(e,a){return'<div class="item">'+a(e[t])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};this.settings.render=e.extend({},n,this.settings.render)},setupCallbacks:function(){var e,t,a={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in a)a.hasOwnProperty(e)&&(t=this.settings[a[e]])&&this.on(e,t)},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(t){var a=this,n=t.isDefaultPrevented();if(e(t.target),a.isFocused){if(t.target!==a.$control_input[0])return"single"===a.settings.mode&&t.target!==a.$control[0]?a.isOpen?a.close():a.open():n||a.setActiveItem(null),!1}else n||window.setTimeout((function(){a.focus()}),0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var a=this;a.isFull()||a.isInputHidden||a.isLocked?t.preventDefault():a.settings.splitOn&&setTimeout((function(){for(var t=e.trim(a.$control_input.val()||"").split(a.settings.splitOn),n=0,i=t.length;n<i;n++)a.createItem(t[n])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){if(e.target,this.$control_input[0],this.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(e.preventDefault(),e.stopPropagation(),this.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var t=this.getAdjacentOption(this.$activeOption,1);t.length&&this.setActiveOption(t,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(this.$activeOption){this.ignoreHover=!0;var a=this.getAdjacentOption(this.$activeOption,-1);a.length&&this.setActiveOption(a,!0,!0)}return void e.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),e.preventDefault()));case 37:return void this.advanceSelection(-1,e);case 39:return void this.advanceSelection(1,e);case 9:return void(this.settings.selectOnTab&&this.isOpen&&this.$activeOption?(this.onOptionSelect({currentTarget:this.$activeOption}),this.settings.allowCreateEmpty&&1===this.settings.maxItems||this.isFull()||e.preventDefault()):this.settings.create&&this.createItem()&&e.preventDefault());case 8:return void this.deleteSelection(e,!0);case 46:return void this.deleteSelection(e)}!this.isFull()&&!this.isInputHidden||(r?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){if(this.isLocked)return e&&e.preventDefault();var t=this.$control_input.val()||"";this.lastValue!==t&&(this.lastValue=t,this.onSearchChange(t),this.refreshOptions(),this.trigger("type",t))},onSearchChange:function(e){var t=this,a=t.settings.load;a&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load((function(n){a.apply(t,[e,n])}))))},onFocus:function(e){var t=this.isFocused;if(this.isDisabled)return this.blur(),e&&e.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),t||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(e,t){var a=this;if(a.isFocused&&(a.isFocused=!1,!a.ignoreFocus))return a.ignoreBlur||document.activeElement!==a.$dropdown_content[0]?void setTimeout((function(){var e=function(){a.close(),a.setTextboxValue(""),a.setActiveItem(null),a.setActiveOption(null),a.setCaret(a.items.length),a.refreshState(),(t||document.body).focus(),a.ignoreFocus=!1,a.trigger("blur")};a.ignoreFocus=!0,a.settings.selectOnBlur&&a.$activeOption&&1===a.$activeOption.not(".create").length?(a.addItem(a.$activeOption.not(".create").data("value")),e()):a.settings.create&&a.settings.createOnBlur?a.createItem(null,!1,e):e()})):(a.ignoreBlur=!0,void a.onFocus(e))},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var a,n,i=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(n=e(t.currentTarget)).hasClass("create")?i.createItem(null,(function(){i.settings.closeAfterSelect&&i.close()})):void 0!==(a=n.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(a),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&i.setActiveOption(i.getOption(a)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,a=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||a.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){h(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setActiveItem:function(t,a){var n,i,r,s,o,l,c,d;if("single"!==this.settings.mode){if(!(t=e(t)).length)return e(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(n=a&&a.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(d=this.$control.children(".active:last"),(s=Array.prototype.indexOf.apply(this.$control[0].childNodes,[d[0]]))>(o=Array.prototype.indexOf.apply(this.$control[0].childNodes,[t[0]]))&&(c=s,s=o,o=c),i=s;i<=o;i++)l=this.$control[0].childNodes[i],-1===this.$activeItems.indexOf(l)&&(e(l).addClass("active"),this.$activeItems.push(l));a.preventDefault()}else"mousedown"===n&&this.isCtrlDown||"keydown"===n&&this.isShiftDown?t.hasClass("active")?(r=this.$activeItems.indexOf(t[0]),this.$activeItems.splice(r,1),t.removeClass("active")):this.$activeItems.push(t.addClass("active")[0]):(e(this.$activeItems).removeClass("active"),this.$activeItems=[t.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(t,a,n){var i,r,s,o,l;this.$activeOption&&this.$activeOption.removeClass("active"),this.$activeOption=null,(t=e(t)).length&&(this.$activeOption=t.addClass("active"),!a&&c(a)||(i=this.$dropdown_content.height(),r=this.$activeOption.outerHeight(!0),a=this.$dropdown_content.scrollTop()||0,o=s=this.$activeOption.offset().top-this.$dropdown_content.offset().top+a,l=s-i+r,s+r>i+a?this.$dropdown_content.stop().animate({scrollTop:l},n?this.settings.scrollDuration:0):s<a&&this.$dropdown_content.stop().animate({scrollTop:o},n?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0}),this.settings.manualInputWidth||this.$control_input.css({position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1}),this.settings.manualInputWidth||this.$control_input.css({position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var a,n,i,r=this.settings,s=this.getSearchOptions();if(r.score&&"function"!=typeof(i=this.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==this.lastQuery?(this.lastQuery=t,n=this.sifter.search(t,e.extend(s,{score:i})),this.currentResults=n):n=e.extend(!0,{},this.currentResults),r.hideSelected)for(a=n.items.length-1;a>=0;a--)-1!==this.items.indexOf(d(n.items[a].id))&&n.items.splice(a,1);return n},refreshOptions:function(t){var a,i,r,s,o,l,c,u,p,m,h,g,y,f,b,v;void 0===t&&(t=!0);var I=this,S=e.trim(I.$control_input.val()),E=I.search(S),O=I.$dropdown_content,M=I.$activeOption&&d(I.$activeOption.attr("data-value"));for(s=E.items.length,"number"==typeof I.settings.maxOptions&&(s=Math.min(s,I.settings.maxOptions)),o={},l=[],a=0;a<s;a++)for(c=I.options[E.items[a].id],u=I.render("option",c),p=c[I.settings.optgroupField]||"",i=0,r=(m=e.isArray(p)?p:[p])&&m.length;i<r;i++)p=m[i],I.optgroups.hasOwnProperty(p)||(p=""),o.hasOwnProperty(p)||(o[p]=[],l.push(p)),o[p].push(u);for(this.settings.lockOptgroupOrder&&l.sort((function(e,t){return(I.optgroups[e].$order||0)-(I.optgroups[t].$order||0)})),h=[],a=0,s=l.length;a<s;a++)p=l[a],I.optgroups.hasOwnProperty(p)&&o[p].length?(g=I.render("optgroup_header",I.optgroups[p])||"",g+=o[p].join(""),h.push(I.render("optgroup",e.extend({},I.optgroups[p],{html:g})))):h.push(o[p].join(""));if(O.html(h.join("")),I.settings.highlight&&E.query.length&&E.tokens.length)for(a=0,s=E.tokens.length;a<s;a++)n(O,E.tokens[a].regex);if(!I.settings.hideSelected)for(a=0,s=I.items.length;a<s;a++)I.getOption(I.items[a]).addClass("selected");(y=I.canCreate(S))&&(O.prepend(I.render("option_create",{input:S})),v=e(O[0].childNodes[0])),I.hasOptions=E.items.length>0||y,I.hasOptions?(E.items.length>0?((b=M&&I.getOption(M))&&b.length?f=b:"single"===I.settings.mode&&I.items.length&&(f=I.getOption(I.items[0])),f&&f.length||(f=v&&!I.settings.addPrecedence?I.getAdjacentOption(v,1):O.find("[data-selectable]:first"))):f=v,I.setActiveOption(f),t&&!I.isOpen&&I.open()):(I.setActiveOption(null),t&&I.isOpen&&I.close())},addOption:function(t){var a,n,i;if(e.isArray(t))for(a=0,n=t.length;a<n;a++)this.addOption(t[a]);else(i=this.registerOption(t))&&(this.userOptions[i]=!0,this.lastQuery=null,this.trigger("option_add",i,t))},registerOption:function(e){var t=d(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=d(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,a){var n,i,r,s,o,l,c;if(t=d(t),r=d(a[this.settings.valueField]),null!==t&&this.options.hasOwnProperty(t)){if("string"!=typeof r)throw new Error("Value must be set in option data");c=this.options[t].$order,r!==t&&(delete this.options[t],-1!==(s=this.items.indexOf(t))&&this.items.splice(s,1,r)),a.$order=a.$order||c,this.options[r]=a,o=this.renderCache.item,l=this.renderCache.option,o&&(delete o[t],delete o[r]),l&&(delete l[t],delete l[r]),-1!==this.items.indexOf(r)&&(n=this.getItem(t),i=e(this.render("item",a)),n.hasClass("active")&&i.addClass("active"),n.replaceWith(i)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(e,t){e=d(e);var a=this.renderCache.item,n=this.renderCache.option;a&&delete a[e],n&&delete n[e],delete this.userOptions[e],delete this.options[e],this.lastQuery=null,this.trigger("option_remove",e),this.removeItem(e,t)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,a){var n=this.$dropdown.find("[data-selectable]"),i=n.index(t)+a;return i>=0&&i<n.length?n.eq(i):e()},getElementWithValue:function(t,a){if(null!=(t=d(t)))for(var n=0,i=a.length;n<i;n++)if(a[n].getAttribute("data-value")===t)return e(a[n]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,a){for(var n=e.isArray(t)?t:[t],i=0,r=n.length;i<r;i++)this.isPending=i<r-1,this.addItem(n[i],a)},addItem:function(t,a){h(this,a?[]:["change"],(function(){var n,i,r,s,o,l=this.settings.mode;t=d(t),-1===this.items.indexOf(t)?this.options.hasOwnProperty(t)&&("single"===l&&this.clear(a),"multi"===l&&this.isFull()||(n=e(this.render("item",this.options[t])),o=this.isFull(),this.items.splice(this.caretPos,0,t),this.insertAtCaret(n),(!this.isPending||!o&&this.isFull())&&this.refreshState(),this.isSetup&&(r=this.$dropdown_content.find("[data-selectable]"),this.isPending||(i=this.getOption(t),s=this.getAdjacentOption(i,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==l),s&&this.setActiveOption(this.getOption(s))),!r.length||this.isFull()?this.close():this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",t,n),this.updateOriginalInput({silent:a})))):"single"===l&&this.close()}))},removeItem:function(e,t){var a,n,i;a="object"==typeof e?e:this.getItem(e),e=d(a.attr("data-value")),-1!==(n=this.items.indexOf(e))&&(a.remove(),a.hasClass("active")&&(i=this.$activeItems.indexOf(a[0]),this.$activeItems.splice(i,1)),this.items.splice(n,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(e)&&this.removeOption(e,t),n<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:t}),this.positionDropdown(),this.trigger("item_remove",e,a))},createItem:function(t,a){var n=this,i=n.caretPos;t=t||e.trim(n.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof a&&(a=!0),!n.canCreate(t))return r(),!1;n.lock();var s="function"==typeof n.settings.create?this.settings.create:function(e){var t={};return t[n.settings.labelField]=e,t[n.settings.valueField]=e,t},o=m((function(e){if(n.unlock(),!e||"object"!=typeof e)return r();var t=d(e[n.settings.valueField]);if("string"!=typeof t)return r();n.setTextboxValue(""),n.addOption(e),n.setCaret(i),n.addItem(t),n.refreshOptions(a&&"single"!==n.settings.mode),r(e)})),l=s.apply(this,[t,o]);return void 0!==l&&o(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0)),this.refreshClasses()},refreshClasses:function(){var t=this.isFull(),a=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",a).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!e.isEmptyObject(this.options)).toggleClass("has-items",this.items.length>0),this.$control_input.data("grow",!t&&!a)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,a,n,i;if(e=e||{},1===this.tagType){for(n=[],t=0,a=this.items.length;t<a;t++)i=this.options[this.items[t]][this.settings.labelField]||"",n.push('<option value="'+u(this.items[t])+'" selected="selected">'+u(i)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),this.$input.html(n.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(e.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||this.settings.hideDropdown||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var e=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput(),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),e&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:e}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(t){var a=Math.min(this.caretPos,this.items.length);0===a?this.$control.prepend(t):e(this.$control[0].childNodes[a]).before(t),this.setCaret(a+1)},deleteSelection:function(t,a){var n,i,r,s,o,l,c,d,u;if(r=a||void 0===a&&t&&8===t.keyCode?-1:1,s=g(this.$control_input[0]),this.$activeOption&&!this.settings.hideSelected&&(c=this.getAdjacentOption(this.$activeOption,-1).attr("data-value")),o=[],this.$activeItems.length){for(u=this.$control.children(".active:"+(r>0?"last":"first")),l=this.$control.children(":not(input)").index(u),r>0&&l++,n=0,i=this.$activeItems.length;n<i;n++)o.push(e(this.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(r<0&&0===s.start&&0===s.length?o.push(this.items[this.caretPos-1]):r>0&&s.start===this.$control_input.val().length&&o.push(this.items[this.caretPos]));if(!o.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[o]))return!1;for(void 0!==l&&this.setCaret(l);o.length;)this.removeItem(o.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),c&&(d=this.getOption(c)).length&&this.setActiveOption(d),!0},advanceSelection:function(e,t){var a,n,i,r,s;0!==e&&(this.rtl&&(e*=-1),a=e>0?"last":"first",n=g(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(r=this.$control_input.val().length,(e<0?0===n.start&&0===n.length:n.start===r)&&!r&&this.advanceCaret(e,t)):(s=this.$control.children(".active:"+a)).length&&(i=this.$control.children(":not(input)").index(s),this.setActiveItem(null),this.setCaret(e>0?i+1:i)))},advanceCaret:function(e,t){var a,n;0!==e&&(a=e>0?"next":"prev",this.isShiftDown?(n=this.$control_input[a]()).length&&(this.hideInput(),this.setActiveItem(n),t&&t.preventDefault()):this.setCaret(this.caretPos+e))},setCaret:function(t){var a,n,i,r;if(t="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,t)),!this.isPending)for(a=0,n=(i=this.$control.children(":not(input)")).length;a<n;a++)r=e(i[a]).detach(),a<t?this.$control_input.before(r):this.$control.append(r);this.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var t=this.eventNS,a=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(a.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:a.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),e(window).off(t),e(document).off(t),e(document.body).off(t),delete this.$input[0].selectize},render:function(e,t){var a,n,i="",r=!1,s=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==e&&"item"!==e||(r=!!(a=d(t[this.settings.valueField]))),r&&(c(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(a))?this.renderCache[e][a]:(i=this.settings.render[e].apply(this,[t,u]),"option"!==e&&"option_create"!==e||(i=i.replace(s,"<$1 data-selectable")),"optgroup"===e&&(n=t[this.settings.optgroupValueField]||"",i=i.replace(s,'<$1 data-group="'+p(u(n))+'"')),"option"!==e&&"item"!==e||(i=i.replace(s,'<$1 data-value="'+p(u(a||""))+'"')),r&&(this.renderCache[e][a]=i),i)},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return(e.length||this.settings.allowCreateEmpty)&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),y.count=0,y.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,selectOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,allowCreateEmpty:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",manualInputWidth:!1,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var a=e.fn.selectize.defaults,n=e.extend({},a,t),i=n.dataAttr,r=n.labelField,s=n.valueField,o=n.optgroupField,l=n.optgroupLabelField,c=n.optgroupValueField;return this.each((function(){if(!this.selectize){var u=e(this),p=this.tagName.toLowerCase(),m=u.attr("placeholder")||u.attr("data-placeholder");m||n.allowEmptyOption||(m=u.children('option[value=""]').text());var h={placeholder:m,options:[],optgroups:[],items:[]};"select"===p?function(t,a){var u,p,m,h,g=a.options,y={},f=function(e){var t=i&&e.attr(i);return"string"==typeof t&&t.length?JSON.parse(t):null},b=function(t,i){t=e(t);var l=d(t.attr("value"));if(l||n.allowEmptyOption)if(y.hasOwnProperty(l)){if(i){var c=y[l][o];c?e.isArray(c)?c.push(i):y[l][o]=[c,i]:y[l][o]=i}}else{var u=f(t)||{};u[r]=u[r]||t.text(),u[s]=u[s]||l,u[o]=u[o]||i,y[l]=u,g.push(u),t.is(":selected")&&a.items.push(l)}},v=function(t){var n,i,r,s,o;for((r=(t=e(t)).attr("label"))&&((s=f(t)||{})[l]=r,s[c]=r,a.optgroups.push(s)),n=0,i=(o=e("option",t)).length;n<i;n++)b(o[n],r)};for(a.maxItems=t.attr("multiple")?null:1,u=0,p=(h=t.children()).length;u<p;u++)"optgroup"===(m=h[u].tagName.toLowerCase())?v(h[u]):"option"===m&&b(h[u])}(u,h):function(t,a){var o,l,c,d,u=t.attr(i);if(u)for(a.options=JSON.parse(u),o=0,l=a.options.length;o<l;o++)a.items.push(a.options[o][s]);else{var p=e.trim(t.val()||"");if(!n.allowEmptyOption&&!p.length)return;for(o=0,l=(c=p.split(n.delimiter)).length;o<l;o++)(d={})[r]=c[o],d[s]=c[o],a.options.push(d);a.items=c}}(u,h),new y(u,e.extend(!0,{},a,h,t))}}))},e.fn.selectize.defaults=y.defaults,e.fn.selectize.support={validity:l},y.define("remove_button",(function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var a,n=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+u(t.title)+'">'+t.label+"</a>",r=function(e,t){var a=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,a)+t+e.substring(a)};this.setup=(a=n.setup,function(){if(t.append){var s=n.settings.render.item;n.settings.render.item=function(e){return r(s.apply(this,arguments),i)}}a.apply(this,arguments),this.$control.on("click","."+t.className,(function(t){if(t.preventDefault(),!n.isLocked){var a=e(t.currentTarget).parent();n.setActiveItem(a),n.deleteSelection()&&n.setCaret(n.items.length)}}))})}})),y.define("restore_on_backspace",(function(e){var t,a=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=a.onKeyDown,function(a){var n,i;return 8===a.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(n=this.caretPos-1)>=0&&n<this.items.length?(i=this.options[this.items[n]],this.deleteSelection(a,!0)&&(this.setTextboxValue(e.text.apply(this,[i])),this.refreshOptions(!0)),void a.preventDefault()):t.apply(this,arguments)})})),y.define("restore_on_focus",(function(e){e.text=e.text||function(e){return e[this.settings.labelField]};var t=this.onFocus;this.onFocus=function(a){var n=this.caretPos-1;if(n>=0&&n<this.items.length){var i=this.options[this.items[n]],r=e.text.call(this,i);this.removeItem(i[this.settings.valueField]),this.setTextboxValue(r),this.refreshOptions(!0)}return t.apply(this,arguments)}})),y})?d.apply(t,u):d)||(e.exports=p)}).call(this,a("EVdn"))},ZEoo:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("6FMj"),l=(a("slDQ"),a("cgRT"));class c extends r.Component{constructor(e,t){super(e,t),this.page=e.page}getChildContext(){return{metricsPage:this.page}}componentDidMount(){const{children:e,isDelegated:t,...a}=this.props;t||window.requestAnimationFrame(()=>{Object(l.c)("metrics").trackView(a)})}componentWillReceiveProps(e){}componentDidUpdate(e){const{children:t,isDelegated:a,...n}=e,{children:i,isDelegated:r,...s}=this.props,c=a!==r||!Object(o.a)(n,s);!r&&c&&Object(l.c)("metrics").trackView(s)}render(){return this.props.children?s.a.Children.only(this.props.children):null}}c.childContextTypes={metricsPage:i.a.string.isRequired},t.a=c},ZGgN:function(e,t,a){"use strict";t.a=function(e,t,a){return e.reduce((e,n)=>(e[t(n)]=a(n),e),{})}},ZKO5:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("66GW"),l=a("rXDx"),c=a("vtVQ"),d=a("CpQb"),u=a("buR4"),p=a.n(u),m=d.a.ItemView.extend({className:"player-slider",template:p.a,dragging:!1,ui:{thumb:".player-slider-thumb",track:".player-slider-track",progress:".player-slider-progress"},events:{mousedown:"onMouseDown",touchstart:"onTouchStart"},onlyAfterRender:["displayValue"],initialize:function(e){s.a.bindAll(this,"onMouseMove","onMouseUp","onTouchMove","onTouchEnd"),this.$document=i()(document),this.currentValue=e.value||0},startDragging:function(){this.dragging=!0,this.$el.addClass("active")},stopDragging:function(){this.dragging=!1,this.$el.removeClass("active"),this.triggerMethod("dragComplete")},updateForPosition:function(e,t){var a=this.getValueForPosition(e);this.setValue(a)&&this.displayValue(a,t)},getValueForPosition:function(e){var t=this.ui.track,a=(e-t.offset().left)/t.width();return a=Math.min(Math.max(a,0),1),a=Math.round(100*a)},setValue:function(e){return this.currentValue=e,this.trigger("change:value",e),!0},displayValue:function(e,t){this.ui.thumb.css("left",e+"%"),this.ui.progress.css("width",e+"%"),this.$el.data("value",e)},onRender:function(){this.displayValue(this.currentValue)},onClose:function(){this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd)},onMouseDown:function(e){e.preventDefault(),this.$document.on("mousemove",this.onMouseMove),this.$document.on("mouseup",this.onMouseUp),this.startDragging(),this.setValue(this.getValueForPosition(e.pageX))},onTouchStart:function(e){this.$document.on("touchmove",this.onTouchMove),this.$document.on("touchend",this.onTouchEnd),this.startDragging();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseMove:function(e){e.preventDefault(),this.updateForPosition(e.pageX)},onTouchMove:function(e){e.preventDefault();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseUp:function(e){e.preventDefault(),this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.updateForPosition(e.pageX),this.stopDragging()},onTouchEnd:function(e){this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd);var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX),this.stopDragging()}}),h=a("999L"),g=a.n(h),y=m.extend({tagName:"span",className:"rating star-rating",template:g.a,disabled:!0,modelEvents:{"change:rating":"onRatingChange","change:userRating":"onRatingChange"},events:s.a.extend({mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},m.prototype.events),initialize:function(e){m.prototype.initialize.apply(this,arguments);var t=this.model.server.get("shared")&&!this.model.server.get("multiuser");this.disabled=e.disabled||t,this.passive=e.passive,this.updateRating()},updateRating:function(){this.metadataRating=this.model.get("rating")||0,this.userRating=this.model.get("userRating"),this.setValue(this.userRating>0?this.userRating:this.metadataRating)},normalizeRating:function(e){return Math.round(e/2)},serializeData:function(){var e=this.normalizeRating(this.currentValue);return{stars:[e>0,e>1,e>2,e>3,e>4]}},getValueForPosition:function(e){var t=this.$el,a=(e-t.offset().left)/t.width();return a=Math.min(Math.max(a,0),1),a=2*Math.ceil(5*a)},persistValue:function(){var e=this.currentValue||-1;c.a.execute("rate",{item:this.model,rating:e,passive:this.passive}),this.updateRating(),this.render()},displayValue:function(e){this.$el.data("value",e);var t=this.normalizeRating(e);this.$(".star-icon").each((function(e){var a=t>e;i()(this).toggleClass("star",a).toggleClass("dislikes",!a)})),this.$el.toggleClass("unrated",!e)},onRender:function(){m.prototype.onRender.apply(this,arguments),this.$el.toggleClass("unrated",!this.currentValue),this.$el.toggleClass("user-rating",this.userRating>0),this.$el.toggleClass("disabled",this.disabled)},onRatingChange:function(e,t){this.updateRating(),this.render()},onMouseEnter:function(e){this.disabled||(this.$el.addClass("user-rating"),this.$el.removeClass("unrated"))},onMouseLeave:function(e){this.disabled||this.render()},onMouseMove:function(e){if(!this.disabled)if(this.dragging)this.updateForPosition(e.pageX);else{var t=this.getValueForPosition(e.pageX);this.displayValue(t)}},onDragComplete:function(){this.disabled||this.persistValue()}}),f=a("yauL"),b=a("+RUx"),v=function(e,t){var a=i()(t),n=a.attr("name"),r=n.replace(/parentTitle$/,"parentRatingKey");r===n&&(r=null);var l,c=e.model.getQueryAttr(n),d=e.model.getQueryAttrSibling(n),u=c!==n,p=u?"title":n,m=u?"ratingKey":p,h=e.model.get("type");l=u?c.match(/(^.*)\./)[1]:"title"===p?h:null;var g=a.data("scopeToAttr"),y=a.data("scopeToParam"),f=a.data("ratingKey"),v=!f;f&&(f=f.toString());var I=!u,S={};y&&e.listenTo(e,"reset_selectize:"+y,(function(){w.loadedSearches={}}));var E,O,M=e.model["original.updateValues."+n];M?(E=M.updateAttr,O=M.altUpdateAttr):(E=e.model.get(n),r&&(O=parseInt(e.model.get(r),10)),e.model["original.updateValues."+n]={updateAttr:E,altUpdateAttr:O});var C=e.model["original.general."+n];if(!C){C=[];var j={};j[p]=E,j.ratingKey=f,C=[j],e.model["original.general."+n]=C}var D=[e.model.get(r)||e.model.get(n)],P=function(){var e=w.$dropdown_content.children();w.$dropdown.toggleClass("hidden",e.length<=1)},T=function(){s.a.defer(P)};a.data("autocompleteAttr",p),a.data("updateAttr",n),r&&a.data("altUpdateAttr",r);var w=a.selectize({options:C,items:D,plugins:["restore_on_focus"],delimiter:null,create:!0,maxItems:1,labelField:p,valueField:m,sortField:p,searchField:[p],selectOnTab:!0,hideSelected:!1,highlight:!1,openOnFocus:!0,selectOnBlur:!0,createOnBlur:!0,persist:!0,addPrecedence:!0,allowEmptyOption:!0,allowCreateEmpty:I,manualInputWidth:!0,loadingClass:"",onFocus:function(){w.preloaded||(w.preloaded=!0,w.onSearchChange(w.$control_input.val()))},createFilter:function(e){return S[p]=e,!s()(this.options).findWhere(S)},load:function(t,a){if(t.length){var n={};if(n[c]=t,g){var i=e.model.get(g);if(!i)return void a();n[y]=i}new b.a([],{server:e.model.server,multiMetadataItem:e.model,query:n}).fetch().done((function(e){a(e.map((function(e){return e.toJSON()}))),P()}))}else a()},render:{option:function(e,t){var a;return a=(r?e.ratingKey===String(O):e[p]===E)?'<small class="autocomplete-annotate pull-right">('+(l&&!v?Object(o.default)("this {1}",l):Object(o.default)("original value"))+")</small>":"","<div>"+t(e[p])+a+"</div>"},option_create:function(e,t){return e.input?'<div class="create">'+t(e.input)+"</div>":'<div class="create hidden"></div>'}},onDropdownClose:function(){w.$dropdown.addClass("hidden")},onDropdownOpen:function(){w.$dropdown.addClass("hidden"),T()},onType:s.a.bind((function(e){if(w.canCreate(e)){var t=i()(w.$dropdown_content[0].childNodes[0]);w.setActiveOption(t)}T(),this.onLockableFieldChange({currentTarget:w.$input,force:!0})}),e),onOptionAdd:function(e,t){var a=s.a.pick(t,p,"ratingKey");s.a.findWhere(C,a)||C.splice(C.length,0,t)},onChange:function(t){var i=this.options[t];if(i){if(u){var r=i.ratingKey===i[p];a.data("isText",r)}e.flushChanges();var o=e.model.changedAttributes();s.a.has(o,c)||s.a.has(o,d)?e.trigger("focusSubmit"):s.a.defer((function(){w.onBlur()})),e.trigger("reset_selectize:"+n),P()}}})[0].selectize;w.$dropdown.addClass("hidden")},I=a("611r"),S=a.n(I),E=a("FQAj"),O=a.n(E),M=a("L6Cy"),C=a.n(M),j=a("eEL/"),D=a.n(j),P=a("PHkR"),T=a.n(P),w=a("WQVZ"),N=a.n(w),x=a("K5nX"),A=a.n(x),L=a("B8UO"),k=a.n(L),R=a("e/8p"),z=a.n(R),U=a("HAvv"),V=a.n(U),B=a("FePx"),F=a.n(B);function H(e){return s.a.reduce(e,(function(e,t){return e[t]=!0,e}),{})}var _={movie:T.a,show:V.a,season:z.a,episode:D.a,artist:O.a,album:S.a,track:F.a,photoalbum:N.a,photo:A.a,playlist:k.a,collection:C.a},W=f.a.extend({regions:{ratingRegion:".rating-region"},ui:s.a.extend({selectizeInputs:".selectize input[type=text]"},f.a.prototype.ui),initialize:function(e){const t=this.model.get("type"),a=l.getMetadataType(t);this.template=_[t]||_[l.MOVIE],this.canSelectize=this.model.server.supports("batchEdit")&&a,this.canReparent=this.model.server.supports("batchEdit")},serializeData(){return{...f.a.prototype.serializeData.apply(this),supportsLinkedYears:this.model.server.supports("linkedYearMetadata"),section:this.model.section,metadataTypeName:this.model.get("type")}},flushChanges:function(){var e=this.ui.form;if(e&&e.find){var t=e.find(".selectize input[tabindex=-1]"),a=H(s.a.pluck(t,"name")),n=H(s.a.pluck(e.find("[type=number]"),"name")),r=s()(e.serializeArray()).reject((function(e){return a[e.name]}),this),o=s.a.reduce(r,(function(e,t){if(n[t.name]){var a=t.value.trim();if(a)return e[t.name]=parseFloat(a,10),e;if(!this.model.get(t.name))return e}return e[t.name]=t.value,e}),{},this);s.a.each(t,(function(e){var t=i()(e),a=t.data("updateAttr"),n=t.data("altUpdateAttr"),r=t.data("isText"),s=e.selectize.getValue();if(n)if(r)o[a]=s,o[n]=null;else{var l=e.selectize.options[s];if(l){var c=l[t.data("autocompleteAttr")];o[a]=c,o[n]=s}}else o[a]=s}));var l=this.model.get("lockedFields");l&&l.set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(o)}},markInvalid:function(e){this.$(".form-group").removeClass("has-error"),s()(e).each((function(e){var t=this.$('.form-group[data-attr="'+e+'"]');t.addClass("has-error"),t.find(".control-error").text(Object(o.default)("Required"))}),this)},onRender:function(){if(this.$(".rating-region").length>0&&this.ratingRegion.show(new y({model:this.model,passive:!0})),this.canSelectize){var e=this;this.ui.selectizeInputs.each((function(t,a){v(e,a)}))}}});t.a=W},ZLEm:function(e,t){const a="id"+Date.now();let n=0;e.exports=function(e){return`${e||a}${n++}`}},ZLfv:function(e,t,a){"use strict";a("slDQ");var n=a("ZTgP");t.a=function(e){return{"X-Plex-Drm":e||n.NONE}}},ZQAG:function(e,t,a){e.exports={container:"ShareRestrictionsCheckInputItem-container-1-3RL4",subtitle:"ShareRestrictionsCheckInputItem-subtitle-1-x2eT"}},ZQel:function(e,t,a){e.exports={container:"TimelinePageContent-container-2lbp-W",stack:"TimelinePageContent-stack-2iWVFV PageContent-pageContent-16mK6G",adornment:"TimelinePageContent-adornment-1VLRtf",scroller:"TimelinePageContent-scroller-3tS5Jx"}},ZRqN:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("/MKj"),s=a("0jae"),o=a("yO9Y"),l=a("7qsM"),c=a("mMra"),d=a("ZEoo"),u=a("kSXg"),p=a("h1VY"),m=a.n(p);var h=function(e){const{children:t,metricsPage:a,metricsProperties:n,isMetricsDelegated:r,...s}=e;return i.a.createElement(d.a,{...n,page:a,isDelegated:r},i.a.createElement(u.a,{className:m.a.page,...s},t))};const g={dispatchChangeBackground:l.a,dispatchResetBackground:l.c,dispatchGarbageCollectEntities:o.u};class y extends n.Component{constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidMount(){this.props.disableBackgroundPreset||this.props.dispatchChangeBackground({allowLightPreset:this.props.allowBackgroundLightPreset})}componentWillUnmount(){const{dispatchResetBackground:e,dispatchGarbageCollectEntities:t}=this.props;e(),t()}componentDidCatch(e){s.a.error(e),this.setState({hasError:!0})}render(){const{dispatchChangeBackground:e,dispatchResetBackground:t,dispatchGarbageCollectEntities:a,disableBackgroundPreset:n,allowBackgroundLightPreset:r,...s}=this.props,{hasError:o}=this.state;return o?i.a.createElement(c.a,null):i.a.createElement(h,{...s})}}y.defaultProps={disableBackgroundPreset:!1,allowBackgroundLightPreset:!1};t.a=Object(r.b)(null,g)(y)},ZTgP:function(e,t,a){"use strict";a.r(t),a.d(t,"FAIRPLAY",(function(){return r})),a.d(t,"FAIRPLAY_AUDIO",(function(){return s})),a.d(t,"FAIRPLAY_VIDEO",(function(){return o})),a.d(t,"PLAYREADY",(function(){return l})),a.d(t,"PLAYREADY_AUDIO",(function(){return c})),a.d(t,"PLAYREADY_VIDEO",(function(){return d})),a.d(t,"WIDEVINE",(function(){return u})),a.d(t,"WIDEVINE_AUDIO",(function(){return p})),a.d(t,"WIDEVINE_VIDEO",(function(){return m})),a.d(t,"NONE",(function(){return h}));var n=a("nVBp"),i=a("pXC0");const r=Object(n.a)("fairplay"),s=Object(n.a)("fairplay",i.a),o=Object(n.a)("fairplay",i.e),l=Object(n.a)("playready"),c=Object(n.a)("playready",i.a),d=Object(n.a)("playready",i.e),u=Object(n.a)("widevine"),p=Object(n.a)("widevine",i.a),m=Object(n.a)("widevine",i.e),h=Object(n.a)("none")},ZToC:function(e,t,a){"use strict";a.d(t,"a",(function(){return M}));var n=a("EVdn"),i=a.n(n),r=a("slDQ"),s=a("+X4A"),o=a("Wpyo"),l=a("tibn"),c=a("tqLa"),d=a("0jcA"),u=a("f2wi"),p=a("rXDx"),m=a("vjRy"),h=a("rHf3");let g=0;var y=function(e){g+=1;const t=g.toString(),a={...e.attributes,playQueueItemID:t},n=new h.a(a,{server:e.server,provider:e.provider,parent:e.parent,parse:!0});return n.set("isLocal",!0),n};function f(e,t,a={}){const n=t.get("type"),r=p.getMetadataType(n),o=p.getLeafType(n);if(!r)return i.a.Deferred().reject().promise();if(r.id===o.id){const r=e.get("playQueueItems"),s=t.get("containerKey");if(s&&!r.length&&!a.skipSiblings&&(n===p.TRACK||n===p.EPISODE||n===p.PHOTO)){const e=new m.default([],{server:t.server,provider:t.provider});return e.fetch({url:s}).then(()=>{const t=e.models.map(y);return i.a.Deferred().resolve(t).promise()})}return i.a.Deferred().resolve([y(t)]).promise()}if(p.getChildType(n).id===o.id){const e=s.default.join([t.get("key"),"children"]),a=new m.default([],{server:t.server,provider:t.provider});return a.fetch({url:e}).then(()=>{const e=a.models.map(y);return i.a.Deferred().resolve(e).promise()})}return i.a.Deferred().reject().promise()}function b(e,t,a){const n=t.map(t=>f(e,t,a));return i.a.when(...n).then((...t)=>{const n=[].concat(...t);return e.get("playQueueItems").add(n,a),v(e)})}function v(e,t){const a=e.get("playQueueItems");if(e.get("playQueueSelectedItemID")||!a.length)return i.a.Deferred().resolve(e).promise();if(t){const n=a.findWhere({metadataItem:t}),i=n?n.id:a.at(0).id;e.set("playQueueSelectedItemID",i)}else{const t=e.get("playQueueSelectedItemOffset"),n=a.at(t);e.set("playQueueSelectedItemID",n.id)}return i.a.Deferred().resolve(e).promise()}var I=a("IbpV");function S(e,t,a){const{path:n,model:i,attr:o="key"}=a;if(Object(r.a)(n||i,"A path or a model is required to build a source URI"),t.get("isUniversal")){const t=i&&i.get("source")||Object(d.a)(e.server.get("machineIdentifier"),e.get("identifier")),a=n||i.get(o);return s.default.join([t,a])}return n||c.a.uri(i)}function E(e){return e.metadataItemModel?function(e){const{playQueueModel:t,providerModel:a,playlistModel:n,metadataItemModel:r,containerKey:c,shuffle:d,playAll:m}=e,h=t.get("isUniversal"),g=r.get("type"),y=r.get("subtype"),f=g===p.SHOW,b=g===p.SEASON,v=g===p.EPISODE,I=g===p.PHOTO,E=g===p.CLIP,M=g===p.TRACK,C=!!n||r.get("isPlaylist"),j=r.get("isExtra"),D=!!r.get("radio"),P=O(e);(f||b||v||y===u.PODCAST)&&(P.continuous=1);if((f||b)&&!m&&!d){const e=!r.get("parentKey"),n=f||e?r:new l.a({key:r.get("parentKey")},{server:r.server,provider:r.providerModel});return n.fetch({merge:!0,data:{includeOnDeck:"1"}}).then(()=>{const e=n.get("onDeck"),i=e&&f,s=e&&b&&e.get("parentRatingKey")===r.get("ratingKey");if(i||s)return P.uri=S(a,t,{model:e}),P;if(b){const e=new o.default({containerKey:r.get("childrenKey")},{server:r.server,provider:r.provider,skipCache:!0});return e.fetch().then(()=>{const n=e.get("metadataItems"),i=n.findWhere(e=>!e.get("viewCount"));return P.uri=S(a,t,{model:i||n.first()}),P})}return P.uri=S(a,t,{model:r}),P})}C?n?(h&&(P.uri=S(a,t,{model:n})),P.playlistID=n.get("ratingKey"),P.key=r.get("key")):(h&&(P.uri=S(a,t,{model:r})),P.playlistID=r.get("ratingKey")):(M||I||E&&!j)&&c&&!P.continuous?(P.uri=S(a,t,{path:h?c:"library:///directory/"+encodeURIComponent(c)}),P.key=r.get("key")):P.uri=S(a,t,D&&h?{path:s.default.join(r.get("key"),{includeSharedContent:1})}:{model:r});return i.a.Deferred().resolve(P).promise()}(e):e.metadataItemKey?function(e){const{providerModel:t,playQueueModel:a,metadataItemKey:n}=e,r=a.get("isUniversal"),s=O(e);return s.uri=S(t,a,{path:r?n:"library:///item/"+encodeURIComponent(n)}),i.a.Deferred().resolve(s).promise()}(e):e.metadataItemModels&&e.metadataItemModels.length?function(e){const t=O(e);return t.uri=c.a.uri(null,{items:e.metadataItemModels}),i.a.Deferred().resolve(t).promise()}(e):e.metadataListModel?function(e){const{providerModel:t,playQueueModel:a,metadataListModel:n}=e,r=O(e);return r.uri=S(t,a,{model:n,attr:"containerKey"}),i.a.Deferred().resolve(r).promise()}(e):i.a.Deferred().reject().promise()}function O(e){return{type:e.playQueueModel.get("type"),shuffle:e.shuffle?1:void 0,next:e.next?1:void 0,extrasPrefixCount:e.extrasPrefixCount}}function M(e){const{playQueueModel:t}=e;if(t.get("isLocal"))return function(e){const{next:t,playQueueModel:a,metadataItemModel:n,metadataItemModels:r,metadataListModel:s,skipSiblings:o=!1}=e,l={at:t?a.get("playQueueSelectedItemOffset")+1:void 0};if(n)return f(a,n,{skipSiblings:o}).then(e=>(a.get("playQueueItems").add(e,l),v(a,n)));if(r&&r.length)return b(a,r,l);if(s){const e=s.get("metadataItems").models;return b(a,e,{...l,skipSiblings:!0})}return i.a.Deferred().reject().promise()}(e).then(()=>Object(I.a)(t));const a=t.isNew()?"POST":"PUT";return E(e).then(e=>Object(I.a)(t,{params:e,type:a}).then(null,()=>i.a.Deferred().reject().promise()))}},ZYvM:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("uwA8");function i(e=24){const t=Object(n.a)(e,0,1024);let a="";for(;a.length<t;)a+=Math.random().toString(36).substring(2,t-a.length+2);return a}},ZZ6f:function(e,t,a){e.exports={loadingItem:"PlayHistoryTableRowLoading-loadingItem-1cA2un",alternateLoadingItem:"PlayHistoryTableRowLoading-alternateLoadingItem-2EBh1D PlayHistoryTableRowLoading-loadingItem-1cA2un"}},ZZfJ:function(e,t,a){e.exports={modalHeader:"NowPlayingErrorModal-modalHeader-289q56 ModalHeader-modalHeader-1Kf9RW"}},Zdxz:function(e,t,a){"use strict";t.a=function(e){return e instanceof Promise?e:e instanceof Error?Promise.reject(e):"[object Function]"===Object.prototype.toString.call(null==e?void 0:e.then)?new Promise((t,a)=>{try{e.then(t,a)}catch(e){t(e)}}):Promise.resolve(e)}},Zev7:function(e,t,a){e.exports={label:"InlineInputGroupFormLabel-label-3jkhB9 FormLabel-label-2aLJ9b"}},Zf8S:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="media-poster"></div> <p class="title"></p> <p class="complete-subtitle subtitle hidden"> <i class="glyphicon ok-2"></i> '+l(i(a("d8WC")).call(t,"Synced",{hash:{},data:s}))+' </p> <p class="waiting-subtitle subtitle hidden"> <i class="glyphicon circle-arrow-down"></i> '+l(i(a("d8WC")).call(t,"Waiting to be downloaded",{hash:{},data:s}))+' </p> <p class="downloading-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(i(a("d8WC")).call(t,"Downloading",{hash:{},data:s}))+' &middot; <span class="transcode-progress"></span>% </p> <p class="converting-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(i(a("d8WC")).call(t,"Converting",{hash:{},data:s}))+' &middot; <span class="transcode-progress"></span>% &middot; <span class="transcode-remaining"></span> </p> <p class="processing-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(i(a("d8WC")).call(t,"Waiting to be converted",{hash:{},data:s}))+' </p> <p class="unknown-subtitle subtitle hidden"> <i class="glyphicon circle-question-mark"></i> '+l(i(a("d8WC")).call(t,"Unknown",{hash:{},data:s}))+' </p> <p class="failed-subtitle subtitle hidden"> <i class="glyphicon warning-sign"></i> <span class="error-message"></span> </p> '}))},Zgl5:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("LrNF"),s=a.n(r);t.a=function({children:e,...t}){return i.a.createElement("div",{className:s.a.modalHeader,...t},e)}},Zi5A:function(e,t,a){e.exports={container:"LibraryFilterBuilderRowTag-container-2eCigC",tag:"LibraryFilterBuilderRowTag-tag-3tEm1x",remove:"LibraryFilterBuilderRowTag-remove-3WifL0 TagLabel-remove-27nEke",or:"LibraryFilterBuilderRowTag-or-2CPm8x"}},Zl7H:function(e,t,a){"use strict";function n(e){return e.user}a.d(t,"a",(function(){return n}))},Zp0I:function(e,t,a){"use strict";function n(e){return e.deviceSettings}a.d(t,"a",(function(){return n}))},Zpbf:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("TSYQ"),s=a.n(r),o=a("cftR"),l=a("SBxW"),c=a.n(l);class d extends n.Component{constructor(){super(...arguments),this.onPress=e=>{const{value:t,onSelect:a,onPress:n}=this.props;a&&a(t),n&&n(e)}}render(){const{children:e,className:t,menuLabelClassName:a,iconComponent:n,isSelected:r,selectedIconAriaLabel:l,...d}=this.props;return i.a.createElement(o.a,{className:s()(t,r&&c.a.isSelected),...d,onPress:this.onPress},i.a.createElement("div",{className:c.a.menuItemContainer},i.a.createElement("div",{className:a},e),r?i.a.createElement("div",{className:c.a.selectedIcon},i.a.createElement(n,{"aria-label":l})):null))}}d.defaultProps={className:c.a.menuItemContainer,menuLabelClassName:c.a.menuLabel};var u=d,p=a("66GW"),m=a("4pPT");function h(e){return i.a.createElement(u,{...e,selectedIconAriaLabel:Object(p.default)("Selected")})}h.defaultProps={iconComponent:m.a};t.a=h},ZpxE:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r}));const n=100,i=100,r=700},"ZrA+":function(e,t,a){e.exports={card:"MetadataPosterListItem-card-15XOx1 PosterCard-card-VhPkOe"}},ZrFU:function(e,t,a){e.exports={library:"FriendSharedServerLibraries-library-3L4Qip"}},ZrFe:function(e,t,a){e.exports={pageHeader:"PageHeader-pageHeader-2KNPGd"}},a0eB:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("2pL0"),l=a("wCAT");a("slDQ");function c(e,t,a){return(e-t)/(a-t)*100}var d=a("6uTd"),u=a.n(d);class p extends r.Component{constructor(e,t){super(e,t),this.onMouseDown=e=>{e.preventDefault(),0===e.button&&this._startDrag(e.pageX,e.pageY,!1)},this.onMouseMove=({pageX:e,pageY:t})=>{if(this.state.isDragging)return;const a=this._getValueForPosition(e,t),n=this._trackRef.current.getBoundingClientRect(),i=this.props.isVertical?{x:n.left,y:t}:{x:e,y:n.top};this.props.onMove({position:i,positionValue:a,steppedValue:this._getSteppedValue(a)})},this.onTouchStart=e=>{e.preventDefault();const t=e.touches&&e.touches[0];t&&this._startDrag(t.pageX,t.pageY,!0)},this.onDocumentMouseMove=e=>{this._drag(e.pageX,e.pageY)},this.onDocumentTouchMove=e=>{const t=e.touches&&e.touches[0];t&&this._drag(t.pageX,e.pageY)},this.onDocumentMouseUp=e=>{this._stopDrag(e.pageX,e.pageY)},this.onDocumentTouchEnd=e=>{const t=e.changedTouches&&e.changedTouches[0];t&&this._stopDrag(t.pageX,t.pageY)},this._trackRef=s.a.createRef(),this.state={isDragging:!1}}shouldComponentUpdate(e,t){return Object(l.a)(this,e,t)}componentWillUnmount(){this._stopListeningForDrag()}_listenForDrag(e){e?(document.addEventListener("touchmove",this.onDocumentTouchMove),document.addEventListener("touchcancel",this.onDocumentTouchEnd),document.addEventListener("touchend",this.onDocumentTouchEnd)):(document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp))}_stopListeningForDrag(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("touchmove",this.onDocumentTouchMove),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("touchcancel",this.onDocumentTouchEnd),document.removeEventListener("touchend",this.onDocumentTouchEnd)}_startDrag(e,t,a){this._changeValue(this._getValueForPosition(e,t)),this._listenForDrag(a),this.props.onDragStart&&this.props.onDragStart()}_drag(e,t){this.state.isDragging||(document.body.classList.add(u.a.isDragging),this.setState({isDragging:!0})),this._changeValue(this._getValueForPosition(e,t))}_stopDrag(e,t){document.body.classList.remove(u.a.isDragging),this._stopListeningForDrag();const a=this._getValueForPosition(e,t),n=this._getSteppedValue(a);this._changeValue(a),this.setState({isDragging:!1}),this.props.onDragComplete&&this.props.onDragComplete({positionValue:a,steppedValue:n})}_getValueForPosition(e,t){const{isVertical:a,min:n,max:i}=this.props,r=this._trackRef.current,s=r.getBoundingClientRect();let o;if(a){const e=t-document.body.scrollTop;o=(s.bottom-e)/r.offsetHeight}else{o=(e-document.body.scrollLeft-s.left)/r.offsetWidth}return o=Math.min(Math.max(o,0),1),(i-n)*o+n}_getSteppedValue(e){const{min:t,max:a,stepSize:n}=this.props;if(!n)return e;const i=Math.round(e/n)*n;return Math.min(Math.max(i,t),a)}_getStickyValue(e){const{max:t,min:a,stepSize:n,stickiness:i}=this.props;if(!n||!i)return e;const r=this._getSteppedValue(e);return Math.abs(r-e)/(t-a)<i/100?r:e}_changeValue(e){const{value:t}=this.props;e!==t&&this.props.onChange({positionDelta:e-t,positionValue:e,steppedValue:this._getSteppedValue(e)})}render(){const{style:e,className:t,trackClassName:a,secondaryFillClassName:n,fillClassName:r,thumbClassName:l,thumbTrackClassName:d,label:p,tabIndex:m,value:h,min:g,max:y,secondaryMin:f,secondaryMax:b,showSecondaryFill:v,showFill:I,autoHideThumb:S,isDisabled:E,isVertical:O,onMove:M,onMouseEnter:C,onMouseLeave:j,onWheel:D}=this.props,{isDragging:P}=this.state,T=c(this._getStickyValue(h),g,y);let w="left",N="scaleX",x="translateX";O&&(w="top",N="scaleY",x="translateY");const A=`${x}(${O?-T:T}%)`,L=f?c(this._getStickyValue(f),g,y):0,k=b?c(this._getStickyValue(b),g,y):0,R=`${N}(${Math.max((T-L)/100,0)})`,z=`${N}(${Math.max((k-L)/100,0)})`;return s.a.createElement("div",{style:e,className:i()(t,E&&u.a.isDisabled,P&&u.a.isDragging,S&&u.a.hasAutoHideThumb),onWheel:E?null:D,onMouseEnter:E?null:C,onMouseLeave:E?null:j,onMouseDown:E?null:this.onMouseDown,onMouseMove:E||!M?null:this.onMouseMove,onTouchStart:E?null:this.onTouchStart},s.a.createElement("div",{className:a,ref:this._trackRef},v?s.a.createElement("div",{className:n,style:{[w]:f?L+"%":void 0,WebkitTransform:z,msTransform:z,transform:z}}):null,I?s.a.createElement("div",{className:r,style:{[w]:f?L+"%":void 0,WebkitTransform:R,msTransform:R,transform:R}}):null),s.a.createElement("div",{className:d,style:{WebkitTransform:A,msTransform:A,transform:A}},s.a.createElement(o.a,{className:l,role:"slider",tabIndex:m,"aria-labelledby":p,"aria-valuemin":g,"aria-valuemax":y,"aria-valuenow":h,onMouseDown:this.onMouseDown,onMouseMove:M&&this.onMouseMove,onTouchStart:this.onTouchStart})))}}p.defaultProps={className:u.a.slider,trackClassName:u.a.track,fillClassName:u.a.fill,secondaryFillClassName:u.a.secondaryFill,thumbClassName:u.a.thumb,thumbTrackClassName:u.a.thumbTrack,min:0,max:100,stepSize:0,stickiness:10,showFill:!1,showSecondaryFill:!1,autoHideThumb:!1,isDisabled:!1,isDragging:!1,isVertical:!1};t.a=p},a4Cb:function(e,t,a){const n=a("F/us");e.exports=function(e){return function(){return e.apply(this,n.initial(arguments))}}},"a4j+":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("pXC0"),i=a("rXDx");function r(e){const{type:t,isLibraryItem:a,isExtra:r,Media:s}=e,o=Object(i.getMetadataType)(t);if(!o)return!1;const l=s.length;return a&&!r&&o.mediaType===n.e&&l>1}},a5AD:function(e,t,a){e.exports={overlay:"EPGSimpleSummaryRow-overlay-_9nutN",titleContainer:"EPGSimpleSummaryRow-titleContainer-1yXAoS",primaryTitle:"EPGSimpleSummaryRow-primaryTitle-2yKXcH",secondaryTitle:"EPGSimpleSummaryRow-secondaryTitle-2rxODA",nextAiringDate:"EPGSimpleSummaryRow-nextAiringDate-2WrxQq",separator:"EPGSimpleSummaryRow-separator-2w771A DashSeparator-separator-4CyEFW",subscriptionIcon:"EPGSimpleSummaryRow-subscriptionIcon-2yby63"}},a7ba:function(e,t,a){e.exports={description:"EmptyPageDescription-description-DhEtaD"}},a7m2:function(e,t,a){"use strict";var n=a("q1ww"),i=a("KYea");t.a=function(e){const t=Object(i.a)(n.d).find(([,t])=>t===e);return t?n.d[t[0]]:void 0}},a88H:function(e,t,a){e.exports={card:"QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6"}},aAt6:function(e,t,a){e.exports={container:"PageHeaderTabDropdown-container-24xGAL",button:"PageHeaderTabDropdown-button-3bolBi PageHeaderTabButton-button-1zTdeV Button-button-2kT68l Link-link-2n0yJn",buttonContents:"PageHeaderTabDropdown-buttonContents-GDhP2H",title:"PageHeaderTabDropdown-title-2myggE",disclosureArrow:"PageHeaderTabDropdown-disclosureArrow-sMJzCd DisclosureArrow-disclosureArrow-1KPaBC",isSelected:"PageHeaderTabDropdown-isSelected-FK5pDv"}},aCTI:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-photos-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m440 120l120 0 0 400-560 0 0-400 120 0 0-80 320 0 0 80m-320 200c0 88.306 71.694 160 160 160 88.306 0 160-71.694 160-160 0-88.306-71.694-160-160-160-88.306 0-160 71.694-160 160m80 0c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},aCX2:function(e,t,a){"use strict";var n=a("+X4A"),i=a("CHn6"),r=a("mOXR"),s=a("Q3JP"),o=a("66GW"),l=a("B69o");var c=i.a.extend({name:"LibraryDirectoryModel",context:["server"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:r.a.string,title:r.a.string}});var d=l.a.extend({name:"LibraryDirectoryCollection",context:["server"],model:c}),u=a("2TYq"),p=a("9gKU");const m=i.a.extend({name:"LibraryDetailsModel",context:["server","provider","includeAdvanced"],responseType(){return Object(s.a)(this.server)},url(){const e={includeDetails:1};return this.includeAdvanced&&(e.includeAdvanced=1),n.default.join(this.get("key"),e)},sessionAttrs:{key:r.a.string.isRequired},syncedAttrs:{librarySectionID:r.a.string},syncedRelations:{directories:{relationClass:d,rootPropertyName:"Directory"},types:{relationClass:p.a,rootPropertyName:"Type"},fieldTypes:{relationClass:u.a,rootPropertyName:"FieldType"}},augmentResponse(e){if(e.Directory&&e.Directory.length&&e.Directory.some(({key:e})=>"folder"===e)&&e.Type&&e.Type.length&&e.Type.every(({type:e})=>"folder"!==e)){const t=e.librarySectionID;e.Type.push({key:`/library/sections/${t}/folder`,type:"folder",title:Object(o.default)("Folders")})}return e}});t.a=m},"aG+b":function(e,t,a){"use strict";a.d(t,"b",(function(){return l}));var n=a("eLdf"),i=a("q1ww"),r=a("zDCE"),s=a("a7m2"),o=a("xLRV");function l(e,t){switch(t){case i.c.News:switch(e){case r.b.Clip:return[n.a.Title,n.a.AddedAtChannelTag]}break;case i.c.Podcast:switch(e){case r.b.Show:return[n.a.Title];case r.b.Track:return[n.a.Title,n.a.GrandparentTitle]}break;case i.c.Webshow:switch(e){case r.b.Show:return[n.a.Title];case r.b.Episode:return[n.a.Title,n.a.AddedAtGrandparentTitle]}}switch(e){case r.b.Movie:return[n.a.Title,n.a.Year];case r.b.Show:return[n.a.Title,n.a.ChildCount];case r.b.Season:return[n.a.ParentTitle,n.a.Title];case r.b.Episode:return[n.a.GrandparentTitle,n.a.Title,n.a.EpisodeIdentifier];case r.b.Artist:return[n.a.Title];case r.b.Album:return[n.a.ParentTitle,n.a.TitleAttributed];case r.b.Track:return[n.a.GrandparentTitle,n.a.Title];case r.b.Photo:case r.b.PhotoAlbum:case r.b.Clip:return[n.a.Title];case r.b.Playlist:return[n.a.Title,n.a.Duration];case r.b.Collection:return[n.a.Title,n.a.ChildCount];case r.b.Channels:return[n.a.Title,n.a.AirsAt]}return[n.a.Title]}t.a=function(e){var t;if(!e)return;if(e.DisplayFields)return e;const a=Object(o.a)(e);if(!a)return e;const i=null==(t=a.Sort)?void 0:t.find(e=>e.active);if(!i)return e;const r=Object(s.a)(a.type);if(!r)return e;const c=l(a.type,a.subtype),d=function(e,t){switch(e.key){case"addedAt":return[n.a.AddedAt];case"audienceRating":return[n.a.Rating];case"beginsAt":return[n.a.AirsAt];case"contentRating":return[n.a.ContentRating];case"duration":return[n.a.Duration];case"lastRatedAt":return[n.a.LastRatedAt];case"lastViewedAt":return[n.a.LastViewedAt];case"mediaBitrate":return[n.a.MediaBitrate];case"mediaCount":return[n.a.LeafCount];case"mediaHeight":return[n.a.VideoResolution];case"originallyAvailableAt":return[n.a.OriginallyAvailableAt];case"rating":return[n.a.Rating];case"unviewedLeafCount":return[n.a.UnviewedLeafCount];case"userRating":return[n.a.UserRating];case"viewCount":return[n.a.ViewCount];case"viewOffset":return[n.a.ViewOffset];case"year":return[n.a.Year]}return[]}(i);return e.DisplayFields=[{type:r,subtype:a.subtype,fields:Array.from(new Set([...c,...d]))}],e}},aIE1:function(e,t,a){e.exports={button:"ClaimServerButton-button-2r6HKX SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn"}},aIFf:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("BW9E"),i=a("rXDx");function r(e,t="·"){const{type:a,title:r,parentTitle:s,grandparentTitle:o,index:l,parentIndex:c,originallyAvailableAt:d}=e;switch(a){case i.EPISODE:{let e=`${o} ${t} ${Object(n.a)({seasonIndex:c,episodeIndex:l,date:d,noLeadingZero:!0,separator:" · "})}`;return r&&(e+=` ${t} ${r}`),e}case i.SEASON:case i.ALBUM:return`${s} ${t} ${r}`;case i.TRACK:return`${o} ${t} ${s} ${t} ${r}`;default:return r}}},aJpN:function(e,t,a){e.exports={cardContainer:"MetadataPosterCard-cardContainer-2gRcQF",card:"MetadataPosterCard-card-3bztRc",isFlipped:"MetadataPosterCard-isFlipped-2lUIIU"}},aKOQ:function(e,t,a){"use strict";var n=a("vDqi"),i=a.n(n),r=a("Qyje"),s=a.n(r),o=a("5rFJ"),l=a("0jae"),c=a("+X4A"),d=a("6eR6"),u=a("xcRr"),p=a("ZTgP"),m=a("N368");function h(e){if(!e)return e;const{"X-Plex-Username":t,"X-Plex-Device-Name":a,...n}=e;return n}const g={PUT:!0,DELETE:!0},y={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},f=/(^X-Plex-[^=]+)/i;const b=function(e){const t={...e};function*a(e,a){const{server:n,provider:r,timeout:p=t.timeout,allowHeadersInUrl:b=!(!n&&!r),...v}=a,I={...d.a.hasInstance()?d.a.getInstance():{},...a.headers};let S=e;if(n){if(!Object(m.a)(e)){const t=(null==r?void 0:r.baseURL)?r.baseURL:n.uri;if(!t)throw new Error("Unable to make a request to a relative path without `server.uri` or `baseURL`");S=c.default.join([t,e])}n.accessToken&&(I["X-Plex-Token"]=n.accessToken),n.isEmbedded&&(I["X-Plex-Account-ID"]="1"),r&&(I["X-Plex-Provider-Version"]=t.providerVersion,I["X-Plex-Text-Format"]=Object(u.a)(r.identifier),t.drmType&&(I["X-Plex-Drm"]=t.drmType))}t.language&&(I["X-Plex-Language"]=t.language,I["Accept-Language"]=t.language);const E=i.a.CancelToken.source();let O={...v,url:S,cancelToken:E?E.token:void 0,headers:I,timeout:p,allowHeadersInUrl:b,paramsSerializer:e=>s.a.stringify(e,{arrayFormat:"repeat"})};(null==n?void 0:n.isCloud)&&r&&(O=function(e){return{...e,headers:h(e.headers)}}(O)),O=function(e){const{method:t="GET",headers:a={},params:n={},allowHeadersInUrl:i=!1,allowBlacklistedMethodHeaders:r=!1}=e;if(!i)return e;if(g[t]&&!r)return e;const s={...a},o={...n};return Object.keys(a).forEach(e=>{const t=a[e];y[e]||(f.test(e)?(o[e]=t,delete s[e]):l.a.warn('[CORS] Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',e))}),{...e,headers:s,params:o}}(O);try{return yield Object(o.b)(i.a.request,O)}finally{(yield Object(o.d)())&&(null==E||E.cancel())}}return{get:(e,t={})=>a(e,{...t,method:"GET"}),post:(e,t={},n)=>a(e,{...t,method:"POST",data:n}),put:(e,t={},n)=>a(e,{...t,method:"PUT",data:n}),del:(e,t={})=>a(e,{...t,method:"DELETE"}),setOption(e,a){t[e]=a},toPlainErrorObject(e){let t,a;(function(e){return e.isAxiosError})(e)&&(e.response?(t=e.response.status,a=e.response.data):e.request&&(t=e.request.status));const n={message:e.message,name:e.name,stack:e.stack,status:t,data:a};return l.a.error(n),n}}}({timeout:3e4,language:"en",drmType:p.NONE,providerVersion:"3.2"});t.a=b},aL7q:function(e,t,a){e.exports={event:"AgendaEvent-event-1CGOuE",isComplete:"AgendaEvent-isComplete-1Qgi-m",hasError:"AgendaEvent-hasError-3_JkX6",underlay:"AgendaEvent-underlay-3aB2_X",overlay:"AgendaEvent-overlay-F0jvnJ",statusIcon:"AgendaEvent-statusIcon-2HvuT0",date:"AgendaEvent-date-14otD2",isToday:"AgendaEvent-isToday-WyLYsI",time:"AgendaEvent-time-1gWgjZ",title:"AgendaEvent-title-2XPt5P",titleDetails:"AgendaEvent-titleDetails-1_26SP",status:"AgendaEvent-status-3bBTHT",recording:"AgendaEvent-recording-R38Vn-",recordingProgressBackground:"AgendaEvent-recordingProgressBackground-3zpaH4 CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",recordingIcon:"AgendaEvent-recordingIcon-2abV-I"}},aRTZ:function(e,t,a){"use strict";var n=a("/MKj"),i=a("G4qV"),r=a("hFBU"),s=a("dZ7a"),o=a("T+Fn"),l=a("q1tI"),c=a.n(l),d=a("fxyv"),u=a("qNMu"),p=a("dPq9"),m=a("66GW"),h=a("bCk4");var g=function(e){const{friendlyName:t,isPending:a,onTryAgainPress:n}=e;return c.a.createElement(h.a,{iconSrc:p.a,title:Object(m.default)('The server "{serverName}" is installing an update',{serverName:t}),description:Object(m.default)("Grab a cup of tea. This may take a couple of minutes.")},c.a.createElement(d.a,{isSpinning:a,kind:u.d,onPress:n},Object(m.default)("Retry connection")))};t.a=Object(n.b)((function(){return Object(i.a)(Object(s.a)(),e=>({friendlyName:e.friendlyName,isPending:e.isPending}))}),(function(e,t){const a={serverEntityID:t.serverEntityID};return{onTryAgainPress(){e(Object(o.b)()),e(r.A(a))}}}))(g)},aVib:function(e,t,a){"use strict";var n=a("G4qV"),i=a("X7Ko");const r=Object(n.a)(i.a,e=>e.servers);t.a=r},aY6d:function(e,t,a){"use strict";var n=a("e0Cb"),i=a("2Xys"),r=a("CZ2S"),s=a("CHn6"),o=a("mOXR");const l="json",c={["bool"]:n.a,[l]:r.a},d=s.a.extend({name:"UserSettingModel",context:["server"],sessionAttrs:{isDirty:o.a.boolean},syncedAttrs:{id:o.a.string,type:o.a.string,value:o.a.oneOfType(o.a.boolean,o.a.object),hidden:o.a.boolean,updatedAt:o.a.integer},defaults:{isDirty:!1},augmentResponse(e){const t=this.get("isDirty"),a=this.get("updatedAt"),n=Object(i.a)(e.updatedAt),r=a&&n&&a<n;if(t&&a===n||a&&n&&a>n)return this.toJSON();t&&r&&(e.isDirty=!1);const s=c[e.type];return s&&(e.value=s(e.value)),e}});t.a=d},aYA4:function(e,t,a){e.exports={image:"MetadataPosterCard-image-s6v-v-",selectedLink:"MetadataPosterCard-selectedLink-3ZfYeB PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hoveredSelectedLink:"MetadataPosterCard-hoveredSelectedLink-3RwC7J PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK",progress:"MetadataPosterCard-progress-22M45Z MetadataPosterCardProgressBar-progress-H-gNPX",progressFadeIn:"MetadataPosterCard-progressFadeIn-38gSpR",progressBar:"MetadataPosterCard-progressBar-zObiKO MetadataPosterCardProgressBar-bar-3N2AjG",progressBarSlideIn:"MetadataPosterCard-progressBarSlideIn-38QfS2",badge:"MetadataPosterCard-badge-1wXpHL",badgeFadeIn:"MetadataPosterCard-badgeFadeIn-3LE--7",topRightBadge:"MetadataPosterCard-topRightBadge-3s_SBN MetadataPosterCard-badge-1wXpHL",bottomRightBadge:"MetadataPosterCard-bottomRightBadge-2vjcdU MetadataPosterCard-badge-1wXpHL",legacyNumberBadge:"MetadataPosterCard-legacyNumberBadge-2JeKY_ MetadataPosterCard-badge-1wXpHL",none:"MetadataPosterCard-none-fZPXIA",legacyUnwatchedTagMask:"MetadataPosterCard-legacyUnwatchedTagMask-2vBYMS",legacyUnwatchedTag:"MetadataPosterCard-legacyUnwatchedTag-3f03pS",legacyUnwatchedEpisodesBadge:"MetadataPosterCard-legacyUnwatchedEpisodesBadge-3kelZP MetadataPosterCard-legacyNumberBadge-2JeKY_ MetadataPosterCard-badge-1wXpHL MetadataPosterCard-topRightBadge-3s_SBN MetadataPosterCard-badge-1wXpHL"}},agT0:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return c}));var n=a("66GW"),i=a("1Cr9");const r="little_kid",s="unrestricted",o=Object(i.a)(["identifier"],[{identifier:r,title:()=>Object(n.default)("Younger Kid"),defaultUsername:()=>Object(n.default)("Kids")},{identifier:"older_kid",title:()=>Object(n.default)("Older Kid"),defaultUsername:()=>Object(n.default)("Kids")},{identifier:"teen",title:()=>Object(n.default)("Teen"),defaultUsername:()=>Object(n.default)("Kids")},{identifier:s,title:()=>Object(n.default)("None"),defaultUsername:()=>""}]),l=o.get,c=o.getAll},aon8:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return o+='<div class="row row-loading"> <div class="loading loading-inline"></div> </div> <div class="sync-empty-message row row-padded hidden"> <h4 class="text-muted text-center"> '+(0,this.escapeExpression)((s=a("d8WC"),s&&(s.__esModule?s.default:s)).call(t,"Nothing is synced to this device.",{hash:{},data:r}))+' </h4> </div> <div class="sync-device-message row hidden"> <h4 class="sync-device-message-text text-muted text-center"></h4> </div> <div class="sync-item-list-container"></div> '}))},apI8:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(i(a("d8WC")).call(t,'Choose "Optimize..." on items in your library and optimized versions will appear here.',{hash:{},data:s}))+"</p> <p>"+l(i(a("d8WC")).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:s}))+"</p> </h4> </div> "}))},aqep:function(e,t,a){"use strict";var n=a("B69o"),i=a("blH+"),r=a("Vk9Z"),s=a("zTsO"),o=a("CHn6"),l=a("mOXR");var c=o.a.extend({name:"ProviderActionModel",context:["server","provider"],syncedAttrs:{id:l.a.string,key:l.a.string,reverseKey:l.a.string,requires:l.a.string}});var d=n.a.extend({name:"ProviderActionCollection",context:["server","provider"],model:c}),u=a("0L0C"),p=a("8cH1");var m=o.a.extend({name:"PivotModel",idAttribute:"key",syncedAttrs:{key:l.a.string.isRequired,type:l.a.oneOf(p.a,p.b,p.c).isRequired,id:l.a.string,title:l.a.string.isRequired,context:l.a.string.isRequired,requires:l.a.string,libraryKey:l.a.string}});var h=n.a.extend({name:"PivotCollection",model:m});var g=o.a.extend({name:"ProviderDirectoryModel",context:["server","provider"],syncedAttrs:{id:l.a.string,key:l.a.string,hubKey:l.a.string,title:l.a.string,icon:l.a.string,type:l.a.string,subtype:l.a.string,agent:l.a.string,refreshing:l.a.boolean,updatedAt:l.a.integer,scannedAt:l.a.integer,context:l.a.string},syncedRelations:{pivots:{relationClass:h,rootPropertyName:"Pivot",deferred:!0}}});var y=n.a.extend({name:"ProviderDirectoryCollection",context:["server","provider"],model:g,modelId:e=>e.key||e.hubKey});var f=o.a.extend({name:"ProviderFeatureModel",context:["server","provider"],sessionAttrs:{isSettingsPending:l.a.boolean,isSettingsPopulated:l.a.boolean,settingsError:l.a.object},syncedAttrs:{id:l.a.string,key:l.a.string,reverseKey:l.a.string,scrobbleKey:l.a.string,unscrobbleKey:l.a.string,type:l.a.string,flavor:l.a.string,requires:l.a.string,automaticLibraryFolders:l.a.boolean,public:l.a.boolean,storageTotal:l.a.integer},syncedRelations:{directories:{relationClass:y,rootPropertyName:"Directory",deferred:!0},settings:{relationClass:u.default,rootPropertyName:"Setting",deferred:!0},actions:{relationClass:d,rootPropertyName:"Action",deferred:!0,setOptions:{remove:!1}}},defaults:{isSettingsPending:!0,isSettingsPopulated:!1}});const b=n.a.extend({name:"ProviderFeatureCollection",context:["server","provider"],model:f,modelId:e=>e.type===r.a?e.id:e.type,augmentResponse(e){let t=e.find(e=>e.type===r.b);return null==t||Array.isArray(t.Action)||(t.Action=t.Action?[t.Action]:[]),null==t&&(t={Action:[],type:r.b},e.push(t)),e.forEach(e=>{if(e.type===r.r&&(null!=e.scrobbleKey||null!=e.unscrobbleKey)){const{scrobbleKey:a,unscrobbleKey:n}=e;t.Action.push({id:i.g,key:a,reverseKey:n}),delete e.scrobbleKey,delete e.unscrobbleKey}if(e.type===r.n){const{key:a}=e;t.Action.push({id:i.e,key:a}),delete e.key}if(e.type===r.a&&(null!=e.key||null!=e.reverseKey)){const{key:a,reverseKey:n}=e;t.Action.push({id:e.id,key:a,reverseKey:n}),delete e.key,delete e.reverseKey}e.type===r.b&&e.Action.forEach(e=>{e.id!==i.b&&e.id!==i.a&&e.id!==i.f&&e.id!==i.d&&e.id!==i.c||(e.requires=s.r)}),e.type===r.p&&(e.requires=s.r)}),e}});t.a=b},auJy:function(e,t,a){e.exports={container:"MediaSubscriptionHintPosterTitle-container-1YkOT9",left:"MediaSubscriptionHintPosterTitle-left-2X9d4r",right:"MediaSubscriptionHintPosterTitle-right-3zh2jU",subscriptionBadge:"MediaSubscriptionHintPosterTitle-subscriptionBadge-k6PWnh MetadataPosterCardOverlay-badge-1FU-pf",subscriptionBadgeIcon:"MediaSubscriptionHintPosterTitle-subscriptionBadgeIcon-2JWgb6",titleContainer:"MediaSubscriptionHintPosterTitle-titleContainer-2vZUMc",staticHeightTitleContainer:"MediaSubscriptionHintPosterTitle-staticHeightTitleContainer-3HS2ME MediaSubscriptionHintPosterTitle-titleContainer-2vZUMc"}},awjD:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"e",(function(){return h})),a.d(t,"f",(function(){return g})),a.d(t,"c",(function(){return y})),a.d(t,"d",(function(){return f}));var n,i,r,s,o=a("odh7"),l=a("Xep9"),c=a("WQ3w"),d=a("phiu"),u=a("/Eym"),p=a("sdC+"),m=a("66GW");function h(e){switch(e){case n.RealTime:return Object(m.default)("Real Time");case n.TwelveHours:return Object(m.default)("Last 12 Hours");case n.Day:return Object(m.default)("Last 24 Hours");case n.Week:return Object(m.default)("Last 7 Days");case n.Month:return Object(m.default)("Last 30 Days");case n.NinetyDays:return Object(m.default)("Last 90 Days");case n.Year:return Object(m.default)("Last Year");case n.AllTime:return Object(m.default)("All Time");default:return""}}function g(e){switch(e){case n.RealTime:return 6;case n.TwelveHours:case n.Day:return 4;case n.Week:return 3;case n.Month:case n.NinetyDays:return 2;case n.Year:case n.AllTime:return 1;default:return 3}}function y(e){switch(e){case n.TwelveHours:return Object(o.a)(Object(c.a)(new Date,12));case n.Day:return Object(o.a)(Object(l.a)(new Date,1));case n.Week:return Object(o.a)(Object(u.a)(new Date,1));case n.Month:return Object(o.a)(Object(d.a)(new Date,1));case n.NinetyDays:return Object(o.a)(Object(l.a)(new Date,90));case n.Year:return Object(o.a)(Object(p.a)(new Date,1));case n.AllTime:return 0;default:return}}function f(e,t){switch(e){case n.TwelveHours:return"H:00";case n.Day:return t?"H:00":"HH";case n.Week:case n.Month:case n.NinetyDays:return t?"MMMM do":"MMM d";case n.Year:return t?"MMMM":"MMM";case n.AllTime:return t?"MMMM yyyy":"MMM yy";default:return t?"MMMM do":"MMM d"}}(i=n||(n={})).RealTime="real-time",i.TwelveHours="twelve-hours",i.Day="day",i.Week="week",i.Month="month",i.NinetyDays="ninety-days",i.Year="year",i.AllTime="all-time",(s=r||(r={}))[s.Year=0]="Year",s[s.Month=1]="Month",s[s.Week=2]="Week",s[s.Day=3]="Day",s[s.Hour=4]="Hour",s[s.Minutes=5]="Minutes",s[s.RealTime=6]="RealTime"},"b+Z3":function(e,t,a){e.exports={visibleContainer:"SeekBarThumbnail-visibleContainer-3eifZW",hiddenContainer:"SeekBarThumbnail-hiddenContainer-15Ujjv SeekBarThumbnail-visibleContainer-3eifZW",thumbnail:"SeekBarThumbnail-thumbnail-2rxzk1",tooltip:"SeekBarThumbnail-tooltip-WCnO4Y",small:"SeekBarThumbnail-small-21D-mk",large:"SeekBarThumbnail-large-1NQZT9"}},b3Ir:function(e,t,a){"use strict";var n=a("G4qV"),i=a("X7Ko");const r=Object(n.a)(i.a,e=>e.libraries);t.a=r},b3Ly:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return o+="<h4>"+(0,this.escapeExpression)((s=a("d8WC"),s&&(s.__esModule?s.default:s)).call(t,"Files",{hash:{},data:r}))+'</h4> <ul class="media-info-file-list"></ul> <div class="loading-container"><div class="loading"></div></div> '}))},b3RP:function(e,t,a){"use strict";function n(e){return{status:e.status,statusText:e.statusText,readyState:e.readyState,responseText:e.responseText}}a.d(t,"a",(function(){return n}))},b4zP:function(e,t,a){"use strict";var n=a("mOXR"),i=a("B69o"),r=a("CHn6");var s=r.a.extend({name:"StoredConnectionSourceModel",syncedAttrs:{id:n.a.string}});var o=i.a.extend({name:"StoredConnectionSourceCollection",model:s});var l=r.a.extend({name:"StoredConnectionModel",idAttribute:"uri",syncedAttrs:{uri:n.a.string,scheme:n.a.string,address:n.a.string,port:n.a.string,relay:n.a.boolean},syncedRelations:{sources:{relationClass:o}}});var c=i.a.extend({name:"StoredConnectionCollection",model:l}),d=a("qNtb"),u=a("aqep"),p=a("L9Nd");var m=r.a.extend({name:"StoredProviderModel",idAttribute:"identifier",syncedAttrs:{...p.b.prototype.syncedAttrs},syncedRelations:{features:{relationClass:u.a}}});var h=i.a.extend({name:"StoredProviderCollection",model:m});const g=d.a.extend({name:"StoredServerModel",idAttribute:"machineIdentifier",additionalRelations:["connections"],syncedAttrs:{machineIdentifier:n.a.string,friendlyName:n.a.string,accessToken:n.a.string,sourceTitle:n.a.string,home:n.a.boolean,serverClass:n.a.string,platform:n.a.string,isShared:n.a.boolean,version:n.a.string,publicAddressMatches:n.a.boolean,ownerId:n.a.integer,mediaProviders:n.a.integer},syncedRelations:{providers:{relationClass:h},connections:{relationClass:c}}});t.a=g},bA7v:function(e,t,a){e.exports={tag:"TagLabel-tag-2n9WOX",remove:"TagLabel-remove-27nEke"}},bCk4:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("L395"),s=a("qNMu"),o=a("Rj9q"),l=a("4Vl1"),c=a.n(l);function d(e){const{contentClassName:t,iconClassName:a,titleClassName:n,footerClassName:s,children:l,kind:d,iconComponent:u,iconSrc:p,title:m,description:h,footer:g,...y}=e;return i.a.createElement(r.a,{className:c.a.emptyPage,...y},i.a.createElement("div",{className:t},p?i.a.createElement("img",{className:c.a.imgIcon,src:p}):null,u?i.a.createElement("span",{className:a},i.a.createElement(u,{className:c.a[d]})):null,m?i.a.createElement("div",{className:n},m):null,h?i.a.createElement(o.a,null,h):null,l),g?i.a.createElement("div",{className:s},g):null)}d.defaultProps={contentClassName:c.a.content,iconClassName:c.a.icon,titleClassName:c.a.title,footerClassName:c.a.footer,kind:s.c},t.a=d},bIaj:function(e,t,a){e.exports={playQueueIsLoading:"MiniPlayerContainer-playQueueIsLoading-30Z4GT"}},bJXi:function(e,t,a){e.exports={filtersScroller:"LibraryFiltersList-filtersScroller-2-lmLj Scroller-vertical-VScFLT"}},bKz6:function(e,t,a){e.exports={loadingItem:"MetadataSummaryCellLoading-loadingItem-2TLkoX",alternateLoadingItem:"MetadataSummaryCellLoading-alternateLoadingItem-6d55PW MetadataSummaryCellLoading-loadingItem-2TLkoX",posterContainer:"MetadataSummaryCellLoading-posterContainer-18W6xj"}},bQSc:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"a",(function(){return h}));var n=a("F/us"),i=a.n(n);const r=/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/,s=/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/i,o=/[a-f0-9]{1,4}/gi;function l(e){const t=r.exec(e);if(null!=t)return{octets:i.a.map(i.a.rest(t),e=>parseInt(e,10))}}function c(e){if(!s.test(e))return;const t=e.split("::"),a=t[0].match(o),n={parts:[]};if(null!=a){if(a.length>8)return;n.parts=i.a.map(a,e=>parseInt(e,16))}if(t.length>1){const e=t[1].match(o),a=i.a.map(e,e=>parseInt(e,16)),r=8-n.parts.length-a.length;if(r<0||8===r)return;i.a.times(r,()=>{n.parts.push(0)}),n.parts=n.parts.concat(a)}return n}function d(e){return m(e)||function(e){const t=c(e);return!(!t||!i.a.all(t.parts,e=>e>=0&&e<=65535))}(e)}function u(e){return"localhost"===e||function(e){const t=l(e);return!(!t||127!==t.octets[0]&&!i.a.all(t.octets,e=>0===e))}(e)||function(e){const t=c(e);if(t){return i.a.all(i.a.take(t.parts,7),e=>0===e)&&1===i.a.last(t.parts)}return!1}(e)}function p(e){return function(e){const t=l(e);if(t){if(10===t.octets[0])return!0;if(172===t.octets[0]&&t.octets[1]>=16&&t.octets[1]<=31)return!0;if(192===t.octets[0]&&168===t.octets[1])return!0}return!1}(e)||function(e){const t=c(e);return!!(t&&t.parts[0]>=64512&&t.parts[0]<=65023)}(e)}function m(e){const t=l(e);return!(!t||!i.a.all(t.octets,e=>e>=0&&e<=255))}function h(e){return m(e)?e.split(".").slice(0,-1).join("."):""}},bUqy:function(e,t,a){"use strict";var n=a("B69o"),i=a("CHn6"),r=a("mOXR");var s=i.a.extend({name:"DVRNetworkModel",sessionAttrs:{key:r.a.string,title:r.a.string}});const o=n.a.extend({name:"DVRNetworkCollection",model:s});t.a=o},baWb:function(e,t,a){"use strict";t.a=function(e){return null==e?"":String(e)}},bb11:function(e,t,a){e.exports={icon:"ModalContentError-icon-235FFE",default:"ModalContentError-default-1xFU82",primary:"ModalContentError-primary-34blWW",success:"ModalContentError-success-2Wv-fJ",danger:"ModalContentError-danger-22PUTO",message:"ModalContentError-message-3J35my"}},bb2l:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=(a("slDQ"),a("2pL0")),l=a("2sa7"),c=a.n(l);function d(e){const{className:t,iconComponent:a,iconClassName:n,activeClassName:r,disabledClassName:l,isDisabled:c,isActive:d,label:u,labelClassName:p,title:m,ariaLabel:h,children:g,...y}=e,f=h||m;return s.a.createElement(o.a,{className:i()(t,c&&l,d&&r),isDisabled:c,"aria-label":f,title:m,...y},s.a.createElement(a,{className:n}),u?s.a.createElement("span",{className:p},u):null,g)}d.defaultProps={className:c.a.button,activeClassName:c.a.isActive,disabledClassName:c.a.isDisabled,labelClassName:c.a.label,isDisabled:!1},t.a=d},bcER:function(e,t,a){"use strict";var n=a("66GW"),i=a("1Cr9");const r=Object(i.a)(["id","typeString"],[{id:1,typeString:"video",key:"videoStreamID",title:()=>Object(n.default)("Video")},{id:2,typeString:"audio",key:"audioStreamID",title:()=>Object(n.default)("Audio")},{id:3,typeString:"subtitles",key:"subtitleStreamID",title:()=>Object(n.default)("Subtitles")},{id:4,typeString:"lyrics",key:"lyricStreamID",title:()=>Object(n.default)("Lyrics")}]);t.a=r},"blH+":function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"f",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return c}));const n="scrobble",i="save",r="addToCatalog",s="addToWatchlist",o="follow",l="mute",c="rate"},blYO:function(e,t,a){"use strict";a.r(t);var n=a("+X4A"),i=a("CHn6"),r=a("mOXR"),s=a("nvND"),o=a("B69o");var l=i.a.extend({name:"FileModel",idAttribute:"key",rootPropertyName:"File",syncedAttrs:{key:r.a.string,title:r.a.string,path:r.a.string,network:r.a.boolean}});var c=o.a.extend({name:"FileCollection",model:l}),d=i.a.extend({name:"FilePathModel",context:["server","includeFiles"],idAttribute:"key",rootPropertyName:"Path",sessionAttrs:{isBackShortcut:r.a.boolean},sessionRelations:{children:function(){var e={};return this.includeFiles&&(e.includeFiles=1),{relationClass:a("blYO").default,options:{url:n.default.join([this.id],e)}}}},syncedAttrs:{key:r.a.string,title:r.a.string,path:r.a.string,home:r.a.boolean,network:r.a.boolean}}),u=o.a.extend({name:"FilePathCollection",context:["server","includeFiles"],model:d,url(){var e={};return this.includeFiles&&(e.includeFiles=1),n.default.join(["/services/browse"],e)}});const p=i.a.extend({name:"FilePathListModel",responseType:s.a,context:["server","includeFiles","url"],url(){const e={};return this.includeFiles&&(e.includeFiles=1),n.default.join(["/services/browse"],e)},sessionAttrs:{truncatedFilesCount:r.a.integer},syncedRelations:{paths:{relationClass:u,rootPropertyName:"Path"},files:{relationClass:c,rootPropertyName:"File"}},augmentResponse:e=>(e.File&&(e.truncatedFilesCount=Math.max(0,e.File.length-500),e.File=e.File.slice(0,500)),e)});t.default=p},bpVy:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("1cGo"),s=a("2pL0"),o=a("AfY7"),l=a("M7+X");t.a=function(e){const{className:t,tabIndex:a,title:n,index:c,route:d,parentTitle:u,parentIndex:p,parentRoute:m,originallyAvailableAt:h}=e,g=Object(l.a)({seasonIndex:p,noLeadingZero:!0}),y=Object(o.a)({episodeIndex:c,date:h,noLeadingZero:!0});return d&&m?i.a.createElement("span",{className:t},c>0&&g?i.a.createElement(s.a,{tabIndex:a,title:u,to:m},g):null,c>0&&g?i.a.createElement(r.b,{separator:"·"}):null,i.a.createElement(s.a,{tabIndex:a,title:n,to:d},y)):i.a.createElement("span",{className:t},c>0&&g?i.a.createElement("span",null,g):null,c>0&&g?i.a.createElement(r.b,{separator:"·"}):null,i.a.createElement("span",null,y))}},bq2q:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="",o=this,l=this.escapeExpression;function c(e,t){return"home"}function d(e,t){var n;return(n=a.if.call(e,null==(n=e&&e.filePath)||!1===n?n:n.network,{hash:{},inverse:o.program(9,p,t),fn:o.program(7,u,t),data:t}))||0===n?n:""}function u(e,t){return"globe"}function p(e,t){var n;return(n=a.if.call(e,e&&e.isRoot,{hash:{},inverse:o.program(12,h,t),fn:o.program(10,m,t),data:t}))||0===n?n:""}function m(e,t){return"hdd"}function h(e,t){return"folder-open"}return s+='<a class="striped-list-item" href="#" data-key="'+l("function"==typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.key)?r.apply(t):r)+'" title="'+l("function"==typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.title)?r.apply(t):r)+'" aria-label="'+l("function"==typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.title)?r.apply(t):r)+'"> <i class="folder-icon glyphicon ',((r=a.if.call(t,null==(r=t&&t.filePath)||!1===r?r:r.isBackShortcut,{hash:{},inverse:o.program(3,(function(e,t){var n;return(n=a.if.call(e,null==(n=e&&e.filePath)||!1===n?n:n.home,{hash:{},inverse:o.program(6,d,t),fn:o.program(4,c,t),data:t}))||0===n?n:""}),i),fn:o.program(1,(function(e,t){return"left-arrow"}),i),data:i}))||0===r)&&(s+=r),s+='"></i>&nbsp;'+l("function"==typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.title)?r.apply(t):r)+' <div class="loading loading-sm loading-inline hidden"></div> </a> '}))},bsps:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("rG0a"),l=a("CpQb"),c=0,d=[],u=l.a.Layout.extend({className:"modal fade",focusDelay:500,animationDelay:500,events:{"hide.bs.modal":"onHide"},initialize:function(e){this.once("render",(function(){c+=1,o.a.trigger("anyModalOpen")})),this.once("close",(function(){0===(c-=1)&&o.a.trigger("allModalsClosed")}))},hide:function(){this.isClosed||this.isHidden||this.$el.modal("hide")},onRender:function(){this.rerender||(this.isForced?this.$el.modal({backdrop:!1,keyboard:!1}):(this.listenTo(o.a,"shortcut:escape",s.a.bind((function(){d[0]===this&&this.hide()}),this)),this.listenToOnce(this,"close",(function(){var e=d.indexOf(this);-1!==e&&d.splice(e,1)})),d.unshift(this),this.$el.modal()),i()(":focus").blur())},onHide:function(e){this.isHidden=!0,s.a.each(this.panes,(function(e,t){var a=e.constructor.onModalClose;a&&a.apply(this)}),this),window.setTimeout(s.a.bind((function(){o.a.trigger("hide:modal",this),this.trigger("close")}),this),this.animationDelay)}});t.a=u},btL4:function(e,t,a){e.exports={container:"PageHeaderMultiselectActions-container-2k4DLu PageHeader-pageHeader-2KNPGd",button:"PageHeaderMultiselectActions-button-2eKuNY ActionButton-iconActionButton-2ry8hd ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",icon:"PageHeaderMultiselectActions-icon-1ozTr-",count:"PageHeaderMultiselectActions-count-2fQWwV",actions:"PageHeaderMultiselectActions-actions-2zhPwd",deselect:"PageHeaderMultiselectActions-deselect-2hA_PG"}},buLI:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("8HKk");t.a=function(e){const{className:t,name:a,labelText:n,showErrors:s,errors:o}=e,[l]=o;return i.a.createElement(r.a,{className:t,hasError:s,name:a},n,s&&l?" — "+l:null)}},buR4:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{},'<div class="player-slider-track"> <div class="player-slider-progress"></div> </div> <div class="player-slider-thumb"></div> '}))},bxUM:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-watch-together"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{clipRule:"evenodd",d:"M32 21c3.32 0 5.98-2.68 5.98-6S35.32 9 32 9c-3.32 0-6 2.68-6 6s2.68 6 6 6zm-15.999 0c3.32 0 5.979-2.68 5.979-6s-2.659-6-5.979-6c-3.32 0-6 2.68-6 6s2.68 6 6 6zm0 4C11.341 25 2 27.73 2 33.167V39h28v-5.833C30 27.73 20.66 25 16.001 25zM32 25c-.58 0-1.24.047-1.94.117 2.32 1.96 3.94 4.596 3.94 8.05V39h12v-5.833C46 27.73 36.66 25 32 25z"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},c1Ka:function(e,t,a){const n=a("cyu3").default,i=a("a4Cb");e.exports=i(n)},c3sd:function(e,t,a){const n=a("VLKS").default,i=a("a4Cb");e.exports=i(n)},c4QI:function(e,t,a){e.exports={dragPreview:"RecordingPrioritySubscriptionDragPreview-dragPreview-3q037K"}},c7MW:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> ',((o=n.if.call(t,t&&t.shared,{hash:{},inverse:this.program(3,(function(e,t){var n="";return n+=" <h1>"+c(i(a("d8WC")).call(e,"A problem has been detected with a core component of Plex Media Server.",{hash:{},data:t}))+'</h1> <h2 class="text-muted">'+c(i(a("d8WC")).call(e,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</h2> "}),s),fn:this.program(1,(function(e,t){var n="";return n+=" <h1>"+c(i(a("d8WC")).call(e,"Setup is not allowed for shared servers.",{hash:{},data:t}))+"</h1> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> </div> "}))},c7dm:function(e,t,a){e.exports={tableHeaderCell:"TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-1LYaxC TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk"}},cAHu:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n,r="";return r+=" ",((n=i(a("w+Xr")).call(e,e&&e.id,"enableBIFGeneration",{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===n)&&(r+=n),r+=" "}function p(e,t){var n="";return n+=' <div class="form-group"> <button type="button" class="delete-thumbnails-btn btn btn-sm btn-danger">'+c(i(a("d8WC")).call(e,"Delete Preview Thumbnails",{hash:{},data:t}))+"</button> </div> "}return((o=n.each.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,r){var s,o="";return o+=" "+c(i(a("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" ",((s=n.if.call(e,r&&r.edit,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+=" "}),s,t),data:s}))||0===o)&&(l+=o),l+=" "}))},cFG9:function(e,t,a){e.exports={container:"AudioVideoStripeContainer-container-MI02OU"}},cKYz:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return s}));const n=12,i=200,r=400,s=200},cL9g:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("q1tI"),i=a("uif/"),r=a("fklS");function s({isVirtual:e,isVisible:t,isScrolling:a}){return e&&!t||a}function o(e){const{cellIndex:t,cellX:a,cellY:o,cellWidth:l,cellHeight:c,style:d,keyPropName:u,moveDurationMilliseconds:p=400,isVirtual:m}=e,h=e[u],g=Object(i.a)(h),y=Object(i.a)(t),f=!(null==g||null==y||h!==g||e.cellIndex===y),b=Object(n.useReducer)(e=>e+1,0)[1],v=Object(n.useRef)(f),I=v.current||f,S=Object(n.useMemo)(()=>function({cellX:e,cellY:t,cellWidth:a,cellHeight:n,style:i,isMoving:s,moveDurationMilliseconds:o,isVirtual:l}){return l?{position:"absolute",width:a,height:n,transform:`translate3d(${e}px, ${t}px, 0)`,zIndex:s?1:0,transition:s?"transform "+r.a.defaultSpeed:"none",transitionDuration:s?o+"ms":0,...i}:{position:"relative",...i}}({cellX:a,cellY:o,cellWidth:l,cellHeight:c,style:d,moveDurationMilliseconds:p,isMoving:I,isVirtual:m}),[a,o,l,c,d,p,I,m]),E=Object(n.useRef)(s(e)?null:h);let O;return s(e)?(O=E.current!==h,O&&(E.current=null)):(O=!1,E.current=h),Object(n.useEffect)(()=>{let e;return I&&(v.current=!0,e=window.setTimeout(()=>{v.current=!1,b({})},2*p)),()=>{e&&window.clearTimeout(e)}},[p,I,b]),{style:S,isPlaceholder:O}}},cR0X:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("CpQb"),s=r.a.CollectionView.extend({appendHtml:function(e,t,a){return this.sorted?this.sortedAppendHtml.apply(this,arguments):this.reversed?this.reversedAppendHtml.apply(this,arguments):r.a.CollectionView.prototype.appendHtml.apply(this,arguments)},sortedAppendHtml:function(e,t,a){if(e.isBuffering){var n=e.elBuffer.childNodes;n.length<=a?e.elBuffer.appendChild(t.el):e.elBuffer.insertBefore(t.el,n[a]),e._bufferedChildren.push(t)}else{var i=e.itemViewContainer?e.$(e.itemViewContainer):e.$el,r=i.children();r.size()<=a?i.append(t.el):r.eq(a).before(t.el)}},reversedAppendHtml:function(e,t,a){e.isBuffering?(e.elBuffer.insertBefore(t.el,e.elBuffer.firstChild),e._bufferedChildren.push(t)):(e.itemViewContainer?e.$(e.itemViewContainer):e.$el).prepend(t.el)},measureList:function(){if(this.children.length){var e=this.children._views,t=e[i.a.first(i.a.keys(e))];i.a.defer(i.a.bind((function(){this.itemWidth=t.$el.outerWidth(!0),this.itemHeight=t.$el.outerHeight(!0),this.itemMarginRight=parseInt(t.$el.css("margin-right"),10),this.itemMarginBottom=parseInt(t.$el.css("margin-bottom"),10),this.triggerMethod("measure",this)}),this))}},getViewForModel:function(e){var t=this.children._indexByModel[e.cid];return this.children._views[t]},reorder:function(){var e=this.children,t=this.collection.models,a=i.a.map(t,(function(t,a){var n=e.findByModel(t);return n._index=a,n.el}));this.$el.append(a)},onCollectionRendered:function(){this.measure&&this.measureList()}});t.a=s},cTZx:function(e,t,a){e.exports={input:"SharedServerLibrary-input-1WHloB CheckInput-input-1Pi_2g"}},cUsW:function(e,t,a){e.exports={scroller:"VirtualListScroller-scroller-3aWqhy"}},cV2A:function(e,t,a){e.exports={container:"Bandwidth-container-2rffpk",graph:"Bandwidth-graph-_E0-J3"}},cVe3:function(e,t,a){"use strict";var n=a("B69o"),i=a("/fYT");const r=n.a.extend({name:"MediaSettingCollection",context:["server","provider"],model:i.a,getSaveParams(){return this.reduce((e,t)=>(e[t.id]=t.get("value"),e),{})}});t.a=r},cbdg:function(e,t,a){e.exports={container:"AllSourcesSidebarContent-container-3ONiKZ",serverContainer:"AllSourcesSidebarContent-serverContainer-1HtNbS",iconImg:"AllSourcesSidebarContent-iconImg-1hajvx",extrasContainer:"AllSourcesSidebarContent-extrasContainer-12nvl9"}},ccYj:function(e,t,a){e.exports={emptyMessage:"SharedServerLibraries-emptyMessage-3D4Rel"}},"ce/m":function(e,t,a){e.exports={container:"PageHeaderToolbar-container-NMKiv4"}},ceEp:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> </form> "}))},cftR:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("2pL0"),l=a("qNMu"),c=a("dQj/"),d=a.n(c);function u(e){const{className:t,children:a,kind:n,isDisabled:r,isHidden:l,...c}=e;return s.a.createElement(o.a,{className:i()(t,d.a.menuItem,d.a[n],r&&d.a.isDisabled,l&&d.a.isHidden),"data-qa-id":"dropdownItem",role:"menuitem",...c},a)}u.defaultProps={kind:l.c,isDisabled:!1},t.a=u},cgRT:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return u}));var n=a("EVdn"),i=a.n(n);a("F/us"),a("slDQ");const r={},s={};function o(e,t,a){r[e]=function(e,t){if(!t)return e;const a={};return t.forEach(t=>{a[t]=(...a)=>e[t](...a)}),a}(t,a);const n=s[e];n&&(delete s[e],n.resolve(r[e]))}function l(e){for(const t in e){const a=e[t];let n,i;Array.isArray(a)?(n=a[0],i=a[1]):n=a,o(t,n,i)}}function c(e){return d(e)?i.a.Deferred().resolve(r[e]).promise():(s[e]||(s[e]=i.a.Deferred()),s[e].promise())}function d(e){return r.hasOwnProperty(e)}function u(e){return r[e]}},chwz:function(e,t,a){e.exports={container:"FirstRunExperienceActionsContainer-container-1Uv1FY",titleBar:"FirstRunExperienceActionsContainer-titleBar-iWGY90",titleText:"FirstRunExperienceActionsContainer-titleText-3KDIHA",scroller:"FirstRunExperienceActionsContainer-scroller-3w2d0r Scroller-vertical-VScFLT"}},cifS:function(e,t,a){e.exports={pageHeader:"DirectoryPageHeader-pageHeader-2dwhds PrimaryPageHeader-pageHeader-21UFe6 PageHeader-pageHeader-2KNPGd"}},cnJD:function(e,t,a){(function(e){!function(e){"use strict";var t=function(a,n){this.$element=e(a),this.options=e.extend({},t.DEFAULTS,n)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",a=this.$element,n=a.is("input")?"val":"html",i=a.data();e+="Text",i.resetText||a.data("resetText",a[n]()),a[n](i[e]||this.options[e]),setTimeout((function(){"loadingText"==e?a.addClass(t).attr(t,t):a.removeClass(t).removeAttr(t)}),0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');e.length&&("radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&e.find(".active").removeClass("active"));this.$element.toggleClass("active")};var a=e.fn.button;e.fn.button=function(a){return this.each((function(){var n=e(this),i=n.data("bs.button"),r="object"==typeof a&&a;i||n.data("bs.button",i=new t(this,r)),"toggle"==a?i.toggle():a&&i.setState(a)}))},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",(function(t){var a=e(t.target);a.hasClass("btn")||(a=a.closest(".btn")),a.button("toggle"),t.preventDefault()}))}(e)}).call(this,a("EVdn"))},cora:function(e,t,a){e.exports={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-3-v_so"}},cpNh:function(e,t,a){e.exports={metadataListPageContent:"MetadataListPageContent-metadataListPageContent-s56y9M PageContent-pageContent-16mK6G",metadataListScroller:"MetadataListPageContent-metadataListScroller-1uFgYL",hasGutter:"MetadataListPageContent-hasGutter-1EfyE0",attribution:"MetadataListPageContent-attribution-3zY50M"}},cpX0:function(e,t,a){e.exports={button:"SourceSidebarItem-button-257zM0 SourceSidebarLink-button-1Qe470 SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",iconImg:"SourceSidebarItem-iconImg-2zgKLr",isActive:"SourceSidebarItem-isActive-3_yiwn SourceSidebarLink-isActive-2_QExr",overflowButton:"SourceSidebarItem-overflowButton-1lLH3b",isSelected:"SourceSidebarItem-isSelected-2FULYf SourceSidebarLink-isSelected-27-9-6",actionContainer:"SourceSidebarItem-actionContainer-3H9EXk",pinnedIcon:"SourceSidebarItem-pinnedIcon-2WBaus",hiddenOverflowButton:"SourceSidebarItem-hiddenOverflowButton-267PaV"}},cqN0:function(e,t,a){e.exports={button:"SplitButton-button-1B9GD_",mainButton:"SplitButton-mainButton-1vneBy",menuButton:"SplitButton-menuButton-2koqFK"}},cqnP:function(e,t,a){"use strict";var n=a("/MKj"),i=a("G4qV"),r=a("xSXQ"),s=a("6+qq");t.a=Object(n.b)((function(){return Object(i.a)(Object(r.a)(),(e={})=>({title:e.title}))}))(s.a)},ctCg:function(e,t,a){e.exports={bottomDivider:"PrePlayListBottomDivider-bottomDivider-3XSncY PrePlayDivider-divider-1qvbj9"}},cyOn:function(e,t,a){e.exports={cardContainer:"MetadataDirectoryPosterCard-cardContainer-ZkpfRo MetadataPosterCard-cardContainer-2gRcQF",card:"MetadataDirectoryPosterCard-card-3HffoU MetadataPosterCard-card-3bztRc",face:"MetadataDirectoryPosterCard-face-1a7ldr MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC",overlay:"MetadataDirectoryPosterCard-overlay-1W6FjR MetadataPosterCardOverlay-overlay-1uMpL6 PosterCardOverlay-overlay-3wQFXY",overlayBackground:"MetadataDirectoryPosterCard-overlayBackground-23yvvb MetadataPosterCardOverlay-background-2EwyBM PosterCardOverlay-background-23u0Zs",overlayLink:"MetadataDirectoryPosterCard-overlayLink-3Lb0W4 MetadataPosterCardOverlay-link-1SwhlG",overlaySelectCoverButton:"MetadataDirectoryPosterCard-overlaySelectCoverButton-31KJlc MetadataPosterCardOverlay-selectCoverButton-ukQUfL MetadataPosterCardOverlay-coverButton-2Dm9Pj",iconContainer:"MetadataDirectoryPosterCard-iconContainer-2qCCQC",titleContainer:"MetadataDirectoryPosterCard-titleContainer-waqIG7",titleItem:"MetadataDirectoryPosterCard-titleItem-3i-cuz"}},cyda:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="";return s+='<div class="col-md-12"> <div class="form-group path-group"> <input type="text" name="path" class="form-control" value="',s+=(0,this.escapeExpression)((r=a.path)||"function"==typeof(r=t&&t.path)?r.call(t,{hash:{},data:i}):r)+'"> <div class="path-actions"> <a href="#" class="remove-path-btn btn-link btn-gray"><i class="glyphicon remove-2"></i></a> </div> </div> </div> '}))},cyu3:function(e,t,a){"use strict";a.r(t),t.default=function(e,t){if(!e)return"";if(e.length>t){let a=e.substring(0,t-3);for(;!1===/\S/.test(a.charAt(a.length-1))&&a.length>1;)a=a.slice(0,-1);return a+"..."}return e}},czSl:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("F8pK");function i(e,t,a,i){return Object(n.a)(e.isCloud,e.machineIdentifier,t.identifier,a,i)}},czqj:function(e,t,a){e.exports={button:"UserListItem-button-3oUfiA Button-button-2kT68l Link-link-2n0yJn",selectedButton:"UserListItem-selectedButton-bI362D UserListItem-button-3oUfiA Button-button-2kT68l Link-link-2n0yJn",avatar:"UserListItem-avatar-3Kgumg AvatarImg-avatar-3Op56u",titleContainer:"UserListItem-titleContainer-5VtBPN",title:"UserListItem-title-j29JRH",email:"UserListItem-email-XVTmFn",icon:"UserListItem-icon-1ajF2v",selectedIcon:"UserListItem-selectedIcon-bCsaB2 UserListItem-icon-1ajF2v",homeIcon:"UserListItem-homeIcon-2XcvVB UserListItem-icon-1ajF2v",visibleHomeIcon:"UserListItem-visibleHomeIcon-3Gwyfb"}},"d+lh":function(e,t,a){e.exports={content:"PrePlayMetadataContent-content-2ww3jI"}},d0sW:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(o=t&&t.paneTitle)?o.apply(t):o)+'</h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar hidden"> <ul class="list modal-nav-list"> ',((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.general,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn general-btn" data-pane="general" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> '+c(i(a("d8WC")).call(e,"General",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.tags,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn tags-btn" data-pane="tags" href="#"> <i class="modal-nav-icon glyphicon tags"></i> '+c(i(a("d8WC")).call(e,"Tags",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.sharing,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn sharing-btn" data-pane="sharing" href="#"> <i class="modal-nav-icon glyphicon parents"></i> '+c(i(a("d8WC")).call(e,"Sharing",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.poster,{hash:{},inverse:this.noop,fn:this.program(7,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn poster-btn" data-pane="poster" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(a("d8WC")).call(e,"Poster",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.banner,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn banner-btn" data-pane="banner" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(a("d8WC")).call(e,"Banner",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.art,{hash:{},inverse:this.noop,fn:this.program(11,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn art-btn" data-pane="art" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(a("d8WC")).call(e,"Background",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.info,{hash:{},inverse:this.noop,fn:this.program(13,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn info-btn" data-pane="info" href="#"> <i class="modal-nav-icon glyphicon circle-info"></i> '+c(i(a("d8WC")).call(e,"Info",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.advanced,{hash:{},inverse:this.noop,fn:this.program(15,(function(e,t){var n="";return n+=' <li><a class="btn-gray change-pane-btn advanced-btn" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(i(a("d8WC")).call(e,"Advanced",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(i(a("d8WC")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(t,"Save Changes",{hash:{},data:s}))+"</span> </button> </div> </div> </div> "}))},d36p:function(e,t,a){e.exports={disclosureArrow:"DisclosureArrow-disclosureArrow-1KPaBC",default:"DisclosureArrow-default-_QTDZt",primary:"DisclosureArrow-primary-2w1Tep",success:"DisclosureArrow-success-1gS8PY",danger:"DisclosureArrow-danger-3OtVyw",small:"DisclosureArrow-small-lqtG6h",up:"DisclosureArrow-up-L-Dw3O",right:"DisclosureArrow-right-2D3Mwp",medium:"DisclosureArrow-medium-20IdwE",large:"DisclosureArrow-large-2JBrDF",down:"DisclosureArrow-down-3lf_Gg DisclosureArrow-up-L-Dw3O",left:"DisclosureArrow-left-3Q0NGs DisclosureArrow-right-2D3Mwp",isSelected:"DisclosureArrow-isSelected-QMJhDY"}},"d7+L":function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("+X4A"),l=a("tlMz");const c={getCollectionName(){return this.collectionName||"items"},getCollection(){return this.get(this.getCollectionName())},getTotalSize(){return this.get("totalSize")||this.get("populatedRange").size},getPaginatedUrl(e){const t=this.get("currentPageStart"),a=this.get("currentPageSize");if(null!=t||null!=a){const n={"X-Plex-Container-Start":t||0,"X-Plex-Container-Size":a||0};return o.default.join(e,n)}return e},getCollectionChangeEvents(){const e=this.getCollectionName();return[`change:${e}.update`,`change:${e}.reset`].join(" ")},startPopulatedRangeMonitor(){const e=this.getCollectionName();this.updatePopulatedRange(),this.on(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.on(`change:${e}.destroy`,this.decrementTotalSize,this)},stopPopulatedRangeMonitor(){const e=this.getCollectionName();this.off(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.off(`change:${e}.destroy`,this.decrementTotalSize,this)},fetchRange(e){const t=s.a.extend({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({currentPageStart:e.start,currentPageSize:e.size}),this.fetch(t).promise()},populateRange(e){const t=this.getCollection(),a=this.get("populatedRange");let n=l.a.difference(e,a)[0];if(!n)return i.a.Deferred().resolve().promise();if(n=l.a.degap(n,a),this.isPopulating()){const e=this.get("currentPageStart")!==n.start,t=this.get("currentPageSize")!==n.size;if(!e&&!t)return this.populatePromise;this.abortPendingPopulate()}if(e.reloadThreshold&&n.size>e.reloadThreshold)return t.reset(),this.populateRange(s.a.omit(e,"reloadThreshold"));const r=s.a.extend({},e,n,{prepend:n.start<a.start});return this.fetchRange(r)},repopulateRange(e=0){const t=this.get("populatedRange").end;return this.set({currentPageStart:0,currentPageSize:Math.max(t,e)}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("currentPageStart"),t=this.get("populatedRange").start,a=this.get("populatedRange").size,n=this.getCollection().length;let i;i=n?a?Math.min(t,null==e?1/0:e):e||t:0,this.set("populatedRange",{start:i,end:i+n,size:n})},decrementTotalSize(){const e=this.get("totalSize");e>0&&this.set("totalSize",e-1)}};t.a=c},d8WC:function(e,t,a){const n=a("F/us"),i=a("66GW").default,r=a("3O+N");e.exports=function(){const e=n.initial(arguments).concat({escape:!0}),t=n.last(arguments).hash;return n.isObject(t)&&!n.isEmpty(t)&&e.splice(1,0,t),new r.SafeString(i.apply(i,e))}},dCCs:function(e,t,a){e.exports={menu:"NavBarActivityMenu-menu-1AVWxV Menu-menu-3XnN6J"}},dDQa:function(e,t,a){e.exports={confirmBody:"ConfirmModal-confirmBody-10ifxp ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",accordLabel:"ConfirmModal-accordLabel-2PQCSz",accordInput:"ConfirmModal-accordInput-3RjnHc",cancelButton:"ConfirmModal-cancelButton-3A26bv",confirmButton:"ConfirmModal-confirmButton-1DVQ-r"}},dEGP:function(e,t,a){e.exports={container:"WatchTogetherLobbyMetadataPoster-container-2CLPKK",title:"WatchTogetherLobbyMetadataPoster-title-36YN73"}},dFNG:function(e,t,a){"use strict";function n(...e){return e.filter(e=>!!e).join("--")}a.d(t,"a",(function(){return n}))},dFNS:function(e,t,a){e.exports={posterCardContainer:"PrePlayCastCell-posterCardContainer-2xrsDg",posterCardLinkContainer:"PrePlayCastCell-posterCardLinkContainer-27hxZ8 PrePlayCastCell-posterCardContainer-2xrsDg",titleContainer:"PrePlayCastCell-titleContainer-PAy29K"}},dJu0:function(e,t,a){e.exports={subtitle:"ShareRestrictionsSelectInputItem-subtitle-3iXCZU"}},dO6p:function(e,t,a){e.exports={modalContent:"ModalContent-modalContent-4GS6yU",closeButton:"ModalContent-closeButton-25n_Ut Link-link-2ew_DK"}},dORf:function(e,t,a){e.exports={calendarHeaderContainer:"CalendarHeader-calendarHeaderContainer-2f7fSq",calendarHeader:"CalendarHeader-calendarHeader-moR_Hb",calendarNav:"CalendarHeader-calendarNav-rIR1ko Link-link-2n0yJn",calendarNavDisabled:"CalendarHeader-calendarNavDisabled-1bqai2"}},dOl7:function(e,t,a){"use strict";var n=a("G4qV"),i=a("X7Ko");const r=Object(n.a)(i.a,e=>e.friends);t.a=r},dPq9:function(e,t,a){"use strict";t.a="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ic3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQiPgogPGNpcmNsZSBpZD0iMCIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBzdHlsZT0iZmlsbDp1cmwoIzMpIi8+CiA8Y2lyY2xlIGlkPSIxIiBjeD0iNTAiIGN5PSI1MCIgcj0iNDciIHN0eWxlPSJmaWxsOnVybCgjNCkiLz4KIDxwYXRoIGlkPSIyIiBkPSJtMzIuOSAxOC44bDE4LjE2MSAwIDIwLjAzOSAzMS4yNS0yMC4wMzkgMzEuMjUtMTguMTYxIDAgMjAuMDM5LTMxLjI1LTIwLjAzOS0zMS4yNSIgc3R5bGU9ImZpbGw6dXJsKCM1KSIvPgogPGRlZnM+CiAgPGxpbmVhckdyYWRpZW50IGlkPSIzIiB4MT0iMTAwIiB4Mj0iMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjliZTAzIi8+CiAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2NjN2IxOSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPGxpbmVhckdyYWRpZW50IGlkPSI0IiB4MT0iOTciIHgyPSIzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMyODI4MjgiLz4KICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMWYxZjFmIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmFkaWFsR3JhZGllbnQgaWQ9IjUiIGN4PSI2NyIgY3k9IjQ5LjkiIHI9IjU3LjgxMjMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4bGluazpocmVmPSIjMyIvPgogPC9kZWZzPgo8L3N2Zz4K"},"dQj/":function(e,t,a){e.exports={menuItem:"MenuItem-menuItem-1s02mQ",isDisabled:"MenuItem-isDisabled-37rHXk",isHidden:"MenuItem-isHidden-t1VSNw",default:"MenuItem-default-2SKQ84",primary:"MenuItem-primary-2LuUHM",success:"MenuItem-success-3F7NZJ",danger:"MenuItem-danger-3P_Dfn"}},dRWt:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-single-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m280 100c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},dSJO:function(e,t,a){e.exports={legendLabel:"LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",dot:"LegendLabel-dot-320-i6"}},dZ7a:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("G4qV"),i=a("aVib");function r(){return Object(n.a)((e,{serverEntityID:t})=>t,i.a,(e,t)=>t[e])}},deD6:function(e,t,a){"use strict";var n=a("G4qV"),i=a("X7Ko");const r=Object(n.a)(i.a,e=>e.metadataItems);t.a=r},doJ2:function(e,t,a){e.exports={button:"AcceptInviteButton-button-1h_5ks",spinner:"AcceptInviteButton-spinner-2um426"}},doli:function(e,t,a){e.exports={container:"PlayHistory-container-2YYwNl",link:"PlayHistory-link-2lq7Qn"}},dpdm:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var a;return c("function"==typeof(a=null==(a=e&&e.friendlyNameSetting)||!1===a?a:a.value)?a.apply(e):a)}function p(e,t){var a;return c("function"==typeof(a=null==(a=e&&e.server)||!1===a?a:a.friendlyName)?a.apply(e):a)}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <form id="setup-basic-form" class="settings-container"> ',((o=n.if.call(t,t&&t.friendlyNameSetting,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r,s="";return s+=' <div class="setup-basic-form-group form-group"> <p class="text-muted"> '+c(i(a("d8WC")).call(e,"Give your server a friendly name to help identify it in Plex apps and on your network.",{hash:{},data:t}))+' </p> <input type="text" id="'+c("function"==typeof(r=null==(r=e&&e.friendlyNameSetting)||!1===r?r:r.id)?r.apply(e):r)+'" class="form-control" value="',((r=n.if.call(e,null==(r=e&&e.friendlyNameSetting)||!1===r?r:r.value,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===r)&&(s+=r),s+='" placeholder="'+c("function"==typeof(r=null==(r=e&&e.server)||!1===r?r:r.friendlyName)?r.apply(e):r)+'"> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.publishSetting,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var n,r="";return r+=' <div class="setup-basic-form-group form-group"> <div class="publish-checkbox checkbox"> <label for="'+c("function"==typeof(n=null==(n=e&&e.publishSetting)||!1===n?n:n.id)?n.apply(e):n)+'"> <input type="checkbox" id="'+c("function"==typeof(n=null==(n=e&&e.publishSetting)||!1===n?n:n.id)?n.apply(e):n)+'" checked> '+c(i(a("d8WC")).call(e,"Allow me to access my media outside my home",{hash:{},data:t}))+' </label> </div> <p class="text-muted"> '+c(i(a("d8WC")).call(e,"Plex will attempt to automatically configure your network to allow Plex apps outside your home to access Plex Media Server on this computer. Remember this computer will need to be turned on to access your media.",{hash:{},data:t}))+" </p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="setup-footer"> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(t,"Next",{hash:{},data:s}))+'</span> </button> <button class="next-btn hidden" data-subset="setupLibrary"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},dsvT:function(e,t,a){"use strict";t.a=function(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}},duQd:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("+X4A"),i=a("rXDx");function r(e,t){const a=["/library/sections",e,"all"];return t===i.PHOTO?n.default.join(a):n.default.join(a,{type:i.getMetadataType(t).id})}},dz8L:function(e,t,a){"use strict";var n=a("iEE2"),i=a("HR/i");const r=window.ResizeObserver||i.a;t.a=function(e){return Object(n.a)({polyfill:r,...e})}},"e/8p":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},"e/b/":function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("0jae");function s(e,t){Array.isArray(t)?i.a.each(t,e):e(t)}const o={parseXML:a("Xh8s").a,replaceXMLElementNames:function(e,t,a){Array.isArray(t)||(t=[t]);const n=t.join("|"),i=new RegExp("<("+n+")","g"),r=new RegExp("</("+n+")>","g");return e=(e=e.replace(i,"<"+a+' elementName="$1"')).replace(r,"</"+a+">")},parseEncodedString:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){const a=e[t];if(null==a)e[t]="";else try{e[t]=decodeURIComponent(a)}catch(e){}}}),t)},parseInteger:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){const a=e[t];e[t]=null==a||""===a?0:parseInt(a,10)}}),t)},parseFloat:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){const a=e[t];e[t]=null===a||""===a?0:parseFloat(a)}}),t)},parseBoolean:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){const a=e[t];e[t]=1===Number(a)||"true"===a}}),t)},parseArray:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){const a=e[t];Array.isArray(a)||(e[t]=[a])}else e[t]=[]}),t)},parseQueryString:function(e,t,a){e&&(a||(a="&"),s((function(t){if(!e.hasOwnProperty(t))return;let n=e[t];var s;i.a.isObject(n)||(i.a.isString(n)?(n=n.trim().replace(/^(\?|#)/,""),e[t]=n?(s=n.split(a),i.a.reduce(s,(function(e,t){const a=t.split("=");let n=a[0],i=a[1];try{n=decodeURIComponent(n),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}catch(e){r.a.warn("Unable to decode query string at "+n)}return e}),{})):{}):e[t]={})}),t))}};t.a=o},"e/fv":function(e,t,a){e.exports={status:"PrePlayPosterCardPlayedStatus-status-2jS2_A",label:"PrePlayPosterCardPlayedStatus-label-1a29LI",playedBadge:"PrePlayPosterCardPlayedStatus-playedBadge-1dXJGf PlayedBadge-playedBadge-nExTpX Badge-badge-3I6Kzp",watchlistBadge:"PrePlayPosterCardPlayedStatus-watchlistBadge-FXFUb9 WatchlistBadge-watchlistBadge-JTghpe Badge-badge-3I6Kzp",recordingBadge:"PrePlayPosterCardPlayedStatus-recordingBadge-3LMXDJ RecordingBadge-recordingBadge-2UNalG"}},e0Cb:function(e,t,a){"use strict";t.a=function(e){return 1===Number(e)||"true"===e}},e0vz:function(e,t,a){e.exports={button:"RemoveUserActionButton-button-3Y1kUf"}},e1Br:function(e,t,a){var n,i;n=a("F/us"),i=a("zLeb"),e.exports=function(e,t){"use strict";return t.Wreqr=function(e,t,a){var n,i={};return i.Handlers=function(e,t){var a=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return a.extend=e.Model.extend,t.extend(a.prototype,e.Events,{setHandlers:function(e){t.each(e,(function(e,a){var n=null;t.isObject(e)&&!t.isFunction(e)&&(n=e.context,e=e.callback),this.setHandler(a,e,n)}),this)},setHandler:function(e,t,a){var n={callback:t,context:a};this._wreqrHandlers[e]=n,this.trigger("handler:add",e,t,a)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),a}(e,a),i.CommandStorage=(n=function(e){this.options=e,this._commands={},a.isFunction(this.initialize)&&this.initialize(e)},a.extend(n.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){this.getCommands(e).instances.push(t)},clearCommands:function(e){this.getCommands(e).instances=[]}}),n),i.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var a=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,a)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,n){var i=this.storage.getCommands(e);a.each(i.instances,(function(e){t.apply(n,e)})),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,n=e.storageType||this.storageType;t=a.isFunction(n)?new n:n,this.storage=t}})}(i),i.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(i),i.EventAggregator=function(e,t){var a=function(){};return a.extend=e.Model.extend,t.extend(a.prototype,e.Events),a}(e,a),i}(t,t.Marionette,e),t.Wreqr}(n,i)},e2hs:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-edit-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m0 560l40-120 80 80-120 40m480-560l-400 400 80 80 400-400-80-80"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},eBN0:function(e,t,a){e.exports={playButton:"ChannelsGridMetadataDetailButtons-playButton-2liy7L",recordButton:"ChannelsGridMetadataDetailButtons-recordButton-17JFUk ChannelsGridMetadataDetailButtons-playButton-2liy7L",recordingIcon:"ChannelsGridMetadataDetailButtons-recordingIcon-1R0yT4",icon:"ChannelsGridMetadataDetailButtons-icon-1-luT7"}},eEGg:function(e,t,a){e.exports={container:"HomeHubListItemDragSource-container-1T0Duj",isOver:"HomeHubListItemDragSource-isOver-1k9kxT"}},"eEL/":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-4"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:s}))+' </div> <div class="col-md-4 selectize"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> <div class="col-md-4"> <label>'+c(i(a("d8WC")).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},eLO8:function(e,t,a){e.exports={item:"SharedItemCell-item-1zPRl5",isDeleteConfirmModalOpen:"SharedItemCell-isDeleteConfirmModalOpen-11H8ra",deleteButton:"SharedItemCell-deleteButton-dCizo9",alternateItem:"SharedItemCell-alternateItem-3_FMUG SharedItemCell-item-1zPRl5",posterContainer:"SharedItemCell-posterContainer-3hslOa",poster:"SharedItemCell-poster-3EMHjs",summaryContainer:"SharedItemCell-summaryContainer-3tZI7L",titleContainer:"SharedItemCell-titleContainer-3k7AdO",title:"SharedItemCell-title-3i3298",subtitle:"SharedItemCell-subtitle-1rkAxG SharedItemCell-title-3i3298",separator:"SharedItemCell-separator-2crI2a DashSeparator-separator-4CyEFW",actions:"SharedItemCell-actions-1eKPlQ",icon:"SharedItemCell-icon-3jrJRs"}},eLdf:function(e,t,a){"use strict";var n,i,r,s,o,l,c,d,u,p,m,h,g;a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return h})),(n||(n={})).Filter="filter",(r=i||(i={})).String="string",r.Integer="integer",r.Boolean="boolean",(o=s||(s={})).Ascending="asc",o.Descending="desc",(c=l||(l={})).Year="year",c.Decade="decade",c.Duration="duration",c.Rating="rating",c.HDR="hdr",c.FleSize="fileSize",c.Bitrate="bitrate",(u=d||(d={})).Tag="tag",u.String="string",u.Integer="integer",u.Boolean="boolean",u.Date="date",u.SubtitleLanguage="subtitleLanguage",u.AudioLanguage="audioLanguage",u.Resolution="resolution",(m=p||(p={})).AddedAt="addedAt",m.AddedAtChannelTag="addedAtChannelTag",m.AddedAtGrandparentTitle="addedAtGrandparentTitle",m.AirsAt="airsAt",m.AttributionLogo="attributionLogo",m.ChildCount="childCount",m.ContentRating="contentRating",m.Duration="duration",m.EpisodeIdentifier="episodeIdentifier",m.GrandparentTitle="grandparentTitle",m.LastRatedAt="lastRatedAt",m.LastViewedAt="lastViewedAt",m.LeafCount="leafCount",m.MediaBitrate="mediaBitrate",m.OriginallyAvailableAt="originallyAvailableAt",m.OriginalTitle="originalTitle",m.ParentTitle="parentTitle",m.Rating="rating",m.SourceTitle="sourceTitle",m.Title="title",m.TitleAttributed="titleAttributed",m.UnviewedLeafCount="unviewedLeafCount",m.UserRating="userRating",m.VideoResolution="videoResolution",m.ViewCount="viewCount",m.ViewOffset="viewOffset",m.Year="year",(g=h||(h={})).Attribution="attribution",g.Avatar="avatar",g.Background="background",g.Banner="banner",g.Clear="clear",g.CoverArt="coverArt",g.CoverPoster="coverPoster",g.CoverSquare="coverSquare",g.Snapshot="snapshot"},eNuQ:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return s}));var n=a("17x9");const i=0,r=1,s=2;a.n(n).a.oneOf([i,r,s])},eO7X:function(e,t,a){e.exports={container:"AccountSummary-container-2EbPg2",actionLinksContainer:"AccountSummary-actionLinksContainer-2aUMQI",actionLinks:"AccountSummary-actionLinks-1tXSN6 SettingsFormSectionActionLinks-actionLinks-2vGv7Q",linkSeparator:"AccountSummary-linkSeparator-F6ygAk",separator:"AccountSummary-separator-23I7sP DashSeparator-separator-4CyEFW",badgeContainer:"AccountSummary-badgeContainer-2TYeDA",plexPassBadge:"AccountSummary-plexPassBadge-27hFF9",textBadge:"AccountSummary-textBadge-3M187q"}},ePga:function(e,t,a){e.exports={controls:"WatchTogetherLobbyControls-controls-olOgI6 PlayerControls-controls-e59abb",buttonGroup:"WatchTogetherLobbyControls-buttonGroup-3xsaXv PlayerControls-buttonGroup-4L6Pw-",buttonGroupLeft:"WatchTogetherLobbyControls-buttonGroupLeft-2a2-hk PlayerControls-buttonGroupLeft-3vLk-g PlayerControls-buttonGroup-4L6Pw-",buttonGroupCenter:"WatchTogetherLobbyControls-buttonGroupCenter-1OVvvY PlayerControls-buttonGroupCenter-11q8ie PlayerControls-buttonGroup-4L6Pw-",buttonGroupRight:"WatchTogetherLobbyControls-buttonGroupRight-1Cjjiw PlayerControls-buttonGroupRight-18LS_l PlayerControls-buttonGroup-4L6Pw-",balanceLeft:"WatchTogetherLobbyControls-balanceLeft-352OhH PlayerControls-balanceLeft--vfZAg",button:"WatchTogetherLobbyControls-button-3_hq2P WatchTogetherLobbyControlButton-button-2pzvIx Button-button-2kT68l Link-link-2n0yJn",hasLandscapePoster:"WatchTogetherLobbyControls-hasLandscapePoster-2jgsTC PlayerControls-hasLandscapePoster-23Gat5"}},"eR/B":function(e,t,a){e.exports={container:"MetadataTitleAttributedYear-container-13zCHq",badge:"MetadataTitleAttributedYear-badge-2LIkKl",title:"MetadataTitleAttributedYear-title-1wqqCr"}},eRZe:function(e,t,a){e.exports={container:"MetadataTitleAttributedLink-container-3yxPWV",badge:"MetadataTitleAttributedLink-badge-jZWYpy",title:"MetadataTitleAttributedLink-title-3qLtHw"}},eSZy:function(e,t,a){e.exports={container:"QuickSearchResults-container-3IlHhN"}},eX9C:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-music-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m199.855 473.521c.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-356.752 400-80 0 392c0 .52-.05 1.028-.145 1.521.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-232.852-320 64.2 0 283.9c0 .52-.05 1.028-.145 1.521"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},eYpM:function(e,t,a){e.exports={input:"TextInput-input-1mDdJf",small:"TextInput-small-1XXilD",medium:"TextInput-medium-qD1PE1",large:"TextInput-large-18fV9r",isDisabled:"TextInput-isDisabled-1NW5p-",hasError:"TextInput-hasError-3AtKMF"}},ebYq:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("G4qV"),i=a("vUK6");function r(){return Object(n.a)((e,{mediaSubscriptionEntityID:t})=>t,i.a,(e,t)=>t[e])}},egLJ:function(e,t,a){e.exports={container:"AutosuggestInput-container-20ylXd",input:"AutosuggestInput-input-1--lBD",suggestionsContainer:"AutosuggestInput-suggestionsContainer-3jInGa Scroller-scroller-3GqQcZ Scroller-vertical-VScFLT Menu-menu-3XnN6J",suggestionsContainerOpen:"AutosuggestInput-suggestionsContainerOpen-YnHMHi",suggestionsList:"AutosuggestInput-suggestionsList-2NO4yX",suggestion:"AutosuggestInput-suggestion-1Q-8mZ MenuItem-menuItem-1s02mQ",suggestionHighlighted:"AutosuggestInput-suggestionHighlighted-3YxSr7"}},elzf:function(e,t,a){"use strict";var n=a("B69o"),i=a("nvND"),r=a("Pizw"),s=a("hzmZ");const o=n.a.extend({name:"MediaSubscriptionTemplateCollection",context:["server","provider"],url:"/media/subscriptions/template",model:s.a,augmentResponseText:(e,t)=>t===i.c?Object(r.b)(e):e,augmentResponse:e=>e.SubscriptionTemplate});t.a=o},eoAN:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("2pL0"),s=a("66GW"),o=a("NYe9"),l=a("Y/9r"),c=a.n(l);function d({className:e,circleClassName:t,iconClassName:a,title:n,...l}){return i.a.createElement(r.a,{className:e,"aria-label":Object(s.default)("Record {title}",{title:n}),...l},i.a.createElement(o.a,{circleClassName:t,iconClassName:a}))}d.defaultProps={className:c.a.recordButton},t.a=d},eq1q:function(e,t,a){e.exports={titleContainer:"MetadataTableTitle-titleContainer-3sPQCa",title:"MetadataTableTitle-title-2WmEM3",folderIconContainer:"MetadataTableTitle-folderIconContainer-3TcvnR MetadataTitleDecoratorIcon-decoratorIconContainer-3n0amT",folderIcon:"MetadataTableTitle-folderIcon-1bAaoB MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk",multiVersionIcon:"MetadataTableTitle-multiVersionIcon-1lcNL3 MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk"}},"f+Ik":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));const n="up",i="right",r="down"},f0u1:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR"),r=a("WfN5"),s=a("7za+"),o=a("vUHz"),l=a("B69o"),c=a("AKSZ");var d=l.a.extend({name:"ServerShareCollection2",context:["server"],model:c.a});const u=n.a.extend({name:"FriendModel2",context:["server"],rootPropertyName:"User",entityType:s.a,entityID(e=this.state){return Object(r.a)(this.entityType,e.id)},urlRoot(){return this.get("home")?"/api/users":"/api/friends"},sessionAttrs:{user:i.a.string,isRemoving:i.a.boolean},syncedAttrs:{id:i.a.integer,home:i.a.boolean,protected:i.a.boolean,restricted:i.a.boolean,title:i.a.string,username:i.a.string,email:i.a.string,thumb:i.a.string,recommendationsPlaylistId:i.a.string,...o.a},syncedRelations:{serverShares:{relationClass:d,rootPropertyName:"Server"}},defaults:{isRemoving:!1}});t.a=u},f2wi:function(e,t,a){"use strict";a.r(t),a.d(t,"NEWS",(function(){return n})),a.d(t,"PODCAST",(function(){return i})),a.d(t,"WEBSHOW",(function(){return r})),a.d(t,"MUSIC_VIDEO",(function(){return s}));const n="news",i="podcast",r="webshow",s="musicVideo"},f32x:function(e,t,a){const n=a("hPsq").default,i=a("a4Cb");e.exports=i(n)},f6jo:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("VzhI"),l=a("qoqg"),c=a.n(l);class d extends r.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange(e.target.value)},this.onFocus=()=>{this._select()},this.onRef=e=>{this.inputElement=e}}componentDidMount(){this.props.focusOnMount&&(this.inputElement.focus(),this._select())}_select(){if(this.inputElement&&this.props.selectTextOnFocus){const e=this.inputElement.value,t=e?e.length:0;this.inputElement.selectionStart=0,this.inputElement.selectionEnd=t}}render(){const{className:e,errorClassName:t,disabledClassName:a,isDisabled:n,initialValue:r,value:o,size:l,type:d,name:u,placeholder:p,hasError:m,errors:h,validations:g,focusOnMount:y,selectTextOnFocus:f,...b}=this.props;return s.a.createElement("input",{...b,id:u,name:u,type:d,disabled:n,value:o,placeholder:p,className:i()(e,c.a[l],n&&a,m&&t),ref:y?this.onRef:null,onChange:this.onChange,onFocus:this.onFocus})}}d.defaultProps={className:c.a.input,errorClassName:c.a.hasError,disabledClassName:c.a.isDisabled,isDisabled:!1,size:o.a,type:"text",hasError:!1,focusOnMount:!1,selectTextOnFocus:!1},t.a=d},f90G:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("Bw3N"),s=a("buLI"),o=a("xyiB"),l=a("a0eB"),c=a("JKRp"),d=a.n(c);class u extends n.Component{constructor(){super(...arguments),this.onChange=({steppedValue:e})=>{const t=String(this.props.stepSize),[,a]=t.split("."),n=null!=a?parseFloat(e.toFixed(a.length)):e;this.props.onChange(n)}}render(){const{name:e,value:t,min:a,max:n,stepSize:o,labelText:c,showErrors:u,errors:p,valueModifier:m}=this.props;return i.a.createElement(r.a,null,i.a.createElement(s.a,{showErrors:u,errors:p,name:e,labelText:c}),i.a.createElement("div",{className:d.a.sliderContainer},i.a.createElement(l.a,{className:d.a.slider,value:t,min:a,max:n,stepSize:o,onChange:this.onChange}),i.a.createElement("div",{className:d.a.sliderValue},m(t))))}}u.defaultProps={valueModifier:e=>e},t.a=Object(o.a)(u)},fCYg:function(e,t,a){e.exports={container:"ServerDashboardPageUpdateMessage-container-1E003h",link:"ServerDashboardPageUpdateMessage-link-2MFkCT Link-link-2ew_DK"}},fIk4:function(e,t,a){"use strict";var n=a("Livm"),i=a("xNAM"),r=a("7H9Q"),s=a("eX9C"),o=a("aCTI"),l=a("qCD8"),c=a("Hpi7");const d={movie:r.a,show:c.a,season:c.a,episode:c.a,artist:n.a,album:s.a,track:s.a,photo:o.a,photoalbum:o.a,clip:i.a,station:l.a};t.a=d},fLiA:function(e,t,a){"use strict";function n(){return window.viewport&&window.viewport.pixelRatio||window.devicePixelRatio||1}a.d(t,"a",(function(){return n}))},"fPZ+":function(e,t,a){e.exports={pageHeader:"PrePlayPageHeader-pageHeader-6mIBnP PageHeader-pageHeader-2KNPGd",attribution:"PrePlayPageHeader-attribution-3CHaaR"}},fTYo:function(e,t,a){e.exports={providerTitle:"SearchProviderHubs-providerTitle-3nGwSv",spinner:"SearchProviderHubs-spinner-1-T9Ul"}},fVMv:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("odh7"),i=a("xEL2");function r(e,t={}){if(null==e)return!1;return Object(i.a)(Object(n.a)(new Date),t)<=e}},fVRA:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"h",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"n",(function(){return c})),a.d(t,"l",(function(){return d})),a.d(t,"q",(function(){return u})),a.d(t,"o",(function(){return p})),a.d(t,"k",(function(){return m})),a.d(t,"m",(function(){return h})),a.d(t,"g",(function(){return g})),a.d(t,"f",(function(){return y})),a.d(t,"i",(function(){return f})),a.d(t,"p",(function(){return b})),a.d(t,"j",(function(){return v})),a.d(t,"d",(function(){return I})),a.d(t,"r",(function(){return S})),a.d(t,"s",(function(){return E})),a.d(t,"t",(function(){return O}));var n=a("17x9");const i="discover",r="library",s="directoryList",o="metadataList",l="continueWatching",c="prePlay",d="playlist",u="search",p="quickSearch",m="player",h="playQueue",g="liveTVTimeline",y="liveTVGrid",f="newscast",b="recommended",v="nowPlaying",I="downloads",S="shared",E="watchTogether",O="watchTogetherLobby";a.n(n).a.oneOf([i,r,s,o,"timeline",l,c,"postPlayPrevious","postPlayNext",d,u,p,m,h,g,y,f,b,v,I,S,E,O])},fZAC:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){var n="";return n+=" - "+c(i(a("HdxU")).call(e,e&&e.mediaSettings,{hash:{},data:t}))}return l+='<select class="convert-target-select" name="target" ',((o=n.if.call(t,t&&t.disableTarget,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"disabled"}),s),data:s}))||0===o)&&(l+=o),l+="> ",((o=n.each.call(t,t&&t.targets,{hash:{},inverse:d.noop,fn:d.programWithDepth(3,(function(e,t,r){var s,o="";return o+=' <option value="'+c("function"==typeof(s=e&&e.id)?s.apply(e):s)+'" ',((s=i(a("w+Xr")).call(e,null==(s=r&&r.item)||!1===s?s:s.targetTagID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(o+=s),o+="> "+c("function"==typeof(s=e&&e.tag)?s.apply(e):s),((s=n.if.call(e,null==(s=e&&e.mediaSettings)||!1===s?s:s.videoResolution,{hash:{},inverse:d.noop,fn:d.program(6,p,t),data:t}))||0===s)&&(o+=s),o+=" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' <option value="-1" ',((o=n.unless.call(t,null==(o=t&&t.item)||!1===o?o:o.targetTagID,{hash:{},inverse:d.noop,fn:d.program(4,u,s),data:s}))||0===o)&&(l+=o),l+=">"+c(i(a("d8WC")).call(t,"Custom",{hash:{},data:s}))+'</option> </select> <div class="convert-custom-target-container"> <input type="text" class="convert-target-title form-control" name="targetTitle" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.target)?o.apply(t):o)+'" placeholder="'+c(i(a("d8WC")).call(t,"Quality Name",{hash:{},data:s}))+'"> <select class="convert-target-profile-select" name="targetProfile"> ',((o=n.each.call(t,t&&t.profiles,{hash:{},inverse:d.noop,fn:d.programWithDepth(8,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.title)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,null==(r=n&&n.selectedProfile)||!1===r?r:r.title,e&&e.title,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+="> "+c("function"==typeof(r=e&&e.title)?r.apply(e):r)+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <select class="convert-target-quality-select" name="targetQuality"> ',((o=n.each.call(t,t&&t.availableCustomQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,(function(e,t,n){var r,s="";return s+=' <option value="'+c("function"==typeof(r=e&&e.index)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,null==(r=n&&n.selectedCustomQuality)||!1===r?r:r.index,e&&e.index,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("HdxU")).call(e,e,{hash:{},data:t}))+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> </div> <p class="help-block">'+c(i(a("d8WC")).call(t,"Plex will convert your media to this quality. Each version will be stored in a separate file.",{hash:{},data:s}))+"</p> "}))},fZKy:function(e,t,a){e.exports={item:"SharedItemMetadataCell-item-w0Wz_p",isActionsMenuOpen:"SharedItemMetadataCell-isActionsMenuOpen-HTHI-h",moreButton:"SharedItemMetadataCell-moreButton-1uwdP1",alternateItem:"SharedItemMetadataCell-alternateItem-1TBVng SharedItemMetadataCell-item-w0Wz_p",underlay:"SharedItemMetadataCell-underlay-3Z1q2M",overlay:"SharedItemMetadataCell-overlay-2l-RKE",posterContainer:"SharedItemMetadataCell-posterContainer-3O2CIh",summaryContainer:"SharedItemMetadataCell-summaryContainer-1RnMUu",titleContainer:"SharedItemMetadataCell-titleContainer-3gfbmb",title:"SharedItemMetadataCell-title-1x3m6K",type:"SharedItemMetadataCell-type-2bG9Xp",actions:"SharedItemMetadataCell-actions-3NIcCg"}},fbCT:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l="",c=this.escapeExpression;function d(e,t){return"disabled"}return l+='<div class="form-group"> <label for="lockable-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'">'+c((o=a("d8WC"),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:r}))+'</label> <div class="input-group"> <a href="#" data-field="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="input-group-addon edit-lock-addon ',((s=n.if.call(t,t&&t.locked,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"locked"}),r),data:r}))||0===s)&&(l+=s),l+=" ",((s=n.if.call(t,t&&t.disabled,{hash:{},inverse:this.noop,fn:this.program(3,d,r),data:r}))||0===s)&&(l+=s),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> <input type="number" id="lockable-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="form-control lockable-field" name="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" value="'+c("function"==typeof(s=t&&t.value)?s.apply(t):s)+'" placeholder="'+c("function"==typeof(s=t&&t.placeholder)?s.apply(t):s)+'" ',((s=n.if.call(t,t&&t.disabled,{hash:{},inverse:this.noop,fn:this.program(3,d,r),data:r}))||0===s)&&(l+=s),l+="> </div> </div> "}))},ffMF:function(e,t,a){"use strict";var n=a("G4qV"),i=a("l1OG");const r=Object(n.a)(i.a,({language:e})=>e);t.a=r},fhkX:function(e,t,a){e.exports={troubleshootingSection:"ServerTroubleshootingPane-troubleshootingSection-2sPDnQ",buttonContainer:"ServerTroubleshootingPane-buttonContainer-32mhYG",buttonStatus:"ServerTroubleshootingPane-buttonStatus-_ZS1zr",buttonStatusSuccess:"ServerTroubleshootingPane-buttonStatusSuccess-12Jbj9 ServerTroubleshootingPane-buttonStatus-_ZS1zr",buttonStatusError:"ServerTroubleshootingPane-buttonStatusError-1Kyp1H ServerTroubleshootingPane-buttonStatus-_ZS1zr",button:"ServerTroubleshootingPane-button-Av642k",description:"ServerTroubleshootingPane-description-2JlKLF"}},fjrA:function(e,t,a){"use strict";var n,i,r,s,o,l,c,d,u,p,m,h;a.d(t,"f",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return m})),(i=n||(n={})).ArrowDown="ArrowDown",i.ArrowLeft="ArrowLeft",i.ArrowRight="ArrowRight",i.ArrowUp="ArrowUp",i.Enter="Enter",i.KeyA="KeyA",i.KeyC="KeyC",i.KeyD="KeyD",i.KeyF="KeyF",i.KeyG="KeyG",i.KeyH="KeyH",i.KeyI="KeyI",i.KeyJ="KeyJ",i.KeyK="KeyK",i.KeyL="KeyL",i.KeyQ="KeyQ",i.KeyR="KeyR",i.KeyS="KeyS",i.KeyW="KeyW",i.KeyX="KeyX",i.KeyT="KeyT",i.KeyZ="KeyZ",i.ShiftLeft="ShiftLeft",i.ShiftRight="ShiftRight",(s=r||(r={}))[s.Button0=0]="Button0",s[s.Button1=1]="Button1",s[s.Button2=2]="Button2",s[s.Button3=3]="Button3",s[s.Button4=4]="Button4",s[s.Button5=5]="Button5",s[s.Button6=6]="Button6",s[s.Button7=7]="Button7",s[s.Button8=8]="Button8",s[s.Button9=9]="Button9",s[s.Button10=10]="Button10",s[s.Button11=11]="Button11",s[s.Button12=12]="Button12",s[s.Button13=13]="Button13",s[s.Button14=14]="Button14",s[s.Button15=15]="Button15",s[s.Button16=16]="Button16",s[s.Button17=17]="Button17",(l=o||(o={}))[l.Axis0=0]="Axis0",l[l.Axis1=1]="Axis1",l[l.Axis2=2]="Axis2",l[l.Axis3=3]="Axis3",(d=c||(c={}))[d.None=0]="None",d[d.Keyboard=1]="Keyboard",d[d.Gamepad=2]="Gamepad",(p=u||(u={}))[p.Ok=0]="Ok",p[p.UnknownFailure=8e3]="UnknownFailure",p[p.AccountLinkageMissing=8001]="AccountLinkageMissing",p[p.PlatformMissing=8002]="PlatformMissing",p[p.PlatformCoreMappingMissing=8003]="PlatformCoreMappingMissing",p[p.PlatformCoreMissing=8004]="PlatformCoreMissing",p[p.TranscoderDied=8005]="TranscoderDied",p[p.InvalidCoreMappingFile=8006]="InvalidCoreMappingFile",p[p.MissingCoreMappingFile=8007]="MissingCoreMappingFile",p[p.SessionPeerNeverShowedUp=8008]="SessionPeerNeverShowedUp",p[p.TranscoderDownloading=8009]="TranscoderDownloading",p[p.PlatformCoreDownloading=8010]="PlatformCoreDownloading",p[p.PlatformCoreMappingFileMissingOrInvalid=8011]="PlatformCoreMappingFileMissingOrInvalid",p[p.RomMissing=8012]="RomMissing",p[p.SubscriptionRequired=8013]="SubscriptionRequired",(h=m||(m={}))[h.PauseGame=1]="PauseGame",h[h.ResumeGame=2]="ResumeGame"},fklS:function(e,t,a){"use strict";t.a={defaultSpeed:"0.2s",slowSpeed:"0.6s",fastSpeed:"0.1s",motionEasing:"cubic-bezier(0.6, 0.4, 0.2, 1.4)",modalSpeed:"0.2s",menuSpeed:"0.15s",tooltipSpeed:"0.15s"}},frcC:function(e,t,a){"use strict";a.r(t);var n=a("FIl5"),i=a("66GW");t.default=function(e){return e&&n.a.parseBoolean(e)?Object(i.default)("Yes"):Object(i.default)("No")}},ftj1:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("slDQ"),s=a("+X4A"),o=a("CHn6"),l=a("mOXR"),c=a("P5+F"),d=a("kRwu"),u=a("bQSc"),p=a("B69o");var m=o.a.extend({name:"ConnectionSourceModel",context:["server"],sessionAttrs:{id:l.a.string}});var h=p.a.extend({name:"ConnectionSourceCollection",context:["server"],model:m});const g=l.a.boolean.isRequired,y=o.a.extend({name:"ConnectionModel",context:["server"],idAttribute:"uri",sessionAttrs:{currentTest:l.a.custom(e=>Array.isArray(e)&&e.every(e=>i.a.isFunction(e.abort))),testState:l.a.oneOf(c.f,c.c,c.b,c.d,c.e,c.a).isRequired,isBundled:g,isFallback:g},sessionRelations:{sources:{relationClass:h}},syncedAttrs:{uri:l.a.string,scheme:l.a.string,address:l.a.string,port:l.a.string,relay:l.a.boolean},derivedAttrs:{isUntested(){return this.get("testState")===c.f},isPending(){return this.get("testState")===c.c},isConnected(){return this.get("testState")===c.b},isUnauthorized(){return this.get("testState")===c.d},isUnavailable(){return this.get("testState")===c.e},isFailed(){return this.get("isUnauthorized")||this.get("isUnavailable")},isAborted(){return this.get("testState")===c.a},isLoopback(){const e=this.get("address");return"localhost"===e||u.b(e)},isPrivate(){return this.get("isLoopback")||u.c(this.get("address"))},isHttps(){return"https"===this.get("scheme")},isSecure(){return this.get("isLoopback")||this.get("isHttps")},isPlexDirect(){return/\.plex\.direct:/.test(this.get("uri"))}},defaults:{testState:c.f,isBundled:!1,isFallback:!1,relay:!1},url(){return this.get("uri")},constructor:function(e,t){const a=i.a.clone(e);i.a.isObject(e)&&!e.uri&&(Object(r.a)(e.scheme&&e.address,`A server connection requires either a uri or a scheme and address. ${e.scheme}://${e.address}`),a.uri=`${e.scheme}://${e.address}`,e.port&&(a.uri+=":"+e.port)),o.a.prototype.constructor.call(this,a,t)},initialize(){this.listenTo(this.get("sources"),"remove reset",this.onSourcesChange)},augmentResponse(e){const t=e.protocol;return t?i.a.extend({},e,{scheme:t}):e},getAddressFromUri(){return s.default.parseUrl(this.get("uri")).hostname},getIpAddressFromPlexDirectAddress(){return Object(d.a)(this.get("address"))},getLoopbackAttributes(){return{scheme:"http",address:"127.0.0.1",port:this.get("port")}},hasSource(e){return this.get("sources").some(t=>e&&t.get("id")===e)},onSourcesChange(){this.get("sources").length||this.trigger("destroy",this,this.collection)}});t.a=y},fwi0:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n="livetv"},fwkD:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("bsps"),l=o.a.extend({className:"select-modal modal modal-sm fade",events:s.a.extend({"click a":"onClick"},o.a.prototype.events),initialize:function(){o.a.prototype.initialize.apply(this,arguments),this.promise=i.a.Deferred()},onRender:function(){o.a.prototype.onRender.apply(this,arguments)},onHide:function(e){o.a.prototype.onHide.apply(this,arguments),this.promise.reject()},onClick:function(e){e.preventDefault(),this.promise.resolve(i()(e.currentTarget).data("value")),this.hide()}});t.a=l},fxUS:function(e,t,a){"use strict";var n=a("/MKj"),i=a("G4qV"),r=a("/oUX"),s=a("SiWM"),o=a("xSXQ"),l=a("m8hN"),c=a("n9Z6"),d=a("2bcr"),u=a("xI1S"),p=a("Lo/S"),m=a("2cfR"),h=a("xPjC"),g=a("GbpW"),y=a("FAcX"),f=a("sjIW"),b=a("q1tI"),v=a.n(b),I=a("F/us"),S=a.n(I),E=a("HPXQ"),O=a("cftR"),M=a("kvRM"),C=a("FeaP"),j=a("qNMu"),D=a("YINS"),P=a("gnaf"),T=a("66GW"),w=a("f2wi"),N=a("Na6n"),x=a("qP+I"),A=a("DRU1"),L=a("+PyO"),k=a("JMV9"),R=a("haOg"),z=a("loC3"),U=a("PSl2");var V=a("rXDx"),B=a("1WZA");var F=a("Vv31"),H=a("r5Me"),_=a.n(H);class W extends b.Component{constructor(){super(...arguments),this.createOnPress=e=>{const{metadataItemEntityID:t,onItemPress:a}=this.props;return()=>a({metadataItemEntityID:t,...e})}}render(){const{serverDirectories:e,hasMultipleServers:t,onMenuClose:a}=this.props;if(!e||!e.length)return null;if(1===e.length){const t=e[0].title,n=Object(T.default)("Add to {libraryTitle}",{libraryTitle:t});return v.a.createElement(O.a,{className:_.a.item,title:n,onPress:Object(C.a)(this.createOnPress(e[0]),a)},n)}return v.a.createElement(F.a,{label:Object(T.default)("Add to Library"),onMenuClose:a},e.map(({serverFriendlyName:e,title:n,...i},r)=>{const s=n+(t?` (${e})`:"");return v.a.createElement(O.a,{key:r,className:_.a.item,title:s,onPress:Object(C.a)(this.createOnPress(i),a)},s)}))}}var Q=W;const G=Object(i.a)(R.a,(K=k.a.addProviderContentToLibrary,Object(i.a)(z.a,e=>e.filter(({version:e})=>e&&Object(U.a)(e,K)))),(e,t)=>{let a=0;return{serverDirectories:t.reduce((t,n)=>{const i=function(e,t){return e.reduce((e,a)=>{const n=Object(B.a)(a),i=(n?n.directories:[]).filter(e=>e.type===t);return e.push(...i),e},[])}(n.providers.map(t=>e[t]),V.ARTIST);i.length&&(a+=1);const r=i.map(e=>({serverEntityID:n.entityID,serverFriendlyName:n.friendlyName,title:e.title,sectionKey:e.key}));return t.push(...r),t},[]),hasMultipleServers:a>1}});var K;const Y={onItemPress:r.k};var q=Object(n.b)(G,Y)(Q),Z=a("+UHr"),X=a("1cGo"),J=a("iZkF"),$=a("Pg5J"),ee=a("VLKS"),te=a("S09J"),ae=a("hcx5"),ne=a("vGNm");var ie=function(e){const{mediaItems:t,...a}=e;return v.a.createElement(ae.a,{title:Object(T.default)("Play Version"),metricsPage:J.ab,...a},t.map((e,t)=>{const a=[];if(e.bitrate&&a.push(Object(te.default)(e.bitrate)),e.videoResolution){const t=Object($.a)(e),n=t?t.scanType:null;a.push(Object(ee.default)(e.videoResolution,n))}const n=!!e.title,i=a.length>0;return v.a.createElement(ne.a,{key:t,value:t},n?e.title:null,n&&i?v.a.createElement(X.b,null):null,i?a.join(", "):null,n||i?null:Object(T.default)("Unknown"))}))},re=a("iI8o"),se=a("vvci"),oe=a("pe6m"),le=a("qqi0"),ce=a("24/4"),de=a("LxUg");var ue=function(e){const{onMenuClose:t}=e;return v.a.createElement(F.a,{label:Object(T.default)("Add to Playlist"),onMenuClose:t},v.a.createElement(de.a,{...e}))},pe=(a("XjQJ"),a("2C4C"));a("3+5O");var me=function(e){const{metadataItem:t,onMenuClose:a}=e,n=Object(pe.a)(),i=t.downloadUrl?t.downloadUrl():null,r=i&&!0;return v.a.createElement(v.a.Fragment,null,v.a.createElement(O.a,{to:i,target:i?n:null,download:r,onPress:t.downloadUrl?a:Object(C.a)(e.onDownloadVersionPress,a)},Object(T.default)("Download File")),null)};var he=function(e){const{hasDownloadState:t,hasOfflineFile:a,hasOwnSubscription:n,label:i,progress:r,...s}=e;return v.a.createElement(O.a,{...s},i)};const ge=["showPlay","showPlayVersion","showPlayAll","showShuffle","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayTrailer","showPlayMusicVideo","showWatchTogether","showAddToPlaylist","showAddToLibrary"],ye=["showEdit","showMarkPlayed","showMarkUnplayed","showModifySmartPlaylist","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showGetInfo"];function fe(e,t){return!!S.a.find(e,e=>t[e])}function be(e){const{target:t,isOpen:a,metadataItem:n,metadataItemEntityID:i,metricsPage:r,providerEntityID:s,serverEntityID:o,onPlayVersionPress:l,onCancelDownloadActivity:c,onDeleteDownloadSubscription:d,onCreateDownloadSubscription:u,onMenuClose:p}=e,m=Object(le.a)(e.onMarkPlayedConfirm),h=Object(le.a)(e.onMarkUnplayedConfirm),g=Object(le.a)(),y=Object(le.a)(),f=Object(le.a)(),I=Object(le.a)(),S=Object(le.a)(),k=Object(A.c)({metadataItemEntityID:i,metricsPage:r,providerEntityID:s,serverEntityID:o,onCancelDownloadActivity:c,onCreateDownloadSubscription:u,onDeleteDownloadSubscription:d}),R=Object(b.useCallback)(e=>{l(e),g.onClose()},[l,g]),z=!!n.metadataState,U=!!n.mediaState,V=fe(ge,e),B=fe(ye,e),F=V&&B;return v.a.createElement(v.a.Fragment,null,v.a.createElement(E.a,{target:t,isOpen:a,onMenuClose:p},e.showPlay?v.a.createElement(O.a,{onPress:Object(C.a)(e.onPlayPress,p)},Object(T.default)("Play")):null,e.showPlayVersion?v.a.createElement(O.a,{onPress:Object(C.a)(g.onOpen,p)},Object(T.default)("Play Version...")):null,e.showPlayAll?v.a.createElement(O.a,{onPress:Object(C.a)(e.onPlayAllPress,p)},Object(T.default)("Play All")):null,e.showShuffle?v.a.createElement(O.a,{onPress:Object(C.a)(e.onShufflePress,p)},Object(T.default)("Shuffle")):null,e.showPlayRadio?v.a.createElement(O.a,{onPress:Object(C.a)(e.onPlayRadioPress,p)},Object(T.default)("Play Radio")):null,e.showPlayArtistTV?v.a.createElement(O.a,{onPress:Object(C.a)(e.onPlayArtistTVPress,p)},Object(T.default)("Play Artist TV")):null,e.showWatchTogether?v.a.createElement(O.a,{onPress:Object(C.a)(y.onOpen,p)},Object(T.default)("Watch Together...")):null,e.showQueue?v.a.createElement(O.a,{onPress:Object(C.a)(e.onPlayNextPress,p)},Object(T.default)("Play Next")):null,e.showQueue?v.a.createElement(O.a,{onPress:Object(C.a)(e.onAddToQueuePress,p)},Object(T.default)("Add to Queue")):null,e.showPlayPlexMix?v.a.createElement(O.a,{onPress:Object(C.a)(e.onPlayPlexMixPress,p)},Object(T.default)("Play Plex Mix")):null,e.showQueuePlexMix?v.a.createElement(O.a,{onPress:Object(C.a)(e.onQueuePlexMixPress,p)},Object(T.default)("Queue Plex Mix")):null,e.showPlayTrailer?v.a.createElement(O.a,{onPress:Object(C.a)(e.onPlayPrimaryExtraPress,p)},Object(T.default)("Play Trailer")):null,e.showPlayMusicVideo?v.a.createElement(O.a,{onPress:Object(C.a)(e.onPlayPrimaryExtraPress,p)},Object(T.default)("Play Music Video")):null,e.showAddToWatchlist?v.a.createElement(O.a,{onPress:Object(C.a)(e.onAddToWatchlistPress,p)},n.watchlistedAt?Object(T.default)("Remove from Watchlist"):Object(T.default)("Add to Watchlist")):null,e.showAddToPlaylist?v.a.createElement(ue,{serverEntityID:o,providerEntityID:s,metadataItemEntityID:i,showAddToPlaylist:!0,onAddToPlaylistPress:Object(C.a)(I.onOpen,p),onMenuClose:p}):null,e.showAddToSaved?v.a.createElement(O.a,{onPress:Object(C.a)(e.onAddToSavedPress,p)},(H=n.saved,_=e.providerIdentifier,n.subtype===w.PODCAST?H?Object(T.default)("Remove from My Podcasts"):Object(T.default)("Add to My Podcasts"):P.l(_,P.f)?H?Object(T.default)("Remove from My TIDAL"):Object(T.default)("Add to My TIDAL"):H?Object(T.default)("Remove from My Shows"):Object(T.default)("Add to My Shows"))):null,e.showAddToPicks?v.a.createElement(O.a,{onPress:Object(C.a)(e.onAddToPicksPress,p)},n.picked?Object(T.default)("Remove from Plex Picks"):Object(T.default)("Add to Plex Picks")):null,e.showAddToLibrary?v.a.createElement(q,{serverEntityID:o,providerEntityID:s,metadataItemEntityID:i,onMenuClose:e.onMenuClose}):null,F?v.a.createElement(M.a,null):null,e.showEdit?v.a.createElement(O.a,{onPress:Object(C.a)(e.onEditPress,p)},Object(T.default)("Edit")):null,e.showModifySmartPlaylist?v.a.createElement(O.a,{onPress:Object(C.a)(e.onModifySmartPlaylistPress,p)},Object(T.default)("Edit Filters")):null,e.showSettings?v.a.createElement(O.a,{onPress:Object(C.a)(f.onOpen,p)},Object(T.default)("Settings")):null,e.showMarkPlayed?v.a.createElement(O.a,{onPress:Object(C.a)(m.onOpen,p)},Object(T.default)("Mark as Played")):null,e.showMarkUnplayed?v.a.createElement(O.a,{onPress:Object(C.a)(h.onOpen,p)},Object(T.default)("Mark as Unplayed")):null,e.showRefresh?v.a.createElement(O.a,{isDisabled:z,onPress:Object(C.a)(e.onRefreshPress,p)},Object(T.default)("Refresh Metadata")):null,e.showAnalyze?v.a.createElement(O.a,{isDisabled:U,onPress:Object(C.a)(e.onAnalyzePress,p)},Object(T.default)("Analyze")):null,e.showFixMatch?v.a.createElement(O.a,{onPress:Object(C.a)(e.onFixMatchPress,p)},Object(T.default)("Fix Match...")):null,e.showMatch?v.a.createElement(O.a,{onPress:Object(C.a)(e.onFixMatchPress,p)},Object(T.default)("Match...")):null,e.showUnmatch?v.a.createElement(O.a,{onPress:Object(C.a)(e.onUnmatchPress,p)},Object(T.default)("Unmatch")):null,e.showSplitApart?v.a.createElement(O.a,{onPress:Object(C.a)(e.onSplitApartPress,p)},Object(T.default)("Split Apart")):null,e.showSync?v.a.createElement(O.a,{onPress:Object(C.a)(e.onSyncPress,p)},Object(T.default)("Sync...")):null,e.showSyncDownload?v.a.createElement(A.b,{component:he,metadataItemEntityID:i,providerEntityID:s,serverEntityID:o,onPress:Object(C.a)(k.onPress,p)}):null,e.showOptimize?v.a.createElement(O.a,{onPress:Object(C.a)(e.onOptimizePress,p)},Object(T.default)("Optimize...")):null,e.showDownload?v.a.createElement(N.a,{action:D.u},v.a.createElement(me,{metadataItem:n,onMenuClose:p,onDownloadVersionPress:e.onDownloadVersionPress})):null,e.showShare?v.a.createElement(N.a,{action:D.hb},v.a.createElement(O.a,{onPress:Object(C.a)(S.onOpen,p)},Object(T.default)("Share…"))):null,e.showDelete?v.a.createElement(O.a,{kind:n.remoteMedia?void 0:j.a,onPress:Object(C.a)(e.onDeletePress,p)},n.remoteMedia?Object(T.default)("Remove"):Object(T.default)("Delete")):null,e.showDeleteVersion?v.a.createElement(O.a,{kind:j.a,onPress:Object(C.a)(e.onDeleteVersionPress,p)},Object(T.default)("Delete Version")):null,e.showViewPlayHistory?v.a.createElement(O.a,{to:Object(ce.a)(e.machineIdentifier,n)},Object(T.default)("View Play History")):null,e.showGetInfo?v.a.createElement(O.a,{onPress:Object(C.a)(e.onGetInfoPress,p)},Object(T.default)("Get Info")):null),e.showMarkPlayed||e.showMarkUnplayed?v.a.createElement(Z.a,{isOpen:m.isOpen||h.isOpen,type:n.type,subtype:n.subtype,title:n.title,leafCount:m.isOpen?n.unviewedLeafCount:n.viewedLeafCount,markUnplayed:h.isOpen,onConfirm:m.isOpen?m.onConfirm:h.onConfirm,onCancel:m.isOpen?m.onClose:h.onClose}):null,e.showAddToPlaylist?v.a.createElement(se.a,{isOpen:I.isOpen,serverEntityID:o,providerEntityID:s,metadataItemEntityID:i,onModalClose:I.onClose}):null,e.showSyncDownload?v.a.createElement(L.a,{isOpen:k.isOpen,state:k.state,onConfirm:k.onConfirm,onClose:k.onClose}):null,v.a.createElement(ie,{isOpen:g.isOpen,mediaItems:n.Media,onCancel:g.onClose,onItemSelect:R}),v.a.createElement(re.a,{serverEntityID:o,providerEntityID:s,metadataItemEntityID:i,isOpen:f.isOpen,onModalClose:f.onClose}),e.showWatchTogether?v.a.createElement(oe.a,{metricsProperties:{context:e.metricsContext,page:r},serverEntityID:o,metadataItemEntityID:i,isOpen:y.isOpen,onModalClose:y.onClose}):null,e.showShare?v.a.createElement(x.a,{metricsProperties:{context:e.metricsContext,page:r},serverEntityID:o,metadataItemEntityID:i,isOpen:S.isOpen,onModalClose:S.onClose}):null);var H,_}be.defaultProps={allowRedirectOnDelete:!1};var ve=be;t.a=Object(n.b)(c.a)(Object(p.a)((function(){return Object(i.a)(d.b,l.a,y.a,Object(o.a)(),Object(g.a)(),(e,t,a,n,i)=>({metadataItem:n,machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,embeddedServerEntityID:a,...i}))}),(function(e,t){const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID,itemProviderEntityID:t.itemProviderEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(s.x({...a,options:{containerKey:t.containerKey,listType:t.listType}}))},onPlayVersionPress(n){e(s.x({...a,startMediaIndex:n,options:{containerKey:t.containerKey,listType:t.listType}}))},onPlayAllPress(){e(s.w(a))},onShufflePress(){e(s.B(a))},onPlayNextPress(){e(s.r({...a,options:{playAll:!0,next:!0}}))},onAddToQueuePress(){e(s.r({...a,options:{playAll:!0,next:!1}}))},onPlayPlexMixPress(){e(s.A(a))},onQueuePlexMixPress(){e(s.s(a))},onPlayPrimaryExtraPress(){e(s.y(a))},onPlayRadioPress(){e(s.z({playlistType:u.a,...a}))},onPlayArtistTVPress(){e(s.z({playlistType:u.c,...a}))},onAddToPicksPress(){e(Object(r.q)(a))},onAddToSavedPress(){e(Object(r.r)(a))},onAddToWatchlistPress(){e(Object(r.s)(a))},onMarkPlayedConfirm(){e(h.markMetadataItemPlayed({...a,skipConfirm:!0}))},onMarkUnplayedConfirm(){e(h.markMetadataItemUnplayed({...a,skipConfirm:!0}))},onEditPress(){e(h.editMetadataItem(a))},onRefreshPress(){e(h.refreshMetadataItem(a))},onModifySmartPlaylistPress(){e(h.modifySmartPlaylist(a))},onAnalyzePress(){e(h.analyzeMetadataItem(a))},onFixMatchPress(){e(h.fixMetadataItemMatch(a))},onUnmatchPress(){e(h.unmatchMetadataItem(a))},onSplitApartPress(){e(h.splitMetadataItemApart(a))},onSyncPress(){e(h.syncMetadataItem(a))},onOptimizePress(){e(h.optimizeMetadataItem(a))},onDownloadVersionPress(){e(h.downloadMetadataItemVersion(a))},onDeletePress(){e(h.deleteMetadataItem({...a,options:{skipRedirect:!t.allowRedirectOnDelete}}))},onDeleteVersionPress(){e(h.deleteMetadataItemVersion(a))},onGetInfoPress(){e(h.getMetadataItemInfo(a))},onCancelDownloadActivity(){e(m.a(a))},onDeleteDownloadSubscription(){e(m.c(a))},onCreateDownloadSubscription(){e(m.b(a))}}}),f.a)(ve))},fxyv:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("ihSJ"),l=a("VzhI"),c=a("xORa"),d=a("oSTF"),u=a("7jkP"),p=a.n(u);function m({children:e,className:t,loadingLabel:a,spinnerSize:n,spinnerColor:r,isDisabled:l,isSpinning:c,...u}){return s.a.createElement(d.a,{className:i()(t,p.a.button,c&&p.a.isSpinning),isDisabled:l||c,...u},s.a.createElement("span",{className:p.a.spinnerContainer},s.a.createElement(o.a,{className:p.a.spinner,color:r,loadingLabel:a,size:n})),s.a.createElement("span",{className:p.a.label},e))}m.defaultProps={isDisabled:!1,isSpinning:!1,spinnerSize:l.c,spinnerColor:c.a.defaultColor},t.a=m},fz6g:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=' <h4 class="server-connect-error-header">'+c(i(a("d8WC")).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(a("d8WC")).call(e,"Your server was unable to reach Plex. Please ensure that the computer or device running your server can access the internet.",{hash:{},data:t}))+"</p> "}function p(e,t){var n="";return n+=' <h4 class="server-connect-error-header">'+c(i(a("d8WC")).call(e,"Signed in to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(a("d8WC")).call(e,"You have successfully signed your server in to Plex, but we were unable to reach it from outside your network.",{hash:{},data:t}))+"</p> "}return((o=i(a("w+Xr")).call(t,t&&t.mappingError,"badauth",{hash:{},inverse:d.program(3,(function(e,t){var n,r="";return((n=i(a("w+Xr")).call(e,e&&e.mappingError,"myplexgone",{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===n)&&(r+=n),r+=" "}),s),fn:d.program(1,(function(e,t){var n="";return n+=' <h4 class="server-connect-error-header">'+c(i(a("d8WC")).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(a("d8WC")).call(e,"Plex was unable to authenticate your server. Please sign your server out and try again.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i(a("WX+G")).call(t,t&&t.context,"settings",{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){var n="";return n+=' <p class="text-muted">'+c(i(a("d8WC")).call(e,"If you skip this step you will not be able to share or stream media outside your home. If you change your mind later, you can adjust this in Settings.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=' <p class="text-muted">'+c(i(a("d8WC")).call(t,"If you would like to enable this now, you will need to configure your router or firewall to allow Plex to contact your server. Please refer to our {1}Connecting a Server{2} article for more information.",'<a href="http://support.plex.tv/hc/en-us/articles/200484543-Connecting-a-Server/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:s}))+"</p> "}))},"g/3I":function(e,t,a){e.exports={iconButton:"IconButton-iconButton-2l04Bi Link-link-2ew_DK",isDisabled:"IconButton-isDisabled-12-jv9",isActive:"IconButton-isActive-3bCOJP"}},g2Jg:function(e,t,a){"use strict";let n={};const i={getPageKey:()=>window.location.hash,getKey:e=>`${i.getPageKey()}!${e}`,get:e=>n[e],set(e,t){n[e]=t},remove(e){delete n[e]},clear(){n={}}};t.a=i},g3sH:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("EiC7"),l=a("fklS"),c=a("v9IS"),d=a("UadQ"),u=a.n(d);function p(e,t,a){const{className:n,style:r,styleProps:s,durationMilliseconds:o,useCrossFade:l}=a,c=document.createElement("div");c.className=i()(n,l&&u.a.crossFade),Object.assign(c.style,{position:"absolute",animationDuration:o+"ms",backgroundImage:`url(${e})`,width:"100%",height:"100%",...s,...r}),t.appendChild(c)}function m(e){const{className:t,style:a,containerClassName:n,containerStyle:i,src:o,width:l,height:c,backgroundSize:d,backgroundPosition:u,backgroundRepeat:m,animateOnMount:h,disableCrossFade:g,durationMilliseconds:y}=e,f=Object(r.useRef)(null),b=Object(r.useRef)(!0),v={position:"relative",width:l,height:c,...i};return Object(r.useLayoutEffect)(()=>{const e=b.current;b.current=!1;const n={className:t,style:a,styleProps:{backgroundSize:d,backgroundPosition:u,backgroundRepeat:m},durationMilliseconds:y,useCrossFade:!e||h};let i,r;return g&&(n.useCrossFade=!1),e?p(o,f.current,n):i=window.requestAnimationFrame(()=>{i=null,p(o,f.current,n),r=window.setTimeout(()=>{for(;f.current.childNodes.length>1;)(e=f.current).removeChild(e.childNodes[0]);var e},2*y)}),()=>{i&&window.cancelAnimationFrame(i),r&&window.clearTimeout(r)}},[t,a,o,d,u,m]),s.a.createElement("div",{className:n,style:v,ref:f})}m.defaultProps={...c.a.defaultProps,animateOnMount:!0,disableCrossFade:!1,durationMilliseconds:Object(o.a)(l.a.slowSpeed)},t.a=m},gA5T:function(e,t,a){e.exports={multiSelectPageHeader:"MultiSelectPageHeader-multiSelectPageHeader-MIQA1B PageHeader-pageHeader-2KNPGd",selectedTitle:"MultiSelectPageHeader-selectedTitle-1kn-xo",deselectLink:"MultiSelectPageHeader-deselectLink-3Muvcm",icon:"MultiSelectPageHeader-icon-3_oXiP"}},"gBB/":function(e,t,a){e.exports={menuPortal:"SourceSidebarMenu-menuPortal-LagpOp Menu-menuPortal-AbMPTD"}},gE37:function(e,t,a){e.exports={toast:"AudioVideoToast-toast-3RFwwG",metadataContainer:"AudioVideoToast-metadataContainer-Zqu4Pm"}},gEbU:function(e,t,a){e.exports={title:"TopPlayedColumn-title-VGe39d",item:"TopPlayedColumn-item-2_k5yY",emptyItem:"TopPlayedColumn-emptyItem-2STj9D TopPlayedColumn-item-2_k5yY"}},gFlf:function(e,t,a){"use strict";var n=a("AXwp"),i=a("bcER"),r=a("/No1");t.a=function(e){return Object(r.a)(e,{streamType:i.a.get("subtitles").id}).filter(e=>e.selected&&e.id!==n.a)[0]}},gPan:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("htvf");function s(e,t){const a=i.a.invert(e);return i.a.reduce(e,(e,n)=>(e[n]=t[a[n]],e),{})}const o={playing:"playing",paused:"paused",stopped:"paused",error:"paused",buffering:"playing"},l=new(r.a.extend({types:{VIDEO:"video",MUSIC:"music",PHOTO:"photo",ROM:"rom"},elements:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},streams:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},states:{STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing",BUFFERING:"buffering",ERROR:"error"},slideshowStates:{PLAYING:"playing",PAUSED:"paused"},castStates:{ERROR:"IDLE",STOPPED:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING",BUFFERING:"BUFFERING"},mediaStates:{LOADING:"LOADING",BUFFERING:"BUFFERING",READY:"READY",ERROR:"ERROR"},initialize(){this.typeByElement=s(this.elements,this.types),this.elementByType=s(this.types,this.elements),this.typeByStream=s(this.streams,this.types),this.streamByType=s(this.types,this.streams),this.statebyCastState=s(this.castStates,this.states),this.castStateByState=s(this.states,this.castStates)},getTypeByElement(e){return this.typeByElement[e]},getElementByType(e){return this.elementByType[e]},getTypeByStream(e){return this.typeByStream[e]},getStreamByType(e){return this.streamByType[e]},getStateByCastState(e){return this.statebyCastState[e]},getCastStateByState(e){return this.castStateByState[e]},getSlideshowStateByState:e=>o[e]}));t.a=l},"gX+b":function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR"),r=a("y3BC"),s=a("L9Nd"),o=a("EPph");const l=n.a.extend({name:"AutoHubsModel",context:["server","provider","includeExternalMedia"],idAttribute:"providerEntityID",sessionAttrs:{hubKey:i.a.string,machineIdentifier:i.a.string,providerIdentifier:i.a.string,contentDirectoryID:i.a.string,isPending:i.a.boolean.isRequired,isPopulated:i.a.boolean.isRequired,hubsError:i.a.object},sessionRelations:{hubs:{relationClass:r.default,deferred:!0},server:{relationClass:o.e,deferred:!0},provider:{relationClass:s.b,deferred:!0}},defaults:()=>({isPending:!0,isPopulated:!1,hubsError:null})});t.a=l},gZLj:function(e,t,a){"use strict";function n(e){e.isPending=!0,e.error=null}function i(e){e.isPending=!1,e.isPopulated=!0}function r(e,t){e.isPending=!1,e.error=t}function s(e){e.isPending=!1,e.error=null}a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s}))},gZNl:function(e,t,a){e.exports={label:"DVRSetupPostalCodeInput-label-2511fq FormLabel-label-2aLJ9b"}},gZro:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"INIT_RECORDING_SCHEDULE_PAGE",(function(){return nT})),a.d(n,"CLEAR_RECORDING_SCHEDULE_PAGE",(function(){return iT})),a.d(n,"FETCH_MEDIA_SUBSCRIPTIONS",(function(){return rT})),a.d(n,"MOVE_MEDIA_SUBSCRIPTION",(function(){return sT})),a.d(n,"SET_VISIBLE_DAYS",(function(){return oT})),a.d(n,"GO_TO_TODAY",(function(){return lT})),a.d(n,"GO_TO_PREVIOUS_RANGE",(function(){return cT})),a.d(n,"GO_TO_NEXT_RANGE",(function(){return dT})),a.d(n,"FETCH_CALENDAR",(function(){return uT})),a.d(n,"PLAY_RECORDING",(function(){return pT})),a.d(n,"CLEAR_MOVE_ERROR",(function(){return mT})),a.d(n,"initRecordingSchedulePage",(function(){return hT})),a.d(n,"clearRecordingSchedulePage",(function(){return gT})),a.d(n,"fetchMediaSubscriptions",(function(){return yT})),a.d(n,"moveMediaSubscription",(function(){return fT})),a.d(n,"setVisibleDays",(function(){return bT})),a.d(n,"goToToday",(function(){return vT})),a.d(n,"goToPreviousRange",(function(){return IT})),a.d(n,"goToNextRange",(function(){return ST})),a.d(n,"fetchCalendar",(function(){return ET})),a.d(n,"playRecording",(function(){return OT})),a.d(n,"clearMoveError",(function(){return MT})),a.d(n,"recordingSchedulePageActionHandlers",(function(){return PT}));var i={};a.r(i),a.d(i,"POSTER",(function(){return GA})),a.d(i,"MOSAIC",(function(){return KA})),a.d(i,"TABLE",(function(){return YA})),a.d(i,"SIMPLE_SUMMARY",(function(){return qA})),a.d(i,"SUMMARY",(function(){return ZA})),a.d(i,"EPG_EPISODE",(function(){return XA})),a.d(i,"SHARED_ITEMS",(function(){return JA})),a.d(i,"showListStyles",(function(){return $A})),a.d(i,"showListStylesSlider",(function(){return eL})),a.d(i,"showListStylesMenu",(function(){return tL})),a.d(i,"default",(function(){return aL}));var r={};a.r(r),a.d(r,"resetEPGSettings",(function(){return rle})),a.d(r,"fetchEPGCountries",(function(){return sle})),a.d(r,"fetchEPGLanguages",(function(){return ole})),a.d(r,"selectEPGCountry",(function(){return lle})),a.d(r,"selectEPGLanguage",(function(){return cle})),a.d(r,"selectEPGRegion",(function(){return dle})),a.d(r,"setEPGPostalCode",(function(){return ule})),a.d(r,"fetchEPGLineups",(function(){return ple}));var s={};a.r(s),a.d(s,"AVAILABLE",(function(){return upe})),a.d(s,"DONE",(function(){return ppe})),a.d(s,"DOWNLOADED",(function(){return mpe})),a.d(s,"DOWNLOADING",(function(){return hpe})),a.d(s,"ERROR",(function(){return gpe})),a.d(s,"INSTALLING",(function(){return ype})),a.d(s,"NONE",(function(){return fpe})),a.d(s,"NOTIFY",(function(){return bpe}));var o={};a.r(o),a.d(o,"AUTO",(function(){return wOe})),a.d(o,"CHANNELS_2_0",(function(){return NOe})),a.d(o,"CHANNELS_2_1",(function(){return xOe})),a.d(o,"CHANNELS_3_1",(function(){return AOe})),a.d(o,"CHANNELS_5_1",(function(){return LOe})),a.d(o,"CHANNELS_7_1",(function(){return kOe}));var l={};a.r(l),a.d(l,"AC3",(function(){return ROe})),a.d(l,"DTS",(function(){return zOe})),a.d(l,"DTS_HD",(function(){return UOe})),a.d(l,"EAC3",(function(){return VOe})),a.d(l,"TRUEHD",(function(){return BOe}));var c={};a.r(c),a.d(c,"INIT_LIBRARY_PAGE",(function(){return OTe})),a.d(c,"CLEAR_LIBRARY_PAGE_ERRORS",(function(){return MTe})),a.d(c,"INIT_LIBRARY_PAGE_METADATA_LIST",(function(){return CTe})),a.d(c,"INIT_LIBRARY_PAGE_SUPPORTING_LISTS",(function(){return jTe})),a.d(c,"FETCH_LIBRARY_DETAILS",(function(){return DTe})),a.d(c,"POPULATE_LIBRARY_DETAILS",(function(){return PTe})),a.d(c,"FETCH_LIBRARY_FIRST_CHARACTERS",(function(){return TTe})),a.d(c,"POPULATE_LIBRARY_FIRST_CHARACTERS",(function(){return wTe})),a.d(c,"FETCH_QUERY_PARSE",(function(){return NTe})),a.d(c,"POPULATE_QUERY_PARSE",(function(){return xTe})),a.d(c,"SELECT_LIBRARY_FILTER",(function(){return ATe})),a.d(c,"DESELECT_LIBRARY_FILTER",(function(){return LTe})),a.d(c,"FETCH_LIBRARY_FILTER_OPTIONS",(function(){return kTe})),a.d(c,"POPULATE_LIBRARY_FILTER_OPTIONS",(function(){return RTe})),a.d(c,"SEARCH_LIBRARY_FILTER_OPTIONS",(function(){return zTe})),a.d(c,"SELECT_LIBRARY_TABLE_COLUMN",(function(){return UTe})),a.d(c,"DESELECT_LIBRARY_TABLE_COLUMN",(function(){return VTe})),a.d(c,"UPDATE_SMART_PLAYLIST",(function(){return BTe})),a.d(c,"NAVIGATE_PLAYLIST",(function(){return FTe})),a.d(c,"initLibraryPage",(function(){return HTe})),a.d(c,"clearLibraryPageErrors",(function(){return _Te})),a.d(c,"initLibraryPageMetadataList",(function(){return WTe})),a.d(c,"initLibraryPageSupportingLists",(function(){return QTe})),a.d(c,"fetchLibraryDetails",(function(){return GTe})),a.d(c,"populateLibraryDetails",(function(){return KTe})),a.d(c,"fetchLibraryFirstCharacters",(function(){return YTe})),a.d(c,"populateLibraryFirstCharacters",(function(){return qTe})),a.d(c,"fetchQueryParse",(function(){return ZTe})),a.d(c,"populateQueryParse",(function(){return XTe})),a.d(c,"selectLibraryFilter",(function(){return JTe})),a.d(c,"deselectLibraryFilter",(function(){return $Te})),a.d(c,"fetchLibraryFilterOptions",(function(){return ewe})),a.d(c,"populateLibraryFilterOptions",(function(){return twe})),a.d(c,"searchLibraryFilterOptions",(function(){return awe})),a.d(c,"selectLibraryTableColumn",(function(){return nwe})),a.d(c,"deselectLibraryTableColumn",(function(){return iwe})),a.d(c,"updateSmartPlaylist",(function(){return rwe})),a.d(c,"navigatePlaylist",(function(){return swe})),a.d(c,"libraryPageActionHandlers",(function(){return lwe}));var d={};a.r(d),a.d(d,"NORTH",(function(){return iHe})),a.d(d,"NORTHEAST",(function(){return rHe})),a.d(d,"EAST",(function(){return sHe})),a.d(d,"SOUTHEAST",(function(){return oHe})),a.d(d,"SOUTH",(function(){return lHe})),a.d(d,"SOUTHWEST",(function(){return cHe})),a.d(d,"WEST",(function(){return dHe})),a.d(d,"NORTHWEST",(function(){return uHe})),a.d(d,"CENTER",(function(){return pHe}));var u={};a.r(u),a.d(u,"testServerConnection",(function(){return U1e})),a.d(u,"abortServerConnectionTest",(function(){return V1e})),a.d(u,"populateServerIdentity",(function(){return B1e})),a.d(u,"refreshMetadata",(function(){return H1e})),a.d(u,"analyzeItems",(function(){return _1e})),a.d(u,"analyzeSection",(function(){return W1e})),a.d(u,"unmatch",(function(){return Q1e})),a.d(u,"splitApart",(function(){return G1e})),a.d(u,"merge",(function(){return K1e})),a.d(u,"deleteItems",(function(){return q1e})),a.d(u,"deleteMediaItem",(function(){return e2e})),a.d(u,"deleteVersions",(function(){return t2e})),a.d(u,"deleteSection",(function(){return a2e})),a.d(u,"deleteSectionThumbnails",(function(){return n2e})),a.d(u,"deletePlaylist",(function(){return i2e})),a.d(u,"updateLibrary",(function(){return r2e})),a.d(u,"optimize",(function(){return s2e})),a.d(u,"cleanBundles",(function(){return o2e})),a.d(u,"emptyTrash",(function(){return l2e})),a.d(u,"match",(function(){return c2e})),a.d(u,"autoMatch",(function(){return d2e})),a.d(u,"changeArtwork",(function(){return p2e})),a.d(u,"rate",(function(){return m2e})),a.d(u,"selectStream",(function(){return g2e})),a.d(u,"deleteFile",(function(){return y2e})),a.d(u,"deleteItem",(function(){return S2e})),a.d(u,"enableVersionGenerator",(function(){return E2e})),a.d(u,"disableVersionGenerator",(function(){return O2e})),a.d(u,"reprocessVersionGenerator",(function(){return M2e})),a.d(u,"deleteVersionGenerator",(function(){return C2e})),a.d(u,"deleteAllVersionGenerators",(function(){return j2e})),a.d(u,"updateChannel",(function(){return D2e})),a.d(u,"uninstallChannel",(function(){return P2e})),a.d(u,"connectServer",(function(){return T2e})),a.d(u,"reconnectServer",(function(){return w2e})),a.d(u,"signInServer",(function(){return N2e})),a.d(u,"removeServer",(function(){return A2e})),a.d(u,"resetUser",(function(){return _2e})),a.d(u,"switchUser",(function(){return Q2e})),a.d(u,"authenticateWithServer",(function(){return Z2e})),a.d(u,"authenticateWithHash",(function(){return X2e})),a.d(u,"showSyncModal",(function(){return a4e})),a.d(u,"deleteSyncItem",(function(){return n4e})),a.d(u,"refreshSyncLists",(function(){return i4e})),a.d(u,"removeDevice",(function(){return r4e})),a.d(u,"signOut",(function(){return o4e})),a.d(u,"remotePlaybackUnlock",(function(){return l4e}));a("rmf8"),a("VZUE"),a("2mNe");var p=a("CpQb"),m=(a("cnJD"),a("/vPP"),a("EVdn")),h=a.n(m),g=(a("CCSj"),a("q1tI")),y=a.n(g),f=a("i8i4"),b=a.n(f),v=a("/MKj"),I=a("Ty5D"),S=(a("DBlN"),a("+K+r"),a("vOHB")),E=a("cgRT"),O=a("F/us"),M=a.n(O),C=a("0jae"),j=a("+X4A");const D={PUT:!0,DELETE:!0},P={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},T=/^(text\/plain|multipart\/form-data|application\/x-www-form-urlencoded)/,w=/(^X-Plex-[^=]+)/i,N=/(^[^?]+)\?(.+$)/;function x(e){const{type:t,contentType:a,headers:n,allowHeadersInUrl:i,allowBlacklistedMethodHeaders:r}=e;if(!i)return;if(D[t]&&!r)return;const s={};let o=!1;if(M.a.each(n,(e,t)=>{P[t]||(w.test(t)?(o=!0,s[t]=e,delete n[t]):C.a.warn('Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',t))}),o){const a=e.url.match(N),[,n,i]=a||[null,e.url,null],r=i?i.split("&"):[],[o,l]=M.a.partition(r,e=>w.test(e)),c=e.data;"GET"===t&&c&&(l.push(M.a.isString(c)?c:j.default.stringifyParams(c)),delete e.data),o.forEach(e=>{const t=e.match(w);t&&delete s[t[1]]});const d=j.default.stringifyParams(s);d&&o.push(d),e.url=`${n}?${l.concat(o).join("&")}`}a&&!T.test(a)&&C.a.warn('Sending %s request with Content-Type "%s". This can result in an unnecessary OPTIONS preflight request.',t,a)}var A=a("T0/d");function L(){return h.a.ajaxPrefilter(x),A.a.startListening(),h.a.Deferred().resolve().promise()}var k=a("WSEr"),R=a("3CEA"),z=a("gtzJ"),U=a("ybUE"),V=a("6eR6");const B=["X-Plex-Device","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"];var F=a("GXN7"),H=a("n/o+"),_=a("slDQ"),W=a("bQSc");var Q=function(e){const{hostname:t,protocol:a}=e,n="file:"===a;let i;return"https:"===a?i="https":"http:"===a?i=W.b(t)?"http-loopback":"http":n&&(i="file"),i};var G=function(e){const[,t,a=""]=e.match(/(^[^#]+)(?:#(.*$))?/),[,n,i=""]=t.match(/(^[^?]+)(\?.*$)?/),[,r,s=""]=a.match(/(^[^?]*)(\?.*$)?/);return{base:n,searchParams:i,hashPath:r,hashParams:s}};const K=/^utm_/;function Y(){const{searchParams:e,hashParams:t}=G(window.location.href),a={...Object(F.a)(t),...Object(F.a)(e)};return Object.keys(a).reduce((e,t)=>(K.test(t)&&(e[t.replace(K,"")]=a[t]),e),{})}function q(e={}){const t=Object(E.c)("metrics"),{context:a={}}=e;return t.set({deviceIdentifier:V.a.prop("X-Plex-Client-Identifier"),context:{...a,campaign:Y(),device:{product:V.a.prop("X-Plex-Product"),version:V.a.prop("X-Plex-Version"),platform:V.a.prop("X-Plex-Platform"),platformVersion:V.a.prop("X-Plex-Platform-Version"),device:V.a.prop("X-Plex-Device"),model:V.a.prop("X-Plex-Model"),screenResolution:V.a.prop("X-Plex-Device-Screen-Resolution"),layout:"desktop",protocol:Q(window.location)}}}),Object(H.a)(t.start())}function Z(){return Object(C.a)("[Sources] Initializing..."),Object(E.c)("sourceManager").start(),Object(C.a)("[Sources] Finished initialization"),h.a.Deferred().resolve().promise()}var X=a("kwss"),J=a("htvf"),$=a("rG0a"),ee=a("Eeuk"),te=a("mp0/"),ae=a("PZBo"),ne=a.n(ae),ie=p.a.ItemView.extend({mixins:[te.a],className:"alert transition-in",template:ne.a,alertDuration:2e3,transitionDuration:500,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave","click .close-btn":"onCloseClick"},initialState:"transitionIn",states:{transitionIn:{nextState:"visible",onEnter:function(){this.$el.triggerReflow(),this.$el.removeClass("transition-in"),this.startTransition()}},visible:{nextState:"transitionOut",onEnter:function(){this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration)}},transitionOut:{onEnter:function(){this.$el.addClass("transition-out"),this.startTransition()}}},initialize:function(e){this.bindAllWhenRendered(["enterNextState"]),M.a.isString(e)&&(e={message:e}),this.type=e.type,this.message=e.message,this.type&&this.$el.addClass("has-"+this.type)},serializeData:function(){return{type:this.type,message:this.message}},startTransition:function(){window.setTimeout(this.enterNextState,this.transitionDuration)},onRender:function(){M.a.defer(this.enterNextState)},onStateMachineComplete:function(){this.close()},onMouseEnter:function(e){window.clearTimeout(this.transitionOutTimeout)},onMouseLeave:function(e){"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration/2))},onCloseClick:function(e){e.preventDefault(),"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.enterNextState())}});var re=J.a.extend({mixins:[ee.a],initialize(){this.openAlerts={}},start(){this.listenTo($.a,{"show:alert":this.showAlert})},showAlert:function(e){var t=e.message;if(!this.openAlerts[t]){var a=new ie(e);this.openAlerts[t]=!0,this.listenToOnce(a,"close",(function(){delete this.openAlerts[t]})),h()("body").append(a.render().el)}}});function se(){(new re).start()}var oe=J.a.extend({mixins:[ee.a],initialize(){this.modals=[]},start(){this.listenTo($.a,{"show:modal":this.showModal,"hide:modal":this.hideModal})},showModal(e){this.modals.push(e);var t=h()("body");e.transparent&&t.addClass("show-modal-transparent"),t.append(e.render().el)},hideModal(e){var t=M.a.indexOf(this.modals,e);t>-1&&this.modals.splice(t,1)[0].close(),e.transparent&&!M.a.findWhere(this.modals,{transparent:!0})&&h()("body").removeClass("show-modal-transparent")}});function le(){(new oe).start()}var ce=a("EIzA"),de=a.n(ce);function ue(e){const{className:t,children:a}=e;return y.a.createElement("div",{className:t},a)}ue.defaultProps={className:de.a.container};var pe=ue,me=a("e0Cb"),he=a("G4qV"),ge=a("l1OG");var ye=Object(he.a)(ge.a,e=>e.autoHomeHubsEnabled),fe=a("Zp0I"),be=a("5NB4"),ve=a("zTsO");var Ie,Se,Ee=Object(he.a)(Object(be.a)(ve.E),fe.a,ye,(e,t,a)=>e&&t.v4DirectoryEnabled&&a),Oe=a("uCRf"),Me=a("EEaV"),Ce=a("66GW"),je=a("NJuV"),De=a("TSYQ"),Pe=a.n(De),Te=(a("YxO1"),a("dsvT")),we=a("7epD"),Ne=a.n(we);function xe({forwardedRef:e,className:t=Ne.a.scroller,style:a,children:n,scrollDirection:i=Ie.Vertical,autoScroll:r=!0,smoothScroll:s=!1,targetScrollTop:o,targetScrollLeft:l,onScrollPositionChange:c}){const d=Object(g.useRef)(null),u=Object(g.useCallback)(e=>{c&&null!=d.current&&d.current===e.target&&c({scrollTop:d.current.scrollTop,scrollLeft:d.current.scrollLeft})},[d,c]);return Object(g.useEffect)(()=>{null==d.current||null==o&&null==l||d.current.scrollTo({top:o,left:l,behavior:s?"smooth":"auto"})},[d,o,l,s]),y.a.createElement("div",{className:Pe()(t,Ne.a[i],r&&Ne.a.auto),style:a,ref:Object(Te.a)(e,d),onScroll:u},n)}(Se=Ie||(Ie={})).None="none",Se.Vertical="vertical",Se.Horizontal="horizontal",Se.Omni="omni";var Ae=y.a.forwardRef((e,t)=>y.a.createElement(xe,{...e,forwardedRef:t})),Le=a("x/40"),ke=a.n(Le);function Re({children:e,className:t=ke.a.emptyPageContentScroller,contentClassName:a=ke.a.content,icon:n,titleClassName:i=ke.a.title,iconSrc:r,title:s,descriptionClassName:o=ke.a.description,description:l,footerClassName:c=ke.a.footer,footer:d,...u}){return y.a.createElement(Ae,{className:t,...u},y.a.createElement("div",{className:a},n?y.a.createElement("span",{className:ke.a.icon},n):null,r?y.a.createElement("img",{className:ke.a.imgIcon,src:r}):null,s?y.a.createElement("div",{className:i},s):null,l?y.a.createElement("div",{className:o},l):null,e),d?y.a.createElement("div",{className:c},d):null)}function ze(e){return y.a.createElement(Re,{icon:y.a.createElement(je.a,null),...e})}function Ue({children:e}){return y.a.createElement(ze,{title:Object(Ce.default)("Something went wrong"),description:Object(Ce.default)("An unexpected error occurred.")},e)}class Ve extends g.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidCatch(e,t){C.a.error(e);const a={extra:{componentStack:t.componentStack}};z.a(e,a)}render(){return this.state.hasError?y.a.createElement(Ue,null):y.a.createElement(y.a.Fragment,null,this.props.children)}}var Be,Fe,He=Ve;(Fe=Be||(Be={})).Tiny="tiny",Fe.Small="small",Fe.Medium="medium",Fe.Large="large";var _e=Be,We=a("DUT6"),Qe=a.n(We);function Ge({className:e=Qe.a.spinner,size:t=_e.Medium}){return y.a.createElement("div",{className:Pe()(e,Qe.a[t]),"aria-label":Object(Ce.default)("Loading")})}var Ke=e=>e.user;var Ye=Object(he.a)(Ke,e=>e.lockState),qe=a("0tvf"),Ze=a("SiWM");class Xe extends g.Component{constructor(e,t){super(e,t),this.fadeOut=()=>{const{currentThemeMusicUrl:e}=this.state;e&&this.props.volume>0?(this.fadeOutStartMilliseconds||(this.fadeOutStartMilliseconds=Date.now()),this.setState(this.updateFrameState)):this.reset()},this.updateFrameState=e=>{const t=e.relativeVolume,a=Date.now()-this.fadeOutStartMilliseconds;let n=-t*a/2e3+t;return n=Math.max(0,n),n&&(this.fadeOutTimeoutID=window.setTimeout(this.fadeOut,100)),{volume:n}},this.onDurationMillisecondsChange=e=>{this._currentDurationMilliseconds=e},this.onPositionMillisecondsChange=e=>{const t=Math.floor(e/1e3),a=this.state.shouldStopOnEnd?0:2e3;this.state.positionSeconds!==t&&this.setState({positionSeconds:t}),this._currentDurationMilliseconds-e<=a&&!this.fadeOutTimeoutID&&this.endThemeMusic()},this.onEnd=()=>{this.reset()},this.onMetricsPlayerChange=()=>{},this.state=this.getInitialStateFromProps(e)}componentWillReceiveProps(e){const{volume:t,themeMusicUrl:a}=this.props,{volume:n,themeMusicUrl:i}=e;if(t!==n){const e={relativeVolume:this.getRelativeVolume(n)};this.fadeOutTimeoutID||(e.volume=e.relativeVolume),this.setState(e)}a!==i&&(i?this.reset(i):this.fadeOutTimeoutID||this.endThemeMusic())}componentWillUnmount(){this.reset()}getRelativeVolume(e){return.5*e}getInitialStateFromProps({currentThemeMusicUrl:e,volume:t}){const a=this.getRelativeVolume(t);return{currentThemeMusicUrl:e,relativeVolume:a,volume:a,positionSeconds:0,shouldStopOnEnd:X.a.shouldStopThemeMusicOnNavigate}}reset(e){this.fadeOutTimeoutID=window.clearTimeout(this.fadeOutTimeoutID),this.fadeOutStartMilliseconds=null,this.setState(this.getInitialStateFromProps({currentThemeMusicUrl:e,volume:this.props.volume}))}endThemeMusic(){if(this.state.shouldStopOnEnd){const{dispatchEndPlayback:e,playerType:t}=this.props;e({playerType:t}),this.reset()}else this.fadeOut()}render(){const{currentThemeMusicUrl:e,positionSeconds:t,volume:a}=this.state;if(!e)return null;const{component:n,playerType:i}=this.props;return y.a.createElement(n,{key:e,mediaType:"audio",isBackgroundMedia:!0,isThemeMusic:!0,src:e,playerType:i,positionSeconds:t,volume:a,allowRecycleElement:!0,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onMetricsPlayerChange:this.onMetricsPlayerChange,onEnd:this.onEnd})}}var Je=Xe;const $e={dispatchEndPlayback:Ze.p};class et extends g.Component{shouldComponentUpdate(e){const{volume:t,isPlayerOpen:a}=this.props;return e.volume!==t||e.isPlayerOpen!==a||!e.isBackgroundPending}render(){const{isBackgroundPending:e,isPlayerOpen:t,...a}=this.props;return t?null:y.a.createElement(Je,{...a})}}et.defaultProps={playerType:Oe.a};var tt=Object(v.b)((function(){return Object(he.a)(Object(E.c)("selectLocalVolume"),e=>e.ui.background,e=>e.ui.audioVideoPlayer.isOpen,(e,t,a)=>({volume:e,isBackgroundPending:t.isBackgroundPending,themeMusicUrl:t.themeMusicUrl,component:Object(E.c)("mediaComponent").getComponent({protocol:"http",isDirectPlay:!0}),isPlayerOpen:a}))}),$e)(et),at=a("g3sH"),nt=a("wCAT"),it=a.p+"common/img/backgrounds/noise.b38a559594ac52d049bac587b89ec859.png",rt=a.p+"common/img/backgrounds/preset-dark2.24cb7f1a5e2d0102f05f3e59dfad9086.png",st=a.p+"common/img/backgrounds/preset-light2.479017288a229d836f44315d2b43afdb.png",ot=a("wFRV");const lt={position:"absolute",width:"100%",height:"100%"},ct={...lt,background:`url(${it})`,zIndex:2},dt={opacity:10,background:"343a3f"},ut={...dt,opacity:25,format:"png"};class pt extends g.Component{shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,url:a,allowPreset:n,allowLightPreset:i,allowBlur:r}=this.props,s=window.innerWidth,o=window.innerHeight,l=r?ut:dt;let c,d,u,p;if(r){const e=s/o;c=e>1?640:640*e,d=e>1?640/e:640;const t=Math.max(s/c,o/d);u=Math.round(100/t)}else c=Math.min(window.innerWidth,1920),d=Math.min(window.innerHeight,1080);return!a&&n&&(p=i?st:rt),y.a.createElement("div",null,y.a.createElement(ot.a,{serverEntityID:e,providerEntityID:t,url:a,emptySrc:p,width:c,height:d,upscale:r,containerStyle:lt,filters:p?null:{...l,blur:u},allowPixelRatioSize:!1,component:at.a}),y.a.createElement("div",{style:ct}))}}pt.defaultProps={allowBlur:!0};var mt=pt;const ht=Object(he.a)(e=>e.ui.background,e=>({serverEntityID:e.server,providerEntityID:e.provider,url:e.imageUrl,allowLightPreset:e.allowLightPreset,allowBlur:e.allowBlur,isBackgroundPending:e.isBackgroundPending}));class gt extends g.Component{shouldComponentUpdate(e){return!e.isBackgroundPending}render(){const{serverEntityID:e,providerEntityID:t,url:a,allowLightPreset:n,allowBlur:i}=this.props;return y.a.createElement(mt,{serverEntityID:e,providerEntityID:t,url:a,allowPreset:!0,allowLightPreset:n,allowBlur:i})}}var yt=Object(v.b)(e=>ht)(gt),ft=a("wHWh"),bt=a.n(ft);function vt(){return y.a.createElement("div",{className:bt.a.backgroundContainer},y.a.createElement(yt,null),y.a.createElement(tt,null))}var It=a("iZkF"),St=a("lHKw"),Et=a("FdSe"),Ot=a("8Dqf"),Mt=a("VKXn"),Ct=a("zTY+"),jt=a("WfN5"),Dt=a("1Lwt");function Pt(e,t){return e===ve.r&&t}var Tt=a("sXw8"),wt=a("Tent"),Nt=a("zDCE"),xt=a("tI86"),At=a("V+TA"),Lt=a("haOg"),kt=a("iNJT");var Rt,zt,Ut,Vt,Bt={entityID:"",identifier:"",metricsIdentifier:"",title:"",features:[],protocols:[],isPending:!1,isPopulated:!1,error:null},Ft=a("Xq+7");(zt=Rt||(Rt={})).Windows="Windows",zt.Android="Android",zt.Linux="Linux",zt.FreeBSD="FreeBSD",zt.MacOSX="MacOSX",zt.IOS="iOS",(Vt=Ut||(Ut={})).Pending="pending",Vt.Connected="connected",Vt.Unavailable="unavailable",Vt.Unauthorized="unauthorized";var Ht={entityID:"",machineIdentifier:"",friendlyName:"Unknown",allowSync:!1,allowMediaDeletion:!1,backgroundProcessing:!1,transcoderVideo:!1,isCloud:!1,isEmbedded:!1,isFullServer:!1,isFullOwnedServer:!1,isUnavailable:!1,isUnauthorized:!1,isConnected:!1,connectionTestResult:Ut.Pending,ownerFeatures:[],providers:[]};var _t=Object(At.a)((function(e){return Object(he.a)(Ft.a,t=>t.find(t=>t.machineIdentifier===e)||Ht)}));var Wt=Object(At.a)((function(e,t){return Object(he.a)(Lt.a,_t(e),Object(kt.a)("providers"),(e,a,n)=>{const i=(!a||a.isCloud?n:a.providers).find(a=>e[a].identifier===t);return i?e[i]:Bt})}));var Qt=Object(At.a)((function(e,t){return Object(he.a)(Wt(e,t),e=>{var t;const a=Object(xt.a)(e,St.e.Content);return null!=(t=null==a?void 0:a.directories)?t:[]})}));var Gt=Object(At.a)((function(e,t,a){return Object(he.a)(Qt(e,t),e=>e.find(e=>a===e.id))})),Kt=a("tCfm");function Yt(e){return{entityID:e.entityID,machineIdentifier:e.machineIdentifier,accessToken:e.accessToken,uri:e.activeConnection?e.activeConnection.uri:void 0,version:e.version,platform:e.platform,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,countryCode:e.countryCode,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isCloud:e.isCloud,isEmbedded:e.isEmbedded,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isUnavailable:e.isUnavailable,isUnauthorized:e.isUnauthorized,isConnected:e.isConnected,livetv:e.livetv,connectionTestResult:e.connectionTestResult,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}}var qt=Object(Kt.a)(Object(he.a)(Ft.a,e=>e.map(Yt)),e=>e);var Zt=Object(At.a)((function(e){return Object(Kt.a)(Object(he.a)(qt,t=>t.find(t=>t.machineIdentifier===e)||Ht),e=>e)}));const Xt=Object(g.createContext)([Ht,Bt,void 0]);function Jt(){return Object(g.useContext)(Xt)}function $t({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:a,children:n}){const i=Object(v.d)(Zt(e)),r=Object(v.d)(Wt(e,t)),s=Object(v.d)(Gt(e,t,a)),o=Object(g.useMemo)(()=>[i,r,s],[i,r,s]);return y.a.createElement(Xt.Provider,{value:o},n)}var ea=function(){const e=window.location.hash.replace("#!","");return Object(g.useMemo)(()=>{const{params:t}=j.default.parseUri(e);return t},[e])},ta=a("yO9Y"),aa=a("7qsM"),na=a("g2Jg");function ia({key:e,shouldRestoreImmediately:t=!1,onScrollPositionChange:a}){const n=Object(g.useMemo)(()=>na.a.getKey(e+"!scrollPosition!"),[e]),i=Object(g.useRef)(na.a.get(n)),r=Object(g.useRef)(null),[s,o]=Object(g.useState)(!(!t||!i.current)),[l,c]=Object(g.useState)(t&&i.current?i.current.scrollTop:null),[d,u]=Object(g.useState)(t&&i.current?i.current.scrollLeft:null),p=Object(g.useCallback)(()=>{const e=i.current;e&&(o(!0),c(e.scrollTop),u(e.scrollLeft),i.current=null)},[]),m=Object(g.useCallback)(e=>{r.current=e,a&&a(e)},[a]);return Object(g.useEffect)(()=>{s&&(o(!1),c(null),u(null))},[s]),Object(g.useEffect)(()=>()=>{const e=r.current;e&&(e.scrollTop||e.scrollLeft)?na.a.set(n,e):na.a.remove(n)},[n]),{isWaitingToRestoreScrollPosition:s||!t&&!!i.current,scrollRestoreProps:s?{targetScrollTop:l,targetScrollLeft:d,smoothScroll:!1,onScrollPositionChange:m}:{onScrollPositionChange:m},onScrollPositionReady:p}}var ra,sa,oa=a("/R4L"),la=a.n(oa);function ca({className:e=la.a.pageScroller,allowBackgroundPreset:t=!0,allowBackgroundLightPreset:a=!1,onScrollPositionChange:n,...i}){const r=Object(v.c)(),{scrollRestoreProps:s}=ia({key:"Page",shouldRestoreImmediately:!0,onScrollPositionChange:n});return Object(g.useEffect)(()=>(t&&r(Object(aa.a)({allowLightPreset:a})),()=>{r(Object(aa.c)()),r(Object(ta.u)())}),[a,t,r]),y.a.createElement(He,null,y.a.createElement(Ae,{...i,...s,className:e}))}(sa=ra||(ra={})).Default="default",sa.Primary="primary",sa.Success="success",sa.Danger="danger";var da=ra,ua=a("WA8t"),pa=a("NM2O"),ma=a.n(pa);function ha({forwardedRef:e,children:t,to:a,component:n=(a?"a":"button"),type:i=("button"===n||"input"===n?"button":void 0),role:r=(a?"link":"button"),className:s=ma.a.link,kind:o=da.Default,size:l,isDisabled:c=!1,onPress:d,onTouchStart:u,onTouchMove:p,onTouchEnd:m,onTouchCancel:h,onMouseDown:f,onMouseUp:b,onMouseLeave:v,onClick:I,onFocus:S,onBlur:E,...O}){const[M,C]=Object(g.useState)(!1),[j,D]=Object(g.useState)(!1),P=Object(g.useRef)(!1),T=Object(g.useRef)(!1),w=Object(g.useRef)(!1),N=Object(g.useCallback)(e=>{P.current=!0,T.current=!0,1===e.touches.length&&(w.current=!0,C(!0)),null==u||u(e)},[u]),x=Object(g.useCallback)(e=>{w.current=!1,C(!1),null==p||p(e)},[p]),A=Object(g.useCallback)(e=>{C(!1),w.current&&(w.current=!1,null==d||d(e)),null==m||m(e)},[d,m]),L=Object(g.useCallback)(e=>{P.current=!1,T.current=!1,w.current=!1,C(!1),null==h||h(e)},[h]),k=Object(g.useCallback)(e=>{P.current=!0,C(!0),null==f||f(e)},[f]),R=Object(g.useCallback)(e=>{C(!1),null==b||b(e)},[b]),z=Object(g.useCallback)(e=>{P.current=!1,C(!1),null==v||v(e)},[v]),U=Object(g.useCallback)(e=>{P.current?P.current=!1:(D(!0),null==S||S(e))},[S]),V=Object(g.useCallback)(e=>{P.current=!1,D(!1),null==E||E(e)},[E]),B=Object(g.useCallback)(e=>{P.current=!1,C(!1),T.current?T.current=!1:(null==d||d(e),null==I||I(e))},[d,I]),F=Object(g.useCallback)(()=>{D(!1)},[]);Object(g.useEffect)(()=>(j&&window.addEventListener("mousemove",F),()=>{j&&window.removeEventListener("mousemove",F)}),[j,F]);const H=c?{}:{onTouchStart:N,onTouchMove:x,onTouchEnd:A,onTouchCancel:L,onMouseDown:k,onMouseUp:R,onMouseLeave:z,onFocus:U,onBlur:V,onClick:B};return y.a.createElement(n,{...O,...H,ref:e,children:t,type:i,href:a,role:r,className:Pe()(s,ma.a[o],l&&ma.a[l],a&&ma.a.isHrefLink,M&&ua.a,j&&ua.f,c&&ua.b),disabled:c})}var ga=y.a.forwardRef((e,t)=>y.a.createElement(ha,{...e,forwardedRef:t})),ya=a("LU7h"),fa=a.n(ya);function ba({className:e=fa.a.button,kind:t=da.Default,size:a=_e.Medium,...n}){return y.a.createElement(ga,{...n,className:Pe()(e,fa.a.button,fa.a[t],fa.a[a])})}function va({className:e}){return y.a.createElement(ze,{className:e,title:Object(Ce.default)("Not found"),description:Object(Ce.default)("We're having trouble finding this page. It might have been deleted")},y.a.createElement(ba,{to:"#"},Object(Ce.default)("Go Home")))}var Ia=a("5HFX"),Sa=a("F8pK");function Ea(e,t){const{isServer:a,serverIdentifier:n,providerIdentifier:i}=Object(Ia.a)(e);return Object(Sa.a)(!a,n,i,t)}const Oa=Object(g.createContext)({containerServer:Ht,containerProvider:Bt,containerSourceURI:"",containerKey:"",containerType:Nt.b.Mixed});function Ma(){return Object(g.useContext)(Oa)}function Ca({children:e,containerServer:t,containerProvider:a,containerSourceURI:n,containerKey:i,containerType:r,containerSubtype:s,containerMeta:o,listStyle:l}){const c=Object(g.useMemo)(()=>{let e=i;if(!e){const{key:t,parameters:a}=Object(Ia.a)(n);e=j.default.join(t,a)}return{containerServer:t,containerProvider:a,containerSourceURI:n,containerKey:e,containerType:r,containerSubtype:s,containerMeta:o,listStyle:l}},[i,a,t,n,s,r,o,l]);return y.a.createElement(Oa.Provider,{value:c},e)}var ja=a("qKkM");function Da({children:e,metadataItem:t,metadataItemState:a}){const n=Object(v.c)(),{containerServer:i,containerProvider:r,containerSourceURI:s,containerKey:o}=Ma(),l=Object(g.useMemo)(()=>t.source?Object(Ia.a)(t.source):null,[t.source]),c=!!l&&(l.serverIdentifier!==i.machineIdentifier||l.providerIdentifier!==r.identifier);return Object(g.useEffect)(()=>{(a.isStale||a.isDeleted)&&n(ja.a.actions.throttledRepopulateRangeRequested({server:i,provider:r,sourceURI:s,key:o}))},[r,i,s,o,n,a.isDeleted,a.isStale]),l&&c?y.a.createElement($t,{machineIdentifier:l.serverIdentifier,providerIdentifier:l.providerIdentifier},e):y.a.createElement(y.a.Fragment,null,e)}var Pa=a("jlmP"),Ta=a.n(Pa);function wa({forwardedRef:e,className:t=Ta.a.card,style:a,children:n}){return y.a.createElement("div",{className:t,style:a,ref:e},n)}var Na=y.a.forwardRef((e,t)=>y.a.createElement(wa,{...e,forwardedRef:t})),xa=a("nAMV"),Aa=a.n(xa);function La({className:e=Aa.a.placeholder,style:t,index:a}){return y.a.createElement(Na,{className:e,style:{animationDelay:a%12*200+"ms",...t}})}function ka(e){return function(e){return!!e.v4}(e)?e.v4:e}var Ra=Object(he.a)(ka,e=>e.core);var za=Object(he.a)(Ra,e=>e.metadataItemState);var Ua=function(e){return Object(he.a)(za,t=>(e?t[e]:null)||{tempState:{},isStale:!1,isPending:!1,isPopulated:!1,error:null})};function Va(e){const t=Object(g.useMemo)(()=>Ua(e),[e]);return Object(v.d)(t)}var Ba=function(e){return Object(he.a)(Ra,t=>e&&t.metadataTimelineState[e]||{})};function Fa(e){const t=Object(g.useMemo)(()=>Ba(e),[e]);return Object(v.d)(t)}var Ha=a("q1ww"),_a=a("eLdf");function Wa(e){switch(e){case _a.b.Avatar:return 1;case _a.b.Background:return 16/9;case _a.b.Banner:return 5.4;case _a.b.Clear:return 1;case _a.b.CoverArt:return 16/9;case _a.b.CoverPoster:return 1/1.5;case _a.b.CoverSquare:return 1;case _a.b.Snapshot:return 16/9}!function(e){throw new Error(`"${e}" is not mapped to an aspect ratio`)}(e)}function Qa(e,t,a){const n=null==a?void 0:a.listStyle,i=null==a?void 0:a.displayImageType;if(i)return Wa(i);if(n)switch(n){case Nt.a.Hero:return 16/9;case Nt.a.Grid:case Nt.a.Shelf:if(e===Nt.b.Channels)return 1;switch(t){case Ha.c.Webshow:switch(e){case Ha.d.Episode:return 16/9}break;case Ha.c.Podcast:switch(e){case Ha.d.Episode:return 1}}switch(e){case Ha.d.Episode:return 1/1.5}}switch(t){case Ha.c.Clip:switch(e){case Ha.d.Movie:return 16/9}break;case Ha.c.Podcast:case Ha.c.Webshow:switch(e){case Ha.d.Show:return 1;case Ha.d.Episode:return 16/9}}switch(e){case Ha.d.Movie:case Ha.d.Show:case Ha.d.Season:return 1/1.5;case Ha.d.Episode:return 16/9;case Ha.d.Artist:case Ha.d.Album:case Ha.d.Track:case Ha.d.Person:case Ha.d.Photo:case Ha.d.PhotoAlbum:case Ha.d.Playlist:return 1;case Ha.d.Clip:return 16/9;case Ha.d.Collection:return 1/1.5;case Nt.b.Directory:return 16/9;case Nt.b.Content:case Nt.b.Channel:case Nt.b.Folder:case Nt.b.Station:case Ha.d.Hub:case Ha.d.List:return 1;case Ha.d.Game:return 3/4;case Nt.b.Mixed:return 1/1.5;default:return 16/9}}function Ga(e){const{width:t,height:a,aspectRatio:n}=e;if(t)return{width:t,height:Math.floor(t/n)};if(a)return{width:Math.floor(a*n),height:a};throw new Error("`getMetadataPosterDimensions` requires either a `width` or `height`")}var Ka=a("okn6");var Ya=function(e,t){const[a,n]=Jt(),{metricsContextTuple:i}=Object(Et.d)();if(a===Ht||n===Bt||"key"===t&&(e.skipDetails||e.type===Ha.d.Track&&e.subtype!==Ha.c.Podcast||e.type===Ha.d.Photo||e.subtype===Ha.c.Photo||e.isExtra||e.isLiveTVChannel||e.radio))return;const r=e[t];return Object(Ka.a)(a,n,r,{context:Object(Et.b)(i),legacy:e.type===Ha.d.PhotoAlbum?1:void 0},e.playlistType)};function qa({className:e,tabIndex:t,allowLink:a=!0,metadataItem:n}){const i=Ya(n,"key");return n.title?a&&i?y.a.createElement(ga,{className:e,tabIndex:t,title:n.title,to:i},n.title):y.a.createElement("span",{className:e,title:n.title},n.title):null}var Za=a("RgJi"),Xa=a("repV"),Ja=a("8vr4");function $a(e){return null!=e?Object(Xa.default)(Object(Za.a)(e)):""}function en({className:e,timestamp:t}){const[a,n]=Object(g.useState)(Object(Ja.a)(t));return Object(g.useEffect)(()=>{if(null==t)return;const e=function(e,t){const a=Math.abs(Date.now()-1e3*e);return a<36e5?window.setTimeout(t,6e4):a<864e5?window.setTimeout(t,36e5):window.setTimeout(t,864e5)}(t,()=>{n(Object(Ja.a)(t))});return()=>{window.clearTimeout(e)}},[t]),a?y.a.createElement("span",{className:e,title:$a(t)},a):null}function tn({className:e,metadataItem:t}){const{addedAt:a}=t;return y.a.createElement(en,{className:e,timestamp:a})}var an=a("TpeJ"),nn=a("GobQ");var rn=function(e,{abbreviate:t=!1}={}){if(null==e)return"";const a=Object(nn.a)(Object(Za.a)(e));return t?function(e){return[Object(Ce.default)("Sun"),Object(Ce.default)("Mon"),Object(Ce.default)("Tue"),Object(Ce.default)("Wed"),Object(Ce.default)("Thu"),Object(Ce.default)("Fri"),Object(Ce.default)("Sat")][e]}(a):function(e){return[Object(Ce.default)("Sunday"),Object(Ce.default)("Monday"),Object(Ce.default)("Tuesday"),Object(Ce.default)("Wednesday"),Object(Ce.default)("Thursday"),Object(Ce.default)("Friday"),Object(Ce.default)("Saturday")][e]}(a)},sn=a("cHAT");var on=function(e,{abbreviate:t=!1}={}){if(!e)return"";const a=Object(sn.a)(Object(Za.a)(e));return t?function(e){return[Object(Ce.default)("Jan"),Object(Ce.default)("Feb"),Object(Ce.default)("Mar"),Object(Ce.default)("Apr"),Object(Ce.default)("May"),Object(Ce.default)("Jun"),Object(Ce.default)("Jul"),Object(Ce.default)("Aug"),Object(Ce.default)("Sep"),Object(Ce.default)("Oct"),Object(Ce.default)("Nov"),Object(Ce.default)("Dec")][e]}(a):function(e){return[Object(Ce.default)("January"),Object(Ce.default)("February"),Object(Ce.default)("March"),Object(Ce.default)("April"),Object(Ce.default)("May"),Object(Ce.default)("June"),Object(Ce.default)("July"),Object(Ce.default)("August"),Object(Ce.default)("September"),Object(Ce.default)("October"),Object(Ce.default)("November"),Object(Ce.default)("December")][e]}(a)},ln=a("JHeM"),cn=a("JO1+");function dn(e){if(null==e)return!1;const t=Object(Za.a)(e);return Object(cn.a)(Date.now(),t)}var un=a("G6Tw");function pn(e){if(null==e)return!1;const t=Object(Za.a)(e);return Object(un.a)(new Date,t)}var mn=a("9/EM");function hn(e){if(null==e)return!1;const t=Object(Za.a)(e);return Object(un.a)(t,Object(mn.a)(new Date,1))}var gn=a("08aW");function yn(e){if(null==e||!pn(e))return!1;return Object(gn.a)(Object(Za.a)(e))>16}var fn=a("Xep9");function bn(e){if(null==e)return!1;const t=Object(Za.a)(e);return Object(un.a)(Object(fn.a)(new Date,1),t)}function vn(e,t,{timeFormat:a="h:mma"}={}){if(null==e)return"";const n=Object(ln.default)(e,a);let i;return i=bn(e)?Object(Ce.default)("Yesterday"):pn(e)?yn(e)?Object(Ce.default)("Tonight"):Object(Ce.default)("Today"):hn(e)?Object(Ce.default)("Tomorrow"):dn(e)?rn(e):Object(Ce.default)("{dayOfWeekAbbreviated}, {monthAbbreviated} {dayNumber}",{dayOfWeekAbbreviated:rn(e,{abbreviate:!0}),monthAbbreviated:on(e,{abbreviate:!0}),dayNumber:Object(an.a)(Object(Za.a)(e))}),t?Object(Ce.default)("{1} at {2} on {3}",i,n,t):Object(Ce.default)("{1} at {2}",i,n)}var In=a("3g9J");function Sn(e,t,{timeFormat:a="h:mma"}={}){if(null==e)return"";const n=Object(Za.a)(e);if(bn(e))return Object(Ce.default)("Yesterday");0===Object(In.a)(n)&&(a=a.replace("h:mm","h"));const i=Object(ln.default)(e,a);let r;return r=pn(e)?yn(e)?Object(Ce.default)("Tonight"):Object(Ce.default)("Today"):hn(e)?Object(Ce.default)("Tomorrow"):dn(e)?rn(e):Object(Ce.default)("{monthAbbreviated} {dayNumber}",{monthAbbreviated:on(e,{abbreviate:!0}),dayNumber:Object(an.a)(Object(Za.a)(e))}),t?Object(Ce.default)("{1} at {2} on {3}",r,i,t):Object(Ce.default)("{1} at {2}",r,i)}var En=a("X6Q+");var On=function(e){if(null==e)return"";const t=Object(En.c)(e),a=t.hours+24*t.days,n=t.minutes,i=t.seconds;return a&&n?Object(Ce.default)("{1} hr {2} min",a,n):a?Object(Ce.default)("{1} hr",a):n?Object(Ce.default)("{1} min",n):i>0?Object(Ce.default)("{1} sec",i):""};const Mn=[[54e5,function(e){if(null==e)return"";const t=Object(En.c)(e),a=24*t.days*60,n=60*t.hours,i=t.minutes+n+a,r=t.seconds;return i?Object(Ce.default)("{1} min",i):r>0?Object(Ce.default)("{1} sec",r):""}],[864e5,On],[6048e5,function(e){if(null==e)return"";const t=Object(En.c)(e),a=t.days,n=t.hours,i=1!==a;return a&&n?i?Object(Ce.default)("{1} days {2} hr",a,n):Object(Ce.default)("{1} day {2} hr",a,n):a?i?Object(Ce.default)("{1} days",a):Object(Ce.default)("{1} day",a):Object(Ce.default)("{1} hr",n)}],[1/0,function(e){if(null==e)return"";const t=Object(En.c)(e),a=t.years*En.b+t.months*En.a+t.days;return 1!==a?Object(Ce.default)("{1} days",a):Object(Ce.default)("{1} day",a)}]];var Cn=function(e){if(!e)return"";const t=M.a.find(Mn,([t])=>e<=t);return t&&t[1](e)};var jn=function(e){if(null==e)return"";const t=Cn(1e3*e);return t?Object(Ce.default)("{1} left",t):""},Dn=a("fVMv"),Pn=a("2BXX"),Tn=a("odh7");function wn(e,t){if(null==e||null==t)return!1;const a=Object(Tn.a)(new Date);return a>=e&&a<=t}function Nn({now:e=Date.now(),beginsAt:t,endsAt:a,channel:n,showFullTime:i,timeFormat:r}){if(!t)return Object(Ce.default)("No upcoming airings");if(wn(t,a)){const t=a-e/1e3;return t<=60?Object(Ce.default)("About to end"):jn(t)}if(Object(Dn.a)(t)&&Object(Pn.a)(t,{minutes:60})){const a=1e3*t-e;if(a<=6e4)return n?Object(Ce.default)("Starting now on {channel}",{channel:n}):Object(Ce.default)("Starting now");const i=Cn(a);return n?Object(Ce.default)("Starting in {duration} on {channel}",{duration:i,channel:n}):Object(Ce.default)("Starting in {duration}",{duration:i})}return(i?vn:Sn)(t,n,{timeFormat:r})}var xn,An,Ln=a("xweI"),kn=a.n(Ln),Rn=a("FIl5");function zn(e){if("now"===e)return{};const t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){const[,e,a]=t;if(function(e){if(!(e in xn))throw Error("Unknown unit: "+e)}(a),e&&a)return{[xn[a]]:parseInt(e,10)}}else{const t=parseInt(e,10);if("number"==typeof t)return t}return{}}function Un(e,t){return"object"==typeof t?Object(Dn.a)(e,t):e>=t}function Vn(e,t){return"object"==typeof t?Object(Pn.a)(e,t):e<=t}function Bn(e,t){const a=function(e){if(!e)return;const[,t]=e.split("?");return t?Rn.a.parseQueryString(t):void 0}(t),n=kn()(e.Media,"endsAt"),i=Date.now()/1e3;for(let e=0,t=n.length;e<t;e++){const t=n[e];if(a){const e=a["beginsAt>"],n=a["beginsAt<"],i=a["endsAt>"],r=a["endsAt<"];if(e&&t.beginsAt){const a=zn(e);if(Vn(t.beginsAt,a))continue}if(n&&t.beginsAt){const e=zn(n);if(Un(t.beginsAt,e))continue}if(i&&t.endsAt){const e=zn(i);if(Vn(t.endsAt,e))continue}if(r&&t.endsAt){const e=zn(r);if(Un(t.endsAt,e))continue}}if(t.endsAt&&t.endsAt>i)return t}return n[0]}function Fn(e=60){const t=1e3*e,[a,n]=Object(g.useState)(Date.now());return Object(g.useEffect)(()=>{const e=window.setTimeout(()=>{n(Date.now())},t-a%t);return()=>{window.clearTimeout(e)}},[a,t]),a}(An=xn||(xn={})).s="seconds",An.m="minutes",An.h="hours",An.d="days",An.w="weeks",An.M="months",An.y="years";var Hn=Object(At.a)((function(e){return Object(he.a)(ge.a,t=>t[e])}));function _n({className:e,metadataItem:t}){const a=Object(v.d)(Hn("timeFormat")),n=Fn(),i=Bn(t),{beginsAt:r,endsAt:s}=null!=i?i:{},o=null!=r&&null!=s?Nn({now:n,beginsAt:r,endsAt:s,timeFormat:a}):null;return o?y.a.createElement("span",{className:e,title:o},o):null}var Wn=a("17x9"),Qn=a.n(Wn),Gn=a("xhK+"),Kn=a.n(Gn);function Yn(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Yn.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var qn=Yn,Zn=a("bxUM");const Xn={"com.tidal":qn,"com.watchtogether":Zn.a};var Jn=function(e){const t=Xn[e.attribution];return t?y.a.createElement("div",{className:e.className},y.a.createElement(t,null)):null},$n=a("HY9I"),ei=a.n($n);function ti({className:e,tabIndex:t,allowLink:a=!0,metadataItem:n}){const i=Ya(n,"key");if(!n.title)return null;const r=y.a.createElement(y.a.Fragment,null,n.attribution?y.a.createElement(Jn,{className:ei.a.badge,attribution:n.attribution}):null,n.title);return a&&i?y.a.createElement(ga,{className:e,tabIndex:t,title:n.title,to:i},r):y.a.createElement("span",{className:e,title:n.title},r)}var ai=a("056+"),ni=a.n(ai);function ii({className:e,metadataItem:t}){return t.attributionLogo?y.a.createElement("span",{className:e},y.a.createElement("img",{className:ni.a.img,src:t.attributionLogo})):null}function ri({className:e,metadataItem:t}){const{originallyAvailableAt:a}=t;return a?y.a.createElement("span",{className:e},Object(Xa.default)(a)):null}var si=a("+t+Z"),oi=a("S09J");function li(e,t){switch(t){case Ha.c.Photo:switch(e){case Ha.d.Clip:return Ha.a.Photo}break;case Ha.c.Podcast:switch(e){case Ha.d.Show:return Ha.a.Audio}}switch(e){case Ha.d.Movie:case Ha.d.Show:case Ha.d.Season:case Ha.d.Episode:case Ha.d.Clip:return Ha.a.Video;case Ha.d.Artist:case Ha.d.Album:case Ha.d.Track:return Ha.a.Audio;case Ha.d.PhotoAlbum:case Ha.d.Photo:return Ha.a.Photo;case Ha.d.Game:return Ha.a.Rom;case Ha.d.Collection:switch(t){case Ha.c.Movie:case Ha.c.Show:return Ha.a.Video;case Ha.c.Artist:case Ha.c.Album:return Ha.a.Audio}}!function(e){throw new Error(`"${e}" is not mapped to a media type`)}(e)}function ci({className:e,metadataItem:t}){var a;const n=li(t.type,t.subtype),i=null==(a=t.Media)?void 0:a[0];return null==(null==i?void 0:i.bitrate)?null:y.a.createElement("span",{className:e},n===Ha.a.Video?Object(oi.default)(i.bitrate):Object(si.a)(i.bitrate))}function di({className:e,metadataItem:t}){var a,n;if(null==t.addedAt&&!(null==(a=t.Channel)?void 0:a.length))return null;const i=null==(n=t.Channel)?void 0:n[0].tag;return null==i?null:y.a.createElement("span",{className:e},y.a.createElement(en,{timestamp:t.addedAt}),null!=t.addedAt&&i?" — ":null,y.a.createElement("span",{title:i},i))}function ui({className:e,metadataItem:t}){const a=t.leafCount;if(null==a)return null;switch(t.type){case Ha.d.Show:return y.a.createElement("span",{className:e},1===a?Object(Ce.default)("{episodeCount} episode",{episodeCount:a}):Object(Ce.default)("{episodeCount} episodes",{episodeCount:a}));case Ha.d.Artist:return y.a.createElement("span",{className:e},1===a?Object(Ce.default)("{trackCount} track",{trackCount:a}):Object(Ce.default)("{trackCount} tracks",{trackCount:a}))}return y.a.createElement("span",{className:e},1===a?Object(Ce.default)("{itemCount} item",{itemCount:a}):Object(Ce.default)("{itemCount} items",{itemCount:a}))}function pi({className:e,metadataItem:t}){if(t.skipChildren)return y.a.createElement(ui,{className:e,metadataItem:t});const a=t.childCount;if(null==a)return null;switch(t.type){case Ha.d.Show:return y.a.createElement("span",{className:e},1===a?Object(Ce.default)("{seasonCount} season",{seasonCount:a}):Object(Ce.default)("{seasonCount} seasons",{seasonCount:a}));case Ha.d.Season:return y.a.createElement("span",{className:e},1===a?Object(Ce.default)("{episodeCount} episode",{episodeCount:a}):Object(Ce.default)("{episodeCount} episodes",{episodeCount:a}));case Ha.d.Artist:return y.a.createElement("span",{className:e},1===a?Object(Ce.default)("{albumCount} album",{albumCount:a}):Object(Ce.default)("{albumCount} albums",{albumCount:a}));case Ha.d.Album:return y.a.createElement("span",{className:e},1===a?Object(Ce.default)("{trackCount} track",{trackCount:a}):Object(Ce.default)("{trackCount} tracks",{trackCount:a}))}return y.a.createElement("span",{className:e},1===t.childCount?Object(Ce.default)("{itemCount} item",{itemCount:a}):Object(Ce.default)("{itemCount} items",{itemCount:a}))}function mi({className:e,metadataItem:t}){if(null==t.childCount)return null;const a=1===t.childCount,n={itemCount:t.childCount};let i;return i=t.subtype===Ha.c.Movie?a?Object(Ce.default)("{itemCount} movie",n):Object(Ce.default)("{itemCount} movies",n):t.subtype===Ha.c.Show?a?Object(Ce.default)("{itemCount} show",n):Object(Ce.default)("{itemCount} shows",n):a?Object(Ce.default)("{itemCount} item",n):Object(Ce.default)("{itemCount} items",n),y.a.createElement("span",{className:e},i)}function hi(e){if(!e)return"";const t=e.indexOf("/");return-1!==t?e.substr(t+1):e}function gi({className:e,metadataItem:t}){return null==t.contentRating?null:y.a.createElement("span",{className:e},hi(t.contentRating))}var yi=a("uceU"),fi=a.n(yi);const bi=/^igdb:\/\//,vi=/^imdb:\/\//,Ii=/^rottentomatoes:\/\//,Si=/^thetvdb:\/\//,Ei=/^themoviedb:\/\//,Oi={igdb:function({rating:e,audienceRating:t}){return y.a.createElement("div",{className:fi.a.rating,title:Object(Ce.default)("IGDB Rating")},y.a.createElement("div",{className:fi.a.igdb}),Math.round(10*t)+"%")},imdb:function({rating:e,audienceRating:t}){const a=t||e;return y.a.createElement("div",{className:fi.a.rating,title:Object(Ce.default)("IMDb Rating")},y.a.createElement("div",{className:fi.a.imdb}),a.toFixed(1))},rt:function({rating:e,ratingImage:t,audienceRating:a,audienceRatingImage:n}){const i=t&&t.substr(t.lastIndexOf(".")+1),r=a&&n&&n.substr(n.lastIndexOf(".")+1),s={certified:Object(Ce.default)("Certified Fresh"),ripe:Object(Ce.default)("Fresh"),rotten:Object(Ce.default)("Rotten"),spilled:Object(Ce.default)("Audience Rating"),upright:Object(Ce.default)("Audience Rating")};return y.a.createElement("div",{className:fi.a.rt},i?y.a.createElement("div",{className:fi.a.rating},y.a.createElement("div",{className:fi.a[i],title:s[i]}),Math.round(10*e)+"%"):null,r?y.a.createElement("div",{className:fi.a.rating},y.a.createElement("div",{className:fi.a[r],title:s[r]}),Math.round(10*a)+"%"):null)},thetvdb:function({audienceRating:e}){return y.a.createElement("div",{className:fi.a.rating,title:Object(Ce.default)("TheTVDB Rating")},y.a.createElement("div",{className:fi.a.thetvdb}),Math.round(10*e)+"%")},tmdb:function({rating:e,audienceRating:t}){const a=t||e;return y.a.createElement("div",{className:fi.a.rating,title:Object(Ce.default)("TMDB Rating")},y.a.createElement("div",{className:fi.a.tmdb}),Math.round(10*a)+"%")},other:function({rating:e}){return y.a.createElement("div",{className:fi.a.rating},y.a.createElement("div",{className:fi.a.other,title:Object(Ce.default)("Rating")}),Math.round(10*e)+"%")}};var Mi=function(e){const t=function({rating:e,ratingImage:t,audienceRating:a,audienceRatingImage:n}){return e||a?e&&bi.test(t)||a&&bi.test(n)?"igdb":e&&vi.test(t)||a&&vi.test(n)?"imdb":a&&Si.test(n)?"thetvdb":e&&Ei.test(t)||a&&Ei.test(n)?"tmdb":e&&Ii.test(t)||a&&Ii.test(n)?"rt":"other":"unrated"}(e),a=Oi[t];return a?y.a.createElement("div",{className:fi.a.container},y.a.createElement(a,{...e})):null};function Ci({className:e,metadataItem:t}){const{rating:a,ratingImage:n,audienceRating:i,audienceRatingImage:r}=t;return a||i?y.a.createElement("span",{className:e},y.a.createElement(Mi,{rating:a,ratingImage:n,audienceRating:i,audienceRatingImage:r})):null}function ji({className:e,metadataItem:t}){return null==t.duration?null:y.a.createElement("span",{className:e},Cn(t.duration))}function Di({className:e,metadataItem:t}){return null==t.leafCount?null:y.a.createElement("span",{className:e},1===t.leafCount?Object(Ce.default)("{episodeCount} episode",{episodeCount:t.leafCount}):Object(Ce.default)("{episodeCount} episodes",{episodeCount:t.leafCount}))}var Pi=a("AfY7");function Ti({className:e,tabIndex:t,metadataItem:a}){const n=Ya(a,"key"),i=Object(Pi.a)({useLongName:!0,episodeIndex:a.index,date:a.originallyAvailableAt,noLeadingZero:!0});return n?y.a.createElement("span",{className:e},y.a.createElement(ga,{tabIndex:t,title:a.title,to:n},i)):y.a.createElement("span",{className:e},y.a.createElement("span",{title:a.title},i))}function wi({className:e,metadataItem:t}){const{sourceTitle:a}=t;return a?y.a.createElement("span",{className:e,title:a},Object(Ce.default)("from {sourceTitle}",{sourceTitle:a})):null}function Ni({className:e,metadataItem:t}){const a=function(e){switch(e){case Ha.c.Trailer:return Object(Ce.default)("Trailer");case Ha.c.DeletedScene:return Object(Ce.default)("Deleted Scene");case Ha.c.Interview:return Object(Ce.default)("Interview");case Ha.c.MusicVideo:return Object(Ce.default)("Music Video");case Ha.c.BehindTheScenes:return Object(Ce.default)("Behind the Scenes");case Ha.c.SceneOrSample:return Object(Ce.default)("Scene");case Ha.c.LiveMusicVideo:return Object(Ce.default)("Live Music Video");case Ha.c.LyricMusicVideo:return Object(Ce.default)("Lyric Music Video");case Ha.c.Concert:return Object(Ce.default)("Concert");case Ha.c.Featurette:return Object(Ce.default)("Featurette");case Ha.c.Short:return Object(Ce.default)("Short");case Ha.c.Other:return Object(Ce.default)("Other")}}(t.subtype);return a?y.a.createElement("span",{className:e,title:a},a):null}function xi({className:e,tabIndex:t,allowLink:a=!0,metadataItem:n}){const i=Ya(n,"grandparentKey");return n.grandparentTitle?a&&i?y.a.createElement(ga,{className:e,tabIndex:t,title:n.grandparentTitle,to:i},n.grandparentTitle):y.a.createElement("span",{className:e,title:n.grandparentTitle},n.grandparentTitle):null}function Ai({className:e,tabIndex:t,allowLink:a,metadataItem:n}){return null!=n.addedAt||n.grandparentTitle?y.a.createElement("span",{className:e},y.a.createElement(en,{timestamp:n.addedAt}),null!=n.addedAt&&n.grandparentTitle?" — ":null,y.a.createElement(xi,{tabIndex:t,allowLink:a,metadataItem:n})):null}function Li({className:e,metadataItem:t}){const a=Va(t.sourceURI),{lastRatedAt:n}=a;return y.a.createElement(en,{className:e,timestamp:n})}function ki({className:e,metadataItem:t}){const a=Va(t.sourceURI),{lastViewedAt:n}=a;return n?y.a.createElement(en,{className:e,timestamp:n}):y.a.createElement("span",{className:e},Object(Ce.default)("Unplayed"))}function Ri({className:e,tabIndex:t,allowLink:a=!0,metadataItem:n}){const i=Ya(n,"parentKey");return n.parentTitle?a&&i?y.a.createElement(ga,{className:e,tabIndex:t,title:n.parentTitle,to:i},n.parentTitle):y.a.createElement("span",{className:e,title:n.parentTitle},n.parentTitle):null}function zi({className:e,metadataItem:t}){var a;const n=null!=(a=Va(t.sourceURI).viewCount)?a:0;return y.a.createElement("span",{className:e},1===n?Object(Ce.default)("{playCount} play",{playCount:n}):Object(Ce.default)("{playCount} plays",{playCount:n}))}var Ui=a("ijGY");function Vi({className:e,metadataItem:t}){return null==t.leafCount?null:y.a.createElement("span",{className:e},1===t.leafCount?Object(Ce.default)("{itemCount} item",{itemCount:t.leafCount}):Object(Ce.default)("{itemCount} items",{itemCount:t.leafCount}))}function Bi({className:e,metadataItem:t}){return t.playlistType===Ui.b?y.a.createElement(Vi,{className:e,metadataItem:t}):y.a.createElement(ji,{className:e,metadataItem:t})}function Fi({className:e,metadataItem:t}){return t.skipChildren?y.a.createElement(Di,{className:e,metadataItem:t}):null==t.childCount?null:y.a.createElement("span",{className:e},1===t.childCount?Object(Ce.default)("{seasonCount} season",{seasonCount:t.childCount}):Object(Ce.default)("{seasonCount} seasons",{seasonCount:t.childCount}))}var Hi=a("1cGo"),_i=a("M7+X");function Wi({className:e,tabIndex:t,allowLink:a=!0,metadataItem:n}){const i=Ya(n,"key"),r=Ya(n,"parentKey"),s=Object(_i.a)({seasonIndex:n.parentIndex,noLeadingZero:!0}),o=Object(Pi.a)({episodeIndex:n.index,date:n.originallyAvailableAt,noLeadingZero:!0});return a&&i&&r?y.a.createElement("span",{className:e},n.index&&s?y.a.createElement(ga,{tabIndex:t,title:n.parentTitle,to:r},s):null,n.index&&s?y.a.createElement(Hi.b,{separator:"·"}):null,y.a.createElement(ga,{tabIndex:t,title:n.title,to:i},o)):y.a.createElement("span",{className:e},n.index&&s?y.a.createElement("span",{title:n.parentTitle},s):null,n.index&&s?y.a.createElement(Hi.b,{separator:"·"}):null,y.a.createElement("span",{title:n.title},o))}function Qi({className:e,metadataItem:t}){const a=Va(t.sourceURI).unviewedLeafCount;return null==a?null:y.a.createElement("span",{className:e},Object(Ce.default)("{unplayedCount} unplayed",{unplayedCount:a}))}var Gi=a("YINS"),Ki=a("JzmK");function Yi(e){const{metricsPage:t,metricsContextTuple:a}=Object(Et.d)();return Object(g.useCallback)(n=>{const i={page:t,contextTuple:a,...e,...n};Object(E.c)("metrics").trackClick(i)},[JSON.stringify(e),a,t])}function qi(e){const[,t]=Jt();return Yi({identifier:t.metricsIdentifier,type:e.type})}var Zi=a("EiC7");function Xi(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-dot-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["circle",{cx:"280",cy:"280",r:"40"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Xi.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Ji=Xi;function $i(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-empty-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m342.864 199.975l203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475c20.955 64.492 41.909 128.983 62.864 193.475m-96.666 40l-109.387 0 88.496 64.296-33.802 104.032 88.495-64.296 88.495 64.296-33.802-104.032 88.496-64.296-109.387 0-33.802-104.033c-11.267 34.678-22.535 69.355-33.802 104.033"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}$i.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var er=$i;function tr(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-full-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m280 6.5l62.864 193.475 203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}tr.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var ar=tr,nr=a("a0eB"),ir=a("0pZA"),rr=a("Fp13"),sr=a.n(rr);const or=Object(Zi.a)(ir.a.starPulseSpeed);function lr(e,t){return e>0?Math.min(Math.floor(e)+1,t):0}function cr({className:e,iconComponent:t,isVisible:a,isPulsing:n}){const i=Pe()(e,!a&&sr.a.hidden,n&&sr.a.pulsing);return y.a.createElement(t,{className:i})}function dr(e){return y.a.createElement(cr,{iconComponent:er,className:sr.a.emptyStar,...e})}function ur(e){return y.a.createElement(cr,{iconComponent:ar,className:sr.a.fullStar,...e})}function pr(){return y.a.createElement(Ji,{className:sr.a.dot})}class mr extends g.Component{constructor(e,t){super(e,t),this.onSliderChange=({positionValue:e})=>{const{starCount:t}=this.props,a=lr(e,t);this.setState({currentValue:a})},this.onSliderMove=({positionValue:e})=>{const{starCount:t}=this.props,a=lr(e,t);0!==a&&this.setState({currentValue:a})},this.onSlideComplete=({positionValue:e})=>{const{starCount:t}=this.props,a=lr(e,t);this.state.currentRating!==a&&(this._setRating(a),this.props.onRatingChange(a))},this.onMouseLeave=({pageX:e})=>{this.setState({currentValue:this.state.currentRating})},this.state={currentValue:e.value,currentRating:e.value,isPulsing:!1}}componentWillReceiveProps({value:e}){e=Math.max(0,Math.min(e,this.props.starCount)),this.state.currentRating!==e&&this._setRating(e)}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentDidUpdate(e,t){this.state.currentRating!==t.currentRating&&(window.clearTimeout(this._pulseTimeoutID),this._pulseTimeoutID=window.setTimeout(()=>{this.setState({isPulsing:!1})},or))}componentWillUnmount(){window.clearTimeout(this._pulseTimeoutID)}_setRating(e){this.setState({currentValue:e,currentRating:e,isPulsing:!0})}render(){const{starCount:e,className:t}=this.props,{currentValue:a,currentRating:n,isPulsing:i}=this.state,r=!this.state.currentValue,s=!this.props.onRatingChange,o=M.a.range(e);return y.a.createElement("div",{className:Pe()(t,sr.a.starRating,s&&sr.a.isReadOnly,r&&sr.a.isUnrated),onMouseLeave:this.onMouseLeave},y.a.createElement("div",null,o.map(e=>y.a.createElement(pr,{key:e}))),y.a.createElement("div",{className:sr.a.stars},o.map(e=>{const t=e>a-1;return y.a.createElement(dr,{key:e,isVisible:t})})),y.a.createElement("div",{className:sr.a.stars},o.map(e=>{const t=e<=a-1;return y.a.createElement(ur,{key:e,isVisible:t,isPulsing:i&&n>e})})),s?null:y.a.createElement(nr.a,{className:sr.a.slider,trackClassName:sr.a.track,label:Object(Ce.default)("User Rating"),tabIndex:"-1",value:this.state.currentValue,min:0,max:e,stepSize:1,autoHideThumb:!0,onChange:this.onSliderChange,onMove:this.onSliderMove,onDragComplete:this.onSlideComplete}))}}mr.defaultProps={starCount:5,value:0};var hr=mr;function gr({className:e,metadataItem:t}){var a;const n=Object(v.c)(),[i,r]=Jt(),s=Va(t.sourceURI),o=qi(t),l=Object(g.useCallback)(e=>{const a=0===e?-1:2*e;o({action:Gi.V,value:a}),n(Ki.a.actions.rateRequested({server:i,provider:r,sourceURI:t.sourceURI,ratingKey:t.ratingKey,rating:a}))},[n,t.ratingKey,t.sourceURI,r,i,o]),c=(null!=(a=s.userRating)?a:0)/2;return y.a.createElement("div",{className:e},y.a.createElement(hr,{value:c,onRatingChange:l}))}var yr=a("VLKS");function fr({className:e,metadataItem:t}){var a;const n=null==(a=t.Media)?void 0:a[0];return null==(null==n?void 0:n.videoResolution)?null:y.a.createElement("span",{className:e},Object(yr.default)(n.videoResolution))}function br({className:e,metadataItem:t}){const a=Va(t.sourceURI);return null==t.duration||null==a.viewOffset?null:y.a.createElement("span",{className:e},Object(Ce.default)("{timeRemaining} left",{timeRemaining:Cn(t.duration-a.viewOffset)}))}function vr({className:e,metadataItem:t}){return t.year?y.a.createElement("span",{className:e},t.year):null}function Ir({className:e,displayFieldName:t}){return null}function Sr(e){switch(e){case _a.a.AddedAt:return tn;case _a.a.AddedAtChannelTag:return di;case _a.a.AddedAtGrandparentTitle:return Ai;case _a.a.AirsAt:return _n;case _a.a.AttributionLogo:return ii;case _a.a.ChildCount:return pi;case _a.a.ContentRating:return gi;case _a.a.Duration:return ji;case _a.a.EpisodeIdentifier:return Wi;case _a.a.GrandparentTitle:return xi;case _a.a.LastRatedAt:return Li;case _a.a.LastViewedAt:return ki;case _a.a.LeafCount:return ui;case _a.a.MediaBitrate:return ci;case _a.a.VideoResolution:return fr;case _a.a.OriginallyAvailableAt:return ri;case _a.a.ParentTitle:return Ri;case _a.a.Rating:return Ci;case _a.a.SourceTitle:return wi;case _a.a.Title:return qa;case _a.a.TitleAttributed:return ti;case _a.a.UnviewedLeafCount:return Qi;case _a.a.UserRating:return gr;case _a.a.ViewCount:return zi;case _a.a.ViewOffset:return br;case _a.a.Year:return vr;default:return function(e){return t=>y.a.createElement(Ir,{...t,displayFieldName:e})}(e)}}function Er(e,t,a){const n=null==a?void 0:a.displayFieldNames;if(n)return n.map(Sr);const i=null==a?void 0:a.listStyle;if(e===Nt.b.Mixed)return[null,null,null];switch(i){case Nt.a.PrePlayGrid:switch(e){case Ha.d.Season:return[qa,Di];case Ha.d.Episode:return[qa,Ti];case Ha.d.Album:return[ti,vr]}}switch(t){case Ha.c.News:switch(e){case Ha.d.Clip:return[{component:qa,isDoubleLine:!0},di]}break;case Ha.c.Podcast:switch(e){case Ha.d.Show:return[{component:qa,isDoubleLine:!0}];case Ha.d.Track:return[{component:qa,isDoubleLine:!0},xi]}break;case Ha.c.Webshow:switch(e){case Ha.d.Show:return[qa];case Ha.d.Episode:return[{component:qa,isDoubleLine:!0},Ai]}break;case Ha.c.Trailer:case Ha.c.DeletedScene:case Ha.c.Interview:case Ha.c.MusicVideo:case Ha.c.BehindTheScenes:case Ha.c.SceneOrSample:case Ha.c.LiveMusicVideo:case Ha.c.LyricMusicVideo:case Ha.c.Concert:case Ha.c.Featurette:case Ha.c.Short:case Ha.c.Other:switch(e){case Ha.d.Clip:return[qa,Ni]}}switch(e){case Ha.d.Movie:return[qa,vr];case Ha.d.Show:return[qa,Fi];case Ha.d.Season:return[Ri,qa];case Ha.d.Episode:return[xi,qa,Wi];case Ha.d.Artist:return[qa];case Ha.d.Album:return[Ri,qa];case Ha.d.Track:return[xi,qa];case Ha.d.Photo:return[{component:qa}];case Ha.d.PhotoAlbum:case Ha.d.Clip:return[qa];case Ha.d.Playlist:return[qa,Bi];case Ha.d.Collection:return[qa,mi];case Ha.d.Directory:case Ha.d.Channel:case Nt.b.Content:return[];case Nt.b.Channels:return[qa,_n];case Nt.b.Photo:return[qa]}return[{component:qa,allowLink:!1}]}var Or=a("uif/"),Mr=a("fklS");function Cr(e){const{style:t,moveDurationMilliseconds:a=400,isVirtual:n,isVisible:i,cellIndex:r,cellX:s,cellY:o,cellWidth:l,cellHeight:c}=e,d=Object(Or.a)(r),u=null!=d&&r!==d,p=Object(g.useRef)(u),m=p.current||u,h=Object(g.useRef)(!0);n&&!i||(h.current=!1);const y=Object(g.useReducer)(e=>e+1,0)[1],f=Object(g.useMemo)(()=>n?{position:"absolute",width:l,height:c,transform:`translate3d(${s}px, ${o}px, 0)`,zIndex:m?1:0,transition:m?"transform "+Mr.a.defaultSpeed:"none",transitionDuration:m?a+"ms":"0",...t}:{position:"relative",...t},[s,o,l,c,t,a,m,n]);return Object(g.useEffect)(()=>{let e;return m&&(p.current=!0,e=window.setTimeout(()=>{p.current=!1,y()},2*a)),()=>{e&&window.clearTimeout(e)}},[a,m,y]),{style:f,isOffscreenPlaceholder:h.current}}var jr=a("i7Pf");const Dr=function(e,t){const a={count:0,items:{}};return{getDefaultMultiselectState:()=>a,getIdentity:t,reducers:{reset(t){let n=e(t);return n=a,n},selectItems(a,{payload:n}){const i=e(a),{items:r}=n;r.forEach(e=>{const a=t(e);i.items[a]||(i.items[a]=e,i.count+=1)})},deselectItems(a,{payload:n}){const i=e(a),{items:r}=n;r.forEach(e=>{const a=t(e);i.items[a]&&(delete i.items[a],i.count-=1)})}}}}(e=>e,e=>e.sourceURI),Pr=Dr.getDefaultMultiselectState();var Tr=Object(jr.c)({name:"metadataMultiselect",initialState:Pr,reducers:{...Dr.reducers}});var wr=Object(he.a)(ka,e=>e.features);var Nr=Object(he.a)(wr,e=>e.metadataMultiselect),xr=a("xHo2");const Ar={display:"contents "};function Lr(e,t,a){const n=[];for(let i=Math.min(t,a);i<=Math.max(t,a);i++)n.push(e[i]);return n}const kr=Object(g.createContext)({isSelectionRangeActive:!1,isSelectionRangeComplete:!1,checkItemInRange:()=>!1,onRangeStart:()=>{},onRangeEnd:()=>{},onRangeSelect:()=>{},onRangeClear:()=>{}});var Rr=function({children:e,items:t}){const[a,n]=Object(g.useState)(),[i,r]=Object(g.useState)(),[s,o]=Object(g.useState)(),[l,c]=Object(g.useState)(!1),d=Object(g.useCallback)(e=>{const n=t.indexOf(e);return null!=a&&null!=i&&n>=Math.min(a,i)&&n<=Math.max(a,i)},[t,i,a]),u=Object(g.useCallback)(e=>{const a=t.indexOf(e);-1!==a&&(n(a),r(void 0),o(void 0))},[t]),p=Object(g.useCallback)(e=>{const n=t.indexOf(e);-1!==n&&null!=a&&Lr(t,a,n).every(e=>e)&&r(n)},[t,a]),m=Object(g.useCallback)((e,n)=>{null!=a&&null!=i&&(s&&n(Lr(t,...s)),e(Lr(t,a,i)),o([a,i]))},[t,s,i,a]),h=Object(g.useCallback)(()=>{n(void 0),r(void 0),o(void 0)},[]),f=Object(g.useCallback)(()=>{r(void 0)},[]);Object(g.useEffect)(()=>{function e(e){e.key===xr.a.Shift&&c(!0)}function t(e){e.key===xr.a.Shift&&(c(!1),r(void 0))}function a(){c(!1),r(void 0)}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("blur",a),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.addEventListener("blur",a)}},[]);const b=Object(g.useMemo)(()=>({isSelectionRangeActive:l,isSelectionRangeComplete:null!=a&&null!=i,checkItemInRange:d,onRangeStart:u,onRangeEnd:p,onRangeSelect:m,onRangeClear:h}),[d,l,h,p,m,u,i,a]);return y.a.createElement(kr.Provider,{value:b},y.a.createElement("div",{style:Ar,onMouseLeave:f},e))};function zr(e,t,a,n,i=!1){const r=Object(v.c)(),s=Object(v.d)(t),o=Object(g.useMemo)(()=>!!n&&!!s.items[n],[n,s.items]),l=!!s.count,{isSelectionRangeActive:c,isSelectionRangeComplete:d,checkItemInRange:u,onRangeStart:p,onRangeEnd:m,onRangeClear:h,onRangeSelect:y}=Object(g.useContext)(kr),f=Object(g.useCallback)(e=>{r(a.selectItems({items:e}))},[a,r]),b=Object(g.useCallback)(e=>{r(a.deselectItems({items:e}))},[a,r]),I=Object(g.useCallback)(()=>{e&&(d?y(f,b):o?(b([e]),h()):(f([e]),p(e)))},[d,o,e,b,h,y,p,f]);return Object(g.useEffect)(()=>{e&&c&&l&&i&&m(e)},[i,c,l,e,m]),{isSelectionActive:l,isSelected:o,isInSelectionRange:c&&u(e),onToggleSelect:I}}function Ur({isHovered:e,metadataItem:t,metadataItemState:a}){const n=Object(v.c)(),i=t?Dr.getIdentity(t):void 0,r=zr(t,Nr,Tr.actions,i,e),s=null==a?void 0:a.isDeleted;return Object(g.useEffect)(()=>{t&&s&&r.isSelected&&n(Tr.actions.deselectItems({items:[t]}))},[t,s,r,n,r.isSelected]),r}function Vr(e,t,a){var n;return null==(n=null==a?void 0:a.find(a=>a.type===e&&a.subtype===t))?void 0:n.fields}function Br(e,t,a){var n;return null==(n=null==a?void 0:a.find(a=>a.type===e&&a.subtype===t))?void 0:n.imageType}var Fr=a("qCD8"),Hr=a("GUIr"),_r=a("2C4C");function Wr(){const[e,t]=Object(g.useState)(!1),a=Object(g.useRef)(null),n=Object(g.useCallback)(()=>t(!0),[]),i=Object(g.useCallback)(()=>t(!1),[]);return Object(g.useEffect)(()=>{const e=a.current;return e&&(e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",i)),()=>{e&&(e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",i))}},[n,i]),[e,a]}function Qr({server:e,provider:t,metadataItem:a,metadataItemState:n}){const i=Object(v.c)(),[r,s]=Wr(),[o,l]=Object(g.useState)(!1),[c,d]=Object(g.useState)(!1),u=Object(Or.a)(o),p=Object(g.useCallback)(()=>{d(!1),l(!0),n.isPending||n.isPopulated||i(Ki.a.actions.fetchRequested({server:e,provider:t,metadataKey:a.key,sourceURI:a.sourceURI}))},[i,a.key,a.sourceURI,n.isPending,n.isPopulated,t,e]),m=Object(g.useCallback)(()=>{d(!0),l(!1)},[]),h=Object(g.useCallback)(()=>{d(!1)},[]),y=Object(g.useCallback)(()=>{o?m():p()},[o,m,p]);return Object(g.useEffect)(()=>{!u||!o||n.isPending||n.isPopulated||n.error||l(!1)},[u,o,n.error,n.isPending,n.isPopulated]),{hoverRef:s,isHovered:r,isActionsPending:o&&n.isPending,isActionsVisible:r||o||c,actionsMenuButtonID:Object(_r.a)(),isActionsMenuOpen:o&&!n.isPending&&!(!n.isPopulated&&!n.error),isActionsMenuClosing:c,onActionsMenuOpen:p,onActionsMenuClose:m,onActionsMenuCloseComplete:h,onActionsMenuToggle:y}}var Gr=a("BW9E");function Kr(e){return function(e){var t;const{type:a,subtype:n,title:i,parentTitle:r,grandparentTitle:s}=e;let o;switch(n){case Ha.c.News:switch(a){case Ha.d.Clip:return[i,null==(t=null==e?void 0:e.Channel)?void 0:t[0].tag]}break;case Ha.c.Podcast:switch(a){case Ha.d.Track:return[i,s]}break;case Ha.c.Webshow:switch(a){case Ha.d.Episode:return[i,s]}}switch(a){case Ha.d.Movie:return[i,e.year];case Ha.d.Season:return[r,i];case Ha.d.Episode:return o={episodeIndex:e.index,date:e.originallyAvailableAt,noLeadingZero:!0,useLongName:!0},[s,Object(Gr.a)({...o,seasonIndex:e.parentIndex}),i];case Ha.d.Album:return[r,i];case Ha.d.Track:return[s,i];default:return[i]}}(e).filter(e=>0===e||e).join(", ")}function Yr(e,t={}){var a;const{aspectRatio:n,displayImageType:i}=t,{type:r,subtype:s,thumb:o,parentThumb:l,grandparentThumb:c,art:d,parentArt:u,composite:p,liveTVChannel:m,viewOffsetThumb:h}=e;if(i){const t=null==(a=e.Image)?void 0:a.find(e=>e.type===i);return null==t?void 0:t.url}if(m)return m.thumb;switch(n){case 16/9:switch(r){case Ha.d.Movie:switch(s){case Ha.c.Clip:return o}return d;case Ha.d.Show:return d;case Ha.d.Season:return d||u;case Ha.d.Game:return h||o;default:return o}case 1/1.5:switch(r){case Ha.d.Season:return o;case Ha.d.Episode:return c;default:return o}case 1:switch(r){case Ha.d.Album:return o;case Ha.d.Track:switch(s){case Ha.c.Podcast:return o||l||c}return o||l;case Ha.d.Playlist:return o||p;default:return o}}return o}var qr=a("gnaf");function Zr(e){const{providerIdentifier:t}=Object(Ia.a)(e.source);return qr.l(t,[qr.c,qr.b])}function Xr(e,t){const{type:a}=e,{viewOffset:n,viewCount:i,viewedLeafCount:r,unviewedLeafCount:s}=t;return!(!(a===Ha.d.Movie||a===Ha.d.Show||a===Ha.d.Season||a===Ha.d.Episode||a===Ha.d.Track)||n||!(i&&!r&&!s||r&&!s))}var Jr=a("taAd");function $r(e){return qr.l(Object(Jr.a)(e.identifier,e.providerIdentifier),qr.i)}var es=a("8CTZ"),ts=a.n(es);function as({className:e=ts.a.badge,style:t,iconClassName:a=ts.a.icon,iconComponent:n}){return y.a.createElement("div",{className:e,style:t},y.a.createElement(n,{className:a}))}var ns=a("4pPT"),is=a("OQUr"),rs=a.n(is);function ss({className:e=rs.a.playedBadge}){return y.a.createElement(as,{className:e,iconComponent:ns.a})}var os=a("uP6D"),ls=a("hDAk"),cs=a.n(ls);function ds({className:e=cs.a.smartPlaylistBadge}){return y.a.createElement(as,{className:e,iconComponent:os.a})}function us(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-in-watchlist-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}us.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var ps=us,ms=a("85+Z"),hs=a.n(ms);function gs({className:e=hs.a.watchlistBadge}){return y.a.createElement(as,{className:e,iconComponent:ps})}var ys=a("+71K"),fs=a.n(ys);function bs({className:e=fs.a.container,width:t,height:a,children:n}){const i=Object(g.useMemo)(()=>({width:t+"px",height:a+"px",fontSize:Math.max(14,Math.min(Math.round(t/4),42)),lineHeight:a+"px"}),[a,t]);return y.a.createElement("div",{className:e,style:i},n)}var vs=a("Dw2a"),Is=a.n(vs);function Ss({className:e=Is.a.link,hoverClassName:t=Is.a.hoveredLink,isHovered:a,...n}){return y.a.createElement(ga,{className:a?t:e,...n})}var Es=a("zEgu");var Os=Object(At.a)((function(e){return Object(he.a)(Es.a,t=>!!t[e])})),Ms=a("FjJJ");var Cs=Object(jr.c)({name:"servers",initialState:{},reducers:{connected(e,t){},libraryScanUpdated(e,t){}}});var js,Ds,Ps,Ts,ws=Object(jr.c)({name:"serverActivities",initialState:{},reducers:{activityStarted(e,t){},activityUpdated(e,t){},activityFinished(e,t){}},extraReducers:e=>{e.addCase(Cs.actions.connected,(e,{payload:t})=>{const{server:a}=t;e[a.machineIdentifier]||(e[a.machineIdentifier]=[])})}});function Ns(e,{payload:t}){const{type:a,progress:n=0,Context:i}=t.activity;if(!(null==i?void 0:i.source)||a!==Ms.p)return;const{source:r,ratingKey:s}=i,{serverIdentifier:o,providerIdentifier:l}=Object(Ia.a)(r),c=Object(Ct.a)({serverIdentifier:o,providerIdentifier:l,key:"/library/metadata/"+s}),d=e.status.downloads[c];if(!d)return;const u=100===n;e.status.downloads[c]={id:d.id,subscription:u?js.Saved:js.Saving,sourceURI:c,type:d.type,relation:d.relation,progress:n}}(Ds=js||(js={}))[Ds.Subscribing=0]="Subscribing",Ds[Ds.Saving=1]="Saving",Ds[Ds.Saved=2]="Saved",(Ts=Ps||(Ps={}))[Ts.Self=0]="Self",Ts[Ts.Descendants=1]="Descendants",Ts[Ts.Ancestors=2]="Ancestors";var xs=Object(jr.c)({name:"downloads",initialState:{status:{downloads:{},error:null},creating:{},deleting:{},providerSections:[]},reducers:{providersFetchSucceeded(e,{payload:t}){e.providerSections=t.providerSections},downloadsFetchSucceeded(e,{payload:t}){for(const a of t.items)delete e.status.downloads[a.sourceURI];for(const a of t.downloads)e.status.downloads[a.sourceURI]=a},downloadsFetchFailed(e,{payload:t}){e.status.error=t.error},subscriptionTemplatesFetchRequested(e,t){},subscriptionTemplateChanged(e,{payload:t}){t.template?e.creating[t.sourceURI]={isPending:!1,error:null,template:t.template}:delete e.creating[t.sourceURI]},subscriptionCreateRequested(e,{payload:t}){e.creating[t.sourceURI]={isPending:!0,error:null}},subscriptionCreateSucceeded(e,{payload:t}){delete e.creating[t.sourceURI],e.status.downloads[t.sourceURI]={id:t.id,sourceURI:t.sourceURI,type:t.type,subscription:js.Subscribing,relation:Ps.Self,progress:0}},subscriptionCreateFailed(e,{payload:t}){e.creating[t.sourceURI]={isPending:!1,error:t.error},delete e.status.downloads[t.sourceURI]},subscriptionDeleteRequested(e,{payload:t}){e.deleting[t.sourceURI]={isPending:!0,error:null}},subscriptionDeleteSucceeded(e,{payload:t}){delete e.deleting[t.sourceURI],delete e.status.downloads[t.sourceURI]},subscriptionDeleteFailed(e,{payload:t}){e.deleting[t.sourceURI]={isPending:!1,error:t.error}}},extraReducers:e=>{X.a.allowSyncDownload&&(e.addCase(ws.actions.activityUpdated,Ns),e.addCase(ws.actions.activityFinished,Ns),e.addCase(Ki.a.actions.deleted,(e,{payload:t})=>{const{mediaProviderID:a,sourceURI:n}=t,i=e.providerSections.find(({id:e})=>a===e);if(!i)return;const{serverIdentifier:r,providerIdentifier:s}=Object(Ia.a)(i.source),{key:o}=Object(Ia.a)(n),l=Object(Ct.a)({serverIdentifier:r,providerIdentifier:s,key:o});delete e.status.downloads[l]}))}});var As=Object(he.a)(wr,e=>e.downloads);var Ls=function(e){return Object(he.a)(As,t=>{var a,n;const i=!!(null==(a=t.creating[e])?void 0:a.isPending),r=!!(null==(n=t.deleting[e])?void 0:n.isPending);return i||r})};var ks=function(e){return Object(he.a)(As,t=>t.status.downloads[e])};function Rs(e){const t=Object(v.c)(),a=Object(g.useMemo)(()=>ks(e.sourceURI),[e.sourceURI]),n=Object(g.useMemo)(()=>Ls(e.sourceURI),[e.sourceURI]),i=Object(v.d)(a),r=Object(v.d)(n),s=(null==i?void 0:i.subscription)===js.Subscribing,o=!!i&&i.relation!==Ps.Descendants,l=!i||i.relation===Ps.Descendants,c=(null==i?void 0:i.relation)===Ps.Self;return{progress:(null==i?void 0:i.progress)||0,isPending:r,isSubscribing:s,isDownloaded:o,canDownload:l,canDeleteDownload:c,onDownload:Object(g.useCallback)(()=>{t(xs.actions.subscriptionTemplatesFetchRequested({sourceURI:e.sourceURI,guid:e.guid,useSelected:e.type===Ha.d.Show}))},[t,e.sourceURI,e.guid,e.type]),onDeleteDownload:Object(g.useCallback)(()=>{i&&t(xs.actions.subscriptionDeleteRequested({id:i.id,sourceURI:e.sourceURI,type:e.type}))},[t,i,e.sourceURI,e.type])}}var zs=a("8zoK");function Us({className:e,metadataItem:t,isShadowVisible:a=!1}){const{progress:n,isSubscribing:i,isDownloaded:r}=Rs(t);return y.a.createElement("div",{className:e},r?y.a.createElement(zs.a,{progress:n<100?n:null,showShadow:a,showIndeterminate:i}):null)}var Vs=a("01DF"),Bs=a("DdkG"),Fs=a("xPjC"),Hs=a("n9Tp"),_s=a("pXC0");function Ws({containerServer:e,containerProvider:t,server:a,provider:n,metadataItem:i,metadataItemState:r,metricsPage:s,metricsContextTuple:o}){const l=Object(v.c)();return Object(g.useCallback)(c=>{l(Object(Fs.redispatchLegacyMetadataAction)({server:e,provider:t,itemServer:a,itemProvider:n,metadataItem:i,metadataItemState:r,metricsPage:s,metricsProperties:{contextTuple:o},legacyAction:c}))},[t,e,l,i,r,o,s,n,a])}function Qs(e,t,a){var n;if(Zr(e)){const{beginsAt:t,endsAt:a}=null!=(n=Bn(e))?n:{},i=Math.floor(Date.now()/1e3);return t&&a&&i>=t&&i<a?Object(Ce.default)("Watch Now"):Object(Ce.default)("Watch Channel")}return t.viewOffset||a.viewOffset?Object(Ce.default)("Resume"):e.onDeck&&t.viewedLeafCount&&t.unviewedLeafCount?Object(Ce.default)("Next Episode"):Object(Ce.default)("Play")}var Gs=a("y0Ze"),Ks=a("o2in"),Ys=a.n(Ks);function qs({className:e=Ys.a.playButton,circleClassName:t=Ys.a.playCircle,...a}){return y.a.createElement(ga,{...a,className:e},y.a.createElement(Gs.a,{className:t}))}function Zs({metadataItem:e,...t}){var a;const[n,i]=Jt(),{containerServer:r,containerProvider:s,containerKey:o,containerType:l}=Ma(),{metricsPage:c,metricsContextTuple:d}=Object(Et.d)(),u=Va(e.sourceURI),p=Va(null==(a=e.onDeck)?void 0:a.sourceURI),m=Object(v.c)(),h=Ws({containerServer:r,containerProvider:s,server:n,provider:i,metadataItem:e,metadataItemState:u,metricsPage:c,metricsContextTuple:d}),f=qi(e),b=Object(g.useCallback)(()=>{f({action:Gi.N}),h(Ze.x({options:{containerKey:o,listType:l}}))},[o,l,h,f]),I=Object(g.useCallback)(()=>{f({action:Gi.N});const t=Bn(e);m(Hs.l({serverEntityID:n.entityID,providerEntityID:i.entityID,metricsPage:c,metricsContext:d,options:{containerKey:o,containerType:l,type:_s.e,identifier:t.channelIdentifier}}))},[m,o,l,n,i,e,c,d,f]),S=Object(g.useCallback)(()=>{f({action:Gi.ib}),h(Ze.B())},[h,f]),E=Object(g.useMemo)(()=>Zr(e)?I:e.type===Ha.d.Artist?S:b,[e,I,b,S]);return y.a.createElement(qs,{...t,"aria-label":Qs(e,u,p),onPress:E})}var Xs=a("HPXQ"),Js=a("cftR"),$s=a("kvRM"),eo=a("Vv31"),to=a("FeaP"),ao=a("qNMu"),no=a("/oUX"),io=a("xI1S"),ro=a("3gZG"),so=a("JMV9"),oo=a("PSl2"),lo=a("1WZA");const co=Object(he.a)(Ft.a,Lt.a,(e,t)=>e.filter(e=>e.isFullOwnedServer&&e.isConnected&&Object(oo.a)(e.version,so.a.addProviderContentToLibrary)).reduce((e,a)=>{var n;const i=a.providers.map(e=>t[e]).find(e=>e.identifier===qr.d);if(!i)return e;const r=Object(lo.a)(i),s=null!=(n=null==r?void 0:r.directories)?n:[],o={machineIdentifier:a.machineIdentifier,providerIdentifier:i.identifier,serverFriendlyName:a.friendlyName,targetLibraries:[]};return s.forEach(e=>{e.type===Ha.d.Artist&&o.targetLibraries.push({libraryTitle:e.title,libraryType:e.type,librarySectionID:e.id})},[]),o.targetLibraries.length&&e.push(o),e},[]));function uo({children:e,targetMachineIdentifier:t,targetProviderIdentifier:a,targetLibrary:n,onAddToLibrary:i}){const r=Object(v.d)(Zt(t)),s=Object(v.d)(Wt(t,a)),o=Object(g.useCallback)(()=>{i({targetServer:r,targetProvider:s,targetLibrarySectionID:n.librarySectionID,targetLibraryType:n.libraryType})},[i,n,s,r]);return y.a.createElement(Js.a,{onPress:o},e)}function po({onAddToLibrary:e}){const t=Object(v.d)(co);if(!t.length)return null;if(1===t.length&&1===t[0].targetLibraries.length){const a=t[0];return y.a.createElement(uo,{targetMachineIdentifier:a.machineIdentifier,targetProviderIdentifier:a.providerIdentifier,targetLibrary:a.targetLibraries[0],onAddToLibrary:e},Object(Ce.default)("Add to {serverName}",{serverName:a.serverFriendlyName}))}return y.a.createElement(eo.a,{label:Object(Ce.default)("Add to Library")},t.map(t=>y.a.createElement(g.Fragment,{key:`${t.machineIdentifier}:${t.providerIdentifier}`},y.a.createElement(ro.a,null,t.serverFriendlyName),t.targetLibraries.map(a=>y.a.createElement(uo,{key:a.librarySectionID,targetMachineIdentifier:t.machineIdentifier,targetProviderIdentifier:t.providerIdentifier,targetLibrary:a,onAddToLibrary:e},Object(Ce.default)("Add to {libraryName}",{libraryName:a.libraryTitle}))))))}function mo({className:e,style:t,children:a,forwardedRef:n,isOpen:i=!0,closeDelayMilliseconds:r=0,allowInteractionEventBubbling:s=!1,onOpen:o,onClose:l}){const[c,d]=Object(g.useState)(i),u=Object(g.useCallback)(e=>{s||e.stopPropagation()},[s]);return Object(g.useEffect)(()=>{let e;return i?(d(!0),null==o||o()):e=window.setTimeout(()=>{d(!1),null==l||l()},r),()=>{e&&window.clearTimeout(e)}},[r,i,l,o]),c?b.a.createPortal(y.a.createElement("div",{className:e,style:t,ref:n,onTouchStart:u,onTouchMove:u,onTouchEnd:u,onTouchCancel:u,onMouseDown:u,onMouseUp:u,onClick:u,onFocus:u,onBlur:u},a),document.body):null}var ho=y.a.forwardRef((e,t)=>y.a.createElement(mo,{...e,forwardedRef:t}));function go({metadataItem:e,downloadIFrameName:t,onMenuClose:a,onDownloadVersionPress:n,onDownloadFilePress:i}){var r;const[s]=Jt(),o=Object(_r.a)(),l=1===(null==(r=e.Media)?void 0:r.length)?function(e,t){var a;if(!(null==(a=t.Part)?void 0:a.length))return;const n=t.Part[0];return j.default.join([e.uri,n.key],{download:1,"X-Plex-Token":e.accessToken})}(s,e.Media[0]):null,c=Object(g.useCallback)(()=>{l?(null==i||i(),a()):n()},[l,i,n,a]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(Js.a,{to:l,target:t||o,onPress:c},Object(Ce.default)("Download File")),t?null:y.a.createElement(ho,null,y.a.createElement("iframe",{name:o,style:{display:"none"}})))}var yo=a("ICb1"),fo=a("7za+");function bo({server:e,provider:t,metadataItem:a,metadataItemState:n}){const i=Object(v.c)();return Object(g.useCallback)(r=>{i(Object(Fs.redispatchLegacyMetadataAction)({server:e,provider:t,metadataItem:a,metadataItemState:n,legacyAction:r}))},[i,a,n,t,e])}function vo({metadataItem:e,metadataItemState:t,children:a}){const[n,i]=Jt(),r=Object(v.c)(),s=bo({server:n,provider:i,metadataItem:e,metadataItemState:t}),o=Object(jt.a)(fo.g,e.key,n.entityID),l=Object(v.d)(e=>e.entities[fo.g][o]),c=Object(g.useMemo)(()=>Object(yo.a)(o+"_NO_OP"),[o]),[d,u]=Object(g.useState)(!1),p=Object(g.useCallback)(()=>{r(Ki.a.actions.repopulateRequested({sourceURI:e.sourceURI}))},[r,e.sourceURI]);return Object(g.useEffect)(()=>{Object(Dt.a)(()=>{s(c())}),u(!0)},[s,c]),y.a.createElement(y.a.Fragment,null,d&&l?a({serverEntityID:n.entityID,providerEntityID:i.entityID,metadataItemEntityID:o,onMarkStale:p}):null)}var Io=a("Pg5J");var So=function(e){const t=[];if(e.bitrate&&t.push(Object(oi.default)(e.bitrate)),e.videoResolution){const a=Object(Io.a)(e),n=a?a.scanType:null;t.push(Object(yr.default)(e.videoResolution,n))}return{title:e.title,info:t.join(", ")}},Eo=a("hcx5"),Oo=a("vGNm");function Mo({isOpen:e,mediaItems:t,onSelect:a,onCancel:n}){return y.a.createElement(Eo.a,{isOpen:e,title:Object(Ce.default)("Play Version"),metricsPage:It.ab,onItemSelect:a,onCancel:n},t.map((e,t)=>{const{title:a,info:n}=So(e),i=!!a,r=!!(null==n?void 0:n.length);return y.a.createElement(Oo.a,{key:t,value:t},i?e.title:null,i&&r?y.a.createElement(Hi.b,null):null,r?n:null,i||r?null:Object(Ce.default)("Unknown"))}))}var Co=a("f2wi");function jo(e,t,a){if(a===Co.PODCAST)return t?Object(Ce.default)("Remove from My Podcasts"):Object(Ce.default)("Add to My Podcasts");return qr.l(e,qr.f)?t?Object(Ce.default)("Remove from My TIDAL"):Object(Ce.default)("Add to My TIDAL"):t?Object(Ce.default)("Remove from My Shows"):Object(Ce.default)("Add to My Shows")}var Do=a("PXtH"),Po=a("3d0f"),To=a("TIWu"),wo=a("rXDx"),No=a("KR2X");function xo(e,t){var a;const n=e.features.find(e=>e.type===St.e.Actions);return null==(a=null==n?void 0:n.actions)?void 0:a.find(e=>e.id===t)}function Ao(e){return qr.l(Object(Jr.a)(e.identifier,e.providerIdentifier),qr.d)}const Lo={[Ha.d.Movie]:["isAddToPlaylistVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromContinueWatchingVisible","isRemoveFromWatchlistVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[Ha.d.Show]:["isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayAllVisible","isPlayTrailerVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromSavedVisible","isRemoveFromWatchlistVisible","isSettingsVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[Ha.d.Season]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayAllVisible","isPlayVisible","isQueueVisible","isRateVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[Ha.d.Episode]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromContinueWatchingVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[Ha.d.Artist]:["isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayAllVisible","isPlayArtistTVVisible","isPlayRadioVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[Ha.d.Album]:["isAddToLibraryVisible","isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[Ha.d.Track]:["isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isPlayMusicVideoVisible","isPlayVisible","isQueueVisible","isRateVisible","isRemoveFromSavedVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[Ha.d.PhotoAlbum]:["isAddToPlaylistVisible","isAnalyzeVisible","isEditVisible","isPlayVisible","isShareVisible","isShuffleVisible","isSyncVisible"],[Ha.d.Photo]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFavoriteVisible","isGetInfoVisible","isPlayVisible","isShareVisible","isSyncVisible","isUnfavoriteVisible"],[Ha.d.Clip]:["isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[Ha.d.Playlist]:["isAddToSavedVisible","isDeleteVisible","isEditVisible","isModifySmartPlaylistVisible","isPlayVisible","isQueueVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible"],[Ha.d.Collection]:["isAddToPlaylistVisible","isDeleteVisible","isEditVisible","isPlayVisible","isQueueVisible","isRateVisible","isShuffleVisible","isSyncVisible"],[Ha.d.Game]:["isPlayVisible","isPlayVersionVisible","isRateVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isEditVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isUnmatchVisible","isDeleteVisible","isGetInfoVisible"]};function ko(e,t){return!!Object(xt.a)(e,t)}function Ro(e,t){return!!xo(e,t)}function zo(e){var t;return null!=(t=null==e?void 0:e.isExtra)&&t&&function(e){const t=e.Media;return!!(null==t?void 0:t.some(e=>e.premium))}(e)}const Uo=({server:e,provider:t,stableUser:a,metadataItem:n})=>function(e,t,a,n){const{isFolder:i,Media:r}=n;if(Object(xt.a)(t,St.e.PlayQueue))return!i;const s=!!a.features[ve.j];return!(!t.protocols.includes(St.g.LiveTV)||!(e.livetv&&4===e.livetv||s))&&!!(null==r?void 0:r.length)}(e,t,a,n),Vo=({metadataItem:e})=>!!e.primaryExtraKey,Bo=({server:e,provider:t,stableUser:a,metadataItem:n})=>{if(!t)return!1;const i=Object(xt.a)(t,St.e.Playlist);return!(!i||!Object(No.a)(a,i))&&(n.type!==Ha.d.Game&&(!zo(n)&&!e.isEmbedded))},Fo=({provider:e,stableUser:t,metadataItemState:a})=>{const n=xo(e,St.d.Save);return!!(n&&Object(No.a)(t,n)&&a.isPopulated)},Ho=({provider:e,stableUser:t,metadataItemState:a})=>{const n=xo(e,St.d.AddToWatchlist);return!!(n&&Object(No.a)(t,n)&&a.isPopulated)},_o=({provider:e,stableUser:t,metadataItem:a})=>{if(!e)return!1;const n=a.type===Ha.d.Track||a.type===Ha.d.Album||a.type===Ha.d.Artist,i=qr.l(e.identifier,qr.f),r=!!t.features[ve.a],s=Object(No.a)(t,{requires:Po.a});return n&&i&&r&&s};function Wo({provider:e,metadataItem:t,metadataItemState:a}){return!(!Ro(e,St.d.Rate)||Object(wo.isDirectoryType)(t.type)||t.isFolder||!a.isPopulated)}const Qo=({provider:e,metadataItem:t})=>{const a=Object(xt.a)(e,St.e.Subscribe);return Zr(t)&&!!a},Go=({server:e,provider:t,metadataItem:a,metadataItemState:n})=>!!xo(t,St.d.Rate)&&!a.isFolder&&n.isPopulated&&!e.isEmbedded,Ko=({provider:e,metadataItem:t,metadataItemState:a})=>{const n=xo(e,St.d.Scrobble);return!(!n||!n.key||e.protocols.includes(St.g.LiveTV)||t.type===Ha.d.Track&&t.subtype!==Ha.c.Podcast||!a.isPopulated||null!=a.saved&&!a.saved&&!a.viewOffset||t.isExtra)&&(Object(wo.isParentType)(t.type)?!!a.unviewedLeafCount&&a.unviewedLeafCount>0:!a.viewCount||!!a.viewOffset)},Yo=({provider:e,metadataItem:t,metadataItemState:a})=>{const n=xo(e,St.d.Scrobble);return!(!n||!n.reverseKey||e.protocols.includes(St.g.LiveTV)||t.type===Ha.d.Track&&t.subtype!==Ha.c.Podcast||!a.isPopulated||null!=a.saved&&!a.saved||t.isExtra)&&(Object(wo.isParentType)(t.type)?!!a.viewedLeafCount&&a.viewedLeafCount>0:!!a.viewCount||!!a.viewOffset)},qo=({provider:e,metadataItem:t})=>{const{isPlaylist:a,isExtra:n,isFolder:i,radio:r,readOnly:s}=t,o=!n&&!i&&!r;return a?!s:ko(e,St.e.Manage)&&o},Zo=({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>qo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i}),Xo=({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>!n.indirect&&!n.remoteMedia&&qo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i}),Jo=({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>!!qo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})&&!(!n.guid||/(local|none):\/\//.test(n.guid)),$o=({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>!!qo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})&&(n.type!==Ha.d.Game&&!(n.remoteMedia||!e.transcoderVideo||!e.backgroundProcessing)),el=({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>!!qo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})&&!!(n.isPlaylist||n.type===Ha.d.Collection||n.remoteMedia||e.allowMediaDeletion),tl={isAddToLibraryVisible:_o,isAddToPicksVisible:({provider:e,stableUser:t})=>!(!t.features[ve.v]||!Ro(e,St.d.Pick)),isAddToPlaylistVisible:Bo,isAddToSavedVisible:e=>Fo(e)&&!1===e.metadataItemState.saved,isAddToWatchlistVisible:e=>Ho(e)&&!e.metadataItemState.watchlistedAt,isAnalyzeVisible:Xo,isDeleteVersionVisible:({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>{var r;if(!qo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i}))return!1;if(!e.allowMediaDeletion)return!1;const s=null==(r=n.Media)?void 0:r.filter(e=>!!e.proxyType);return!!(null==s?void 0:s.length)},isDeleteVisible:el,isDownloadFileVisible:({provider:e,metadataItem:t})=>!!X.a.allowDirectDownload&&(!!e.protocols.includes(St.g.Download)&&!t.isExtra&&!t.remoteMedia),isEditVisible:qo,isFavoriteVisible:({provider:e,stableUser:t,metadataItem:a,metadataItemState:n})=>Wo({provider:e,stableUser:t,metadataItem:a,metadataItemState:n})&&!Object(To.c)(n),isFixMatchVisible:Jo,isGetInfoVisible:({provider:e,metadataItem:t})=>!!e&&Ao(e)&&!t.isExtra&&!t.indirect,isMarkPlayedVisible:Ko,isMarkUnplayedVisible:Yo,isMatchVisible:({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>!!qo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})&&(!!n.guid&&!Jo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})),isModifySmartPlaylistVisible:({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>!!qo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})&&!!n.smart,isOptimizeVisible:$o,isPlayAllVisible:({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>!!Uo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})&&(n.type===Ha.d.Artist||!(!n.onDeck||!i.viewedLeafCount)),isPlayArtistTVVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some(e=>e.playlistType===Ha.a.Video)}(e),isPlayMusicVideoVisible:Vo,isPlayRadioVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some(e=>e.playlistType===Ha.a.Audio)}(e),isPlayTrailerVisible:Vo,isPlayVersionVisible:({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>!!Uo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})&&(Ao(t)&&!!n.Media&&n.Media.length>1),isPlayVisible:Uo,isQueueVisible:({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>Uo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})&&ko(t,St.e.PlayQueue)&&!zo(n),isRateVisible:Go,isRecordVisible:Qo,isRefreshVisible:Zo,isRemoveFromContinueWatchingVisible:e=>{const t=!!e.stableUser.features[ve.g],a=xo(e.provider,St.d.RemoveFromContinueWatching);return t&&!!a},isRemoveFromSavedVisible:e=>Fo(e)&&!0===e.metadataItemState.saved,isRemoveFromWatchlistVisible:e=>Ho(e)&&!!e.metadataItemState.watchlistedAt,isSettingsVisible:({provider:e,metadataItemState:t})=>!ko(e,St.e.Manage)&&t.isPopulated&&null!=t.preferences,isShareVisible:({server:e,provider:t,metadataItem:a})=>Ao(t)&&e.isFullOwnedServer&&!a.isExtra&&!a.remoteMedia,isShuffleVisible:({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>!n.radio&&(Uo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})&&ko(t,St.e.PlayQueue)),isSplitApartVisible:({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>{var r;if(!qo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i}))return!1;let s;return s=Object(wo.isParentType)(n.type)?n.Location:null==(r=n.Media)?void 0:r.filter(e=>!e.proxyType),!!s&&s.length>1},isSyncDownloadVisible:({server:e,provider:t,metadataItem:a,stableUser:n})=>{if(!X.a.allowSyncDownload)return!1;if(!t)return!1;if(!qr.a.includes(t.identifier))return!1;if(a.isPlaylist&&a.playlistType===Ha.a.Photo)return!1;if(!a.hasOwnProperty("guid"))return!1;if(a.remoteMedia)return!1;const i=Object(xt.a)(t,St.e.Subscribe),r=(null==i?void 0:i.flavor)===Do.a&&!!n.features[ve.d];return Ao(t)?e.allowSync&&r:r},isSyncVisible:({server:e,provider:t,stableUser:a,metadataItem:n})=>{if(!X.a.allowSync)return!1;if(!Ao(t))return!1;if(a.features[ve.d])return!1;const{isExtra:i,remoteMedia:r}=n;return!i&&!r&&!(!e.allowSync||!n.allowSync)},isUnfavoriteVisible:({provider:e,stableUser:t,metadataItem:a,metadataItemState:n})=>Wo({provider:e,stableUser:t,metadataItem:a,metadataItemState:n})&&Object(To.c)(n),isUnmatchVisible:({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i})=>Jo({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i}),isViewPlayHistoryVisible:({server:e,provider:t,metadataItem:a})=>Ao(t)&&e.isFullOwnedServer&&!e.isEmbedded&&!a.isExtra,isWatchTogetherVisible:({provider:e,stableUser:t,metadataItem:a})=>{const n=!!t.features[ve.G],i=qr.l(e.identifier,[qr.d,qr.i]);return n&&i&&!a.isExtra}};function al({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i}){const r=Lo[n.type];if(!r)return{};return r.reduce((r,s)=>{const o=tl[s];return r[s]=!!(e&&t&&n)&&o({server:e,provider:t,stableUser:a,metadataItem:n,metadataItemState:i}),r},{})}function nl(e,t){switch(t){case Ha.c.Podcast:switch(e){case Ha.d.Show:return Ha.d.Track}}switch(e){case Ha.d.Show:return Ha.d.Season;case Ha.d.Season:return Ha.d.Episode;case Ha.d.Artist:return Ha.d.Album;case Ha.d.Album:return Ha.d.Track;case Ha.d.PhotoAlbum:return Ha.d.Photo;case Ha.d.Collection:switch(t){case Ha.c.Movie:return Ha.d.Movie;case Ha.c.Show:return Ha.d.Show;case Ha.c.Artist:return Ha.d.Artist;case Ha.c.Album:return Ha.d.Album}}}function il(e,t){switch(t){case Ha.c.Podcast:switch(e){case Ha.d.Show:return Ha.d.Track}}switch(e){case Ha.d.Show:case Ha.d.Season:return Ha.d.Episode;case Ha.d.Artist:case Ha.d.Album:return Ha.d.Track;case Ha.d.PhotoAlbum:return Ha.d.Photo;case Ha.d.Collection:switch(t){case Ha.c.Movie:return Ha.d.Movie;case Ha.c.Show:return Ha.d.Episode;case Ha.c.Artist:case Ha.c.Album:return Ha.d.Track}}}var rl,sl,ol,ll;(sl=rl||(rl={})).Queued="queued",sl.Matching="matching",sl.Processing="processing",sl.Loading="loading",(ll=ol||(ol={})).Analyzing="analyzing",ll.Thumbnailing="thumbnailing";function cl(e,t){let a=e[t];return a||(a={},e[t]=a),a}var dl=Object(jr.c)({name:"metadataTimelineState",initialState:{},reducers:{metadataRefreshRequested(e,{payload:t}){const a=cl(e,t.sourceURI);a.metadataState||(a.metadataState=rl.Queued)},metadataRefreshFailed(e,{payload:t}){const a=cl(e,t.sourceURI);(null==a?void 0:a.mediaState)?a.metadataState=void 0:delete e[t.sourceURI]},mediaAnalysisRequested(e,{payload:t}){if(!t.hasChildren){const a=cl(e,t.sourceURI);a.mediaState||(a.mediaState=ol.Analyzing)}},mediaAnalysisFailed(e,{payload:t}){const a=cl(e,t.sourceURI);(null==a?void 0:a.metadataState)?a.mediaState=void 0:delete e[t.sourceURI]},timelineStatesChanged(e,{payload:t}){const a=cl(e,t.sourceURI);t.metadataState||t.mediaState?(a.metadataState=t.metadataState,a.mediaState=t.mediaState):delete e[t.sourceURI]}}});function ul(){const[e,t]=Object(g.useState)(!1),a=Object(g.useCallback)(()=>t(!0),[]),n=Object(g.useCallback)(()=>t(!1),[]),i=Object(g.useCallback)(()=>t(!e),[e]);return Object(g.useMemo)(()=>({isOpen:e,onOpen:a,onClose:n,onToggle:i}),[e,n,a,i])}var pl=Object(jr.c)({name:"addToPlaylist",initialState:{},reducers:{playlistSaveRequested(e,{payload:t}){e[t.sourceURI]={isSaving:!0,saveError:null}},playlistSaveSucceeded(e,{payload:t}){const a=e[t.sourceURI];a.isSaving=!1,a.playlistKey=t.playlistKey},playlistSaveFailed(e,{payload:t}){const a=e[t.sourceURI];a.isSaving=!1,a.saveError=t.error}}});function ml({playlist:e,onPlaylistPress:t}){const a=Object(g.useCallback)(()=>t(e.key),[t,e.key]);return y.a.createElement(Js.a,{onPress:a},e.title)}var hl=function(e){return Object(he.a)(Ra,t=>t.metadataLists[e])};var gl=function({server:e,provider:t,playlistType:a}){const n=Object(v.c)(),i=Object(xt.a)(t,St.e.Playlist),r=i?j.default.join([i.key],{playlistType:a,smart:0,sort:"updatedAt:desc"}):void 0,s=r?Object(Ct.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,key:r}):void 0,o=Object(g.useMemo)(()=>s?hl(s):()=>{},[s]),l=Object(v.d)(o);return Object(g.useEffect)(()=>{s&&!l&&n(ja.a.actions.added({metadataItemStates:{},metadataLists:[{sourceURI:s,items:[],offset:0}]}))},[n,l,s]),l};function yl({sourceURI:e,playlistType:t,advancedFiltersRoute:a,onAddToPlaylistPress:n,onAddToSmartPlaylistPress:i,onMenuClose:r,onPlaylistSave:s}){const o=Object(v.c)(),[l,c]=Jt(),d=gl({server:l,provider:c,playlistType:t}),u=Object(g.useCallback)(t=>{o(pl.actions.playlistSaveRequested({destinationServer:l,destinationProvider:c,playlistKey:t,sourceURI:e})),null==s||s(),r()},[c,l,o,r,s,e]);return Object(g.useEffect)(()=>{(null==d?void 0:d.sourceURI)&&o(ja.a.actions.fetchRangeRequested({sourceURI:d.sourceURI,server:l,provider:c,startIndex:0,size:3}))},[o,l,c,null==d?void 0:d.sourceURI]),y.a.createElement(y.a.Fragment,null,y.a.createElement(Js.a,{onPress:Object(to.a)(n,r)},Object(Ce.default)("Add to Playlist...")),i?y.a.createElement(Js.a,{onPress:Object(to.a)(i,r)},Object(Ce.default)("Save as Smart Playlist...")):null,a?y.a.createElement(Js.a,{to:a,onPress:r},Object(Ce.default)("Create Smart Playlist")):null,(null==d?void 0:d.items.length)?y.a.createElement(y.a.Fragment,null,y.a.createElement($s.a,null),y.a.createElement(ro.a,null,Object(Ce.default)("Add to...")),d.items.slice(0,3).map(e=>y.a.createElement(ml,{key:e.key,playlist:e,onPlaylistPress:u}))):null)}var fl=a("NKCw"),bl=a("+vwP"),vl=a.n(bl);function Il({className:e=vl.a.button,spinnerSize:t=_e.Small,isDisabled:a=!1,isSpinning:n=!1,children:i,...r}){return y.a.createElement(ba,{className:Pe()(e,n&&vl.a.isSpinning),isDisabled:a||n,...r},y.a.createElement("span",{className:vl.a.spinnerContainer},y.a.createElement(Ge,{className:vl.a.spinner,size:t})),y.a.createElement("span",{className:vl.a.label},i))}var Sl=a("eYpM"),El=a.n(Sl);function Ol({forwardedRef:e,className:t=El.a.input,errorClassName:a=El.a.hasError,disabledClassName:n=El.a.isDisabled,isDisabled:i=!1,hasFocusOnMount:r=!1,hasError:s=!1,name:o,size:l=_e.Medium,onFocus:c,...d}){return y.a.createElement("input",{className:Pe()(t,El.a[l],i&&n,s&&a),name:o,disabled:i,autoFocus:r,ref:e,onFocus:c,...d})}var Ml=y.a.forwardRef((e,t)=>y.a.createElement(Ol,{...e,forwardedRef:t})),Cl=a("ZMKu"),jl=a("5Fux"),Dl=a("x481"),Pl=a("obnR"),Tl=a("NG4B");var wl=a("uCj2");function Nl(e,t=!0){const{metricsPage:a,metricsContextTuple:n}=Object(Et.d)();Object(g.useEffect)(()=>{t?Object(E.c)("metrics").trackView({...e,page:a,contextTuple:n}):wl.a.startPeriod("client:view:"+a)},[t,n,a,JSON.stringify(e)])}var xl=a("roui"),Al=a.n(xl);const Ll=Object(jl.a)(Mr.a.modalSpeed),kl=1e3*Ll,Rl={ease:"easeOut",duration:Ll},zl={ease:Pl.a.motionEasing,duration:Ll},Ul={opacity:Rl},Vl={enter:{opacity:1,transition:Ul},exit:{opacity:0,transition:Ul}},Bl={scale:zl,opacity:Rl},Fl={enter:{opacity:1,scale:1,transition:Bl},exit:{opacity:0,scale:.95,transition:Bl}};function Hl(e){if(function(e){return e.nativeEvent instanceof MouseEvent}(e))return e.target;const t=e.changedTouches;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}return null}function _l(e,t){const a=Hl(e);if(a){const e=b.a.findDOMNode(t);return!e||!e.contains(a)}return!1}function Wl({children:e,className:t,backdropClassName:a=Al.a.modalBackdrop,containerClassName:n=Al.a.modalContainer,size:i=_e.Medium,isOpen:r,shouldTrackOnClose:s=!1,preventCloseOnBackdropPress:o=!1,onModalClose:l}){const c=Object(g.useRef)(null),d=Object(g.useRef)(!1),u=Object(g.useCallback)(e=>{d.current=_l(e,c.current)},[]),p=Object(g.useCallback)(e=>{!o&&d.current&&_l(e,c.current)&&l(),d.current=!1},[l,o]),m=Object(g.useCallback)(e=>{d.current=!1},[]),h=Object(g.useCallback)(e=>{d.current=!1},[]),f=Object(g.useCallback)(e=>{const t=e.keyCode;t===Tl.j?Dl.e(e):t===Tl.e&&(e.preventDefault(),e.stopPropagation(),l(),Dl.c())},[l]),v=Object(g.useCallback)(e=>{c.current=e,e&&Dl.f(b.a.findDOMNode(e))},[]);return Nl({},r),function(e,t=!1){const{metricsPage:a}=Object(Et.d)(),n=Object(Or.a)(e);Object(g.useEffect)(()=>{n&&!e&&t&&Object(E.c)("metrics").trackView({page:a,action:Gi.t})},[e,n,t,a])}(r,s),Object(g.useEffect)(()=>{let e;return r&&(e=window.setTimeout(Dl.d,kl),document.addEventListener("keydown",f)),()=>{e&&window.clearTimeout(e),r&&document.removeEventListener("keydown",f)}},[r,f]),y.a.createElement(ho,{isOpen:r,closeDelayMilliseconds:kl,className:n},y.a.createElement(Cl.a,null,r?y.a.createElement(Cl.b.div,{key:"backdrop",initial:"exit",animate:"enter",exit:"exit",variants:Vl,className:a,onMouseDown:u,onMouseUp:p,onTouchStart:u,onTouchEnd:p,onTouchMove:m,onTouchCancel:h},y.a.createElement(Cl.b.div,{key:"modal",initial:"exit",animate:"enter",exit:"exit",variants:Fl,className:t||Al.a[i],ref:v},e)):void 0))}var Ql=a("w8TB"),Gl=a("dO6p"),Kl=a.n(Gl);function Yl({children:e,className:t=Kl.a.modalContent,onModalClose:a}){return y.a.createElement("div",{className:t},y.a.createElement(ga,{className:Kl.a.closeButton,onPress:a},y.a.createElement(Ql.a,null)),e)}var ql=a("X++g"),Zl=a.n(ql);function Xl({message:e}){return y.a.createElement("div",{className:Zl.a.container},y.a.createElement(je.a,{className:Zl.a.icon}),y.a.createElement("div",{className:Zl.a.message},e))}var Jl=a("7GFg"),$l=a.n(Jl);function ec({children:e,className:t=$l.a.modalFooter}){return y.a.createElement("div",{className:t},e)}var tc=a("G5wA"),ac=a.n(tc);function nc({children:e,className:t=ac.a.modalHeader}){return y.a.createElement("div",{className:t},e)}var ic=a("/z0O"),rc=a.n(ic);function sc({children:e,className:t=rc.a.modalSubheader}){return y.a.createElement("div",{className:t},e)}var oc=a("hHWh"),lc=a("f+Ik"),cc=a("VzhI");function dc(e,t){return e.isCloud?t.sourceTitle?`${t.title} - ${t.sourceTitle}`:t.title:e.friendlyName}var uc=a("Zpbf");function pc({server:e,provider:t,isSelected:a,onDestinationChange:n}){const i=Object(g.useCallback)(()=>{const a=Object(Ct.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier});n(a)},[n,t.identifier,e.machineIdentifier]);return y.a.createElement(uc.a,{isSelected:a,onPress:i},dc(e,t))}function mc({server:e,provider:t,destinations:a,isDisabled:n,onDestinationChange:i}){const r=Object(_r.a)(),s=ul();return y.a.createElement(y.a.Fragment,null,y.a.createElement(ga,{id:r,"aria-label":Object(Ce.default)("Playlist destination"),isDisabled:n,onPress:s.onToggle},dc(e,t),y.a.createElement(oc.a,{direction:s.isOpen?lc.c:lc.a})),y.a.createElement(Xs.a,{size:cc.a,target:r,isOpen:s.isOpen,onMenuClose:s.onClose},a?a.map((a,n)=>{const[r,o]=a,l=e.machineIdentifier===r.machineIdentifier&&t.identifier===o.identifier;return y.a.createElement(pc,{key:n,isSelected:l,server:r,provider:o,onDestinationChange:Object(to.a)(i,s.onClose)})}):null))}var hc,gc,yc=a("6XbQ");function fc({direction:e=hc.Vertical,rows:t,columns:a,overscan:n=0,innerHorizontalPadding:i=0,innerVerticalPadding:r=0,outerPaddingTop:s=0,outerPaddingRight:o=0,outerPaddingBottom:l=0,outerPaddingLeft:c=0,getCellWidth:d,getCellHeight:u}){return{getListMeasurements(n,p){const m=n.listTop,h=n.listLeft;let g=(n.viewportWidth||0)-o-c,y=(n.viewportHeight||0)-s-l;e===hc.Vertical?g-=h:y-=m,g=Math.max(0,g),y=Math.max(0,y);const f=d({innerViewportWidth:g,innerViewportHeight:y,innerHorizontalPadding:i,innerVerticalPadding:r}),b=u({cellWidth:f,innerViewportWidth:g,innerViewportHeight:y,innerHorizontalPadding:i,innerVerticalPadding:r}),v=Math.max(0,t||Math.floor((y+r)/(b+r))),I=Math.max(0,a||Math.floor((g+i)/(f+i))),S=I*v;let E=0,O=0;return e===hc.Vertical&&I?(E=I*(f+i)-i,O=Math.ceil(p/I)*(b+r)-r):e===hc.Horizontal&&v&&(E=Math.ceil(p/v)*(f+i)-i,O=v*(b+r)-r),{width:E+o+c,height:O+s+l,outerPaddingTop:s,outerPaddingRight:o,outerPaddingBottom:l,outerPaddingLeft:c,listTop:m,listLeft:h,cellWidth:f,cellHeight:b,cellsPerColumn:v,cellsPerRow:I,cellsPerPage:S}},getPositionForIndex(t,a){const{listTop:n,listLeft:o,cellWidth:l,cellHeight:d}=a,u=function(t,a){return e===hc.Vertical?t%a.cellsPerRow:Math.floor(t/a.cellsPerColumn)}(t,a),p=function(t,a){return e===hc.Vertical?Math.floor(t/a.cellsPerRow):t%a.cellsPerColumn}(t,a);return{column:u,row:p,cellX:u*(l+i)+o+c,cellY:p*(d+r)+n+s,cellWidth:l,cellHeight:d}},getRangesForPosition(t,a,s,o){const{listTop:l,listLeft:c,cellWidth:d,cellHeight:u,cellsPerColumn:p,cellsPerRow:m,cellsPerPage:h}=o,g=u+r,y=d+i,f=t-l,b=a-c,v=e===hc.Vertical?m:p,I=e===hc.Vertical?f/g:b/y,S=h+2*v+n*v*2,E=Math.ceil(I)*v,O=E+h-1;let M=E-v*n;const C=Object(yc.a)(M,s)+S-1;return C>=s&&(M=s-S),{visibleStartIndex:Object(yc.a)(E,s),visibleEndIndex:Object(yc.a)(O,s),renderStartIndex:Object(yc.a)(M,s),renderEndIndex:Object(yc.a)(C,s)}}}}function bc({rowHeight:e,rowWidth:t=0,...a}){return fc({direction:hc.Vertical,columns:1,getCellWidth:e=>Math.max(t,e.innerViewportWidth),getCellHeight:()=>e,...a})}(gc=hc||(hc={})).Vertical="vertical",gc.Horizontal="horizontal";var vc=a("HR/i");const Ic=window.ResizeObserver||vc.a;var Sc=function(e){const t=Object(g.useRef)(null),a=Object(g.useRef)(null);return Object(g.useEffect)(()=>(t.current&&(a.current=new Ic(e),a.current.observe(t.current)),()=>{var e;null==(e=a.current)||e.disconnect(),a.current=null}),[e]),t},Ec=a("cKYz");var Oc=Object(g.memo)((function({keyPropName:e,items:t,totalSize:a,layout:n,measurements:i,renderStartIndex:r,renderEndIndex:s,visibleStartIndex:o,visibleEndIndex:l,cellComponentFactory:c,minPageCount:d,minPageSize:u,pageRequestDelay:p,onPageRequest:m,onListUpdate:h}){const f=Object(Or.a)(r),b=Object(g.useRef)(!1);r!==f&&(b.current=null!=f&&r<f),Object(g.useEffect)(()=>{let e;if(m&&d&&u){const n=b.current,i=s-r+1,o=Math.max(i*d,u);let l,c=!1;if(n){const e=Math.max(s-o+1,0);for(l=s;l>=e;){if(null==t[l]){c=!0;break}l--}}else{const e=Math.min(r+o-1,a-1);for(l=r;l<=e;){if(null==t[l]){c=!0;break}l++}}c&&(e=window.setTimeout(()=>{m({startIndex:l,size:o,isPrepend:n})},p))}return()=>window.clearTimeout(e)},[t,d,u,m,p,f,s,r,a]),Object(g.useEffect)(()=>{h&&h({renderStartIndex:r,renderEndIndex:s,visibleStartIndex:o,visibleEndIndex:l})},[h,s,r,l,o]);const v=[];for(let a=r;a<=s;a++){const r=t[a],s=a>=o&&a<=l,d=n.getPositionForIndex(a,i);v.push(c({key:String(r&&e?r[e]:a),isVirtual:!0,isVisible:s,cellIndex:a,item:r,...d}))}return y.a.createElement(y.a.Fragment,null,v)}));function Mc({className:e,children:t,keyPropName:a,items:n,totalSize:i,layout:r,cellComponentFactory:s,viewportWidth:o,viewportHeight:l,listTop:c=0,listLeft:d=0,scrollTop:u,scrollLeft:p,isWaitingToRestoreScrollPosition:m=!1,minPageCount:h=3,minPageSize:f=24,pageRequestDelay:b=Ec.c,onPageRequest:v,onListReady:I,onListUpdate:S}){const E=Object(g.useMemo)(()=>r.getListMeasurements({viewportWidth:o,viewportHeight:l,listTop:c,listLeft:d},i),[o,l,r,c,d,i]),{renderStartIndex:O,renderEndIndex:M,visibleStartIndex:C,visibleEndIndex:j}=Object(g.useMemo)(()=>r.getRangesForPosition(u,p,i,E),[r,E,p,u,i]);return Object(g.useEffect)(()=>{I&&I(E)},[E,I]),y.a.createElement("div",{className:e,style:{width:E.width,height:E.height}},m?null:y.a.createElement(Oc,{keyPropName:a,items:n,totalSize:i,layout:r,measurements:E,renderStartIndex:O,renderEndIndex:M,visibleStartIndex:C,visibleEndIndex:j,cellComponentFactory:s,minPageCount:h,minPageSize:f,pageRequestDelay:b,onPageRequest:v,onListUpdate:S}),t)}var Cc=a("ogW7"),jc=a.n(Cc);function Dc(e,t){if(t.shouldCenterCell){const a=(t.viewportDimension-t.cellDimension)/2,n=Math.round(e-a);return Math.max(n,0)}return e-(t.offset||0)}function Pc({className:e=jc.a.scroller,scrollerKey:t="VirtualListScroller",scrollerStyle:a,virtualListClassName:n,layout:i,resizeTimeout:r,scrollDirection:s=Ie.Vertical,targetScrollIndex:o,shouldCenterScrollIndex:l=!1,autoScroll:c=!0,smoothScroll:d=!0,renderAboveList:u,renderBelowList:p,onListReady:m,...h}){const[f,b]=Object(g.useState)({scrollTop:0,scrollLeft:0}),[v,I]=Object(g.useState)({width:0,height:0}),S=!(!v.width||!v.height),[E,O]=Object(g.useState)(void 0),M=Object(g.useCallback)(([e])=>{I({width:e.target.clientWidth,height:e.target.clientHeight})},[]),C=Sc(M),j=Object(g.useMemo)(()=>{if(!E||!v||null==o)return;const e=i.getPositionForIndex(Math.max(o,0),E);return function(e,t,a){const{shouldCenterCell:n,measurements:i,listMeasurements:r}=a;return{scrollTop:e===Ie.Vertical||e===Ie.Omni?Dc(t.cellY,{shouldCenterCell:n,viewportDimension:i.height,offset:r.outerPaddingTop,cellDimension:t.cellHeight}):0,scrollLeft:e===Ie.Horizontal||e===Ie.Omni?Dc(t.cellX,{shouldCenterCell:n,viewportDimension:i.width,offset:r.outerPaddingLeft,cellDimension:t.cellWidth}):0}}(s,e,{shouldCenterCell:l,measurements:v,listMeasurements:E})},[i,E,v,s,l,o]);let D,P;j&&(D=j.scrollTop,P=j.scrollLeft);const T=Object(g.useCallback)(({scrollLeft:e,scrollTop:t})=>{b({scrollTop:t,scrollLeft:e})},[]),{isWaitingToRestoreScrollPosition:w,scrollRestoreProps:N,onScrollPositionReady:x}=ia({key:t,onScrollPositionChange:T}),A=Object(g.useCallback)(e=>{O(e),x(),m&&m(e)},[m,x]);return y.a.createElement(Ae,{className:e,style:a,scrollDirection:s,autoScroll:c,smoothScroll:d,targetScrollTop:D,targetScrollLeft:P,ref:C,...N},u&&!w?u(v):null,S?y.a.createElement(Mc,{className:n,layout:i,scrollTop:f.scrollTop,scrollLeft:f.scrollLeft,isWaitingToRestoreScrollPosition:w,viewportWidth:v.width,viewportHeight:v.height,onListReady:A,...h}):null,p&&!w?p(v):null)}var Tc=a("5iwJ"),wc=a.n(Tc);function Nc({forwardedRef:e,className:t=wc.a.row,alternateClassName:a=wc.a.alternateRow,hoveredClassName:n=wc.a.isHovered,tabIndex:i,style:r={},isAlternate:s=!1,isHovered:o=!1,children:l,onFocus:c,onBlur:d}){return y.a.createElement("div",{tabIndex:i,style:r,className:Pe()(s?a:t,o&&n),ref:e,onFocus:c,onBlur:d},l)}var xc=y.a.forwardRef((e,t)=>y.a.createElement(Nc,{...e,forwardedRef:t})),Ac=a("GaN0"),Lc=a.n(Ac);function kc({className:e=Lc.a.placeholder,style:t,index:a}){return y.a.createElement(xc,{className:e,style:{animationDelay:a%12*200+"ms",...t}})}var Rc=a("Fg7B"),zc=a.n(Rc);function Uc({server:e,provider:t,sourceURI:a,isDisabled:n,item:i,...r}){const[s,o]=Wr(),l=Cr(r),{cellIndex:c}=r,d=Object(v.c)(),u=Object(g.useCallback)(()=>{i&&Object(Dt.a)(()=>{d(pl.actions.playlistSaveRequested({destinationServer:e,destinationProvider:t,playlistKey:i.key,sourceURI:a}))})},[a,d,i,t,e]);if(!i)return y.a.createElement(kc,{style:l.style,index:c});const{title:p,thumb:m,composite:h}=i;return y.a.createElement(xc,{style:l.style,isAlternate:!!(c%2),isHovered:s,ref:o},y.a.createElement(ga,{className:zc.a.item,isDisabled:n,onPress:u},y.a.createElement("div",{className:zc.a.imageContainer},y.a.createElement(ot.a,{className:zc.a.image,serverEntityID:e.entityID,providerEntityID:t.entityID,url:m||h,width:40,height:40,component:at.a,preloadOnMount:!1,animateOnMount:!1})),y.a.createElement("div",{className:zc.a.title},p)))}var Vc=a("YoL5"),Bc=a.n(Vc);function Fc({server:e,provider:t,sourceURI:a,isSaving:n,playlistType:i}){var r;const s=Object(v.c)(),o=gl({server:e,provider:t,playlistType:i}),l=null!=(r=null==o?void 0:o.totalSize)?r:5,c=Object(g.useCallback)(a=>{(null==o?void 0:o.sourceURI)&&s(ja.a.actions.fetchRangeRequested({...a,server:e,provider:t,sourceURI:null==o?void 0:o.sourceURI}))},[null==o?void 0:o.sourceURI,s,e,t]);Object(g.useEffect)(()=>()=>{(null==o?void 0:o.sourceURI)&&s(ja.a.actions.reset({sourceURI:o.sourceURI}))},[s,null==o?void 0:o.sourceURI,t,e]);const d=Object(g.useMemo)(()=>bc({rowHeight:60,overscan:5}),[]),u=Object(g.useCallback)(i=>y.a.createElement(Uc,{server:e,provider:t,sourceURI:a,isDisabled:n,...i}),[a,n,t,e]);if(!o)return y.a.createElement("div",{className:Bc.a.container});if(o.error)return y.a.createElement("div",{className:Bc.a.container},Object(Ce.default)("There was an error loading the playlists. Please try again."));if(o.isPopulated&&!o.items.length){const a={source:dc(e,t)},n={[Ha.a.Audio]:Object(Ce.default)("Save your first music playlist for {source}",a),[Ha.a.Video]:Object(Ce.default)("Save your first video playlist for {source}",a),[Ha.a.Photo]:Object(Ce.default)("Save your first photo playlist for {source}",a),[Ha.a.Rom]:Object(Ce.default)("Save your first game playlist for {source}",a)};return y.a.createElement("div",{className:Bc.a.container},n[i])}return y.a.createElement(Pc,{className:Bc.a.scroller,keyPropName:"key",items:o.items,totalSize:l,layout:d,cellComponentFactory:u,onPageRequest:c})}var Hc=function(){return Object(g.useCallback)(e=>{const t=e.target;t&&t.select()},[])};var _c=Object(he.a)(Lt.a,Ft.a,Object(kt.a)("providers"),(e,t,a)=>{const n=[];for(const i of t){const t=i.isCloud?a:i.providers;for(const a of t)n.push([Yt(i),e[a]])}return n});var Wc=([e,t])=>Object(he.a)(_c,a=>a.reduce((a,[n,i])=>((n.machineIdentifier!==e.machineIdentifier||i.identifier!==t.identifier)&&n.isFullOwnedServer&&n.isConnected&&Object(xt.a)(i,St.e.Playlist,St.f.Universal)&&a.push([n,i]),a),t===Bt?[]:[[e,t]]));var Qc=Object(he.a)(wr,e=>e.addToPlaylist);var Gc=function(e){return Object(he.a)(Qc,t=>t[e])},Kc=a("IVDS"),Yc=a("zfMR"),qc=a.n(Yc);function Zc({isOpen:e,sourceURI:t,defaultDestinationSource:a,playlistType:n,defaultPlaylistTitle:i,isDestinationMenuHidden:r,isSmartPlaylist:s=!1,onModalClose:o,onPlaylistSave:l}){var c,d;const u=Object(v.c)(),[p,m]=Jt(),[h,f]=Object(g.useState)(a),{serverIdentifier:b,providerIdentifier:I}=Object(Ia.a)(h),S=Object(g.useMemo)(()=>Gc(t),[t]),E=Object(v.d)(S),O=null!=(c=null==E?void 0:E.isSaving)&&c,M=Object(Kc.a)(O),C=Object(v.d)(Zt(b)),j=Object(v.d)(Wt(b,I)),D=Object(v.d)(Wc([p,m])),{register:P,handleSubmit:T,errors:w}=Object(fl.b)({defaultValues:{title:i}}),N="required"===(null==(d=w.title)?void 0:d.type),x=T(({title:e})=>{Object(Dt.a)(()=>{u(pl.actions.playlistSaveRequested({destinationServer:C,destinationProvider:j,playlistType:n,title:e,sourceURI:t,isSmart:s}))})}),A=Hc();return Object(g.useEffect)(()=>{e&&!M&&O&&!(null==E?void 0:E.saveError)&&(null==l||l(),o())},[e,O,M,o,l,null==E?void 0:E.saveError]),y.a.createElement(Et.a,{metricsPage:It.b},y.a.createElement(Wl,{isOpen:e,size:_e.Small,onModalClose:o},y.a.createElement(Yl,{onModalClose:o},y.a.createElement(nc,null,s?Object(Ce.default)("Create Playlist"):Object(Ce.default)("Add to Playlist")),!s&&D.length>1?y.a.createElement(sc,null,r?dc(C,j):y.a.createElement(mc,{server:C,provider:j,destinations:D,isDisabled:O,onDestinationChange:f})):null,(null==E?void 0:E.saveError)?y.a.createElement(Xl,{message:C.isCloud?Object(Ce.default)("Something went wrong. Please try again in a few minutes."):Object(Ce.default)("Something went wrong. Make sure the server is available and try again.")}):null,s?null:y.a.createElement(Fc,{server:C,provider:j,sourceURI:t,isSaving:O,playlistType:n}),y.a.createElement(ec,null,y.a.createElement("form",{className:qc.a.form,onSubmit:x},y.a.createElement(Ml,{className:qc.a.input,name:"title",hasFocusOnMount:!0,hasError:N,ref:P({required:!0}),onFocus:A}),y.a.createElement(Il,{className:qc.a.button,isSpinning:O,type:"submit",kind:da.Primary},Object(Ce.default)("Create")))))))}var Xc=a("Kurw"),Jc=a("19qv");function $c({metadataItem:e,render:t,onClose:a}){var n;const{isPending:i,canDownload:r,canDeleteDownload:s,onDownload:o,onDeleteDownload:l}=Rs(e),c=Object(v.d)(Os(ve.e)),d=Object(v.d)(Os(ve.f)),u=ul(),p=ul(),[m]=Jt(),h=s,g=i||!s&&!r,f=c&&(null==(n=m.ownerFeatures)?void 0:n.includes(ve.e)),b=e.subtype===Ha.c.Podcast||d||f?Object(to.a)(o,a):p.onOpen,I=s?u.onOpen:b;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Xc.a,{isOpen:u.isOpen,isConfirmButtonSpinning:i,kind:ao.a,metricsPage:It.x,title:Object(Ce.default)("Delete Download"),message:Object(Ce.default)("Are you sure you want to delete this download?"),onConfirm:Object(to.a)(l,u.onClose,a),onCancel:Object(to.a)(u.onClose,a)}),y.a.createElement(Jc.a,{isOpen:p.isOpen,onModalClose:Object(to.a)(p.onClose,a)}),t(h,g,I))}function ed({metadataItem:e,onMenuClose:t}){const a=Object(g.useCallback)((e,t,a)=>y.a.createElement(Js.a,{isDisabled:t,onPress:a},e?Object(Ce.default)("Delete Download"):Object(Ce.default)("Download")),[]);return y.a.createElement($c,{metadataItem:e,render:a,onClose:t})}var td=a("qR6r"),ad=a.n(td);function nd({forwardedRef:e,className:t=ad.a.input,selectClassName:a=ad.a.select,errorClassName:n=ad.a.hasError,disabledClassName:i=ad.a.isDisabled,isDisabled:r=!1,hasError:s=!1,name:o,size:l=_e.Medium,children:c,...d}){return y.a.createElement("span",{className:Pe()(t,ad.a[l],r&&i,s&&n)},y.a.createElement("select",{className:a,name:o,disabled:r,ref:e,...d},c))}var id=y.a.forwardRef((e,t)=>y.a.createElement(nd,{...e,forwardedRef:t})),rd=a("s5ij"),sd=a.n(rd);function od({children:e,className:t,innerClassName:a=sd.a.innerModalBody,...n}){const i=n.scrollDirection!==Ie.None;return t||(t=i?sd.a.modalScroller:sd.a.modalBody),y.a.createElement(Ae,{...n,className:t},i?y.a.createElement("div",{className:a},e):e)}var ld=a("kr0E"),cd=a.n(ld);function dd({children:e,className:t=cd.a.buttonBar}){return y.a.createElement("div",{className:t},e)}var ud=function(e){return Object(he.a)(As,t=>t.creating[e])},pd=a("yA34"),md=a.n(pd);const hd=[];function gd({metadataItem:e}){var t,a,n;const i=Object(v.c)(),r=Object(v.d)(ud(e.sourceURI)),s=Object(g.useCallback)(()=>{Object(Dt.a)(()=>{i(xs.actions.subscriptionTemplateChanged({sourceURI:e.sourceURI,template:void 0}))})},[i,e.sourceURI]),o=null!=(a=null==(t=null==r?void 0:r.template)?void 0:t.Setting)?a:hd,{defaultValues:l,preferences:c}=Object(g.useMemo)(()=>{const e={},t=o.reduce((t,{id:a,label:n,summary:i,value:r,hidden:s,enumValues:o})=>{if(s||!o)return t;const l=o.split("|").map(e=>{const t=e.split(":");return{value:t[0],label:t[1]}});return t.push({id:a,label:n,summary:i,options:l}),e[a]=r,t},[]);return{defaultValues:e,preferences:t}},[o]),{register:d,handleSubmit:u}=Object(fl.b)({defaultValues:l}),p=Object(g.useCallback)(t=>{(null==r?void 0:r.template)&&i(xs.actions.subscriptionCreateRequested({sourceURI:e.sourceURI,template:null==r?void 0:r.template,settings:t}))},[i,e.sourceURI,null==r?void 0:r.template]);return y.a.createElement(Wl,{isOpen:!!(null==r?void 0:r.template),onModalClose:s},y.a.createElement("form",{onSubmit:u(p)},y.a.createElement(Yl,{onModalClose:s},y.a.createElement(nc,null,Object(Ce.default)("Download Options")),(null==r?void 0:r.error)?y.a.createElement(Xl,{message:Object(Ce.default)("Something went wrong. Make sure the item is available and try again.")}):null,y.a.createElement(od,null,c.map(({id:e,label:t,summary:a,options:n})=>y.a.createElement("label",{key:e,className:md.a.preference},y.a.createElement("span",{className:md.a.label},t),y.a.createElement(id,{name:e,ref:d},n.map((e,t)=>y.a.createElement("option",{key:t,value:e.value},e.label))),y.a.createElement("span",{className:md.a.description},a)))),y.a.createElement(ec,null,y.a.createElement(dd,null,y.a.createElement(ba,{onPress:s},Object(Ce.default)("Cancel")),y.a.createElement(Il,{type:"submit",isSpinning:null!=(n=null==r?void 0:r.isPending)&&n,kind:da.Primary},Object(Ce.default)("Save")))))))}var yd=a("qP+I"),fd=a("+UHr"),bd=a("iI8o"),vd=a("+qY4"),Id=a("pe6m"),Sd=a("24/4");const Ed=["isPlayVisible","isWatchTogetherVisible","isPlayVersionVisible","isPlayAllVisible","isShuffleVisible","isQueueVisible","isPlayTrailerVisible","isPlayMusicVideoVisible","isAddToPlaylistVisible","isAddToLibraryVisible"],Od=["isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSettingsVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isMatchVisible","isUnmatchVisible","isSplitApartVisible","isSyncVisible","isSyncDownloadVisible","isOptimizeVisible","isDownloadFileVisible","isShareVisible","isDeleteVisible","isDeleteVersionVisible","isViewPlayHistoryVisible","isGetInfoVisible"];function Md(e){const t=Object(g.useRef)(!1);return e.isOpen&&(t.current=!0),t.current}function Cd({actions:e,server:t,provider:a,metadataItem:n,metadataItemState:i,containerKey:r,containerType:s,allowRedirectOnDelete:o,playVersionModalState:l,confirmMarkPlayedModalState:c,confirmMarkUnplayedModalState:d,settingsModalState:u,addToPlaylistModalState:p,shareModalState:m,mediaSubscriptionModalState:h,watchTogetherModalState:f,onLegacyAction:b,onLegacyPlay:I,onMenuClose:S}){var E;const O=Object(v.c)(),M=Va(null==(E=n.onDeck)?void 0:E.sourceURI),C=Fa(n.sourceURI),j=!!C.metadataState,D=!!C.mediaState,P=Ed.some(t=>e[t]),T=Od.some(t=>e[t]),w=P&&T,N=qi(n),x=Object(g.useMemo)(()=>!!r&&/continueWatching/.test(r),[r]),A=Object(g.useCallback)(()=>{N({action:Gi.N}),I(Ze.x({options:{containerKey:r,listType:s}}))},[r,s,I,N]),L=Object(g.useCallback)(()=>{N({action:Gi.N}),I(Object(Hs.l)({options:{containerKey:r,listType:s}}))},[r,s,I,N]),k=Object(g.useCallback)(()=>{N({action:Gi.O}),I(Ze.w())},[I,N]),R=Object(g.useCallback)(()=>{N({action:Gi.ib}),I(Ze.B())},[I,N]),z=Object(g.useCallback)(()=>{N({action:Gi.Q}),I(Ze.r({options:{playAll:!0,next:!0}}))},[I,N]),U=Object(g.useCallback)(()=>{N({action:Gi.d}),I(Ze.r({options:{playAll:!0,next:!1}}))},[I,N]),V=Object(g.useCallback)(()=>{N({action:Gi.R}),I(Ze.y())},[I,N]),B=Object(g.useCallback)(()=>{N({action:Gi.S}),I(Ze.z({playlistType:io.a}))},[I,N]),F=Object(g.useCallback)(()=>{N({action:Gi.P}),I(Ze.z({playlistType:io.c}))},[I,N]),H=Object(g.useCallback)(()=>{b(Object(no.q)())},[b]),_=Object(g.useCallback)(({targetServer:e,targetProvider:i,targetLibrarySectionID:r,targetLibraryType:s})=>{N({action:Gi.b}),O(Ki.a.actions.addToLibraryRequested({targetServer:e,targetProvider:i,targetLibrarySectionID:r,targetLibraryType:s,server:t,provider:a,metadataItem:n})),S()},[O,n,S,a,t,N]),W=Object(g.useCallback)(e=>{N({action:e?Gi.e:Gi.Z});let i,r;!qr.l(a.identifier,qr.f)&&n.grandparentKey&&n.grandparentRatingKey?(i=n.grandparentKey,r=n.grandparentRatingKey):(i=n.key,r=n.ratingKey);const s=Object(Ct.a)({serverIdentifier:t.machineIdentifier,providerIdentifier:a.identifier,key:i});O(Ki.a.actions.toggleSavedRequested({server:t,provider:a,sourceURI:s,ratingKey:r,saved:e})),S()},[O,n.grandparentKey,n.grandparentRatingKey,n.key,n.ratingKey,S,a,t,N]),Q=Object(g.useCallback)(()=>{W(!0)},[W]),G=Object(g.useCallback)(()=>{W(!1)},[W]),K=Object(g.useCallback)(()=>{N({action:Gi.Y}),O(Ki.a.actions.removeFromContinueWatchingRequested({server:t,provider:a,sourceURI:n.sourceURI,ratingKey:n.ratingKey})),S()},[O,n,S,a,t,N]),Y=Object(g.useCallback)(e=>{N({action:e?Gi.f:Gi.ab}),O(Ki.a.actions.toggleWatchlistRequested({server:t,provider:a,sourceURI:n.sourceURI,ratingKey:n.ratingKey,added:e})),S()},[O,n.ratingKey,n.sourceURI,S,a,t,N]),q=Object(g.useCallback)(()=>{Y(!0)},[Y]),Z=Object(g.useCallback)(()=>{Y(!1)},[Y]),X=Object(g.useCallback)(()=>{N({action:Gi.c}),p.onOpen()},[p,N]),J=Object(g.useCallback)(()=>{N({action:Gi.c,mode:"shortcut"})},[N]),$=Object(g.useCallback)(()=>{N({action:Gi.w}),b(Fs.editMetadataItem())},[b,N]),ee=Object(g.useCallback)(()=>{N({action:Gi.x}),b(Fs.modifySmartPlaylist())},[b,N]),te=Object(g.useCallback)(()=>{u.onOpen(),S()},[S,u]),ae=Object(g.useCallback)(()=>{N({action:Gi.W}),O(dl.actions.metadataRefreshRequested({server:t,provider:a,sourceURI:n.sourceURI})),S()},[O,n.sourceURI,S,a,t,N]),ne=Object(g.useCallback)(()=>{N({action:Gi.h}),O(dl.actions.mediaAnalysisRequested({server:t,provider:a,sourceURI:n.sourceURI,hasChildren:!!nl(n.type,n.subtype)})),S()},[O,n.sourceURI,n.subtype,n.type,S,a,t,N]),ie=Object(g.useCallback)(()=>{N({action:Gi.A}),b(Fs.fixMetadataItemMatch())},[b,N]),re=Object(g.useCallback)(()=>{N({action:Gi.nb}),b(Fs.unmatchMetadataItem())},[b,N]),se=Object(g.useCallback)(()=>{N({action:Gi.kb}),b(Fs.splitMetadataItemApart())},[b,N]),oe=Object(g.useCallback)(()=>{N({action:Gi.mb}),b(Fs.syncMetadataItem())},[b,N]),le=Object(g.useCallback)(()=>{N({action:Gi.J}),b(Fs.optimizeMetadataItem())},[b,N]),ce=Object(g.useCallback)(()=>{N({action:Gi.u})},[N]),de=Object(g.useCallback)(()=>{N({action:Gi.u}),b(Fs.downloadMetadataItemVersion())},[b,N]),ue=Object(g.useCallback)(()=>{N({action:Gi.hb}),m.onOpen(),S()},[S,m,N]),pe=Object(g.useCallback)(()=>{N({action:Gi.p}),b(Fs.deleteMetadataItem({options:{skipRedirect:!o}}))},[o,b,N]),me=Object(g.useCallback)(()=>{N({action:Gi.p}),b(Fs.deleteMetadataItemVersion())},[b,N]),he=Object(g.useCallback)(()=>{N({action:Gi.D}),b(Fs.getMetadataItemInfo())},[b,N]),ge=Object(g.useCallback)(()=>{f.onOpen(),S()},[S,f]);return y.a.createElement(y.a.Fragment,null,e.isPlayVisible?y.a.createElement(Js.a,{onPress:Zr(n)?L:A},Qs(n,i,M)):null,e.isWatchTogetherVisible?y.a.createElement(Js.a,{onPress:ge},Object(Ce.default)("Watch Together...")):null,e.isPlayVersionVisible?y.a.createElement(Js.a,{onPress:Object(to.a)(l.onOpen,S)},Object(Ce.default)("Play Version...")):null,e.isPlayAllVisible?y.a.createElement(Js.a,{onPress:k},Object(Ce.default)("Play All")):null,e.isShuffleVisible?y.a.createElement(Js.a,{onPress:R},Object(Ce.default)("Shuffle")):null,e.isPlayRadioVisible?y.a.createElement(Js.a,{onPress:B},Object(Ce.default)("Play Radio")):null,e.isPlayArtistTVVisible?y.a.createElement(Js.a,{onPress:F},Object(Ce.default)("Play Artist TV")):null,e.isQueueVisible?y.a.createElement(Js.a,{onPress:z},Object(Ce.default)("Play Next")):null,e.isQueueVisible?y.a.createElement(Js.a,{onPress:U},Object(Ce.default)("Add to Queue")):null,e.isPlayTrailerVisible?y.a.createElement(Js.a,{onPress:V},Object(Ce.default)("Play Trailer")):null,e.isPlayMusicVideoVisible?y.a.createElement(Js.a,{onPress:V},Object(Ce.default)("Play Music Video")):null,e.isAddToWatchlistVisible?y.a.createElement(Js.a,{onPress:q},Object(Ce.default)("Add to Watchlist")):null,e.isRemoveFromWatchlistVisible?y.a.createElement(Js.a,{onPress:Z},Object(Ce.default)("Remove from Watchlist")):null,e.isAddToPlaylistVisible?y.a.createElement(eo.a,{label:Object(Ce.default)("Add to Playlist"),onMenuClose:S},y.a.createElement(yl,{sourceURI:n.sourceURI,playlistType:li(n.type,n.subtype),onAddToPlaylistPress:X,onMenuClose:S,onPlaylistSave:J})):null,e.isAddToSavedVisible?y.a.createElement(Js.a,{onPress:Q},jo(a.identifier,i.saved,n.subtype)):null,e.isRemoveFromSavedVisible?y.a.createElement(Js.a,{onPress:G},jo(a.identifier,i.saved,n.subtype)):null,e.isAddToPicksVisible?y.a.createElement(Js.a,{onPress:H},i.picked?Object(Ce.default)("Remove from Plex Picks"):Object(Ce.default)("Add to Plex Picks")):null,e.isAddToLibraryVisible?y.a.createElement(po,{onAddToLibrary:_}):null,w?y.a.createElement($s.a,null):null,e.isEditVisible?y.a.createElement(Js.a,{onPress:$},Object(Ce.default)("Edit")):null,e.isModifySmartPlaylistVisible?y.a.createElement(Js.a,{onPress:ee},Object(Ce.default)("Edit Filters")):null,e.isSettingsVisible?y.a.createElement(Js.a,{onPress:te},Object(Ce.default)("Settings")):null,e.isMarkPlayedVisible?y.a.createElement(Js.a,{onPress:c.onOpen},Object(Ce.default)("Mark as Played")):null,e.isMarkUnplayedVisible?y.a.createElement(Js.a,{onPress:d.onOpen},Object(Ce.default)("Mark as Unplayed")):null,x&&e.isRemoveFromContinueWatchingVisible?y.a.createElement(Js.a,{onPress:K},Object(Ce.default)("Remove from Continue Watching")):null,e.isRefreshVisible?y.a.createElement(Js.a,{isDisabled:j,onPress:ae},Object(Ce.default)("Refresh Metadata")):null,e.isAnalyzeVisible?y.a.createElement(Js.a,{isDisabled:D,onPress:ne},Object(Ce.default)("Analyze")):null,e.isFixMatchVisible?y.a.createElement(Js.a,{onPress:ie},Object(Ce.default)("Fix Match...")):null,e.isMatchVisible?y.a.createElement(Js.a,{onPress:ie},Object(Ce.default)("Match...")):null,e.isUnmatchVisible?y.a.createElement(Js.a,{onPress:re},Object(Ce.default)("Unmatch")):null,e.isSplitApartVisible?y.a.createElement(Js.a,{onPress:se},Object(Ce.default)("Split Apart")):null,e.isSyncVisible?y.a.createElement(Js.a,{onPress:oe},Object(Ce.default)("Sync...")):null,e.isSyncDownloadVisible?y.a.createElement(ed,{metadataItem:n,onMenuClose:S}):null,e.isRecordVisible?y.a.createElement(Js.a,{onPress:h.onOpen},null==i.grandparentSubscriptionID&&null==i.subscriptionID?Object(Ce.default)("Record"):Object(Ce.default)("Modify Recording")):null,e.isOptimizeVisible?y.a.createElement(Js.a,{onPress:le},Object(Ce.default)("Optimize...")):null,e.isDownloadFileVisible?y.a.createElement(go,{metadataItem:n,downloadIFrameName:"downloadFileFrame",onMenuClose:S,onDownloadVersionPress:de,onDownloadFilePress:ce}):null,e.isShareVisible?y.a.createElement(Js.a,{onPress:ue},Object(Ce.default)("Share…")):null,e.isDeleteVisible?y.a.createElement(Js.a,{kind:n.remoteMedia?void 0:ao.a,onPress:pe},n.remoteMedia?Object(Ce.default)("Remove"):Object(Ce.default)("Delete")):null,e.isDeleteVersionVisible?y.a.createElement(Js.a,{kind:ao.a,onPress:me},Object(Ce.default)("Delete Version")):null,e.isViewPlayHistoryVisible?y.a.createElement(Js.a,{to:Object(Sd.a)(t.machineIdentifier,n)},Object(Ce.default)("View Play History")):null,e.isGetInfoVisible?y.a.createElement(Js.a,{onPress:he},Object(Ce.default)("Get Info")):null)}function jd({className:e,target:t,isOpen:a,actionsOverride:n,metadataItem:i,allowRedirectOnDelete:r,onMenuClose:s,onMenuCloseComplete:o}){var l;const c=Object(v.c)(),[d,u]=Jt(),{metricsPage:p,metricsContextTuple:m}=Object(Et.d)(),{containerServer:h,containerProvider:f,containerKey:b,containerType:I}=Ma(),S=Va(i.sourceURI),E=Object(v.d)(Bs.b),O={...al({server:d,provider:u,stableUser:E,metadataItem:i,metadataItemState:S}),...n},M=ul(),C=Md(M),j=ul(),D=Md(j),P=ul(),T=Md(P),w=ul(),N=Md(w),x=ul(),A=Md(x),L=ul(),k=Md(L),R=ul(),z=Md(R),U=ul(),V=Md(U),B=bo({server:d,provider:u,metadataItem:i,metadataItemState:S}),F=Ws({containerServer:h,containerProvider:f,server:d,provider:u,metadataItem:i,metadataItemState:S,metricsPage:p,metricsContextTuple:m}),H=qi(i),_=Object(g.useMemo)(()=>({page:p,contextTuple:m}),[m,p]),W=Object(g.useCallback)(e=>{B(e),s()},[s,B]),Q=Object(g.useCallback)(e=>{F(e),s()},[s,F]),G=Object(g.useCallback)(e=>{var t;H({action:Gi.T}),Q(Ze.x({confirmOffset:!0,startOffsetMilliseconds:null!=(t=S.viewOffset)?t:0,startMediaIndex:e,options:{containerKey:b,listType:I}})),M.onClose()},[b,I,S.viewOffset,Q,M,H]),K=Object(g.useCallback)(e=>{H({action:e?Gi.G:Gi.F}),c(Ki.a.actions.playedStatusUpdateRequested({server:d,provider:u,sourceURI:i.sourceURI,ratingKey:i.ratingKey,played:e})),s()},[c,i.ratingKey,i.sourceURI,s,u,d,H]),Y=Object(g.useCallback)(()=>{K(!0),j.onClose()},[j,K]),q=Object(g.useCallback)(()=>{K(!1),P.onClose()},[P,K]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(Xs.a,{className:e,target:t,isOpen:a,onMenuClose:s,onMenuCloseComplete:o},y.a.createElement(Cd,{actions:O,server:d,provider:u,metadataItem:i,metadataItemState:S,containerKey:b,containerType:I,allowRedirectOnDelete:r,playVersionModalState:M,confirmMarkPlayedModalState:j,confirmMarkUnplayedModalState:P,settingsModalState:w,addToPlaylistModalState:x,mediaSubscriptionModalState:R,shareModalState:L,watchTogetherModalState:U,onLegacyAction:W,onLegacyPlay:Q,onMenuClose:s})),C?y.a.createElement(Mo,{isOpen:M.isOpen,mediaItems:null!=(l=i.Media)?l:[],onSelect:G,onCancel:M.onClose}):null,D||T?y.a.createElement(fd.a,{isOpen:j.isOpen||P.isOpen,type:i.type,subtype:i.subtype,title:i.title,leafCount:j.isOpen?S.unviewedLeafCount:S.viewedLeafCount,markUnplayed:P.isOpen,onConfirm:j.isOpen?Y:q,onCancel:j.isOpen?j.onClose:P.onClose}):null,A?y.a.createElement(Zc,{isOpen:x.isOpen,defaultPlaylistTitle:i.title,sourceURI:i.sourceURI,defaultDestinationSource:i.source,playlistType:li(i.type,i.subtype),onModalClose:x.onClose}):null,k?y.a.createElement(vo,{metadataItem:i,metadataItemState:S},({serverEntityID:e,metadataItemEntityID:t})=>y.a.createElement(yd.a,{isOpen:L.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:_,onModalClose:L.onClose})):null,V?y.a.createElement(vo,{metadataItem:i,metadataItemState:S},({serverEntityID:e,metadataItemEntityID:t})=>y.a.createElement(Id.a,{isOpen:U.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:{page:p,contextTuple:m},onModalClose:U.onClose})):null,N?y.a.createElement(vo,{metadataItem:i,metadataItemState:S},({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,onMarkStale:n})=>y.a.createElement(bd.a,{isOpen:w.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metricsProperties:_,onModalClose:Object(to.a)(n,w.onClose)})):null,z?y.a.createElement(vo,{metadataItem:i,metadataItemState:S},({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,onMarkStale:n})=>{const r=S.grandparentSubscriptionType||S.subscriptionType||i.type;return y.a.createElement(vd.a,{isOpen:R.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,subscriptionType:r,metricsProperties:_,onModalClose:Object(to.a)(n,R.onClose)})}):null,O.isSyncDownloadVisible?y.a.createElement(gd,{metadataItem:i}):null)}var Dd=a("hK2U"),Pd=a("n3Vr"),Td=a.n(Pd);function wd({id:e,className:t,tabIndex:a,isPending:n,...i}){return y.a.createElement(ga,{id:e,className:t,tabIndex:a,"aria-label":Object(Ce.default)("More Actions"),"aria-haspopup":!0,...i},n?y.a.createElement("div",{className:Td.a.spinnerContainer},y.a.createElement(Ge,{size:_e.Small})):y.a.createElement(Dd.a,null))}var Nd=a("lXqf"),xd=a.n(Nd);function Ad({className:e=xd.a.selectButton,selectedCircleClassName:t=xd.a.selectedCircle,rangeCircleClassName:a=xd.a.rangeCircle,selectCircleClassName:n=xd.a.unselectedCircle,iconClassName:i=xd.a.selectedIcon,title:r,isSelected:s,isInSelectionRange:o,...l}){const c=Object(g.useMemo)(()=>s?t:o?a:n,[o,s,a,n,t]);return y.a.createElement(ga,{className:e,"aria-label":s?Object(Ce.default)("Deselect {title}",{title:r}):Object(Ce.default)("Select {title}",{title:r}),...l},y.a.createElement("div",{className:c,"data-qa-id":"multipleSelectButton"},s||o?y.a.createElement(ns.a,{className:i}):null))}var Ld=function(e){return!!Ao(e)||!!qr.l(e.identifier,qr.f)},kd=a("e2hs"),Rd=a("K6Cx"),zd=a.n(Rd);function Ud({playCircleClassName:e=zd.a.playCircle,metadataItem:t,metadataItemState:a,isHovered:n,actionsMenuButtonID:i,isActionsPending:r,isActionsVisible:s,isActionsMenuOpen:o,isActionsMenuClosing:l,isSelectHidden:c,isSelected:d,isInSelectionRange:u,isSelectionActive:p,isPlayButtonCard:m,onActionsMenuClose:h,onActionsMenuCloseComplete:f,onActionsMenuToggle:b,onSelectPress:I}){const[S,E]=Jt(),O=Object(v.d)(Bs.b),M=Uo({server:S,provider:E,stableUser:O,metadataItem:t,metadataItemState:a})&&(n||o&&!a.isPending),C=qo({server:S,provider:E,stableUser:O,metadataItem:t,metadataItemState:a}),j=bo({server:S,provider:E,metadataItem:t,metadataItemState:a}),D=qi(t),P=Object(g.useCallback)(()=>{D({action:Gi.w}),j(Object(Fs.editMetadataItem)())},[j,D]);return y.a.createElement(y.a.Fragment,null,!p&&s&&M?y.a.createElement(Zs,{className:Pe()(m?zd.a.playCoverButton:zd.a.playButton,!n&&l&&zd.a.isHidden),circleClassName:e,tabIndex:-1,metadataItem:t}):null,Ld(E)&&!t.radio&&!c&&(d||u||s)?y.a.createElement(Ad,{className:Pe()(zd.a.selectButton,!n&&l&&zd.a.isHidden),isSelected:d,isInSelectionRange:u,title:Kr(t),tabIndex:-1,onPress:I}):null,!p&&s&&!m&&C?y.a.createElement(ga,{className:Pe()(zd.a.editButton,!n&&l&&zd.a.isHidden),tabIndex:-1,"aria-label":Object(Ce.default)("Edit"),onPress:P},y.a.createElement(kd.a,null)):null,p||!s||m?null:y.a.createElement(wd,{id:i,className:Pe()(zd.a.moreButton,!n&&l&&zd.a.isHidden),isPending:r,tabIndex:-1,onPress:b}),y.a.createElement(jd,{target:i,isOpen:o,metadataItem:t,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:h,onMenuCloseComplete:f}))}var Vd=a("HJi7"),Bd=a.n(Vd);function Fd({className:e=Bd.a.progress,trackClassName:t=Bd.a.track,barClassName:a=Bd.a.bar,style:n,barStyle:i,progress:r}){return y.a.createElement("div",{className:e,style:n},y.a.createElement("div",{className:t}),y.a.createElement("div",{className:a,style:{...i,transform:`translate3d(-${100-r}%, 0, 0)`}}))}var Hd=a("I4jB"),_d=a("QUAh"),Wd=a("t3ne"),Qd=a("XebB"),Gd=a("v9T8"),Kd=a.n(Gd);function Yd({children:e,className:t=Kd.a.cardCircle}){return y.a.createElement("div",{className:t},e)}var qd=a("Y6zh"),Zd=a.n(qd);function Xd({children:e}){return y.a.createElement("div",{className:Zd.a.statusContainer},e)}function Jd({children:e}){return y.a.createElement(Xd,null,y.a.createElement("div",{className:Zd.a.spinnerContainer},y.a.createElement(Ge,{className:Zd.a.spinner})),y.a.createElement(Yd,null,e))}function $d({metadataItemState:e,metadataTimelineState:t}){return t.metadataState===rl.Matching?y.a.createElement(Jd,null,y.a.createElement(_d.a,{"aria-label":Object(Ce.default)("Matching")})):t.metadataState===rl.Processing||t.metadataState===rl.Loading?y.a.createElement(Jd,null,y.a.createElement(Wd.a,{"aria-label":Object(Ce.default)("Downloading Metadata")})):t.mediaState?y.a.createElement(Jd,null,y.a.createElement(Hd.a,{"aria-label":Object(Ce.default)("Analyzing")})):e.deletedAt?y.a.createElement(Xd,null,y.a.createElement(Yd,{className:Zd.a.trashCircle},y.a.createElement(Qd.a,{"aria-label":Object(Ce.default)("In Trash")}))):null}var eu=a("aYA4"),tu=a.n(eu);const au=Object(Zi.a)(Mr.a.slowSpeed);var nu=Object(g.memo)((function({className:e,playCircleClassName:t,metadataItem:a,metadataItemState:n,metadataTimelineState:i,width:r,height:s,aspectRatio:o,displayImageType:l,isPlayButtonCard:c,isPlayedStatusHidden:d,isProgressBarHidden:u,isSelectHidden:p,isSelectionActive:m,isSelected:h,isInSelectionRange:f,onHover:b,onToggleSelect:I}){var S;const[E,O]=Jt(),M=Object(v.d)(Os(ve.s)),{hoverRef:C,isHovered:j,actionsMenuButtonID:D,isActionsPending:P,isActionsVisible:T,isActionsMenuOpen:w,isActionsMenuClosing:N,onActionsMenuClose:x,onActionsMenuCloseComplete:A,onActionsMenuToggle:L}=Qr({server:E,provider:O,metadataItem:a,metadataItemState:n}),k=Ya(a,"key"),R=c||!k,z=null!=(S=n.viewOffset)?S:0,U=Object(g.useRef)(!1),V=U.current?Mr.a.slowSpeed:"0s",B=!p&&m,F=o||Qa(a.type,a.subtype);Object(Vs.a)("number"==typeof r||"number"==typeof s,"`MetadataPosterCard` requires either a `width` or `height, or both");let H={width:0,height:0};null!=r&&null!=s?H={width:r,height:s}:r?H=Ga({width:r,aspectRatio:F}):s&&(H=Ga({height:s,aspectRatio:F}));const _=Object(g.useCallback)(()=>{null==I||I()},[I]);Object(g.useEffect)(()=>{null==b||b(j)},[j,b]),Object(g.useEffect)(()=>{const e=window.setTimeout(()=>{U.current=!0},au);return()=>{window.clearTimeout(e)}},[]);let W="cover";return a.isLiveTVChannel?W="75%":a.type===Ha.d.Game&&(W="contain"),y.a.createElement(Na,{className:e,style:H,ref:C},a.radio?y.a.createElement(bs,{width:H.width,height:H.height},y.a.createElement(Fr.a,null)):y.a.createElement(ot.a,{className:tu.a.image,serverEntityID:E.entityID,providerEntityID:O.entityID,url:Yr(a,{aspectRatio:F,displayImageType:l}),width:H.width,height:H.height,component:at.a,preloadOnMount:!1,animateOnMount:!1,backgroundSize:W}),j||w?null:y.a.createElement($d,{metadataItemState:n,metadataTimelineState:i}),a.userState&&z>0&&!u?y.a.createElement(Fd,{className:tu.a.progress,style:{opacity:j||w?0:1,animationDuration:V},barClassName:tu.a.progressBar,barStyle:{animationDuration:V},progress:Object(Hr.a)(z,a.duration)}):null,R||B?null:y.a.createElement(Ss,{isHovered:j||w,to:k,"aria-label":Kr(a)}),B?y.a.createElement(Ss,{className:h?tu.a.selectedLink:void 0,hoverClassName:h?tu.a.hoveredSelectedLink:void 0,isHovered:f||j,"aria-label":Kr(a),onPress:_}):null,j||w?null:y.a.createElement(Us,{className:tu.a.bottomRightBadge,metadataItem:a,isShadowVisible:!0}),y.a.createElement(Ud,{playCircleClassName:t,metadataItem:a,metadataItemState:n,isHovered:j,isActionsPending:P,isActionsVisible:T,actionsMenuButtonID:D,isActionsMenuOpen:w,isActionsMenuClosing:N,isSelectHidden:p,isSelected:h,isInSelectionRange:f,isSelectionActive:B,isPlayButtonCard:R,onActionsMenuClose:x,onActionsMenuCloseComplete:A,onActionsMenuToggle:L,onSelectPress:_}),a.isPlaylist&&a.smart?y.a.createElement("div",{className:tu.a.topRightBadge,style:{animationDuration:V}},y.a.createElement(ds,null)):null,M&&!d&&(n.watchlistedAt||Xr(a,n))?y.a.createElement("div",{className:tu.a.topRightBadge,style:{animationDuration:V}},n.watchlistedAt?y.a.createElement(gs,null):y.a.createElement(ss,null)):null,M||$r(O)||Zr(a)||!a.userState||a.type!==Ha.d.Movie&&a.type!==Ha.d.Episode&&(a.type!==Ha.d.Track||a.subtype!==Ha.c.Podcast)||null!=n.saved&&!n.saved||n.viewOffset||n.viewCount?null:y.a.createElement("div",{className:tu.a.legacyUnwatchedTagMask},y.a.createElement("div",{className:tu.a.legacyUnwatchedTag})),M||$r(O)||Zr(a)||a.type!==Ha.d.Show&&a.type!==Ha.d.Season||null!=n.saved&&!n.saved||!n.unviewedLeafCount?null:y.a.createElement("div",{className:tu.a.legacyUnwatchedEpisodesBadge},n.unviewedLeafCount))})),iu=a("ixgb"),ru=a.n(iu);function su({metadataItem:e,component:t,allowLink:a,isSecondary:n,isDoubleLine:i}){return y.a.createElement(t,{className:Pe()(i?ru.a.doubleLineTitle:ru.a.singleLineTitle,n&&ru.a.isSecondary),allowLink:a,tabIndex:-1,metadataItem:e})}var ou=a("ZrA+"),lu=a.n(ou);function cu({item:e,...t}){const{containerType:a,containerSubtype:n,containerMeta:i,listStyle:r}=Ma(),s=Va(null==e?void 0:e.sourceURI),o=Fa(null==e?void 0:e.sourceURI),[l,c]=Object(g.useState)(!1),{isSelectionActive:d,isSelected:u,isInSelectionRange:p,onToggleSelect:m}=Ur({isHovered:l,metadataItem:e,metadataItemState:s}),h=Cr(t),f=Object(g.useMemo)(()=>{var t;return null!=(t=null==e?void 0:e.displayImage)?t:Br(a,n,null==i?void 0:i.DisplayImage)},[null==i?void 0:i.DisplayImage,n,a,null==e?void 0:e.displayImage]),b=Object(g.useMemo)(()=>Qa(a,n,{listStyle:r,displayImageType:f}),[n,a,f,r]),v=Object(g.useMemo)(()=>Ga({width:t.cellWidth,aspectRatio:b}),[b,t.cellWidth]),I=Object(g.useMemo)(()=>{if(!e)return[];const t=e.type!==Ha.d.Collection&&a!==Nt.b.Mixed;return Er(t?a:e.type,t?n:e.subtype,{listStyle:r,displayFieldNames:e.displayFields||Vr(e.type,e.subtype,null==i?void 0:i.DisplayFields)})},[n,a,null==i?void 0:i.DisplayFields,r,e]),S=(null==e?void 0:e.type)===Ha.d.Game;return e?y.a.createElement(Da,{metadataItem:e,metadataItemState:s},y.a.createElement("div",{style:h.style},y.a.createElement(nu,{className:lu.a.card,metadataItem:e,metadataItemState:s,metadataTimelineState:o,width:v.width,height:v.height,aspectRatio:b,isSelectionActive:d,isSelected:u,isInSelectionRange:p,displayImageType:f,isProgressBarHidden:S,onHover:c,onToggleSelect:m}),I.map((t,a)=>{if(null==t)return null;const n=function(e){return"component"in e?e:{component:e}}(t);return y.a.createElement(su,{key:a,component:n.component,isSecondary:a>0,isDoubleLine:n.isDoubleLine,allowLink:n.allowLink,metadataItem:e})}))):y.a.createElement("div",{style:h.style},y.a.createElement(La,{style:v,index:t.cellIndex}))}var du=a("J4LB"),uu=a.n(du);function pu({item:e,...t}){const{containerType:a,containerSubtype:n,listStyle:i}=Ma(),r=Va(null==e?void 0:e.sourceURI),s=Fa(null==e?void 0:e.sourceURI),o=Cr(t),l=Object(g.useMemo)(()=>Qa(a,n,{listStyle:i}),[n,a,i]),c=Object(g.useMemo)(()=>Ga({height:t.cellHeight,aspectRatio:l}),[l,t.cellHeight]);return e?y.a.createElement(Da,{metadataItem:e,metadataItemState:r},y.a.createElement("div",{className:uu.a.container,style:o.style},y.a.createElement(nu,{className:uu.a.card,metadataItem:e,metadataItemState:r,metadataTimelineState:s,width:c.width,height:c.height,aspectRatio:l}),y.a.createElement("div",{className:uu.a.titlesContainer},y.a.createElement(qa,{className:uu.a.doubleTitle,metadataItem:e}),y.a.createElement("div",{className:uu.a.subtitle},y.a.createElement(Ri,{metadataItem:e}),e.leafCount?y.a.createElement(y.a.Fragment,null,y.a.createElement(Hi.b,{separator:"·"}),y.a.createElement(Vi,{metadataItem:e})):null,e.duration?y.a.createElement(y.a.Fragment,null,y.a.createElement(Hi.b,{separator:"·"}),y.a.createElement(ji,{metadataItem:e})):null)))):y.a.createElement("div",{className:uu.a.container,style:o.style},y.a.createElement(La,{className:uu.a.placeholderCard,style:c,index:t.cellIndex}),y.a.createElement("div",{className:uu.a.titlesContainer},y.a.createElement("div",{className:uu.a.placeholderTitle}),y.a.createElement("div",{className:uu.a.placeholderSubtitle})))}var mu=a("a7m2");function hu(e,t,a){const n=Object(mu.a)(e),i=null==a?void 0:a.displayFields;if(i){if(e===Nt.b.Mixed)return i.reduce((e,t)=>Math.max(e,t.fields.length),0);{const e=Vr(n,t,i);if(e)return e.length}}return Er(null!=n?n:e,t,{listStyle:null==a?void 0:a.listStyle}).reduce((e,t)=>null!=t&&function(e){var t;return!!e&&(null!=(t=e.isDoubleLine)&&t)}(t)?e+2:e+1,0)}function gu({columnWidth:e,rowHeight:t,...a}){return fc({direction:hc.Horizontal,rows:1,getCellWidth:()=>e,getCellHeight:()=>t,overscan:4,...a})}var yu=a("XgVp");const fu=parseInt(yu.a.v4PagePadding,10),bu=parseInt(yu.a.v4CardTitleHeight,10),vu=parseInt(yu.a.v4CardTitleGap,10),Iu=parseInt(yu.a.v4CardShadowSize,10),Su=parseInt(yu.a.gapMedium,10);function Eu({listType:e,subtype:t,listStyle:a,displayFields:n,displayImages:i,columnWidth:r,...s}){const o=Qa(e,t,{listStyle:a,displayImageType:Br(e,t,i)}),l=s.titleCount?s.titleCount:hu(e,t,{listStyle:a,displayFields:n});return function({columnWidth:e,aspectRatio:t,titleHeight:a,innerHorizontalPadding:n,...i}){return gu({columnWidth:e,rowHeight:Math.floor(e/t+a),innerHorizontalPadding:n,...i})}({columnWidth:o===16/9?2*r+Su:r,aspectRatio:o,titleHeight:bu*l+vu,innerHorizontalPadding:Su,outerPaddingTop:Iu,outerPaddingRight:fu,outerPaddingBottom:Iu,outerPaddingLeft:fu,...s})}const Ou=parseInt(yu.a.v4PagePadding,10),Mu=parseInt(yu.a.v4CardShadowSize,10),Cu=parseInt(yu.a.gapMedium,10);var ju=a("ob4f"),Du=a("g/3I"),Pu=a.n(Du);function Tu({children:e,className:t=Pu.a.iconButton,activeClassName:a=Pu.a.isActive,disabledClassName:n=Pu.a.isDisabled,iconClassName:i,iconComponent:r,isDisabled:s=!1,isActive:o=!1,title:l,ariaLabel:c,...d}){const u=c||l;return y.a.createElement(ga,{...d,className:Pe()(t,s&&n,o&&a),isDisabled:s,"aria-label":u,title:l},y.a.createElement(r,{className:i}),e)}var wu=a("yJYc"),Nu=a.n(wu);function xu({className:e=Nu.a.hubTitle,children:t}){return y.a.createElement("div",{className:e,"data-qa-id":"hubTitle"},t)}function Au({hub:e,size:t,totalSize:a,initialPageSize:n,isVisible:i=!0,onPageRequest:r}){const s=!(!e.placeholder||!e.more||t||null!=a),o=Object(g.useMemo)(()=>{const e=[];return e.length=n,e},[n]);return Object(g.useEffect)(()=>{var t;!i&&s||!e.more||null!=a||null==r||r({startIndex:null!=(t=e.initialSize)?t:0,size:n})},[e.initialSize,e.more,s,i,r,a,n]),{isPlaceholder:s,placeholderItems:o}}function Lu(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-next-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m532 280l-252-252-56 56 196 196-196 196 56 56 252-252"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Lu.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var ku=Lu;function Ru(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-prev-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m28 280l252-252 56 56-196 196 196 196-56 56-252-252"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Ru.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var zu=Ru,Uu=a("grBd"),Vu=a.n(Uu);function Bu({className:e=Vu.a.hub,hubHeaderClassName:t=Vu.a.hubHeader,hub:a,hubTitleComponent:n,keyPropName:i,items:r,totalSize:s,initialPageSize:o=24,hasError:l,layout:c,cellComponentFactory:d,shouldCenterScrollIndex:u,onHubReady:p,onPageRequest:m}){const{title:h,initialSize:f,random:b}=a,v=Object(g.useRef)(null),[I,S]=Object(g.useState)(!1),[E,O]=Object(g.useState)("auto"),[M,C]=Object(g.useState)(!1),[j,D]=Object(g.useState)(!1),[P,T]=Object(g.useState)(),[w,N]=function(e){const t=Object(ju.a)(e);return void 0===window.IntersectionObserver?[void 0,!0]:t}({triggerOnce:!0}),x=null==s||b?f:s,A=Math.min(1e4,null!=x?x:0),L={visibility:I?"visible":"hidden"},k={height:E,overflow:"hidden"},R=Object(g.useCallback)(e=>{S(!0),O(e.height)},[]),z=Object(g.useCallback)(e=>{const{visibleStartIndex:t,visibleEndIndex:a}=e;v.current=e,C(t>0),D(A>a+1)},[A]),U=Object(g.useCallback)(()=>{const e=v.current;if(e){const t=e.visibleEndIndex-e.visibleStartIndex;T(Math.max(e.visibleStartIndex-t-1,0))}},[]),V=Object(g.useCallback)(()=>{const e=v.current;e&&T(e.visibleEndIndex+1)},[]),{isPlaceholder:B,placeholderItems:F}=Au({hub:a,size:r.length,totalSize:s,initialPageSize:o,isVisible:N,onPageRequest:m});return Object(g.useEffect)(()=>{(0===s||null==s&&l)&&(S(!0),O(0))},[l,s]),Object(g.useEffect)(()=>{I&&(null==p||p(a))},[I]),Object(g.useEffect)(()=>{null!=P&&T(void 0)},[P]),B||A?y.a.createElement("div",{className:e,style:L,ref:w},y.a.createElement("div",{className:t},n?y.a.createElement(n,{hub:a},h):y.a.createElement(xu,null,h),B||!M&&!j?null:y.a.createElement("div",{className:Vu.a.hubActions},y.a.createElement(Tu,{className:Vu.a.hubScrollButton,iconComponent:zu,isDisabled:!M,title:Object(Ce.default)("Previous Page"),onPress:U}),y.a.createElement(Tu,{className:Vu.a.hubScrollButton,iconComponent:ku,isDisabled:!j,title:Object(Ce.default)("Next Page"),onPress:V}))),y.a.createElement("div",{style:k},y.a.createElement(Pc,{scrollerKey:a.sourceURI,className:Vu.a.hubScroller,keyPropName:i,items:B?F:r,scrollDirection:Ie.Horizontal,targetScrollIndex:P,shouldCenterScrollIndex:u,autoScroll:!1,totalSize:B?F.length:A,layout:c,cellComponentFactory:d,onListReady:R,onListUpdate:z,onPageRequest:B||!N?void 0:m}))):null}var Fu=Object(he.a)(Hn("columnWidthMultiplier"),e=>Math.floor(80*(e-1)+120));function Hu({hub:e,hubTitleComponent:t,items:a,totalSize:n,hasError:i,onHubReady:r,onPageRequest:s}){const{type:o,subtype:l,style:c=Nt.a.Shelf}=e,d=Object(v.d)(Fu),{containerMeta:u}=Ma(),p=Object(g.useMemo)(()=>c===Nt.a.WideShelf?function({type:e,subtype:t,columnWidth:a,...n}){const i=Qa(e,t,{listStyle:Nt.a.WideShelf});return gu({columnWidth:3*a+Cu,rowHeight:Math.floor(a/i),aspectRatio:i,innerHorizontalPadding:Cu,outerPaddingTop:Mu,outerPaddingRight:Ou,outerPaddingBottom:Mu,outerPaddingLeft:Ou,...n})}({type:o,subtype:l,columnWidth:d}):Eu({listType:o,subtype:l,listStyle:c,columnWidth:d,displayFields:null==u?void 0:u.DisplayFields,displayImages:null==u?void 0:u.DisplayImage}),[c,o,l,d,null==u?void 0:u.DisplayFields,null==u?void 0:u.DisplayImage]),m=Object(g.useMemo)(()=>e=>y.a.createElement(Et.a,{key:e.key,column:e.cellIndex},c===Nt.a.WideShelf?y.a.createElement(pu,{...e}):y.a.createElement(cu,{...e})),[c]);return y.a.createElement(Bu,{hub:e,hubTitleComponent:t,keyPropName:"listItemKey",items:a,totalSize:n,hasError:i,layout:p,cellComponentFactory:m,onHubReady:r,onPageRequest:s})}var _u=a("uwA8");var Wu=function(e,t){return e-t*Math.floor(e/t)};function Qu(){const[e,t]=Object(g.useState)(!1),a=Object(g.useRef)(void 0),n=Object(g.useRef)(null),i=Object(g.useCallback)(e=>{window.clearTimeout(a.current),n.current=e.currentTarget,t(!0)},[]),r=Object(g.useCallback)(()=>{a.current=window.setTimeout(()=>{n.current=null,t(!1)})},[]);return Object(g.useEffect)(()=>{function e(e){const a=e.currentTarget;t(a instanceof HTMLElement&&a.contains(n.current))}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),[e,i,r]}var Gu=a("dz8L"),Ku=a("GxT8");var Yu=function(e,t){const a=e.match(/^#([0-9|a-f]{2})([0-9|a-f]{2})([0-9|a-f]{2})$/i);if(!a)throw new Error("invalid hex color pattern");const[,n,i,r]=a;return`rgba(${parseInt(n,16)}, ${parseInt(i,16)}, ${parseInt(r,16)}, ${t})`},qu=a("Wdw6"),Zu=a.n(qu);function Xu(e){const{attributionLogo:t}=e;return y.a.createElement("img",{className:Zu.a.img,src:t})}var Ju=a("0yYQ"),$u=a.n(Ju);function ep({className:e,src:t}){return y.a.createElement("img",{className:e,src:t})}function tp({isSelected:e,metadataItem:t}){const[a,n]=Jt(),i=Ya(t,"key"),r=Yu(t.backgroundColor,0),s=Yu(t.backgroundColor,1),[o,l]=Wr(),c=Object(g.useMemo)(()=>({backgroundColor:s}),[s]),d=Object(g.useMemo)(()=>({backgroundImage:`linear-gradient(to left, ${r}, ${s} 400px)`}),[r,s]);return y.a.createElement("div",{className:o?$u.a.hoveredCard:$u.a.card,style:c,ref:l},y.a.createElement("div",{className:$u.a.colorGradient,style:d}),y.a.createElement(ot.a,{serverEntityID:a.entityID,providerEntityID:n.entityID,className:$u.a.image,url:t.art,size:Ku.d,component:ep}),y.a.createElement("div",{className:$u.a.copyOverlay},y.a.createElement("div",{className:$u.a.title},t.title),y.a.createElement("div",{className:$u.a.summary},t.summary),y.a.createElement("div",{className:$u.a.action},t.action)),y.a.createElement("div",{className:$u.a.attributionLogo},y.a.createElement(Xu,{attributionLogo:t.attributionLogo})),y.a.createElement(ga,{tabIndex:e?void 0:-1,to:i,className:$u.a.link,title:t.title}))}var ap=a("tSXP"),np=a.n(ap);function ip({index:e,selectedIndex:t,metadataItem:a,onPress:n}){const i=Object(g.useCallback)(()=>{n(e)},[e,n]);return y.a.createElement(ba,{className:np.a.dotButton,title:a.title,onPress:i},y.a.createElement("span",{className:e===t?np.a.dotIsSelected:np.a.dot}))}var rp=a("ycxr"),sp=a.n(rp);function op(e,t){return t*(e||0)}function lp({hub:e,items:t,onHubReady:a}){const[n,{width:i}]=Object(Gu.a)(),r=Object(g.useCallback)(e=>{u(op(i,e))},[i]),[s,o]=Object(g.useState)(0),l=Object(g.useCallback)(({scrollLeft:e})=>{o(e)},[]),c=function(e,t,a){return e?Object(_u.a)(Math.floor((a-e/2)/e)+1,0,t-1):0}(i,t.length,s),[d,u]=Object(g.useState)(),[p,m,h]=Qu(),[f,b]=Wr(),[v,I]=Object(g.useState)(0);return Object(g.useEffect)(()=>{I(Date.now())},[s]),Object(g.useEffect)(()=>{if(s===d)return void u(void 0);const a=Date.now()-v,n=p||f||!e.autoAdvanceDelayMs?null:window.setTimeout(()=>{u(op(i,Wu(c+1,t.length)))},a>e.autoAdvanceDelayMs?500:e.autoAdvanceDelayMs-a),r=window.setTimeout(()=>{const e=op(i,c);e!==s&&u(e)},1e3);return()=>{n&&window.clearTimeout(n),r&&window.clearTimeout(r)}},[i,e.autoAdvanceDelayMs,p,f,t.length,v,c,s,d]),Object(g.useEffect)(()=>{a&&(i||0===t.length)&&a(e)},[t.length,i,e,a]),0===t.length?null:y.a.createElement("div",{className:sp.a.hub,ref:Object(Te.a)(n,b),onFocus:m,onBlur:h},y.a.createElement(Ae,{className:void 0===d?sp.a.hubScroller:sp.a.hubScrollerControlledScroll,scrollDirection:Ie.Horizontal,smoothScroll:!0,targetScrollLeft:d,onScrollPositionChange:l},t.map((e,t)=>y.a.createElement("div",{key:t,className:sp.a.cell},y.a.createElement(Et.a,{column:t},y.a.createElement(tp,{isSelected:t===c,metadataItem:e}))))),t.length>1?y.a.createElement("div",{className:sp.a.dots},t.map((e,t)=>y.a.createElement(ip,{key:t,metadataItem:e,index:t,selectedIndex:c,onPress:r}))):null)}var cp,dp,up=a("ocKo"),pp=a("R7A0"),mp=a.n(pp);function hp({hub:e,onHubReady:t}){const[,a]=Jt(),n=Yi({pane:"tidalBanner"}),i=Object(g.useCallback)(()=>{n({action:Gi.qb})},[n]);return Object(g.useEffect)(()=>{null==t||t(e)},[e,t]),qr.l(a.identifier,qr.f)?y.a.createElement("div",{className:mp.a.container},y.a.createElement("div",{className:mp.a.text},y.a.createElement("div",{className:mp.a.logo,"aria-label":"Tidal"}),y.a.createElement("div",{className:mp.a.body},Object(Ce.default)("Preview 60 million streaming tracks, thousands of music videos and more.")," ",y.a.createElement(ga,{to:up.n,className:mp.a.link,target:"_blank",rel:"noopener noreferrer",onPress:i},Object(Ce.default)("Get started at plex.tv"))))):null}function gp({hub:e,hubTitleComponent:t,onHubReady:a}){const{sourceURI:n,key:i,type:r,subtype:s,random:o,Meta:l,style:c=Nt.a.Shelf,isStale:d}=e,u=Object(v.c)(),[p,m]=Jt(),h=Object(g.useMemo)(()=>hl(n),[n]),f=Object(v.d)(h);Object(g.useEffect)(()=>{d&&!o&&u(ja.a.actions.throttledRepopulateRangeRequested({server:p,provider:m,sourceURI:n}))},[u,d,m,o,p,n]);const b=Object(g.useCallback)(e=>{u(ja.a.actions.fetchRangeRequested({...e,server:p,provider:m,sourceURI:n}))},[u,m,p,n]),I=function(e){switch(e){case Nt.a.Spotlight:return lp;case Nt.a.Upsell:return hp}return Hu}(c);return y.a.createElement(Ca,{containerServer:p,containerProvider:m,containerSourceURI:f.sourceURI,containerKey:i,containerType:r,containerSubtype:s,containerMeta:l,listStyle:c},y.a.createElement(Rr,{items:f.items},y.a.createElement(I,{hub:e,hubTitleComponent:t,items:f.items,totalSize:f.totalSize,hasError:!!f.error,onHubReady:a,onPageRequest:b})))}(dp=cp||(cp={})).Plex="com.plex",dp.Tidal="com.tidal",dp.WatchTogether="com.watchtogether";const yp={[cp.Tidal]:qn,[cp.WatchTogether]:Zn.a};function fp({className:e,attribution:t}){const a=yp[t];return a?y.a.createElement(a,{className:e}):null}var bp=a("GP3F"),vp=a.n(bp);function Ip({children:e,hub:t}){return y.a.createElement(xu,null,t.attribution?y.a.createElement(fp,{className:vp.a.attribution,attribution:t.attribution}):null,e)}const Sp={opacity:0,pointerEvents:"none"},Ep={opacity:1,pointerEvents:"auto"};function Op({className:e,hubs:t,hubComponent:a,hubTitleComponent:n,metricsRowOffset:i=0,onHubsReady:r}){const s=Object(g.useRef)(new Set),[o,l]=Object(g.useState)(!1),c=Object(g.useCallback)(e=>{const a=s.current;a.add(e.hubIdentifier),t.every(e=>a.has(e.hubIdentifier))&&(l(!0),null==r||r())},[t,r]);let d=i;return y.a.createElement("div",{className:e,style:o?Ep:Sp},t.map((e,t)=>y.a.createElement(Et.a,{key:t,name:e.context,row:e.initialSize||e.more?d++:void 0},y.a.createElement(a,{hub:e,hubTitleComponent:n,onHubReady:c}))))}var Mp=a("/IMa"),Cp=a.n(Mp);function jp({forwardedRef:e,className:t=Cp.a.pageContentScroller,onScrollPositionChange:a,...n}){const{scrollRestoreProps:i}=ia({key:"PageContent",shouldRestoreImmediately:!0,onScrollPositionChange:a});return y.a.createElement(Ae,{ref:e,...n,...i,className:t})}var Dp=y.a.forwardRef((e,t)=>y.a.createElement(jp,{...e,forwardedRef:t}));function Pp(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-broadcast-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m280 120l120-100h70l-118.75 100h208.75v440h-560v-440h208.75l-118.75-100h70l120 100m-220 340h440v-280h-440v280"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Pp.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Tp=Pp;var wp=a("Livm"),Np=a("xNAM"),xp=a("7H9Q"),Ap=a("eX9C");function Lp(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-person-auto-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M198.543 309.557a162.542 162.542 0 0 1-79.755-140.166C118.788 79.705 190.965 7 280 7c89.035 0 161.212 72.705 161.212 162.39a162.542 162.542 0 0 1-79.755 140.167C476.367 343.994 560 447.712 560 554H0c0-106.288 83.633-210.006 198.543-244.443zM40 554h480c0-106.732-107.452-213.463-240-213.463S40 447.268 40 554zm120-386.902c0 66.314 53.726 120.073 120 120.073s120-53.759 120-120.073c0-66.315-53.726-120.074-120-120.074s-120 53.759-120 120.074z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Lp.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var kp=Lp,Rp=a("aCTI"),zp=a("Hpi7"),Up=a("uuaR");function Vp(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-playlists-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m0 460l80 0 0 60-80 0 0-60m560 0l0 60-400 0 0-60 400 0m-560-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Vp.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Bp=Vp;function Fp({type:e,...t}){switch(e){case Ha.d.Movie:return y.a.createElement(xp.a,{...t});case Ha.d.Show:case Ha.d.Season:case Ha.d.Episode:return y.a.createElement(zp.a,{...t});case Ha.d.Artist:return y.a.createElement(wp.a,{...t});case Ha.d.Album:case Ha.d.Track:return y.a.createElement(Ap.a,{...t});case Ha.d.Photo:case Ha.d.PhotoAlbum:return y.a.createElement(Rp.a,{...t});case Ha.d.Clip:return y.a.createElement(Np.a,{...t});case Ha.d.Game:return y.a.createElement(Up.a,{...t});case Ha.d.Playlist:return y.a.createElement(Bp,{...t});case Ha.d.Person:return y.a.createElement(kp,{...t})}!function(e){throw new Error(`"${e}" is not mapped to an icon`)}(e)}var Hp=Object(At.a)((function(e){return Object(he.a)(_t(e.machineIdentifier),e=>{var t,a;return null!=(a=null==(t=null==e?void 0:e.desktop)?void 0:t.activities)?a:[]})}));var _p=function(e,t){return Object(he.a)(Hp(e),e=>e.find(e=>e.type===Ms.h&&e.Context.librarySectionID===t.id))};function Wp(e,t){const a=Object(g.useMemo)(()=>t?_p(e,t):()=>{},[t,e]);return!!Object(v.d)(a)||!!(null==t?void 0:t.refreshing)}var Qp,Gp,Kp=function(e,t){return Object(he.a)(Hp(e),e=>e.find(e=>e.type===Ms.n&&e.Context.identifier===t.identifier))};(Gp=Qp||(Qp={})).Equal="=",Gp.NotEqual="!=",Gp.DoubleEqual="==",Gp.NotDoubleEqual="!==",Gp.GreaterThanOrEqual=">=",Gp.LessThanOrEqual="<=",Gp.GreaterThanGreaterThanOrEqual=">>=",Gp.LessThanLessThanOrEqual="<<=";var Yp=Qp,qp=a("KYea");var Zp=function(e,t){const a=[...e];if(t.filter.filterType===_a.e.Boolean){const e=a.findIndex(e=>e.filter.filter===t.filter.filter),n=-1===e?0:e,i={...t,value:"string"==typeof t.value?"1"===t.value:t.value};-1===e?a.push(i):a.splice(n,1,i)}else{a.find(e=>e.filter.filter===t.filter.filter&&e.value===t.value)||a.push(t)}return a};function Xp(e){const t=Object(qp.b)(Yp).find(t=>Yp[t]===e);return t?Yp[t]:void 0}var Jp=function(e,t){if(!(null==t?void 0:t.Filter))return{strippedKey:e,filterRules:[]};const a=t.Filter,{params:n,pathname:i}=j.default.parseUri(e,{decoder:e=>e});let r=[];for(const e in n)if(n.hasOwnProperty(e)){let t=r;const i=n[e],s=a.find(t=>e.startsWith(t.filter));if(!s)continue;const o=Xp(e.substr(s.filter.length)+"=");if(!o)continue;"string"==typeof i?t=Zp(t,{filter:s,operator:o,value:i}):Array.isArray(i)&&(t=i.reduce((e,t)=>"string"!=typeof t?e:Zp(e,{filter:s,operator:o,value:t}),t)),r!==t&&(r=t,delete n[e])}return{strippedKey:j.default.join(i,n,{stringifyOptions:{encode:!1}}),filterRules:r}},$p=a("xLRV");var em=Object(he.a)(wr,e=>e.directory);var tm=Object(he.a)(em,e=>e.meta);var am=Object(he.a)(tm,e=>e?Object($p.a)(e):void 0);var nm=function(e){return Object(he.a)(am,t=>e?Jp(e,t):void 0)};let im,rm;function sm(e,t=window.location.hash){const a=function(e){if(im===e)return rm;const t=e.split("?"),a=t.length>1?t[1]:void 0,n=a?j.default.parseParams(a):{};return im=e,rm={url:t[0],params:n},rm}(t);return j.default.join(a.url,{...a.params,...e})}var om=function(e){const t=Object(v.c)();return Object(g.useCallback)(a=>{const n=a.currentTarget.getAttribute("href");n&&(0===a.button||a.touches)&&(a.stopPropagation(),t(Object(ta.v)({pathname:n,replace:!0}))),null==e||e(a)},[t,e])},lm=a("+Obf");function cm(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-watchlist-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M35 35.113C35 15.721 50.736 0 70.212 0H489.4c19.446 0 35.211 15.384 35.211 35.113v504.933c0 19.392-12.476 25.435-27.606 13.699L307.412 406.679c-15.246-11.826-40.083-11.735-55.212 0L62.606 553.745C47.36 565.57 35 559.775 35 540.046V35.113zm225.736 201.485v72.615h38.528v-72.615h68.083v-41.305h-68.083v-73.559h-38.528v73.559h-68.084v41.305h68.084z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}cm.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var dm=cm,um=a("XQST"),pm=a.n(um);function mm({className:e,directoryKey:t,selectedPivot:a}){const[n,i,r]=Jt(),s=qr.l(i.identifier,qr.c),o=Object(g.useMemo)(()=>Kp(n,i),[i,n]),l=!!Object(v.d)(o),c=Wp(n,r),d=Object(g.useMemo)(()=>nm(t),[t]),u=Object(v.d)(d),p=om();return"vod.watchlist"===(null==a?void 0:a.id)?y.a.createElement(Re,{className:e,icon:y.a.createElement(dm,{className:pm.a.watchlistIcon}),title:Object(Ce.default)("Watchlist"),description:Object(Ce.default)("You can add movies and shows to your Watchlist to catch up on later. Once you finish watching an item in the list, or mark it as watched it will automatically be removed from the list.")}):(null==u?void 0:u.filterRules.length)?y.a.createElement(Re,{icon:(null==r?void 0:r.type)?y.a.createElement(Fp,{type:r.type}):void 0,title:Object(Ce.default)("The active filter has no matches"),description:Object(Ce.default)("Use the menu above to change the active filter")},y.a.createElement(ba,{to:sm({key:u.strippedKey}),kind:da.Primary,onPress:p},Object(Ce.default)("Clear filter"))):s?l?y.a.createElement(Re,{className:e,icon:y.a.createElement(Tp,null),title:Object(Ce.default)("We're now building your Guide"),description:Object(Ce.default)("Hang tight while we download all the data for what's on")}):y.a.createElement(Re,{className:e,icon:y.a.createElement(Tp,null),title:Object(Ce.default)("Your Guide is empty"),description:Object(Ce.default)("Please verify your channel mappings and refresh the Guide")},y.a.createElement(ba,{to:Object(lm.a)(n.machineIdentifier,"manage","dvr"),kind:da.Primary},Object(Ce.default)("Go to DVR Settings"))):c?y.a.createElement(Re,{className:e,icon:(null==r?void 0:r.type)?y.a.createElement(Fp,{type:r.type}):void 0,title:r?Object(Ce.default)('"{directoryTitle}" is currently being updated',{directoryTitle:r.title}):Object(Ce.default)("This page is currently being updated"),description:Object(Ce.default)("Hang tight while we look for content")}):y.a.createElement(Re,{className:e,icon:(null==r?void 0:r.type)?y.a.createElement(Fp,{type:r.type}):void 0,title:r?Object(Ce.default)('"{directoryTitle}" is empty',{directoryTitle:n.isCloud?null==a?void 0:a.title:r.title}):Object(Ce.default)("This page is empty"),description:n.isFullOwnedServer?Object(Ce.default)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null},n.isFullOwnedServer?y.a.createElement(ba,{kind:da.Primary,to:Object(lm.a)(n.machineIdentifier,"manage","libraries")},Object(Ce.default)("Manage Libraries")):null)}var hm=a("gZLj");function gm(e,t){const{isCloud:a,isConnected:n,isEmbedded:i,isFullOwnedServer:r,isFullServer:s,isUnauthorized:o,isUnavailable:l}=t,c={extra:{isCloud:a,isConnected:n,isEmbedded:i,isFullOwnedServer:r,isFullServer:s,isUnauthorized:o,isUnavailable:l}},d=new Error(e);C.a.error(d,c.extra),z.a(d,c)}const ym={sessionKeys:[],sessionsByKey:{},isPending:!1,isPopulated:!1,error:null,stopSessionError:null};var fm=Object(jr.c)({name:"serverNowPlayingSessions",initialState:{},reducers:{fetchRequested(e,{payload:t}){const a=e[t.server.machineIdentifier];a&&Object(hm.c)(a)},fetchSucceeded(e,{payload:t}){const a=e[t.server.machineIdentifier];if(!a)return;const{sessionKeys:n,sessionsByKey:i}=t.data.reduce((e,t)=>(e.sessionKeys.push(t.sessionKey),e.sessionsByKey[t.sessionKey]=t,e),{sessionKeys:[],sessionsByKey:{}});Object(hm.d)(a),a.sessionKeys=n,a.sessionsByKey=i},fetchFailed(e,{payload:t}){const a=e[t.server.machineIdentifier];a&&Object(hm.b)(a,t.error)},sessionChanged(e,{payload:t}){const{server:a,message:n}=t,i=e[a.machineIdentifier];if(!i)return void gm("Session changed without serverState",a);const r=i.sessionsByKey[n.sessionKey];r&&r.key===n.key&&(r.viewOffset=n.viewOffset,r.Player.state=n.state)},sessionStopped(e,{payload:t}){const{server:a,sessionKey:n}=t,i=e[a.machineIdentifier];if(!i)return void gm("Session stopped without serverState",a);i.sessionsByKey[n]&&(delete i.sessionsByKey[n],i.sessionKeys.splice(i.sessionKeys.indexOf(n),1))},stopRequested(e,t){},stopFailed(e,{payload:t}){const a=e[t.server.machineIdentifier];a&&(a.stopSessionError=t.error)},stopErrorDismissed(e,{payload:t}){const a=e[t.server.machineIdentifier];a&&(a.stopSessionError=null)}},extraReducers:e=>{e.addCase(Cs.actions.connected,(e,{payload:t})=>{const{server:a}=t;e[a.machineIdentifier]||(e[a.machineIdentifier]={...ym})})}});var bm=Object(jr.c)({name:"user",initialState:{},reducers:{languageChanged(){}}});var vm=Object(jr.c)({name:"players",initialState:{},reducers:{ended(e,t){}}});const Im={meta:void 0,metadataListSourceURI:void 0,filterOptions:{},firstCharacters:{isPending:!1,isPopulated:!1,error:null,items:[]},hubsList:{sourceURI:void 0,lastFetchedAt:void 0,isPending:!1,isPopulated:!1,error:null,hubs:[]}};function Sm(e,t){var a;(null==(a=e.hubsList.sourceURI)?void 0:a.includes(t))&&e.hubsList.hubs.forEach(e=>{e.isStale=!0})}var Em=Object(jr.c)({name:"directory",initialState:Im,reducers:{reset:()=>Im,resetMeta(e){e.meta=void 0},resetHubs(e){e.hubsList=Im.hubsList},initializeListRequested(e,{payload:t}){e.metadataListSourceURI=t.sourceURI},markHubsStaleRequested(e){e.hubsList.isPending=!1},markHubsStale(e){e.hubsList.hubs.forEach(e=>{e.isStale=!0})},markHubsStaleCanceled(e){},fetchHubsRequested(e,{payload:t}){e.hubsList.sourceURI=t.sourceURI,Object(hm.c)(e.hubsList)},fetchHubsSucceeded(e,{payload:t}){Object(hm.d)(e.hubsList),e.hubsList.hubs=t.data.hubs,e.hubsList.lastFetchedAt=Date.now(),e.title=t.data.title,e.meta=t.data.meta},fetchHubsFailed(e,{payload:t}){Object(hm.b)(e.hubsList,t.error)},fetchFilterOptionsRequested(e,{payload:t}){const a=t.filter;e.filterOptions[a.key]||(e.filterOptions[a.key]={isPending:!1,isPopulated:!1,error:null,options:[]}),Object(hm.c)(e.filterOptions[a.key])},fetchFilterOptionsSucceeded(e,{payload:t}){const a=t.filter;Object(hm.d)(e.filterOptions[a.key]),e.filterOptions[a.key].options=t.filterOptions},fetchFilterOptionsFailed(e,{payload:t}){const a=t.filter;Object(hm.b)(e.filterOptions[a.key],t.error)},fetchFirstCharactersRequested(e,t){Object(hm.c)(e.firstCharacters)},fetchFirstCharactersSucceeded(e,{payload:t}){Object(hm.d)(e.firstCharacters),e.firstCharacters.items=t.firstCharacters},fetchFirstCharactersFailed(e,{payload:t}){Object(hm.b)(e.firstCharacters,t.error)}},extraReducers(e){e.addCase(ja.a.actions.fetchRangeSucceeded,(e,{payload:t})=>{t.sourceURI===e.metadataListSourceURI&&(e.title=t.data.title,t.data.meta&&(e.meta=t.data.meta))}),e.addCase(ja.a.actions.reset,(e,{payload:t})=>t.sourceURI===e.metadataListSourceURI?{...Im,filterOptions:e.filterOptions,meta:e.meta}:e),e.addCase(ja.a.actions.repopulateRangeSucceeded,(e,{payload:t})=>{e.hubsList.hubs.forEach(e=>{e.sourceURI===t.sourceURI&&(e.isStale=!1)})}),e.addCase(vm.actions.ended,(e,{payload:t})=>{Sm(e,t.source)}),e.addCase(fm.actions.sessionStopped,(e,{payload:t})=>{Sm(e,Object(Ct.a)({serverIdentifier:t.server.machineIdentifier}))}),e.addCase(Cs.actions.libraryScanUpdated,(e,{payload:t})=>{Sm(e,Object(Ct.a)({serverIdentifier:t.server.machineIdentifier}))}),e.addCase(Ki.a.actions.playedStatusUpdateSucceeded,(e,{payload:t})=>{Sm(e,Object(Ct.a)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier}))}),e.addCase(Ki.a.actions.metadataProcessed,(e,{payload:t})=>{const{serverIdentifier:a,providerIdentifier:n}=Object(Ia.a)(t.sourceURI);Sm(e,Object(Ct.a)({serverIdentifier:a,providerIdentifier:n}))}),e.addCase(bm.actions.languageChanged,e=>{e.hubsList=Im.hubsList})}});var Om=function(e){const[t,a,n]=Jt(),i=Object(g.useMemo)(()=>function(e,t,a){return qr.l(t.identifier,qr.d)?a?_p(e,a):()=>{}:qr.l(t.identifier,qr.c)?Kp(e,t):()=>{}}(t,a,n),[n,a,t]),r=!(!Object(v.d)(i)&&!(null==n?void 0:n.refreshing)),s=Object(Kc.a)(r);Object(g.useEffect)(()=>{let t;return r?t=window.setInterval(()=>{null==e||e()},1e4):!r&&s&&(null==e||e()),()=>{window.clearInterval(t)}},[e,r,s])};var Mm=Object(he.a)(wr,e=>e.directory.hubsList),Cm=a("5Uxk"),jm=a("r30D"),Dm=a("Aslj"),Pm=a("sBwU"),Tm=a("X4XD"),wm=a.n(Tm);function Nm({isLabeled:e,className:t=(e?wm.a.labeledActionButton:wm.a.iconActionButton),iconClassName:a=wm.a.icon,tooltipClassName:n=wm.a.tooltip,kind:i,size:r=_e.Medium,icon:s,tooltipAttachment:o=Pm.f,title:l,...c}){return e?y.a.createElement(ba,{className:Pe()(t,wm.a[r]),kind:i,...c},s?y.a.createElement(y.a.Fragment,null,y.a.createElement(s,{className:a})," "):null,l):y.a.createElement(Dm.a,{className:Pe()(t,wm.a[r]),tooltipClassName:n,component:ba,tooltip:l,tooltipAttachment:o,...c},s?y.a.createElement(s,{className:a}):null)}var xm=Object(he.a)(Nr,e=>!!e.count),Am=a("aVib");var Lm=function(e){return e.count?Object.keys(e.items).map(t=>e.items[t]):[]};var km=Object(Kt.a)(Object(he.a)(Nr,za,Lt.a,Am.a,e=>e.servers,Object(kt.a)("providers"),(e,t,a,n,i,r)=>{const s=Lm(e);if(!s.length)return[];return s.map(e=>{var s;const{serverIdentifier:o,providerIdentifier:l}=Object(Ia.a)(e.source),c=i.find(e=>{const t=n[e];return!!t&&t.machineIdentifier===o}),d=c?n[c]:Ht,u=(d.isCloud?r:d.providers).find(e=>a[e].identifier===l),p=u?a[u]:Bt;return{metadataItem:e,metadataItemState:null!=(s=t[e.sourceURI])?s:{tempState:{},isStale:!1,isPending:!1,isPopulated:!1,error:null},server:Yt(d),provider:p}})}),e=>e),Rm=a("yfFC");function zm(e){if(!e.length)return!1;const[{metadataItem:t}]=e;return e.every(({metadataItem:e})=>t.type===e.type&&t.subtype===e.subtype)}function Um(e){if(!e.length)return!1;const[{server:t,provider:a}]=e;return e.every(({server:e,provider:n})=>e.machineIdentifier===t.machineIdentifier&&n.identifier===a.identifier)}function Vm(e,t){return e.every(({server:e,provider:a,metadataItem:n,metadataItemState:i})=>Yo({server:e,provider:a,stableUser:t,metadataItem:n,metadataItemState:i})||Ko({server:e,provider:a,stableUser:t,metadataItem:n,metadataItemState:i}))}function Bm(e,t){return!!e.length&&(!!zm(e)&&Km(e,t,qo))}const Fm=[Ha.d.Movie,Ha.d.Show,Ha.d.Season,Ha.d.Artist,Ha.d.Album];function Hm(e,t){if(e.length<2)return!1;if(!Bm(e,t))return!1;if(!zm(e))return!1;if(!Um(e))return!1;const[{metadataItem:a}]=e;return Fm.includes(a.type)}function _m(e,t){if(!e.length)return!1;if(!Um(e))return!1;const[{provider:a}]=e;if(!Ao(a))return!1;const n=e.reduce((e,{metadataItem:t})=>{const a=function(e){const{type:t,subtype:a,playlistType:n}=e;switch(a){case Ha.c.Photo:switch(t){case Ha.d.Clip:return Rm.a.Photo}}switch(il(t,a)||t){case Ha.d.Playlist:if(!n)throw new Error("playlistType missing from playlist metadataItem");switch(n){case Ha.a.Audio:case Ha.a.Video:return Rm.a.AudioVideo;case Ha.a.Photo:return Rm.a.Photo}break;case Ha.d.Track:return Rm.a.AudioVideo;case Ha.d.Episode:case Ha.d.Movie:case Ha.d.Clip:return Rm.a.AudioVideo;case Ha.d.Photo:return Rm.a.Photo;case Ha.d.Game:return Rm.a.Rom}throw new Error("No known player type for "+t)}(t);return e.includes(a)||e.push(a),e},[]);return!n.includes(Rm.a.Rom)&&(!(n.length>1&&n.includes(Rm.a.Photo))&&Qm(e,t,Uo))}function Wm(e,t){if(!e.length)return!1;const[{metadataItem:a}]=e;if(e.some(({metadataItem:e})=>e.type===Ha.d.Playlist))return!1;const n=li(a.type,a.subtype);return!!e.every(({metadataItem:e})=>n===li(e.type,e.subtype))&&(!!Um(e)&&Km(e,t,Bo))}function Qm(e,t,a){return!!e.length&&e.every(e=>a({...e,stableUser:t}))}function Gm(e,t,a){return!!e.length&&e.some(e=>a({...e,stableUser:t}))}function Km(e,t,a){return!!e.length&&(!!Um(e)&&Qm(e,t,a))}var Ym=function(e,t){return{isAddToLibraryVisible:Qm(e,t,_o),isAddToPlaylistVisible:Wm(e,t),isAnalyzeVisible:Qm(e,t,Xo),isDeleteVisible:Qm(e,t,el),isEditVisible:Bm(e,t),isMarkPlayedOrUnplayedVisible:Vm(e,t),isMarkPlayedVisible:Gm(e,t,Ko),isMarkUnplayedVisible:Gm(e,t,Yo),isMergeVisible:Hm(e,t),isOptimizeVisible:Qm(e,t,$o),isPlayVisible:_m(e,t),isRefreshVisible:Qm(e,t,Zo)}},qm=a("ZrFe"),Zm=a.n(qm);function Xm(e){return y.a.createElement("div",{...e})}Xm.defaultProps={className:Zm.a.pageHeader};var Jm=Xm;function $m(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-add-to-playlist-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m223.992 459.2l336 0 0 44.8-336 0 0-44.8m0-134.4l336 0 0 44.8-336 0 0-44.8m84-134.4l252 0 0 44.8-252 0 0-44.8m-218.392 0l-89.6 0 0 44.8 89.6 0 0 89.6 44.8 0 0-89.6 89.6 0 0-44.8-89.6 0 0-89.6c0 0-53.77 0-37.8 0l-7 0 0 89.6m134.392-134.4l336 0 0 44.8-336 0 0-44.8"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}$m.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var eh=$m;function th(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-edit-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m56 504l28-84 56 56-84 28m392-448l-336 336 56 56 336-336-56-56"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}th.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var ah=th;function nh(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-played-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM24 40.8C33.2784 40.8 40.8 33.2784 40.8 24C40.8 14.7216 33.2784 7.19998 24 7.19998C14.7216 7.19998 7.19998 14.7216 7.19998 24C7.19998 33.2784 14.7216 40.8 24 40.8ZM22.9177 33.9317L13.5646 28.5317L15.3646 25.414L21.6 29.014L30 14.4648L33.1177 16.2648L22.9177 33.9317Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}nh.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var ih=nh;function rh(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-unplayed-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{clipRule:"evenodd",d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM15.3646 25.414L13.5646 28.5317L22.9176 33.9317L33.1176 16.2648L30 14.4648L21.5999 29.014L15.3646 25.414Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}rh.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var sh=rh;function oh(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-more-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m168 280c0 30.897-25.103 56-56 56-30.896 0-56-25.103-56-56 0-30.897 25.104-56 56-56 31.862.965 56 25.103 56 56m112-56c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56m168 0c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}oh.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var lh=oh;function ch(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m112 504l0-448 392 224-392 224"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}ch.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var dh=ch,uh=a("btL4"),ph=a.n(uh);function mh(e){const[t,...a]=e;if(1===e.length)return t.sourceURI;const n=e.every(e=>e.source===t.source);Object(Vs.a)(n,"AddToPlaylistModal may only be used with same source items");const i=a.map(e=>e.ratingKey);return`${t.sourceURI},${i.join(",")}`}function hh(e){return 1===e?Object(Ce.default)("Are you sure you want to mark this item as unplayed?"):Object(Ce.default)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function gh(e,t){const a=1===e;return t?a?Object(Ce.default)("Are you sure you want to remove this item?"):Object(Ce.default)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:e}):a?Object(Ce.default)("Are you sure you want to delete this item from your filesystem?"):Object(Ce.default)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:e})}const yh=["isPlayVisible","isMarkPlayedOrUnplayedVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isAddToPlaylistVisible","isEditVisible"];function fh({className:e=ph.a.container}){const t=Object(v.c)(),a=Object(v.d)(Nr),n=Object(v.d)(km),i=Object(v.d)(Bs.b),r=Object(v.d)(xm),s=Ym(n,i),o=Object(g.useMemo)(()=>n.map(({metadataItem:e})=>e),[n]),l=Yi({mode:"multiselect",type:Object(g.useMemo)(()=>{const e=n.map(({metadataItem:e})=>e.type);return e.filter((t,a)=>e.indexOf(t)===a).sort().join(",")},[n]),itemCount:n.length}),c=a.count,d=ul(),u=ul(),p=Object(_r.a)(),m=ul(),h=ul(),f=Object(_r.a)(),b=Object(g.useCallback)(()=>{t(Tr.actions.reset())},[t]),I=Object(g.useCallback)(()=>{l({action:Gi.N}),t(jm.p({legacyAction:jm.n({serverEntityID:n[0].server.entityID,providerEntityID:n[0].provider.entityID}),items:n})),b()},[t,n,b,l]),S=Object(g.useCallback)(()=>{l({action:Gi.ib}),t(jm.p({legacyAction:jm.t({serverEntityID:n[0].server.entityID,providerEntityID:n[0].provider.entityID}),items:n})),b()},[t,n,b,l]),E=Object(g.useCallback)(()=>{l({action:Gi.Q}),t(jm.p({legacyAction:jm.o({serverEntityID:n[0].server.entityID,providerEntityID:n[0].provider.entityID}),items:n})),m.onClose(),b()},[t,m,n,b,l]),O=Object(g.useCallback)(()=>{l({action:Gi.d}),t(jm.p({legacyAction:jm.a({serverEntityID:n[0].server.entityID,providerEntityID:n[0].provider.entityID}),items:n})),m.onClose(),b()},[t,m,n,b,l]),M=Object(g.useCallback)(()=>{l({action:Gi.c}),b()},[b,l]),C=Object(g.useCallback)(()=>{l({action:Gi.w}),t(jm.p({legacyAction:jm.g(),items:n})),b()},[t,n,b,l]),j=Object(g.useCallback)(()=>{l({action:Gi.J}),t(jm.p({legacyAction:jm.m(),items:n})),m.onClose(),b()},[t,m,n,b,l]),D=Object(g.useCallback)(()=>{l({action:Gi.p}),t(jm.p({legacyAction:jm.c({options:{skipRedirect:!0}}),items:n})),b()},[t,n,b,l]),P=Object(g.useCallback)(()=>{l({action:Gi.h}),t(jm.p({legacyAction:jm.b(),items:n})),m.onClose(),b()},[t,m,n,b,l]),T=Object(g.useCallback)(()=>{l({action:Gi.H}),t(jm.p({legacyAction:jm.k(),items:n})),m.onClose(),b()},[t,m,n,b,l]),w=Object(g.useCallback)(()=>{l({action:Gi.W}),t(jm.p({legacyAction:jm.q(),items:n})),m.onClose(),b()},[t,m,n,b,l]),N=Object(g.useCallback)(()=>{const e=s.isMarkPlayedVisible;l({action:e?Gi.G:Gi.F}),n.forEach(({metadataItem:a,server:n,provider:i})=>{t(Ki.a.actions.playedStatusUpdateRequested({server:n,provider:i,sourceURI:a.sourceURI,ratingKey:a.ratingKey,played:e}))}),b()},[t,s.isMarkPlayedVisible,n,b,l]),x=Object(g.useCallback)(({targetServer:e,targetProvider:a,targetLibrarySectionID:i,targetLibraryType:r})=>{l({action:Gi.b}),n.forEach(({metadataItem:n,server:s,provider:o})=>{t(Ki.a.actions.addToLibraryRequested({targetServer:e,targetProvider:a,targetLibrarySectionID:i,targetLibraryType:r,server:s,provider:o,metadataItem:n}))}),b()},[t,n,b,l]),A=Object(g.useCallback)(()=>{l({action:Gi.c}),h.onOpen()},[h,l]),L=Object(g.useCallback)(()=>{t(Tr.actions.reset())},[t]);if(Object(g.useEffect)(()=>()=>{b()},[b]),!r)return null;const k=Object(qp.a)(s).every(([e,t])=>"isMarkPlayedVisible"===e||"isMarkUnplayedVisible"===e||!t),R=Object(qp.a)(s).some(([e,t])=>!yh.includes(e)&&t),z=n.every(({metadataItem:e})=>e.remoteMedia);return y.a.createElement(Jm,{className:e},y.a.createElement("div",{className:ph.a.count},y.a.createElement(ns.a,{className:ph.a.icon}),Object(Ce.default)("{count} items selected",{count:c})),k?y.a.createElement("div",{className:ph.a.actions},Object(Ce.default)("No actions available for this selection")):y.a.createElement("div",{className:ph.a.actions},s.isPlayVisible?y.a.createElement(Nm,{className:ph.a.button,title:Object(Ce.default)("Play"),icon:dh,onPress:I}):null,s.isMarkPlayedOrUnplayedVisible?y.a.createElement(Nm,{className:ph.a.button,title:s.isMarkPlayedVisible?Object(Ce.default)("Mark as Played"):Object(Ce.default)("Mark as Unplayed"),icon:s.isMarkPlayedVisible?ih:sh,onPress:d.onOpen}):null,s.isAddToPlaylistVisible?y.a.createElement(y.a.Fragment,null,y.a.createElement(Nm,{id:f,icon:eh,title:Object(Ce.default)("Add to Playlist"),onPress:A}),y.a.createElement(Zc,{isOpen:h.isOpen,playlistType:li(o[0].type,o[0].subtype),sourceURI:mh(o),defaultDestinationSource:o[0].source,defaultPlaylistTitle:Object(Cm.a)(o.map(({title:e})=>e)),isDestinationMenuHidden:!0,onModalClose:h.onClose,onPlaylistSave:M})):null,s.isEditVisible?y.a.createElement(Nm,{className:ph.a.button,title:Object(Ce.default)("Edit"),icon:ah,onPress:C}):null,R?y.a.createElement(Nm,{id:p,className:ph.a.button,title:Object(Ce.default)("More"),icon:lh,onPress:m.onToggle}):null,y.a.createElement(Xc.a,{isOpen:d.isOpen,metricsPage:s.isMarkPlayedVisible?It.t:It.s,title:s.isMarkPlayedVisible?Object(Ce.default)("Mark as Played"):Object(Ce.default)("Mark as Unplayed"),message:s.isMarkPlayedVisible?(U=n.length,1===U?Object(Ce.default)("Are you sure you want to mark this item as played?"):Object(Ce.default)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:U})):hh(n.length),onConfirm:N,onCancel:d.onClose}),y.a.createElement(Xs.a,{target:p,isOpen:m.isOpen,onMenuClose:m.onClose},s.isPlayVisible?y.a.createElement(Js.a,{onPress:S},Object(Ce.default)("Shuffle")):null,s.isPlayVisible?y.a.createElement(Js.a,{onPress:E},Object(Ce.default)("Play Next")):null,s.isPlayVisible?y.a.createElement(Js.a,{onPress:O},Object(Ce.default)("Add to Queue")):null,s.isRefreshVisible?y.a.createElement(Js.a,{onPress:w},Object(Ce.default)("Refresh Metadata")):null,s.isAnalyzeVisible?y.a.createElement(Js.a,{onPress:P},Object(Ce.default)("Analyze")):null,s.isOptimizeVisible?y.a.createElement(Js.a,{onPress:j},Object(Ce.default)("Optimize...")):null,s.isMergeVisible?y.a.createElement(Js.a,{onPress:T},Object(Ce.default)("Merge")):null,s.isAddToLibraryVisible?y.a.createElement(po,{onAddToLibrary:x}):null,s.isDeleteVisible?y.a.createElement(Js.a,{kind:z?da.Default:da.Danger,onPress:Object(to.a)(u.onOpen,m.onClose)},z?Object(Ce.default)("Remove"):Object(Ce.default)("Delete")):null),y.a.createElement(Xc.a,{isOpen:u.isOpen,metricsPage:It.k,title:z?Object(Ce.default)("Remove"):Object(Ce.default)("Delete"),message:gh(c,z),onConfirm:D,onCancel:u.onClose})),y.a.createElement("div",{className:ph.a.deselect},y.a.createElement(ga,{onPress:L},y.a.createElement(Ql.a,{className:ph.a.icon}),Object(Ce.default)("Deselect All"))));var U}var bh=a("sfIp"),vh=a("2bcr"),Ih=a("oSTF"),Sh=a("3518"),Eh=a("9YI8"),Oh=a.n(Eh);function Mh(e){const{className:t,machineIdentifier:a,shouldRender:n,showButton:i}=e;return n?y.a.createElement("div",{className:t},y.a.createElement("div",{className:Oh.a.messageContainer},y.a.createElement(Sh.a,{className:Oh.a.icon}),y.a.createElement("div",{className:Oh.a.message},Object(Ce.default)("Guide data for this DVR will no longer be updated after January 1, 2021. Please delete and recreate a new DVR and reschedule your recordings to ensure continued coverage."))),i?y.a.createElement(Ih.a,{className:Oh.a.button,kind:ao.b,to:Object(lm.a)(a,"manage","dvr")},Object(Ce.default)("Get Started")):null):null}Mh.defaultProps={className:Oh.a.container,showButton:!0};var Ch=Mh;var jh=Object(v.b)((function(){return Object(he.a)(vh.b,bh.b,Object(be.a)(ve.h),(e,t,a)=>{const n=qr.l(t.identifier,qr.c),i=e.version&&Object(oo.a)(e.version,so.a.gracenoteAttribution);return{machineIdentifier:e.machineIdentifier,shouldRender:n&&i&&a&&"Plex"===t.epgSource&&e.isFullOwnedServer}})}))(Ch),Dh=a("LgTU"),Ph=a.n(Dh);function Th(e){return!!e&&e<=Date.now()-864e5}function wh({children:e,hub:t}){const[,,a]=Jt(),{metricsContextTuple:n}=Object(Et.d)(),i=a&&t.key?Ea(t.source,{key:t.key,pageType:St.b.List,source:a.id,context:Object(Et.b)(n)}):void 0;return y.a.createElement(Ip,{hub:t},i?y.a.createElement(ga,{to:i},e):e)}function Nh({sourceURI:e}){const t=Object(v.c)(),[a,n]=Jt(),{lastFetchedAt:i,sourceURI:r,hubs:s,isPopulated:o,error:l}=Object(v.d)(Mm),c=Object(v.d)(xm),d=Object(g.useMemo)(()=>s.every(e=>!e.initialSize&&!e.more),[s]),u=Object(g.useCallback)(()=>{t(Em.actions.fetchHubsRequested({server:a,provider:n,sourceURI:e}))},[t,n,a,e]);Nl({},o),Om(u);const{scrollRestoreProps:p,onScrollPositionReady:m}=ia({key:"DirectoryHubsPage"});if(Object(g.useEffect)(()=>{o&&(Th(i)||e!==r)&&t(Em.actions.resetHubs())},[t,i,r,e,o]),Object(g.useEffect)(()=>{e!==r&&t(Em.actions.fetchHubsRequested({server:a,provider:n,sourceURI:e}))},[t,r,a,e]),Object(g.useEffect)(()=>(t(Em.actions.markHubsStaleCanceled()),()=>{t(Em.actions.markHubsStaleRequested())}),[t]),Th(i)||e!==r||!o&&!l)return y.a.createElement(Re,null,y.a.createElement(Ge,null));if(l){const{status:e}=l;return 404===e?y.a.createElement(va,null):y.a.createElement(Ue,null,y.a.createElement(ba,{kind:da.Primary,onPress:u},Object(Ce.default)("Retry")))}return o&&d?y.a.createElement(mm,null):y.a.createElement(y.a.Fragment,null,c?y.a.createElement(fh,null):null,y.a.createElement(Dp,{className:Ph.a.pageContentScroller,...p},y.a.createElement(jh,{className:Ph.a.banner,serverEntityID:a.entityID,providerEntityID:n.entityID}),y.a.createElement(Op,{hubs:s,hubComponent:gp,hubTitleComponent:wh,onHubsReady:m})))}var xh=a("4+Le"),Ah=a("DzTo"),Lh=a.n(Ah);function kh({className:e=Lh.a.underlay,metadataItem:t,keyAttribute:a,...n}){const i=Ya(t,a);return i?y.a.createElement(ga,{className:e,to:i,...n}):null}function Rh({className:e,metadataItem:t}){const a=Object(Pi.a)({useLongName:!1,episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return y.a.createElement("span",{className:e},y.a.createElement("span",{title:t.title},a))}var zh=a("JrF9"),Uh=a.n(zh);function Vh({className:e=Uh.a.selectButtonContainer,visibleClassName:t=Uh.a.isVisible,isSelected:a,isInSelectionRange:n,isVisible:i,title:r,tabIndex:s,onPress:o}){return y.a.createElement("div",{className:Pe()(e,i&&t)},y.a.createElement(Ad,{className:Uh.a.selectButton,isSelected:a,isInSelectionRange:n,title:r,tabIndex:s,"aria-hidden":-1===s?"true":void 0,onPress:o}))}var Bh=a("ixBV"),Fh=a.n(Bh);const Hh=parseInt(yu.a.summaryCellPadding,10);function _h({metadataItem:e,metadataItemState:t,style:a,cellHeight:n,cellIndex:i,isParentDetailHidden:r}){const[s,o]=Jt(),l=Object(v.d)(Bs.b),c=Fa(null==e?void 0:e.sourceURI),{hoverRef:d,actionsMenuButtonID:u,isHovered:p,isActionsPending:m,isActionsVisible:h,isActionsMenuOpen:f,onActionsMenuClose:b,onActionsMenuCloseComplete:I,onActionsMenuToggle:S}=Qr({server:s,provider:o,metadataItem:e,metadataItemState:t}),{isSelected:E,isInSelectionRange:O,isSelectionActive:M,onToggleSelect:C}=Ur({isHovered:p,metadataItem:e,metadataItemState:t}),j=Object(g.useMemo)(()=>O?Fh.a.rangeListRow:E?Fh.a.selectedListRow:void 0,[O,E]),D=bo({server:s,provider:o,metadataItem:e,metadataItemState:t}),P=!M&&h,T=qi(e),w=Object(g.useCallback)(()=>{C()},[C]),N=Object(g.useCallback)(()=>{T({action:Gi.w}),D(Object(Fs.editMetadataItem)())},[D,T]),{type:x,subtype:A,childCount:L,duration:k,originallyAvailableAt:R,summary:z}=e,U=Qa(x,A),V=Ga({height:n-2*Hh,aspectRatio:U}),B=Go({server:s,provider:o,metadataItem:e,metadataItemState:t,stableUser:l}),F=qo({server:s,provider:o,metadataItem:e,metadataItemState:t,stableUser:l});return y.a.createElement(xc,{className:j,alternateClassName:j,isAlternate:!!(i%2),isHovered:p,style:a,ref:d},Ld(o)?y.a.createElement(Vh,{isSelected:E,isInSelectionRange:O,isVisible:E||O||p,title:Kr(e),tabIndex:M?-1:void 0,onPress:w}):null,M?y.a.createElement(ga,{className:Fh.a.selectOverlay,onPress:w}):y.a.createElement(kh,{metadataItem:e,keyAttribute:"key","aria-label":Kr(e)}),y.a.createElement("div",{className:Fh.a.overlay},y.a.createElement("div",{className:Fh.a.summaryContainer},y.a.createElement("div",{className:Fh.a.posterContainer},y.a.createElement(nu,{metadataItem:e,metadataItemState:t,metadataTimelineState:c,width:V.width,height:V.height,aspectRatio:U,isSelectHidden:!0,isPlayButtonCard:!0})),y.a.createElement("div",{className:Fh.a.titlesContainer},y.a.createElement("div",{className:Fh.a.titleContainer},y.a.createElement(qa,{className:z?Fh.a.singleTitle:Fh.a.doubleTitle,allowLink:!1,metadataItem:e})),y.a.createElement("div",{className:Fh.a.subtitle},r?null:y.a.createElement(Ri,{allowLink:!1,metadataItem:e}),r&&e.type===Ha.d.Episode?y.a.createElement(y.a.Fragment,null,y.a.createElement(Rh,{metadataItem:e}),R?y.a.createElement(y.a.Fragment,null,y.a.createElement(Hi.b,{separator:"·"}),y.a.createElement(ri,{metadataItem:e})):null):null,r&&e.type===Ha.d.Album?y.a.createElement(vr,{metadataItem:e}):null,e.type===Ha.d.Movie||e.type===Ha.d.Show?y.a.createElement(vr,{metadataItem:e}):null,L?y.a.createElement(y.a.Fragment,null,y.a.createElement(Hi.b,{separator:"·"}),y.a.createElement(pi,{metadataItem:e})):null,k?y.a.createElement(y.a.Fragment,null,y.a.createElement(Hi.b,{separator:"·"}),y.a.createElement(ji,{metadataItem:e})):null,B&&(p&&!M||t.userRating)?y.a.createElement(gr,{className:Fh.a.userRatingContainer,metadataItem:e}):null),z?y.a.createElement("div",{className:Fh.a.summary},z):null),P?y.a.createElement("div",{className:Fh.a.actions},F?y.a.createElement(ga,{className:Fh.a.actionsButton,"data-qa-id":"metadataRowEditButton",onPress:N},y.a.createElement(kd.a,null)):null,y.a.createElement(wd,{id:u,className:Fh.a.actionsButton,"data-qa-id":"metadataRowMoreButton",isPending:m,onPress:S})):null)),y.a.createElement(jd,{target:u,isOpen:f,metadataItem:e,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:b,onMenuCloseComplete:I}))}function Wh({item:e,isParentDetailHidden:t,...a}){const n=Va(null==e?void 0:e.sourceURI),i=Cr(a),{cellIndex:r,cellHeight:s}=a;return e?y.a.createElement(Da,{metadataItem:e,metadataItemState:n},y.a.createElement(_h,{style:i.style,cellIndex:r,cellHeight:s,metadataItem:e,metadataItemState:n,isParentDetailHidden:t})):y.a.createElement(kc,{style:i.style,index:r})}const Qh=parseInt(yu.a.summaryCellHeight,10);var Gh=function(e){return bc({rowHeight:Qh,overscan:2,...e})};const Kh=parseInt(yu.a.v4PagePadding,10);function Yh({className:e,items:t,totalSize:a,scrollerKey:n,smoothScroll:i,targetScrollIndex:r,onPageRequest:s,onListReady:o}){const l=Object(g.useMemo)(()=>Gh({outerPaddingLeft:Kh}),[]),c=Object(g.useCallback)(e=>y.a.createElement(Et.a,{key:e.key,row:e.row},y.a.createElement(Wh,{...e})),[]);return y.a.createElement(Pc,{className:e,layout:l,cellComponentFactory:c,keyPropName:"listItemKey",items:t,totalSize:a,autoScroll:!1,smoothScroll:i,scrollerKey:n,targetScrollIndex:r,onPageRequest:s,onListReady:o})}var qh=a("XUCZ");var Zh=function(e){switch(e){case 16/9:return 114;case 1/1.5:return 64;case 1:return 74}Object(Vs.a)(!1,"Unknown aspectRatio "+e)},Xh=a("kTPH"),Jh=a.n(Xh);function $h({metadataItem:e,style:t,cellIndex:a}){const n=sm({key:e.key}),[i,r]=Wr(),s=Qa(Nt.b.Folder),o=Ga({width:Zh(s),aspectRatio:s});return y.a.createElement(xc,{isAlternate:!!(a%2),isHovered:i,style:t,ref:r},y.a.createElement(ga,{className:Jh.a.underlay,to:n,"aria-label":Kr(e)}),y.a.createElement("div",{className:Jh.a.overlay},y.a.createElement("div",{className:Jh.a.posterContainer},y.a.createElement(Na,{style:o},y.a.createElement(bs,{width:o.width,height:o.height},y.a.createElement(qh.a,null)))),y.a.createElement("div",{className:Jh.a.titlesContainer},y.a.createElement(qa,{className:Jh.a.doubleTitle,metadataItem:e,allowLink:!1}))))}function eg({item:e,...t}){const a=Va(null==e?void 0:e.sourceURI),n=Cr(t),{cellIndex:i}=t;return e?y.a.createElement(Da,{metadataItem:e,metadataItemState:a},y.a.createElement($h,{style:n.style,cellIndex:i,metadataItem:e})):y.a.createElement(kc,{style:n.style,index:i})}const tg=parseInt(yu.a.v4PagePadding,10);function ag({className:e,items:t,totalSize:a,scrollerKey:n,smoothScroll:i,targetScrollIndex:r,onPageRequest:s,onListReady:o}){const l=Object(g.useMemo)(()=>Gh({outerPaddingLeft:tg}),[]),c=Object(g.useCallback)(e=>{var t;return y.a.createElement(Et.a,{key:e.key,row:e.row},(null==(t=e.item)?void 0:t.isFolder)?y.a.createElement(eg,{...e}):y.a.createElement(Wh,{...e}))},[]);return y.a.createElement(Pc,{className:e,layout:l,cellComponentFactory:c,keyPropName:"listItemKey",items:t,totalSize:a,autoScroll:!1,smoothScroll:i,scrollerKey:n,targetScrollIndex:r,onPageRequest:s,onListReady:o})}var ng=a("Xw7/"),ig=a("381m"),rg=a.n(ig);function sg({item:e,...t}){const{metricsContextTuple:a}=Object(Et.d)(),[n,i,r]=Jt(),{containerType:s,containerSubtype:o,listStyle:l}=Ma(),c=Va(null==e?void 0:e.sourceURI),[d,u]=Wr(),p=Cr(t),m=Object(g.useMemo)(()=>Qa(s,o,{listStyle:l}),[o,s,l]),h=Object(g.useMemo)(()=>Ga({width:t.cellWidth,aspectRatio:m}),[m,t.cellWidth]);if(!e)return y.a.createElement("div",{style:p.style},y.a.createElement(La,{style:h,index:t.cellIndex}));const f=Object(ng.a)(n,i,r,{pageType:e.type===Ha.d.Hub?St.b.Hub:St.b.List,key:e.key,context:Object(Et.b)(a)});return y.a.createElement(Da,{metadataItem:e,metadataItemState:c},y.a.createElement("div",{style:p.style},y.a.createElement(Na,{style:h,ref:u},y.a.createElement(ot.a,{className:rg.a.image,serverEntityID:n.entityID,providerEntityID:i.entityID,url:e.icon||e.thumb,width:h.width,height:h.height,component:at.a,preloadOnMount:!1,animateOnMount:!1,backgroundSize:e.icon?"75%":"cover"}),y.a.createElement(Ss,{isHovered:d,to:f,"aria-label":Kr(e)}),e.type===Ha.d.Directory?y.a.createElement("div",{className:rg.a.titleContainer},y.a.createElement("span",{className:rg.a.title},e.title)):null)))}const og=parseInt(yu.a.v4PagePadding,10),lg=parseInt(yu.a.v4CardTitleHeight,10),cg=parseInt(yu.a.v4CardTitleGap,10),dg=parseInt(yu.a.gapMedium,10);function ug({listType:e,subtype:t,listStyle:a,displayFields:n,displayImages:i,columnWidth:r,...s}){const o=Qa(e,t,{listStyle:a,displayImageType:Br(e,t,i)}),l=s.titleCount?s.titleCount:hu(e,t,{listStyle:a,displayFields:n}),c=l?lg*l+cg:0,d=o===16/9?2*r+dg:r,u=Math.floor(d/o+c);return fc({direction:hc.Vertical,getCellWidth:()=>d,getCellHeight:()=>u,innerHorizontalPadding:dg,innerVerticalPadding:dg,overscan:1,outerPaddingRight:og,outerPaddingLeft:og,...s})}var pg=function(e){switch(e){case Nt.b.Directory:case Nt.b.Content:case Nt.b.Channel:return!0;default:return!1}};const mg=parseInt(yu.a.v4PagePadding,10),hg=parseInt(yu.a.v4PagePaddingAlt,10),gg=parseInt(yu.a.jumpBarGutter,10);function yg({className:e,listType:t,subtype:a,items:n,totalSize:i,scrollerKey:r,smoothScroll:s,targetScrollIndex:o,onPageRequest:l,onListReady:c}){const d=Object(v.d)(Fu),{containerMeta:u,listStyle:p}=Ma(),m=Object(g.useMemo)(()=>ug({listType:t,subtype:a,columnWidth:d,listStyle:p,displayFields:null==u?void 0:u.DisplayFields,displayImages:null==u?void 0:u.DisplayImage,outerPaddingTop:hg,outerPaddingBottom:hg,outerPaddingRight:mg-gg}),[t,a,d,p,null==u?void 0:u.DisplayFields,null==u?void 0:u.DisplayImage]),h=Object(g.useCallback)(e=>y.a.createElement(Et.a,{key:e.key,row:e.row,column:e.column},pg(t)?y.a.createElement(sg,{...e}):y.a.createElement(cu,{...e})),[t]);return y.a.createElement(Pc,{className:e,layout:m,cellComponentFactory:h,keyPropName:"listItemKey",items:n,totalSize:i,smoothScroll:s,autoScroll:!1,scrollerKey:r,targetScrollIndex:o,onPageRequest:l,onListReady:c})}var fg=a("aIFf");function bg({className:e,metadataItem:t}){const a=Object(fg.a)(t);return a?y.a.createElement("span",{className:e,title:a},a):null}var vg=function(e){switch(e){case Ha.d.Movie:return Object(Ce.default)("Movie");case Ha.d.Show:return Object(Ce.default)("Show");case Ha.d.Season:return Object(Ce.default)("Season");case Ha.d.Episode:return Object(Ce.default)("Episode");case Ha.d.Artist:return Object(Ce.default)("Artist");case Ha.d.Album:return Object(Ce.default)("Album");case Ha.d.Track:return Object(Ce.default)("Track");case Ha.d.Photo:return Object(Ce.default)("Photo");case Ha.d.PhotoAlbum:return Object(Ce.default)("Photo Album");case Ha.d.Person:return Object(Ce.default)("Person");case Ha.d.Clip:return Object(Ce.default)("Clip");case Ha.d.Collection:return Object(Ce.default)("Collection");case Ha.d.Game:return Object(Ce.default)("Game");case Ha.d.Playlist:return Object(Ce.default)("Playlist")}!function(e){throw new Error(`"${e}" is not mapped to a title`)}(e)},Ig=a("OJ00"),Sg=a.n(Ig);function Eg({metadataItem:e,metadataItemState:t,style:a,cellIndex:n}){const[i,r]=Jt(),s=Fa(null==e?void 0:e.sourceURI),o=Ya(e,"key"),l=Object(ng.a)(i,r,null,{key:e.key}),{hoverRef:c,actionsMenuButtonID:d,isHovered:u,isActionsPending:p,isActionsVisible:m,isActionsMenuOpen:h,onActionsMenuClose:g,onActionsMenuCloseComplete:f,onActionsMenuToggle:b}=Qr({server:i,provider:r,metadataItem:e,metadataItemState:t}),{type:v,subtype:I}=e,S=Qa(v,I),E=Ga({width:Zh(S),aspectRatio:S});return y.a.createElement(xc,{isAlternate:!!(n%2),isHovered:u,style:a,ref:c},!e.directory&&o||e.directory?y.a.createElement(ga,{className:Sg.a.underlay,to:e.directory?l:o,"aria-label":Kr(e)}):null,y.a.createElement("div",{className:Sg.a.overlay},y.a.createElement("div",{className:Sg.a.summaryContainer},e.directory?y.a.createElement("div",{className:Sg.a.posterContainer},y.a.createElement(Na,{style:E},y.a.createElement(bs,{width:E.width,height:E.height},y.a.createElement(Fp,{type:e.type})))):y.a.createElement("div",{className:Sg.a.playPosterContainer},y.a.createElement(nu,{playCircleClassName:Sg.a.playCircle,metadataItem:e,metadataItemState:t,metadataTimelineState:s,width:E.width,height:E.height,aspectRatio:S,isSelectHidden:!0,isPlayButtonCard:!0})),y.a.createElement("div",{className:Sg.a.titlesContainer},y.a.createElement("div",{className:Sg.a.titleContainer},y.a.createElement(bg,{className:Sg.a.doubleTitle,metadataItem:e})),y.a.createElement("div",{className:Sg.a.subtitle},function(e){if(e.directory)switch(e.type){case Ha.d.Movie:return Object(Ce.default)("Movie Library");case Ha.d.Show:return Object(Ce.default)("Show Library");case Ha.d.Artist:return Object(Ce.default)("Music Library");case Ha.d.Photo:return Object(Ce.default)("Photo Library")}return vg(e.type)}(e))),m&&!e.directory?y.a.createElement("div",{className:Sg.a.actions},y.a.createElement(wd,{id:d,className:Sg.a.actionsButton,"data-qa-id":"sharedItemMoreButton",isPending:p,onPress:b})):null)),y.a.createElement(jd,{target:d,isOpen:h,metadataItem:e,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:g,onMenuCloseComplete:f}))}function Og({item:e,...t}){const a=Va(null==e?void 0:e.sourceURI),n=Cr(t),{cellIndex:i}=t;return e?y.a.createElement(Da,{metadataItem:e,metadataItemState:a},y.a.createElement(Eg,{style:n.style,cellIndex:i,metadataItem:e,metadataItemState:a})):y.a.createElement(kc,{style:n.style,index:i})}const Mg=parseInt(yu.a.v4PagePadding,10);function Cg({className:e,items:t,totalSize:a,scrollerKey:n,smoothScroll:i,targetScrollIndex:r,onPageRequest:s,onListReady:o}){const l=Object(g.useMemo)(()=>Gh({outerPaddingLeft:Mg}),[]),c=Object(g.useCallback)(e=>y.a.createElement(Et.a,{key:e.key,row:e.row},y.a.createElement(Og,{...e})),[]);return y.a.createElement(Pc,{className:e,layout:l,cellComponentFactory:c,keyPropName:"listItemKey",items:t,totalSize:a,autoScroll:!1,smoothScroll:i,scrollerKey:n,targetScrollIndex:r,onPageRequest:s,onListReady:o})}var jg=a("nXHd");function Dg(e,t){const{playQueueItems:a,currentIndex:n}=e,i=t[a[n]];return null==i?void 0:i.metadataItem}function Pg(e,t){return Object(he.a)(({ui:e})=>{var t;return null==(t=e.audioVideoPlayer)?void 0:t.playQueue},({ui:e})=>{var t;return null==(t=e.photoPlayer)?void 0:t.playQueue},jg.a,(a,n,i)=>{if(!e)return!1;const r=Object(jt.a)(fo.g,e.key,t.entityID);let s,o;a&&(s=Dg(a,i)),n&&(o=Dg(n,i));return s===r||o===r})}var Tg=a("ogHR"),wg=a.n(Tg);function Ng({className:e=wg.a.decoratorIconContainer,iconClassName:t=wg.a.decoratorIcon,iconComponent:a}){return y.a.createElement("span",{className:e},y.a.createElement(a,{className:t}))}var xg=a("nc7K"),Ag=a.n(xg);function Lg({className:e,metadataItem:t}){const{title:a,originalTitle:n}=t;return y.a.createElement("span",{className:e},y.a.createElement("span",{className:Ag.a.titleContainer},y.a.createElement("span",{className:Ag.a.title,"data-qa-id":"trackName"},a,n?y.a.createElement("span",{className:Ag.a.trackArtist},a?y.a.createElement(Hi.b,null):null,n):null),function(e){const{type:t,primaryExtraKey:a}=e;return t===Ha.d.Track&&!!a}(t)?y.a.createElement(Ng,{iconComponent:zp.a}):null))}function kg({className:e,metadataItem:t}){const a=Va(t.sourceURI);if(null==t.duration||null==a.viewOffset)return null;const n=(t.duration-a.viewOffset)/1e3;return y.a.createElement("span",{className:e},jn(n))}var Rg=a("20Ss");function zg({className:e,metadataItem:t}){const{duration:a,preview:n}=t;return n?y.a.createElement("span",{className:e},Object(Ce.default)("Preview")):null!=a?y.a.createElement("span",{className:e},Object(Rg.a)(t.duration)):null}const Ug={flexGrow:2,width:250};var Vg,Bg;(Bg=Vg||(Vg={})).Title="title",Bg.Season="season",Bg.SeasonShow="seasonShow",Bg.EpisodeShow="episodeShow",Bg.AlbumArtist="albumArtist",Bg.TrackAlbumArtist="trackAlbumArtist",Bg.CombinedTitleTrackArtist="combinedTitleTrackArtist",Bg.TrackAlbum="trackAlbum",Bg.Year="year",Bg.UserRating="userRating",Bg.MiniUserRating="miniUserRating",Bg.Duration="duration",Bg.MinutesLeft="minutesLeft",Bg.ViewCount="viewCount",Bg.AddedAt="addedAt",Bg.LastViewedAt="lastViewedAt",Bg.LastRatedAt="lastRatedAt",Bg.MediaBitrate="mediaBitrate",Bg.OriginallyAvailableAt="originallyAvailableAt",Bg.Rating="rating",Bg.ContentRating="contentRating",Bg.ViewOffset="viewOffset",Bg.MediaHeight="mediaHeight",Bg.Downloaded="downloaded";const Fg={key:Vg.Title,ascKey:"titleSort",descKey:"titleSort:desc",component:()=>qa,style:Ug},Hg={key:Vg.Season,ascKey:"season.index,season.titleSort",descKey:"season.index:desc,season.titleSort",component:()=>qa,style:Ug},_g={key:Vg.SeasonShow,ascKey:"show.titleSort,index",descKey:"show.titleSort:desc,index",component:()=>Ri,style:Ug},Wg={key:Vg.EpisodeShow,ascKey:"show.titleSort,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",descKey:"show.titleSort:desc,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",component:()=>xi,style:Ug},Qg={key:Vg.AlbumArtist,ascKey:"artist.titleSort,album.titleSort,album.index,album.id,album.originallyAvailableAt",descKey:"artist.titleSort:desc,album.titleSort,album.index,album.id,album.originallyAvailableAt",component:()=>Ri,style:Ug},Gg={key:Vg.TrackAlbumArtist,ascKey:"artist.titleSort,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",descKey:"artist.titleSort:desc,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",component:()=>xi,style:Ug},Kg={key:Vg.CombinedTitleTrackArtist,component:()=>Lg,style:Ug},Yg={key:Vg.TrackAlbum,ascKey:"album.titleSort",descKey:"album.titleSort:desc",component:()=>Ri,style:Ug},qg={key:Vg.Year,ascKey:"year",descKey:"year:desc",component:()=>vr,style:{width:100}},Zg={key:Vg.UserRating,ascKey:"userRating",descKey:"userRating:desc",component:()=>gr,style:{width:115}},Xg={key:Vg.MiniUserRating,component:()=>gr,style:{width:75,padding:0}},Jg={key:Vg.Rating,ascKey:"rating",descKey:"rating:desc",component:()=>Ci,style:{width:150}},$g={key:Vg.ContentRating,ascKey:"contentRating",descKey:"contentRating:desc",component:()=>gi,style:{width:100}},ey={key:Vg.Duration,ascKey:"duration",descKey:"duration:desc",component:(e,t)=>{switch(t){case Ha.c.Podcast:switch(e){case Ha.d.Track:return ji}}switch(e){case Ha.d.Track:return zg;default:return ji}},style:{width:125}},ty={key:Vg.MinutesLeft,component:()=>kg,style:{width:150}},ay={key:Vg.ViewCount,ascKey:"viewCount",descKey:"viewCount:desc",component:()=>zi,style:{width:100}},ny={key:Vg.ViewOffset,ascKey:"viewOffset",descKey:"viewOffset:desc",component:()=>kg,style:{width:150}},iy={key:Vg.AddedAt,ascKey:"addedAt",descKey:"addedAt:desc",component:()=>tn,style:{width:175}},ry={key:Vg.LastViewedAt,ascKey:"lastViewedAt",descKey:"lastViewedAt:desc",component:()=>ki,style:{width:175}},sy={key:Vg.LastRatedAt,ascKey:"lastRatedAt",descKey:"lastRatedAt:desc",component:()=>Li,style:{width:175}},oy={key:Vg.OriginallyAvailableAt,ascKey:"originallyAvailableAt",descKey:"originallyAvailableAt:desc",component:()=>ri,style:{width:175}},ly={key:Vg.MediaBitrate,ascKey:"mediaBitrate",descKey:"mediaBitrate:desc",component:()=>ci,style:{width:110}},cy={key:Vg.MediaHeight,ascKey:"mediaHeight",descKey:"mediaHeight:desc",component:()=>fr,style:{width:110}};var dy=[iy,Qg,Kg,ey,Wg,sy,ry,ly,Xg,Hg,_g,Fg,Yg,Gg,ty,Zg,ay,qg,Jg,$g,ny,oy,ly,cy],uy=a("OhLM"),py=a.n(uy);function my({className:e=py.a.title,cellClassName:t=py.a.tableCell,activeCellClassName:a=py.a.activeTableCell,style:n,component:i,type:r,isActiveSort:s,...o}){return y.a.createElement("div",{className:s?a:t,style:n},y.a.createElement(i,{...o,className:e}))}var hy=a("//Cn"),gy=a("x3ko"),yy=a.n(gy);function fy(e,t){return Math.random()*(t-e)+e}class by extends g.Component{constructor(e,t){super(e,t),this._setBarValues(e),this.state=this._getInitialState(!0)}componentDidMount(){if(!this.props.isPaused)for(let e=0,t=this._bars.length;e<t;e++)this._setTransitionTimeout(e)}componentWillReceiveProps(e){const t=e.isPaused!==this.props.isPaused,a=e.width!==this.props.width,n=e.barCount!==this.props.barCount,i=e.barGap!==this.props.barGap;(t||a||n||i)&&(this._clearAllTransitionTimeouts(),this._setBarValues(e),this.setState(this._getInitialState(e.isPaused)))}componentDidUpdate(e,t){if(!this.props.isPaused)for(let e=0,a=this._bars.length;e<a;e++){const a=this._bars[e];t[a]!==this.state[a]&&this._setTransitionTimeout(e)}}componentWillUnmount(){this._clearAllTransitionTimeouts()}_setBarValues({width:e,barCount:t,barGap:a}){const n=a*(t-1);this._barGap=a,this._barWidth=Math.floor((e-n)/t),this._bars=[];for(let e=0,a=t;e<a;e++)this._bars.push("bar"+e)}_getInitialState(e){return this._bars.reduce((t,a,n)=>(t[a]=this._getRandomStyle(n,e),t),{})}_getRandomStyle(e,t){const{unit:a}=this.props,n=e*(this._barWidth+this._barGap),i=`scaleY(${t?.2:fy(.2,1)})`,r=fy(300,500);return{left:`${n}${a}`,width:`${this._barWidth}${a}`,backgroundColor:this.props.barColor,transitionDuration:r+"ms",WebkitTransform:i,msTransform:i,transform:i}}_setTransitionTimeout(e){const t=this._bars[e],a=t+"TimeoutID",n=this.state[t],i=Object(Zi.a)(n.transitionDuration)-100;this[a]=window.setTimeout(()=>{this.setState({[t]:this._getRandomStyle(e)})},i)}_clearAllTransitionTimeouts(){for(let e=0,t=this._bars.length;e<t;e++){const t=this._bars[e]+"TimeoutID";window.clearTimeout(this[t])}}render(){const{className:e,width:t,height:a,unit:n}=this.props;return y.a.createElement("div",{className:e,style:{width:`${t}${n}`,height:`${a}${n}`}},this._bars.map(e=>y.a.createElement("div",{key:e,className:yy.a.bar,style:this.state[e]})))}}by.defaultProps={className:yy.a.equalizer,width:14,height:14,barColor:"#fff",barCount:3,barGap:2,isPaused:!0,unit:"px"};var vy=by,Iy=a("hFcZ");var Sy=function(e){return y.a.createElement(vy,{...e,barColor:Iy.a.equalizerBarColor})};function Ey({className:e,buttonClassName:t,buttonTabIndex:a,style:n,metadataItem:i,isActionsPending:r,isSelectionActive:s,menuButtonID:o,onMenuButtonPress:l}){const[c,d]=Jt(),u=Va(i.sourceURI),p=Object(v.d)(Bs.b),m=bo({server:c,provider:d,metadataItem:i,metadataItemState:u}),h=qi(i),f=qo({server:c,provider:d,stableUser:p,metadataItem:i,metadataItemState:u}),b=Object(g.useCallback)(()=>{h({action:Gi.w}),m(Fs.editMetadataItem())},[m,h]);return y.a.createElement("div",{className:e,style:n},!s&&f?y.a.createElement(ga,{"data-qa-id":"metadataRowEditButton",className:t,tabIndex:a,"aria-label":Object(Ce.default)("Edit {title}",{title:Kr(i)}),onPress:b},y.a.createElement(kd.a,null)):null,s?null:y.a.createElement(wd,{id:o,"data-qa-id":"metadataRowMoreButton",className:t,tabIndex:a,isPending:r,onPress:l}))}var Oy=a("smKM"),My=a.n(Oy);const Cy={width:parseInt(yu.a.actionsCellWidth,10),justifyContent:"flex-end",padding:`0 ${parseInt(yu.a.actionsCellPadding,10)}px`};function jy({tableColumn:e,metadataItemState:t,isActionsVisible:a,isSelectionActive:n,isTransientColumn:i}){const{key:r,style:s}=e;return r===Xg.key?{...s,opacity:n||!a&&null==t.userRating?0:1}:i?{...s,...Cy}:s}function Dy({style:e,cellIndex:t,index:a,metadataItem:n,metadataItemState:i,tableColumns:r,hasTransientActionsCell:s=!1}){const[o,l]=Jt(),c=Object(v.d)(Bs.b),d=Object(v.d)(Pg(n,o)),u=Object(v.d)(Object(hy.a)(Rm.a.AudioVideo,"isPaused")),{hoverRef:p,actionsMenuButtonID:m,isHovered:h,isActionsPending:f,isActionsVisible:b,isActionsMenuOpen:I,onActionsMenuClose:S,onActionsMenuCloseComplete:E,onActionsMenuToggle:O}=Qr({server:o,provider:l,metadataItem:n,metadataItemState:i}),{isSelected:M,isInSelectionRange:C,isSelectionActive:j,onToggleSelect:D}=Ur({isHovered:h,metadataItem:n,metadataItemState:i}),P=Object(g.useMemo)(()=>C?My.a.rangeListRow:M?My.a.selectedListRow:void 0,[C,M]),T=Object(g.useRef)(null),w=r[r.length-1],N=w.component(n.type,n.subtype),x=Object(g.useCallback)(()=>{D()},[D]),A=Object(g.useCallback)(e=>{e.which===Tl.d&&n&&D()},[n,D]),[L,k,R]=Qu(),z=L||b,U=z&&Uo({server:o,provider:l,stableUser:c,metadataItem:n,metadataItemState:i}),V=z&&!j;return y.a.createElement(xc,{className:P,alternateClassName:P,style:e,isAlternate:!!(t%2),isHovered:h||L,ref:p,onFocus:k,onBlur:R},Ld(l)?y.a.createElement(Vh,{isSelected:M,isInSelectionRange:C,isVisible:M||C||L||h,title:Kr(n),tabIndex:j?-1:void 0,"aria-hidden":"true",onPress:x}):null,j?y.a.createElement(ga,{key:"focusLink",className:My.a.overlay,tabIndex:0,"aria-label":Object(Ce.default)("Select {title}",{title:Kr(n)}),ref:T,onPress:j?x:void 0,onKeyPress:A}):null,y.a.createElement("div",{className:My.a.playCell},!d&&!U||j?a:null,j||d||!U?null:y.a.createElement(Zs,{tabIndex:0,metadataItem:n}),d&&!j?y.a.createElement(Sy,{isPaused:u}):null),r.map((e,t)=>{if(t===r.length-1)return null;const{key:a,component:s}=e,o=s(n.type,n.subtype);return y.a.createElement(my,{key:a,className:Pe()(My.a.title,t>0&&My.a.isSecondary,j&&My.a.isSelectionActive),cellClassName:0===t?My.a.firstTableCell:void 0,style:jy({tableColumn:e,metadataItemState:i,isActionsVisible:z,isSelectionActive:j,isTransientColumn:!1}),tabIndex:j?"-1":void 0,component:o,metadataItem:n})}),X.a.allowSyncDownload?y.a.createElement(Us,{className:Pe()(My.a.downloadIcon,!s&&My.a.outsideIcon,V&&My.a.hiddenIcon),metadataItem:n}):null,s&&V?null:y.a.createElement(my,{className:Pe()(My.a.title,My.a.isSecondary,j&&My.a.isSelectionActive),cellClassName:void 0,style:jy({tableColumn:w,metadataItemState:i,isActionsVisible:z,isSelectionActive:j,isTransientColumn:s}),tabIndex:j?"-1":void 0,component:N,metadataItem:n}),!s||V?y.a.createElement(Ey,{key:"actionsCell",className:My.a.actionsCell,buttonClassName:My.a.actionsButton,style:{...Cy,opacity:z?1:0},isActionsPending:f,isSelectionActive:j,metadataItem:n,menuButtonID:m,onMenuButtonPress:O}):null,y.a.createElement(jd,{target:m,isOpen:I,metadataItem:n,onMenuClose:S,onMenuCloseComplete:E}))}function Py({item:e,index:t,tableColumns:a,hasTransientActionsCell:n,...i}){const r=Va(null==e?void 0:e.sourceURI),s=Cr(i),{cellIndex:o}=i;return e?y.a.createElement(Da,{metadataItem:e,metadataItemState:r},y.a.createElement(Dy,{style:s.style,cellIndex:o,index:t,metadataItem:e,metadataItemState:r,tableColumns:a,hasTransientActionsCell:n})):y.a.createElement(kc,{style:s.style,index:o})}const Ty=parseInt(yu.a.tableRowHeight,10),wy=parseInt(yu.a.v4PagePadding,10);var Ny=function(e){return bc({rowHeight:Ty,outerPaddingRight:wy,outerPaddingLeft:wy,...e})},xy=a("t2mA"),Ay=a("2Am/"),Ly=a("2E08"),ky=a("ESci"),Ry=a.n(ky);function zy({className:e=Ry.a.sortDirectionIcon,isAscending:t=!0,...a}){const n=t?Ay.a:Ly.a;return y.a.createElement(n,{className:e,"aria-label":t?Object(Ce.default)("Ascending"):Object(Ce.default)("Descending"),...a})}var Uy=a("Gopy"),Vy=a.n(Uy);function By({className:e=Vy.a.tableHeader,...t}){return y.a.createElement("div",{...t,className:e})}var Fy=a("c7dm"),Hy=a.n(Fy);function _y({className:e=Hy.a.tableHeaderCell,activeClassName:t=Hy.a.activeTableHeaderCell,children:a,isActive:n=!1,...i}){const r=n?t:e;return y.a.createElement("span",{...i,className:r},a)}var Wy=a("FVT0"),Qy=a.n(Wy);function Gy({className:e=Qy.a.tableHeaderLink,children:t,...a}){return y.a.createElement(ga,{...a,className:e},t)}var Ky,Yy,qy=a("cora"),Zy=a.n(qy);function Xy({className:e=Zy.a.tableHeaderTitle,children:t,...a}){return y.a.createElement("span",{...a,className:e},t)}(Yy=Ky||(Ky={})).Up="up",Yy.Right="right",Yy.Down="down",Yy.Left="left";var Jy=Ky;var $y=function(e,t){return e?e.reduce((e,a)=>{const n=dy.find(e=>a.key===e.ascKey&&a.descKey===e.descKey);return!n||t&&!t.includes(n.key)||e.push({sort:a,tableColumn:n}),e},[]):[]};var ef=function(e){return e.active?e.activeDirection===_a.f.Ascending?e.descKey:e.key:e.defaultDirection===_a.f.Ascending?e.key:e.descKey};function tf(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-table-columns"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{clipRule:"evenodd",d:"M0 0H14V48H0V0ZM25 0H31V48H25V0ZM48 0H42V48H48V0Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}tf.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var af=tf,nf=a("Qy3a"),rf=a.n(nf);const sf={placement:"top-start",modifiers:[{name:"offset",options:{offset:[5]}}]};function of({className:e=rf.a.tableHeader,width:t,activeTableColumnSorts:a,typeKeySourceURI:n,sorts:i}){const r=Object(v.c)(),s=Object(_r.a)(),o=ul(),{containerKey:l}=Ma(),c=Object(g.useMemo)(()=>$y(i),[i]),d=Object(g.useMemo)(()=>Hn("directoryTableColumns"),[]),u=Object(v.d)(d),p=Object(g.useCallback)(e=>{const t=function(e,t){const a=new Set(t.map(({tableColumn:e})=>e.key));return a.has(e)?a.delete(e):a.add(e),Array.from(a)}(e,a);if(t.length<1)return;const i={...u,[n]:t};Object(Dt.a)(()=>{r(Object(xy.l)({directoryTableColumns:i}))})},[a,u,n,r]);return y.a.createElement(By,{className:e,style:{width:t}},y.a.createElement(ga,{id:s,className:rf.a.columnMenuButton,"aria-label":Object(Ce.default)("Change Columns"),size:_e.Medium,onPress:o.onToggle},y.a.createElement(af,null),y.a.createElement(oc.a,{direction:o.isOpen?Jy.Up:Jy.Down,size:_e.Medium})),a.map(({tableColumn:e,sort:t},a)=>y.a.createElement(Gy,{key:e.key,style:e.style,to:sm({key:j.default.join(l,{sort:ef(t)},{parseParams:!0})})},y.a.createElement(_y,{className:0===a?rf.a.firstTableHeaderCell:rf.a.tableHeaderCell,activeClassName:0===a?rf.a.firstActiveTableHeaderCell:rf.a.activeTableHeaderCell,isActive:t.active},y.a.createElement(Xy,{title:t.title},t.title),t.active?y.a.createElement(zy,{isAscending:t.activeDirection===_a.f.Ascending}):null))),y.a.createElement(_y,{className:rf.a.actionsTableHeaderCell}),y.a.createElement(Xs.a,{target:s,isOpen:o.isOpen,options:sf,onMenuClose:o.onClose},c.map(({sort:e,tableColumn:t})=>{const n=a.find(({tableColumn:e})=>e===t);return y.a.createElement(uc.a,{key:t.key,isSelected:!!n,value:t.key,onSelect:p},e.title)})))}var lf=function(e,t,a){return Object(he.a)(Hn("directoryTableColumns"),a=>{if(!e)return[];const n=a[e];if(n)return n;switch(t){case Nt.b.Movie:return[Fg.key,qg.key];case Nt.b.Show:return[Fg.key];case Nt.b.Season:return[Hg.key,_g.key];case Nt.b.Episode:return[Fg.key,Wg.key];case Nt.b.Artist:return[Fg.key];case Nt.b.Album:return[Fg.key,Qg.key,qg.key];case Nt.b.Track:return[Fg.key,Gg.key,Yg.key,ey.key]}return[Fg.key]})};var cf=function(e,t){return Object(he.a)(lf(e,null==t?void 0:t.type,null==t?void 0:t.subtype),e=>(null==t?void 0:t.Sort)?$y(t.Sort,e):[])};const df=parseInt(yu.a.v4PagePadding,10),uf=parseInt(yu.a.actionsCellWidth,10),pf=parseInt(yu.a.playCellWidth,10);function mf({className:e,activeType:t,items:a,totalSize:n,smoothScroll:i,scrollerKey:r,targetScrollIndex:s,onPageRequest:o,onListReady:l}){const[c,d]=Jt(),u=Object(Ct.a)({serverIdentifier:c.machineIdentifier,providerIdentifier:null==d?void 0:d.identifier}),p=t?`${u}${t.key}`:void 0,m=Object(g.useMemo)(()=>cf(p,t),[t,p]),h=Object(v.d)(m),f=Object(g.useMemo)(()=>h.reduce((e,{tableColumn:t})=>e+t.style.width,pf+uf),[h]),b=Object(g.useMemo)(()=>Ny({overscan:1,outerPaddingRight:0,rowWidth:f}),[f]),I=Object(g.useCallback)(e=>(null==t?void 0:t.Sort)&&p?y.a.createElement(of,{width:Math.max(df+f,e.width),activeTableColumnSorts:h,typeKeySourceURI:p,sorts:t.Sort}):null,[f,t,p,h]),S=Object(g.useCallback)(e=>y.a.createElement(Et.a,{key:e.key,row:e.row},y.a.createElement(Py,{tableColumns:h.map(({tableColumn:e})=>e),...e})),[h]);return y.a.createElement(Pc,{className:e,layout:b,scrollDirection:Ie.Omni,cellComponentFactory:S,keyPropName:"listItemKey",items:a,totalSize:n,autoScroll:!1,smoothScroll:i,scrollerKey:r,targetScrollIndex:s,renderAboveList:I,onPageRequest:o,onListReady:l})}function hf({className:e,listType:t,subtype:a,activeType:n,items:i,totalSize:r,scrollerKey:s,smoothScroll:o,targetScrollIndex:l,onPageRequest:c,onListReady:d}){const{listStyle:u}=Ma(),p=function(e){switch(e){case Nt.a.Grid:return yg;case Nt.a.Details:return Yh;case Nt.a.Table:return mf;case Nt.a.SharedItems:return Cg;case Nt.a.Folder:return ag}throw new Error("Failed to  map the directory list style to a list component. Check `selectDirectoryListStyle` for list style options")}(u);return y.a.createElement(Rr,{items:i},y.a.createElement(p,{className:e,listType:t,subtype:a,activeType:n,items:i,totalSize:r,scrollerKey:s,smoothScroll:o,targetScrollIndex:l,onPageRequest:c,onListReady:d}))}var gf=a("EVgX"),yf=a("cqN0"),ff=a.n(yf);var bf=function(e){const{className:t=ff.a.button,ariaLabel:a,label:n,menuSize:i,children:r,onPress:s,...o}=e,l=a||n,[c]=Object(g.useState)(Object(gf.a)()),[d,u]=Object(g.useState)(!1),p=Object(g.useCallback)(()=>u(!d),[d]),m=y.a.Children.only(r);return y.a.createElement("div",{className:t,id:c},y.a.createElement(Ih.a,{"aria-label":l,className:ff.a.mainButton,onPress:s,...o},n),y.a.createElement(Ih.a,{className:ff.a.menuButton,onPress:p,...o},y.a.createElement(oc.a,null)),y.a.createElement(Xs.a,{target:c,isOpen:d,size:i,onMenuClose:p},y.a.cloneElement(m,{onMenuClose:p,onMenuOpen:p})))};function vf(e){const t=Object(mu.a)(e.type);return t?li(t,e.subtype):void 0}var If=a("Nbqw"),Sf=a.n(If);function Ef({className:e=Sf.a.label,errorClassName:t=Sf.a.hasError,children:a,name:n,hasError:i,...r}){return y.a.createElement("label",{className:Pe()(e,i&&t),htmlFor:n,...r},a)}const Of={queryParse:{query:void 0,isPending:!1,isPopulated:!1,error:null},playlistItem:{item:void 0,isPending:!1,isPopulated:!1,error:null},filterOptions:{}};var Mf,Cf,jf=Object(jr.c)({name:"advancedFilters",initialState:Of,reducers:{reset:()=>Of,updateQuery(e,{payload:t}){e.queryParse.query&&(e.queryParse.query.Rule=t.rules)},fetchQueryRequested(e,t){Object(hm.c)(e.queryParse)},fetchQuerySucceeded(e,{payload:t}){Object(hm.d)(e.queryParse),e.queryParse.query=t.query},fetchQueryFailed(e,{payload:t}){Object(hm.b)(e.queryParse,t.error)},fetchFilterOptionsRequested(e,{payload:t}){const a=t.filter;e.filterOptions[a.key]||(e.filterOptions[a.key]={isPending:!1,isPopulated:!1,error:null,options:[]}),Object(hm.c)(e.filterOptions[a.key])},fetchFilterOptionsSucceeded(e,{payload:t}){const a=t.filter;Object(hm.d)(e.filterOptions[a.key]),e.filterOptions[a.key].options=t.filterOptions},fetchFilterOptionsFailed(e,{payload:t}){const a=t.filter;Object(hm.b)(e.filterOptions[a.key],t.error)},fetchPlaylistRequested(e,t){Object(hm.c)(e.playlistItem)},fetchPlaylistSucceeded(e,{payload:t}){e.playlistItem.item=t.playlistItem,Object(hm.d)(e.playlistItem)},fetchPlaylistFailed(e,{payload:t}){Object(hm.b)(e.playlistItem,t.error)}}}),Df=a("9Cni"),Pf=a("uDqd"),Tf=a.n(Pf);function wf({className:e=Tf.a.bar,children:t}){return y.a.createElement("div",{className:e},t)}(Cf=Mf||(Mf={})).Or="or",Cf.And="and";var Nf=a("6ivQ"),xf=a.n(Nf);var Af=function({className:e=xf.a.inputContainer,value:t,onChange:a}){const n=Object(g.useCallback)(e=>{a(0===e?"-1":String(2*e))},[a]);return y.a.createElement("div",{className:e},y.a.createElement(hr,{value:""===t?-1:parseInt(t,10)/2,onRatingChange:n}))},Lf=a("PbuU"),kf=a.n(Lf);var Rf=function({className:e=kf.a.input,size:t=_e.Small,...a}){return y.a.createElement(id,{className:e,size:t,...a})};var zf=function(e,t){const[a,n]=Object(g.useState)(e);return Object(g.useEffect)(()=>{const a=window.setTimeout(()=>{n(e)},t);return()=>{window.clearTimeout(a)}},[t,e]),a},Uf=a("2pvp"),Vf=a.n(Uf);function Bf({className:e=Vf.a.input,size:t=_e.Small,value:a,forwardedRef:n,onChange:i,onDebouncedChange:r,...s}){const[o,l]=Object(g.useState)(a),c=zf(o,250),d=Object(g.useCallback)(e=>{null==i||i(e),l(e.target.value)},[i,l]);return Object(g.useEffect)(()=>{a!==c&&(null==r||r(c))},[a,o,c,r]),Object(g.useEffect)(()=>{l(a)},[a]),y.a.createElement(Ml,{className:e,size:t,value:o,ref:n,onChange:d,...s})}var Ff=y.a.forwardRef((e,t)=>y.a.createElement(Bf,{...e,forwardedRef:t}));const Hf=/^-?(\d+)([a-z]{1,3})$/;var _f=function(e=""){const t=e.match(Hf);if(t){const[,e,a]=t;return{value:e,suffix:a}}return t},Wf=a("0ifp"),Qf=a.n(Wf);var Gf=function({className:e=Qf.a.inputContainer,value:t,onChange:a}){var n,i;const r=Object(g.useMemo)(()=>_f(t),[t]),s=null!=(n=null==r?void 0:r.value)?n:"0",o=null!=(i=null==r?void 0:r.suffix)?i:"s",l=Object(g.useCallback)(e=>{a(`-${e||"0"}${o}`)},[a,o]),c=Object(g.useCallback)(e=>{a(`-${s}${e.target.value}`)},[a,s]);return y.a.createElement("div",{className:e},y.a.createElement(Ff,{className:Qf.a.textInput,name:"dateInput",type:"number",min:"0",step:"1",required:!0,value:"0"===s?"":s,onDebouncedChange:l}),y.a.createElement(Rf,{className:Qf.a.selectInput,name:"suffixInput",value:o,onChange:c},y.a.createElement("option",{value:"s"},Object(Ce.default)("Seconds")),y.a.createElement("option",{value:"m"},Object(Ce.default)("Minutes")),y.a.createElement("option",{value:"h"},Object(Ce.default)("Hours")),y.a.createElement("option",{value:"d"},Object(Ce.default)("Days")),y.a.createElement("option",{value:"w"},Object(Ce.default)("Weeks")),y.a.createElement("option",{value:"mon"},Object(Ce.default)("Months")),y.a.createElement("option",{value:"y"},Object(Ce.default)("Years"))))},Kf=a("M85P"),Yf=a("IwqK");var qf={name:"applyMaxHeight",enabled:!0,phase:"beforeWrite",requires:["maxSize"],fn({state:e,options:t}){var a;const n=null!=(a=t.offset)?a:0,{height:i}=e.modifiersData.maxSize;e.styles.popper.maxHeight=i-n+"px"}},Zf=a("thf+");var Xf={name:"maxSize",enabled:!0,phase:"main",requiresIfExists:["offset","preventOverflow","flip"],fn({state:e,name:t,options:a}){const n=Object(Zf.a)(e,a),{x:i,y:r}=e.modifiersData.preventOverflow||{x:0,y:0},{width:s,height:o}=e.rects.popper,[l]=e.placement.split("-"),c="left"===l?"left":"right",d="top"===l?"top":"bottom";e.modifiersData[t]={width:s-n[c]-i,height:o-n[d]-r}}};var Jf={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn({state:e}){e.styles.popper.width=e.rects.reference.width+"px"},effect({state:e}){e.elements.popper.style.width=e.elements.reference.offsetWidth+"px"}};var $f=Object(he.a)(wr,e=>e.advancedFilters);var eb=function(e){return Object(he.a)($f,t=>t.filterOptions[e])},tb=a("PLrD"),ab=a.n(tb);const nb=Object(Zi.a)(Mr.a.menuSpeed)/1e3,ib={ease:"easeOut",duration:nb},rb={ease:Pl.a.motionEasing,duration:nb},sb={opacity:ib,y:rb,scale:rb},ob={initial:{opacity:0,y:-10,scale:.95,transition:sb},animate:{opacity:1,y:0,scale:1,transition:sb},exit:{opacity:0,y:10,scale:.95,transition:sb}};var lb=function({labelClassName:e=ab.a.searchInputContainer,disabledClassName:t=ab.a.isDisabled,errorClassName:a=ab.a.hasError,buttonClassName:n=ab.a.button,rule:i,size:r=_e.Small,filter:s,isDisabled:o,hasError:l,onChange:c}){var d,u,p;const m=Object(v.c)(),[h,f]=Jt(),I=null!=(d=i.valueTitle)?d:i.value,S=Object(g.useMemo)(()=>eb(s.key),[s.key]),E=Object(v.d)(S),[O,M]=Object(g.useState)(null==E?void 0:E.options),C=null!=(u=null!=O?O:null==E?void 0:E.options)?u:[],j=Object(g.useRef)(null),D=Object(g.useRef)(null),P=Hc(),{styles:T,attributes:w,state:N}=Object(Yf.a)(j.current,D.current,{placement:"bottom-start",modifiers:Object(g.useMemo)(()=>[{name:"offset",options:{offset:[0,5]}},Jf,Xf,qf,{name:"applyMaxHeight",options:{offset:15}}],[])}),x=Object(g.useCallback)(e=>{var t;return null!=(t=null==e?void 0:e.title)?t:""},[]),{isOpen:A,highlightedIndex:L,getToggleButtonProps:k,getMenuProps:R,getComboboxProps:z,getInputProps:U,getItemProps:V,closeMenu:B}=Object(Kf.a)({defaultHighlightedIndex:0,items:C,itemToString:x,initialInputValue:I,onSelectedItemChange:Object(g.useCallback)(({selectedItem:e})=>{e&&c(e.value,e.title)},[c]),onInputValueChange:Object(g.useCallback)(({inputValue:e})=>{(null==E?void 0:E.options)&&M(E.options.filter(t=>x(t).toLowerCase().includes(null==e?void 0:e.toLocaleLowerCase())))},[null==E?void 0:E.options,x]),stateReducer:Object(g.useCallback)((e,{changes:t})=>{var a,n,i;return e.isOpen&&!t.isOpen&&(null==(a=t.selectedItem)?void 0:a.title)!==e.inputValue?{...t,inputValue:null!=(i=null==(n=t.selectedItem)?void 0:n.title)?i:I}:t},[I])});return Object(g.useEffect)(()=>{(null==E?void 0:E.isPopulated)||m(jf.actions.fetchFilterOptionsRequested({server:h,provider:f,filter:s}))},[m,s,null==E?void 0:E.isPopulated,A,f,h]),Object(g.useEffect)(()=>{var e;(null==(e=null==N?void 0:N.modifiersData.hide)?void 0:e.isReferenceHidden)&&A&&B()},[B,A,null==(p=null==N?void 0:N.modifiersData.hide)?void 0:p.isReferenceHidden]),Object(g.useEffect)(()=>{(null==E?void 0:E.options.length)&&M(E.options)},[null==E?void 0:E.options]),y.a.createElement(y.a.Fragment,null,y.a.createElement("label",{...z({ref:j,className:Pe()(e,o&&t,l&&a)})},y.a.createElement(Ff,{...U({className:ab.a.input,onFocus:P,disabled:o}),size:r}),y.a.createElement(ga,{...k({className:Pe()(n,ab.a[r]),disabled:o}),...w.reference,isDisabled:o},y.a.createElement(oc.a,{size:r,direction:A?Jy.Up:Jy.Down}))),b.a.createPortal(y.a.createElement("div",{...R({className:ab.a.menuContainer,style:T.popper,ref:D}),...w.popper},y.a.createElement(Cl.a,null,A?y.a.createElement(Cl.b.div,{key:"container",className:(null==E?void 0:E.isPopulated)?ab.a.menu:ab.a.loadingMenu,initial:ob.initial,animate:ob.animate,exit:ob.exit},(null==E?void 0:E.isPopulated)?y.a.createElement(Ae,{className:ab.a.scroller,autoScroll:!1},y.a.createElement("ul",{className:ab.a.list},C.length?C.map((e,t)=>y.a.createElement("li",{key:e.key,...V({className:L===t?ab.a.listItemHighlighted:ab.a.listItem,index:t,item:e})},e.title)):y.a.createElement("li",{className:ab.a.listItem},Object(Ce.default)("No options")))):y.a.createElement(Ge,null)):null)),document.body))};const cb=[Yp.DoubleEqual,Yp.NotDoubleEqual],db=[Yp.Equal,Yp.NotEqual];var ub=function({rule:e,fieldType:t,fieldSubtype:a,filter:n,onChange:i}){var r;const s=Object(g.useCallback)(e=>{i(encodeURIComponent(e),e)},[i]);if(n&&function(e,t){switch(e){case _a.d.String:return cb.includes(t.operator);default:return db.includes(t.operator)}}(t,e))return y.a.createElement(lb,{filter:n,rule:e,onChange:i});switch(t){case _a.d.String:return y.a.createElement(Ff,{name:"input",type:"text",value:null!=(r=e.valueTitle)?r:e.value,required:!0,onDebouncedChange:s});case _a.d.Integer:switch(a){case _a.c.Rating:return y.a.createElement(Af,{value:e.value,onChange:i})}return y.a.createElement(Ff,{name:"input",type:"number",min:"0",value:e.value,required:!0,onDebouncedChange:s});case _a.d.Date:return _f(e.value)?y.a.createElement(Gf,{value:e.value,onChange:i}):y.a.createElement(Ff,{name:"input",type:"date",pattern:"[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])",placeholder:"YYYY-MM-DD",value:e.value,required:!0,onDebouncedChange:s})}return null};function pb(e,t,a=""){return{operator:e,title:t,defaultValue:a}}var mb=function(e){switch(e){case _a.d.Tag:case _a.d.AudioLanguage:case _a.d.SubtitleLanguage:return[pb(Yp.Equal,Object(Ce.default)("is")),pb(Yp.NotEqual,Object(Ce.default)("is not"))];case _a.d.Resolution:return[pb(Yp.Equal,Object(Ce.default)("is"))];case _a.d.Boolean:return[pb(Yp.Equal,Object(Ce.default)("is true")),pb(Yp.NotEqual,Object(Ce.default)("is false"))];case _a.d.Integer:return[pb(Yp.Equal,Object(Ce.default)("is")),pb(Yp.NotEqual,Object(Ce.default)("is not")),pb(Yp.GreaterThanGreaterThanOrEqual,Object(Ce.default)("is greater than")),pb(Yp.LessThanLessThanOrEqual,Object(Ce.default)("is less than"))];case _a.d.String:return[pb(Yp.Equal,Object(Ce.default)("contains")),pb(Yp.NotEqual,Object(Ce.default)("does not contain")),pb(Yp.DoubleEqual,Object(Ce.default)("is")),pb(Yp.NotDoubleEqual,Object(Ce.default)("is not")),pb(Yp.LessThanOrEqual,Object(Ce.default)("begins with")),pb(Yp.GreaterThanOrEqual,Object(Ce.default)("ends with"))];case _a.d.Date:return[pb(Yp.LessThanLessThanOrEqual,Object(Ce.default)("is before")),pb(Yp.GreaterThanGreaterThanOrEqual,Object(Ce.default)("is after")),pb(Yp.GreaterThanGreaterThanOrEqual,Object(Ce.default)("is in the last"),"-0s"),pb(Yp.LessThanLessThanOrEqual,Object(Ce.default)("is not in the last"),"-0s")]}};function hb(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-subtract"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{clipRule:"evenodd",d:"M3.42847 27.4286V20.5714H44.5713V27.4286H3.42847Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}hb.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var gb=hb,yb=a("n1LI"),fb=a.n(yb);var bb=function({className:e=fb.a.container,rowState:t,rule:a,isRemoveDisabled:n,onChange:i,onRemoveRule:r}){const{type:s,subtype:o}=t.fieldTypesByFieldKey[a.field],l=t.filterKeysByFieldKey[a.field],c=!!_f(a.value),d=Object(g.useMemo)(()=>mb(s),[s]),u=Object(g.useMemo)(()=>t.allTypeFilters.find(({key:e})=>e===l),[l,t.allTypeFilters]),p=Object(g.useMemo)(()=>{if(s===_a.d.Date){const e=d.find(e=>e.operator===a.operator&&c&&e.defaultValue);if(e)return e}const e=d.find(e=>e.operator===a.operator);return e||d[0]},[d,a.operator,c,s]),m=Object(g.useMemo)(()=>d.indexOf(p),[d,p]),h=Object(g.useCallback)(e=>{const n=e.target.value,r=t.allTypeFields.find(e=>e.key===n);if(!r)throw new Error(n+" did not match to any type field");const s=t.fieldTypesByFieldKey[r.key],[o]=mb(s.type);i({...a,field:r.key,fieldTitle:r.title,operator:o.operator,value:s.type===_a.d.Boolean?"1":"",valueTitle:void 0})},[i,t.allTypeFields,t.fieldTypesByFieldKey,a]),f=Object(g.useCallback)(e=>{const t=parseInt(e.target.value,10),n=d[t];s===_a.d.Date?i({...a,operator:n.operator,value:n.defaultValue,valueTitle:void 0}):i({...a,operator:n.operator})},[i,d,a,s]),b=Object(g.useCallback)((e,t)=>{i({...a,value:e,valueTitle:t})},[i,a]);return y.a.createElement("div",{className:e},y.a.createElement("div",{className:fb.a.inputContainer},y.a.createElement(Rf,{name:"field",value:a.field,onChange:h},t.allTypeFields.map((e,t)=>y.a.createElement("option",{key:`${e.key}-${t}`,value:e.key},e.title)))),y.a.createElement("div",{className:fb.a.inputContainer},y.a.createElement(Rf,{name:"operator",value:String(m),onChange:f},d.map((e,t)=>y.a.createElement("option",{key:t,value:t},e.title)))),s!==_a.d.Boolean?y.a.createElement("div",{className:fb.a.inputContainer},y.a.createElement(ub,{fieldType:s,fieldSubtype:o,filter:u,rule:a,onChange:b})):null,y.a.createElement(Nm,{title:Object(Ce.default)("Remove Rule"),icon:gb,size:_e.Small,isDisabled:n,onPress:r}))};function vb(e,t=[]){return{type:"composite",operator:e,Rule:t}}function Ib(e,t=vb(Mf.And)){return{...t,Rule:[...t.Rule,...e]}}var Sb=function(e){const[t]=e.allTypeFields,[a]=mb(t.type);return{field:t.key,fieldTitle:t.title,value:"",operator:a.operator}},Eb=a("pLfD"),Ob=a.n(Eb);function Mb(e){const t=Object(qp.c)(Mf).find(t=>t===e);if(t)return t;throw new Error(`'getOperatorValue' received an unknown value '${e}'`)}var Cb=function e({className:t=Ob.a.container,rowState:a,compositeRule:n,onRemoveGroup:i,onChange:r}){const s=Object(_r.a)(),o=ul(),l=n.Rule.length,c=Object(g.useCallback)(e=>{r({...n,operator:Mb(e.target.value)})},[n,r]),d=Object(g.useCallback)(e=>()=>{const t=Array.from(n.Rule),[a]=t.splice(e,1);t.length<1&&"composite"!==a.type||r({...n,Rule:t})},[n,r]),u=Object(g.useCallback)(()=>{const e=Array.from(n.Rule);e.unshift(Sb(a)),r({...n,Rule:e})},[n,r,a]),p=Object(g.useCallback)(()=>{const e=Array.from(n.Rule);e.unshift(Ib([Sb(a)])),r({...n,Rule:e})},[n,r,a]),m=Object(g.useCallback)(e=>t=>{const a=Array.from(n.Rule);a.splice(e,1,t),r({...n,Rule:a})},[n,r]);return y.a.createElement("div",{className:t},y.a.createElement("div",{className:Ob.a.inputContainer},y.a.createElement(Rf,{name:"group",value:n.operator,onChange:c},y.a.createElement("option",{value:"and"},Object(Ce.default)("Match all of the following")),y.a.createElement("option",{value:"or"},Object(Ce.default)("Match any of the following")))),y.a.createElement(wf,{className:Ob.a.buttons},y.a.createElement(Nm,{title:Object(Ce.default)("Add Rule"),icon:Df.a,size:_e.Small,onPress:u}),y.a.createElement(ga,{id:s,"aria-label":Object(Ce.default)("More Actions"),onPress:o.onToggle},y.a.createElement(Dd.a,null)),y.a.createElement(Xs.a,{isOpen:o.isOpen,target:s,onMenuClose:o.onClose},y.a.createElement(Js.a,{onPress:Object(to.a)(p,o.onClose)},Object(Ce.default)("Add Rule Group")),i?y.a.createElement(Js.a,{onPress:Object(to.a)(i,o.onClose)},Object(Ce.default)("Remove Rule Group")):null)),y.a.createElement("div",{className:Ob.a.rules},n.Rule.map((t,i)=>"composite"===t.type?y.a.createElement(e,{key:`${t.operator}-${i}`,compositeRule:t,rowState:a,onChange:m(i),onRemoveGroup:d(i)}):y.a.createElement(bb,{key:`${t.field}-${l}-${i}`,rowState:a,rule:t,isRemoveDisabled:1===n.Rule.length,onChange:m(i),onRemoveRule:d(i)}))))};const jb=new RegExp(`(${["duration","mediaSize","mediaBitrate","show.writer","show.producer","show.director"].join("|")})$`);var Db=function({meta:e,rules:t,onChange:a}){const n=Object(g.useMemo)(()=>{var t;return(null!=(t=e.Type)?t:[]).reduce((e,t)=>(t.Field&&e.push(...t.Field.filter(e=>!jb.test(e.key))),e),[])},[e.Type]),i=Object(g.useMemo)(()=>{var t;return(null!=(t=e.Type)?t:[]).reduce((e,t)=>(t.Filter&&e.push(...t.Filter),e),[])},[e.Type]),r=Object(g.useMemo)(()=>{var t;const a=null!=(t=e.Type)?t:[],n=a.filter(e=>e.type!==Nt.b.Folder).length>1;return a.reduce((e,t)=>(t.Filter&&t.Filter.forEach(a=>{if(a.filterType!==_a.e.Boolean){const i=n?`${t.type}.${a.filter}`:a.filter;e[i]=a.key}}),e),{})},[e.Type]),s=Object(g.useMemo)(()=>n.reduce((e,t)=>(e[t.key]={type:t.type,subtype:t.subType},e),{}),[n]),o=Object(g.useMemo)(()=>({allTypeFilters:i,allTypeFields:n,fieldTypesByFieldKey:s,filterKeysByFieldKey:r}),[n,i,s,r]),l=Object(g.useMemo)(()=>t?"composite"!==t.type?Ib([t]):t:Ib([Sb(o)]),[t,o]);return y.a.createElement(Cb,{rowState:o,compositeRule:l,onChange:a})};var Pb=Object(he.a)($f,e=>e.playlistItem);var Tb=Object(he.a)($f,e=>e.queryParse);function wb(e){return function e(t,a=!1){const n=[];if("composite"===t.type){const i=t.Rule;for(let t=0,a=i.length;t<a;t++){const a=i[t];if(!a.type&&""===a.value)continue;e(a,!0).length&&n.push(e(a,!0))}let r=n.length-1;for(;r>0;)n.splice(r,0,t.operator+"=1"),r-=1;a&&n.length&&(n.unshift("push=1"),n.push("pop=1"))}else{if(""===t.value)throw new Error("Tried to encode an empty value");const e=t.operator.slice(0,-1);n.push(`${t.field}${encodeURIComponent(e)}=${t.value}`)}return n.flat(2)}(e).join("&")}var Nb=a("Lnxm"),xb=a.n(Nb);var Ab=function({className:e=xb.a.container,directoryKey:t,totalSize:a,meta:n}){var i,r,s;const o=Object(v.c)(),[l,c,d]=Jt(),u=Object(Ct.a)({serverIdentifier:l.machineIdentifier,providerIdentifier:c.identifier}),p=Object(g.useMemo)(()=>j.default.parseUri(t),[t]),m=`${u}${t}`,h=Object(v.d)(xm),{query:f,isPopulated:b}=Object(v.d)(Tb),I=Object(v.d)(Pb),S=Object(g.useMemo)(()=>Gc(m),[m]),E=Object(v.d)(S),O=null!=(i=null==E?void 0:E.isSaving)&&i,M=Object(Kc.a)(O),C=Object($p.a)(n),D=ea(),P=D.playlistKey?Rn.a.parseString(D.playlistKey):void 0,T=Yi({identifier:c.metricsIdentifier,mode:"list",type:null==C?void 0:C.type,itemCount:a}),[w,N]=Object(g.useState)(null!=(r=Rn.a.parseString(p.params.limit))?r:""),x=zf(w,250),A=ul(),L=ul(),[k,R]=Object(g.useState)(!1),z=C?vf(C):void 0,U=Object(g.useCallback)(()=>{T({action:Gi.c,mode:"shortcut"})},[T]),V=Object(g.useCallback)(()=>{T({action:Gi.c,mode:"shortcut"})},[T]),B=Object(g.useCallback)(()=>{R(!0),A.onOpen()},[A]),F=Object(g.useCallback)(()=>{R(!1),A.onClose()},[A]),H=Object(g.useCallback)(()=>{Object(Dt.a)(()=>{P?o(pl.actions.playlistSaveRequested({destinationServer:l,destinationProvider:c,playlistKey:P,sourceURI:m,isSmart:!0})):B()})},[P,o,l,c,m,B]),_=Object(g.useCallback)(e=>{const t=e.target.value;N(t)},[]),W=Object(g.useCallback)(e=>{o(jf.actions.updateQuery({rules:e}))},[o]);return Object(g.useEffect)(()=>{var e;if(!(null==f?void 0:f.Rule)||"composite"===(null==(e=null==f?void 0:f.Rule)?void 0:e.type)&&f.Rule.Rule.length<1)return;const{type:a,sort:n,group:i,having:r}=p.params,s={type:a,sort:n,group:i,having:r,limit:x||void 0},l=j.default.join(p.pathname,s),c=wb(f.Rule),d=j.default.join(l,c,{parseParams:!1});d!==t&&o(Object(ta.v)({pathname:sm({key:d}),replace:!0}))},[t,p.params,p.pathname,o,x,f]),Object(g.useEffect)(()=>{f||o(jf.actions.fetchQueryRequested({server:l,provider:c,key:t.replace("/all","/query/parse")})),P&&o(jf.actions.fetchPlaylistRequested({server:l,provider:c,key:P}))},[f,t,P,o,l]),Object(g.useEffect)(()=>()=>{o(jf.actions.reset())},[o]),Object(g.useEffect)(()=>{(null==E?void 0:E.playlistKey)&&M&&!O&&!(null==E?void 0:E.saveError)&&o(Object(ta.v)({pathname:Object(Ka.a)(l,c,E.playlistKey,void 0,z),replace:!0}))},[o,O,M,null==E?void 0:E.playlistKey,null==E?void 0:E.saveError,z,c,l]),b&&f?y.a.createElement("form",{className:e},y.a.createElement(Ae,{className:xb.a.scroller,scrollDirection:Ie.Omni,autoScroll:!0},I.item?y.a.createElement("div",{className:xb.a.editHeading},I.item.title):null,y.a.createElement(Db,{meta:n,rules:f.Rule,onChange:W})),y.a.createElement("div",{className:xb.a.buttonBar},y.a.createElement("div",null,y.a.createElement(Ef,{name:"labelValue",className:xb.a.formLabel},Object(Ce.default)("Limit to")),y.a.createElement(Ml,{className:xb.a.textInput,name:"labelValue",type:"number",min:0,value:w,onChange:_})),y.a.createElement("div",{className:xb.a.buttonCluster},z?y.a.createElement(y.a.Fragment,null,y.a.createElement(bf,{kind:da.Primary,label:I.item?Object(Ce.default)("Update Playlist"):Object(Ce.default)("Save As..."),isDisabled:h,onPress:H},y.a.createElement(yl,{sourceURI:m,playlistType:z,onPlaylistSave:U,onAddToPlaylistPress:A.onOpen,onAddToSmartPlaylistPress:B,onMenuClose:L.onClose})),y.a.createElement(Zc,{isOpen:A.isOpen,playlistType:z,sourceURI:m,defaultDestinationSource:u,defaultPlaylistTitle:null!=(s=null==d?void 0:d.title)?s:Object(Ce.default)("New Playlist"),isSmartPlaylist:k,onModalClose:F,onPlaylistSave:V})):null))):y.a.createElement("div",{className:xb.a.loadingContainer},y.a.createElement(Ge,null))};var Lb=function(e){var t;return null!=(t=null==e?void 0:e.find(e=>e.active))?t:null==e?void 0:e[0]};var kb=function(e,t){if(t<1||!e.length)return[];const{characters:a}=e.reduce((e,t,a)=>(e.characters.push({...t,position:a,scrollIndex:e.scrollIndex}),e.scrollIndex+=t.size,e),{characters:[],scrollIndex:0}),n=[a[0],a[a.length-1]],i=Array.from(a).sort((e,t)=>t.size-e.size);return Array.from(new Set([...n,...i])).slice(0,t).sort((e,t)=>e.position-t.position)},Rb=a("gmpS"),zb=a.n(Rb);const Ub=parseInt(yu.a.jumpBarCharacterHeight,10),Vb=parseInt(yu.a.jumpBarMargin,10);function Bb({className:e=zb.a.character,scrollIndex:t,children:a,onCharacterPress:n}){const i=Object(g.useCallback)(()=>{n(t)},[t,n]);return y.a.createElement(ga,{className:e,onPress:i},a)}function Fb({className:e=zb.a.jumpBar,activeType:t,viewportHeight:a,listTotalSize:n,onFirstCharacterScroll:i}){const r=Lb(null==t?void 0:t.Sort),{firstCharacters:{items:s}}=Object(v.d)(em),o=Object(g.useMemo)(()=>s?kb(s,Math.floor((a-2*Vb)/Ub)):[],[s,a]),l=!!(null==r?void 0:r.firstCharacterKey),c=o.length>=5;return r&&s&&(l&&c&&n>=75)?y.a.createElement("div",{className:e},o.map(e=>y.a.createElement(Bb,{key:e.key,scrollIndex:e.scrollIndex,onCharacterPress:i},e.title))):null}function Hb(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Hb.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var _b=Hb;function Wb(e){var t,a;return(null==(t=null==e?void 0:e.id)?void 0:t.includes("saved"))?Object(Ce.default)("With a TIDAL subscription you can add Albums, artists, tracks and videos to My TIDAL to keep track of your favorite music."):(null==(a=null==e?void 0:e.id)?void 0:a.includes("playlists"))?Object(Ce.default)("Once you have a TIDAL subscription you can add music to My TIDAL Playlists and keep the party going."):Object(Ce.default)("Once you have a TIDAL subscription you can browse TIDAL content in Plex.")}function Qb({className:e,pivot:t}){const a=Yi(),n=Object(g.useCallback)(()=>{a({action:Gi.qb})},[a]);return y.a.createElement(ze,{className:e,icon:y.a.createElement(_b,null),title:Object(Ce.default)("TIDAL + Plex = music to your ears!"),description:Wb(t)},y.a.createElement(ba,{target:"_blank",rel:"noopener noreferrer",to:up.n,onPress:n},Object(Ce.default)("Learn More")))}var Gb=a("q8w4");const Kb={[Nt.b.Movie]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Nt.b.Show]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Nt.b.Season]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Nt.b.Episode]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Nt.b.Artist]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Nt.b.Album]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Nt.b.Track]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Nt.b.PhotoAlbum]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"],[Nt.b.Photo]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"]},Yb=({provider:e})=>!!Object(xt.a)(e,St.e.PlayQueue),qb={isAddToPlaylistVisible:({provider:e})=>!!Object(xt.a)(e,St.e.Playlist),isAddToQueueVisible:Yb,isPlayVisible:Yb,isShuffleVisible:Yb,isOptimizeVisible:({server:e,provider:t})=>Ao(t)&&e.isFullOwnedServer&&e.transcoderVideo};var Zb=a("3n8t");var Xb=function(e){return j.default.stringifyParams(e,{encoder:(e,t,a,n)=>"value"===n&&"boolean"==typeof e?e?"1":"0":e})};var Jb=function(e,t){const{strippedKey:a,filterRules:n}=Jp(e,t),i=n.reduce((e,{filter:a,value:n})=>{var i;const{type:r}=t,s=null==(i=t.Field)?void 0:i.find(e=>e.key===a.filter||e.key===`${r}.${a.filter}`);return s&&(e[s.key]=n),e},{});return j.default.join(a,Xb(i))};function $b(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-shuffle-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m448 441l-44.423 0c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594 3.556-7.986 4.181-9.387 5.622-12.617 36.245 74.928 65.419 102.32 119.034 102.32l44.423 0 0-77 112 98-112 98 0-77m0-322l0-77 112 98-112 98 0-77-44.423 0c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02-44.459 99.657-75.473 137.407-142.558 137.407l-95.577 0 0-42 95.577 0c43.602 0 66.367-27.71 104.202-112.518 3.333-7.485 5.267-11.827 6.711-15.055 48.4-108.225 87.24-152.427 169.087-152.427l44.423 0m-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005-35.031-76.511-57.674-101.888-99.4-101.888l-95.577 0 0-42 95.577 0"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}$b.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var ev=$b,tv=a("W4O6"),av=a.n(tv);function nv({className:e,activeType:t,selectedPivot:a,totalSize:n,listActions:i,directoryKey:r,advancedFilters:s}){var o;const l=Object(v.c)(),[c,d,u]=Jt(),{containerServer:p,containerProvider:m,containerKey:h}=Ma(),{metricsPage:f,metricsContextTuple:b}=Object(Et.d)(),I=Yi({identifier:d.metricsIdentifier,mode:"list",type:null==t?void 0:t.type,itemCount:n}),S=Object(_r.a)(),E=ul(),O=Object(_r.a)(),M=ul(),C=ul(),j=Object(Ct.a)({serverIdentifier:c.machineIdentifier,providerIdentifier:d.identifier}),D=`${j}${h}`,P=t?vf(t):void 0,T=Object(g.useMemo)(()=>t?Jb(r,t):r,[t,r]),w=Object(g.useCallback)(e=>{l(Zb.i({server:p,provider:m,containerKey:h,metricsPage:f,metricsProperties:{contextTuple:b},legacyAction:e}))},[l,p,m,h,f,b]),N=Object(g.useCallback)(()=>{I({action:Gi.N}),w(Ze.x({options:{type:P}}))},[I,P,w]),x=Object(g.useCallback)(()=>{w(Ze.B({options:{type:P}})),I({action:Gi.ib})},[I,P,w]),A=Object(g.useCallback)(()=>{I({action:Gi.d}),w(Ze.r({options:{playAll:!0,next:!1,type:P}})),E.onClose()},[I,E,P,w]),L=Object(g.useCallback)(()=>{I({action:Gi.Q}),w(Ze.r({options:{playAll:!0,next:!0,type:P}})),E.onClose()},[I,E,P,w]),k=Object(g.useCallback)(()=>{I({action:Gi.J}),w(Zb.f()),E.onClose()},[I,E,w]),R=Object(g.useCallback)(()=>{I({action:Gi.c,mode:"shortcut"})},[I]),z=Object(g.useCallback)(()=>{I({action:Gi.c,mode:"shortcut"})},[I]);return y.a.createElement(wf,{className:e},i.isPlayVisible?y.a.createElement(Nm,{tooltipClassName:av.a.tooltip,icon:dh,title:Object(Ce.default)("Play"),tooltipAttachment:Pm.a,onPress:N}):null,i.isShuffleVisible?y.a.createElement(Nm,{tooltipClassName:av.a.tooltip,icon:ev,title:Object(Ce.default)("Shuffle"),tooltipAttachment:Pm.a,onPress:x}):null,i.isAddToPlaylistVisible?y.a.createElement(Nm,{id:O,tooltipClassName:av.a.tooltip,icon:eh,title:Object(Ce.default)("Add to Playlist"),tooltipAttachment:Pm.a,onPress:M.onToggle}):null,i.isAddToQueueVisible||i.isOptimizeVisible?y.a.createElement(Nm,{id:S,tooltipClassName:av.a.tooltip,icon:lh,title:Object(Ce.default)("More"),tooltipAttachment:Pm.a,onPress:E.onToggle}):null,y.a.createElement(Xs.a,{className:av.a.menu,isOpen:E.isOpen,target:S,onMenuClose:E.onClose},i.isAddToQueueVisible?y.a.createElement(Js.a,{onPress:L},Object(Ce.default)("Play Next")):null,i.isAddToQueueVisible?y.a.createElement(Js.a,{onPress:A},Object(Ce.default)("Add to Queue")):null,i.isOptimizeVisible?y.a.createElement(Js.a,{onPress:k},Object(Ce.default)("Optimize...")):null),i.isAddToPlaylistVisible&&P?y.a.createElement(Xs.a,{className:av.a.menu,isOpen:M.isOpen,target:O,onMenuClose:M.onClose},y.a.createElement(yl,{sourceURI:D,playlistType:P,advancedFiltersRoute:a&&!s?sm({key:T,advancedFilters:1}):void 0,onPlaylistSave:R,onAddToPlaylistPress:C.onOpen,onMenuClose:M.onClose})):null,i.isAddToPlaylistVisible&&P?y.a.createElement(Zc,{isOpen:C.isOpen,playlistType:P,sourceURI:D,defaultDestinationSource:j,defaultPlaylistTitle:null!=(o=null==u?void 0:u.title)?o:Object(Ce.default)("New Playlist"),onModalClose:C.onClose,onPlaylistSave:z}):null)}var iv=a("pQ98"),rv=a("oRFc"),sv=a.n(rv);function ov({className:e=sv.a.disclosureArrowLink,arrowClassName:t=sv.a.disclosureArrow,direction:a=Jy.Down,size:n=_e.Large,kind:i,children:r,...s}){return y.a.createElement(ga,{className:Pe()(e,sv.a[n]),"aria-haspopup":!0,kind:i,size:n,...s},r,y.a.createElement(oc.a,{className:Pe()(t,sv.a[a],sv.a[n]),direction:a,kind:i,size:n}))}var lv=a("Jjk7"),cv=a.n(lv);function dv({children:e,filter:t,isPending:a,isSelected:n,onFilterSelect:i}){const r=Object(g.useCallback)(()=>{i(t)},[t,i]);return y.a.createElement(Js.a,{className:n?cv.a.isSelected:void 0,onPress:r},y.a.createElement("span",{className:cv.a.menuItemContainer},y.a.createElement("span",{className:cv.a.menuLabel},e),a?y.a.createElement(Ge,{className:cv.a.spinner,size:_e.Small}):null,!a&&n?y.a.createElement("span",{className:cv.a.selectedIcon},y.a.createElement(ns.a,{"aria-label":Object(Ce.default)("Selected")})):null))}var uv=Object(he.a)(em,e=>e.filterOptions);var pv=function(e,t,a){const n=[...e];for(let a=0;a<e.length;a++){e[a].filter.filterType===_a.e.Boolean===(t.filterType===_a.e.Boolean)&&n.splice(a,1)}return Zp(n,{filter:t,operator:Yp.Equal,value:a})};var mv=function(e,t,a){return!!e.find(e=>e.filter.filter===t.filter&&(null==a||e.value===a))};var hv=function(e,t,a){return e.filter(e=>!(e.filter.filter===t.filter&&(null==a||e.value===a)))};var gv=function(e,t){const a=t.reduce((e,t)=>(e[t.filter.filter]=t.value,e),{});return j.default.join(e,Xb(a))},yv=a("oz32"),fv=a.n(yv);function bv({typeKey:e,directoryKey:t,pendingFilterKey:a,filters:n,activeFilterRules:i,advancedFiltersKey:r,hasQueryParserFeature:s,onClose:o,onFilterSelect:l}){const[c,d]=function(e){return e.reduce((e,t)=>(t.filterType===_a.e.Boolean?e[0].push(t):e[1].push(t),e),[[],[]])}(n),u=om(o);return y.a.createElement(Ae,{className:fv.a.menuScroller,autoScroll:!0},y.a.createElement(uc.a,{key:"all",to:sm({key:e}),isSelected:!i.length,onPress:u},Object(Ce.default)("All")),c.map(e=>{const a=mv(i,e);return y.a.createElement(uc.a,{key:e.key,isSelected:a,to:sm({key:gv(t,a?hv(i,e):pv(i,e,!0))}),onPress:u},e.title)}),c.length?y.a.createElement($s.a,null):null,d.map(e=>y.a.createElement(dv,{key:e.key,filter:e,isSelected:mv(i,e),isPending:a===e.key,onFilterSelect:l},e.title)),s?y.a.createElement(y.a.Fragment,null,y.a.createElement($s.a,null),y.a.createElement(uc.a,{to:sm({key:r,advancedFilters:1}),onPress:u},Object(Ce.default)("Advanced Filters"))):null)}function vv({directoryKey:e,selectedFilter:t,filterOptions:a,activeFilterRules:n,height:i,onFilterDeselect:r,onMenuClose:s}){const[o,l]=Object(g.useState)(""),c=a.find(e=>mv(n,t,e.value)),d=om(s),u=Object(g.useCallback)(e=>{l(e.target.value)},[]);return y.a.createElement("div",{className:fv.a.filterOptionsContainer,style:{height:Math.max(i,356)},"data-qa-id":"secondFiltersList"},y.a.createElement("div",{className:fv.a.headerContainer},y.a.createElement("div",{className:fv.a.header,"data-qa-id":"filterHeader"},y.a.createElement("div",{className:fv.a.headerTitle},y.a.createElement(ga,{"data-qa-id":"previousFilters",onPress:r},y.a.createElement(zu,{className:fv.a.backIcon,"aria-label":Object(Ce.default)("Back")}),y.a.createElement("span",{className:fv.a.filterText},t.title))),a.length>12?y.a.createElement(Ml,{className:fv.a.searchInput,name:"filterOptionQuery",placeholder:Object(Ce.default)("Filter {filterTitle}",{filterTitle:t.title}),value:o,onChange:u}):null),y.a.createElement($s.a,null)),a.length?y.a.createElement(Ae,{className:fv.a.filterOptionsScroller,autoScroll:!0},c?y.a.createElement(uc.a,{key:c.key,isSelected:!0,to:sm({key:gv(e,hv(n,t))}),className:fv.a.selectedMenuItem,onPress:d},c.title):null,a.map(a=>{if(a===c||!a.title.toLowerCase().includes(o.toLowerCase()))return null;const i=mv(n,t,a.value);return y.a.createElement(uc.a,{key:a.key,className:fv.a.selectedMenuItem,isSelected:i,to:sm({key:gv(e,pv(n,t,a.value))}),onPress:d},a.title)})):y.a.createElement("div",{className:fv.a.emptyText},Object(Ce.default)("No options")))}function Iv({className:e,directoryKey:t,type:a}){const[n,i]=Jt(),r=Object(v.c)(),[s,o]=Object(g.useState)(),[l,{height:c}]=Object(Gu.a)(),d=Object(_r.a)(),{isOpen:u,onToggle:p,onClose:m}=ul(),h=null==a?void 0:a.Filter,f=Object(g.useMemo)(()=>nm(t),[t]),b=Object(v.d)(f),I=Object(v.d)(uv),S=Object(g.useMemo)(()=>s?I[s]:void 0,[s,I]),E=Object(g.useMemo)(()=>null==h?void 0:h.find(e=>e.key===s),[s,h]),O=Object(g.useMemo)(()=>({scrollDirection:iv.b}),[]),M=Object(g.useMemo)(()=>null==b?void 0:b.filterRules.find(({filter:e})=>e.filterType!==_a.e.Boolean),[null==b?void 0:b.filterRules]),C=Object(g.useMemo)(()=>M?I[M.filter.key]:void 0,[M,I]),j=Object(g.useMemo)(()=>null==b?void 0:b.filterRules.map(e=>{var t;const a=M?null==(t=I[M.filter.key])?void 0:t.options.find(e=>e.value===(null==M?void 0:M.value)):void 0;return a&&a.field===(null==M?void 0:M.filter.filter)?a.title:e.filter.title}).join(", "),[null==b?void 0:b.filterRules,I,M]),D=!!Object(xt.a)(i,St.e.QueryParser),P=Object(g.useMemo)(()=>a?Jb(t,a):t,[a,t]),T=Object(g.useCallback)(e=>{r(Em.actions.fetchFilterOptionsRequested({server:n,provider:i,filter:e}))},[r,i,n]),w=Object(g.useCallback)(e=>{o(e.key),T(e)},[T]),N=Object(g.useCallback)(()=>{o(void 0)},[]),x=Object(g.useCallback)(()=>{m()},[m]);if(Object(g.useEffect)(()=>{!M||(null==C?void 0:C.isPopulated)||(null==C?void 0:C.isPending)||T(M.filter)},[C,T,M]),!a||!h||!b)return null;const{strippedKey:A,filterRules:L}=b;return y.a.createElement(y.a.Fragment,null,y.a.createElement(ov,{className:e,id:d,direction:u?Jy.Up:Jy.Down,onPress:p},j||Object(Ce.default)("All")),y.a.createElement(Xs.a,{target:d,isOpen:u,size:cc.a,scrollerProps:O,onMenuClose:x},y.a.createElement("div",{className:fv.a.measureContainer,ref:l},(null==S?void 0:S.isPopulated)&&E?y.a.createElement(vv,{height:c,directoryKey:A,selectedFilter:E,activeFilterRules:L,filterOptions:S.options,onFilterDeselect:N,onMenuClose:x}):y.a.createElement(bv,{typeKey:a.key,directoryKey:A,pendingFilterKey:(null==S?void 0:S.isPending)?s:void 0,filters:h,activeFilterRules:L,hasQueryParserFeature:D,advancedFiltersKey:P,onClose:x,onFilterSelect:w}))))}function Sv({className:e,directoryKey:t,sorts:a}){const n=Object(_r.a)(),{isOpen:i,onToggle:r,onClose:s}=ul(),o=Lb(a),l=om(s);return!a||!o||a.length<2?null:y.a.createElement(y.a.Fragment,null,y.a.createElement(ov,{className:e,id:n,direction:i?Jy.Up:Jy.Down,onPress:r},Object(Ce.default)("By {sortTitle}",{sortTitle:o.title})),y.a.createElement(Xs.a,{target:n,isOpen:i,onMenuClose:s},a.map(e=>y.a.createElement(uc.a,{key:e.key,to:sm({key:j.default.join(t,{sort:ef(e)},{parseParams:!0})}),isSelected:e.active,iconComponent:e.activeDirection===_a.f.Ascending?Ay.a:Ly.a,onPress:l},e.title))))}function Ev(e){switch(e){case Ha.d.Movie:return Ha.b.Movie;case Ha.d.Show:return Ha.b.Show;case Ha.d.Season:return Ha.b.Season;case Ha.d.Episode:return Ha.b.Episode;case Ha.d.Person:return Ha.b.Person;case Ha.d.Artist:return Ha.b.Artist;case Ha.d.Album:return Ha.b.Album;case Ha.d.Track:return Ha.b.Track;case Ha.d.Clip:return Ha.b.Clip;case Ha.d.Photo:return Ha.b.Photo;case Ha.d.PhotoAlbum:return Ha.b.PhotoAlbum;case Ha.d.Playlist:return Ha.b.Playlist;case Ha.d.Collection:return Ha.b.Collection;case Ha.d.Game:return Ha.b.Game}!function(e){throw new Error(`"${e}" is not mapped to a numeric type`)}(e)}function Ov({className:e,activeType:t,types:a,advancedFilters:n,directoryKey:i}){const r=Object(_r.a)(),{isOpen:s,onToggle:o,onClose:l}=ul(),c=om(l);return!a||!t||a.length<2?null:y.a.createElement(y.a.Fragment,null,y.a.createElement(ov,{className:e,id:r,direction:s?Jy.Up:Jy.Down,onPress:o},t.title),y.a.createElement(Xs.a,{target:r,isOpen:s,onMenuClose:l},a.map(e=>{const a=Object(mu.a)(e.type);return y.a.createElement(uc.a,{key:e.key,to:e.type===Nt.b.Folder?sm({key:e.key,advancedFilters:void 0}):sm({key:n&&a?i.replace(/type=\w+/,"type="+Ev(a)):e.key}),isSelected:t===e&&e.active,onPress:c},e.title)})))}var Mv=a("2fhx");var Cv=Object(he.a)(am,e=>e?Lb(e.Sort):void 0),jv=a("kjw+"),Dv=a.n(jv);var Pv=function({className:e=Dv.a.container,innerClassName:t=Dv.a.innerContainer,children:a}){return y.a.createElement("div",{className:e},y.a.createElement("div",{className:t},a))};function Tv(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-close-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280,0C434.536,0 560,125.464 560,280C560,434.536 434.536,560 280,560C125.464,560 0,434.536 0,280C0,125.464 125.464,0 280,0ZM435.563,171.005L388.995,124.437L280,233.431L171.005,124.437L124.436,171.005L233.431,280L124.436,388.995L171.005,435.564L280,326.569L388.995,435.564L435.564,388.995L326.569,280L435.563,171.005Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Tv.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var wv=Tv,Nv=a("j5p2"),xv=a.n(Nv);function Av({className:e=xv.a.gutter,buttonClassName:t=xv.a.resetButton,advancedFilters:a}){const{containerKey:n}=Ma(),i=Object(g.useMemo)(()=>nm(n),[n]),r=Object(v.d)(i),s=Object(v.d)(am),o=Object(v.d)(Cv),l=om();return(null==r?void 0:r.filterRules.length)||a?y.a.createElement(Pv,{className:e},y.a.createElement(Mv.a,{className:t,tooltip:Object(Ce.default)("Clear Filter"),to:sm({key:s?j.default.join(s.key,o?{sort:o.activeDirection===_a.f.Ascending?o.key:o.descKey}:{},{parseParams:!0}):"",advancedFilters:void 0}),onPress:l},y.a.createElement(wv,null))):null}var Lv=a("2kxp"),kv=a.n(Lv);function Rv({className:e,children:t}){return y.a.createElement("div",{className:e},t)}Rv.defaultProps={className:kv.a.pageHeaderLeft};var zv=Rv,Uv=a("qBny"),Vv=a("R1OT"),Bv=a.n(Vv);function Fv({className:e=Bv.a.pageHeader,directoryKey:t,meta:a,activeType:n,selectedPivot:i,advancedFilters:r,totalSize:s}){var o,l,c,d,u,p;const[m,h]=Jt(),{listStyle:f}=Ma(),b=Object(g.useMemo)(()=>function({server:e,provider:t,activeType:a}){const n=a?Kb[a.type]:void 0;return n?n.reduce((n,i)=>{const r=qb[i];return n[i]=!!(e&&t&&a)&&r({server:e,provider:t,activeType:a}),n},{}):{}}({server:m,provider:h,activeType:n}),[n,h,m]),v=Object(g.useMemo)(()=>Object(qp.c)(b).some(e=>e),[b]),I=null!=(l=null==(o=null==a?void 0:a.Type)?void 0:o.length)?l:0,S=null!=(d=null==(c=null==n?void 0:n.Filter)?void 0:c.length)?d:0,E=null!=(p=null==(u=null==n?void 0:n.Sort)?void 0:u.length)?p:0;return!a||I<=1&&S<1&&E<=1?null:y.a.createElement(Jm,{className:e},y.a.createElement(zv,null,y.a.createElement(Av,{advancedFilters:r}),r?y.a.createElement("span",{className:Bv.a.infoText},Object(Ce.default)("Advanced Filters")):y.a.createElement(Iv,{className:Bv.a.disclosureArrowLink,directoryKey:t,type:n}),y.a.createElement(Ov,{className:Bv.a.disclosureArrowLink,activeType:n,types:null==a?void 0:a.Type,directoryKey:t,advancedFilters:r}),f!==Nt.a.Table?y.a.createElement(Sv,{className:Bv.a.disclosureArrowLink,directoryKey:t,sorts:null==n?void 0:n.Sort}):null,null!=s?y.a.createElement(Gb.a,null,s):null),v?y.a.createElement(Uv.a,null,y.a.createElement(nv,{activeType:n,selectedPivot:i,listActions:b,totalSize:s,directoryKey:t,advancedFilters:r})):null)}var Hv=Hn("savedDirectoryListKeys");var _v=Object(At.a)((function(e,t,a){return Object(he.a)(Hv,n=>{const i=a?Object(Ct.a)({serverIdentifier:e,providerIdentifier:t,key:a}):void 0;return i?n[i]:void 0})}));var Wv=Object(he.a)(Ra,e=>e.metadataLists);var Qv=Object(he.a)(em,Wv,({metadataListSourceURI:e},t)=>e?t[e]:void 0);var Gv=function({machineIdentifier:e,providerIdentifier:t,directoryKey:a,meta:n,activeType:i,selectedPivot:r,advancedFilters:s}){const o=Object(v.c)(),l=Object(v.d)(Qv),c=Object(v.d)(Hv),d=Object(v.d)(_v(e,t,null==r?void 0:r.key)),u=a||(null!=d?d:null==r?void 0:r.key),p=(null==r?void 0:r.key)?Object(Ct.a)({serverIdentifier:e,providerIdentifier:t,key:null==r?void 0:r.key}):void 0;return Object(g.useEffect)(()=>{!(p&&u&&r&&r.type===St.b.List&&d!==u)||r.key===u&&null==d||!(null==l?void 0:l.isPopulated)||(null==n?void 0:n.Pivot)||(null==i?void 0:i.type)===Nt.b.Folder&&(null==i?void 0:i.key)!==u||s||o(Object(xy.l)({savedDirectoryListKeys:{...c,[p]:u}}))},[null==l?void 0:l.isPopulated,u,o,p,d,c,r,null==n?void 0:n.Pivot,null==i?void 0:i.type,null==i?void 0:i.key,s]),u};var Kv=function(e){return Object(he.a)(tm,t=>{const a=t?Object($p.a)(t):void 0;if(!a||!e)return[Nt.a.Grid];if(function(e){const{providerIdentifier:t}=Object(Ia.a)(e);return qr.l(t,[qr.c,qr.b])}(e))return[Nt.a.Grid];if(a.type===Nt.b.Folder)return[Nt.a.Folder];switch(a.subtype){case Ha.c.Webshow:switch(a.type){case Nt.b.Show:case Nt.b.Episode:return[Nt.a.Grid]}break;case Ha.c.Podcast:switch(a.type){case Nt.b.Show:case Nt.b.Track:return[Nt.a.Grid]}}switch(a.type){case Nt.b.Movie:case Nt.b.Show:case Nt.b.Album:case Nt.b.Episode:return[Nt.a.Grid,Nt.a.Details,Nt.a.Table];case Nt.b.Artist:case Nt.b.Season:return[Nt.a.Grid,Nt.a.Table];case Nt.b.Track:return[a.Sort?Nt.a.Table:Nt.a.Grid];default:return[Nt.a.Grid]}})};var Yv=function(e){return Object(he.a)(Hn("directoryListStyles"),Kv(e),(t,a)=>{if(!e||!a.length)return;const n=t[e];return!!n&&a.includes(n)?n:a[0]})};var qv=Object(At.a)((function(e){return Object(he.a)(Cv,nm(e),(e,t)=>t&&(null==e?void 0:e.firstCharacterKey)?j.default.join(gv(e.firstCharacterKey,t.filterRules),{sort:e.activeDirection===_a.f.Ascending?e.key:e.descKey,includeCollections:1,includeExternalMedia:1},{parseParams:!0}):void 0)})),Zv=a("tXoW"),Xv=a.n(Zv);function Jv({sourceURI:e,directoryKey:t,selectedPivot:a,listStyle:n}){var i;const r=Object(v.c)(),[s,o]=Jt(),l=ea(),c=Rn.a.parseBoolean(l.advancedFilters),[d,{height:u}]=Object(Gu.a)(),{meta:p,metadataListSourceURI:m,firstCharacters:h}=Object(v.d)(em),f=Object(v.d)(Qv),b=p?Object($p.a)(p):void 0,I=null!=(i=null==b?void 0:b.type)?i:Nt.b.Mixed,S=null==b?void 0:b.subtype,E=Gv({machineIdentifier:s.machineIdentifier,providerIdentifier:o.identifier,directoryKey:t,meta:p,activeType:b,selectedPivot:a,advancedFilters:c}),O=Object(g.useMemo)(()=>E?j.default.join(E,{includeCollections:1,includeExternalMedia:1}):void 0,[E]),M=Object(v.d)(qv(O)),[C,D]=Object(g.useState)(),P=Object(g.useMemo)(()=>Yv(e),[e]),T=Object(v.d)(P),w=null!=n?n:T,N=Object(v.d)(xm),x=null!=M&&!(null==h?void 0:h.isPopulated)&&!(null==h?void 0:h.error)||!(null==f?void 0:f.isPopulated)&&!(null==f?void 0:f.error),A=Object(xh.a)(x,!0,250),L=Object(g.useCallback)(e=>{m&&r(ja.a.actions.fetchRangeRequested({...e,server:s,provider:o,sourceURI:m,key:O}))},[r,s,o,m,O]),k=Object(g.useCallback)(()=>{m&&r(ja.a.actions.repopulateRangeRequested({server:s,provider:o,sourceURI:m,key:O}))},[O,r,m,o,s]),R=Object(g.useCallback)(e=>{D(e)},[]);if(Nl({},!!(null==f?void 0:f.isPopulated)),Om(k),Object(g.useEffect)(()=>(O&&Object(Dt.a)(()=>{r(Em.actions.initializeListRequested({server:s,provider:o,sourceURI:e,metadataListSourceURI:m,key:O}))}),()=>{Object(Dt.a)(()=>{m&&r(ja.a.actions.reset({sourceURI:m}))})}),[r,O,m,e]),Object(g.useEffect)(()=>{M&&null!=(null==f?void 0:f.totalSize)&&r(Em.actions.fetchFirstCharactersRequested({server:s,provider:o,key:M}))},[r,s,o,M,null==f?void 0:f.totalSize]),Object(g.useEffect)(()=>{null!=C&&D(void 0)},[C]),!E)return y.a.createElement(va,null);if(null==f?void 0:f.error){const{status:e}=f.error;return 404===e?y.a.createElement(va,null):406===e?y.a.createElement(Qb,{pivot:a}):y.a.createElement(Ue,null)}return f&&e===m?y.a.createElement(Ca,{containerServer:s,containerProvider:o,containerSourceURI:e,containerType:I,containerSubtype:S,containerMeta:p,containerKey:O,listStyle:w},N?y.a.createElement(fh,null):y.a.createElement(Fv,{totalSize:f.totalSize,meta:p,directoryKey:E,activeType:b,selectedPivot:a,advancedFilters:c}),y.a.createElement(jh,{serverEntityID:s.entityID,providerEntityID:o.entityID}),c&&p?y.a.createElement(Ab,{meta:p,directoryKey:E,totalSize:f.totalSize}):null,null==f.totalSize||A?y.a.createElement(Re,null,y.a.createElement(Ge,null)):y.a.createElement("div",{className:Xv.a.listContainer,ref:d},u?y.a.createElement(y.a.Fragment,null,0===f.totalSize?y.a.createElement(mm,{directoryKey:E,selectedPivot:a}):y.a.createElement(hf,{className:Xv.a.pageContentScroller,listType:I,subtype:S,activeType:b,items:f.items,totalSize:f.totalSize,scrollerKey:"DirectoryListPage",targetScrollIndex:C,onPageRequest:L})):null,b&&u&&null!=f.totalSize?y.a.createElement(Fb,{activeType:b,viewportHeight:u,listTotalSize:f.totalSize,onFirstCharacterScroll:R}):null)):y.a.createElement(Re,null,y.a.createElement(Ge,null))}var $v=a("Rj9q");function eI(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 361.506",id:"plex-icon-devices"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["g",{stroke:"#e5a00d",strokeWidth:"2.95"}].concat([y.a.createElement.apply(y.a,["path",{d:"M429.683 360.028h-128.55c-3.944 0-7.606-1.77-10.045-4.86a12.609 12.609 0 01-2.384-10.87l12.32-50.859h128.774l12.322 50.86c.929 3.818.059 7.783-2.384 10.87a12.729 12.729 0 01-10.053 4.859zm-121.35-57.343l-10.607 43.78c-.345 1.436.263 2.484.655 2.988a3.448 3.448 0 002.753 1.328h128.55c1.483 0 2.366-.83 2.758-1.337.392-.495 1-1.543.655-2.98l-10.607-43.779z"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"M304.68 302.685h-38.937c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h38.937c2.564 0 4.641 2.068 4.641 4.623s-2.077 4.623-4.64 4.623zM541.294 302.685H426.146c-2.567 0-4.644-2.065-4.644-4.62s2.077-4.625 4.644-4.625h115.148c4.384 0 7.949-3.548 7.949-7.918v-26.599H265.929c-2.566 0-4.642-2.067-4.642-4.622 0-2.556 2.076-4.623 4.642-4.623h292.596v35.844c0 9.462-7.728 17.163-17.231 17.163z"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"M553.884 258.922a4.628 4.628 0 01-4.641-4.622V18.63c0-4.361-3.565-7.91-7.949-7.91H189.53c-4.384 0-7.947 3.549-7.947 7.91v58.967c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623V18.63c0-9.462 7.729-17.155 17.23-17.155h351.765c9.503 0 17.23 7.693 17.23 17.155V254.3a4.628 4.628 0 01-4.64 4.622zM100.935 360.028H18.04c-9.135 0-16.565-7.403-16.565-16.496v-154.33c0-9.092 7.43-16.495 16.565-16.495h82.895c9.135 0 16.565 7.403 16.565 16.495v154.33c0 9.093-7.43 16.496-16.565 16.496zM18.04 181.952c-4.017 0-7.28 3.25-7.28 7.25v154.33c0 4 3.263 7.249 7.28 7.249h82.895c4.017 0 7.281-3.249 7.281-7.25V189.203c0-4-3.264-7.25-7.28-7.25z"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"M112.088 206.735H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h104.311c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM112.088 323.353H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.624 4.642-4.624h104.311c2.566 0 4.642 2.069 4.642 4.624 0 2.555-2.076 4.623-4.642 4.623zM67.384 194.348H55.462c-2.566 0-4.642-2.067-4.642-4.623 0-2.555 2.076-4.622 4.642-4.622h11.922c2.566 0 4.642 2.067 4.642 4.622 0 2.556-2.076 4.623-4.642 4.623zM59.488 349.359c-6.56 0-11.9-5.32-11.9-11.855 0-6.53 5.34-11.846 11.9-11.846 6.56 0 11.9 5.316 11.9 11.846 0 6.535-5.34 11.855-11.9 11.855zm0-14.458a2.611 2.611 0 00-2.616 2.603 2.618 2.618 0 002.616 2.608 2.618 2.618 0 002.616-2.608 2.611 2.611 0 00-2.616-2.603z"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"M226.172 360.03h-91.097c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h91.097c6.85 0 12.42-5.553 12.42-12.369V117.552c0-6.817-5.57-12.37-12.42-12.37H107.536c-6.846 0-12.417 5.553-12.417 12.37v40.277c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623v-40.277c0-11.918 9.733-21.615 21.7-21.615h118.637c11.967 0 21.705 9.697 21.705 21.615v220.863c0 11.917-9.738 21.616-21.705 21.616z"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"M242.129 136.557H92.848c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h149.28c2.567 0 4.643 2.068 4.643 4.623s-2.076 4.623-4.642 4.623zM242.129 315.593h-106.46c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h106.46c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM178.151 122.94h-17.059c-2.566 0-4.642-2.067-4.642-4.622 0-2.555 2.076-4.623 4.642-4.623h17.06c2.565 0 4.641 2.068 4.641 4.623s-2.076 4.623-4.642 4.623zM166.854 348.158c-8.287 0-15.028-6.715-15.028-14.968 0-8.252 6.741-14.97 15.028-14.97s15.028 6.718 15.028 14.97c0 8.253-6.741 14.968-15.028 14.968zm0-20.695c-3.169 0-5.744 2.567-5.744 5.727s2.575 5.724 5.744 5.724c3.169 0 5.744-2.564 5.744-5.724s-2.575-5.727-5.744-5.727zM380.652 30.415h-30.481a4.628 4.628 0 01-4.641-4.623 4.628 4.628 0 014.64-4.623h30.482a4.628 4.628 0 014.641 4.623 4.628 4.628 0 01-4.64 4.623z"}].concat([]))]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}eI.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var tI=eI,aI=a("QAuZ");function nI(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-parental-controls"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["g",void 0].concat([y.a.createElement.apply(y.a,["path",{d:"M548.3 559.273H361.152c-6.456 0-11.696-5.22-11.696-11.657V407.73c0-6.435 5.24-11.657 11.696-11.657H548.3c6.457 0 11.7 5.222 11.7 11.657v139.885c0 6.437-5.243 11.657-11.7 11.657zm-175.451-23.315h163.756v-116.57H372.849z"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"M454.726 512.644c-6.457 0-11.697-5.22-11.697-11.657v-34.97c0-6.435 5.24-11.657 11.697-11.657 6.457 0 11.697 5.222 11.697 11.657v34.97c0 6.438-5.24 11.657-11.697 11.657z"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"M454.727 489.33c12.92 0 23.392-10.44 23.392-23.314 0-12.876-10.472-23.314-23.392-23.314s-23.394 10.438-23.394 23.314c0 12.875 10.474 23.314 23.394 23.314zM524.905 419.388c-6.457 0-11.695-5.223-11.695-11.658v-23.314c0-32.127-26.222-58.286-58.484-58.286-32.26 0-58.484 26.159-58.484 58.286v23.314c0 6.435-5.24 11.658-11.697 11.658-6.457 0-11.697-5.223-11.697-11.658v-23.314c0-44.997 36.728-81.6 81.878-81.6 45.152 0 81.879 36.603 81.879 81.6v23.314c0 6.435-5.244 11.658-11.7 11.658zM11.7 559.772c-.936 0-1.872-.114-2.831-.347-6.293-1.565-10.083-7.884-8.516-14.131l14.06-56.002c6.854-27.23 26.856-48.773 53.548-57.632l103.821-34.482c24.4-10.165 35.816-50.429 38.272-65.7-17.919-16.367-34.599-40.987-34.599-63.135 0-8.253-2.456-11.657-3.743-12.287-3.65-.91-5.708-3.217-7.112-6.691-1.286-3.194-12.539-31.778-12.539-50.965 0-.956.117-1.912.352-2.821 1.286-5.106 4.865-12.59 11.345-16.973v-61.807C163.758 68.12 208.253.228 280.727.228c71.584 0 91.048 36.58 93.317 54.672 12.141 8.93 23.65 24.34 23.65 61.9v61.806c6.48 4.383 10.084 11.844 11.347 16.973.234.932.35 1.865.35 2.82 0 19.188-11.228 47.772-12.538 50.966-1.404 3.474-4.375 6.085-8.024 6.97-.351.35-2.83 3.755-2.83 12.008 0 21.1-8.353 32.034-13.358 38.562l-1.755 2.401c-3.603 5.362-10.878 6.761-16.212 3.218-5.38-3.59-6.83-10.818-3.252-16.18.749-1.096 1.638-2.285 2.62-3.591 4.024-5.246 8.562-11.19 8.562-24.41 0-17.416 7.23-27.091 14.083-31.638 3.369-9.139 8.726-25.715 9.264-36.533-.421-.933-.959-1.866-1.333-2.192-6.457 0-10.317-4.78-10.317-11.214v-69.967c0-34.318-11.065-41.313-15.79-44.297-2.831-1.795-7.603-4.803-8.282-11.214-.163-1.376.048-2.961.491-4.546-1.637-9.233-15.673-33.2-69.993-33.2-57.104 0-93.575 55.232-93.575 93.257v69.944c0 6.434-5.24 11.657-11.697 11.657.562 0 .35.792.048 1.678.515 10.842 5.918 27.488 9.264 36.604 6.854 4.57 14.083 14.222 14.083 31.638 0 15.69 15.51 36.673 30.833 49.31a11.633 11.633 0 014.257 8.975c0 14.805-13.498 75.539-53.992 92.349L75.33 453.739c-19.065 6.318-33.383 21.729-38.249 41.172l-14.06 56.002c-1.286 5.339-6.058 8.86-11.322 8.86z"}].concat([]))]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}nI.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var iI=nI,rI=a("LtKR"),sI=a.n(rI);function oI(){return y.a.createElement(Re,{title:Object(Ce.default)("Sign up for a free account to continue"),description:Object(Ce.default)("Some benefits to a Plex account:")},y.a.createElement("div",{className:sI.a.container},y.a.createElement("div",{className:sI.a.panel},y.a.createElement(tI,{className:sI.a.panelIcon}),y.a.createElement("div",{className:sI.a.panelTitle},Object(Ce.default)("One App, Any Device")),y.a.createElement("div",{className:sI.a.panelDescription},Object(Ce.default)("Pick up whatever you were watching exactly where you left off on any device"))),y.a.createElement("div",{className:sI.a.panel},y.a.createElement(aI.a,{className:sI.a.panelIcon}),y.a.createElement("div",{className:sI.a.panelTitle},Object(Ce.default)("Save Your Favorites")),y.a.createElement("div",{className:sI.a.panelDescription},Object(Ce.default)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),y.a.createElement("div",{className:sI.a.panel},y.a.createElement(iI,{className:sI.a.panelIcon}),y.a.createElement("div",{className:sI.a.panelTitle},Object(Ce.default)("Parental Controls")),y.a.createElement("div",{className:sI.a.panelDescription},Object(Ce.default)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),y.a.createElement($v.a,null,y.a.createElement(ba,{to:"#!/signUp",kind:da.Primary,size:_e.Large},Object(Ce.default)("Sign Up"))))}function lI({className:e}){const t=Object(v.c)(),a=Object(v.d)(Hn("columnWidthMultiplier")),[n,i]=Object(g.useState)(a),r=Object(g.useCallback)(({positionValue:e})=>{i(e)},[]);return Object(g.useEffect)(()=>{const e=Math.round(10*n)/10;let i;return n!==a&&(i=window.setTimeout(()=>{t(Object(xy.l)({columnWidthMultiplier:e}))},100)),()=>window.clearTimeout(i)},[a,t,n]),y.a.createElement(nr.a,{className:e,label:Object(Ce.default)("Poster Size"),value:n,min:1,max:2,onChange:r})}function cI(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-column-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m504 504h-448v-44.8h448v44.8m-448-156.8h448v44.8h-448v-44.8m448-112v44.8h-448v-44.8h448m0-67.2h-448v-112h448v112"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}cI.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var dI=cI;function uI(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-detail-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m56 168h112v-112h-112v112m0 168h112v-112h-112v112m0 168h112v-112h-112v112m168-369.6h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}uI.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var pI=uI;function mI(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-grid-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m56 392l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m280 0l0 112-112 0 0-112 112 0m-448-168l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m-336-168l112 0 0 112-112 0 0-112m336 0l112 0 0 112-112 0 0-112m-168 0l112 0 0 112-112 0 0-112"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}mI.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var hI=mI,gI=a("7MQH"),yI=a.n(gI);function fI({listStyles:e,selectedListStyle:t,onListStyleSelect:a}){const n=ul(),i=Object(_r.a)(),r=Object(g.useCallback)(e=>{n.onClose(),null==a||a(e)},[n,a]),s=e.length>1,o=t===Nt.a.Grid||t===Nt.a.PrePlayGrid,l=function(e){switch(e){case Nt.a.Details:case Nt.a.SimpleDetails:return pI;case Nt.a.Table:return dI;default:return hI}}(t);return o||s?y.a.createElement("div",{className:yI.a.stylesContainer},o?y.a.createElement(lI,{className:yI.a.slider}):null,y.a.createElement(ga,{id:i,"data-qa-id":"toolbarView",className:s?yI.a.stylesButtonWithArrow:yI.a.stylesButton,"aria-label":Object(Ce.default)("Show List Styles"),isDisabled:!s,onPress:n.onToggle},y.a.createElement(l,{className:yI.a.stylesIcon}),s?y.a.createElement(oc.a,{direction:n.isOpen?lc.c:lc.a}):null),s?y.a.createElement(Xs.a,{target:i,isOpen:n.isOpen,onMenuClose:n.onClose},e.map(e=>{const a=function(e){switch(e){case Nt.a.Grid:case Nt.a.PrePlayGrid:return Object(Ce.default)("Grid View");case Nt.a.Details:case Nt.a.SimpleDetails:return Object(Ce.default)("Detail View");case Nt.a.Table:return Object(Ce.default)("Table View");default:return}}(e);return a?y.a.createElement(uc.a,{key:e,isSelected:t===e,title:a,value:e,onSelect:r},a):null})):null):null}var bI=a("8cH1"),vI=a("D1lN"),II=a("RzpD"),SI=a("hxAH");function EI(e){const{sourceType:t,sourceServer:a,sourceProvider:n,sourceDirectory:i}=e,r={key:Object(II.a)(t,a.machineIdentifier,n.identifier,i.id),sourceType:t,serverEntityID:a.entityID,machineIdentifier:a.machineIdentifier,providerEntityID:n.entityID,providerIdentifier:n.identifier,providerMetricsIdentifier:n.metricsIdentifier,directoryID:i.id,directoryIcon:i.icon,title:i.title,serverFriendlyName:a.friendlyName,serverSourceTitle:a.sourceTitle,providerSourceTitle:n.sourceTitle,isLocal:a.isConnected&&a.activeConnection&&a.activeConnection.isPrivate,isUnavailable:a.isUnavailable,isOutOfDate:a.isOutOfDate,isUnclaimedServer:a.isConnected&&!a.isClaimed&&!a.isCloud,isFullOwnedServer:a.isFullOwnedServer,isProviderReady:n.isPopulated||null!=n.error||a.isUnavailable||a.isUnauthorized};return a.isCloud?r.isCloud=!0:t===SI.a&&(r.title=Object(Ce.default)("Live TV & DVR")),r}var OI=a("xMA9");function MI(e){const{friendlyName:t,isShared:a}=e;return a?t:void 0}function CI(e){const{friendlyName:t,sourceTitle:a,isShared:n}=e;return n?a:t}var jI=a("2pL0"),DI=a("J/RP"),PI=a.n(DI);var TI=function(e){const{title:t,detail:a,route:n}=e,i=n?jI.a:"div";return y.a.createElement(i,{className:n?PI.a.containerWithRoute:PI.a.container,to:n},y.a.createElement("div",{className:PI.a.title},t),a?y.a.createElement("div",{className:PI.a.detail},a):null)};class wI extends g.Component{shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{children:e,iconComponent:t,label:a,isMenuOpen:n,...i}=this.props;return y.a.createElement(Mv.a,{"aria-haspopup":!0,"data-qa-id":"toolbarMore",tooltip:n?void 0:a,hideOnPress:!1,...i},y.a.createElement(t,null),e)}}var NI=wI,xI=a("HYaw"),AI=a("xMKj");var LI=function(){return Object(he.a)(Object(xI.a)(),Object(AI.a)(),(e,t)=>e?M.a.find(t,t=>t.type===Ms.n&&t.Context.identifier===e.identifier):null)},kI=a("jLMb"),RI=a("dZ7a");var zI=Object(he.a)(ge.a,e=>e.sidebarSettings);var UI=Object(he.a)(zI,e=>e.pinnedSources),VI=a("LSig"),BI=a("Lo/S");var FI=Qn.a.shape({key:Qn.a.string,directoryID:Qn.a.string,directoryIcon:Qn.a.string,sourceType:Qn.a.string,title:Qn.a.string,titleDetail:Qn.a.string,detail:Qn.a.string,route:Qn.a.string,machineIdentifier:Qn.a.string,providerIdentifier:Qn.a.string,providerMetricsIdentifier:Qn.a.string,isUnavailable:Qn.a.bool,isOutOfDate:Qn.a.bool,isUnclaimedServer:Qn.a.bool,isSelected:Qn.a.bool,isCloud:Qn.a.bool}),HI=a("T+Fn"),_I=a("tibn"),WI=a("92Vb"),QI=a("GdCd"),GI=a("hPIe");const KI="providers/fetchProvider",YI=Object(yo.a)("provider/fetchCloudProviders"),qI=Object(yo.a)("provider/populateCloudProviders"),ZI=Object(yo.a)(KI,e=>{const{options:t={}}=e;return{...e,options:{...t,allowHeadersInUrl:!1}}}),XI=Object(yo.a)("providers/populateProvider"),JI={"provider/fetchCloudProviders":Object(WI.a)({key:"providers",getModel:GI.o}),"provider/populateCloudProviders":Object(QI.a)({key:"providers",fetchActionCreator:YI,getModel:GI.o}),[KI]:Object(WI.a)({getModel:GI.j}),"providers/populateProvider":Object(QI.a)({getModel:GI.j,fetchActionCreator:ZI})};var $I=a("hFBU"),eS=a("INWF"),tS=a("5XbV"),aS=a("+fvj"),nS=a("Vk9Z"),iS=a("2ifn"),rS=a("b3RP"),sS=a("YsE3"),oS=a("5WoL");const lS=Object(yo.a)("provider/addToCatalog"),cS=Object(yo.a)("provider/clearAddToCatalogError"),dS=Object(yo.a)("provider/scanLibraryFiles"),uS=Object(yo.a)("provider/editLibrary"),pS=Object(yo.a)("provider/emptyLibraryTrash"),mS=Object(yo.a)("provider/analyzeLibrary"),hS=Object(yo.a)("provider/deleteLibrary"),gS=Object(yo.a)("provider/upgradeLibrary"),yS=Object(yo.a)("provider/scanLibraryFiles",e=>({...e,force:!0})),fS=Object(yo.a)("provider/scanLibraryFiles",e=>({...e,cancel:!0}));function bS(e){const t=e.get("key");return e.get("id")||t.substr(t.lastIndexOf("/")+1)}function vS(e,t){const a=Object(GI.j)(e,t).get("features").get(nS.c),n={};return t.contentDirectory.key&&(n.key=t.contentDirectory.key),t.contentDirectory.hubKey&&(n.hubKey=t.contentDirectory.hubKey),a.get("directories").findWhere(n)}function IS(e,t){const a=e.get("features").get(nS.c).get("key");let n;return n=a?j.default.join([a,t.get("id")]):t.get("key"),n}function SS(e,t){e($I.u({serverEntityID:t})),e($I.t({serverEntityID:t})),e(Object(eS.c)({serverEntityID:t}))}const ES={"provider/fetchCloudProviders":JI["provider/fetchCloudProviders"],"provider/populateCloudProviders":JI["provider/populateCloudProviders"],[KI]:JI[KI],"providers/populateProvider":JI["providers/populateProvider"],"provider/clearAddToCatalogError"(e,t){e.get("ui").get("addToCatalogModal").set("error",null)},"provider/addToCatalog"(e,t,a){const n=e.get("ui").get("addToCatalogModal"),i=Object(GI.j)(e,t),r=i.get("features").get("actions").get("actions").get("addToCatalog").get("key");if(Object(Dt.a)(()=>{n.set({isUpdating:!0,error:null})}),t.data.fileURL){const e=new window.XMLHttpRequest;return e.open("GET",t.data.fileURL,!0),e.responseType="blob",e.onload=e=>{if(200===e.target.status){const t=e.target.response,a=new window.FormData;a.append("file",t);const s=i.getXHROptions(r,{method:"POST",processData:!1,contentType:!1,data:a});h.a.ajax(s).then((e,t,a)=>{n.set({isUpdating:!1})},e=>{n.set({isUpdating:!1,error:Object(rS.a)(e)})})}window.URL.revokeObjectURL(t.data.fileURL)},void e.send()}const s=j.default.join(r,{url:t.data.channelURL}),o=i.getXHROptions(s,{method:"PUT",dataType:"json"});h.a.ajax(o).then((e,t,a)=>{n.set("isUpdating",!1);const r=new _I.a(e,{server:i.server,provider:i,parse:!0});if(!r.get("key"))return void n.set({isUpdating:!1,error:Object(rS.a)(a)});const s=Object(Ka.a)(i.server.state,i.state,r.get("key"));window.location.hash=s},e=>{n.set({isUpdating:!1,error:Object(rS.a)(e)})})},"provider/scanLibraryFiles"(e,t,a){const{cancel:n,force:i,metricsPage:r}=t,s=Object(GI.m)(e,t),o=vS(e,t),l={libraryID:bS(o),libraryType:o.get("type"),cancel:n,force:i,allowMetrics:!!r,metricsProperties:{page:r}};o.set("refreshing",!n),Object(sS.a)(s,l).fail(e=>{let t;t=n?Object(Ce.default)("There was an unexpected error canceling the scan."):i?503===e.status?Object(Ce.default)("An internet connection is required to refresh library metadata. Please check this server's connection and try again."):Object(Ce.default)("There was an unexpected error refreshing library metadata."):503===e.status?Object(Ce.default)("An internet connection is required to scan library files. Please check this server's connection and try again."):Object(Ce.default)("There was an unexpected error scanning library files."),a(Object(eS.d)(t))}).always(e=>{a($I.A({serverEntityID:t.serverEntityID}))})},"provider/editLibrary"(e,t){const a=Object(GI.m)(e,t),n=a.get("desktop").get("libraries"),i=vS(e,t);n.fetch().then(()=>{const e=bS(i),r=n.get(e);$.a.trigger("show:modal",new oS.a({server:a,model:r})),Object(E.c)("metrics").trackClick({page:t.metricsPage,action:Gi.y,type:r.get("type"),context:aS.LIBRARY})})},"provider/emptyLibraryTrash"(e,t,a){const n=Object(GI.m)(e,t),i=Object(GI.j)(e,t),r=vS(e,t),s=IS(i,r),o=j.default.join([s,"emptyTrash"]),l=n.getXHROptions(o,{type:"PUT"});h.a.ajax(l).done(()=>{a(Object(eS.d)({type:tS.b,message:Object(Ce.default)("The trash was emptied.")}))}).fail(e=>{a(Object(eS.d)(Object(Ce.default)("There was a problem emptying the trash.")))}),Object(E.c)("metrics").trackClick({page:t.metricsPage,action:Gi.z,type:r.get("type"),context:aS.LIBRARY})},"provider/analyzeLibrary"(e,t,a){const n=Object(GI.m)(e,t),i=Object(GI.j)(e,t),r=vS(e,t),s=IS(i,r),o=j.default.join([s,"analyze"]),l=n.getXHROptions(o,{type:"PUT"});h.a.ajax(l).fail(e=>{a(Object(eS.d)(Object(Ce.default)("There was a problem analyzing the library.")))}),Object(E.c)("metrics").trackClick({page:t.metricsPage,action:Gi.i,type:r.get("type"),context:aS.LIBRARY})},"provider/deleteLibrary"(e,t,a){const n=Object(GI.m)(e,t),i=Object(GI.j)(e,t),r=vS(e,t),s=IS(i,r),o=j.default.join(s,{async:1}),l=n.getXHROptions(o,{type:"DELETE"});i.get("features").get(nS.c).get("directories").remove(r),h.a.ajax(l).fail(()=>{SS(a,t.serverEntityID),a(Object(eS.d)(Object(Ce.default)("There was a problem deleting the library.")))}),Object(E.c)("metrics").trackClick({page:t.metricsPage,action:Gi.q,type:r.get("type"),context:aS.LIBRARY})},"provider/upgradeLibrary"(e,t,a){const n=Object(GI.m)(e,t),i=Object(GI.j)(e,t),r=vS(e,t),s=r.get("type");let o;o=s===wo.MOVIE?{agent:VI.f,scanner:iS.b}:s===wo.ARTIST?{agent:VI.g,scanner:iS.d}:{agent:VI.i,scanner:iS.h};const l=IS(i,r),c=j.default.join(l,o),d=n.getXHROptions(c,{type:"PUT"});h.a.ajax(d).then(()=>{SS(a,t.serverEntityID)},()=>{a(Object(eS.d)(Object(Ce.default)("There was a problem upgrading the library.")))})},[$I.g](e,t,a){t.activity.type===Ms.e&&SS(a,t.serverEntityID)}};var OS=a("prlC"),MS=a("U//L"),CS=a("B69o"),jS=a("WfwD");var DS=CS.a.extend({name:"DVRCollection",context:["server"],model:jS.a,url:"/livetv/dvrs"}),PS=a("G53E"),TS=a("w41d");const wS=Object(yo.a)("ui/dvrSettings/initDVRSettingsUI"),NS=Object(yo.a)("ui/dvrSettings/clearDVRSettingsUI"),xS=Object(yo.a)("ui/dvrSettings/fetchDVRs"),AS=Object(yo.a)("ui/dvrSettings/removeDVR"),LS=Object(yo.a)("ui/dvrSettings/reloadGuide"),kS=Object(yo.a)("ui/dvrSettings/cancelReloadGuide");function RS(e){return e.get("ui").get("dvrSettingsUI")}function zS(e,t,a){const n=Object(TS.k)(e,t),i=j.default.join(["/livetv/dvrs",t.dvrID,"reloadGuide"]),r=n.getXHROptions(i,{method:a});h.a.ajax(r)}const US=Object(MS.a)({"ui/dvrSettings/fetchDVRs":Object(WI.a)({key:"dvrs",getModel:RS}),"ui/dvrSettings/initDVRSettingsUI"(e,t,a){const n=RS(e),i=n.get("dvrSetup"),r=n.get("dvr"),s=Object(TS.k)(e,t),o=s.get("machineIdentifier"),l={isUIPopulated:!0};r&&r.server.get("machineIdentifier")===o||(l.dvrs=new DS([],{server:s})),i&&i.server.get("machineIdentifier")===o?i.restoreDefaults():l.dvrSetup=new PS.a({},{server:s}),n.set(l),(s.hasOwnerFeature("dvr")||s.hasOwnerFeature("livetv"))&&a(xS(t))},"ui/dvrSettings/clearDVRSettingsUI"(e){RS(e).set("isUIPopulated",!1)},"ui/dvrSettings/removeDVR"(e,t,a){const n=RS(e).get("dvrs").get(t.dvrID);n&&n.destroy().fail(()=>a(Object(eS.d)(Object(Ce.default)("There was a problem removing your DVR"))))},"ui/dvrSettings/reloadGuide"(e,t,a){zS(e,t,"POST")},"ui/dvrSettings/cancelReloadGuide"(e,t,a){zS(e,t,"DELETE")}});var VS=a("l9jO"),BS=a("yvfd"),FS=a.n(BS);function HS({forwardedRef:e,className:t=FS.a.input,errorClassName:a=FS.a.hasError,disabledClassName:n=FS.a.isDisabled,isDisabled:i=!1,hasError:r=!1,name:s,size:o=_e.Medium,...l}){return y.a.createElement("input",{className:Pe()(t,FS.a[o],i&&n,r&&a),type:"checkbox",name:s,disabled:i,ref:e,...l})}var _S=y.a.forwardRef((e,t)=>y.a.createElement(HS,{...e,forwardedRef:t}));const WS={isImporting:!1,isImported:!1,importError:null};var QS=Object(jr.c)({name:"importPlaylists",initialState:WS,reducers:{reset:()=>WS,importRequested(e,t){e.isImporting=!0,e.importError=null},importSucceeded(e,t){e.isImporting=!1,e.isImported=!0},importFailed(e,{payload:t}){e.isImporting=!1,e.importError=t.error}}});var GS=Object(he.a)(wr,e=>e.importPlaylists),KS=a("DHe7"),YS=a.n(KS);function qS({isOpen:e,onModalClose:t}){var a;const[n,i]=Jt(),r=Object(v.c)(),{isImporting:s,isImported:o,importError:l}=Object(v.d)(GS),c=Object(xt.a)(i,St.e.Content),d=(null!=(a=null==c?void 0:c.directories)?a:[]).filter(e=>e.type===Ha.d.Artist).map(({id:e,title:t})=>({value:e,label:t})),{register:u,handleSubmit:p}=Object(fl.b)({defaultValues:{importAll:!1,sectionID:null==d?void 0:d[0].value}}),m=p(({importAll:e,sectionID:t})=>{if(!d.length)return;const a=null!=t?t:d[0].value;r(QS.actions.importRequested({server:n,importAll:e,sectionID:a}))});return Object(g.useEffect)(()=>{o&&t()},[r,o,t]),Object(g.useEffect)(()=>{e||r(QS.actions.reset())},[r,e]),y.a.createElement(Wl,{size:_e.Small,isOpen:e,onModalClose:t},y.a.createElement(Yl,{onModalClose:t},y.a.createElement(nc,null,Object(Ce.default)("Import from iTunes")),l?y.a.createElement(Xl,{message:Object(Ce.default)("Something went wrong. Make sure the server is available and try again.")}):null,y.a.createElement("form",{onSubmit:m},y.a.createElement(od,null,y.a.createElement("div",{className:YS.a.description},Object(Ce.default)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library. Depending on how many tracks you have, this process can take many minutes to complete.")),y.a.createElement("label",{className:YS.a.row},y.a.createElement(_S,{name:"importAll",ref:u}),y.a.createElement("span",{className:YS.a.overwrite},Object(Ce.default)("Overwrite existing playlists"))),d.length>1?y.a.createElement("label",{className:YS.a.row},y.a.createElement("span",{className:YS.a.library},Object(Ce.default)("Add to library:")),y.a.createElement(id,{name:"sectionID",ref:u},d.map(({value:e,label:t},a)=>y.a.createElement("option",{key:a,value:e},t)))):null),y.a.createElement(ec,null,y.a.createElement(dd,{className:YS.a.buttonBar},y.a.createElement(ba,{onPress:t},Object(Ce.default)("Cancel")),y.a.createElement(Il,{className:YS.a.button,isSpinning:s,type:"submit",kind:da.Primary},Object(Ce.default)("Import")))))))}var ZS=a("wrVM"),XS=a.n(ZS);var JS=function(e){return y.a.createElement(Xc.a,{...e,containerClassName:XS.a.modalContainer})},$S=a("gBB/"),eE=a.n($S);var tE=function(e){return y.a.createElement(Xs.a,{...e,portalClassName:eE.a.menuPortal})};function aE(e){const{sourceDirectory:t,hasPlexMusicUpgrade:a,hasPlexMovieUpgrade:n,hasPlexSeriesUpgrade:i,isUnavailable:r,onMenuClose:s,onCancelScanLibraryPress:o,onScanLibraryPress:l,onSharePress:c,onEditLibraryPress:d,onRefreshAllLibraryMetadataPress:u,onEmptyLibraryTrashPress:p,onAnalyzeLibraryPress:m,onDeleteLibraryPress:h,onUpgradeLibraryPress:g}=e,f=r||!t;return y.a.createElement(y.a.Fragment,null,t&&t.refreshing?y.a.createElement(Js.a,{onPress:Object(to.a)(s,o)},Object(Ce.default)("Cancel Scan")):y.a.createElement(Js.a,{isDisabled:f,onPress:Object(to.a)(s,l)},Object(Ce.default)("Scan Library Files")),y.a.createElement(Js.a,{isDisabled:f,onPress:Object(to.a)(s,c)},Object(Ce.default)("Share…")),y.a.createElement(eo.a,{label:Object(Ce.default)("Manage Library"),isDisabled:f,onMenuClose:s},a||n||i?y.a.createElement(Js.a,{isDisabled:f,onPress:Object(to.a)(s,g)},Object(Ce.default)("Upgrade Matching")):null,y.a.createElement(Js.a,{onPress:Object(to.a)(s,d)},Object(Ce.default)("Edit...")),y.a.createElement(Js.a,{onPress:Object(to.a)(s,u)},Object(Ce.default)("Refresh All Metadata")),y.a.createElement(Js.a,{onPress:Object(to.a)(s,p)},Object(Ce.default)("Empty Trash")),y.a.createElement(Js.a,{onPress:Object(to.a)(s,m)},Object(Ce.default)("Analyze")),y.a.createElement(Js.a,{kind:ao.a,onPress:Object(to.a)(s,h)},Object(Ce.default)("Delete"))))}function nE(e){const{machineIdentifier:t,isGuideRefreshing:a,isUnavailable:n,onMenuClose:i,onCancelRefreshGuidePress:r,onRefreshGuidePress:s}=e,o=n;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Js.a,{to:Object(lm.a)(t,"manage","dvr"),isDisabled:o,onPress:i},Object(Ce.default)("Settings")),a?y.a.createElement(Js.a,{onPress:Object(to.a)(i,r)},Object(Ce.default)("Cancel Refresh")):y.a.createElement(Js.a,{isDisabled:o,onPress:Object(to.a)(i,s)},Object(Ce.default)("Refresh Guide")))}function iE(e){const{onMenuClose:t,onImportPlaylistsPress:a}=e;return y.a.createElement(Js.a,{onPress:Object(to.a)(t,a)},Object(Ce.default)("Import from iTunes..."))}var rE=function(e){const{provider:t,hasProviderSettings:a,hasLibraryActions:n,hasDVRActions:i,hasPlaylistsActions:r,isPinned:s,isReorderable:o,isUnavailable:l,onMenuClose:c,onTogglePinSources:d,onReorderPinSources:u}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Js.a,{onPress:Object(to.a)(c,d)},s?Object(Ce.default)("Unpin"):Object(Ce.default)("Pin")),o?y.a.createElement(Js.a,{onPress:Object(to.a)(c,u)},Object(Ce.default)("Reorder")):null,a&&!l?y.a.createElement(Js.a,{to:`#!/provider/${encodeURIComponent(t.identifier)}/settings`,onPress:c},Object(Ce.default)("Personalize")):null,n?y.a.createElement(aE,{...e}):null,i?y.a.createElement(nE,{...e}):null,r?y.a.createElement(iE,{...e}):null)},sE=a("qqi0"),oE=a("/Efv"),lE=a.n(oE);var cE=function(e){const{machineIdentifier:t,providerIdentifier:a,serverEntityID:n,source:i,sourceDirectory:r,target:s,menuOptions:o,hasLibraryActions:l,hasPlaylistsActions:c,isDeletingLibrary:d,isOverflowMenuOpen:u,onOverflowMenuClose:p,onUpgradeLibraryPress:m,onAnalyzeLibraryPress:h,onEmptyLibraryTrashPress:f,onRefreshAllLibraryMetadataPress:b,onDeleteLibraryPress:v,...I}=e,S=Object(sE.a)(),E=Object(sE.a)(m),O=Object(sE.a)(b),M=Object(sE.a)(f),C=Object(sE.a)(h),j=Object(sE.a)(),D=Object(sE.a)(),P=Object(Or.a)(d);return Object(g.useEffect)(()=>{P&&!d&&j.onClose()},[d,P,j]),y.a.createElement(y.a.Fragment,null,y.a.createElement(tE,{target:s,options:o,isOpen:u,onMenuClose:p},y.a.createElement(rE,{...I,serverEntityID:n,machineIdentifier:t,sourceDirectory:r,hasLibraryActions:l,hasPlaylistsActions:c,onSharePress:S.onOpen,onUpgradeLibraryPress:E.onOpen,onRefreshAllLibraryMetadataPress:O.onOpen,onEmptyLibraryTrashPress:M.onOpen,onAnalyzeLibraryPress:C.onOpen,onDeleteLibraryPress:j.onOpen,onImportPlaylistsPress:D.onOpen,onMenuClose:p})),l?y.a.createElement(y.a.Fragment,null,y.a.createElement(yd.a,{metricsProperties:{context:aS.LIST},serverEntityID:n,sourceDirectory:r,isOpen:S.isOpen,onModalClose:S.onClose}),y.a.createElement(JS,{isOpen:E.isOpen,metricsPage:It.C,title:Object(Ce.default)("Upgrade Library Matching?"),message:y.a.createElement(y.a.Fragment,null,y.a.createElement("div",null,Object(Ce.default)("This library is currently using a legacy agent to match items and fetch artwork and other metadata. There is a newer, faster, and more accurate agent available for this type of media. Would you like to upgrade this library now?")),y.a.createElement("div",{className:lE.a.modalNote},Object(Ce.default)('Note: Existing items in this library will not be affected until they are refreshed. You can refresh them individually or upgrade all existing items with "Refresh All Metadata".'))),confirmLabel:Object(Ce.default)("Upgrade"),onConfirm:E.onConfirm,onCancel:E.onClose}),y.a.createElement(JS,{isOpen:O.isOpen,metricsPage:It.q,title:Object(Ce.default)("Refresh All Metadata"),message:Object(Ce.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Ce.default)("Refresh"),onConfirm:O.onConfirm,onCancel:O.onClose}),y.a.createElement(JS,{isOpen:M.isOpen,metricsPage:It.p,title:Object(Ce.default)("Empty Trash"),message:Object(Ce.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ce.default)("Empty"),onConfirm:M.onConfirm,onCancel:M.onClose}),y.a.createElement(JS,{isOpen:C.isOpen,metricsPage:It.g,title:Object(Ce.default)("Analyze Library"),message:Object(Ce.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Ce.default)("Analyze"),onConfirm:C.onConfirm,onCancel:C.onClose}),y.a.createElement(JS,{isOpen:j.isOpen,isConfirmButtonSpinning:d,isCancelButtonDisabled:d,metricsPage:It.l,kind:ao.a,title:Object(Ce.default)("Delete Library"),message:Object(Ce.default)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:i.title}),accordMessage:Object(Ce.default)('Yes, delete the library "{libraryName}"',{libraryName:i.title}),confirmLabel:Object(Ce.default)("Delete"),onConfirm:v,onCancel:j.onClose})):null,c?y.a.createElement($t,{machineIdentifier:t,providerIdentifier:a},y.a.createElement(qS,{isOpen:D.isOpen,onModalClose:D.onClose})):null)};const dE={dispatchScanLibraryFiles:dS,dispatchCancelScanLibraryFiles:fS,dispatchUpgradeLibrary:gS,dispatchEditLibrary:uS,dispatchRefreshAllLibraryMetadata:yS,dispatchEmptyLibraryTrash:pS,dispatchAnalyzeLibrary:mS,dispatchDeleteLibrary:hS,dispatchRedirectToRoute:HI.i,dispatchReloadGuide:LS,dispatchCancelReloadGuide:kS,dispatchPopulateHasiTunes:OS.i,dispatchPinSources:VS.t,dispatchUnpinSources:VS.R};class uE extends g.Component{constructor(){super(...arguments),this.onScanLibraryPress=()=>{this.props.dispatchScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onCancelScanLibraryPress=()=>{this.props.dispatchCancelScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEditLibraryPress=()=>{this.props.dispatchEditLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onRefreshAllLibraryMetadataPress=()=>{this.props.dispatchRefreshAllLibraryMetadata({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEmptyLibraryTrashPress=()=>{this.props.dispatchEmptyLibraryTrash({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onAnalyzeLibraryPress=()=>{this.props.dispatchAnalyzeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onDeleteLibraryPress=()=>{this.props.dispatchDeleteLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage}),this.props.source.isSelected&&this.props.dispatchRedirectToRoute({route:"home"})},this.onRefreshGuidePress=()=>{this.props.dispatchReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onCancelRefreshGuidePress=()=>{this.props.dispatchCancelReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onTogglePinSources=()=>{this.props.isPinned?this.props.dispatchUnpinSources({sources:[this.props.source]}):this.props.dispatchPinSources({sources:[this.props.source]})},this.onUpgradeLibraryPress=()=>{this.props.dispatchUpgradeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory})}}componentDidMount(){const{isOwnedPlaylistSource:e,isConnected:t}=this.props;e&&t&&this._populateHasiTunes(this.props)}componentDidUpdate(e){const{isOwnedPlaylistSource:t,isConnected:a}=this.props;t&&a&&!e.isConnected&&this._populateHasiTunes(this.props)}_populateHasiTunes(e){this.props.dispatchPopulateHasiTunes({serverEntityID:e.serverEntityID})}render(){const{metricsPage:e,isConnected:t,isOwnedPlaylistSource:a,dispatchUpgradeLibrary:n,dispatchScanLibraryFiles:i,dispatchCancelScanLibraryFiles:r,dispatchEditLibrary:s,dispatchReloadGuide:o,dispatchCancelReloadGuide:l,dispatchPopulateHasiTunes:c,dispatchPinSources:d,dispatchUnpinSources:u,...p}=this.props;return y.a.createElement(cE,{...p,onScanLibraryPress:this.onScanLibraryPress,onCancelScanLibraryPress:this.onCancelScanLibraryPress,onEditLibraryPress:this.onEditLibraryPress,onAnalyzeLibraryPress:this.onAnalyzeLibraryPress,onRefreshAllLibraryMetadataPress:this.onRefreshAllLibraryMetadataPress,onEmptyLibraryTrashPress:this.onEmptyLibraryTrashPress,onDeleteLibraryPress:this.onDeleteLibraryPress,onRefreshGuidePress:this.onRefreshGuidePress,onCancelRefreshGuidePress:this.onCancelRefreshGuidePress,onTogglePinSources:this.onTogglePinSources,onUpgradeLibraryPress:this.onUpgradeLibraryPress})}}const pE=Object(BI.a)((function(){return Object(he.a)((e,{source:t})=>t,Bs.b,vh.b,bh.b,UI,Object(kI.b)(),Object(he.a)(Object(RI.a)(),e=>e&&e.desktop.hasiTunes),LI(),(e,t,a,n,i,r,s,o)=>{const l=i.some(t=>!!e&&t.key===e.key);if(!a||!n||!e)return{isUnavailable:!0,isPinned:l};const c=e.sourceType===SI.k,d=qr.l(n.identifier,qr.c),{features:{content:{directories:u=[]}={}}={}}=n||{},p=u.find(t=>t.id===e.directoryID),m=a.isFullOwnedServer&&n.isLibraryProvider&&p&&/(\d+)$/.test(p.id)&&!c,h=a.isFullOwnedServer&&e.sourceType===SI.g,g=!!u.find(({type:e})=>e===wo.ARTIST),y=n.features.settings;return{sourceDirectory:p,machineIdentifier:a.machineIdentifier,provider:n,providerIdentifier:n.identifier,hasProviderSettings:!!y&&Object(No.a)(t,y),hasLibraryActions:m,hasPlexMusicUpgrade:a.version&&Object(oo.a)(a.version,so.a.plexMusicUpgrade)&&p&&p.type===wo.ARTIST&&(p.agent===VI.h||p.agent===VI.b),hasPlexMovieUpgrade:a.ownerFeatures&&a.ownerFeatures.includes(ve.t)&&p&&p.type===wo.MOVIE&&(p.agent===VI.j||p.agent===VI.a),hasPlexSeriesUpgrade:a.ownerFeatures&&a.ownerFeatures.includes(ve.w)&&p&&p.type===wo.SHOW&&(p.agent===VI.j||p.agent===VI.k),hasDVRActions:a.isFullOwnedServer&&d,hasPlaylistsActions:h&&s&&g,isConnected:a.isConnected,isUnavailable:a.isUnavailable,isPinned:l,isDeletingLibrary:!!r,isGuideRefreshing:!!o,isOwnedPlaylistSource:h}})}),dE)(uE);pE.propTypes={...pE.propTypes,source:FI,serverEntityID:Qn.a.string,providerEntityID:Qn.a.string};var mE=pE;function hE(e){return j.default.join("#!/downloads",e)}function gE(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-more-vertical-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}gE.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var yE,fE,bE=gE,vE=a("PuYh"),IE=a.n(vE);function SE({overrideTitle:e,overrideDetail:t}){const[a,n,i]=Jt(),r=Object(v.d)(Hn("allSavedPivotParams")),s=Object(_r.a)(),o=ul(),l=Object(OI.a)(n,i),c=i?EI({sourceType:l?l.key:null,sourceServer:a,sourceProvider:n,sourceDirectory:i}):void 0,d=e||function(e,t,a){return t.isEmbedded?Object(Ce.default)("Downloads"):e?e.title:t.isCloud?a.title:CI(t)}(i,a,n),u=t||function(e,t){return t.isCloud?null==e?void 0:e.providerSourceTitle:t.isEmbedded?void 0:t.isFullOwnedServer?e?e.serverFriendlyName:void 0:e?`${e.serverSourceTitle} • ${e.serverFriendlyName}`:MI(t)}(c,a),p=a.isEmbedded?hE(null==r?void 0:r.downloads):Object(ng.a)(a,n,i,i?void 0:{key:vI.a,pageType:bI.a});return y.a.createElement("div",{className:IE.a.container},a.isEmbedded?y.a.createElement("div",{className:IE.a.noButton}):y.a.createElement(y.a.Fragment,null,y.a.createElement(NI,{className:IE.a.tooltipButton,id:s,iconComponent:bE,label:Object(Ce.default)("Actions"),isMenuOpen:o.isOpen,onPress:o.onToggle}),y.a.createElement(mE,{target:s,serverEntityID:a.entityID,providerEntityID:n.entityID,source:c,isOverflowMenuOpen:o.isOpen,onOverflowMenuClose:o.onClose})),y.a.createElement(TI,{title:d,detail:u,route:p}))}(fE=yE||(yE={})).Dvr="dvr",fE.Episode="episode",fE.Home="home",fE.Movies="movies",fE.Music="music",fE.News="news",fE.Photos="photos",fE.Playlists="playlists",fE.Podcasts="podcasts",fE.Tv="tv",fE.Videos="videos",fE.Webshows="webShows",fE.Shared="shared";var EE=a("Ln5r"),OE=a.n(EE);function ME({className:e=OE.a.button,selectedClassName:t=OE.a.selectedButton,isSelected:a,children:n,...i}){return y.a.createElement(ba,{className:a?t:e,size:_e.Large,...i},n)}var CE=function(e){return e.type===St.b.View&&!Object.values(St.c).includes(e.key)};var jE=function(e,t,a,n){var i;if(!a)return;if(CE(n))return;const r=!(null==(i=a.pivots)?void 0:i.includes(n))?{pageType:n.type,key:n.key}:{pivot:n.id||n.key};return Object(ng.a)(e,t,a,r)},DE=a("CuR8"),PE=a.n(DE);const TE={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(yu.a.pageHeaderTabButtonLeftRightMargin,10)]}}]};function wE({pivots:e,selectedPivot:t,onPivotPress:a}){var n;const[i,r,s]=Jt(),o=Object(_r.a)(),l=ul();return y.a.createElement("div",{id:o,className:PE.a.container,"data-qa-id":"tabDropDown"},y.a.createElement(ME,{className:PE.a.button,isSelected:!!t,onPress:l.onToggle},y.a.createElement("div",{className:PE.a.buttonContents},y.a.createElement("div",{className:PE.a.title},null!=(n=null==t?void 0:t.title)?n:e[0].title),y.a.createElement(oc.a,{className:Pe()(PE.a.disclosureArrow,!!t&&PE.a.isSelected),direction:l.isOpen?lc.c:lc.a}))),y.a.createElement(Xs.a,{isOpen:l.isOpen,target:o,options:TE,onMenuClose:l.onClose},e.map((e,n)=>{const o=jE(i,r,s,e);return o?y.a.createElement(uc.a,{key:n,to:o,value:e.key,isSelected:e===t,onPress:Object(to.a)(a,l.onClose)},e.title):null})))}var NE=a("+LVH"),xE=a.n(NE);function AE({pivots:e,selectedPivot:t}){const[a,n,i]=Jt(),[r,{width:s}]=Object(Gu.a)(),[o,{width:l}]=Object(Gu.a)(),[c,d]=Object(g.useState)(l),u=l||c,p=Object(g.useMemo)(()=>e.filter(e=>!CE(e)),[e]),m=p.length<2,h=p.length>1&&u>s,f=Yi({identifier:n.metricsIdentifier,origin:"tabChange"}),b=om(Object(g.useCallback)(()=>{f({action:Gi.gb})},[f]));return Object(g.useEffect)(()=>{l&&d(l)},[l]),m?null:y.a.createElement("div",{className:xE.a.pageHeaderCenter,ref:r},h?y.a.createElement(wE,{pivots:p,selectedPivot:t,onPivotPress:b}):y.a.createElement("div",{ref:o},p.map((e,r)=>{const s=jE(a,n,i,e);return s?y.a.createElement(ME,{key:r,to:s,isSelected:e===t,onPress:b},e.title):null})))}var LE=Object(he.a)(em,e=>e.title),kE=a("La1S"),RE=a("cifS"),zE=a.n(RE);function UE({sourceURI:e,selectedPivot:t}){var a;const n=Object(v.c)(),[,,i]=Jt(),r=Object(v.d)(tm),s=null!=(a=null==r?void 0:r.Pivot)?a:null==i?void 0:i.pivots,o=Object(v.d)(LE),l=Object(v.d)(Hn("directoryListStyles")),c=Object(g.useMemo)(()=>Yv(e),[e]),d=Object(v.d)(c),u=Object(g.useMemo)(()=>Kv(e),[e]),p=Object(v.d)(u),m=Object(g.useCallback)(t=>{if(!e)return;const a={...l,[e]:t};Object(Dt.a)(()=>{n(Object(xy.l)({directoryListStyles:a}))})},[n,l,e]);return y.a.createElement(kE.a,{className:zE.a.pageHeader},y.a.createElement(zv,null,y.a.createElement(SE,{overrideTitle:o})),s&&t?y.a.createElement(AE,{pivots:s,selectedPivot:t}):null,y.a.createElement(Uv.a,null,y.a.createElement(fI,{listStyles:p,selectedListStyle:d,onListStyleSelect:m})))}var VE=a("dFNG");var BE=Hn("lastSourcePivots");var FE=Hn("shouldSaveLastSourcePivots");var HE=Object(At.a)((function(e,t,a){return Object(he.a)(BE,FE,(n,i)=>{if(!i)return;return n[Object(VE.a)(e,t,a)]})}));var _E=function(e=[],t){return e.find(e=>e.id?e.id===t||e.key===t:!!e.key&&e.key===t)};var WE=function({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:a,pageType:n,pivotID:i}){var r,s;const o=Object(v.c)(),l=Object(v.d)(tm),c=Object(v.d)(Gt(e,t,a)),d=Object(v.d)(FE),u=Object(v.d)(BE),p=Object(v.d)(HE(e,t,a));let m;n?m=null==(r=null==l?void 0:l.Pivot)?void 0:r.find(e=>e.active):(m=_E(null==c?void 0:c.pivots,i),m||(m=p?_E(null==c?void 0:c.pivots,p):null==(s=null==c?void 0:c.pivots)?void 0:s[0]));const h=a?Object(VE.a)(e,t,a):void 0;return Object(g.useEffect)(()=>{d&&h&&m&&p!==m.key&&null==n&&o(Object(xy.l)({lastSourcePivots:{...u,[h]:m.key}}))},[o,p,u,i,n,m,d,h]),m},QE=a("mOXR"),GE=a("Wpyo"),KE=a("d7+L");var YE={...KE.a,getPaginatedUrl(e){const t=this.get("beginsAt"),a=this.get("endsAt");if(null!=t||null!=a){const n={"endsAt>":t,"beginsAt<":a};return j.default.join(e,n)}return e},fetchRange(e){const t={...e,remove:!1};return e.prepend&&(t.at=0),this.set({beginsAt:e.start,endsAt:e.end}),this.fetch(t).promise()},repopulateRange(e=0){const t=this.get("populatedRange"),a=t.start,n=t.end;return this.set({beginsAt:a,endsAt:n}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("beginsAt"),t=this.get("endsAt"),a=this.get("populatedRange"),n=a.start,i=a.end;let r,s;this.getCollection().length?n?(r=Math.min(n,null==e?1/0:e),s=Math.max(i,null==t?-1/0:t)):(r=e||n,s=t||i):(r=0,s=0),this.set("populatedRange",{start:r,end:s,size:s-r}),this.set("isPopulated",s-r>0)}};var qE=GE.default.extend({mixins:[YE],name:"ChannelGridMetadataListModel",sessionAttrs:{isMetadataList:QE.a.boolean,containerKey:QE.a.string,entityKey:QE.a.string,containerTitle:QE.a.string,beginsAt:QE.a.integer,endsAt:QE.a.integer,populatedRange:QE.a.object,isPending:QE.a.boolean,isPopulated:QE.a.boolean,error:QE.a.object},defaults:()=>({isMetadataList:!0,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,error:null})}),ZE=a("jp3X"),XE=a("CHn6");var JE=XE.a.extend({name:"ProviderTagModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:QE.a.integer,filter:QE.a.string,tag:QE.a.string,tagType:QE.a.integer,tagValue:QE.a.integer,thumb:QE.a.string,channelCallSign:QE.a.string,channelIdentifier:QE.a.string}});var $E=CS.a.extend({name:"ProviderTagCollection",context:["server","provider","type"],model:JE,cache:new ZE.a,url(){const e={type:this.type};return j.default.join([this.provider.get("identifier"),"tags"],e)}});var eO={CHANNEL:310};const tO=Object(yo.a)("ui/channelGridPage/initChannelsGridPage"),aO=Object(yo.a)("ui/channelGridPage/initMetadataList"),nO=Object(yo.a)("ui/channelGridPage/setStartTime"),iO=Object(yo.a)("ui/channelGridPage/resetStartTime"),rO=Object(yo.a)("ui/channelGridPage/navigateTimeForward"),sO=Object(yo.a)("ui/channelGridPage/navigateTimeBack"),oO=Object(yo.a)("ui/channelGridPage/setViewportSize"),lO=Object(yo.a)("ui/channelGridPage/updateAiredProgress"),cO=Object(yo.a)("ui/channelGridPage/populateChannelPrograms"),dO=Object(yo.a)("ui/channelGridPage/repopulateChannelPrograms"),uO=Object(yo.a)("ui/channelGridPage/populateChannelsList"),pO=Object(yo.a)("ui/channelGridPage/fetchChannelsList");function mO(e){return e.get("ui").get("channelGridPage")}function hO(e,t){const a=1800*Math.floor(e/1800),n=[];for(let e=0;e<=t;e++)n.push(a+1800*e);return n}const gO=Object(MS.a)({"ui/channelGridPage/initChannelsGridPage"(e,t,a){const n=mO(e),{serverEntityID:i,providerEntityID:r,directoryKey:s}=t,o=Object(GI.m)(e,{serverEntityID:i}),l=Object(GI.j)(e,{providerEntityID:r}),c={serverEntityID:i,providerEntityID:r,directoryKey:s,channelsList:new $E(null,{server:o,provider:l,type:eO.CHANNEL})};n.set(c),a(iO())},"ui/channelGridPage/initMetadataList"(e,t,a){const{containerKey:n,serverEntityID:i,providerEntityID:r}=t,s=mO(e),o=Object(GI.m)(e,{serverEntityID:i}),l=Object(GI.j)(e,{providerEntityID:r}),c=s.get("metadataList");s.get("containerKey")===n&&(null==c?void 0:c.server.get("machineIdentifier"))===o.get("machineIdentifier")&&(null==c?void 0:c.provider.get("identifier"))===l.get("identifier")||s.set({containerKey:n,metadataList:new qE({containerKey:n},{server:o,provider:l})})},"ui/channelGridPage/resetStartTime"(e,t,a){const n=Math.floor(Date.now()/1e3);a(nO(n))},"ui/channelGridPage/setStartTime"(e,t,a){const n=mO(e),i=n.get("visibleColumns"),r=hO(t,i);Object(Dt.a)(()=>{n.set({startTime:t,columnTimes:r})})},"ui/channelGridPage/navigateTimeForward"(e,t,a){const n=mO(e).get("columnTimes")[0]+1800;a(nO(n))},"ui/channelGridPage/navigateTimeBack"(e,t,a){const n=mO(e).get("columnTimes")[0]-1800;n+1800>Math.floor(Date.now()/1e3)-10800&&a(nO(n))},"ui/channelGridPage/setViewportSize"(e,t={},a){const{width:n=1,height:i=1,overflowWidth:r=0,channelWidth:s=1,channelTitleWidth:o=0}=t,l=mO(e),c=Math.floor(n+r),d=Math.max(Math.floor((n-o)/s),1)+1,u=Math.floor((c-o)/d),p=hO(l.get("startTime"),d);Object(Dt.a)(()=>{l.set({visibleColumns:d,columnTimes:p,columnWidth:u,viewportWidth:c,viewportHeight:Math.floor(i)})})},"ui/channelGridPage/updateAiredProgress"(e){const t=mO(e),a=t.get("columnTimes"),n=a[0],i=a[a.length-1]-n,r=Math.floor(Date.now()/1e3),s=Math.min(100,Math.max(0,(r-n)/i*100));Object(Dt.a)(()=>{t.set({airedProgress:s})})},"ui/channelGridPage/populateChannelPrograms"(e){const t=mO(e),a=t.get("metadataList"),n=t.get("columnTimes"),i=t.get("viewportWidth");a&&i>0&&(a.set({isPending:!0,error:null}),a.populateRange({start:n[0],end:n[n.length-1],reloadThreshold:43200}).then(()=>{a.set({isPending:!1,isPopulated:!0,error:null})},(e,t)=>{t.aborting||a.set({isPending:!1,error:Object(rS.a)(t)})}))},"ui/channelGridPage/repopulateChannelPrograms"(e){const t=mO(e).get("metadataList");t.set({isPending:!0}),t.repopulateRange().then(()=>{t.set({isPending:!1,isPopulated:!0,error:null})},(e,a)=>{a.aborting||t.set({isPending:!1,error:Object(rS.a)(a)})})},[eS.a](e,t,a){if(t.metadataItemEntityID||t.containerKeyPattern)return;const n=Object(GI.m)(e,t),i=mO(e),r=i.get("metadataList"),s=i.get("channelsList");s&&r&&s.server===n&&r.server===n&&(a(dO()),a(pO()))},"ui/channelGridPage/populateChannelsList":Object(QI.a)({key:"channelsList",fetchActionCreator:pO,getModel:mO}),"ui/channelGridPage/fetchChannelsList":Object(WI.a)({key:"channelsList",getModel:mO})});var yO=a("MWLE"),fO=a("tjw3"),bO=a("xoRd");var vO=function(e,t,a,n){var i;const r=Object(bO.a)(t,e=>({identifiers:e}));return Object(v.b)(e=>r)(((i=class extends g.Component{constructor(e,t){super(e,t),this.onRepopulate=()=>{this._repopulate()},this._isPopulated=!1,this._component=null}componentDidMount(){this._populate()}componentDidUpdate(){this._isPopulated||this._populate()}_populate(){const{identifiers:e,dispatch:t,...n}=this.props;Object(Dt.a)(()=>{a(t,n)})}_repopulate(){if(!n)return this._populate();const{identifiers:e,dispatch:t,...a}=this.props;n(t,a)}render(){if(this._isPopulated=function(e){const{identifiers:t}=e;for(const a in t)if(t[a]!==e[a])return!1;return!0}(this.props),this._isPopulated){const{identifiers:t,dispatch:a,...n}=this.props;this._component=y.a.createElement(e,{onRepopulate:this.onRepopulate,...n})}return this._component}}).propTypes={identifiers:Qn.a.object.isRequired,dispatch:Qn.a.func.isRequired},i.displayName=`Populatable(${Object(yO.a)(e)})`,i.WrappedComponent=e,i))},IO=a("6FMj");function SO(e){return Object(he.a)(Object(xI.a)(),t=>{if(t)return M.a.findWhere(t.features,{type:e})})}var EO=SO.bind(null,nS.e);var OO=a("C2o0");function MO(e,{type:t,filters:a,sort:n,limit:i}){const r=j.default.join(e),s={};return t&&(s.type=t),n&&(s.sort=n),i&&(s.limit=i),j.default.join(function(e,t){const a=Object(OO.a)(t,!0);if(!a)return e;const n=e.indexOf("?"),i=e.length;return(e+=n>-1?n<i-1?"&":"":"?")+a}(r,a),s,{parseParams:!0})}function CO(){return Object(he.a)((e,{activeFilters:t})=>t,Object(xI.a)(),EO(),(e=[],t,a)=>{if(!t)return null;return MO(a?a.key:`/${t.identifier}/grid`,{type:[Object(wo.getMetadataType)(wo.MOVIE).id,Object(wo.getMetadataType)(wo.EPISODE).id].join(","),filters:e.reduce((e,t)=>("hdonly"===t.key?e.push({...t,key:"channel.value"}):e.push(t),e),[]),sort:"beginsAt"})})}var jO=a("GMu+"),DO=a("deD6");var PO=function(){return Object(he.a)(Object(jO.a)(),DO.a,(e,t)=>e&&e.metadataItems?e.metadataItems.map(e=>t[e]):[])};function TO(){return Object(he.a)(Object(xI.a)(),e=>{const t=Object(lo.a)(e);return t?t.directories:[]})}function wO(e,t){if(e&&t)for(let a=0,n=e.length;a<n;a++){const n=e[a],{id:i}=n;if(i===t)return n}}function NO(){return Object(he.a)(TO(),(e,{sourceDirectoryID:t})=>t,(e,t)=>wO(e,t))}function xO(){return Object(he.a)(Object(RI.a)(),e=>e.isCloud)}var AO=a("XN2K");const LO=e=>"hdonly"===e.key;var kO=()=>(e,{activeFilters:t})=>t.some(LO),RO=a("j/8p");var zO=function(e,t){return`${e}:${t}`},UO=a("ZRqN"),VO=a("LX0A"),BO=a("hBzc");function FO(e){const{getCellHeights:t,overscan:a=0,outerPaddingTop:n=0,outerPaddingRight:i=0,outerPaddingBottom:r=0,outerPaddingLeft:s=0}=e;let o,l,c,d,u,p,m,h,g;function y(e){const t=M.a.findIndex(u,t=>t>e),a=u.length-1;return-1===t?a:Math.min(Math.max(0,t-1),a)}return{getListStyle:function(e){const a=`${e.viewportHeight}:${e.viewportWidth}`;if(a===p)return m;o=e.viewportHeight,l=e.viewportWidth-(s+i),c=t(l),u=[];let h=n;return c.forEach(e=>{u.push(h),h+=e}),d=c.reduce((e,t)=>e+t,n+r),p=a,m={height:d,width:l},m},getLandmarks:function(){Object(_.a)(void 0!==o,"`getListStyle` must be called before `getLandmarks`");const e=`${o}:${d}`;return e===h||(h=e,g=u.map((e,t)=>({index:t,position:e/d}))),g},getPositionForIndex:function(e){return Object(_.a)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:s,cellY:u[e],cellWidth:l,cellHeight:c[e]}},getRelativeIndex:function(){Object(_.a)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e,t,n){Object(_.a)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`");const i=e+o-1,r=y(e-a*o),s=y(e),l=y(i),c=y(i+a*o);return{visibleStartIndex:Object(yc.a)(s,n),visibleEndIndex:Object(yc.a)(l,n),partiallyVisibleStartIndex:Object(yc.a)(s,n),partiallyVisibleEndIndex:Object(yc.a)(l,n),renderStartIndex:Object(yc.a)(r,n),renderEndIndex:Object(yc.a)(c,n)}}}}var HO=a("9ZQ6"),_O=a("F5AI");var WO=function(e){const{machineIdentifier:t,isRefreshing:a}=e;if(a)return y.a.createElement(_O.a,{iconComponent:Tp,title:Object(Ce.default)("We're now building your Guide"),description:Object(Ce.default)("Hang tight while we download all the data for what's on")});const n=Object(lm.a)(t,"manage","dvr");return y.a.createElement(_O.a,{iconComponent:Tp,title:Object(Ce.default)("The Guide is empty"),description:Object(Ce.default)("Please verify your channel mappings and refresh the Guide")},y.a.createElement(jI.a,{to:n,kind:ao.d},Object(Ce.default)("Go to DVR Settings")))};var QO=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),LI(),(e,t)=>({machineIdentifier:e.machineIdentifier,isRefreshing:!!t}))}))((function(e){return y.a.createElement(WO,{...e})})),GO=a("nMEA"),KO=a("cL9g"),YO=a("xSXQ");var qO=Object(he.a)(ge.a,e=>e.timeFormat),ZO=a("bb2l"),XO=a("fVRA"),JO=a("sOPC"),$O=a("HSBM"),eM=a("03dv"),tM=a("sWYD");var aM=function(e,t,a={}){const{includeMinuteZero:n=!0,timeFormat:i="h:mma",separator:r="-"}=a,s=Object(Za.a)(e),o=Object(Za.a)(t),l=Object(tM.a)(s,"a")===Object(tM.a)(o,"a"),c=Object(In.a)(s),d=Object(In.a)(o);let u=i,p=i;return n||0!==c||(u=u.replace("h:mm","h")),l&&(u=u.replace("a","")),n||0!==d||(p=p.replace("h:mm","h")),`${Object(tM.a)(s,u)}${r}${Object(tM.a)(o,p)}`},nM=a("uGWF"),iM=a.n(nM);var rM=function(e){const{beginsAt:t,endsAt:a,timeFormat:n,channelTitle:i,contentRating:r}=e,{airTime:s,duration:o}=function(e,t,a,n){const i=Math.floor(Date.now()/1e3);let r="",s="";if(i>=e&&i<=t)r=Object(Ce.default)("Now on {channel}",{channel:n}),s=jn(t-i);else{const i=aM(e,t,{timeFormat:a,separator:" - "});r=Object(Ce.default)("{timeRange} on {channel}",{timeRange:i,channel:n}),s=Cn(1e3*(t-e))}return{airTime:r,duration:s}}(t,a,n,i);return y.a.createElement("div",{className:iM.a.container},s,y.a.createElement(Hi.b,null),o,y.a.createElement("div",{className:iM.a.contentRating},hi(r)))},sM=a("m8hN"),oM=a("OMWn"),lM=a("yRuq");var cM=function({className:e,tabIndex:t,grandparentTitle:a,grandparentRoute:n}){return y.a.createElement(lM.a,{className:e,tabIndex:t,title:a,route:n})};var dM=Object(BI.a)((function(){return Object(he.a)((e,{metricsContext:t})=>t,oM.a,sM.a,Object(YO.a)(),(e,t,a,n={})=>{const i={};return e&&(i.context=e),{grandparentTitle:n.grandparentTitle,grandparentRoute:Object(Ka.a)(t,a,n.grandparentKey,i)}})}))(cM),uM=a("yoWE"),pM=a("oNTf");var mM=Object(BI.a)((function(){return Object(he.a)(Object(YO.a)(),Object(pM.a)(),(e={},t)=>({title:e.title,route:t}))}))(lM.a);var hM=function({className:e,year:t}){return y.a.createElement("span",{className:e,"data-qa-id":"metadataYear"},t)};var gM=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({year:e.year}))}))(hM),yM=a("wCLk"),fM=a.n(yM);var bM=function(e){const{type:t,metadataItemEntityID:a,serverEntityID:n,providerEntityID:i}=e,r=function(e){let t;switch(e){case wo.MOVIE:t=[mM,gM];break;case wo.SHOW:t=[mM,uM.a];break;case wo.EPISODE:t=[dM,uM.a];break;default:t=[mM]}return t}(t);return y.a.createElement("div",{className:fM.a.titleContainer},r.map((e,t)=>{const r=0===t?fM.a.primaryTitle:fM.a.secondaryTitle;return y.a.createElement(e,{key:t,className:r,metadataItemEntityID:a,serverEntityID:n,providerEntityID:i})}))},vM=a("EdFZ"),IM=a("eoAN"),SM=a("UybS"),EM=a.n(SM);var OM=function(e){const{title:t,showPlay:a,showRecord:n,onPlayPress:i,onRecordPress:r}=e;return y.a.createElement("div",{className:EM.a.actions},a?y.a.createElement(vM.a,{className:EM.a.playButton,title:t,tabIndex:"-1","data-qa-id":"guide-row-item-play",onPress:i}):null,n?y.a.createElement(IM.a,{className:EM.a.recordButton,title:t,tabIndex:"-1","data-qa-id":"guide-row-item-record",onPress:r}):null)},MM=a("AUbT");function CM(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}CM.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var jM=CM,DM=a("eBN0"),PM=a.n(DM);var TM=function(e){const{subscriptionType:t,isSubscribed:a,isOnAir:n,showRecord:i,onPlayPress:r,onRecordPress:s}=e,o=n?Object(Ce.default)("Watch Now"):Object(Ce.default)("Watch Channel"),l=a?Object(Ce.default)("Recording Scheduled"):Object(Ce.default)("Record");return y.a.createElement("span",null,y.a.createElement(Ih.a,{className:PM.a.playButton,kind:ao.b,size:cc.c,onPress:r},y.a.createElement(jM,{className:PM.a.icon}),o),i?y.a.createElement(Ih.a,{className:PM.a.recordButton,kind:ao.b,size:cc.c,onPress:s},y.a.createElement(MM.a,{className:PM.a.icon,type:t}),l):null)};class wM extends g.Component{constructor(){super(...arguments),this.onRecordPress=e=>{const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,type:i,onRecordPress:r}=this.props;r({serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,subscriptionType:i})}}render(){const{className:e,title:t,subscriptionType:a,isCompact:n,isOnAir:i,isSubscribed:r,showPlay:s,showRecord:o,onPlayPress:l}=this.props,c=n?OM:TM;return y.a.createElement("span",{className:e},y.a.createElement(c,{title:t,subscriptionType:a,isOnAir:i,isSubscribed:r,showPlay:s,showRecord:o,onPlayPress:l,onRecordPress:this.onRecordPress}))}}var NM=wM;const xM={dispatchStartLiveTVPlayback:Hs.l};var AM=Object(BI.a)((function(){return Object(he.a)(Object(YO.a)(),Object(he.a)((e,{beginsAt:t})=>t,(e,{endsAt:t})=>t,(e,t)=>{const a=Math.floor(Date.now()/1e3);return a>=e&&a<=t}),(e={},t)=>{const{type:a,title:n,grandparentTitle:i,subscriptionID:r,grandparentSubscriptionID:s,subscriptionType:o,grandparentSubscriptionType:l}=e;return{type:a,title:i||n,subscriptionType:l||o||a,isSubscribed:!(!s&&!r),isOnAir:t}})}),xM)((function(e){const{dispatchStartLiveTVPlayback:t,...a}=e,{serverEntityID:n,providerEntityID:i,channelIdentifier:r,metricsPage:s,metricsContext:o}=e,l=Object(g.useCallback)(()=>{t({...{serverEntityID:n,providerEntityID:i,metricsPage:s,metricsContext:o},options:{type:_s.e,identifier:r}})},[n,i,s,o,t,r]);return y.a.createElement(NM,{...a,onPlayPress:l})})),LM=a("7ElX"),kM=a.n(LM);function RM(e){const{className:t,metadataItemEntityID:a,serverEntityID:n,providerEntityID:i,mediaIndex:r,type:s,summary:o,thumb:l,contentRating:c,beginsAt:d,endsAt:u,timeFormat:p,channelIdentifier:m,channelTitle:h,channelShortTitle:g,showRecord:f,onRecordPress:b,onNextPress:v,onPrevPress:I}=e;return y.a.createElement("div",{className:t},y.a.createElement(JO.a,{className:kM.a.poster,serverEntityID:n,providerEntityID:i,component:$O.a,type:s,width:80,height:Object(eM.e)(80,s,null,XO.f),url:l}),y.a.createElement("div",{className:kM.a.preplayContainer},y.a.createElement(bM,{type:s,serverEntityID:n,providerEntityID:i,metadataItemEntityID:a}),y.a.createElement(rM,{beginsAt:d,endsAt:u,timeFormat:p,channelTitle:g||h,contentRating:c}),y.a.createElement(AM,{serverEntityID:n,providerEntityID:i,metadataItemEntityID:a,channelIdentifier:m,mediaIndex:r,beginsAt:d,endsAt:u,showPlay:!0,showRecord:f,onRecordPress:b}),y.a.createElement("p",null,o),y.a.createElement("div",{className:kM.a.navigationContainer},y.a.createElement(ZO.a,{iconComponent:zu,title:Object(Ce.default)("Previous"),onPress:I}),y.a.createElement(ZO.a,{iconComponent:ku,title:Object(Ce.default)("Next"),onPress:v}))))}RM.defaultProps={className:kM.a.container};var zM=RM;var UM=Object(v.b)((function(){return Object(he.a)((e,{mediaIndex:t})=>t,Object(YO.a)(),SO(nS.q),qO,(e,t,a,n)=>{const{type:i,summary:r,grandparentThumb:s,thumb:o,contentRating:l}=t,c=t.Media[e],{beginsAt:d,endsAt:u,channelTitle:p,channelShortTitle:m,channelIdentifier:h}=c;return{type:i,summary:r,thumb:s||o,contentRating:l,beginsAt:d,endsAt:u,timeFormat:n,channelIdentifier:h,channelTitle:p,channelShortTitle:m,showRecord:!!a}})}))(zM),VM=a("/Tr7");var BM=function(e){return e.remotePlayer};var FM=Object(he.a)(BM,e=>!!e),HM=a("4P0s");var _M=new HM.a({props:["capabilities","video","music","photo"]}),WM=a("/9Vb"),QM=a("jpr2");function GM(e){let t;if(e){const a=j.default.parseUrl(e),n=/^\/playQueues\/([^/?]+)/.exec(a.pathname||a.href);t=n?n[1]:void 0}return t}var KM=a("DdRF"),YM=a("ZToC"),qM=a("IbpV");var ZM=a("IqTc"),XM=a("U1rH");var JM=a("EK1w");var $M=a("2eFc"),eC=a("AXwp"),tC=a("mvw6"),aC=a("Ivly"),nC=a("7F8R"),iC=a("+Mxn"),rC=a("bcER");const sC=Object(yo.a)("ui/player/remotePlayer/changeRemotePlayer"),oC=Object(yo.a)("ui/player/remotePlayer/syncRemotePlayerCurrentItem"),lC=Object(yo.a)("ui/player/remotePlayer/syncRemotePlayerState"),cC=Object(yo.a)("ui/player/remotePlayer/syncRemotePlayQueueState"),dC=Object(yo.a)("ui/player/remotePlayer/syncRemoteQuality"),uC=Object(yo.a)("ui/player/remotePlayer/syncRemoteStreams"),pC=Object(yo.a)("ui/player/remotePlayer/syncRemoteExperienceSettings"),mC=Object(yo.a)("ui/player/remotePlayer/changeRemotePlayerVolume"),hC=Object(yo.a)("ui/player/remotePlayer/showRemotePlayerError"),gC=Object(yo.a)("ui/player/remotePlayer/mirrorDetails"),yC=Object(yo.a)("ui/player/remotePlayer/discoverRemotePlayers"),fC=Object(yo.a)("ui/player/remotePlayer/idleRemotePlayer"),bC=Object(yo.a)("ui/player/remotePlayer/removeRemotePlayer"),vC=Object(yo.a)("ui/player/remotePlayer/confirmRemoteToLocal"),IC=Object(yo.a)("ui/player/remotePlyaer/cancelLocalToRemote"),SC=Object(yo.a)("ui/player/remotePlayer/closeLocalToRemote"),EC=Object(yo.a)("ui/player/remotePlayer/confirmLocalToRemote");function OC(e,t){const a=Object(Oe.d)(t);return e.get("ui").get(a+"Player")}function MC(e,t){const{appModel:a,serverModel:n,providerModel:i,playerModel:r,playQueueModel:s,openState:o,mediaIndex:l,bitrate:c,initialState:d}=e;if(r.get("isPlayQueueLoading"))return;const u=s.get("type");r.restoreDefaults({serverEntityID:n.entityID(),providerEntityID:i.entityID(),isOpen:!0,openState:o||u===Ui.a?$M.b:$M.a,isPlayQueueLoading:!0,playQueue:s,playbackStartTime:Date.now()}),function({serverModel:e,providerModel:t,playQueueModel:a}){if(!a.get("isLocal"))return Object(qM.a)(a);const n={server:e,provider:t},i=new GE.default({containerKey:a.get("playQueueID")},n);return i.fetch().then(()=>i.get("metadataItems").length?Object(YM.a)({providerModel:t,metadataListModel:i,playQueueModel:a}).then(null,()=>h.a.Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_ADD_TO").promise()):h.a.Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_EMPTY").promise(),()=>h.a.Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_POPULATE").promise())}({serverModel:n,providerModel:i,playQueueModel:s}).done(()=>{r.set({isPlayQueueLoading:!1,...d}),t(dC({playQueueType:u,mediaIndex:l,bitrate:c}))}).fail(()=>{const e=a.get("remotePlayer");if(e){const t=e.get("friendlyName");r.restoreDefaults({hasError:!0,errorMessage:Object(Ce.default)('An error occurred loading the media being played on "{playerName}".',{playerName:t})})}})}function CC(e,t,a){return e.get("servers").populateServer(t).then(t=>(t.get("isCloud")?e.get("user").get("providers"):t.get("providers")).populate().then(e=>e)).then(e=>{const t=e.get(a)||e.get(qr.d);return t?t.populate().then(e=>e):h.a.Deferred().reject().promise()})}const jC={"ui/player/remotePlayer/changeRemotePlayer"(e,t){const a=Object(TS.g)(e,{playerIdentifier:t});e.set("remotePlayer",a)},"ui/player/remotePlayer/syncRemotePlayerCurrentItem"(e,{playQueueType:t,options:a},n){const{machineIdentifier:i,providerIdentifier:r,containerKey:s,key:o,mediaIndex:l,bitrate:c,playQueueItemID:d,shouldRefreshPlayQueue:u,initialState:p}=a;if(!s||!o)return;const m=OC(e,t);if(!m)return;const g=i||tC.a,y=e.get("servers").populateServer(g),f=CC(e,i,r),b=f.then(e=>function({providerModel:e,currentPlayQueueModel:t,containerKey:a,playQueueOptions:n}){const i=GM(a)||a;return t&&t.get("playQueueID")===i?t:Object(QM.a)({providerModel:e,playQueueID:i,...n})}({providerModel:e,currentPlayQueueModel:m.get("playQueue"),containerKey:s,playQueueOptions:{playQueueType:t,playQueueOwn:!1}}));h.a.when(y,f,b).then((t,a,i)=>{if(m.get("playQueue")===i){if(!m.get("isPlayQueueLoading")&&!i.get("isUpdatePending")&&u){const e=i.get("playQueueItems"),t=null!=d?e.get(d):e.find(e=>o===e.get("metadataItem").get("key"));if(m.set({isLyricsVisible:!1}),t){const a=i.get("playQueueSelectedItemID"),n=e.get(a),r=i.get("playQueueSelectedItemOffset"),s=e.indexOf(n),o=e.indexOf(t),l=t.get("metadataItem"),c=t.get("playQueueItemID");Object(C.a)("[Cast] The current metadata item on the remote player changed to "+l.get("title")),Object(qM.a)(i).done(()=>{i.set({playQueueSelectedItemID:c,playQueueSelectedItemOffset:r+(o-s)})})}else Object(qM.a)(i)}}else MC({appModel:e,serverModel:t,providerModel:a,playerModel:m,playQueueModel:i,openState:m.get("isOpen")?null:$M.b,mediaIndex:l,bitrate:c,initialState:p},n)}).fail(()=>{const t=e.get("remotePlayer");if(t){const e=t.get("friendlyName");m.restoreDefaults({hasError:!0,errorMessage:Object(Ce.default)('"{playerName}" is playing media from an unknown source.',{playerName:e})})}})},"ui/player/remotePlayer/syncRemotePlayerState"(e,t){const{playQueueType:a,playerState:n,providerIdentifier:i,machineIdentifier:r,liveTVSessionSubscriptionKey:s,liveTVSessionStartedAt:o,liveTVSessionSeekRangeStartedAt:l,liveTVSessionSeekStartSeconds:c,liveTVSessionSeekEndSeconds:d,liveTVSessionCurrentPosition:u,liveTVSessionChannelIdentifier:p}=t,m=OC(e,a);if(!m||!m.get("isOpen"))return;const g=Object(GI.m)(e,{serverEntityID:m.get("serverEntityID")});CC(e,r,i).then(e=>function(e,t,a,n,i,r,s,o,l,c){if(!n)return a.set({liveTVSession:null}),h.a.Deferred().resolve().promise();const d=a.get("liveTVSession"),u={key:n,currentPosition:l,startedAt:i,channelIdentifier:c,captureBuffer:{startedAt:r,seekStartSeconds:s,seekEndSeconds:o},nextPosition:null,lastSeekPosition:null};return d&&d.get("key")===n||a.set({liveTVSession:new WM.a(u,{provider:t,server:t.server})}),e.get("isCloud")?(null==d||d.set(u),h.a.Deferred().resolve().promise()):a.get("liveTVSession").populate().then(e=>(e.set(u),e))}(g,e,m,s,o,l,c,d,u,p)),Object(Dt.a)(()=>{m.set(n)})},"ui/player/remotePlayer/syncRemotePlayQueueState"(e,t){const{playQueueType:a,playQueueVersion:n,repeatAll:i,repeatOne:r}=t,s=OC(e,a);if(!s||!s.get("isOpen"))return;const o=s.get("playQueue");if(s.set({repeatAll:i,repeatOne:r}),o){const e=o.get("playQueueVersion");o.set("repeat",i),!o.get("isUpdatePending")&&e<n&&o.fetch()}},"ui/player/remotePlayer/syncRemoteQuality"(e,{playQueueType:t,mediaIndex:a=0,bitrate:n}){const i=OC(e,t);if(!i||!i.get("isOpen")||i.get("isPlayQueueLoading"))return;const r=i.get("playQueue"),s=r.get("playQueueItems").get(r.get("playQueueSelectedItemID"));if(!s)return;const o=s.get("metadataItem"),l=Object(wo.getMetadataType)(s.get("type"));if(!l||l.mediaType!==_s.e)return;const c=o.get("Media")[a],d=_M.prop("video"),u=aC.a.getAvailableQualitiesFor(c,o.server,{lowestQualityIndex:d.lowestQualityIndex}),p=e.get("user").get("experienceSettings");let m=null==n?p.defaults().localQuality:aC.a.getNearestIndexToBitrate(n);if(aC.a.isExplicitQuality(m)){const e=u[0],t=u[u.length-1];e&&m<e.index?m=e.index:t&&m>t.index&&(m=aC.a.ORIGINAL)}i.set({qualityIndex:m,availableQualities:u})},"ui/player/remotePlayer/syncRemoteStreams"(e,t,a){const{playQueueType:n,key:i,mediaIndex:r=0,partIndex:s=0,audioStreamID:o,subtitleStreamID:l}=t,c=OC(e,n);if(!c||!c.get("isOpen")||c.get("isPlayQueueLoading"))return;const d=c.get("playQueue"),u=d.get("playQueueItems").get(d.get("playQueueSelectedItemID")).get("metadataItem"),p=u.get("Media")[r],m=p&&p.Part[s];if(i!==u.get("key"))return;if(!m)return;const h=M.a.findWhere(m.Stream,{streamType:rC.a.get("audio").id,selected:!0}),g=M.a.findWhere(m.Stream,{streamType:rC.a.get("subtitles").id,selected:!0}),y=null==o?void 0:o.toString(),f=(null==l?void 0:l.toString())||eC.a;null!=o&&h&&h.id!==y&&a(Object(no.p)({metadataItemEntityID:u.entityID(),mediaIndex:r,streamTypeString:"audio",streamID:y,updateLocalOnly:!0})),g&&g.id!==f&&a(Object(no.p)({metadataItemEntityID:u.entityID(),mediaIndex:r,streamTypeString:"subtitles",streamID:f,updateLocalOnly:!0}))},"ui/player/remotePlayer/syncRemoteExperienceSettings"(e,t){e.get("user").get("experienceSettings").set(t)},"ui/player/remotePlayer/changeRemotePlayerVolume"(e,t){e.get("remotePlayer").set("volume",t)},"ui/player/remotePlayer/showRemotePlayerError"(e,{playQueueType:t,errorMessage:a}){const n=OC(e,t);n&&n.restoreDefaults({hasError:!0,errorMessage:a})},"ui/player/remotePlayer/mirrorDetails"(e,t){const a=Object(KM.a)(e),n=Object(GI.j)(e,t),i=Object(GI.f)(e,t),r=e.get("remotePlayer"),s=r.get("protocol"),o=r.get("protocolCapabilities");Object(nC.a)({protocol:s,protocolCapabilities:o,providerIdentifier:Object(Jr.a)(n.get("identifier"),n.get("providerIdentifier")),userFeaturesByUUID:Object(ZM.a)(e)})&&a.mirrorDetails(i)},"ui/player/remotePlayer/discoverRemotePlayers"(e){const t=e.get("companionServer");t&&(t.get("desktop").get("players").fetch(),t.get("desktop").get("neighborhoodDevices").fetch()),e.get("user").get("desktop").get("cloudCompanions").forEach(e=>{e.get("cloudPlayers").fetch().then(()=>e.set({linkState:"linked"}),(t,{status:a})=>e.set({linkState:402===a?"unable":"able"}))})},"ui/player/remotePlayer/idleRemotePlayer"(e,{playQueueType:t},a){const n=OC(e,t);a(Object(XM.C)()),n.restoreDefaults()},"ui/player/remotePlayer/removeRemotePlayer"(e){const t=e.get("remotePlayer");if(!t)return;const a=e.get("ui"),n=a.get("audioVideoPlayer"),i=a.get("photoPlayer");n.get("isOpen")&&n.set({confirmRemoteToLocal:!0,controllable:null}),i.get("isOpen")&&i.set({confirmRemoteToLocal:!0,controllable:null});const r=t.get("protocol");r===JM.a?Object(E.c)("remoteCastPlayerManager").endSession():r===JM.b&&Object(E.c)("remotePlexPlayerManager").endSession(),e.unset("remotePlayer")},"ui/player/remotePlayer/confirmRemoteToLocal"(e,{playerType:t}){const a=e.get("ui").get(t+"Player"),n=a.get("playQueue"),i=n.get("playQueueItems"),r=n.get("playQueueSelectedItemID"),s=i.get(r).get("metadataItem");n.set("own",!0),Object(qM.a)(n),a.set({confirmRemoteToLocal:!1,startMetadataItemEntityID:s.entityID(),startOffsetMilliseconds:1e3*a.get("positionSeconds")})},"ui/player/remotePlyaer/cancelLocalToRemote"(e,{playerType:t},a){Object(iC.c)(e,t).set("confirmLocalToRemote",1),a(Object(Ze.p)({playerType:t}))},"ui/player/remotePlayer/closeLocalToRemote"(e,{playerType:t}){Object(iC.c)(e,t).set("confirmLocalToRemote",1)},"ui/player/remotePlayer/confirmLocalToRemote"(e,{playerType:t}){const a=Object(iC.c)(e,t);Object(KM.a)(e).startPlayback(a),a.set("confirmLocalToRemote",3)}};var DC=a("w0qY"),PC=a("bpVy");var TC=Object(BI.a)((function(){return Object(he.a)((e,{metricsContext:t})=>t,vh.b,bh.b,Object(YO.a)(),(e,t,a,n={})=>{const i={};e&&(i.context=e);const r=n.skipParent&&n.subtype===Co.WEBSHOW;return{title:n.title,index:n.index,route:Object(Ka.a)(t,a,n.key,i),parentTitle:n.parentTitle,parentIndex:r?null:n.parentIndex,parentRoute:n.skipParent?null:Object(Ka.a)(t,a,n.parentKey,i),originallyAvailableAt:n.originallyAvailableAt}})}))(PC.a),wC=a("B+IN"),NC=a.n(wC);function xC(e){const{className:t}=e;return y.a.createElement(DC.a,{className:t},Object(Ce.default)("New"))}xC.defaultProps={className:NC.a.badge};var AC=xC,LC=a("4X5K"),kC=a.n(LC);const RC=parseInt(yu.a.channelGridChannelColumnWidth,10),zC=.3*RC;class UC extends g.Component{constructor(e,t){super(e,t),this.state={placeholderWidth:zC+Math.random()*(RC-zC)}}render(){const{className:e,children:t}=this.props,{placeholderWidth:a}=this.state;return y.a.createElement("div",{className:e,style:{width:a+"px"}},y.a.createElement("div",{className:kC.a.bar},t))}}UC.defaultProps={className:kC.a.container};var VC=UC,BC=a("M2eu"),FC=a.n(BC);class HC extends g.Component{constructor(){super(...arguments),this.onCellPress=()=>{const{metadataItemEntityID:e,mediaIndex:t,cellIndex:a,onPress:n}=this.props;n(e,t,a)}}render(){const{className:e,metadataItemEntityID:t,serverEntityID:a,providerEntityID:n,channelIdentifier:i,mediaIndex:r,width:s,type:o,subscriptionType:l,title:c,premiere:d,canRecord:u,showEpisodeTitle:p,showLoader:m,isOnAir:h,isFinishedAiring:g,isSelected:f,isSubscribed:b,onRecordPress:v}=this.props;if(!t)return y.a.createElement("div",{className:Pe()(e,h&&FC.a.onAir,g&&FC.a.finishedAiring),style:{width:s+"px"}},m?y.a.createElement("div",{className:FC.a.placeholderContainer},y.a.createElement(VC,null),y.a.createElement(VC,null)):y.a.createElement("div",{className:FC.a.content},Object(Ce.default)("Unknown Airing")));const I=function(e,t){let a=null;switch(e){case wo.MOVIE:a=gM;break;case wo.SHOW:case wo.EPISODE:t&&(a=TC)}return a}(o,p);return y.a.createElement("div",{className:Pe()(e,h&&FC.a.onAir,f&&FC.a.selected,(h||u)&&FC.a.hoverable,g&&FC.a.finishedAiring),style:{width:s+"px"},"data-qa-id":"guide-row-item"},y.a.createElement("div",{className:FC.a.content},y.a.createElement(jI.a,{className:FC.a.underlay,onPress:this.onCellPress}),y.a.createElement("div",null,c),y.a.createElement("div",{className:FC.a.actionsContainer},y.a.createElement("div",{className:FC.a.subTitleContainer},I?y.a.createElement(I,{className:FC.a.subTitle,serverEntityID:a,providerEntityID:n,metadataItemEntityID:t}):null,d?y.a.createElement(AC,{className:FC.a.premiereBadge}):null,b?y.a.createElement(DC.a,{className:FC.a.subscriptionBadge},y.a.createElement(MM.a,{type:l})):null),y.a.createElement(AM,{className:FC.a.actions,isCompact:!0,serverEntityID:a,providerEntityID:n,metadataItemEntityID:t,channelIdentifier:i,mediaIndex:r,showRecord:u,showPlay:h,onRecordPress:v}))))}}HC.defaultProps={className:FC.a.container};var _C=HC;const WC={dispatchMirrorDetails:gC};var QC=Object(v.b)((function(){return Object(he.a)(FM,Object(YO.a)(),Object(he.a)((e,{mediaIndex:t})=>t,Object(YO.a)(),(e,t)=>t?t.Media[e]:null),Object(he.a)((e,{beginsAt:t})=>t,(e,{endsAt:t})=>t,(e,t)=>{const a=Math.floor(Date.now()/1e3);return{isOnAir:a>=e&&a<=t,isFinishedAiring:a>=t}}),SO(nS.q),(e,t={},a,n,i)=>{const{type:r,grandparentTitle:s,title:o,subscriptionID:l,subscriptionType:c,grandparentSubscriptionID:d,grandparentSubscriptionType:u,index:p,originallyAvailableAt:m}=t,h=!!a&&a.premiere,g=null!=l||null!=d;let y=!0;if(null==p&&!!m){const e=new Date,t=Object(VM.a)(m);y=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}return{...n,type:r,title:s||o,subscriptionType:c||u,showEpisodeTitle:y,isRemotePlayer:e,isSubscribed:g,premiere:h,canRecord:!!i}})}),WC)((function(e){const{dispatchMirrorDetails:t,...a}=e,{serverEntityID:n,providerEntityID:i,metadataItemEntityID:r,isRemotePlayer:s,isSelected:o}=e;return Object(g.useEffect)(()=>{o&&s&&t({serverEntityID:n,providerEntityID:i,metadataItemEntityID:r})},[s,o,n,i,r,t]),y.a.createElement(_C,{...a})})),GC=a("/VEV"),KC=a.n(GC);var YC=function(e){const{className:t,width:a,isActive:n}=e,i={width:a+"px"};return y.a.createElement("div",{className:t},y.a.createElement("div",{className:Pe()(KC.a.fill,n&&KC.a.active),style:i}))};var qC=Object(v.b)((function(){return Object(he.a)(e=>e.ui.channelGridPage,(e,t)=>{const{airedProgress:a,columnWidth:n,visibleColumns:i}=e;return{width:a/100*i*n}})}))(YC);var ZC=function(e){return Object(he.a)(Object(xI.a)(e),t=>t.protocols.includes(e))},XC=a("fwi0");function JC(){const[e,t]=Object(g.useState)(!1),a=Object(g.useCallback)(()=>{t(!0)},[]),n=Object(g.useCallback)(()=>{t(!1)},[]);return[e,{onMouseEnter:a,onMouseLeave:n,onFocus:a,onBlur:n}]}function $C(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-recent-channel-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M317.1429 42C185.7926 42 79.2857 148.5712 79.2857 280H0l99.6533 99.713c3.3475 3.35 8.7746 3.35 12.1219 0L211.428 280h-79.2852c0-102.34 82.7223-185.1112 185-185.1112 102.2778 0 185.0006 82.7712 185.0006 185.1112 0 102.3391-82.7228 185.1117-185.0005 185.1117-51.0069 0-97.2566-20.8926-130.5566-54.4767l-37.5292 37.5517C192.1354 491.2908 251.3366 518 317.143 518 448.493 518 555 411.4292 555 280c0-131.4288-106.5069-238-237.8571-238zm-37.1435 132.2208v132.2225l112.32 66.1117 19.8223-33.0559-92.4994-52.89V174.2208h-39.6429z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}$C.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var ej=$C,tj=a("1iSi"),aj=a.n(tj);const nj=parseInt(yu.a.channelGridChannelIconWidth,10),ij=parseInt(yu.a.channelGridRowHeight,10);function rj(e){const{className:t,serverEntityID:a,providerEntityID:n,channel:i,isCloudServer:r,onPlayPress:s}=e,[o,l]=JC(),c=i.vcn||i.identifier;return y.a.createElement("div",{"data-qa-id":"guide-channel-name",className:t,...l},r?null:y.a.createElement("div",{className:aj.a.numberContainer},o?y.a.createElement(vM.a,{"data-qa-id":"guide-channel-play",className:aj.a.playButton,title:Object(Ce.default)("Play Channel {channel}",{channel:c}),tabIndex:"-1",onPress:s}):y.a.createElement("span",null,c)),y.a.createElement("div",{className:Pe()(aj.a.thumbnailContainer,r&&aj.a.fullWidth,i.isRecent&&aj.a.isRecent)},r&&o?y.a.createElement(vM.a,{"data-qa-id":"guide-channel-play",className:aj.a.fullWidthPlayButton,title:Object(Ce.default)("Play Channel {channel}",{channel:i.callSign}),tabIndex:"-1",onPress:s}):null,i.thumb?y.a.createElement(ot.a,{key:i.thumb,serverEntityID:a,providerEntityID:n,url:i.thumb,className:aj.a.thumbnail,backgroundSize:"contain",width:nj,height:ij}):y.a.createElement("div",{className:aj.a.channelCallSignText,title:i.callSign},i.callSign)),i.isRecent?y.a.createElement(ej,{className:aj.a.icon}):null)}rj.defaultProps={className:aj.a.container};var sj=rj;const oj={dispatchStartPlayback:Ze.x,dispatchStartLiveTVPlayback:Hs.l};var lj=Object(BI.a)((function(){return Object(he.a)(xO(),ZC(XC.a),(e,t)=>({isCloudServer:e,hasLiveTVProtocol:t}))}),oj)((function(e){const{dispatchStartPlayback:t,dispatchStartLiveTVPlayback:a,...n}=e,{serverEntityID:i,providerEntityID:r,channel:s,metricsPage:o,metricsContext:l,isCloudServer:c,hasLiveTVProtocol:d}=e,{identifier:u}=s,p=Object(g.useCallback)(()=>{const e={serverEntityID:i,providerEntityID:r,metricsPage:o,metricsContext:l};c||d?a({...e,options:{type:_s.e,identifier:u}}):t(e)},[i,r,o,l,c,d,a,u,t]);return y.a.createElement(sj,{...n,channel:s,isCloudServer:c,onPlayPress:p})})),cj=a("pSrE"),dj=a.n(cj);function uj(e){const{className:t,rowClassName:a,serverEntityID:n,providerEntityID:i,selectedMetadataItemEntityID:r,selectedMediaIndex:s,selectedMediaItemRow:o,channel:l,cellIndex:c,columnWidth:d,columnTimes:u,isFetching:p,onMetadataItemPress:m,onRecordPress:h,onNextPress:g,onPrevPress:f,onDetailRowMeasure:b}=e,v=Object(KO.a)(e),I=u[0],S=u[u.length-1],E=u[1]-u[0];return y.a.createElement("div",{className:t,style:v.style,"data-qa-id":"guide-row"},y.a.createElement("div",{className:a},y.a.createElement(lj,{className:dj.a.title,serverEntityID:n,providerEntityID:i,channel:l}),y.a.createElement("div",{className:dj.a.programsContainer},y.a.createElement(qC,{className:dj.a.progress}),l.programs.map((e,t)=>{const a=Math.max(e.beginsAt,I),u=(Math.min(e.endsAt,S)-a)/E*d,g=c===o&&r===e.metadataItemEntityID&&s===e.mediaIndex;return y.a.createElement(QC,{key:t,width:u,className:dj.a.program,beginsAt:e.beginsAt,endsAt:e.endsAt,metadataItemEntityID:e.metadataItemEntityID,mediaIndex:e.mediaIndex,serverEntityID:n,providerEntityID:i,channelIdentifier:l.identifier,cellIndex:c,isSelected:g,showLoader:p&&!e.metadataItemEntityID,onPress:m,onRecordPress:h})}))),c===o?y.a.createElement(VO.a,{key:r,onMeasure:b},y.a.createElement(UM,{serverEntityID:n,providerEntityID:i,metadataItemEntityID:r,mediaIndex:s,onRecordPress:h,onNextPress:g,onPrevPress:f})):null)}uj.defaultProps={rowClassName:dj.a.container};var pj=Object(g.memo)(uj);var mj=function(e,t="HH:mm:ss"){return e?Object(tM.a)(e,t):""},hj=a("Jrrk"),gj=a.n(hj);function yj(e){const{className:t,enablePrevious:a,enableNext:n,startDate:i,columnTimes:r,timeFormat:s,columnWidth:o,dispatchPrevious:l,dispatchNext:c}=e;return y.a.createElement("div",{className:t},y.a.createElement("div",{className:gj.a.dayContainer},i?Object(Xa.default)(i,"EEEE, LLL dd"):null),y.a.createElement("div",{className:gj.a.labelContainer},r.map((e,t)=>y.a.createElement("div",{key:t,className:gj.a.label,style:{width:o+"px"}},mj(1e3*e,s)))),y.a.createElement("div",{className:gj.a.navigationButtons},y.a.createElement(ZO.a,{className:gj.a.navigationButton,iconComponent:zu,title:Object(Ce.default)("Previous"),isDisabled:!a,onPress:l}),y.a.createElement(ZO.a,{className:gj.a.navigationButton,iconComponent:ku,title:Object(Ce.default)("Next"),isDisabled:!n,onPress:c})))}yj.defaultProps={className:gj.a.container};var fj=yj;const bj={dispatchNext:rO,dispatchPrevious:sO};var vj=Object(v.b)((function(){return Object(he.a)(e=>e.ui.channelGridPage,qO,(e,t)=>{const{startTime:a,columnWidth:n}=e,i=new Date-108e5;let r=new Date(1e3*a);const s=r>i;return pn(a)&&(r=null),{timeFormat:t,startDate:r,columnWidth:n,enablePrevious:s,enableNext:!0}})}),bj)(fj),Ij=a("6nCn"),Sj=a.n(Ij);const Ej=parseInt(yu.a.channelGridRowHeight,10)-1,Oj={selectedMetadataItemEntityID:null,selectedMediaIndex:null,selectedMediaItemRow:-1,selectedMediaItemHeight:0};class Mj extends g.Component{constructor(e,t){super(e,t),this.getCellHeights=()=>{const{selectedMediaItemRow:e,selectedMediaItemHeight:t}=this.state;return this.props.channels.map((a,n)=>{let i=Ej;return n===e&&(i+=t||140),i})},this._updateProgress=()=>{this.props.dispatchUpdateAiredProgress(),this._resetUpdateTimeout()},this.onMetadataItemPress=(e,t,a)=>{this.state.selectedMetadataItemEntityID!==e||this.state.selectedMediaIndex!==t||this.state.selectedMediaItemRow!==a?this.setState({selectedMetadataItemEntityID:e,selectedMediaIndex:t,selectedMediaItemRow:a,selectedMediaItemHeight:140}):this.setState(Oj)},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.onPrevPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:a,selectedMediaItemRow:n}=this.state,{programs:i}=this.props.channels[n],r=i.findIndex(e=>e.metadataItemEntityID===t&&e.mediaIndex===a)-1,{metadataItemEntityID:s,mediaIndex:o}=null!=(e=i[r])?e:{};s&&this.setState({selectedMetadataItemEntityID:s,selectedMediaIndex:o}),r<=1&&this.props.dispatchNavigateTimeBack()},this.onNextPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:a,selectedMediaItemRow:n}=this.state,{programs:i}=this.props.channels[n],r=i.findIndex(e=>e.metadataItemEntityID===t&&e.mediaIndex===a)+1,{metadataItemEntityID:s,mediaIndex:o}=null!=(e=i[r])?e:{};s&&this.setState({selectedMetadataItemEntityID:s,selectedMediaIndex:o}),r>=i.length-1&&this.props.dispatchNavigateTimeForward()},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.renderCell=e=>{const{serverEntityID:t,providerEntityID:a,columnTimes:n,columnWidth:i,channels:r,isPending:s,onRecordPress:o}=this.props,{selectedMetadataItemEntityID:l,selectedMediaIndex:c,selectedMediaItemRow:d}=this.state,u=r[e.cellIndex];return u?y.a.createElement(pj,{...e,className:Sj.a.gridRowCell,rowClassName:Sj.a.gridRow,channel:u,serverEntityID:t,providerEntityID:a,selectedMetadataItemEntityID:l,selectedMediaIndex:c,selectedMediaItemRow:d,columnTimes:n,columnWidth:i,isFetching:s,onMetadataItemPress:this.onMetadataItemPress,onNextPress:this.onNextPress,onPrevPress:this.onPrevPress,onDetailRowMeasure:this.onDetailRowMeasure,onRecordPress:o}):null},this._updateTimeout=null,this.state=Oj}static getDerivedStateFromProps(e,t){const{selectedMediaIndex:a,selectedMetadataItemEntityID:n,selectedMediaItemRow:i}=t,r=e.channels[i];if(!r||0===r.programs.length)return null;return r.programs.find(e=>e.mediaIndex===a&&e.metadataItemEntityID===n)?null:Oj}componentDidMount(){this._updateProgress()}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentDidUpdate(e){Object(IO.a)(this.props.columnTimes,e.columnTimes)||this._updateProgress()}_resetUpdateTimeout(){this._updateTimeout&&window.clearTimeout(this._updateTimeout);const e=6e4-Date.now()%6e4;this._updateTimeout=window.setTimeout(this._updateProgress,e)}render(){const{className:e,serverEntityID:t,providerEntityID:a,viewportWidth:n,viewportHeight:i,columnTimes:r,channels:s,isCloudServer:o,isEmpty:l,showSpinner:c,showError:d}=this.props,u=o?"uniqueId":"identifier";return y.a.createElement("div",{className:e},c||d||l?null:y.a.createElement(jh,{className:Sj.a.banner,serverEntityID:t,providerEntityID:a}),c||d||l?null:y.a.createElement(vj,{className:Sj.a.timeline,columnTimes:r}),d?y.a.createElement(GO.a,{className:Sj.a.innerEmptyPage,title:Object(Ce.default)("There was an error loading channels")}):null,c?y.a.createElement(_O.a,{className:Sj.a.innerEmptyPage},y.a.createElement(HO.a,{label:Object(Ce.default)("Loading channels")})):null,c||d||!l?null:y.a.createElement(QO,{serverEntityID:t,providerEntityID:a}),c||d||l?null:y.a.createElement(BO.a,{className:Sj.a.gridContent,scrollerClassName:Sj.a.gridInnerContent,keyPropName:u,items:s,scrollDirection:iv.c,viewportWidth:n,viewportHeight:i,size:s.length,layout:FO({getCellHeights:this.getCellHeights}),cellRenderer:this.renderCell,onMeasure:this.onScrollerMeasure}))}}Mj.defaultProps={className:Sj.a.gridContainer,columnTimes:[],isCloudServer:!1};var Cj=Mj;const jj={dispatchUpdateAiredProgress:lO,dispatchNavigateTimeForward:rO,dispatchNavigateTimeBack:sO};var Dj=Object(v.b)((function(){return Object(he.a)(e=>e.ui.channelGridPage,Object(jO.a)(),(e,t={})=>{const{isPending:a=!0,isPopulated:n=!1,metadataItems:i=[],error:r}=t,s=!!a&&!n&&!r,o=!!r;return{...e,isPending:a,isEmpty:n&&!a&&!r&&0===i.length,showSpinner:s,showError:o}})}),jj)(Cj),Pj=a("XHow"),Tj=a("o2p+");const wj=Object(yo.a)("provider/providerSettings/fetchProviderSettings"),Nj=Object(yo.a)("provider/providerSettings/fetchProviderSettingSelectOptions"),xj=Object(yo.a)("provider/provderSettings/clearProviderSettingFetchError"),Aj=Object(yo.a)("provider/providerSettings/fetchProviderSettingLocationOptions"),Lj=Object(yo.a)("provider/providerSettings/populateProviderSettingLocationOptions"),kj=Object(yo.a)("provider/providerSettings/fetchProviderSettingLineupChannels"),Rj=Object(yo.a)("provider/providerSettings/populateProviderSettingLineupChannels"),zj=Object(yo.a)("provider/providerSettings/fetchProviderSettingRecentChannelsInGrid"),Uj=Object(yo.a)("provider/providerSettings/populateProviderSettingRecentChannelsInGrid"),Vj=Object(yo.a)("provider/providerSettings/updateProviderSetting"),Bj=Object(yo.a)("provider/providerSettings/clearProviderSettingUpdateError"),Fj=Object(yo.a)("provider/providerSettings/populateProviderSettingOptions");function Hj(e,t){return Object(GI.j)(e,t).get("features").get(nS.p)}function _j(e,t){return Hj(e,t).get("settings").get(t.settingID)}function Wj(e,t){switch(e.get("type")){case"lineup":{const a=e.get("lineup"),n=new Pj.a(t.map(e=>{const t=a.findWhere({id:e.id});return t.set({hidden:e.hidden}),t}));e.set("lineup",n);break}case"location":{const a=e.get("locations").get(t.country);e.set({country:t.country,countryLabel:a.get("title"),postalCode:t.postalCode});break}case"select":M.a.each(t,(t,a)=>{e.get("options").get(a).set({selected:t})}),e.set("selectedCount",M.a.values(t).filter(e=>e).length);break;default:e.set("value",t[e.id])}}function Qj(e,t,a){const n=M.a.mapObject(t,(e,t)=>!0===e?"1":!1===e?"0":e),i=j.default.join(M.a.result(e,"url"),{prefs:n}),r=a.getXHROptions(i,{type:"PUT"});return h.a.ajax(r).then(()=>{Wj(e,t)})}const Gj={"provider/providerSettings/fetchProviderSettings":Object(WI.a)({key:"settings",getModel:Hj}),"provider/providerSettings/fetchProviderSettingSelectOptions":Object(WI.a)({key:"options",getModel:_j}),"provider/providerSettings/fetchProviderSettingLocationOptions":Object(WI.a)({key:"locations",getModel:_j}),"provider/providerSettings/populateProviderSettingLocationOptions":Object(QI.a)({key:"locations",fetchActionCreator:Aj,getModel:_j}),"provider/providerSettings/fetchProviderSettingLineupChannels":Object(WI.a)({key:"lineup",getModel:_j}),"provider/providerSettings/populateProviderSettingLineupChannels":Object(QI.a)({key:"lineup",fetchActionCreator:kj,getModel:_j}),"provider/providerSettings/fetchProviderSettingRecentChannelsInGrid":Object(WI.a)({key:"recentChannelsInGrid",getModel:_j}),"provider/providerSettings/populateProviderSettingRecentChannelsInGrid":Object(QI.a)({key:"recentChannelsInGrid",fetchActionCreator:zj,getModel:_j}),"provider/providerSettings/updateProviderSetting"(e,t){const{settingID:a,values:n}=t,i=Object(GI.j)(e,t),r=i.get("features").get(nS.p),s=e.get("ui").get("providerSettingsPage"),o=r.get("settings").get(a);s.set({isUpdatePending:!0,updateError:null});const l=[];if("group"===o.get("type"))o.get("settings").forEach(e=>{const t={[e.id]:n[e.id]};l.push(Qj(e,t,i))});else if("lineup"===o.get("type")){const e=M.a.result(o,"url"),t=i.getXHROptions(e,{type:"PUT",contentType:"application/json",data:JSON.stringify(n)}),a=h.a.ajax(t).then(()=>{Wj(o,n)});l.push(a)}else"int"===o.get("type")?(Object.keys(n).forEach(e=>{n[e]=parseInt(n[e],10)}),l.push(Qj(o,n,i))):l.push(Qj(o,n,i));h.a.when(...l).then(()=>{s.set({isUpdatePending:!1,updateError:null})},e=>{s.set({isUpdatePending:!1,updateError:Object(rS.a)(e)})})},"provider/providerSettings/clearProviderSettingUpdateError"(e,t){e.get("ui").get("providerSettingsPage").set("updateError",null)},"provider/provderSettings/clearProviderSettingFetchError"(e,t){_j(e,t).set({optionsError:null,locationsError:null})},"provider/providerSettings/populateProviderSettingOptions"(e,t,a){const n=_j(e,t),i=n.get("type");if("select"===i)Object(Dt.a)(()=>{a(Nj(t))});else if("location"===i)a(Lj(t));else if("lineup"===i){const e=n.get("id");e===Tj.a?a(Rj(t)):e===Tj.d&&a(Uj(t))}}};function Kj(e,t){return e.find(({id:e})=>e===t)||{}}const Yj={dispatchFetchProviderSettings:wj,dispatchFetchProviderSettingRecentChannelsInGrid:zj,dispatchUpdateAiredProgress:lO,dispatchNavigateTimeForward:rO,dispatchNavigateTimeBack:sO};function qj(e){const{providerEntityID:t,numRecentChannelsInGrid:a,isSettingsPending:n,dispatchFetchProviderSettings:i,dispatchFetchProviderSettingRecentChannelsInGrid:r,...s}=e;return Object(g.useEffect)(()=>{i({providerEntityID:t})},[i,t]),Object(g.useEffect)(()=>{!n&&a>0&&r({providerEntityID:t,settingID:Tj.d})},[r,n,a,t]),y.a.createElement("div",null,y.a.createElement(Cj,{...s,providerEntityID:t}))}qj.defaultProps={numRecentChannelsInGrid:0};var Zj=Object(v.b)((function(){return Object(he.a)(e=>e.ui.channelGridPage,(e,{channels:t})=>t,Object(jO.a)(),SO(nS.p),(e,t,a={},n)=>{const{isPending:i=!0,isPopulated:r=!1,metadataItems:s=[],error:o}=a,{settings:l,isSettingsPending:c=!0,isSettingsPopulated:d=!1,settingsError:u}=n,p=Kj(l,Tj.d),m=Kj(l,Tj.b),h=m?m.value:0,{recentChannelsInGrid:g=[],isRecentChannelsInGridPending:y=!0,isRecentChannelsInGridPopulated:f=!1,recentChannelsInGridError:b}=p,v=i&&!r&&!o||c&&!d&&!u||h>0&&y&&!f&&!b,I=!!b||!!u||!!o,S=r&&!i&&!o&&0===s.length,E=[...t];if(h>0&&f){const e=g.reduce((e,a)=>{const n=t.find(e=>e.identifier===a.id);return n&&e.push({...n,isRecent:!0}),e},[]);E.unshift(...e)}return E.forEach((e,t)=>(e.uniqueId=t,e)),{...e,channels:E,numRecentChannelsInGrid:h,isCloudServer:!0,isPending:i,isSettingsPending:c,isEmpty:S,showSpinner:v,showError:I}})}),Yj)(qj),Xj=a("CytX"),Jj=a.n(Xj);var $j=function(e){const{metadataListEntityID:t,serverEntityID:a,providerEntityID:n,channels:i,isCloudServer:r,onMeasure:s}=e,[o,l]=Object(g.useState)({}),c=Object(sE.a)(),d=Object(g.useCallback)(e=>{l(e),c.onOpen()},[c,l]),u=r?Zj:Dj;return y.a.createElement(y.a.Fragment,null,y.a.createElement(vd.a,{...o,isOpen:c.isOpen,onModalClose:c.onClose}),y.a.createElement(VO.a,{className:Jj.a.measureContainer,onMeasure:s},y.a.createElement(u,{className:Jj.a.gridContent,metadataListEntityID:t,serverEntityID:a,providerEntityID:n,channels:i,onRecordPress:d})))};const eD=parseInt(yu.a.channelGridChannelOverflowWidth,10),tD=parseInt(yu.a.channelGridChannelColumnWidth,10),aD=parseInt(yu.a.channelGridTitleColumnWidth,10),nD=Object(he.a)(e=>e.ui.channelGridPage,xO(),(e,t)=>{const{columnTimes:a}=e;return{columnTimes:a,isCloudServer:t}}),iD={dispatchSetViewportSize:oO,dispatchResetStartTime:iO};class rD extends g.Component{constructor(e,t){super(e,t),this._updateGrid=()=>{const{dispatchResetStartTime:e}=this.props;e(),this._resetTimeout()},this.onMeasure=e=>{const{isMeasured:t,measuredSize:a}=this.state;t&&Object(IO.a)(a,e)||this.setState({isMeasured:!0,measuredSize:e},()=>{this.setViewportSize(e)})},this._updateTimeout=null,this.state={isMeasured:!1,measuredSize:null}}componentDidMount(){this._resetTimeout()}componentDidUpdate(e){const{metadataListEntityID:t,columnTimes:a}=this.props;t===e.metadataListEntityID&&Object(IO.a)(a,e.columnTimes)||this._resetTimeout()}componentWillUnmount(){this._updateTimeout&&window.clearTimeout(this._updateTimeout)}_resetTimeout(e=this.props){const{columnTimes:t}=e;if(!t.length)return;this._updateTimeout&&(window.clearTimeout(this._updateTimeout),this._updateTimeout=null);const a=Math.floor(Date.now()/1e3);let n=7200;if(t[0]<=a&&t[1]>=a){n=t.find(e=>a<e)-a}this._updateTimeout=window.setTimeout(this._updateGrid,1e3*n)}setViewportSize(e){const{dispatchSetViewportSize:t}=this.props;t({width:e.width,height:e.height,overflowWidth:eD,channelWidth:tD,channelTitleWidth:aD}),this._resetTimeout()}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,channels:n,isCloudServer:i}=this.props;return y.a.createElement($j,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,channels:n,isCloudServer:i,onMeasure:this.onMeasure})}}var sD=Object(v.b)(nD,iD)(rD),oD=a("DBXq");function lD(){return Object(he.a)(Object(xI.a)(),(e={})=>[{key:`/${e.identifier}/grid?channel.value=1`,filter:"hdonly",filterKey:"channel.value",filterType:oD.a,title:Object(Ce.default)("HD Channels Only")}])}var cD=a("wsmf"),dD=a("jMpR"),uD=a("ssI9"),pD=a("A9O1");function mD(e,t,a,n){return Object(VE.a)(e.machineIdentifier,t.identifier,a.id,n.key)}function hD(e,t){if(e&&e.pivots)return e.pivots.find(e=>e.key===t)}var gD=a("ZGgN");var yD=Object(he.a)(Object(kt.a)("features"),e=>Object(gD.a)(e,e=>e.id,()=>!0));function fD(e,t,a,n,i){return n.type===bI.c?Object(dD.a)(n.key,e,t,a,i):Object(ng.a)(e,t,a,{...i,key:n.key,pageType:n.type,context:n.context})}var bD=a("WRlm");var vD=function(e){const{tab:t,component:a,onPress:n}=e,i=Object(v.c)(),r=Object(v.d)(Ee),s=Object(g.useCallback)(e=>{if(r){const t=e.currentTarget.getAttribute("href");t&&(0===e.button||e.touches)&&(e.stopPropagation(),i(Object(ta.v)({pathname:t,replace:!0})))}n(t.id,r)},[r,t,n,i]);return y.a.createElement(a,{isDisabled:t.isDisabled,isSelected:t.isSelected,to:t.route,onPress:s},t.title)};var ID=Object(v.b)(null,(function(e,t){const{serverEntityID:a,providerEntityID:n,providerMetricsIdentifier:i,sourceDirectory:r,tab:s,metricsPage:o}=t;return{onPress(t,l){l||e(Object(ta.C)({serverEntityID:a,providerEntityID:n,directoryID:r.id,pivotKey:s.pivotKey})),Object(E.c)("metrics").trackEvent({event:bD.c,interaction:!0,properties:{page:o,identifier:i,action:Gi.gb,context:s.context,origin:"tabChange"}})}}}))(vD),SD=a("lnp7"),ED=a.n(SD);function OD(e){const{className:t,children:a,isSelected:n,...i}=e;return y.a.createElement(Ih.a,{className:Pe()(t,n&&ED.a.isSelected),"data-qa-id":"tabButton",size:cc.a,...i},a)}OD.defaultProps={className:ED.a.button};var MD=OD;function CD(){const e=Object(_r.a)(),[t,a]=Object(g.useState)(!1),n=Object(g.useCallback)(()=>{a(!t)},[t,a]),i=Object(g.useCallback)(()=>{a(!1)},[a]);return{menuButtonID:e,isMenuOpen:t,onMenuButtonPress:n,onMenuClose:i}}var jD=a("aAt6"),DD=a.n(jD);const PD={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(yu.a.pageHeaderTabButtonLeftRightMargin,10)]}}]};var TD=function(e){const{tabs:t,component:a,onPress:n,...i}=e,{menuButtonID:r,isMenuOpen:s,onMenuButtonPress:o,onMenuClose:l}=CD(),c=Object(g.useCallback)(e=>{l(),n&&n(e)},[n,l]),d=t.find(e=>e.isSelected)||t[0];return y.a.createElement("div",{id:r,className:DD.a.container,"data-qa-id":"tabDropDown"},y.a.createElement(MD,{className:DD.a.button,isSelected:d.isSelected,onPress:o},y.a.createElement("div",{className:DD.a.buttonContents},y.a.createElement("div",{className:DD.a.title},d.title),y.a.createElement(oc.a,{className:Pe()(DD.a.disclosureArrow,d.isSelected&&DD.a.isSelected),direction:s?lc.c:lc.a}))),y.a.createElement(Xs.a,{isOpen:s,target:r,options:PD,onMenuClose:l},t.map((e,t)=>y.a.createElement(a,{...i,key:t,tab:e,component:uc.a,onPress:c}))))},wD=a("DkTW"),ND=a.n(wD);function xD(e){const{tabs:t,component:a,hideSingleTabs:n,...i}=e,[r,s]=Object(g.useState)(0),o=Object(g.useCallback)(e=>{s(e.width)},[]),[l,c]=Object(g.useState)(0),d=Object(g.useCallback)(e=>{c(e.width)},[]),u=t.length<2,p=t.length>1&&l>r;return u&&n?null:y.a.createElement(VO.a,{className:ND.a.pageHeaderCenter,ignoreHeight:!0,onMeasure:o},p?y.a.createElement(TD,{...i,tabs:t,component:a}):y.a.createElement(VO.a,{ignoreHeight:!0,onMeasure:d},t.map((e,t)=>y.a.createElement(a,{...i,key:t,tab:e,component:MD}))))}xD.defaultProps={component:vD,hideSingleTabs:!0};var AD=xD;var LD=Object(BI.a)((function(){return Object(he.a)(bh.b,Object(he.a)((e,{sourceDirectory:t})=>t,(e,{directoryKey:t})=>t,Object(RI.a)(),Object(xI.a)(),yD,pD.a,Ee,(e,t,a,n,i,r,s)=>{const o=hD(e,t);return e.pivots.reduce((t,l)=>{if("vod.channels"===l.id&&l.requires&&!i[l.requires])return t;const c=mD(a,n,e,l),d=c?r[c]:{},u=s?jE(a,n,e,l):fD(a,n,e,l,d);return u?(t.push({pivotKey:l.key,title:l.title,route:u,isSelected:!(!o||l.key!==o.key),isDisabled:!l.key,context:l.context}),t):t},[])}),(e,t)=>({providerMetricsIdentifier:e.metricsIdentifier,tabs:t}))}))((function(e){return y.a.createElement(AD,{...e,component:ID})})),kD=a("yqSf"),RD=a("9l/z"),zD=a.n(RD);var UD=function(e){const{serverEntityID:t,providerEntityID:a,isEmbeddedServer:n,source:i,title:r,detail:s,route:o}=e,l=CD();return y.a.createElement(y.a.Fragment,null,i&&!n?y.a.createElement(Pv,null,y.a.createElement(NI,{id:l.menuButtonID,iconComponent:bE,label:Object(Ce.default)("Actions"),isMenuOpen:l.isMenuOpen,onPress:l.onMenuButtonPress}),y.a.createElement(mE,{target:l.menuButtonID,serverEntityID:t,providerEntityID:a,source:i,isOverflowMenuOpen:l.isMenuOpen,onOverflowMenuClose:l.onMenuClose})):null,y.a.createElement("div",{className:zD.a.headerContainer},y.a.createElement(TI,{title:r,detail:s,route:o})))};function VD(e,t,a,n){return n?Object(Ce.default)("Downloads"):e?e.title:t.isCloud?a.title:CI(t)}function BD(e,t){return t.isCloud?e&&e.providerSourceTitle:t.isFullOwnedServer?e?e.serverFriendlyName:null:e?`${e.serverSourceTitle} • ${e.serverFriendlyName}`:MI(t)}const FD=Object(he.a)((e,{sourceDirectory:t})=>t,pD.a,Object(RI.a)(),Object(xI.a)(),Object(kD.a)(),SO(nS.c),(e,t,a,n,i,r)=>{if(!r)return{};const s=Object(OI.a)(n,e),o=e?EI({sourceType:s?s.key:null,sourceServer:a,sourceProvider:n,sourceDirectory:e}):null,l=i?hE(t.downloads):Object(ng.a)(a,n,e,e?void 0:{key:vI.a,pageType:bI.a});return{isEmbeddedServer:i,source:o,title:VD(o,a,n,i),detail:BD(o,a),route:l}});var HD=Object(v.b)(FD)(UD),_D=a("/6Su"),WD=a.n(_D);function QD(e){const{containerComponent:t,serverEntityID:a,providerEntityID:n,sourceDirectory:i,children:r}=e;return y.a.createElement(t,null,y.a.createElement(HD,{serverEntityID:a,providerEntityID:n,sourceDirectory:i}),r?y.a.createElement("div",{className:WD.a.childrenContainer},r):null)}QD.defaultProps={containerComponent:zv};var GD=QD,KD=a("YeIk"),YD=a.n(KD);var qD=Object(v.b)((function(){return Object(he.a)(LI(),e=>({isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""}))}))((function(e){const{className:t,isEPGRefreshing:a,epgActivityProgress:n,epgActivityTitle:i}=e;return a?y.a.createElement("span",{className:t},i," (",n,"%)",y.a.createElement(HO.a,{className:YD.a.refreshingSpinner,size:cc.c})):null}));function ZD(e){if(!e)return"";const t=e instanceof Date?e:new Date(e),a=Object(Tn.a)(t);return Object(un.a)(t,new Date)?Object(Ce.default)("Today"):rn(a)}var XD=a("L395");class JD extends g.Component{constructor(){super(...arguments),this.onPress=()=>{const{option:e,onPress:t}=this.props;t(e)}}render(){const{className:e,option:t,isDisabled:a,isSelected:n}=this.props;return y.a.createElement(uc.a,{className:e,isDisabled:a,isSelected:n,onPress:this.onPress},t.title)}}var $D=JD;var eP=function(e){const{className:t,dateOptions:a,onSelectDate:n,onSelectNow:i}=e;return y.a.createElement(XD.a,{className:t,autoScroll:!0},y.a.createElement(uc.a,{onPress:i},Object(Ce.default)("Now")),y.a.createElement($s.a,null),a.map((e,t)=>y.a.createElement($D,{key:t,option:e,isSelected:e.isSelected,onPress:n},e.title)))},tP=a("Orh4"),aP=a("dndX"),nP=a("XQXX"),iP=a("CxvL"),rP=a("voa6"),sP=a.n(rP);var oP=function(e){const{className:t,timeOptions:a,selectedDateOption:n,onDeselectDateOption:i,onSelectTime:r}=e;return y.a.createElement("div",{className:t},y.a.createElement("div",{className:sP.a.header},y.a.createElement(jI.a,{onPress:i},y.a.createElement(zu,{className:sP.a.backIcon,"aria-label":Object(Ce.default)("Back")})),y.a.createElement("span",{className:sP.a.headerText},n.title)),y.a.createElement($s.a,null),a.map((e,t)=>y.a.createElement($D,{key:t,option:e,isDisabled:!e.isEnabled,isSelected:e.isSelected,onPress:r},e.title)))};function lP(e,t){return Object(iP.a)(Object(nP.a)(new Date(e),t))}var cP=Object(v.b)((function(){const e=[{startHour:0,title:Object(Ce.default)("Midnight")},{startHour:2,title:Object(Ce.default)("Overnight")},{startHour:6,title:Object(Ce.default)("Morning")},{startHour:10,title:Object(Ce.default)("Daytime")},{startHour:17,title:Object(Ce.default)("Evening")},{startHour:20,title:Object(Ce.default)("Prime Time")},{startHour:23,title:Object(Ce.default)("Late Night")}];return Object(he.a)(e=>e.ui.channelGridPage,(e,{selectedDateOption:t})=>t,(t,a={})=>{if(!a)return{timeOptions:[]};const n=Object(Za.a)(t.startTime),i=Object(Za.a)(a.value),r=new Date;return{timeOptions:e.map((t,a)=>{const s=e[a+1],o=lP(i,t.startHour),l=lP(i,s?s.startHour:24),c=Object(aP.a)(r,l),d=Object(tP.a)(n,o)>=0&&Object(tP.a)(n,l)<0,u=Object(aP.a)(o,r)?Object(Tn.a)(r):Object(Tn.a)(o);return{title:Object(tP.a)(r,o)>=0&&Object(tP.a)(r,l)<0?Object(Ce.default)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:u,isEnabled:c,isSelected:d}})}})}))(oP),dP=a("1cAJ"),uP=a.n(dP);const pP={scrollDirection:iv.b,className:uP.a.listContainer};class mP extends g.Component{constructor(e,t){super(e,t),this.onSelectDate=e=>{this.setState({showTimeOptions:!0,activeDateOption:e})},this.onSelectNow=()=>{const e=Math.floor(Date.now()/1e3);this.onSelectTime({value:e})},this.onSelectTime=e=>{this.setState({showTimeOptions:!1}),this.props.dispatchSetStartTime(e.value),this.props.onMenuClose()},this.onHideOptions=e=>{this.setState({showTimeOptions:!1})},this.state={showTimeOptions:!1,activeDateOption:e.dateOptions.find(e=>e.isSelected)}}render(){const{target:e,isOpen:t,dateOptions:a,onMenuClose:n}=this.props,{showTimeOptions:i,activeDateOption:r}=this.state,s=Pe()(uP.a.list,!!i&&uP.a.showTimeOptions);return y.a.createElement(Xs.a,{target:e,isOpen:t,size:cc.b,scrollerProps:pP,onMenuClose:Object(to.a)(this.onHideOptions,n)},y.a.createElement(eP,{className:s,dateOptions:a,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),y.a.createElement(cP,{className:s,selectedDateOption:r,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))}}var hP=mP;const gP={dispatchSetStartTime:nO};var yP=Object(v.b)((function(){return Object(he.a)(e=>e.ui.channelGridPage,e=>({dateOptions:function(e){const t=[],a=Object(Za.a)(e);for(let e=0;e<8;e++){const n=Object(mn.a)(new Date,e),i=ZD(n),r=Object(un.a)(n,a);t.push({title:i,value:Object(Tn.a)(n),isSelected:r})}return t}(e.startTime)}))}),gP)(hP),fP=a("22a4");function bP(e,t,a){const n=[...e];for(let e=n.length-1;e>=0;e--){const t=n[e],i=t.type===oD.a,r=a.type===oD.a;t&&i!==r||n.splice(e,1)}return n.push({key:t,...a}),n}function vP(e,t){if(!e)return!1;const a="string"==typeof t?decodeURIComponent(t):t;return!!M.a.find(e,({value:e})=>Array.isArray(e)?e.indexOf(a)>-1:e===a)}function IP(e,t,a){if(null==a)return e.filter(e=>e.key!==t);const n=[...e];let i=n.length;for(;i-- >0;){const e=n[i],r=e.key,s=e.value;if(t===r&&a===s)n.splice(i,1);else if(t===r&&Array.isArray(s)){const t=s.indexOf(a);t>-1&&(s.splice(t,1),1===s.length?n.splice(i,1,{...e,value:s[0]}):s.length||n.splice(i,1))}}return n}var SP=function(e){const{typeKey:t,activeFilters:a,activeFilterLabel:n,activeSort:i,filter:r,title:s,onMenuClose:o}=e,l=om(o),c=vP(a.filter(({key:e})=>e===r),"1");return y.a.createElement(uc.a,{to:Object(fP.a)({typeKey:t,filters:c?IP(a,r):bP(a,r,{value:"1",type:oD.a}),filterLabel:n,sort:i}),isSelected:c,onPress:l},s)},EP=a("Vl58"),OP=a.n(EP);class MP extends g.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onFilterSelect(this.props.filterKey)}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{activeFilters:e,filter:t,title:a,showSpinner:n}=this.props,i=!n&&!!M.a.find(e,({key:e})=>e===t);return y.a.createElement(Js.a,{className:i?OP.a.isSelected:void 0,onPress:this.onPress},y.a.createElement("div",{className:OP.a.menuItemContainer},y.a.createElement("div",{className:OP.a.menuLabel},a),n?y.a.createElement(HO.a,{className:OP.a.spinner,size:cc.c}):null,!n&&i?y.a.createElement("div",{className:OP.a.selectedIcon},y.a.createElement(ns.a,{"aria-label":Object(Ce.default)("Selected")})):null))}}var CP=MP,jP=a("bJXi"),DP=a.n(jP);var PP=function(e){const{className:t,typeKey:a,activeFilters:n,activeFilterLabel:i,activeSort:r,filters:s,selectedFilter:o,showSpinner:l,showCustomFilter:c,onFilterSelect:d,onMenuClose:u}=e,p=om(u),m=M.a.groupBy(s,({filterType:e})=>e===oD.a?e:oD.b),h=m[oD.a],g=m[oD.b];return y.a.createElement(XD.a,{className:Pe()(t,DP.a.filtersScroller),autoScroll:!0},y.a.createElement(uc.a,{key:"all",to:Object(fP.a)({typeKey:a,sort:r}),isSelected:M.a.isEmpty(n),onPress:p},Object(Ce.default)("All")),h?h.map(e=>y.a.createElement(SP,{key:e.filter,typeKey:a,activeFilters:n,activeFilterLabel:i,activeSort:r,filter:e.filter,title:e.title,onMenuClose:u})):null,g?y.a.createElement($s.a,null):null,g?g.map(e=>{const t=!(!o||o.filter!==e.filter);return y.a.createElement(CP,{key:e.filter,typeKey:a,activeFilters:n,activeSort:r,filter:e.filter,filterKey:e.key,title:e.title,showSpinner:l&&t,onFilterSelect:d})}):null,c?y.a.createElement($s.a,null):null,c?y.a.createElement(uc.a,{key:"customFilter",to:Object(fP.a)({typeKey:a,customFilter:!0})},Object(Ce.default)("Custom Filter...")):null)};var TP=function(e){const{filters:t,target:a,isOpen:n,activeFilters:i,activeFilterLabel:r,onMenuClose:s}=e;return y.a.createElement(Xs.a,{target:a,isOpen:n,size:cc.a,onMenuClose:s},y.a.createElement(PP,{activeFilters:i,activeFilterLabel:r,showSpinner:!1,showCustomFilter:!1,filters:t,onMenuClose:s}))};const wP=Object(he.c)({filters:lD()}),NP={dispatchSetStartTime:nO};var xP=Object(v.b)(wP,NP)(TP);class AP extends g.Component{constructor(e,t){super(e,t),this.onDatePickerMenuButtonPress=e=>{this.setState({isDatePickerMenuOpen:!this.state.isDatePickerMenuOpen})},this.onDatePickerMenuClose=()=>{this.setState({isDatePickerMenuOpen:!1})},this.onFilterMenuButtonPress=e=>{this.setState({isFilterMenuOpen:!this.state.isFilterMenuOpen})},this.onFilterMenuClose=()=>{this.setState({isFilterMenuOpen:!1})},this.state={isDatePickerMenuOpen:!1,isFilterMenuOpen:!1},this._datePickerMenuButtonID=Object(gf.a)(),this._filterMenuButtonID=Object(gf.a)()}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:a,selectedFilterTitle:n,datePickerTitle:i,showEPGActivity:r,activeFilters:s,activeFilterLabel:o,totalSize:l}=this.props,{isDatePickerMenuOpen:c,isFilterMenuOpen:d}=this.state;return y.a.createElement(y.a.Fragment,null,y.a.createElement(kE.a,null,y.a.createElement(GD,{serverEntityID:e,providerEntityID:t,sourceDirectory:a}),y.a.createElement(LD,{serverEntityID:e,providerEntityID:t,sourceDirectory:a,directoryKey:dD.c.GUIDE}),y.a.createElement(uD.a,null)),y.a.createElement(Jm,null,y.a.createElement(zv,null,y.a.createElement(cD.a,{id:this._datePickerMenuButtonID,hasMenu:!0,isMenuOpen:c,onPress:this.onDatePickerMenuButtonPress},i),y.a.createElement(yP,{target:this._datePickerMenuButtonID,isOpen:c,onMenuClose:this.onDatePickerMenuClose}),y.a.createElement(cD.a,{id:this._filterMenuButtonID,hasMenu:!0,isMenuOpen:d,onPress:this.onFilterMenuButtonPress},n),y.a.createElement(xP,{target:this._filterMenuButtonID,isOpen:d,activeFilters:s,activeFilterLabel:o,onMenuClose:this.onFilterMenuClose}),y.a.createElement(Gb.a,null,l)),r?y.a.createElement(Uv.a,null,y.a.createElement(qD,{serverEntityID:e,providerEntityID:t})):null))}}var LP=AP;var kP=Object(v.b)((function(){return Object(he.a)(e=>e.ui.channelGridPage,LI(),Object(he.a)((e,{activeFilters:t})=>t,(e,{activeFilterLabel:t})=>t,lD(),(e,t,a)=>{if(!e||!e.length)return Object(Ce.default)("All Channels");if(e&&1===e.length){const t=e[0],n=a.find(e=>e.filter===t.key);if(n)return n.title}return t||Object(Ce.default)("Filtered")}),(e,t,a)=>({datePickerTitle:ZD(1e3*e.startTime),showEPGActivity:!!t,selectedFilterTitle:a}))}))(LP);var RP=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,sourceDirectory:i,activeFilters:r,activeFilterLabel:s,channels:o}=e;return y.a.createElement(RO.a,{metricsContext:zO(It.I,aS.DVR_GUIDE_PIVOT)},y.a.createElement(UO.a,{metricsPage:It.I,scrollDirection:iv.b},y.a.createElement(kP,{serverEntityID:t,providerEntityID:a,sourceDirectory:i,activeFilters:r,activeFilterLabel:s,totalSize:o.length}),y.a.createElement(sD,{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,channels:o})))};var zP=function(e){return!!e&&parseInt(e,10)>480};function UP(e,t,a=[],n){const i=e[0],r=e[e.length-1],s=function(e,t,a,n){return e.reduce((e,i)=>i&&i.Media?(i.Media.forEach((r,s)=>{const{channelIdentifier:o,channelThumb:l,channelTitle:c,channelShortTitle:d,channelVcn:u,channelCallSign:p,beginsAt:m,endsAt:h,videoResolution:g}=r;if(n&&!zP(g))return e;var y;if(e[o]||(e[o]={identifier:o,thumb:l,title:d||c,vcn:u,callSign:p||(y=c,y?y.split(" ")[1]:""),programs:[]}),m<a&&h>t){const n={beginsAt:Math.max(m,t),endsAt:Math.min(h,a),metadataItemEntityID:i.entityID,mediaIndex:s};e[o].programs.push(n)}}),e):e,{})}(t,i,r,n);a.forEach(e=>{s[e.channelIdentifier]||(s[e.channelIdentifier]={identifier:e.channelIdentifier,thumb:e.thumb,title:e.tag,vcn:e.channelVcn,callSign:e.channelCallSign,programs:[]})});return function(e,t,a,n){return Object.values(e).map(e=>(e.programs=function(e,t,a){let n=t;const i=[];e.sort((e,t)=>e.beginsAt>t.beginsAt?1:e.beginsAt<t.beginsAt?-1:0);for(let t=0;t<e.length;t++){const a=e[t];if(a.beginsAt>n){const e={beginsAt:n,endsAt:a.beginsAt};i.push(e)}i.push(a),n=a.endsAt}if(n<a){const e={beginsAt:n,endsAt:a};i.push(e)}return i}(e.programs,t,a),e))}(s,i,r)}const VP={dispatchInitMetadataList:aO,dispatchResetStartTime:iO,dispatchResetMetadataList:Zb.k,dispatchPopulateChannelPrograms:cO,dispatchChangeQuickSearchSettings:Tt.changeQuickSearchSettings};class BP extends g.Component{componentDidMount(){this.props.containerKey&&this._populate(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentDidUpdate(e){const{providerIdentifier:t,containerKey:a,columnTimes:n,isRefreshing:i}=this.props;a&&a!==e.containerKey||i!==e.isRefreshing?this._populate():Object(IO.a)(n,e.columnTimes)||this.props.dispatchPopulateChannelPrograms(),t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){const{metadataListEntityID:e}=this.props;e&&this.props.dispatchResetMetadataList({metadataListEntityID:e}),this._setSearchProviderIdentifier(null)}_populate(){const{serverEntityID:e,providerEntityID:t,containerKey:a,dispatchInitMetadataList:n,dispatchResetStartTime:i,dispatchPopulateChannelPrograms:r}=this.props;i(),n({containerKey:a,serverEntityID:e,providerEntityID:t}),r()}_setSearchProviderIdentifier(e){const{dispatchChangeQuickSearchSettings:t,serverEntityID:a,providerEntityID:n}=this.props;t({serverEntityID:a,providerEntityID:n,providerIdentifier:e,directoryID:null})}render(){const{dispatchInitMetadataList:e,...t}=this.props;return y.a.createElement(RP,{...t})}}var FP=Object(v.b)((function(){return Object(he.a)(e=>e.ui.channelGridPage,PO(),CO(),Object(xI.a)(),NO(),LI(),Object(he.a)(e=>e.ui.channelGridPage,kO(),(e,t)=>{const{channelsList:a,isChannelsListPopulated:n,isChannelsListPending:i,channelsListError:r}=e;return!n||i||r?[]:t?a.filter(e=>!!e.tagValue):a}),kO(),xO(),(e,t,a,n,i,r,s,o,l)=>{let c=UP(e.columnTimes,t,s,o);return l||(c=c.sort((e,t)=>Object(AO.a)(e.vcn||e.identifier,t.vcn||t.identifier))),{metadataListEntityID:e.metadataList,containerKey:a,sourceDirectory:i,channels:c,columnTimes:e.columnTimes,providerIdentifier:n.identifier,isRefreshing:!!r}})}),VP)(BP);const HP=Object(he.c)({metadataListEntityID:e=>e.ui.channelGridPage.metadataList,directoryKey:Object(he.a)((e,{selectedDirectory:t})=>t,e=>{if(!e)return;const t=e.key;return"/"===t.charAt(0)?t:"/library/sections/"+t})});const _P=vO(FP,(function(e){const t=e.ui.channelGridPage;return{providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,metadataListEntityID:t.metadataList,directoryKey:t.directoryKey}}),(function(e,t){e(tO({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,directoryKey:t.directoryKey})),e(uO())}));var WP=Object(v.b)(HP)(_P),QP=a("yjJ5"),GP=a("NoME"),KP=a("piIK"),YP=a("M34a"),qP=a("nvND"),ZP=a("khlA"),XP=a("Pizw");var JP=XE.a.extend({name:"CalendarModel",context:["server"],url:"/media/subscriptions/scheduled",sessionAttrs:{visibleDays:QE.a.integer,time:QE.a.integer},syncedRelations:{scheduled:{relationClass:ZP.default,rootPropertyName:"MediaGrabOperation"}},derivedAttrs:{startTime(){const e=this.get("visibleDays"),t=Object(Za.a)(this.get("time"));let a=Object(YP.a)(t);return e>1&&(a=Object(fn.a)(a,1)),Object(Tn.a)(a)},endTime(){const e=this.get("visibleDays"),t=Object(Za.a)(this.get("time"));let a=Object(KP.a)(t);return e>1&&(a=Object(mn.a)(a,e-2)),Object(Tn.a)(a)},daysOfWeek(){const e=Object(Za.a)(this.get("startTime")),t=Object(Za.a)(this.get("endTime")),a=Object(GP.a)(t,e);return M.a.times(Math.min(a+1,7),t=>Object(Tn.a)(Object(mn.a)(e,t)))},days(){const e=Object(Za.a)(this.get("startTime")),t=Object(Za.a)(this.get("endTime")),a=Object(GP.a)(t,e);return M.a.times(a+1,t=>Object(Tn.a)(Object(mn.a)(e,t)))},firstEvent(){return this.get("scheduled").first()},lastEvent(){return this.get("scheduled").last()},hasPastEvents(){const e=this.get("firstEvent");return!!e&&e.get("beginsAt")<this.get("startTime")},hasFutureEvents(){const e=this.get("lastEvent");return!!e&&e.get("beginsAt")>this.get("endTime")}},defaults:()=>({visibleDays:7,time:Object(Tn.a)(Date.now())}),augmentResponseText:(e,t)=>t===qP.c?Object(XP.b)(e):e});var $P=function(e,t){let a=t&&t.includeDirectories?["Directory",...XP.a]:XP.a;return a=a.reduce((e,t)=>({...e,[t]:t}),{}),function e(t,a,n){if(Array.isArray(t))return t.map(t=>e(t,a,n));if(Object(fO.a)(t))for(const i in t){const r=t[i];let s;a[i]?(s=n,delete t[i]):s=i,t[s]=e(r,a,n)}return t}(e,a,"Metadata")},eT=a("hzmZ");var tT=CS.a.extend({name:"MediaSubscriptionCollection",context:["server"],instanceOptions:[...CS.a.prototype.instanceOptions,"includeDirectories","includeGrabs","includePreferences","includeStorage","includeTarget"],model:eT.a,url(){const e={};return this.includeGrabs&&(e.includeGrabs=1),this.includePreferences&&(e.includePreferences=1),this.includeStorage&&(e.includeStorage=1),this.includeTarget&&(e.includeTarget=1),j.default.join("/media/subscriptions",e)},augmentResponseText(e,t){return t===qP.c?Object(XP.b)(e,{includeDirectories:!!this.includeDirectories}):e},augmentResponse(e,t){return t===qP.a?$P(e,{includeDirectories:!!this.includeDirectories}):e}}),aT=a("5tgX");const nT="ui/recordingSchedulePage/initRecordingSchedulePage",iT="ui/recordingSchedulePage/clearRecordingSchedulePage",rT="ui/recordingSchedulePage/fetchMediaSubscriptions",sT="ui/recordingSchedulePage/moveMediaSubscription",oT="ui/recordingSchedulePage/setVisibleDays",lT="ui/recordingSchedulePage/goToToday",cT="ui/recordingSchedulePage/goToPreviousRange",dT="ui/recordingSchedulePage/goToNextRange",uT="ui/recordingSchedulePage/fetchCalendar",pT="ui/recordingSchedulePage/playRecording",mT="ui/recordingSchedulePage/clearMoveError",hT=Object(yo.a)(nT),gT=Object(yo.a)(iT),yT=Object(yo.a)(rT),fT=Object(yo.a)(sT),bT=Object(yo.a)(oT),vT=Object(yo.a)(lT),IT=Object(yo.a)(cT),ST=Object(yo.a)(dT),ET=Object(yo.a)(uT),OT=Object(yo.a)(pT),MT=Object(yo.a)(mT);function CT(e){return e.get("ui").get("recordingSchedulePage")}function jT(e){return CT(e).get("calendar")}function DT(e,t,a){const n=CT(e),i=Object(GI.m)(e,t);if(n.get("isPagePopulated")){const e=n.get("calendar"),t=n.get("mediaSubscriptions");e&&e.server===i&&a(ET()),t&&t.server===i&&a(yT())}}const PT=Object(MS.a)({[nT](e,t){const a=CT(e),n=a.get("mediaSubscriptions"),i=a.get("calendar"),r=Object(GI.m)(e,t),s={isPagePopulated:!0,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null};n&&n.server===r||(s.mediaSubscriptions=new tT([],{server:r})),i&&i.server===r?i.restoreDefaults():s.calendar=new JP({},{server:r}),a.set(s)},[iT](e){CT(e).set("isPagePopulated",!1)},[rT]:Object(WI.a)({key:"mediaSubscriptions",getModel:CT}),[sT](e,t){const a=CT(e),n=a.get("mediaSubscriptions"),i=Object(GI.e)(e,t),r=i&&n.indexOf(i),{moveIndex:s}=t;if(Object(Dt.a)(()=>{a.set({mediaSubscriptionMoveError:null})}),r===s||r===s-1)return;const o=s>r?s-1:s;n.remove(i),n.add(i,{at:o});const l=o>0?n.at(o-1).id:void 0;Object(aT.a)(i,l).fail(e=>{n.remove(i),n.add(i,{at:r});const t=401===e.status?Object(Ce.default)("You do not have permission to perform this action."):Object(Ce.default)("There was a problem saving your changes. Please try again.");a.set({mediaSubscriptionMoveError:t})})},[mT](e,t){CT(e).set({mediaSubscriptionMoveError:null})},[oT](e,t,a){jT(e).set("visibleDays",t.visibleDays)},[lT](e,t,a){jT(e).set("time",Object(Tn.a)(new Date))},[cT](e,t,a){const n=jT(e),i=n.get("visibleDays"),r=Object(Za.a)(n.get("time"));n.set("time",Object(Tn.a)(Object(fn.a)(r,i)))},[dT](e,t,a){const n=jT(e),i=n.get("visibleDays"),r=Object(Za.a)(n.get("time"));n.set("time",Object(Tn.a)(Object(mn.a)(r,i)))},[uT]:Object(WI.a)({key:"calendar",getModel:CT}),[pT](e,t,a){const{serverEntityID:n,providerEntityID:i,linkedKey:r,metricsContext:s}=t,o=Object(GI.m)(e,t),l=new _I.a({key:r},{server:o});l.populate().done(()=>{a(Object(Ze.x)({serverEntityID:n,providerEntityID:i,metadataItemEntityID:l.entityID(),metricsPage:It.L,metricsContext:s}))})},[$I.g](e,t,a){const n=t.activity;if(n.type===Ms.o&&DT(e,t,a),n.type===Ms.d){"error"===n.Response.status&&DT(e,t,a)}}});function TT(){return Object(he.a)(Object(RI.a)(),e=>e?e.providers:void 0)}function wT(e){return!0}function NT(e,t=wT){return Object(bO.a)(function(e,t){return Object(he.a)(Lt.a,TT(),(a,n)=>n?n.reduce((n,i)=>{const r=a[i];return r&&t(r)&&M.a.findWhere(r.features,{type:e})&&n.push(i),n},[]):[])}(e,t),e=>e)}function xT(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-calendar-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m0 560v-480h120v-80h80v80h160v-80h80v80h120v480h-560m300-60h80v-80h-80v80m-120 0h80v-80h-80v80m-40-80h-80v80h80v-80m360-40v-80h-80v80h80m-360-80h-80v80h80v-80m120 80v-80h-80v80h80m120 0v-80h-80v80h80m120-120v-80h-80v80h80m-360-80h-80v80h80v-80m240 0h-80v80h80v-80m-120 0h-80v80h80v-80m240 240h-80v80h80v-80"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}xT.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var AT=xT,LT=a("Nca4"),kT=a("kSXg"),RT=a("GFd0"),zT=a.n(RT);function UT({children:e,innerClassName:t,...a}){return y.a.createElement(kT.a,{className:zT.a.pageContent,...a},y.a.createElement("div",{className:t},e))}UT.defaultProps={innerClassName:zT.a.innerPageContent};var VT=UT;function BT(){return Object(he.a)((e,{providerID:t})=>t,TT(),Lt.a,(e,t,a)=>{if(e)return t.find(t=>{const n=a[t];return n&&n.identifier===e})})}var FT=a("oz7q"),HT=a("lmsz"),_T=a.n(HT);function WT({children:e,...t}){return y.a.createElement("div",{...t},e)}WT.defaultProps={className:_T.a.dragLayer};var QT=WT;var GT=a("EhJz"),KT=a("ebYq"),YT=a("26tu"),qT=a("6+qq"),ZT=a("UR/t");function XT(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reorder-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m560 380v60h-560v-60h560m-560-130h560v60h-560v-60m0-130h560v60h-560v-60"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}XT.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var JT=XT;var $T=function(e){const{className:t,beginsAt:a,endsAt:n,timeFormat:i}=e,r=function(e,t,a){return e?wn(e,t)?Object(Ce.default)("Airing now"):vn(e,null,{timeFormat:a}):Object(Ce.default)("No upcoming airings")}(a,n,i);return y.a.createElement("span",{className:t},r)},ew=a("3Y6y"),tw=a("wRpn"),aw=a.n(tw);var nw=function({className:e,type:t}){return y.a.createElement("span",{className:e},y.a.createElement(ew.a,{className:aw.a.seriesIcon}),function(e){if("show"===e)return Object(Ce.default)("Series")}(t))},iw=a("9RqU"),rw=a.n(iw);var sw=function(e){const{component:t,isSecondary:a,...n}=e;return y.a.createElement(t,{className:a?rw.a.secondaryTitle:rw.a.title,...n})},ow=a("FYT4"),lw=a.n(ow);class cw extends g.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,type:n,subtype:i,thumb:r,grandparentThumb:s,connectDragSource:o,...l}=this.props,{isSubscribeModalOpen:c}=this.state,d="playlist"===n?"show":n;return y.a.createElement("div",{className:lw.a.subscription},y.a.createElement(jI.a,{className:lw.a.link,onPress:this.onLinkPress},y.a.createElement("div",{className:lw.a.linkContainer},y.a.createElement(JO.a,{className:lw.a.posterContainer,serverEntityID:e,providerEntityID:t,component:$O.a,type:d,width:48,height:Object(eM.e)(48,d,i),url:s||r}),y.a.createElement("div",{className:lw.a.titleContainer},function(e){let t;switch(e){case"movie":t=[qT.a,hM];break;case"show":t=[qT.a,nw];break;case"episode":t=[YT.a,ZT.a];break;case"playlist":t=[qT.a,nw];break;default:t=[qT.a]}return t.push($T),t}(n).map((e,t)=>y.a.createElement(sw,{key:t,component:e,isSecondary:t>0,type:n,...l}))))),o(y.a.createElement("div",{className:lw.a.dragHandle},y.a.createElement(JT,{className:lw.a.dragIcon})),{dropEffect:"copy"}),y.a.createElement(vd.a,{isOpen:c,serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,subscriptionType:n,onModalClose:this.onSubscribeModalClose}))}}cw.defaultProps={connectDragSource:e=>e};var dw=cw;var uw=Object(v.b)((function(){return Object(he.a)(qO,Object(KT.a)(),Object(he.a)(e=>e.ui.recordingSchedulePage.calendar.scheduled,Object(KT.a)(),(e,t)=>M.a.find(e,e=>Object(GT.a)(Object(Za.a)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key)),(e,t,a)=>{const n=M.a.pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return a&&(n.beginsAt=a.beginsAt,n.endsAt=a.endsAt),n.timeFormat=e,n})}))((function(e){return y.a.createElement(dw,{...e})})),pw=a("c4QI"),mw=a.n(pw);const hw=parseInt(yu.a.recordingPriorityPaneWidth,10),gw=parseInt(yu.a.recordingPriorityDragHandleWidth,10);class yw extends g.Component{shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,item:a,itemType:n,currentOffset:i}=this.props;if(!i||"RECORDING_PRIORITY_SUBSCRIPTION"!==n)return null;const{x:r,y:s}=i,o=`translate3d(${r-(hw-gw)}px, ${s}px, 0)`,l={position:"absolute",WebkitTransform:o,msTransform:o,transform:o};return y.a.createElement(QT,null,y.a.createElement("div",{className:mw.a.dragPreview,style:l},y.a.createElement(uw,{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a.mediaSubscriptionEntityID})))}}var fw=Object(FT.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(yw),bw=a("7001"),vw=a.n(bw),Iw=a("MWmE"),Sw=a.n(Iw);const Ew={beginDrag:({mediaSubscriptionEntityID:e})=>({mediaSubscriptionEntityID:e}),endDrag(e,t,a){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},Ow={hover(e,t,a){const n=Object(f.findDOMNode)(a).getBoundingClientRect(),i=(n.bottom-n.top)/2,r=t.getClientOffset().y-n.top,s=e.sortIndex,o=r>i?s+1:s;e.onSubscriptionDragMove(o)}};class Mw extends g.Component{componentDidMount(){this.props.connectDragPreview(Object(bw.getEmptyImage)())}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,isDragging:n,isDraggingBefore:i,isDraggingAfter:r,isOver:s,connectDropTarget:o,connectDragSource:l}=this.props;return o(y.a.createElement("div",{className:Pe()(Sw.a.dragSource,n&&ua.c,i&&s&&ua.e,r&&s&&ua.d)},y.a.createElement(uw,{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,connectDragSource:l})))}}var Cw=Object(FT.DropTarget)("RECORDING_PRIORITY_SUBSCRIPTION",Ow,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(FT.DragSource)("RECORDING_PRIORITY_SUBSCRIPTION",Ew,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Mw)),jw=a("1eVT"),Dw=a.n(jw);var Pw=function(e){const{serverEntityID:t,providerEntityID:a,mediaSubscriptionEntityIDs:n,guideRoute:i,showError:r,showEmptyState:s,moveIndex:o,onSubscriptionDragMove:l,onSubscriptionDragEnd:c}=e;return y.a.createElement("div",{className:Dw.a.pane},y.a.createElement("div",{className:Dw.a.paneHeader},Object(Ce.default)("Recording Priority")),y.a.createElement(XD.a,{className:Dw.a.paneScroller,autoScroll:!0},r?y.a.createElement("div",{className:Dw.a.error},y.a.createElement("div",null,Object(Ce.default)("There was an error loading recordings.")),y.a.createElement("div",null,Object(Ce.default)("Please try again."))):null,s?y.a.createElement("div",{className:Dw.a.empty},y.a.createElement("div",null,Object(Ce.default)("You have no recordings scheduled.")),y.a.createElement("div",null,y.a.createElement(LT.a,{message:Object(Ce.default)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:jI.a,kind:ao.d,to:i}]}))):null,r||s?null:n.map((e,n)=>{const i=null!=o,r=i&&o===n,s=i&&o===n+1;return y.a.createElement(Cw,{key:e,serverEntityID:t,providerEntityID:a,mediaSubscriptionEntityID:e,isDraggingBefore:r,isDraggingAfter:s,sortIndex:n,onSubscriptionDragMove:l,onSubscriptionDragEnd:c})})),y.a.createElement(fw,{serverEntityID:t,providerEntityID:a}))};const Tw={dispatchMoveMediaSubscription:fT,dispatchClearMoveError:MT,dispatchShowAlert:eS.d};class ww extends g.Component{constructor(e,t){super(e,t),this.onSubscriptionDragMove=e=>{this.setState({moveIndex:e})},this.onSubscriptionDragEnd=(e,t)=>{const{moveIndex:a}=this.state;t&&null!=a&&Object(Dt.a)(()=>{this.props.dispatchMoveMediaSubscription({...e,moveIndex:a})}),this.setState({moveIndex:null})},this.state={moveIndex:null}}componentDidUpdate(e){const{mediaSubscriptionMoveError:t,dispatchShowAlert:a,dispatchClearMoveError:n}=this.props,{mediaSubscriptionMoveError:i}=e;!i&&t&&(a(t),n())}render(){return y.a.createElement(Pw,{moveIndex:this.state.moveIndex,onSubscriptionDragMove:this.onSubscriptionDragMove,onSubscriptionDragEnd:this.onSubscriptionDragEnd,...this.props})}}var Nw=Object(v.b)((function(){return Object(he.a)(e=>e.ui.recordingSchedulePage,BT(),(e,t)=>{const{mediaSubscriptions:a,isMediaSubscriptionsPopulated:n,mediaSubscriptionsError:i,mediaSubscriptionMoveError:r}=e;return{providerEntityID:t,mediaSubscriptionEntityIDs:a,mediaSubscriptionMoveError:r,showError:!n&&!!i,showEmptyState:n&&!i&&!a.length}})}),Tw)(ww);var xw=function({subscriptionCount:e}){return y.a.createElement(_O.a,{iconComponent:AT,title:Object(Ce.default)("You have no recordings scheduled"),description:1===e?Object(Ce.default)("There are no upcoming airings of the item in your list"):Object(Ce.default)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:e})})};var Aw=function(){return Object(he.a)(Object(AI.a)(),Object(YO.a)(),(e,t)=>M.a.find(e,e=>e.type===Ms.d&&e.Context.itemKey&&e.Context.itemKey===t.key))},Lw=a("FGim");const kw={dispatchPlayRecording:OT};class Rw extends g.Component{constructor(){super(...arguments),this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:a,linkedKey:n,metricsContext:i,dispatchPlayRecording:r}=this.props;r({serverEntityID:t,providerEntityID:a,linkedKey:n,metricsContext:i})}}render(){const{component:e,mediaSubscriptionID:t,status:a,linkedKey:n,metricsContext:i,...r}=this.props;return y.a.createElement(e,{...r,onPlayPress:this.onPlayPress})}}var zw=Object(BI.a)((function(){return Object(he.a)((e,{mediaSubscriptionID:t})=>t,(e,{status:t})=>t,qO,Object(he.a)((e,{linkedKey:t})=>t,(e,{metricsContext:t})=>t,vh.b,(e,t,a)=>{const n={};return t&&(n.context=t),Object(Ka.a)(a,{isLibraryProvider:!0},e,n)}),Object(YO.a)(),Aw(),BT(),(e,t,a,n,i,r,s)=>{const o=t===Lw.a,l={providerEntityID:s,prePlayRoute:n,isComplete:o,hasError:t===Lw.b,hasSubscription:!!e,showPlay:o&&!!n,timeFormat:a,...M.a.pick(i,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt")};return r?(l.isRecording=!0,l.isPostProcessing=r.Context.status===Lw.c,l.recordingProgress=r.progress):(l.isRecording=!1,l.isPostProcessing=!1),l})}),kw)(Rw),Uw=a("ihSJ"),Vw=a("5mkL"),Bw=a("Ckcz"),Fw=a.n(Bw);const Hw=Fw.a.Power0.easeInOut,_w=Fw.a.Power3.easeOut;var Ww=a("jsGA"),Qw=a.n(Ww);function Gw(e){return y.a.createElement(Vw.a,{...e,textClassName:Qw.a.circularProgressBarText})}Gw.defaultProps={...Vw.a.defaultProps,backgroundClassName:Qw.a.circularProgressBarBackground,strokeColor:Iy.a.primaryColor,easing:_w};var Kw=Gw,Yw=a("IIsI"),qw=a("9wnK"),Zw=a("8vbc"),Xw=a("Gkyr"),Jw=a("Zgl5"),$w=a("dRWt"),eN=a("wmCi"),tN=a("zVLU"),aN=a.n(tN);function nN({children:e,className:t}){return y.a.createElement("div",{className:t,"data-qa-id":"preplayDetailsContainer"},e)}nN.defaultProps={className:aN.a.group};var iN=nN,rN=a("lo1/"),sN=a.n(rN);function oN(e){const{children:t,className:a,labelClassName:n,contentClassName:i,label:r}=e;return y.a.createElement("div",{className:a},y.a.createElement("div",{className:n},r),y.a.createElement("div",{className:i},t))}oN.defaultProps={className:sN.a.groupItem,labelClassName:sN.a.label,contentClassName:sN.a.content};var lN=oN;var cN=function({children:e,mediaItem:t}){const a=t&&t.videoResolution;let n,i=!1;if(a){const e=parseInt(a,10);i=!0,n=e>=720||4===e||8===e}return e||i?y.a.createElement(iN,null,e,i?y.a.createElement(lN,{label:Object(Ce.default)("Video")},n?Object(Ce.default)("HD"):Object(Ce.default)("SD")):null):null},dN=a("M6j/"),uN=a.n(dN);function pN({beginsAt:e,endsAt:t,channel:a,showChannel:n,showFullTime:i,timeFormat:r}){if(!e)return Object(Ce.default)("No upcoming airings");if(wn(e,t)){const e=t-Date.now()/1e3;return e<=60?Object(Ce.default)("About to end"):jn(e)}if(Object(Dn.a)(e)&&Object(Pn.a)(e,{minutes:60})){const t=1e3*e-Date.now();if(t<=6e4)return n&&a?Object(Ce.default)("Starting now on {channel}",{channel:a}):Object(Ce.default)("Starting now");const i=Cn(t);return n&&a?Object(Ce.default)("Starting in {duration} on {channel}",{duration:i,channel:a}):Object(Ce.default)("Starting in {duration}",{duration:i})}return(i?vn:Sn)(e,n&&a,{timeFormat:r})}class mN extends g.Component{constructor(e,t){super(e,t),this.onTickTimeout=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}componentDidMount(){this.setTickTimeout()}componentWillReceiveProps(e){const t=this.getState(e);t.title!==this.state.title&&this.setState(t)}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState(e){return{title:pN(e)}}setTickTimeout(){this.tickTimeout=window.setTimeout(this.onTickTimeout,6e4-Date.now()%6e4)}render(){const{className:e,beginsAt:t,endsAt:a,channel:n,showChannel:i}=this.props,{title:r}=this.state,s=i&&!!n&&wn(t,a);return y.a.createElement("span",{className:e},s?y.a.createElement("span",null,Object(Ce.default)("Now on {channel}",{channel:n}),y.a.createElement(Hi.b,{className:uN.a.separator}),r):r)}}mN.defaultProps={showFullTime:!1,showChannel:!1};var hN=mN;var gN=function(e){const{children:t,beginsAt:a,endsAt:n,channel:i,timeFormat:r}=e;if(!a||!n)return null;const s=Date.now()/1e3;let o;return o=n<s?Object(Ce.default)("Aired"):a<=s&&n>=s?Object(Ce.default)("Airing"):Object(Ce.default)("Airs"),y.a.createElement(lN,{label:o},y.a.createElement(hN,{beginsAt:a,endsAt:n,channel:i,showFullTime:!0,showChannel:!0,timeFormat:r}),t)},yN=a("02Z/"),fN=a("U+t5"),bN=a.n(fN);var vN=function(e){const{serverEntityID:t,providerEntityID:a,summary:n,error:i,mediaItem:r,isComplete:s,hasError:o,isRecording:l,recordingProgress:c,timeFormat:d,onRecordingModify:u,onModalClose:p,...m}=e,{beginsAt:h,endsAt:g,startOffsetSeconds:f,endOffsetSeconds:b,channelTitle:v,channelShortTitle:I}=r,S=!(!f&&!b),E=f&&Math.round(f/60),O=b&&Math.round(b/60);return y.a.createElement(eN.a,{onModalClose:p},y.a.createElement(Jw.a,null,Object(Ce.default)("Airing Details")),y.a.createElement(qw.a,null,y.a.createElement(yN.a,{serverEntityID:t,providerEntityID:a,hint:m},y.a.createElement(cN,{mediaItem:r},y.a.createElement(gN,{beginsAt:h,endsAt:g,channel:I||v,showFullTime:!0,showChannel:!0,timeFormat:d},y.a.createElement("div",null,s?y.a.createElement("span",null,y.a.createElement(ns.a,{className:bN.a.completeIcon}),Object(Ce.default)("Recorded successfully")):null,l?y.a.createElement("span",null,y.a.createElement($w.a,{className:bN.a.recordingIcon}),Object(Ce.default)("Recording"),y.a.createElement(Hi.b,{className:bN.a.separator}),Object(Ce.default)("{recordingProgress}% complete",{recordingProgress:c})):null,o?y.a.createElement("span",null,y.a.createElement(je.a,{className:bN.a.errorIcon}),i):null,s||l||o||!S?null:y.a.createElement("span",null,E?y.a.createElement("span",null,Object(Ce.default)("Recording starts {minuteOffset} min early",{minuteOffset:E}),O?y.a.createElement("span",null,y.a.createElement(Hi.b,{className:bN.a.separator}),Object(Ce.default)("Ends {minuteOffset} min late",{minuteOffset:O})):null):y.a.createElement("span",null,Object(Ce.default)("Recording ends {minuteOffset} min late",{minuteOffset:O})))))),y.a.createElement("div",{className:bN.a.summary},n))),y.a.createElement(Zw.a,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:u},Object(Ce.default)("Modify Recording")),y.a.createElement(Ih.a,{kind:ao.d,size:cc.b,onPress:p},Object(Ce.default)("Close")))))};var IN=Object(v.b)((function(){return Object(he.a)(qO,Object(YO.a)(),(e,t)=>{const a=M.a.pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return a.timeFormat=e,a})}))((function(e){return y.a.createElement(vN,{...e})}));var SN=function(e){const{isOpen:t,metricsProperties:a,metadataItemEntityID:n,onRecordingModify:i,onModalClose:r,...s}=e;return y.a.createElement(Yw.a,{isOpen:t,metricsPage:It.G,metricsProperties:a,onModalClose:r},y.a.createElement(IN,{metadataItemEntityID:n,onRecordingModify:i,onModalClose:r,...s}))},EN=a("v7SW"),ON=a.n(EN);var MN=function({error:e,onPress:t}){return y.a.createElement(Dm.a,{className:ON.a.errorButton,component:jI.a,tooltip:e,tooltipClassName:ON.a.errorTooltip,tooltipAttachment:Pm.a,onPress:t},y.a.createElement(je.a,{"aria-label":e}))},CN=a("aL7q"),jN=a.n(CN);const DN={context:aS.AGENDA};class PN extends g.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,metadataItemEntityID:n,prePlayRoute:i,type:r,title:s,grandparentTitle:o,index:l,parentIndex:c,originallyAvailableAt:d,error:u,mediaItem:p,isRecording:m,isPostProcessing:h,recordingProgress:g,isComplete:f,hasError:b,hasSubscription:v,hasConflicts:I,showPlay:S,showDate:E,timeFormat:O,onPlayPress:M}=this.props,{isAiringDetailsModalOpen:C,isSubscribeModalOpen:j,isConflictsModalOpen:D}=this.state,{beginsAt:P,endsAt:T,startOffsetSeconds:w=0,endOffsetSeconds:N=0,premiere:x}=p,A=Object(Za.a)(P),L=aM(P-w,T+N,{timeFormat:O}),k=pn(P);let R;R=bn(P)?Object(Ce.default)("Yesterday"):k?Object(Ce.default)("Today"):Object(Ce.default)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:rn(P,{abbreviate:!0}),monthNumber:on(P,{abbreviate:!0}),dayNumber:Object(an.a)(A)});const z=o||s,U=function(e,t,a,n,i,r){return"episode"!==e?a:`${t} - ${Object(Gr.a)({seasonIndex:n,episodeIndex:i,date:r})} - ${a}`}(r,o,s,c,l,d);return y.a.createElement("div",{className:Pe()(jN.a.event,f&&jN.a.isComplete,b&&jN.a.hasError)},y.a.createElement(jI.a,{className:jN.a.underlay,to:i,onPress:i?void 0:this.onLinkPress}),y.a.createElement("div",{className:jN.a.overlay},y.a.createElement("div",{className:Pe()(jN.a.date,k&&jN.a.isToday)},E?R:null),y.a.createElement("div",{className:jN.a.time},L),y.a.createElement("div",{className:jN.a.title,title:U},x?y.a.createElement(AC,null):null,z,y.a.createElement("div",{className:jN.a.titleDetails},"movie"===r?y.a.createElement(gM,{metadataItemEntityID:n}):null,"episode"===r?y.a.createElement(uM.a,{metadataItemEntityID:n}):null)),y.a.createElement("div",{className:jN.a.status},!m||h||b?null:y.a.createElement("div",{className:jN.a.recording},y.a.createElement(Kw,{size:24,backgroundClassName:jN.a.recordingProgressBackground,lineWidth:2,progress:g,showProgressText:!1}),y.a.createElement("span",{className:jN.a.recordingIcon})),m&&h&&!b?y.a.createElement(Uw.a,null):null,S?y.a.createElement(vM.a,{title:s,onPress:M}):null,b?y.a.createElement(MN,{error:u,onPress:I?this.onConflictIconPress:this.onLinkPress}):null)),v?y.a.createElement(SN,{isOpen:C,metricsProperties:DN,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,error:u,mediaItem:p,hasSubscription:v,isComplete:f,hasError:b,isRecording:m,recordingProgress:g,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,v?y.a.createElement(vd.a,{isOpen:j||D,metricsProperties:DN,serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,metadataItemEntityID:n,subscriptionType:r,showConflicts:D,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)}}var TN=PN;var wN=function({serverEntityID:e,events:t}){return y.a.createElement("div",null,t.map((a,n)=>{const i=Object(Za.a)(a.beginsAt),r=0===n||!Object(un.a)(Object(Za.a)(t[n-1].beginsAt),i),s=Object(jt.a)(fo.f,a.mediaSubscriptionID,e);return y.a.createElement(zw,{key:n,component:TN,serverEntityID:e,providerID:a.identifier||a.provider,metadataItemEntityID:a.metadataItem,mediaSubscriptionEntityID:s,mediaSubscriptionID:a.mediaSubscriptionID,eventID:a.metadataItem.key,status:a.status,error:a.error,linkedKey:a.linkedKey,mediaItem:a.mediaItem,hasConflicts:!(!a.conflicts||!a.conflicts.length),showDate:r})}))};var NN=Object(v.b)((function(){return Object(he.a)(e=>e.ui.recordingSchedulePage.calendar,e=>({events:e.scheduled}))}))(wN),xN=a("cnyc"),AN=a("5ic+"),LN=a.n(AN);function kN(e){const t=Object(Za.a)(e);return Object(Ce.default)("{month} {dayNumber}, {year}",{month:on(e),dayNumber:Object(an.a)(t),year:Object(xN.a)(t)})}var RN=function({startTime:e,endTime:t}){const a=Object(Za.a)(e),n=Object(Za.a)(t),i=Object(un.a)(a,n)?kN(e):`${function(e){const t=Object(Za.a)(e);return Object(Ce.default)("{month} {dayNumber}",{month:on(e),dayNumber:Object(an.a)(t)})}(e)} – ${kN(t)}`;return y.a.createElement("span",{className:LN.a.title},i)},zN=a("SYtG"),UN=a.n(zN);var VN=function(e){return y.a.createElement("div",{className:UN.a.agendaHeader},y.a.createElement(RN,{...e}))};var BN=Object(v.b)((function(){return Object(he.a)(e=>e.ui.recordingSchedulePage,e=>{const{firstEvent:t,lastEvent:a}=e.calendar;return{startTime:t?t.beginsAt:void 0,endTime:a?a.beginsAt:void 0}})}))(VN);var FN=function(e){const{serverEntityID:t,showError:a,isEmpty:n,subscriptionCount:i}=e;return a?y.a.createElement(GO.a,{title:Object(Ce.default)("There was an error loading the agenda")}):n?y.a.createElement(xw,{subscriptionCount:i}):y.a.createElement("div",null,y.a.createElement(BN,null),y.a.createElement(NN,{serverEntityID:t}))};var HN=Object(v.b)((function(){return Object(he.a)(e=>e.ui.recordingSchedulePage,e=>{const{mediaSubscriptions:t,calendar:a,isCalendarPopulated:n,calendarError:i}=e;return{showError:!n&&!!i,isEmpty:!a.scheduled.length,subscriptionCount:t.length}})}))(FN),_N=a("M/J+"),WN=a.n(_N);const QN={context:aS.CALENDAR};class GN extends g.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,metadataItemEntityID:n,prePlayRoute:i,type:r,grandparentTitle:s,title:o,error:l,mediaItem:c,isRecording:d,isPostProcessing:u,recordingProgress:p,isComplete:m,hasError:h,hasSubscription:g,hasConflicts:f,showPlay:b,timeFormat:v,onPlayPress:I}=this.props,{isAiringDetailsModalOpen:S,isSubscribeModalOpen:E,isConflictsModalOpen:O}=this.state,{beginsAt:M,endsAt:C,startOffsetSeconds:j=0,endOffsetSeconds:D=0,premiere:P}=c,T=aM(M-j,C+D,{includeMinuteZero:!1,timeFormat:v}),w=s||o;return y.a.createElement("div",{className:Pe()(WN.a.event,m&&WN.a.isComplete,h&&WN.a.hasError)},y.a.createElement(jI.a,{className:WN.a.underlay,to:i,onPress:i?void 0:this.onLinkPress}),y.a.createElement("div",{className:WN.a.overlay},y.a.createElement("div",{className:WN.a.title,title:w},w),y.a.createElement("div",{className:WN.a.secondaryInfo},y.a.createElement("div",{className:WN.a.time},T),P?y.a.createElement(AC,null):null),y.a.createElement("div",{className:WN.a.status},!d||u||h?null:y.a.createElement("div",{className:WN.a.recording},y.a.createElement(Kw,{size:24,backgroundClassName:WN.a.recordingProgressBackground,lineWidth:2,progress:p,showProgressText:!1}),y.a.createElement("span",{className:WN.a.recordingIcon})),d&&u&&!h?y.a.createElement(Uw.a,null):null,b?y.a.createElement(vM.a,{title:o,onPress:I}):null,h?y.a.createElement(MN,{error:l,onPress:f?this.onConflictIconPress:this.onLinkPress}):null)),g?y.a.createElement(SN,{isOpen:S,metricsProperties:QN,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,error:l,mediaItem:c,isComplete:m,hasError:h,isRecording:d,recordingProgress:p,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,g?y.a.createElement(vd.a,{isOpen:E||O,metricsProperties:QN,serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,metadataItemEntityID:n,subscriptionType:r,showConflicts:O,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)}}var KN=GN;var YN=function({serverEntityID:e,events:t}){return y.a.createElement("div",null,t.map((t,a)=>{const n=Object(jt.a)(fo.f,t.mediaSubscriptionID,e);return y.a.createElement(zw,{key:a,component:KN,serverEntityID:e,providerID:t.identifier||t.provider,mediaSubscriptionEntityID:n,metadataItemEntityID:t.metadataItem,mediaSubscriptionID:t.mediaSubscriptionID,eventID:t.metadataItem.key,status:t.status,error:t.error,linkedKey:t.linkedKey,mediaItem:t.mediaItem,hasConflicts:!(!t.conflicts||!t.conflicts.length)})}))};const qN=Object(v.b)((function(){return Object(he.a)(e=>e.ui.recordingSchedulePage.calendar,(e,{date:t})=>t,(e,t)=>({events:e.scheduled.filter(({beginsAt:e})=>Object(un.a)(Object(Za.a)(e),Object(Za.a)(t)))}))}))(YN);qN.propTypes={date:Qn.a.number.isRequired,...qN.propTypes};var ZN=qN,XN=a("BgT4"),JN=a.n(XN);var $N=function({serverEntityID:e,date:t}){return y.a.createElement("div",{className:JN.a.day},y.a.createElement(ZN,{serverEntityID:e,date:t}))},ex=a("1PeT"),tx=a.n(ex);var ax=function({days:e,...t}){return y.a.createElement("div",{className:tx.a.calendarDays},e.map(e=>y.a.createElement($N,{key:e,date:e,...t})))};var nx=Object(v.b)((function(){return Object(he.a)(e=>e.ui.recordingSchedulePage,e=>({days:e.calendar.days}))}))(ax),ix=a("SeTg"),rx=a.n(ix);var sx=function({date:e}){const t=pn(e);let a;if(bn(e))a=Object(Ce.default)("Yesterday");else if(t)a=Object(Ce.default)("Today");else{const t=Object(Za.a)(e);a=Object(Ce.default)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:rn(e,{abbreviate:!0}),monthNumber:Object(sn.a)(t)+1,dayNumber:Object(an.a)(t)})}return y.a.createElement("div",{className:Pe()(rx.a.dayOfWeek,t&&rx.a.isToday),title:a},a)},ox=a("4anc"),lx=a.n(ox);var cx=function({daysOfWeek:e,...t}){return y.a.createElement("div",{className:lx.a.container},e.map(e=>y.a.createElement(sx,{key:e,date:e,...t})))};var dx=Object(v.b)((function(){return Object(he.a)(e=>e.ui.recordingSchedulePage.calendar,e=>({daysOfWeek:e.daysOfWeek}))}))(cx),ux=a("dORf"),px=a.n(ux);var mx=function(e){const{hasPastEvents:t,hasFutureEvents:a,onGoToPreviousRangePress:n,onGoToNextRangePress:i}=e;return y.a.createElement("div",{className:px.a.calendarHeader},y.a.createElement("div",{className:px.a.calendarHeader},y.a.createElement(jI.a,{className:Pe()(px.a.calendarNav,!t&&px.a.calendarNavDisabled),kind:ao.c,size:cc.b,isDisabled:!t,onPress:n},y.a.createElement(zu,{"aria-label":Object(Ce.default)("Previous Page")})),y.a.createElement(RN,{...e}),y.a.createElement(jI.a,{className:Pe()(px.a.calendarNav,!a&&px.a.calendarNavDisabled),kind:ao.c,size:cc.b,isDisabled:!a,onPress:i},y.a.createElement(ku,{"aria-label":Object(Ce.default)("Next Page")}))))};var hx=Object(v.b)((function(){return Object(he.a)(e=>e.ui.recordingSchedulePage,e=>({...M.a.pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents")}))}))((function(e){return y.a.createElement(mx,{...e})})),gx=a("3WIE"),yx=a.n(gx);class fx extends g.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{const t=this.state.visibleDays,a=Math.min(Math.floor(e/120),7);a!==t&&this.props.onVisibleDaysChange(a),this.setState({width:e,visibleDays:a})},this.state={width:null,visibleDays:0}}render(){const{serverEntityID:e,showError:t,isEmpty:a,subscriptionCount:n,visibleDays:i,onGoToPreviousRangePress:r,onGoToNextRangePress:s}=this.props;return t?y.a.createElement(GO.a,{title:Object(Ce.default)("There was an error loading the calendar")}):a?y.a.createElement(xw,{subscriptionCount:n}):y.a.createElement(VO.a,{className:yx.a.calendar,ignoreHeight:!0,onMeasure:this.onMeasure},i===this.state.visibleDays?y.a.createElement("div",null,y.a.createElement(hx,{onGoToPreviousRangePress:r,onGoToNextRangePress:s}),y.a.createElement(dx,null),y.a.createElement(nx,{serverEntityID:e})):null)}}var bx=fx;class vx extends g.Component{constructor(){super(...arguments),this.onVisibleDaysChange=e=>{Object(Dt.a)(()=>{this.props.setVisibleDays({visibleDays:e})})},this.onGoToPreviousRangePress=()=>{this.props.goToPreviousRange()},this.onGoToNextRangePress=()=>{this.props.goToNextRange()}}render(){return y.a.createElement(bx,{onVisibleDaysChange:this.onVisibleDaysChange,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onGoToNextRangePress:this.onGoToNextRangePress,...this.props})}}var Ix=Object(v.b)((function(){return Object(he.a)(e=>e.ui.recordingSchedulePage,e=>{const{mediaSubscriptions:t,calendar:a,isCalendarPopulated:n,calendarError:i}=e;return{showError:!n&&!!i,isEmpty:!a.scheduled.length,subscriptionCount:t.length,visibleDays:a.visibleDays}})}),n)(vx);const Sx=["calendar","agenda"];var Ex=a("VGPm"),Ox=a.n(Ex);var Mx=function(e){const{serverEntityID:t,showSpinner:a,showEmptyState:n,programGuideIdentifier:i,selectedViewType:r,guideRoute:s}=e;return a?y.a.createElement(VT,null,y.a.createElement(_O.a,null,y.a.createElement(HO.a,null))):n&&i?y.a.createElement(VT,null,y.a.createElement(_O.a,{iconComponent:AT,title:Object(Ce.default)("You have no recordings scheduled"),description:y.a.createElement(LT.a,{message:Object(Ce.default)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:jI.a,kind:ao.d,to:s}]})})):n&&!i?y.a.createElement(VT,null,y.a.createElement(_O.a,{iconComponent:AT,title:Object(Ce.default)("You have no recordings scheduled"),description:Object(Ce.default)("You need a DVR before you can schedule recordings")})):y.a.createElement("div",{className:Ox.a.schedulePageContent},y.a.createElement(VT,{innerClassName:Ox.a.schedulePageInnerContent},"calendar"===r?y.a.createElement(Ix,{serverEntityID:t}):null,"agenda"===r?y.a.createElement(HN,{serverEntityID:t}):null),y.a.createElement(Nw,{serverEntityID:t,providerID:i,guideRoute:s}))};var Cx=Object(v.b)((function(){return Object(he.a)((e,{sourceDirectory:t})=>t,Object(RI.a)(),Object(xI.a)(),(e,t,a)=>({guideRoute:Object(dD.a)(dD.c.GUIDE,t,a,e)}))}))(Mx);function jx(e){return"agenda"===e?Object(Ce.default)("Agenda View"):Object(Ce.default)("Calendar View")}class Dx extends g.Component{constructor(e,t){super(e,t),this.onViewsMenuButtonPress=e=>{this.setState({isViewsMenuOpen:!this.state.isViewsMenuOpen})},this.onViewsMenuClose=()=>{this.setState({isViewsMenuOpen:!1})},this.state={isViewsMenuOpen:!1},this._viewsMenuButtonID=Object(gf.a)()}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:a,scheduleRoute:n,selectedViewType:i,showEPGActivity:r}=this.props,{isViewsMenuOpen:s}=this.state;return y.a.createElement(y.a.Fragment,null,y.a.createElement(kE.a,null,y.a.createElement(GD,{serverEntityID:e,providerEntityID:t,sourceDirectory:a}),y.a.createElement(LD,{serverEntityID:e,providerEntityID:t,sourceDirectory:a,directoryKey:dD.c.RECORDING_SCHEDULE}),y.a.createElement(uD.a,null)),y.a.createElement(Jm,null,y.a.createElement(Uv.a,null,y.a.createElement(cD.a,{id:this._viewsMenuButtonID,hasMenu:!0,isMenuOpen:s,onPress:this.onViewsMenuButtonPress},jx(i)),y.a.createElement(Xs.a,{target:this._viewsMenuButtonID,isOpen:s,onMenuClose:this.onViewsMenuClose},Sx.map(e=>y.a.createElement(uc.a,{key:e,to:j.default.join([n],{view:e}),isSelected:i===e,onPress:this.onViewsMenuClose},jx(e))))),r?y.a.createElement(zv,null,y.a.createElement(qD,{serverEntityID:e,providerEntityID:t})):null))}}var Px=Dx;var Tx=Object(v.b)((function(){return Object(he.a)((e,{sourceDirectory:t})=>t,Object(RI.a)(),Object(xI.a)(),LI(),(e,t,a,n)=>({scheduleRoute:Object(dD.a)(dD.c.RECORDING_SCHEDULE,t,a,e),showEPGActivity:!!n}))}))(Px),wx=Object(FT.DragDropContext)(vw.a);class Nx extends g.Component{shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:a,selectedViewType:n}=this.props;return y.a.createElement(RO.a,{metricsContext:zO(It.L,aS.DVR_SCHEDULE_PIVOT)},y.a.createElement(UO.a,{metricsPage:It.L,metricsProperties:{pane:n},scrollDirection:iv.b},y.a.createElement(Tx,{serverEntityID:e,providerEntityID:t,sourceDirectory:a,selectedViewType:n}),y.a.createElement(jh,{serverEntityID:e,providerEntityID:t}),y.a.createElement(Cx,{...this.props})))}}var xx=wx(Nx);const Ax={initRecordingSchedulePage:hT,clearRecordingSchedulePage:gT,goToToday:vT,fetchCalendar:ET,fetchMediaSubscriptions:yT,saveExperienceSettings:xy.l,changeQuickSearchSettings:Tt.changeQuickSearchSettings};class Lx extends g.Component{constructor(e,t){super(e,t),this._updateCalendar=()=>{this.props.goToToday(),this.props.fetchCalendar(),this._resetUpdateTimeout()},this._updateTimeoutID=null}componentWillMount(){this._populate(),this._resetUpdateTimeout(),this._saveViewType(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentWillReceiveProps(e){const{serverEntityID:t,time:a,selectedViewType:n}=e;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&a!==this.props.time&&this._resetUpdateTimeout(),n!==this.props.selectedViewType&&this._saveViewType(e)}componentDidUpdate(e){const{providerIdentifier:t}=this.props;t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage(),this._setSearchProviderIdentifier(null)}_populate(e=this.props){Object(Dt.a)(()=>{e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()})}_setSearchProviderIdentifier(e){const{changeQuickSearchSettings:t,serverEntityID:a,providerEntityID:n,sourceDirectory:i}=this.props;let r;i&&(r=i.id),t({serverEntityID:a,providerEntityID:n,providerIdentifier:e,directoryID:r})}_resetUpdateTimeout(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this._updateTimeoutID=window.setTimeout(this._updateCalendar,36e5)}_saveViewType(e=this.props){e.saveExperienceSettings({calendarViewType:e.selectedViewType})}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:a,selectedViewType:n,showSpinner:i,showEmptyState:r,programGuideIdentifier:s}=this.props;return this.props.isPagePopulated?y.a.createElement(xx,{serverEntityID:e,providerEntityID:t,sourceDirectory:a,selectedViewType:n,showSpinner:i,showEmptyState:r,programGuideIdentifier:s}):null}}var kx=Object(v.b)((function(){return Object(he.a)(e=>e.ui.recordingSchedulePage,(e,{selectedViewType:t})=>t,Object(xI.a)(),NO(),Object(he.a)(Lt.a,NT(nS.q),(e,t)=>{const a=t[0];if(a){const t=e[a];return t&&t.identifier}}),ge.a,(e,t,a,n,i,r)=>{const{isPagePopulated:s,isCalendarPopulated:o,calendarError:l,isMediaSubscriptionsPopulated:c,mediaSubscriptionsError:d,calendar:u}=e,p=!o&&!l||!c&&!d,m=!p&&c&&!e.mediaSubscriptions.length&&o&&!u.scheduled.length;return{sourceDirectory:n,providerIdentifier:a.identifier,isPagePopulated:s,showSpinner:p,showEmptyState:m,programGuideIdentifier:i,time:u?u.time:void 0,selectedViewType:t||r.calendarViewType}})}),Ax)(Lx);function Rx(){return Object(he.a)((e,{directoryKey:t})=>t,NO(),(e,t)=>hD(t,e))}var zx=a("i4Tt");const Ux=Object(yo.a)(zx.l),Vx=Object(yo.a)(zx.c),Bx=Object(yo.a)(zx.i),Fx=Object(yo.a)(zx.o);var Hx=a("w+4p"),_x=a("h1VY"),Wx=a.n(_x);var Qx=function(e){const{serverEntityID:t,providerEntityID:a,pivot:n,sourceDirectory:i,directoryKey:r,showSecondHeader:s,children:o,...l}=e;return y.a.createElement(kT.a,{className:Wx.a.page,...l},y.a.createElement(kE.a,null,y.a.createElement(GD,{serverEntityID:t,providerEntityID:a,sourceDirectory:i}),n?y.a.createElement(LD,{serverEntityID:t,providerEntityID:a,sourceDirectory:i,directoryKey:r}):null,y.a.createElement(uD.a,null)),s?y.a.createElement(Jm,null):null,y.a.createElement(VT,null,o))},Gx=a("fIk4");function Kx({items:e,gap:t=0,existingItems:a=[]}){const n=M.a.sortBy(a,"position"),i=M.a.sortBy(e,"position");let r=-1/0;return i.forEach(e=>{const i=M.a.sortedIndex(a,e,"position"),s=a[i-1],o=a[i],l=e.position>r+t,c=!s||e.position>s.position+t,d=!o||e.position<o.position-t;l&&c&&d&&(n.push(e),r=e.position)}),M.a.sortBy(n,"position")}var Yx=a("hsfa"),qx=a.n(Yx);function Zx(e){const{ticks:t,pixelProportion:a,majorTickGap:n,minorTickGap:i}=e,r=M.a.where(t,{type:"major"}),s=M.a.where(t,{type:"minor"}),o=Kx({items:r,gap:a*n});return Kx({items:s,existingItems:o,gap:a*i})}class Xx extends g.Component{constructor(e,t){super(e,t),this.state={ticks:Zx(e)}}componentWillReceiveProps(e){const{ticks:t,pixelProportion:a,majorTickGap:n,minorTickGap:i}=e,r=this.props.ticks!==t,s=this.props.pixelProportion!==a,o=this.props.majorTickGap!==n,l=this.props.minorTickGap!==i;(r||s||o||l)&&this.setState({ticks:Zx(e)})}render(){return y.a.createElement("div",{className:qx.a.container},y.a.createElement("div",{className:qx.a.ticks},this.state.ticks.map(({type:e,position:t,label:a})=>y.a.createElement("div",{key:t,className:qx.a[e],style:{top:100*t+"%"}},a&&"major"===e?y.a.createElement("div",{className:qx.a.label},a):null))))}}Xx.defaultProps={majorTickGap:20,minorTickGap:5};var Jx=Xx;function $x(e={},t=1){const{Media:[a={}]=[]}=e,{width:n,height:i,Part:[r={}]=[]}=a;return n&&i?(s=r.orientation)>=5&&s<9?i/n:n/i:t;var s}let eA;var tA=Object(he.a)(Hx.a,e=>{const t=M.a.pluck(e.activeSelectionItems,"id");return eA&&M.a.isEqual(eA,t)?eA:(eA=t,t)});let aA,nA={};function iA(e,t){if(!e||null==t)return!1;if(e===aA&&nA.hasOwnProperty(t))return nA[t];e!==aA&&(aA=e,nA={});const a=-1!==e.indexOf(t);return nA[t]=a,a}var rA=a("pD+/"),sA=a("MXUH");function oA(){return Object(he.a)(Object(YO.a)(),tA,(e,t)=>!!e&&iA(t,e.ratingKey))}var lA=a("94tf");function cA(){return Object(he.a)((e,{listType:t})=>t,Object(YO.a)(),(e,t={})=>{const a=t.type;if(a){if(a===wo.PLAYLIST)return wo.PLAYLIST;if(a===wo.COLLECTION)return wo.COLLECTION;if(e===lA.j)return wo.PHOTO;{const e=wo.getLeafType(a);return e&&e.mediaType}}})}var dA=a("xHg7"),uA=a("kFs7"),pA=a("17s9"),mA=a.n(pA);const hA=parseInt(yu.a.mosaicCellPadding,10);var gA=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,metadataKey:s,type:o,title:l,thumb:c,cellWidth:d,cellHeight:u,showOffscreenPlaceholder:p,selectionType:m,activeSelectionType:h,isSelected:g,onSelectItem:f,onDeselectItem:b}=e,v=Object(KO.a)(e),I="clip"===o,S="photoalbum"===o,E=!s,O=d-2*hA,M=u-2*hA;return y.a.createElement("div",{className:mA.a.photoContainer,style:v.style},y.a.createElement("div",{className:mA.a.photo},y.a.createElement("div",{className:mA.a.image},E?y.a.createElement(uA.a,{imageWidth:O,imageHeight:M,isSelected:g}):null,E?null:y.a.createElement(dA.a,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,metadataKey:s,type:o,imageUrl:c,imageWidth:O,imageHeight:M,selectionType:m,activeSelectionType:h,isSelected:g,isOffscreen:p,onSelectItem:f,onDeselectItem:b}),I?y.a.createElement("div",{className:mA.a.badge},y.a.createElement(Np.a,null)):null,S?y.a.createElement("div",{className:mA.a.title},l):null)))};var yA=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),Object(YO.a)(),cA(),oA(),Hx.a,({machineIdentifier:e},t={},a,n,i)=>{const{key:r,type:s,title:o,thumb:l}=t;return{machineIdentifier:e,metadataKey:r,type:s,title:o,thumb:l,selectionType:a,activeSelectionType:i.activeSelectionType,isSelected:n}})}),(function(e,t){return{onSelectItem(a){e(Object(Zb.l)({metadataListEntityID:t.metadataListEntityID,...a}))},onDeselectItem(a){e(Object(Zb.b)({metadataListEntityID:t.metadataListEntityID,...a}))}}}))(gA);function fA(e){const{columns:t=1,rows:a=[],overscan:n=0,outerPadding:i=0,innerPadding:r=0,maximumHeight:s=0,offset:o=0}=e,l=[];let c,d,u,p,m,h=0,g=o;function y(e){if(e<0)return l[0];return M.a.find(l,({bottom:t})=>e<i+(t+1)*m)||M.a.last(l)}return a.forEach(e=>{const t=h;h+=e.height;const a=h-1,n=g;g+=e.widths.length;const i=g-1,r=[];let s=0;e.widths.forEach((e,t)=>{const a=s;s+=e,r.push({width:e,left:a,cellIndex:n+t})}),l.push({...e,top:t,bottom:a,first:n,last:i,cellLayouts:r})}),{getListStyle:function(e){const n=`${e.viewportWidth}:${e.viewportHeight}`;if(n===c)return d;u=e.viewportHeight;const r=e.viewportWidth-2*i,o=a.reduce((e,t)=>e+t.height,0);return p=r/t,m=s?(s-i)/o:p,c=n,d={height:m*o,width:r},d},getPositionForIndex:function(e){Object(_.a)(void 0!==u,"`getListStyle` must be called before `getPositionForIndex`");const t=M.a.find(l,({last:t})=>e<=t),a=M.a.find(t.cellLayouts,({cellIndex:t})=>t===e);return{cellX:Math.round(a.left*p)+r+i,cellY:Math.round(t.top*m)+r+i,cellWidth:Math.round(a.width*p)-2*r,cellHeight:Math.round(t.height*m)-2*r}},getRangesForPosition:function(e=0){Object(_.a)(void 0!==u,"`getListStyle` must be called before `getRangesForPosition`");const t=e+u-1,a=t+n*u,i=y(e-n*u).first,r=y(a).last,s=y(e).first,o=y(t).last;return{renderStartIndex:i,renderEndIndex:r,visibleStartIndex:s,visibleEndIndex:o,partiallyVisibleStartIndex:s,partiallyVisibleEndIndex:o}},getRelativeIndex:function(){Object(_.a)(!1,"Mosaic layouts do not support relative indexing")}}}function bA(e){if(0===e.cells.length)return 1/0;return e.cells.reduce((e,t)=>e+function(e){return Math.abs(e.actual-e.desired)/e.actual}(t),0)/e.cells.length+Math.abs(e.scale-1)}function vA({cells:e},t){const a=t/e.reduce((e,t)=>e+t.desired,0);return{scale:a,cells:e.map(({desired:e})=>({desired:e,actual:e*a}))}}function IA(e){const{aspectRatios:t,columns:a=4,minAspectRatio:n=.4,maxAspectRatio:i=5}=e,r=t.map(e=>Math.max(n,Math.min(i,e))),s=[];let o={scale:null,cells:[]};r.forEach(e=>{const t={desired:e};let n={scale:0,cells:o.cells.slice(0)};n.cells.push(t),n=vA(n,a),bA(n)<=bA(o)?o=n:(s.push(o),o=vA({scale:0,cells:[t]},a))});const l=1/Math.max(1,o.scale);return o.scale=Math.min(1,o.scale),o.cells=o.cells.map(({desired:e,actual:t})=>({desired:e,actual:t*l})),s.push(o),s.map(({scale:e,cells:t})=>({height:e,widths:t.map(e=>e.actual)}))}function SA(e,t){return function(a){return y.a.createElement(t,{...e,...a})}}var EA=function(e){const t=Object(KO.a)(e);return y.a.createElement("div",{style:t.style},e.children)},OA=a("JbXI"),MA=a.n(OA);class CA extends g.Component{constructor(e,t){super(e,t),this.onSelectPress=()=>{const{isSelected:e,items:t,onSelectItems:a,onDeselectItems:n}=this.props;e?n(t):a(t)},this.state={layout:this._createLayout(e),cellRenderer:this._createCellRenderer(e)}}componentWillReceiveProps(e){const t=e.aspectRatios!==this.props.aspectRatios,a=e.columns!==this.props.columns,n=e.viewportWidth!==this.props.viewportWidth,i=e.viewportHeight!==this.props.viewportHeight,r=e.serverEntityID!==this.props.serverEntityID,s=e.providerEntityID!==this.props.providerEntityID,o=e.metadataListEntityID!==this.props.metadataListEntityID,l=t||a||i||n,c=r||s||o;if(l||c){const t={};l&&(t.layout=this._createLayout(e)),c&&(t.cellRenderer=this._createCellRenderer(e)),this.setState(t)}}_createLayout(e){const t=IA({aspectRatios:e.aspectRatios,columns:e.columns});return fA({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})}_createCellRenderer(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,listType:r}=e;return SA({serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,listType:r},yA)}render(){const{cellIndex:e,cellX:t,cellY:a,cellWidth:n,cellHeight:i,isVirtual:r,title:s,items:o,size:l,viewportHeight:c,scrollTop:d,isSelected:u,hasSelection:p}=this.props,{layout:m,cellRenderer:h}=this.state;return y.a.createElement(EA,{cellIndex:e,cellX:t,cellY:a,cellWidth:n,cellHeight:i,isVirtual:r},y.a.createElement("div",{className:Pe()(p&&MA.a.hasSelection,MA.a.header)},y.a.createElement("div",{className:MA.a.actions},y.a.createElement(sA.a,{className:MA.a.selectButton,title:s,isSelected:u,onPress:this.onSelectPress})),y.a.createElement("div",{className:MA.a.title},s)),y.a.createElement(rA.a,{items:o,keyPropName:"metadataItemEntityID",size:l,cellRenderer:h,viewportWidth:n,viewportHeight:c,scrollTop:d-a,layout:m}))}}CA.defaultProps={headerHeight:0,footerHeight:0};var jA=CA;function DA(){return Object(he.a)((e,{start:t})=>t,(e,{end:t})=>t,Object(jO.a)(),(e,t,a)=>{const{populatedRange:n,metadataItems:i}=a;return e<n.start||t>n.end?M.a.times(t-e,()=>null):i.slice(e-n.start,t-n.start)})}function PA(){return Object(he.a)(DA(),DO.a,(e,t)=>e.map(e=>t[e]))}var TA=Object(v.b)((function(){return Object(he.a)(Object(jO.a)(),DA(),Object(he.a)((e,{avgAR:t})=>t,PA(),(e,t)=>t.map(t=>t?$x(t,e):e)),Object(he.a)(PA(),tA,(e,t)=>e.every(e=>e&&iA(t,e.ratingKey))),Hx.a,(e,t,a,n,i)=>({containerKey:e.containerKey,listType:"photo",aspectRatios:a,items:t,isSelected:n,hasSelection:i.activeSelectionItems.length>0}))}),(function(e,t){return{onSelectItems(t){e(Object(Zb.m)({type:wo.PHOTO,ids:t}))},onDeselectItems(t){e(Object(Zb.c)({ids:t}))}}}))(jA);function wA(e){const{columns:t=1,areas:a=[],innerPaddingTop:n=0,innerPaddingBottom:i=0,...r}=e;return FO({getCellHeights:function(e){return a.map(a=>function(e,a){return Math.max(1,Math.round(e/t))*a+(n+i)}(a,e/t))},...r})}class NA extends g.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}componentWillReceiveProps(e){const t=e.items!==this.props.items,a=e.columns!==this.props.columns;(t||a)&&this.setState({layout:this._createLayout(e)})}_createLayout(e){return wA({columns:e.columns,areas:e.items.map(e=>e.area),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,columns:n,headerHeight:i,footerHeight:r,cellComponent:s}=this.props;return y.a.createElement(BO.a,{layout:this.state.layout,cellRenderer:SA({serverEntityID:e,providerEntityID:t,metadataListEntityID:a,columns:n,headerHeight:i,footerHeight:r},s),...this.props})}}var xA=NA;const AA={dispatchPopulateMetadataListRange:Zb.h,dispatchDeselectAllMetadataListItems:Zb.a,dispatchResetMetadataList:Zb.k};class LA extends g.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const{metadataListEntityID:a,disableReloadThreshold:n,items:i,dispatchPopulateMetadataListRange:r}=this.props;r({metadataListEntityID:a,disableReloadThreshold:n,startIndex:i[e].start,endIndex:i[t].end-1,pages:1})}}componentWillUnmount(){const{metadataListEntityID:e}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})}render(){const{dispatchPopulateMetadataListRange:e,dispatchDeselectAllMetadataListItems:t,dispatchResetMetadataList:a,...n}=this.props;return y.a.createElement(xA,{onPageRequest:this.onPageRequest,...n})}}var kA=Object(v.b)((function(){return Object(he.a)(Hx.a,e=>({disableReloadThreshold:!!e.activeSelectionType}))}),AA)(LA);var RA=a("ZQel"),zA=a.n(RA);const UA=Math.max(0,parseInt(yu.a.timelineGutter,10)-40);class VA extends g.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const t=e.landmarks,a=e.listStyle&&e.listStyle.height;if(t!==this._landmarks){this._landmarks=t;const e=function(e,t){const a={},n={};return e.reduce((e,{index:i,position:r})=>{const s=Object(Xa.default)(1e3*t[i],"yyyy MM"),o=s.slice(0,4);return a[o]?n[s]||(n[s]=!0,e.push({position:r,type:"minor"})):(a[o]=!0,n[s]=!0,e.push({position:r,type:"major",label:o})),e},[])}(t,M.a.pluck(this.props.moments,"startsAt"));this.setState({ticks:e,listHeight:a})}},this.state={ticks:null,listHeight:null}}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,moments:n,columns:i,height:r,onMomentScrollIndexChange:s}=this.props,{ticks:o,listHeight:l}=this.state,c=1/r,d=l&&l>r;return n.length?y.a.createElement("div",{className:zA.a.container},y.a.createElement(kA,{className:zA.a.stack,scrollerClassName:zA.a.scroller,serverEntityID:e,providerEntityID:t,metadataListEntityID:a,scrollPositionStorageKey:"TimelinePageContent",keyPropName:"id",items:n,size:n.length,columns:i,footerHeight:59,listPadding:55,listGutter:UA,hasNestedList:!0,cellComponent:TA,onListScrollIndexChange:s,onListUpdate:this.onListUpdate}),y.a.createElement("div",{className:zA.a.adornment},o&&d?y.a.createElement(Jx,{pixelProportion:c,ticks:o}):null)):y.a.createElement(VT,null,y.a.createElement(_O.a,{iconComponent:Gx.a.photo,title:Object(Ce.default)("There are no events in this library")}))}}var BA=VA,FA=a("HR74"),HA=a.n(FA);function _A({className:e,children:t}){return y.a.createElement("div",{className:e},t)}_A.defaultProps={className:HA.a.pageHeaderRight};var WA=_A;function QA(e,t){return t?`${e}-${t}`:e}const GA="poster",KA="mosaic",YA="table",qA="simpleSummary",ZA="summary",XA="epgEpisode",JA="sharedItems";function $A(e,t){return eL(t)||tL(e)}function eL(e){return e===GA||e===KA}function tL(e){return e.length>1}var aL=Qn.a.oneOf([GA,KA,YA,qA,ZA,XA,JA]);class nL extends g.Component{constructor(){super(...arguments),this.onListStylePress=e=>{this.props.onListStylePress(this.props.listStyle)}}render(){const{isSelected:e,title:t}=this.props;return y.a.createElement(uc.a,{isSelected:e,onPress:this.onListStylePress},t)}}var iL=nL,rL=a("j+1R"),sL=a.n(rL);class oL extends g.Component{constructor(e,t){super(e,t),this.onSliderChange=({steppedValue:e})=>{this.setState({sliderValue:e}),this._clearTimeout(),this._columnAdjustmentTimeoutID=window.setTimeout(()=>{this.props.onColumnAdjustmentChange(-1*e)},this.props.columnAdjustmentTimeout)},this.onStylesPress=e=>{this.setState({isStylesMenuOpen:!this.state.isStylesMenuOpen})},this.onStylesMenuClose=()=>{this.setState({isStylesMenuOpen:!1})},this.onListStylePress=e=>{this.props.onListStyleChange(e),this.onStylesMenuClose()},this.state={sliderValue:-1*e.columnAdjustment,isStylesMenuOpen:!1},this._stylesButtonID=Object(gf.a)()}componentWillReceiveProps(e){e.columnAdjustment!==this.props.columnAdjustment&&this.setState({sliderValue:-1*e.columnAdjustment})}componentWillUnmount(){this._clearTimeout()}_clearTimeout(){this._columnAdjustmentTimeoutID&&window.clearTimeout(this._columnAdjustmentTimeoutID)}render(){const{listType:e,listContext:t,selectedListStyle:a,allListStyles:n}=this.props,{sliderValue:r,isStylesMenuOpen:s}=this.state,{POSTER:o,MOSAIC:l,TABLE:c,SUMMARY:d,SIMPLE_SUMMARY:u}=i,p=[{listStyle:o,title:Object(Ce.default)("Grid View")},{listStyle:l,title:Object(Ce.default)("Mosaic View")},{listStyle:c,title:Object(Ce.default)("List View")},{listStyle:d,title:Object(Ce.default)("Summary View")},{listStyle:u,title:Object(Ce.default)("Summary View")}],m=eL(a),h=tL(n),g=(f=a)===YA?dI:f===ZA||f===qA?pI:hI;var f;return m||h?y.a.createElement("div",{className:sL.a.stylesContainer},m?y.a.createElement(nr.a,{className:sL.a.slider,label:Object(Ce.default)("Poster Size"),value:r,min:-1,max:2,stepSize:1,onChange:this.onSliderChange}):null,y.a.createElement(jI.a,{id:this._stylesButtonID,"data-qa-id":"toolbarView",className:h?sL.a.stylesButtonWithArrow:sL.a.stylesButton,"aria-label":Object(Ce.default)("Show List Styles"),isDisabled:!h,onPress:this.onStylesPress},y.a.createElement(g,{className:sL.a.stylesIcon}),h?y.a.createElement(oc.a,{direction:s?lc.c:lc.a}):null),h?y.a.createElement(Xs.a,{target:this._stylesButtonID,isOpen:s,onMenuClose:this.onStylesMenuClose},p.map(({listStyle:e,title:t})=>n.indexOf(e)>-1&&y.a.createElement(iL,{key:e,isSelected:a===e,title:t,listStyle:e,onListStylePress:this.onListStylePress}))):null):null}}oL.defaultProps={selectedListStyle:GA,allListStyles:[GA],allListStyleActions:[],columnAdjustmentTimeout:500};var lL=oL;const cL=Object(he.a)(ge.a,e=>({columnAdjustment:e.columnAdjustment,listStyles:e.listStyles}));class dL extends g.Component{constructor(){super(...arguments),this.onColumnAdjustmentChange=e=>{Object(Dt.a)(()=>{this.props.saveExperienceSettings({columnAdjustment:e})})},this.onListStyleChange=e=>{const{listStyles:t,listType:a,listSubtype:n,listContext:i}=this.props,r=QA(a,n),s={...t,[i]:{...t[i]||{},[r]:e}};Object(Dt.a)(()=>{this.props.saveExperienceSettings({listStyles:s})})}}render(){return y.a.createElement(lL,{...this.props,onColumnAdjustmentChange:this.onColumnAdjustmentChange,onListStyleChange:this.onListStyleChange})}}var uL=Object(v.b)(e=>cL,{saveExperienceSettings:xy.l})(dL),pL=a("YP9j");const mL={showPlayAll:gL,showShuffle:function({server:e,provider:t,stableUser:a,metadataList:n}){return gL({server:e,provider:t,stableUser:a,metadataList:n})&&!!t.features.playqueue},showQueue:function({server:e,provider:t,stableUser:a,metadataList:n}){return gL({server:e,provider:t,stableUser:a,metadataList:n})},showAddToPlaylist:function({server:e,provider:t,stableUser:a,metadataList:n}){return!(!e.isFullServer||!n.isFirstItemLibraryItem)},showAddToCatalog:function({server:e,provider:t,stableUser:a,metadataList:n}){return!!(t.features.actions&&t.features.actions.addToCatalog&&Object(No.a)(a,t.features.actions.addToCatalog))},showSync:function({server:e,provider:t,stableUser:a,metadataList:n}){if(!X.a.allowSync)return!1;if(a.features[ve.d])return!1;return!!(e.isFullServer&&e.allowSync&&n.isFirstItemLibraryItem&&n.allowSync)},showOptimize:function({server:e,provider:t,stableUser:a,metadataList:n}){return!!(e.isFullOwnedServer&&e.transcoderVideo&&n.isFirstItemLibraryItem)}},hL={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showAddToCatalog","showSync","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],track:["showPlayAll","showShuffle","showAddToCatalog","showQueue","showAddToPlaylist","showSync"],photoalbum:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],photo:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showSync","showOptimize"],genre:["showAddToCatalog"]};function gL({server:e,provider:t,stableUser:a,metadataList:n}){return Object(pL.a)(e,t,a.features,n)}var yL=a("sjIW"),fL=a("UpFG"),bL=a("Uia1"),vL=a("THTr"),IL=a.n(vL);class SL extends g.Component{constructor(e,t){super(e,t),this.onChange=e=>{if(e.target.files&&e.target.files.length){const t=e.target.files[0];this.setState({filename:t.name})}this.props.onChange(e)},this.state={filename:null}}render(){const{inputComponent:e,className:t,inputClassName:a,buttonText:n,isDisabled:i,showFilename:r,...s}=this.props,{filename:o}=this.state;return y.a.createElement("span",null,y.a.createElement(e,{className:t,component:"label"},n,y.a.createElement("input",{...s,className:a,type:"file",onChange:this.onChange})),r?y.a.createElement("span",{className:Pe()(IL.a.filename,!o&&IL.a.noFilename)},o||Object(Ce.default)("No file selected")):null)}}SL.defaultProps={inputComponent:Ih.a,inputClassName:IL.a.fileInput,showFilename:!1};var EL=SL,OL=a("graF");var ML=function(e,t){var a;const{isUpdatingPropName:n,errorPropName:i,clearDirtyOnChangePropName:r}=t;return(a=class extends g.Component{constructor(e,t){super(e,t),this.onFormChange=e=>{this.props.onFormChange&&this.props.onFormChange(e),this.state.isDirty||this.setState({isDirty:!0})},this.state={isDirty:!1}}componentWillReceiveProps(e){let t=!1;r&&(t=this.props[r]!==e[r]);const a=this.props[n]&&!e[n]&&null===e[i];this.state.isDirty&&(t||a)&&this.setState({isDirty:!1})}render(){return y.a.createElement(e,{isDirty:this.state.isDirty,...this.props,onFormChange:this.onFormChange})}}).propTypes={onFormChange:Qn.a.func},a.displayName=`DirtyAware(${Object(yO.a)(e)})`,a.WrappedComponent=e,a},CL=a("RZIj"),jL=a.n(CL);function DL(e={}){return{isFileImport:!1,channelURL:"",fileURL:null,...e}}class PL extends g.Component{constructor(e,t){super(e,t),this.onModalClose=()=>{this.props.onClearError(),this.props.onModalClose()},this.onFileImportTogglePress=()=>{this.setState(DL({isFileImport:!this.state.isFileImport}))},this.onFileChange=e=>{let t;if(e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){const e=window.URL.createObjectURL(t);this.setState({fileURL:e})}},this.onURLChange=e=>{this.setState({channelURL:e})},this.onSubmit=e=>{e.preventDefault(),this.props.onSubmit({channelURL:this.state.channelURL,fileURL:this.state.fileURL})},this.state=DL()}static getDerivedStateFromProps(e,t){return t.isOpen!==!e.isOpen?DL({isOpen:e.isOpen}):null}componentDidUpdate(e,t){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){const{isOpen:e,title:t,message:a,hasError:n,hasFileImportFeature:i,textInputLabel:r,fileInputButtonLabel:s,fileImportLabel:o,urlImportLabel:l,confirmLabel:c,confirmKind:d,isUpdating:u,isDirty:p,metricsPage:m,metricsProperties:h,onFormChange:g}=this.props;return y.a.createElement(Yw.a,{isOpen:e,metricsPage:m,metricsProperties:h,onModalClose:this.onModalClose},y.a.createElement("form",{className:jL.a.form,onSubmit:this.onSubmit,onChange:g},y.a.createElement(eN.a,{onModalClose:this.onModalClose},y.a.createElement(Jw.a,null,t),n?y.a.createElement(OL.a,{errorMessage:Object(Ce.default)("Something went wrong. Make sure the URL is correct and try again.")}):null,y.a.createElement(qw.a,null,y.a.createElement("p",null,a),i?y.a.createElement("p",null,y.a.createElement(jI.a,{kind:ao.d,onPress:this.onFileImportTogglePress},this.state.isFileImport?l||Object(Ce.default)("Import from a URL instead"):o||Object(Ce.default)("Import from a file instead"))):null,y.a.createElement("div",{className:jL.a.inputContainer},this.state.isFileImport?y.a.createElement(EL,{name:"file",accept:".xml, .opml",buttonText:s||Object(Ce.default)("Choose File"),showFilename:!0,onChange:this.onFileChange}):y.a.createElement(fL.a,{name:"channelURL",value:this.state.URLValue,labelText:r,"data-autofocus":!0,onChange:this.onURLChange})),this.state.fileURL?y.a.createElement("p",{className:jL.a.fileNote},Object(Ce.default)("NOTE: Podcasts will appear as they're processed. This may take some time to complete")):null),y.a.createElement(Zw.a,null,y.a.createElement(Xw.a,null,y.a.createElement(bL.a,{type:"submit",kind:d,isDisabled:!p,isSpinning:u},c||Object(Ce.default)("Continue")))))))}}PL.defaultProps={confirmKind:ao.d,hasFileImportFeature:!1};var TL=ML(PL,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"});var wL=Object(BI.a)((function(){return Object(he.a)(e=>e.ui.addToCatalogModal,e=>({isUpdating:e.isUpdating,hasError:!!e.error}))}),(function(e,t){return{onClearError(){e(cS())},onSubmit(a){e(lS({providerEntityID:t.providerEntityID,data:a}))}}}))(TL);var NL=function(e){const{providerEntityID:t,isOpen:a,onModalClose:n}=e;return y.a.createElement(wL,{providerEntityID:t,isOpen:a,title:Object(Ce.default)("Add a Podcast"),message:Object(Ce.default)("Want to add a podcast we haven’t listed? If you know the URL for the podcast, you can enter it below."),textInputLabel:Object(Ce.default)("Podcast Feed"),fileInputButtonLabel:Object(Ce.default)("Choose OPML File"),fileImportLabel:Object(Ce.default)("Import podcasts from an OPML file instead"),urlImportLabel:Object(Ce.default)("Import podcasts from a URL instead"),hasFileImportFeature:!0,onModalClose:n})},xL=a("vvci");class AL extends g.Component{constructor(e,t){super(e,t),this.onAddToCatalogPress=()=>{this.setState({isAddToCatalogModalOpen:!0})},this.onAddToCatalogClose=()=>{this.setState({isAddToCatalogModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToCatalogModalOpen:!1,isAddToPlaylistModalOpen:!1}}createOnPress(e){return()=>{e(),this.props.onMenuClose()}}render(){const e=this.props,{isAddToCatalogModalOpen:t,isAddToPlaylistModalOpen:a}=this.state;return y.a.createElement("div",null,e.showPlayAll?y.a.createElement(Js.a,{onPress:this.createOnPress(e.onPlayAllPress)},Object(Ce.default)("Play All")):null,e.showShuffle?y.a.createElement(Js.a,{onPress:this.createOnPress(e.onShufflePress)},Object(Ce.default)("Shuffle")):null,e.showQueue?y.a.createElement(Js.a,{onPress:this.createOnPress(e.onPlayNextPress)},Object(Ce.default)("Play Next")):null,e.showQueue?y.a.createElement(Js.a,{onPress:this.createOnPress(e.onAddToQueuePress)},Object(Ce.default)("Add to Queue")):null,e.showAddToPlaylist?y.a.createElement(Js.a,{onPress:this.createOnPress(this.onAddToPlaylistPress)},Object(Ce.default)("Add to Playlist...")):null,e.showAddToCatalog?y.a.createElement(Js.a,{onPress:this.onAddToCatalogPress},(e.listType,e.listSubtype===Co.PODCAST?Object(Ce.default)("Add Podcast by URL"):Object(Ce.default)("Add to Catalog by URL"))):null,e.showSync?y.a.createElement(Js.a,{onPress:this.createOnPress(e.onSyncPress)},Object(Ce.default)("Sync...")):null,e.showOptimize?y.a.createElement(Js.a,{onPress:this.createOnPress(e.onOptimizePress)},Object(Ce.default)("Optimize...")):null,y.a.createElement(NL,{providerEntityID:e.providerEntityID,isOpen:t,onModalClose:this.onAddToCatalogClose}),e.showAddToPlaylist?y.a.createElement(xL.a,{isOpen:a,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataListEntityID:e.metadataListEntityID,onModalClose:this.onAddToPlaylistClose}):null)}}var LL=AL;var kL=function(e){const{target:t,isOpen:a,...n}=e;return y.a.createElement(Xs.a,{target:e.target,isOpen:e.isOpen,onMenuClose:e.onMenuClose},y.a.createElement(LL,{...n}))},RL=a("YJ/b"),zL=a.n(RL);const UL=parseInt(yu.a.toolbarButtonWidth,10);function VL(e,t){return e.filter(e=>!!t[e])}var BL=function(e,t,a){var n;return(n=class extends g.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{this.setState({isMeasured:!0,width:e})},this.state={isMeasured:!1}}render(){const{isMeasured:n,width:i}=this.state;let r={};if(n){r=function(e,t,a,n){const i=Math.floor(a/n),r={showOverflow:i<e.length||t.length>0};let s=i-(r.showOverflow?1:0);return e.forEach(e=>{r[e]=s-- >0,r[e]||(r[e+"Overflow"]=!0)}),r}(VL(t,this.props),VL(a,this.props),i,UL)}return y.a.createElement(VO.a,{className:zL.a.toolbarContainer,ignoreHeight:!0,ignorePosition:!0,onMeasure:this.onMeasure},n?y.a.createElement(e,{className:zL.a.toolbar,...this.props,...r}):null)}}).displayName=`MeasuredPageHeaderToolbar(${Object(yO.a)(e)})`,n.WrappedComponent=e,n};function FL(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-podcast-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M434,504 L378,504 L378,417.4558 C306.354,404.2735 252,341.435 252,266 L294,266 C294,327.815 344.186,378 406,378 C467.814,378 518,327.815 518,266 L560,266 C560,341.435 505.646,404.2735 434,417.4558 L434,504 Z M476,126 C476,87.366 444.634,56 406,56 C367.366,56 336,87.366 336,126 L336,266 C336,304.634 367.366,336 406,336 C444.634,336 476,304.634 476,266 L476,126 Z M134.4,100.8 L134.4,190.4 L224,190.4 L224,235.2 L134.4,235.2 L134.4,324.8 L89.6,324.8 L89.6,235.2 L0,235.2 L0,190.4 L89.6,190.4 L89.6,100.8 L134.4,100.8 Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}FL.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var HL=FL;class _L extends g.Component{constructor(e,t){super(e,t),this.onButtonPress=()=>{this.setState({isModalOpen:!0})},this.onModalClose=()=>{this.setState({isModalOpen:!1})},this.state={isModalOpen:!1}}render(){const{providerEntityID:e,...t}=this.props;return y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Add Podcast by URL"),"data-qa-id":"toolbarAddCustomPodcast",onPress:this.onButtonPress,...t},y.a.createElement(HL,null),y.a.createElement(NL,{providerEntityID:e,isOpen:this.state.isModalOpen,onModalClose:this.onModalClose}))}}var WL=_L,QL=a("LxUg");function GL(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataListEntityID:i,customFilterRoute:r,showAddToSmartPlaylist:s,onAddToPlaylistPress:o,onAddToSmartPlaylistPress:l}=e,[c]=Object(g.useState)(Object(gf.a)()),[d,u]=Object(g.useState)(!1),p=Object(g.useCallback)(()=>{u(!d)},[d]);return y.a.createElement(Mv.a,{id:c,tooltip:d?null:Object(Ce.default)("Add to Playlist"),"data-qa-id":"toolbarPlaylist",onPress:p},y.a.createElement(eh,null),y.a.createElement(oc.a,{direction:d?lc.c:lc.a}),y.a.createElement(Xs.a,{size:cc.a,target:c,isOpen:d,onMenuClose:p},y.a.createElement(QL.a,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataListEntityID:i,customFilterRoute:r,showAddToPlaylist:!0,showAddToSmartPlaylist:s,onAddToPlaylistPress:o,onAddToSmartPlaylistPress:l,onMenuOpen:p,onMenuClose:p})))}GL.defaultProps={showAddToSmartPlaylist:!1};var KL=GL;var YL=function({playLabel:e=Object(Ce.default)("Play"),...t}){return y.a.createElement(Mv.a,{tooltip:e,"data-qa-id":"toolbarPlay",...t},y.a.createElement(dh,null))};var qL=function(e){return y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Shuffle"),"data-qa-id":"toolbarShuffle",...e},y.a.createElement(ev,null))};function ZL(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-sync-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m280 476c108.248 0 196-87.752 196-196 0-108.248-87.752-196-196-196-108.248 0-196 87.752-196 196 0 108.248 87.752 196 196 196m0 42c-131.444 0-238-106.556-238-238 0-131.444 106.556-238 238-238 131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238m0-112l112-112-89.6 0 0-140-44.8 0 0 140-89.6 0 112 112"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}ZL.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var XL=ZL;var JL=function(e){return y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Sync"),"data-qa-id":"toolbarSync",...e},y.a.createElement(XL,null))};class $L extends g.Component{constructor(e,t){super(e,t),this.onPlayShortcut=()=>{this.props.showPlayAll&&this.props.onPlayAllPress()},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!1})},this.onAddToSmartPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1,isSmartPlaylist:!1},this._moreButtonID=Object(gf.a)()}componentDidMount(){$.a.on("shortcut:playSelected",this.onPlayShortcut)}componentWillUnmount(){$.a.off("shortcut:playSelected",this.onPlayShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:a,metadataListEntityID:n,customFilterRoute:i,showPlayAll:r,showPlayAllOverflow:s,showShuffle:o,showShuffleOverflow:l,showAddToPlaylist:c,showAddToPlaylistOverflow:d,showAddToSmartPlaylist:u,showAddToCatalog:p,showAddToCatalogOverflow:m,showSync:h,showSyncOverflow:g,showOverflow:f,onPlayAllPress:b,onShufflePress:v,onSyncPress:I}=this.props,{isActionsMenuOpen:S,isAddToPlaylistModalOpen:E,isSmartPlaylist:O}=this.state;return y.a.createElement("div",{className:e},r?y.a.createElement(YL,{playLabel:Object(Ce.default)("Play All"),onPress:b}):null,o?y.a.createElement(qL,{onPress:v}):null,c?y.a.createElement(KL,{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,customFilterRoute:i,showAddToSmartPlaylist:u,onAddToPlaylistPress:this.onAddToPlaylistPress,onAddToSmartPlaylistPress:this.onAddToSmartPlaylistPress}):null,p?y.a.createElement(WL,{providerEntityID:a}):null,h?y.a.createElement(JL,{onPress:I}):null,f?y.a.createElement(NI,{id:this._moreButtonID,iconComponent:bE,label:Object(Ce.default)("More..."),isMenuOpen:S,onPress:this.onActionsPress}):null,y.a.createElement(kL,{...this.props,target:this._moreButtonID,isOpen:S,showPlayAll:s,showShuffle:l,showAddToPlaylist:d,showAddToCatalog:m,showSync:g,onMenuClose:this.onActionsMenuClose}),c?y.a.createElement(xL.a,{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,isOpen:E,smart:O,onModalClose:this.onAddToPlaylistClose}):null)}}var ek=BL($L,["showPlayAll","showShuffle","showAddToPlaylist","showAddToCatalog","showSync"],["showOptimize","showQueue"]);var tk=Object(BI.a)((function(){return Object(he.a)((e,{listType:t})=>t,vh.b,bh.b,Bs.b,Object(jO.a)(),(e,t,a,n,i)=>function({server:e,provider:t,stableUser:a,metadataList:n,listType:i}){const r=i||n.firstItemType||"mixed",s=hL[r];return s?s.reduce((i,s)=>{const o=mL[s];return Object(_.a)(M.a.isFunction(o),`getMetadataListActionProps: Invalid action, ${s}, for ${r}`),i[s]=!!(e&&t&&n)&&o({server:e,provider:t,stableUser:a,metadataList:n}),i},{}):{}}({server:t,provider:a,stableUser:n,metadataList:i,listType:e}))}),(function(e,t){const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||aS.LIST}};return{onPlayAllPress(){e(Ze.x(a))},onShufflePress(){e(Ze.B(a))},onPlayNextPress(){e(Ze.r({...a,options:{playAll:!0,next:!0}}))},onAddToQueuePress(){e(Ze.r({...a,options:{playAll:!0,next:!1}}))},onSyncPress(){e(Zb.n(a))},onOptimizePress(){e(Zb.f(a))}}}),yL.a)(ek);var ak=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,sourceDirectory:i,title:r,totalSize:s,listType:o,listStyle:l,allListStyles:c}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(kE.a,null,y.a.createElement(GD,{serverEntityID:t,providerEntityID:a,sourceDirectory:i}),y.a.createElement(LD,{serverEntityID:t,providerEntityID:a,sourceDirectory:i,directoryKey:dD.c.TIMELINE}),y.a.createElement(uD.a,null,y.a.createElement(uL,{selectedListStyle:l,allListStyles:c}))),y.a.createElement(Jm,null,y.a.createElement(zv,null,y.a.createElement(cD.a,null,r),y.a.createElement(Gb.a,null,s)),y.a.createElement(WA,null,y.a.createElement(tk,{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,listType:o}))))};var nk=Object(v.b)((function(){return Object(he.a)(Object(jO.a)(),e=>({totalSize:e.totalSize,listType:lA.j,listStyle:KA,allListStyles:[KA]}))}))(ak),ik=a("mi1+"),rk=a("4A6Q");const sk={showPlay:dk,showShuffle:dk,showQueue:function(e,t){return t.every(({model:t,server:a,provider:n})=>Object(rk.j)({server:a,provider:n,stableUser:e,metadataItem:t}))},showAddToPlaylist:function(e,t){return t.every(({model:t,server:a,provider:n})=>Object(rk.a)({server:a,provider:n,stableUser:e,metadataItem:t}))},showMarkPlayed:function(e,t){return t.some(({model:t,server:a,provider:n})=>Object(rk.f)({server:a,provider:n,stableUser:e,metadataItem:t}))},showMarkUnplayed:function(e,t){return t.some(({model:t,server:a,provider:n})=>Object(rk.g)({server:a,provider:n,stableUser:e,metadataItem:t}))},showFavorite:function(e,t){return t.some(({model:t,server:a,provider:n})=>Object(rk.e)({server:a,provider:n,stableUser:e,metadataItem:t}))},showUnfavorite:function(e,t){return t.every(({model:t,server:a,provider:n})=>Object(rk.n)({server:a,provider:n,stableUser:e,metadataItem:t}))},showEdit:uk,showRefresh:function(e,t){return t.every(({model:t,server:a,provider:n})=>Object(rk.k)({server:a,provider:n,stableUser:e,metadataItem:t}))},showAnalyze:function(e,t){return t.every(({model:t,server:a,provider:n})=>Object(rk.b)({server:a,provider:n,stableUser:e,metadataItem:t}))},showMerge:function(e,t){if(!uk(e,t))return!1;const a=ck(t);if(1===a.length)return!1;if(M.a.uniq(a).length>1)return!1;return a.every(e=>-1!==lk.indexOf(e))},showSync:function(e,t){return t.every(({model:t,server:a,provider:n})=>Object(rk.m)({server:a,provider:n,stableUser:e,metadataItem:t}))},showOptimize:function(e,t){return t.every(({model:t,server:a,provider:n})=>Object(rk.h)({server:a,provider:n,stableUser:e,metadataItem:t}))},showDelete:function(e,t){return t.every(({model:t,server:a,provider:n})=>!t.remoteMedia&&Object(rk.c)({server:a,provider:n,stableUser:e,metadataItem:t}))},showRemove:function(e,t){return t.every(({model:t,server:a,provider:n})=>t.remoteMedia&&Object(rk.c)({server:a,provider:n,stableUser:e,metadataItem:t}))}},ok={video:["showPlay","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showMerge","showSync","showOptimize","showDelete"],audio:["showPlay","showShuffle","showQueue","showAddToPlaylist","showEdit","showRefresh","showAnalyze","showMerge","showSync","showDelete","showRemove"],photo:["showPlay","showShuffle","showAddToPlaylist","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDelete"],playlist:["showDelete"],collection:["showEdit","showDelete"],rom:["showMarkPlayed","showMarkUnplayed","showEdit","showDelete"]},lk=["movie","show","season","artist","album"];function ck(e){return e.map(e=>e.model.type)}function dk(e,t){return t.every(({model:t,server:a,provider:n})=>Object(rk.i)({server:a,provider:n,stableUser:e,metadataItem:t}))}function uk(e,t){const a=ck(t);return!(M.a.uniq(a).length>1)&&t.every(({server:t,provider:a,model:n})=>Object(rk.d)({server:t,provider:a,stableUser:e,metadataItem:n}))}function pk(e,t,a){const n=ok[a],i=function(e){return M.a.uniq(e.map(e=>e.provider.entityID)).length>1}(t);return n.reduce((a,n)=>{const r=sk[n];return a[n]=!i&&r(e,t),a},{})}var mk=function(e){return y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Edit"),"data-qa-id":"toolbarEdit",...e},y.a.createElement(ah,null))};function hk(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-played-toggle-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280,518 C148.556,518 42,411.444 42,280 C42,148.556 148.556,42 280,42 C411.444,42 518,148.556 518,280 C518,411.444 411.444,518 280,518 Z M280,476 C388.248,476 476,388.248 476,280 C476,171.752 388.248,84 280,84 C171.752,84 84,171.752 84,280 C84,388.248 171.752,476 280,476 Z M267.373,395.87 L158.254,332.87 L179.254,296.497 L252,338.497 L350,168.756 L386.373,189.756 L267.373,395.87 Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}hk.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var gk=hk;class yk extends g.Component{constructor(e,t){super(e,t),this.onMenuButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._toolbarMenuButtonID=Object(gf.a)()}render(){const{showMarkPlayed:e,showMarkUnplayed:t,onMarkPlayedPress:a,onMarkUnplayedPress:n}=this.props,{isMenuOpen:i}=this.state;return y.a.createElement(NI,{id:this._toolbarMenuButtonID,iconComponent:gk,label:Object(Ce.default)("Toggle Played..."),isMenuOpen:i,onPress:this.onMenuButtonPress},y.a.createElement(Xs.a,{target:this._toolbarMenuButtonID,isOpen:i,onMenuClose:this.onMenuClose},e?y.a.createElement(Js.a,{onPress:Object(to.a)(this.onMenuClose,a)},Object(Ce.default)("Mark as Played")):null,t?y.a.createElement(Js.a,{onPress:Object(to.a)(this.onMenuClose,n)},Object(Ce.default)("Mark as Unplayed")):null))}}var fk=yk,bk=a("lrsD");class vk extends g.Component{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToPlaylistModalOpen:!1}}render(){const e=this.props,{isAddToPlaylistModalOpen:t}=this.state;return y.a.createElement("div",null,e.showPlay?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onPlaySelectedPress)},Object(Ce.default)("Play")):null,e.showShuffle?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onShufflePress)},Object(Ce.default)("Shuffle")):null,e.showQueue?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onPlaySelectedNextPress)},Object(Ce.default)("Play Next")):null,e.showQueue?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onAddToQueuePress)},Object(Ce.default)("Add to Queue")):null,e.showAddToPlaylist?y.a.createElement(Js.a,{onPress:this.onAddToPlaylistPress},Object(Ce.default)("Add to Playlist...")):null,e.showFavorite?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onFavoritePress)},Object(Ce.default)("Add to Favorites")):null,e.showUnfavorite?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onUnfavoritePress)},Object(Ce.default)("Remove from Favorites")):null,e.showMarkPlayed?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onMarkPlayedPress)},Object(Ce.default)("Mark as Played")):null,e.showMarkUnplayed?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onMarkUnplayedPress)},Object(Ce.default)("Mark as Unplayed")):null,e.showEdit?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onEditPress)},Object(Ce.default)("Edit")):null,e.showRefresh?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onRefreshPress)},Object(Ce.default)("Refresh Metadata")):null,e.showAnalyze?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onAnalyzePress)},Object(Ce.default)("Analyze")):null,e.showMerge?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onMergePress)},Object(Ce.default)("Merge")):null,e.showSync?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onSyncPress)},Object(Ce.default)("Sync...")):null,e.showOptimize?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onOptimizePress)},Object(Ce.default)("Optimize...")):null,e.showDelete?y.a.createElement(Js.a,{kind:ao.a,onPress:Object(to.a)(e.onMenuClose,e.onDeletePress)},Object(Ce.default)("Delete")):null,e.showRemove?y.a.createElement(Js.a,{onPress:Object(to.a)(e.onMenuClose,e.onDeletePress)},Object(Ce.default)("Remove")):null,e.showAddToPlaylist?y.a.createElement(xL.a,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,isOpen:t,onModalClose:this.onAddToPlaylistClose}):null)}}var Ik=vk;var Sk=function(e){const{target:t,isOpen:a,...n}=e;return y.a.createElement(Xs.a,{target:t,isOpen:a,onMenuClose:e.onMenuClose},y.a.createElement(Ik,{...n}))};function Ek(e){return 1===e?Object(Ce.default)("Are you sure you want to mark this item as played?"):Object(Ce.default)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:e})}function Ok(e){return 1===e?Object(Ce.default)("Are you sure you want to mark this item as unplayed?"):Object(Ce.default)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function Mk(e){const{selectedItemsCount:t,activeSelectionType:a,showRemove:n}=e,i=1===t;return n?i?Object(Ce.default)("Are you sure you want to remove this item?"):Object(Ce.default)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:t}):a===wo.PLAYLIST?i?Object(Ce.default)("Are you sure you want to delete this playlist?"):Object(Ce.default)("Are you sure you want to delete these {selectedItemsCount} playlists?",{selectedItemsCount:t}):a===wo.COLLECTION?i?Object(Ce.default)("Are you sure you want to delete this collection?"):Object(Ce.default)("Are you sure you want to delete these {selectedItemsCount} collections?",{selectedItemsCount:t}):i?Object(Ce.default)("Are you sure you want to delete this item from your filesystem?"):Object(Ce.default)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:t})}class Ck extends g.Component{constructor(e,t){super(e,t),this.onPlaySelectedShortcut=()=>{const{showPlay:e,showPlayOverflow:t,onPlaySelectedPress:a}=this.props;(e||t)&&a()},this.onToggleWatchedShortcut=()=>{const{showMarkPlayed:e,showMarkUnplayed:t}=this.props;e?this.setState({isConfirmMarkPlayedModalOpen:!0}):t&&this.setState({isConfirmMarkUnplayedModalOpen:!0})},this.onEditShortcut=()=>{const{showEdit:e,showEditOverflow:t,onEditPress:a}=this.props;(e||t)&&a()},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.onMarkPlayedPress=e=>{this.setState({isConfirmMarkPlayedModalOpen:!0})},this.onMarkUnplayedPress=e=>{this.setState({isConfirmMarkUnplayedModalOpen:!0})},this.onMarkPlayedConfirm=()=>{this.setState({isConfirmMarkPlayedModalOpen:!1}),this.props.onMarkPlayedConfirm()},this.onMarkPlayedCancel=()=>{this.setState({isConfirmMarkPlayedModalOpen:!1})},this.onMarkUnplayedConfirm=()=>{this.setState({isConfirmMarkUnplayedModalOpen:!1}),this.props.onMarkUnplayedConfirm()},this.onMarkUnplayedCancel=()=>{this.setState({isConfirmMarkUnplayedModalOpen:!1})},this.onDeletePress=e=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onDeleteConfirm=e=>{this.setState({isConfirmDeleteModalOpen:!1}),this.props.onDeleteConfirm()},this.onDeleteCancel=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.state={isActionsMenuOpen:!1,isConfirmMarkPlayedModalOpen:!1,isConfirmMarkUnplayedModalOpen:!1,isConfirmDeleteModalOpen:!1,isAddToPlaylistModalOpen:!1},this._moreButtonID=Object(gf.a)()}componentDidMount(){$.a.on("shortcut:playSelected",this.onPlaySelectedShortcut),$.a.on("shortcut:edit",this.onEditShortcut)}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentWillUnmount(){$.a.off("shortcut:playSelected",this.onPlaySelectedShortcut),$.a.off("shortcut:edit",this.onEditShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:a,selectedItemsCount:n,showPlay:i,showPlayOverflow:r,showShuffle:s,showShuffleOverflow:o,showAddToPlaylist:l,showAddToPlaylistOverflow:c,showFavorite:d,showFavoriteOverflow:u,showUnfavorite:p,showUnfavoriteOverflow:m,showTogglePlayed:h,showTogglePlayedOverflow:g,showMarkPlayed:f,showMarkUnplayed:b,showEdit:v,showEditOverflow:I,showSync:S,showSyncOverflow:E,showOverflow:O,onPlaySelectedPress:M,onShufflePress:C,onFavoritePress:j,onUnfavoritePress:D,onEditPress:P,onSyncPress:T}=this.props,{isActionsMenuOpen:w,isConfirmMarkPlayedModalOpen:N,isConfirmMarkUnplayedModalOpen:x,isConfirmDeleteModalOpen:A,isAddToPlaylistModalOpen:L}=this.state;return y.a.createElement("div",{className:e},i?y.a.createElement(YL,{playLabel:Object(Ce.default)("Play Selected"),onPress:M}):null,s?y.a.createElement(qL,{onPress:C}):null,l?y.a.createElement(KL,{serverEntityID:t,providerEntityID:a,onAddToPlaylistPress:this.onAddToPlaylistPress}):null,d?y.a.createElement(Mv.a,{"data-qa-id":"toolbarFavorite",tooltip:Object(Ce.default)("Add to Favorites"),onPress:j},y.a.createElement(aI.a,null)):null,p?y.a.createElement(Mv.a,{"data-qa-id":"toolbarUnfavorite",tooltip:Object(Ce.default)("Remove from Favorites"),onPress:D},y.a.createElement(bk.a,null)):null,h?y.a.createElement(fk,{showMarkPlayed:f,showMarkUnplayed:b,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress}):null,v?y.a.createElement(mk,{onPress:P}):null,S?y.a.createElement(JL,{onPress:T}):null,O?y.a.createElement(NI,{id:this._moreButtonID,iconComponent:bE,label:Object(Ce.default)("More..."),isMenuOpen:w,onPress:this.onActionsPress}):null,y.a.createElement(Sk,{...this.props,target:this._moreButtonID,isOpen:w,showPlay:r,showShuffle:o,showAddToPlaylist:c,showFavorite:u,showUnfavorite:m,showMarkPlayed:g&&f,showMarkUnplayed:g&&b,showEdit:I,showSync:E,onMenuClose:this.onActionsMenuClose,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress,onDeletePress:this.onDeletePress}),y.a.createElement(Xc.a,{isOpen:N,metricsPage:It.t,title:Object(Ce.default)("Mark as Played"),message:Ek(n),onConfirm:this.onMarkPlayedConfirm,onCancel:this.onMarkPlayedCancel}),y.a.createElement(Xc.a,{isOpen:x,metricsPage:It.s,title:Object(Ce.default)("Mark as Unplayed"),message:Ok(n),onConfirm:this.onMarkUnplayedConfirm,onCancel:this.onMarkUnplayedCancel}),y.a.createElement(Xc.a,{isOpen:A,metricsPage:It.k,kind:ao.a,title:this.props.showRemove?Object(Ce.default)("Remove"):Object(Ce.default)("Delete"),message:Mk(this.props),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel}),l?y.a.createElement(xL.a,{serverEntityID:t,providerEntityID:a,isOpen:L,onModalClose:this.onAddToPlaylistClose}):null)}}var jk=BL(Ck,["showPlay","showShuffle","showAddToPlaylist","showFavorite","showUnfavorite","showTogglePlayed","showEdit","showSync","showSyncDownload"],["showRefresh","showAnalyze","showMerge","showOptimize","showDelete"]);var Dk=Object(BI.a)((function(){return Object(he.a)(Object(he.a)(Am.a,e=>{const t={};for(const a of Object.keys(e))t[a]=Object(vh.a)(e[a]);return t}),Object(he.a)(Lt.a,e=>{const t={};for(const a of Object.keys(e))t[a]=Object(bh.a)(e[a]);return t}),Object(he.a)(DO.a,Hx.a,(e,{activeSelectionItems:t})=>t.map(t=>e[t.model])),Hx.a,Bs.b,(e,t,a,n,i)=>{const{activeSelectionType:r}=n,s=pk(i,a.map(a=>({model:a,provider:t[a.providerEntityID],server:e[a.serverEntityID]})),r);return{activeSelectionType:r,showTogglePlayed:s.showMarkPlayed||s.showMarkUnplayed,...s}})}),(function(e,t){const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onPlaySelectedPress(){e(jm.n(a))},onShufflePress(){e(jm.t(a))},onPlaySelectedNextPress(){e(jm.o(a))},onAddToQueuePress(){e(jm.a(a))},onFavoritePress(){e(jm.h(a))},onUnfavoritePress(){e(jm.v(a))},onMarkPlayedConfirm(){e(jm.i(a))},onMarkUnplayedConfirm(){e(jm.j(a))},onEditPress(){e(jm.g(a))},onRefreshPress(){e(jm.q(a))},onAnalyzePress(){e(jm.b(a))},onMergePress(){e(jm.k(a))},onSyncPress(){e(jm.u(a))},onOptimizePress(){e(jm.m(a))},onDeleteConfirm(){e(jm.c({...a,options:{skipRedirect:!t.allowRedirectOnDelete}}))},onDeselectAllPress(){e(jm.d(a))}}}))(jk),Pk=a("gA5T"),Tk=a.n(Pk);function wk(e){const{selectedItemsCount:t,toolbarComponent:a,onDeselectAllPress:n,...i}=e;return y.a.createElement(Jm,{className:Tk.a.multiSelectPageHeader},y.a.createElement(ik.a,null,y.a.createElement("div",{className:Tk.a.selectedTitle},y.a.createElement(ns.a,{className:Tk.a.icon}),1===t?Object(Ce.default)("1 item selected"):Object(Ce.default)("{selectedItemsCount} items selected",{selectedItemsCount:t})),y.a.createElement(jI.a,{className:Tk.a.deselectLink,onPress:n},y.a.createElement(Ql.a,{className:Tk.a.icon}),Object(Ce.default)("Deselect All"))),y.a.createElement(WA,null,y.a.createElement(a,{selectedItemsCount:t,...i})))}wk.defaultProps={toolbarComponent:Dk,allowRedirectOnDelete:!1};var Nk=wk;var xk=Object(BI.a)((function(){return Object(he.a)(Hx.a,e=>({selectedItemsCount:e.activeSelectionItems.length}))}),(function(e,t){const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onDeselectAllPress(){e(jm.d(a))}}}))(Nk),Ak=a("sKLl"),Lk=a.n(Ak);class kk extends g.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.onMomentScrollIndexChange=e=>{this.setState({currentMomentTitle:this.props.moments[e].title})},this.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0}}componentDidMount(){const{librarySectionID:e,providerIdentifier:t,onLibraryChange:a}=this.props;e&&a(t,e)}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:a,onLibraryChange:n}=this.props;t&&t!==e.librarySectionID&&n(a,t)}componentWillUnmount(){this.props.onLibraryChange(null,null),this.props.onCloseTimelinePage()}render(){const{serverEntityID:e,providerEntityID:t,providerMetricsIdentifier:a,metadataListEntityID:n,sourceDirectory:i,pivot:r,isMomentListPending:s,isMomentListPopulated:o,moments:l,activeSelectionType:c,columnAdjustment:d,serverVersion:u}=this.props,{isMeasured:p,width:m,height:h,currentMomentTitle:g}=this.state,f=200-100*d,b=12+d,v=Math.min(Math.ceil(m/f),b);if(o)return y.a.createElement(UO.a,{metricsPage:It.V,metricsProperties:{identifier:a,mode:"timeline",type:"photo",style:KA},allowBackgroundLightPreset:!0,scrollDirection:iv.b},c?y.a.createElement(xk,{serverEntityID:e,providerEntityID:t}):y.a.createElement(nk,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,sourceDirectory:i,title:g}),y.a.createElement(VO.a,{className:Lk.a.measured,ignorePosition:!0,onMeasure:this.onMeasure},p?y.a.createElement(BA,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,moments:l,columns:v,height:h,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));const I={serverEntityID:e,providerEntityID:t,sourceDirectory:i,pivot:r,directoryKey:dD.c.TIMELINE,scrollDirection:iv.b};if(s)return y.a.createElement(Qx,{...I,showSecondHeader:!0},y.a.createElement(_O.a,null,y.a.createElement(HO.a,null)));const S={title:Object(Ce.default)("There was an error loading the timeline for this library")};return Object(oo.a)(u,so.a.itemClusters)||(S.description=Object(Ce.default)("The photos timeline requires Plex Media Server {version} or higher",{version:so.a.itemClusters})),y.a.createElement(Qx,{...I},y.a.createElement(GO.a,{...S}))}}var Rk=kk;const zk=Object(he.a)(e=>e.ui.timelinePage.momentList,e=>{if(!e)return[];let t=0;return e.moments.map(e=>{const a=t;t+=e.size;const{id:n,title:i,size:r,avgAR:s,startsAt:o}=e,l=e.size*(e.avgAR||1);return{start:a,end:t,area:l,id:n,title:i,size:r,avgAR:s,startsAt:o}})});const Uk=vO(Rk,(function(e){const t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}}),(function(e,t){e(Ux({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(Fx())}));var Vk=Object(v.b)((function(){return Object(he.a)((e,{libraryKey:t})=>t,e=>e.ui.timelinePage,zk,vh.b,Object(xI.a)(),NO(),Rx(),Hx.a,ge.a,(e,t,a,n,i,r,s,o,l)=>{const{details:c,containerKey:d,isMomentListPending:u,isMomentListPopulated:p}=t;return{metadataListEntityID:t.metadataList,providerIdentifier:i.identifier,providerMetricsIdentifier:i.metricsIdentifier,librarySectionID:c&&c.librarySectionID,sourceDirectory:r,pivot:s,moments:a,isMomentListPending:u,isMomentListPopulated:p,containerKey:d,momentKey:j.default.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:o.activeSelectionType,disableReloadThreshold:!!o.activeSelectionType,columnAdjustment:l.columnAdjustment,serverVersion:n.version}})}),(function(e,t){return{onLibraryChange(a,n){e(Object(Tt.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:a,directoryID:n}))},onCloseTimelinePage(){e(Vx({}))}}}))(Uk);function Bk({pivotType:e,sourceURI:t,directoryKey:a,selectedPivot:n}){const[i,r,s]=Jt(),o=ea(),l=Object(v.d)(Ot.a);if(Pt(null==n?void 0:n.requires,l))return y.a.createElement(oI,null);switch(e){case St.b.Hub:return y.a.createElement(Et.a,{name:null==n?void 0:n.context},y.a.createElement(Nh,{sourceURI:t}));case St.b.List:return y.a.createElement(Et.a,{name:null==n?void 0:n.context},y.a.createElement(Jv,{directoryKey:a,sourceURI:t,selectedPivot:n}));case St.b.View:switch(null==n?void 0:n.key){case St.c.SharedItems:return y.a.createElement(Et.a,{name:null==n?void 0:n.context},y.a.createElement(Jv,{directoryKey:null!=a?a:"/library/shared/all",sourceURI:t,selectedPivot:n,listStyle:Nt.a.SharedItems}));case St.c.Guide:return y.a.createElement(WP,{serverEntityID:i.entityID,providerEntityID:r.entityID,sourceDirectoryID:null==s?void 0:s.id,directoryKey:St.c.Guide,activeFilters:Object(Mt.a)(o.filters),activeFilterLabel:o.filterLabel});case St.c.RecordingSchedule:return y.a.createElement(kx,{serverEntityID:i.entityID,providerEntityID:r.entityID,sourceDirectoryID:null==s?void 0:s.id,selectedViewType:o.view});case St.c.Timeline:{const e=Object(xt.a)(r,St.e.Content);return y.a.createElement(Vk,{serverEntityID:i.entityID,providerEntityID:r.entityID,sourceDirectoryID:null==s?void 0:s.id,directoryKey:St.c.Timeline,libraryKey:j.default.join([null==e?void 0:e.key,null==s?void 0:s.id,"cluster"],{clusterZoomLevel:1})})}}}return y.a.createElement(QP.a,null)}const Fk=[St.c.Guide,St.c.RecordingSchedule,St.c.Timeline];function Hk({className:e,directoryKey:t,pageType:a,machineIdentifier:n,providerIdentifier:i,contentDirectoryID:r,pivotID:s}){const o=Object(v.c)(),l=WE({machineIdentifier:n,providerIdentifier:i,contentDirectoryID:r,pageType:a,pivotID:s}),c=l?l.type:null!=a?a:St.b.List,d=(null==l?void 0:l.key)||t,u=d?Object(Ct.a)({serverIdentifier:n,providerIdentifier:i,key:d}):void 0;return Object(g.useEffect)(()=>{if(!r)return;const e=Object(jt.a)(wt.SERVER,n),t=Object(jt.a)(wt.PROVIDER,i,e);return o(Object(Tt.changeQuickSearchSettings)({serverEntityID:e,providerEntityID:t,providerIdentifier:i,directoryID:r})),()=>{o(Object(Tt.changeQuickSearchSettings)({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}},[r,o,n,i]),Object(g.useEffect)(()=>()=>{Object(Dt.a)(()=>{o(Em.actions.resetMeta())})},[o]),u?y.a.createElement($t,{machineIdentifier:n,providerIdentifier:i,contentDirectoryID:r},y.a.createElement(ca,{className:e,allowBackgroundLightPreset:!0,scrollDirection:Ie.None},l&&c===St.b.View&&Fk.includes(l.key)?null:y.a.createElement(UE,{sourceURI:u,selectedPivot:l}),y.a.createElement(Bk,{pivotType:c,sourceURI:u,directoryKey:t,selectedPivot:l}))):y.a.createElement(ca,{className:e},y.a.createElement(va,null))}var _k=a("Ayk2");var Wk=function(){const e=Object(I.j)({path:[_k.a.playHistory,..._k.a.playlist,..._k.a.prePlay,_k.a.providerSettings,_k.a.mediaGuideV3,_k.a.mediaRecordingScheduleV3,_k.a.mediaTimelineV3,_k.a.media,_k.a.serverSetup,_k.a.serverUpdate,_k.a.transientPrePlay],exact:!0}),t=null==e?void 0:e.params,a=null==t?void 0:t.machineIdentifier,n=null==t?void 0:t.providerIdentifier;return a||n?{machineIdentifier:a||tC.a,providerIdentifier:n?decodeURIComponent(n):qr.d}:{machineIdentifier:Ht.machineIdentifier,providerIdentifier:Bt.identifier}},Qk=a("baWb");var Gk=Object(he.a)(Am.a,e=>e.cloudServer,(e,t)=>e[t]),Kk=a("RlGa");var Yk=function(){return y.a.createElement(Kk.a,{title:Object(Ce.default)("Plex is down for maintenance"),description:Object(Ce.default)("Don't worry, it will be back soon")},y.a.createElement(jI.a,{to:up.m,target:"_blank",kind:ao.d},"status.plex.tv"))},qk=a("bCk4"),Zk=a("mMra");var Xk=function(){return y.a.createElement(Kk.a,{title:Object(Ce.default)("Plex is not reachable"),description:Object(Ce.default)("We are unable to connect to plex.tv at this time. Please try again later.")})};var Jk=function(e){const{children:t,hasProvider:a,isDownForMaintenance:n,isUnreachable:i,hasError:r,isPending:s}=e;return n?y.a.createElement(Yk,null):i?y.a.createElement(Xk,null):r?y.a.createElement(Zk.a,null):s?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):a?y.a.createElement(y.a.Fragment,null,t):y.a.createElement(QP.a,null)};const $k=Object(v.b)((function(){return Object(he.a)(Object(kt.a)("isProvidersPopulated"),Object(kt.a)("providersError"),Object(xI.a)(),Gk,(e,t,a,n)=>a?{hasProvider:!0,hasError:!!a.error,isPending:!a.isPopulated}:{hasProvider:!1,isDownForMaintenance:n.isDownForMaintenance,isUnreachable:n.isUnavailable,hasError:!!t,isPending:!e})}))(Jk);$k.propTypes={...$k.propTypes,providerEntityID:Qn.a.string.isRequired};var eR=$k,tR=a("yS+A");var aR=function(e){const{children:t,machineIdentifier:a,providerIdentifier:n}=e,i=a===tC.a?eR:tR.a,r=Object(jt.a)(wt.SERVER,a),s=Object(jt.a)(wt.PROVIDER,n,r);return y.a.createElement(i,{serverEntityID:r,providerEntityID:s},t)};function nR(){const e=Object(Me.a)(),t=Object(Qk.a)(e.key),{machineIdentifier:a,providerIdentifier:n}=Wk(),i=e.pageType?Object(Qk.a)(e.pageType):void 0,r=Object(qp.c)(St.b).find(e=>e===i);return y.a.createElement(Et.a,{metricsPage:It.P,metricsContextParam:Object(Qk.a)(e.context)},y.a.createElement(aR,{machineIdentifier:a,providerIdentifier:n},t||Object(Qk.a)(e.source)?y.a.createElement(Hk,{directoryKey:t,machineIdentifier:a,providerIdentifier:n,contentDirectoryID:Object(Qk.a)(e.source),pageType:r,pivotID:Object(Qk.a)(e.pivot)}):y.a.createElement(QP.a,null)))}var iR,rR,sR=a("dPq9"),oR=a("naHd");(rR=iR||(iR={})).Auto="auto",rR.Custom="custom";var lR=Object(he.a)(Ke,e=>!e.isFullUser);var cR,dR,uR=Object(he.a)(Ke,e=>e.services);(dR=cR||(cR={})).ContinueWatching="home.continue",dR.VodContinueWatching="movies.continueWatching",dR.MergedContinueWatching="continueWatching",dR.OnDeck="home.ondeck";var pR=a("L9Nd");var mR=Object(he.a)(Hn("sidebarSettings"),e=>e);var hR=Object(he.a)(mR,e=>e.pinnedSources);var gR=Object(he.a)(hR,e=>e.filter(e=>!e.isHidden));const yR={type:St.e.ContinueWatching,key:vI.b};var fR=Object(he.a)(gR,qt,Lt.a,Os(ve.g),(e,t,a,n)=>{const i=[],r=[];for(let s=0;s<e.length;s++){const{machineIdentifier:o,providerIdentifier:l,directoryID:c}=e[s],d=Object(Ct.a)({serverIdentifier:o,providerIdentifier:l}),u=t.find(e=>e.machineIdentifier===o),p=u?Object(pR.a)({identifier:l,serverEntityID:u.entityID}):void 0,m=p?a[p]:void 0,h=d+"/continueWatching",g=`${d}/${c}/promoted`;let y=m?Object(xt.a)(m,St.e.ContinueWatching):void 0;!n&&qr.l(null==m?void 0:m.identifier,qr.d)&&(y=yR);const f=m?Object(xt.a)(m,St.e.Promoted):void 0;if(!(null==m?void 0:m.isPopulated)||y){const e=i.findIndex(e=>e.key===h);if(e>=0){const t=i[e];i[e]={...t,contentDirectoryID:[...t.contentDirectoryID,c]}}else i.push({key:h,source:d,contentDirectoryID:[c],server:u,provider:m,feature:y})}(null==m?void 0:m.isPopulated)&&!f||r.push({key:g,source:d,contentDirectoryID:[c],server:u,provider:m,feature:f})}return i.concat(r)});var bR=Object(he.a)(fR,e=>e.filter(e=>{var t;return null!=e.server&&null!=e.provider&&(null==(t=e.feature)?void 0:t.type)===St.e.ContinueWatching}));var vR=Object(he.a)(wr,e=>e.home);var IR=Object(he.a)(vR,e=>e.hubsListsByKey);var SR=Object(he.a)(bR,IR,Wv,za,(e,t,a,n)=>{const i={};for(let r=0,s=e.length;r<s;r++){const s=e[r],o=t[s.key];if(!(null==o?void 0:o.isPopulated))continue;const l=o.hubs.find(({hubIdentifier:e})=>e!==cR.OnDeck);if(!l)continue;const c=a[l.sourceURI],d=c.items.map(({sourceURI:e})=>n[e]);i[s.source]={hubsSource:s,hub:l,metadataList:c,metadataListItemState:d}}return i});var ER=Object(he.a)(SR,e=>{const t=Object.values(e).reduce((e,{metadataList:t,metadataListItemState:a})=>e.concat(t.items.reduce((e,t,n)=>{const i=a[n];return i&&e.push({metadataItem:t,metadataItemState:i}),e},[])),[]);return t.sort((e,t)=>{var a,n,i,r;const s=e.metadataItem,o=t.metadataItem,l=e.metadataItemState,c=t.metadataItemState,d=null!=(n=null!=(a=null==s?void 0:s.includedAt)?a:null==l?void 0:l.lastViewedAt)?n:0;return(null!=(r=null!=(i=null==o?void 0:o.includedAt)?i:null==c?void 0:c.lastViewedAt)?r:0)-d}),t.map(({metadataItem:t})=>{const{hubsSource:a,hub:n}=e[t.source];return{listItemKey:t.sourceURI,hub:n,hubsSource:a,metadataItem:t}})});var OR=Object(he.a)(SR,e=>Object.values(e).filter(e=>{const{hub:t}=e;return t.isStale}));function MR(){return y.a.createElement(xu,null,Object(Ce.default)("Continue Watching"))}var CR=Object(g.memo)((function({metricsRow:e=0,onHomeHubsReady:t}){const a=Object(v.c)(),n=Object(v.d)(ER),i=Object(v.d)(OR),r=Object(g.useMemo)(()=>({type:Nt.b.Mixed,more:!1,initialSize:n.length,isStale:!1,size:n.length,key:"",hubIdentifier:"",source:"",sourceURI:"",title:""}),[n]),s=Object(g.useMemo)(()=>[{imageType:_a.b.CoverPoster,type:Nt.b.Mixed}],[]),o=Object(v.d)(Fu),l=Object(g.useMemo)(()=>n.reduce((e,t)=>{var a,n,i;return Math.max(e,null!=(i=null==(n=null==(a=t.hub.Meta)?void 0:a.DisplayFields)?void 0:n.reduce((e,{fields:t})=>Math.max(e,t.length),0))?i:0)},0),[n]),c=Object(g.useMemo)(()=>Eu({listType:Nt.b.Mixed,listStyle:Nt.a.List,columnWidth:o,titleCount:l}),[o,l]);Object(g.useEffect)(()=>{i.forEach(({hub:e,hubsSource:t})=>{a(ja.a.actions.throttledRepopulateRangeRequested({server:t.server,provider:t.provider,sourceURI:e.sourceURI}))})},[a,i]),Object(g.useEffect)(()=>{n.forEach(({hubsSource:e})=>{t(e.key)})},[n,t]);const d=Object(g.useMemo)(()=>t=>{var a,n,i;if(!t.item)return y.a.createElement(y.a.Fragment,null);const{metadataItem:r,hub:o,hubsSource:l}=t.item;return y.a.createElement(Et.a,{key:t.key,name:o.context,row:e,column:t.cellIndex},y.a.createElement($t,{machineIdentifier:null==(a=l.server)?void 0:a.machineIdentifier,providerIdentifier:null==(n=l.provider)?void 0:n.identifier},y.a.createElement(Ca,{containerServer:l.server,containerProvider:l.provider,containerSourceURI:o.sourceURI,containerKey:o.key,containerType:Nt.b.Mixed,containerMeta:{DisplayFields:null==(i=o.Meta)?void 0:i.DisplayFields,DisplayImage:s},listStyle:Nt.a.Hero},y.a.createElement(cu,{...t,item:r}))))},[s,e]);return y.a.createElement(Bu,{hub:r,hubTitleComponent:MR,keyPropName:"listItemKey",items:n,totalSize:n.length,layout:c,cellComponentFactory:d})}));const jR={hubsListsByKey:{}},DR={source:"",contentDirectoryID:[],hubs:[],isPending:!1,isPopulated:!1,error:null};function PR(e,t){for(const a in e.hubsListsByKey){const n=e.hubsListsByKey[a];t&&n.source!==t||n.hubs.forEach(e=>{e.isStale=!0})}}var TR=Object(jr.c)({name:"home",initialState:jR,reducers:{reset:()=>jR,markStaleRequested(e){for(const t in e.hubsListsByKey)e.hubsListsByKey[t].isPending=!1},markStale(e){PR(e)},populateAllRequested(e,{payload:t}){const a=t.hubsSources.map(e=>e.key);Object.keys(e.hubsListsByKey).forEach(t=>{a.includes(t)||delete e.hubsListsByKey[t]})},fetchRequested(e,{payload:t}){const{hubsSource:{key:a,source:n,contentDirectoryID:i}}=t;let r=e.hubsListsByKey[a];r||(r={...DR,source:n}),Object(hm.c)(r),r.contentDirectoryID=[...i],e.hubsListsByKey[a]=r},fetchSucceeded(e,{payload:t}){e.lastFetchedAt||(e.lastFetchedAt=Date.now());const a=e.hubsListsByKey[t.key];Object(hm.d)(a),a.hubs=t.data},fetchFailed(e,{payload:t}){let a=e.hubsListsByKey[t.key];a||(a={...DR,source:t.source,contentDirectoryID:[...t.contentDirectoryID]},e.hubsListsByKey[t.key]=a),Object(hm.b)(a,t.error)}},extraReducers:e=>{e.addCase(ja.a.actions.repopulateRangeSucceeded,(e,{payload:t})=>{for(const a in e.hubsListsByKey){e.hubsListsByKey[a].hubs.forEach(e=>{e.sourceURI===t.sourceURI&&(e.isStale=!1)})}}),e.addCase(vm.actions.ended,(e,{payload:t})=>{PR(e,t.source)}),e.addCase(fm.actions.sessionStopped,(e,{payload:t})=>{PR(e,Object(Ct.a)({serverIdentifier:t.server.machineIdentifier}))}),e.addCase(Cs.actions.libraryScanUpdated,(e,{payload:t})=>{PR(e,Object(Ct.a)({serverIdentifier:t.server.machineIdentifier}))}),e.addCase(Ki.a.actions.playedStatusUpdateSucceeded,(e,{payload:t})=>{PR(e,Object(Ct.a)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier}))}),e.addCase(Ki.a.actions.metadataProcessed,(e,{payload:t})=>{const{serverIdentifier:a,providerIdentifier:n}=Object(Ia.a)(t.sourceURI);PR(e,Object(Ct.a)({serverIdentifier:a,providerIdentifier:n}))}),e.addCase(bm.actions.languageChanged,()=>jR)}});var wR=Object(he.a)(Os(ve.g),ER,(e,t)=>e&&!!t.length);const NR=Object(he.a)(Ke,e=>e.providers);var xR=Object(he.a)(NR,Lt.a,(e,t)=>e.map(e=>t[e]));var AR=Object(he.a)(qt,xR,(e,t)=>e.some(e=>!e.isCloud&&!e.isUnauthorized)||t.some(e=>e.features.find(e=>e.type===St.e.Content))),LR=a("JImT");var kR=e=>e.ui.watchTogether;var RR=Object(he.a)(LR.a,kR,(e,t)=>t.rooms.map(t=>e[t]));var zR=Object(he.a)(RR,e=>!!e.length);const UR={key:"",contentDirectoryID:[],isPending:!1,isSourceReady:!1,isSourceMissing:!1,isSourceUnavailable:!1,isSourceError:!1,isListPending:!1,isListPopulated:!1,isListEmpty:!1,isListError:!1};var VR=Object(he.a)(e=>e.isWaitingForServers,e=>e.user.isProvidersPopulated,e=>e.user.providersError,vR,fR,(e,t,a,n,i)=>i.map(({key:i,server:r,provider:s})=>{if(!r)return{...UR,key:i,isPending:e,isSourceMissing:!0};const o={...UR,key:i};if(o.isSourceUnavailable=r.isUnavailable,o.isSourceError=r.isUnauthorized||!!(null==s?void 0:s.error),s){o.isSourceReady=r.isConnected&&s.isPopulated;const e=n.hubsListsByKey[i];e?(o.contentDirectoryID=Array.from(e.contentDirectoryID),o.isPending=o.isSourceReady&&!e.isPopulated&&!e.error,o.isListPending=e.isPending,o.isListPopulated=e.isPopulated,o.isListError=!!e.error,o.isListEmpty=e.isPopulated&&(!e.hubs.length||e.hubs.every(e=>!e.initialSize&&!e.more))):o.isPending=!o.isSourceUnavailable&&!o.isSourceError}else o.isSourceMissing=!0,r.isConnected?o.isPending=!!r.isCloud&&(!t&&!a):o.isPending=!r.isUnavailable&&!r.isUnauthorized;return o}));const BR=Object(he.a)(VR,e=>{const t=[];let a=0;for(;e[a];){const n=e[a];if(n.isPending)break;n.isListPopulated&&!n.isListEmpty&&t.push(n.key),a++}return t});var FR=Object(bO.a)(BR,e=>e);var HR=Object(he.a)(vR,e=>e.lastFetchedAt);var _R=e=>e.ui.watchTogether.rooms.length>0;var WR=e=>e.ui.watchTogether.isRoomsPending;var QR=Object(he.a)(fR,VR,Hn("sidebarSettings"),WR,_R,Os(ve.g),(e,t,a,n,i,r)=>function(e,t,a,n=!1,i=!1,r=!1){var s;if(Object(Vs.a)(e.length===t.length,"hubsSources and hubsStates have differing length"),!a.hasCompletedSetup)return{isPending:!0};let o=0;const l=t.length;if(r)for(let a=0;a<l;a++){const n=t[a];if((null==(s=e[a].feature)?void 0:s.type)!==St.e.ContinueWatching){o=a;break}if(!(n.isListPopulated||n.isListEmpty||n.isListError||n.isSourceUnavailable))return{isPending:!0}}for(let e=o;e<l;e++){const a=t[e];if(a.isListPopulated&&!a.isListEmpty)return{isPopulated:!0};if(a.isPending)return{isPending:!0}}return n?{isPending:!0}:i?{isPopulated:!0}:t.length?t.every(e=>e.isListEmpty)?{isEmpty:!0}:t.some(e=>e.isSourceUnavailable)?{isUnavailable:!0}:{isError:!0}:{hasNoPinnedSources:!0}}(e,t,a,n,i,r));var GR=Object(At.a)(e=>Object(he.a)(IR,Os(ve.g),(t,a)=>{const n=t[e];return{...n,hubs:a?n.hubs.filter(e=>e.hubIdentifier!==cR.VodContinueWatching&&e.hubIdentifier!==cR.MergedContinueWatching&&e.hubIdentifier!==cR.ContinueWatching):n.hubs}}));const KR=[cR.ContinueWatching,cR.VodContinueWatching,cR.MergedContinueWatching];var YR=Object(At.a)((function(e,t){return Object(he.a)(IR,FR,Os(ve.g),(a,n,i)=>{const r=n.indexOf(e);return n.slice(0,-1===r?n.length:r).reduce((e,t)=>a[t].hubs.reduce((e,{initialSize:t,more:a,hubIdentifier:n})=>i&&KR.includes(n)?e:e+(t||a?1:0),e),t)})}));const qR=Object(he.a)(fR,e=>{const t={},a=e.reduce((e,{server:a})=>{if(!a||t[a.machineIdentifier])return e;const{machineIdentifier:n,sourceTitle:i,isFullOwnedServer:r}=a;return t[n]=!0,r?e.numOwnedServers++:i&&(e.numSharedServers++,e.byOwner[i]?e.byOwner[i]++:e.byOwner[i]=1),e},{numSharedServers:0,numOwnedServers:0,byOwner:{}});return e.reduce((e,{source:t,server:n,provider:i})=>{if(!n)return e;const{friendlyName:r,sourceTitle:s,isCloud:o,isFullOwnedServer:l}=n;return o&&i?i.sourceTitle&&(a.numOwnedServers||a.numSharedServers)?e[t]=`${i.title} (${i.sourceTitle})`:e[t]=i.title:s&&(a.numOwnedServers||a.numSharedServers>1)?1===a.byOwner[s]?e[t]=s:e[t]=`${s} (${r})`:l&&a.numOwnedServers>1&&(e[t]=r),e},{})});var ZR=Object(bO.a)(qR,e=>e);var XR=Object(At.a)(e=>Object(he.a)(ZR,t=>t[e])),JR=a("pmMa"),$R=a.n(JR);function ez({children:e,hub:t}){const{metricsContextTuple:a}=Object(Et.d)(),n=Object(v.d)(XR(t.source)),i=Ea(t.source,{key:t.key,title:t.title,pageType:St.b.List,context:Object(Et.b)(a)});return y.a.createElement(Ip,{hub:t},y.a.createElement(ga,{to:i},e),n?y.a.createElement("span",{className:$R.a.sourceTitle},y.a.createElement(Hi.b,null),n):null)}var tz=Object(g.memo)((function({hubsSource:e,metricsRowOffset:t,onHomeHubsReady:a}){var n,i;const r=Object(v.d)(GR(e.key)),s=Object(v.d)(YR(e.key,t)),o=Object(g.useCallback)(()=>{a(e.key)},[e.key,a]);return e.server&&e.provider?y.a.createElement($t,{key:e.key,machineIdentifier:null==(n=e.server)?void 0:n.machineIdentifier,providerIdentifier:null==(i=e.provider)?void 0:i.identifier},y.a.createElement(Op,{hubs:r.hubs,hubComponent:gp,hubTitleComponent:ez,metricsRowOffset:s,onHubsReady:o})):null})),az=a("ovLB"),nz=a.n(az);function iz({className:e}){return y.a.createElement("div",{className:e})}iz.defaultProps={className:nz.a.pageHeaderDivider};var rz=iz,sz=a("ce/m"),oz=a.n(sz);var lz=function({children:e}){return y.a.createElement("div",{className:oz.a.container},e)};var cz=Object(Kt.a)(ge.a,({homeSettings:e})=>e);function dz(e,t,a){let n=e.slice(0);if(a<0||a>n.length)return n;const i=n[t];return n=function(e,t){const a=e.slice(0);return t<0||t>=a.length||a.splice(t,1),a}(n,t),n.splice(a,0,i),n}var uz=a("3pzj"),pz=a("XjQJ");function mz(e={},t={}){const{identifier:a,title:n,sourceTitle:i}=e,{friendlyName:r,sourceTitle:s}=t;let o;return qr.l(a,qr.d)?o=s||r:n&&(o=i?`${n} • ${i}`:n),o}function hz(){return Object(he.a)(cz,(e,{homeHubID:t})=>t,(e,t)=>e.hubs.find(e=>e.id===t))}var gz=function(){return Object(he.a)(e=>e.ui.homePage.homeHubStatuses,(e,{homeHubID:t})=>t,(e,t)=>e.find(e=>e.homeHubID===t))};var yz=a("X7Ko");var fz=Object(he.a)(yz.a,e=>e.hubs);function bz(){return Object(he.a)(fz,gz(),(e,t)=>e[t.hub])}function vz(){return Object(he.a)(Am.a,gz(),(e,t)=>e[t.server])}function Iz(){return Object(he.a)(hz(),bz(),Object(he.a)(Lt.a,gz(),(e,t)=>e[t.provider]),vz(),(e,t,a,n)=>mz(t?a:e.provider,t?n:e.server))}function Sz(){return Object(he.a)(bz(),hz(),(e,t)=>{let a;return e&&e.title?a=e.title:t&&t.title&&(a=t.title),a||Object(Ce.default)("Unknown")})}var Ez=a("Yx3T"),Oz=a.n(Ez);function Mz(e){const{isMonochrome:t,isRemovable:a,tooltip:n,...i}=e,r=n||(a?Object(Ce.default)("Remove"):Object(Ce.default)("Add"));return y.a.createElement(Dm.a,{...i,component:ZO.a,hideOnPress:!1,iconComponent:Df.a,iconClassName:a?Oz.a.iconRemovable:Oz.a.icon,kind:a&&!t?ao.a:ao.c,ariaLabel:r,tooltip:r})}Mz.defaultProps={className:Oz.a.button};var Cz=Mz,jz=a("Ygol"),Dz=a.n(jz);function Pz(e,t){const{className:a,sourceTitle:n,title:i,style:r,isRemoved:s,connectDragSource:o,onToggleRemoveHomeHub:l}=e;return y.a.createElement("div",{className:Pe()(a,s&&Dz.a.isRemoved),style:r},o(y.a.createElement("div",null,y.a.createElement(JT,{className:Dz.a.iconReorder}))),y.a.createElement("span",{className:Dz.a.label},y.a.createElement("span",{className:Dz.a.title},i),n?y.a.createElement(Hi.b,null):null,n||null),y.a.createElement(Cz,{className:Dz.a.toggleButton,isRemovable:!s,tooltip:s?Object(Ce.default)("Restore"):Object(Ce.default)("Remove"),onPress:l}))}Pz.defaultProps={className:Dz.a.listItem,isRemoved:!1,connectDragSource:e=>e};var Tz=Pz;const wz=Object(v.b)((function(){return Object(he.a)(Sz(),Iz(),(e,t)=>({title:e,sourceTitle:t}))}),(function(e,t){return{onToggleRemoveHomeHub(){t.onToggleRemoveHomeHub(t.homeHubID)}}}))(Tz);wz.propTypes={...wz.propTypes,homeHubID:Qn.a.string.isRequired};var Nz=wz;function xz(e,t){const{x:a,y:n}=e,i=`translate3d(${a}px, ${n}px, 0)`;return{WebkitTransform:i,msTransform:i,transform:i,width:t?t+"px":"100%"}}var Az=a("vTNh"),Lz=a.n(Az);const kz=parseInt(yu.a.homeServerListItemHeight,10);class Rz extends g.Component{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const{listHeight:a,listWidth:n,listTop:i,listRight:r,listBottom:s,listLeft:o,...l}=e;return y.a.createElement(QT,null,y.a.createElement(Nz,{...l,style:t,className:Lz.a.listItem}))}}var zz=Object(FT.DragLayer)((function(e,t){const a=e.getItem(),n={item:a,style:null},i=e.getInitialSourceClientOffset(),r=e.getSourceClientOffset();if("HOME_HUB_ITEM"===e.getItemType()&&i&&r){let e=r.y;e-a.listTop<=0?e=a.listTop:e+kz>=a.listBottom&&(e=a.listBottom-kz),n.style=xz({x:i.x,y:e},a.listWidth)}return n}))(Rz),Uz=a("eEGg"),Vz=a.n(Uz);const Bz={beginDrag(e,t,a){const{homeHubID:n,listIndex:i,isRemoved:r,listHeight:s,listWidth:o,listTop:l,listRight:c,listBottom:d,listLeft:u}=e;return{dragIndex:i,homeHubID:n,isRemoved:r,listHeight:s,listWidth:o,listTop:l,listRight:c,listBottom:d,listLeft:u}},endDrag(e,t,a){e.onItemDragEnd({didDrop:t.didDrop()})}},Fz={hover(e,t,a){const n=t.getClientOffset(),i=Object(f.findDOMNode)(a).getBoundingClientRect(),r=(i.bottom-i.top)/2,s=n.y-i.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:s>r?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};class Hz extends g.Component{componentDidMount(){this.props.connectDragPreview(Object(bw.getEmptyImage)())}render(){const{isOver:e,isDragging:t,listIndex:a,dropIndex:n,listHeight:i,listWidth:r,listTop:s,listRight:o,listBottom:l,listLeft:c,isDraggingBefore:d,isDraggingAfter:u,connectDropTarget:p,...m}=this.props;return p(y.a.createElement("div",{className:Pe()(Vz.a.container,e&&Vz.a.isOver,t&&ua.c,e&&d&&ua.e,e&&u&&ua.d)},y.a.createElement(Nz,{...m})))}}var _z=Object(FT.DropTarget)("HOME_HUB_ITEM",Fz,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(FT.DragSource)("HOME_HUB_ITEM",Bz,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Hz)),Wz=a("xJXR"),Qz=a.n(Wz);const Gz={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};class Kz extends g.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:a}=e,{dragIndex:n,dropIndex:i}=this.state;let r=a!==i?a:i;const s=t!==n?t:n;if((r===s||r>s&&r-s==1)&&(r=-1),s!==n||r!==i){const e={dragIndex:s,dropIndex:r,hasValidDropTarget:-1!==r};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:a}=this.state;let n;e.didDrop&&-1!==a&&(n=()=>{this.props.onReorderHomeHub({fromIndex:t,toIndex:a>t?a-1:a})}),this.setState(Gz,n)},this.onMeasure=e=>{const{height:t,width:a,x:n,y:i}=e;this.setState({listHeight:t,listWidth:a,listTop:i,listRight:n+a,listBottom:i+t,listLeft:n})},this.state={...Gz,listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0}}render(){const{className:e,homeHubs:t,removedHomeHubIDs:a,onToggleRemoveHomeHub:n}=this.props,{dropIndex:i,hasValidDropTarget:r}=this.state;return y.a.createElement(VO.a,{className:e,ignoreTransforms:!0,onMeasure:this.onMeasure},y.a.createElement(XD.a,{className:Qz.a.scroller,scrollDirection:iv.c},t.map(({id:e},t)=>{const s=t,o=r&&i===s,l=r&&i===s+1;return y.a.createElement(_z,{...this.state,key:e,homeHubID:e,listIndex:s,hasValidDropTarget:r,isRemoved:!!a[e],isDraggingAfter:l,isDraggingBefore:o,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,onToggleRemoveHomeHub:n})}),y.a.createElement(pz.a,null,y.a.createElement(zz,null))))}}Kz.defaultProps={className:Qz.a.container};var Yz=wx(Kz),qz=a("nSpa"),Zz=a.n(qz);function Xz(e){return{mode:e,isEditing:1===e,isEmpty:2===e,isResettingCustomization:3===e,isManageAutomaticallyOptIn:4===e,isManagedAutomatically:5===e}}function Jz(e){let t;t=e.isAutoHomeHubsEnabled?5:e.homeHubs.length?1:2;const a=Xz(t);return a.editableHomeHubs=e.homeHubs,a.homeHubs=e.homeHubs,a.removedHomeHubIDs={},a}class $z extends g.Component{constructor(e,t){super(e,t),this.onSaveButtonPress=()=>{const{editableHomeHubs:e,removedHomeHubIDs:t}=this.state,a=e.reduce((e,a)=>(a.id in t||e.push(a.id),e),[]);this.props.onReorderHomeHubs({isUserInitiated:!0,homeHubIDs:a.concat(this.props.hiddenHomeHubIDs)}),this.props.onModalClose()},this.onCancelButtonPress=()=>{this.props.onModalClose()},this.onBackButtonPress=()=>{const e=Xz(this.state.editableHomeHubs.length?1:2);this.setState(e)},this.onResetCustomizationLinkPress=()=>{const e=Xz(3);this.setState(e)},this.onToggleRemoveHomeHub=e=>{const{removedHomeHubIDs:t}=this.state,a={...t};e in a?delete a[e]:a[e]=e,this.setState({removedHomeHubIDs:a})},this.onReorderHomeHub=({fromIndex:e,toIndex:t})=>{if(e===t)return;const{editableHomeHubs:a}=this.state;this.setState({editableHomeHubs:dz(a,e,t)})},this.onManageHomeAutomaticallyPress=()=>{this.setState(Xz(4))},this.onPreviousButtonPress=()=>{this.setState(Xz(1))},this.state=Jz(e)}static getDerivedStateFromProps(e,t){return e.homeHubs!==t.homeHubs?Jz(e):null}render(){const{settingsKey:e,onResetCustomization:t,onEnableAutoHomeHubs:a,onDisableAutoHomeHubs:n,onModalClose:i}=this.props,{editableHomeHubs:r,isEditing:s,isEmpty:o,isResettingCustomization:l,isManagedAutomatically:c,isManageAutomaticallyOptIn:d,removedHomeHubIDs:u}=this.state,p=V.a.prop("X-Plex-Product");return y.a.createElement(eN.a,{onModalClose:i},y.a.createElement(Jw.a,null,s||o||c?Object(Ce.default)("Edit Home Screen"):null,l?Object(Ce.default)("Reset Customization"):null,d?Object(Ce.default)("Manage Home Automatically?"):null),y.a.createElement(qw.a,{className:Zz.a.modalBody,innerClassName:Zz.a.innerModalBody,scrollDirection:iv.b},y.a.createElement("div",{className:Pe()(Zz.a.pane,o?null:Zz.a.isHidden)},y.a.createElement("p",null,Object(Ce.default)('Your home screen is currently empty. Click the "+" beside the title of any content row in a media source to add it to your home screen, or click "{buttonLabel}" below to reset your sidebar navigation and home screen layout to the default state, and revisit {productName} Setup.',{buttonLabel:Object(Ce.default)("Reset Customization"),productName:p}))),y.a.createElement("div",{className:Pe()(Zz.a.pane,Zz.a.editPane,s?null:Zz.a.isHidden)},y.a.createElement("p",null,Object(Ce.default)("Drag to reorder the content hubs shown on your home screen, or remove them entirely. Only hubs with content in them will be visible on your home screen.")),y.a.createElement("p",{className:Zz.a.centeredContainer},y.a.createElement(jI.a,{kind:ao.d,onPress:this.onManageHomeAutomaticallyPress},y.a.createElement(Hd.a,null)," ",Object(Ce.default)("Manage Home Automatically"))),s?y.a.createElement(Yz,{className:Zz.a.sortableServers,homeHubs:r,removedHomeHubIDs:u,onReorderHomeHub:this.onReorderHomeHub,onToggleRemoveHomeHub:this.onToggleRemoveHomeHub}):null),y.a.createElement("div",{className:Pe()(Zz.a.pane,l?null:Zz.a.isHidden)},y.a.createElement("p",null,Object(Ce.default)("You are about to reset your sidebar navigation and home screen layout to the default state. You’ll be redirected to the {productName} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",{productName:p}))),y.a.createElement("div",{className:Pe()(Zz.a.pane,d?null:Zz.a.isHidden)},y.a.createElement("p",null,Object(Ce.default)("Plex can use your pinned sources and other hints to provide home screen content that is valuable to you.  This will reset any home screen customization you have made.")),y.a.createElement("p",{className:Pe()(Zz.a.stackedButtonsContainer,Zz.a.centeredContainer)},y.a.createElement(Ih.a,{kind:ao.d,onPress:a},Object(Ce.default)("Let's do it!")))),y.a.createElement("div",{className:Pe()(Zz.a.pane,c?null:Zz.a.isHidden)},y.a.createElement("p",null,Object(Ce.default)("Plex is currently managing your home screen automatically.")),y.a.createElement("p",null,Object(Ce.default)("Plex uses your pinned sources and other hints to provide home screen content that is valuable to you. If you disable this setting, Plex will no longer be able to automatically suggest home screen content.")),y.a.createElement("p",{className:Pe()(Zz.a.stackedButtonsContainer,Zz.a.centeredContainer)},y.a.createElement(Ih.a,{kind:ao.d,onPress:i},Object(Ce.default)("Continue With Automatic"))),y.a.createElement("p",{className:Zz.a.centeredContainer},y.a.createElement(Ih.a,{onPress:n},Object(Ce.default)("Disable (Manually Manage)"))))),c?null:y.a.createElement(Zw.a,{className:Zz.a.footer},s?y.a.createElement(g.Fragment,{key:e},y.a.createElement(jI.a,{kind:ao.d,onPress:this.onResetCustomizationLinkPress},y.a.createElement(uz.a,{className:Zz.a.reloadIcon}),Object(Ce.default)("Reset Customization")),y.a.createElement(Ih.a,{className:Zz.a.splitButton,onPress:this.onCancelButtonPress},Object(Ce.default)("Cancel")),y.a.createElement(Ih.a,{className:Zz.a.button,"data-autofocus":!0,kind:ao.d,onPress:this.onSaveButtonPress},Object(Ce.default)("Save"))):null,o?y.a.createElement(y.a.Fragment,null,y.a.createElement(jI.a,{kind:ao.d,onPress:this.onResetCustomizationLinkPress},y.a.createElement(uz.a,{className:Zz.a.reloadIcon}),Object(Ce.default)("Reset Customization")),y.a.createElement(Ih.a,{className:Zz.a.splitButton,"data-autofocus":!0,kind:ao.d,onPress:this.onCancelButtonPress},Object(Ce.default)("Close"))):null,l?y.a.createElement(y.a.Fragment,null,y.a.createElement(Ih.a,{onPress:this.onBackButtonPress},Object(Ce.default)("Back")),y.a.createElement(Ih.a,{className:Zz.a.splitButton,"data-autofocus":!0,onPress:this.onCancelButtonPress},Object(Ce.default)("Cancel")),y.a.createElement(Ih.a,{kind:ao.a,onPress:t},Object(Ce.default)("Reset Customization"))):null,d?y.a.createElement(y.a.Fragment,null,y.a.createElement(Ih.a,{onPress:this.onPreviousButtonPress},Object(Ce.default)("Previous"))):null))}}var eU=$z;const tU=Object(he.a)(cz,ye,(e,t)=>{const a=[],n=[];return e.hubs.forEach(e=>{e.isHidden?n.push(e.id):a.push(e)}),{isAutoHomeHubsEnabled:t,homeHubs:a,hiddenHomeHubIDs:n,settingsKey:e.settingsKey}});var aU=Object(v.b)(tU,(function(e){return{onReorderHomeHubs(t){e(Object(VS.B)(t))},onResetCustomization(){e(Object(VS.N)())},onEnableAutoHomeHubs(){e(Object(VS.k)())},onDisableAutoHomeHubs(){e(Object(VS.i)())}}}))(eU);var nU=function(e){const{isOpen:t,onModalClose:a}=e;return y.a.createElement(Yw.a,{size:cc.b,isOpen:t,metricsPage:It.O,onModalClose:a},y.a.createElement(aU,{onModalClose:a}))};function iU(){const[e,t]=Object(g.useState)(!1),a=Object(v.d)(xm),n=Object(v.d)(Ot.a),i=Object(g.useCallback)(()=>{t(!e)},[e]),r=Object(g.useCallback)(()=>{t(!1)},[]);return a?y.a.createElement(fh,null):y.a.createElement(Jm,null,y.a.createElement(ik.a,null,y.a.createElement(cD.a,null,Object(Ce.default)("Home"))),y.a.createElement(WA,null,n?null:y.a.createElement(y.a.Fragment,null,y.a.createElement(lz,null,y.a.createElement(mk,{onPress:i})),y.a.createElement(rz,null)),y.a.createElement(fI,{listStyles:[Nt.a.Grid],selectedListStyle:Nt.a.Grid}),y.a.createElement(nU,{isOpen:e,onModalClose:r})))}var rU=a("oMNB");var sU=function(e){return Object(he.a)(DO.a,t=>e?t[e]:void 0)};var oU=Object(he.a)(kR,e=>!!e.session),lU=a("Fe9+"),cU=a.n(lU);function dU({isOpen:e,title:t,errorMessage:a,metricsPage:n,onModalClose:i}){return y.a.createElement(Et.a,{metricsPage:n},y.a.createElement(Wl,{isOpen:e,size:_e.Small,onModalClose:i},y.a.createElement(Yl,{onModalClose:i},y.a.createElement(nc,{className:cU.a.modalHeader},t),y.a.createElement(od,null,a))))}var uU=a("5kqZ"),pU=a.n(uU);function mU({className:e=pU.a.card,watchTogetherRoom:t,metadataItem:a,width:n,height:i,aspectRatio:r}){const[s,o]=Jt(),l=Object(v.c)(),c=ul(),d=Object(v.d)(oU),[u,p]=Wr(),{isOpen:m,onClose:h,onToggle:f}=ul(),b=Object(_r.a)(),{entityID:I,title:S,metadataItemError:E}=t,O=m||u,M=Object(g.useCallback)(()=>{E?c.onOpen():l(rU.b({watchTogetherRoomEntityID:I}))},[l,I,E,c]),C=Object(g.useCallback)(()=>{M(),h()},[M,h]),j=Object(g.useCallback)(()=>{l(oR.b({watchTogetherRoomEntityID:I})),h()},[l,I,h]),D=Object(g.useCallback)(()=>{c.onClose()},[c]);return y.a.createElement(Na,{className:e,style:{width:n,height:i},ref:p},a?y.a.createElement(ot.a,{className:pU.a.image,serverEntityID:s.entityID,providerEntityID:o.entityID,url:Yr(a,{aspectRatio:r}),width:n,height:i,component:at.a,allowSizeBracket:!0,preloadOnMount:!1,animateOnMount:!1}):y.a.createElement(bs,{className:pU.a.iconContainer,width:n,height:i},y.a.createElement(Zn.a,null)),y.a.createElement(Ss,{"aria-label":S,className:pU.a.link,hoverClassName:pU.a.hoveredLink,isHovered:u||m,onPress:M}),y.a.createElement(wd,{id:b,className:O?pU.a.moreButton:pU.a.hiddenMoreButton,isPending:!1,onPress:f}),y.a.createElement(Xs.a,{target:b,isOpen:m,onMenuClose:h},y.a.createElement(Js.a,{"aria-label":Object(Ce.default)("Join"),isDisabled:d||c.isOpen,onPress:C},Object(Ce.default)("Join")),y.a.createElement(Js.a,{"aria-label":Object(Ce.default)("Remove"),isDisabled:c.isOpen,onPress:j},Object(Ce.default)("Remove"))),y.a.createElement(dU,{isOpen:c.isOpen,title:Object(Ce.default)("Cannot access this item"),errorMessage:E,metricsPage:It.Bb,onModalClose:D}))}var hU=a("ID2g"),gU=a.n(hU);function yU({item:e,...t}){const a=Object(v.c)(),n=Cr(t),i=Object(v.d)(sU(null==e?void 0:e.metadataItem)),r=Object(g.useMemo)(()=>Ga({width:t.cellWidth,aspectRatio:16/9}),[t.cellWidth]),s=Object(g.useMemo)(()=>e?Object(Cm.a)(e.users.map(e=>e.title)):"",[e]),o=Object(g.useMemo)(()=>(null==i?void 0:i.source)?Object(Ia.a)(i.source):null,[null==i?void 0:i.source]);return Object(g.useEffect)(()=>{!e||e.isMetadataItemPopulated||e.metadataItemError||a(Object(oR.d)({watchTogetherRoomEntityID:e.entityID}))},[a,e]),!e||(null==e?void 0:e.isMetadataItemPending)?y.a.createElement("div",{style:n.style},y.a.createElement(La,{className:gU.a.card,style:r,index:t.cellIndex})):(null==e?void 0:e.isMetadataItemPopulated)&&i&&o?y.a.createElement($t,{machineIdentifier:o.serverIdentifier,providerIdentifier:o.providerIdentifier},y.a.createElement("div",{style:n.style},y.a.createElement(mU,{className:gU.a.card,watchTogetherRoom:e,metadataItem:i,width:r.width,height:r.height,aspectRatio:16/9}),y.a.createElement("div",{className:gU.a.title,title:e.title},e.title),y.a.createElement("div",{className:gU.a.secondaryTitle,title:s},s))):y.a.createElement("div",{style:n.style},y.a.createElement(mU,{className:gU.a.card,watchTogetherRoom:e,width:r.width,height:r.height,aspectRatio:16/9}),y.a.createElement("div",{className:gU.a.splitTitleContainer},y.a.createElement("span",{className:gU.a.splitLineTitle,title:e.title},e.title),y.a.createElement("span",{className:gU.a.splitLineSecondaryTitle,title:Object(Ce.default)("No Access")},Object(Ce.default)("No Access"))),y.a.createElement("div",{className:gU.a.secondaryTitle,title:s},s))}function fU(){return y.a.createElement(Ip,{hub:{attribution:cp.WatchTogether}},Object(Ce.default)("Watch Together"))}const bU={source:"watchTogether",sourceURI:"watch-together"};function vU({hubLayoutOptions:e,className:t,hubHeaderClassName:a}){const n=Object(v.c)(),i=Object(v.d)(kR),r=Object(v.d)(RR),s=Object(v.d)(Fu),o=ul(),{sessionError:l}=i,c=Object(g.useMemo)(()=>Eu({listType:Nt.b.Mixed,listStyle:Nt.a.Hero,columnWidth:s,titleCount:2,...e}),[s,e]),d=Object(g.useCallback)(()=>{n(rU.c())},[n]);Object(g.useEffect)(()=>{l?o.onOpen():o.isOpen&&o.onClose()},[o,l]);const u=Object(g.useCallback)(e=>y.a.createElement(yU,{...e}),[]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(Bu,{className:t,hubHeaderClassName:a,hub:bU,hubTitleComponent:fU,keyPropName:"id",items:r,totalSize:r.length,layout:c,cellComponentFactory:u}),y.a.createElement(dU,{isOpen:o.isOpen,title:Object(Ce.default)("Watch Together session error"),errorMessage:l,metricsPage:It.Bb,onModalClose:d}))}var IU=a("3Fxl"),SU=a.n(IU);function EU(e){return!!e&&e<=Date.now()-864e5}function OU(){const e=Object(v.c)(),t=Object(v.d)(fR),a=Object(v.d)(VR),n=Object(v.d)(FR),i=Object(v.d)(HR),r=Object(v.d)(lR),s=Object(v.d)(uR),o=Object(v.d)(AR),l=Object(v.d)(zR),c=Object(v.d)(wR);let d=0;l&&d++,c&&d++;const u=Object(g.useRef)(new Set),[p,m]=Object(g.useState)(!1),{isPending:h,isPopulated:f,isUnavailable:b,isError:I,isEmpty:S,hasNoPinnedSources:E}=Object(v.d)(QR),O=Object(g.useCallback)(e=>{u.current.add(e),n.length&&n.every(e=>u.current.has(e))&&m(!0)},[n]);Nl({mode:iR.Auto},!h);const{scrollRestoreProps:M,onScrollPositionReady:C}=ia({key:"HomePage"});return Object(g.useEffect)(()=>{p&&C()},[p,C]),Object(g.useEffect)(()=>{EU(i)&&e(TR.actions.reset())},[e,i]),Object(g.useEffect)(()=>{e(TR.actions.populateAllRequested({hubsSources:t,hubsStates:a,userServices:s}))},[e,t,a,s]),Object(g.useEffect)(()=>()=>{e(TR.actions.markStaleRequested())},[e]),Object(g.useEffect)(()=>{const t=()=>{"visible"===document.visibilityState&&EU(i)&&e(TR.actions.reset())};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}},[e,i]),Object(g.useEffect)(()=>{e(Object(oR.g)())},[e]),y.a.createElement(ca,{allowBackgroundLightPreset:!0,scrollDirection:Ie.None},y.a.createElement(iU,null),h?y.a.createElement(Re,null,y.a.createElement(Ge,null)):null,f?y.a.createElement(Dp,{className:SU.a.homePageContentScroller,...M},l?y.a.createElement(vU,null):null,c?y.a.createElement(CR,{metricsRow:l?1:0,onHomeHubsReady:O}):null,t.map(e=>n.includes(e.key)?y.a.createElement(tz,{key:e.key,hubsSource:e,metricsRowOffset:d,onHomeHubsReady:O}):null)):null,b?y.a.createElement(ze,{title:Object(Ce.default)("No content available"),description:Object(Ce.default)("Check your network connection and verify that any media servers are online.")}):null,I?y.a.createElement(ze,{title:Object(Ce.default)("Something went wrong"),description:Object(Ce.default)("There was an error loading your home screen. Please try again in a few minutes.")}):null,S&&!r?y.a.createElement(Re,{iconSrc:String(sR.a),title:Object(Ce.default)("Your home screen is currently empty"),description:Object(Ce.default)("There's no content to display based on your currently pinned sources. You can always pin additional sources to your sidebar.")}):null,S&&r?y.a.createElement(Re,{iconSrc:String(sR.a),title:Object(Ce.default)("No content available"),description:Object(Ce.default)("Kindly ask the Plex Home admin to share content with you.")}):null,E&&o?y.a.createElement(Re,{iconSrc:String(sR.a),title:Object(Ce.default)("Your home screen is empty"),description:Object(Ce.default)("Your home screen is based on sources pinned to your sidebar. Choose a source from the More menu and pin it to see its content here.")}):null,!E||o||r?null:y.a.createElement(Re,{iconSrc:String(sR.a),title:Object(Ce.default)("Add your media to Plex"),description:Object(Ce.default)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},y.a.createElement(ba,{to:up.d,kind:da.Primary,size:_e.Large,target:"_self"},Object(Ce.default)("Get Plex Media Server"))),E&&!o&&r?y.a.createElement(Re,{iconSrc:String(sR.a),title:Object(Ce.default)("No content available"),description:Object(Ce.default)("Kindly ask the Plex Home admin to share content with you.")}):null)}const MU=e=>e.isPopulated||e.error,CU=Object(he.a)(e=>e.ui.homePage,e=>{const{homeHubStatuses:t,isContentPopulated:a}=e;return a||t.length>0&&t.every(MU)});var jU=Object(he.a)(e=>e.ui.homePage,cz,CU,(e,t,a)=>{const{isProviderPromotedContentPopulated:n,preferredServerContentError:i,providerPromotedContentError:r}=e,{preferredServerID:s,hasSeededPreferredServerContent:o,hasSeededProviderPromotedContent:l}=t,c=!!s,d=o||!!i,u=l||n||!!r,p=c&&!d,m=!u,h=(!c||d)&&u&&!a;return{isPending:h||p||m,isContentPopulated:a,shouldFetchHomeContent:h,shouldFetchPreferredServerContent:p,shouldFetchProviderPromotedContent:m}});const DU=Object(he.a)(Gk,e=>e.isResourcesPopulated),PU=Object(he.a)(Gk,e=>e.hasFailedResources);var TU=Object(he.a)(DU,PU,Object(kt.a)("isProvidersPopulated"),Object(kt.a)("providersError"),(e,t,a,n)=>t||!!n||e&&a),wU=a("EjF/");var NU=Object(he.a)(wU.a,TU,(e,t)=>{const a=e.some(e=>{if(!e.provider||!e.provider.isPopulated)return!1;return!!Object(lo.a)(e.provider)});return t&&!a});function xU(e){return!e.user.isFullUser}var AU=a("Zl7H");var LU=function(e,t){return e.then((function(...e){const a=h.a.Deferred();return window.setTimeout(()=>a.resolve(...e),t),a.promise()}))},kU=a("ydjH"),RU=a("Q0ne"),zU=a("EPph"),UU=a("m1uq"),VU=a("m6m+"),BU=a("r0xy"),FU=a("+0Fo"),HU=a("8A8b");function _U(e){const{directoryKey:t,server:a,provider:n,options:i,onlyPromoted:r=!1}=e,s={...i,count:1,persistInCache:!1,skipCache:!0},o={directoryKey:t,hubModels:[]};return Object(HU.b)({hubKey:t,server:a,provider:n,options:s}).fetch().then(e=>e.reduce((e,t)=>((!r||r&&t.get("promoted"))&&e.hubModels.push(t),e),o),()=>o)}var WU=a("GsoU");function QU(e){const t=e.reduce((e,t,a)=>{const n=t.get("server").get("machineIdentifier"),i=t.get("provider").get("identifier"),r=t.get("directoryKey"),s=`${n}--${i}--${r}`;return e[s]||(e[s]={directoryKey:r,identifier:i,homeHubIDs:[],machineIdentifier:n}),e[s].homeHubIDs.push(t.get("id")),e},{});return Object.values(t)}var GU=a("s4ry");const KU=Object(yo.a)("home/initHomePage"),YU=Object(yo.a)("home/fetchHomeContent"),qU=Object(yo.a)("home/fetchHomeHubs"),ZU=Object(yo.a)("home/fetchPreferredServerContent"),XU=Object(yo.a)("home/fetchProviderPromotedContent"),JU=Object(yo.a)("home/resetHomePage"),$U=Object(yo.a)("home/updateHomeHubsStatus");function eV(e){return e.get("user").get("experienceSettings").get("homeSettings")}function tV(e){return e.get("ui").get("homePage")}let aV,nV=[];const iV={"home/initHomePage"(e,t,a){const n=eV(e).get("hubs");wl.a.startPeriod("client:view:"+It.O),QU(n).forEach(e=>{const{identifier:t,homeHubIDs:n,machineIdentifier:i}=e,r={skipCache:!0},s=new zU.e({machineIdentifier:i},r),o=new pR.b({identifier:t},{...r,server:s});a($U({homeHubIDs:n,status:{provider:o.entityID(),server:s.entityID()}})),o.uninitialize(),s.uninitialize()})},"home/resetHomePage"(e,t){nV.forEach(e=>e.cancel()),nV=[],aV=window.clearTimeout(aV),tV(e).restoreDefaults()},"home/updateHomeHubsStatus"(e,t){const{homeHubIDs:a,status:n}=t;tV(e).get("homeHubStatuses").set(a.map(e=>({...n,homeHubID:e})),{remove:!1})},"home/fetchHomeHubs"(e,t,a){const{homeHubIDs:n,fetchDelayMS:i,options:r}=t,s=eV(e).get("hubs"),o=s.get(n[0]),l=o.get("server").get("machineIdentifier"),c=o.get("provider").get("identifier"),d=o.get("directoryKey");a($U({homeHubIDs:n,status:{error:null,isPending:!0,isPopulated:!1}}));let u=e.get("servers").findServer(l).then(e=>e.get("isOutOfDate")?h.a.Deferred().reject(e).promise():e.get("isPending")?Object(UU.a)({eventSource:e,events:["change:isPending"]}):h.a.Deferred().resolve(e).promise());u=u.then(t=>{const a=t.get("isCloud")?Object(GI.o)(e):t;return Object(VU.a)(a.get("providers"),{identifier:c})}),i>0&&(u=LU(u,i)),u=u.then(t=>Object(HU.b)({hubKey:d,server:t.server,provider:t,options:{...r,...Object(WU.a)(e)}}).fetch());const p=Object(kU.a)(u);nV.push(p),p.promise.then(e=>{n.forEach(t=>{const n=s.get(t);if(!n)return;const i={isPending:!1},r=e.findWhere({hubIdentifier:n.get("hubIdentifier")});r?(n.set("title",r.get("title")),i.isPopulated=!0,i.hub=r,i.provider=e.provider.entityID(),i.server=e.provider.server.entityID()):(i.error={isContentUnavailable:!0},C.a.warn("[Home] home/fetchHomeHubs: missing",n)),a($U({homeHubIDs:[t],status:i}))})},({isCanceled:e}={})=>{e||a($U({homeHubIDs:n,status:{isPending:!1,error:{}}}))})},"home/fetchHomeContent":Object(FU.a)({key:"content",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,a){const n=eV(e).get("hubs"),i=h.a.Deferred();return n.length?(QU(n).forEach(e=>{a(qU({homeHubIDs:e.homeHubIDs}))}),aV=window.clearTimeout(aV),aV=window.setTimeout(i.resolve,1e3),i.promise()):i.resolve().promise()}}),"home/fetchPreferredServerContent":Object(FU.a)({key:"preferredServerContent",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,a){const n=eV(e),i={identifier:qr.d},r=n.get("preferredServerID");let s=e.get("servers").findServer(r);return s=s.then(e=>Object(VU.a)(e.get("providers"),i)),s=s.then(a=>_U({directoryKey:a.get("features").get(nS.m).get("key"),server:a.server,provider:a,options:{...t.options,...Object(WU.a)(e)}})),s.then(e=>{const{directoryKey:t,hubModels:n}=e,i=n.map(e=>({directoryKey:t,model:e}));a(Object(VS.H)({hubs:i}))},()=>h.a.Deferred().reject({}).promise())}}),"home/fetchProviderPromotedContent":Object(FU.a)({key:"providerPromotedContent",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,a){const n={type:nS.m},i=e.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources"),r=Object(GI.o)(e).get("providers"),s=r.map(e=>Object(BU.a)(e)),o=e.get("user").toJSON(),l=Object(Bs.a)(o.features,o.services);return Object(RU.a)(s).then(()=>{const e=r.reduce((e,t)=>{if(!t.get("isPopulated"))return e;if(!i.findWhere({providerIdentifier:t.get("identifier"),machineIdentifier:t.server.get("machineIdentifier")}))return e;const a=t.get("features").findWhere(n);return a&&Object(No.a)(l,a.toJSON())&&e.push(a),e},[]);return Object(RU.a)(e.map(e=>_U({directoryKey:vI.a,server:e.server,provider:e.provider,options:t.options||{},onlyPromoted:!0})))}).then((...e)=>{const t=e.reduce((e,t)=>{const{directoryKey:a,hubModels:n}=t;return e.push(...n.map(e=>({directoryKey:a,model:e}))),e},[]);a(Object(VS.I)({hubs:t}))},()=>h.a.Deferred().reject({}).promise())}}),[VS.a](e,t){e.get("ui").get("homePage").restoreDefaults()},[eS.a](e,t,a){const n=tV(e).get("homeHubStatuses").reduce((e,t)=>{const a=t.get("hub");return a?e.concat(a):e},[]);n.count=HU.a,Object(GU.a)({actionCreator:Zb.j,dispatch:a,hubs:n,serverModel:Object(GI.m)(e,t)})}};var rV=a("UNAp");var sV=function(){return y.a.createElement(qk.a,{iconSrc:sR.a,title:Object(Ce.default)("No content available"),description:Object(Ce.default)("Kindly ask the Plex Home admin to share content with you.")})};var oV=Object(he.a)(fe.a,e=>e.hasDismissedServerDownloadMessage);var lV=function(e){const{hasDismissedServerDownloadMessage:t,dispatchSaveDeviceSettings:a}=e,n=Object(g.useCallback)(()=>{a({hasDismissedServerDownloadMessage:!0})},[a]);return y.a.createElement(qk.a,{iconSrc:sR.a,title:Object(Ce.default)("Add your media to Plex"),description:Object(Ce.default)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},y.a.createElement(Ih.a,{to:up.d,kind:ao.d,size:cc.a,target:"_self"},Object(Ce.default)("Get Plex Media Server")),t?null:y.a.createElement($v.a,null,y.a.createElement(jI.a,{kind:ao.d,size:cc.c,to:"#",onPress:n},Object(Ce.default)("Don't show this in my Pinned Sources sidebar"))))};const cV=Object(he.a)(oV,e=>({hasDismissedServerDownloadMessage:e})),dV={dispatchSaveDeviceSettings:ta.B};var uV=Object(v.b)(cV,dV)(lV);const pV=Object(bO.a)(Object(he.a)(cz,({hubs:e})=>e),e=>e);var mV=Object(he.a)(pV,e=>e.map(e=>e.id));var hV=a("5cL8");function gV(e,t=XO.e){switch(e){case"home.continue":return XO.a;case"home.newscast":return XO.i;case"home.recommended":return XO.p;case"home.watchTogether":return XO.s;default:return t}}function yV(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-home-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M84 448V291.598a28 28 0 0 1 8.201-19.799L280 84l187.799 187.799A28 28 0 0 1 476 291.598V448c0 15.464-12.536 28-28 28H322V336h-84v140H112c-15.464 0-28-12.536-28-28z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}yV.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var fV=yV,bV=a("Rhig"),vV=a.n(bV);class IV extends g.Component{constructor(e,t){super(e,t),this.onPress=()=>{const{isHomeHub:e,shouldConfirmHomeHubRemoval:t,onToggleHomeHub:a}=this.props;e&&t?this.setState({isRemoveConfirmModalOpen:!0}):a()},this.onRemoveHomeHubConfirm=()=>{this.setState({isRemoveConfirmModalOpen:!1},this.props.onToggleHomeHub)},this.onRemoveHomeHubCancel=()=>{this.setState({isRemoveConfirmModalOpen:!1})},this.onFocus=e=>{this.setState({isFocused:!0})},this.onBlur=e=>{this.setState({isFocused:!1})},this.onMouseEnter=e=>{this.setState({isEntered:!0})},this.onMouseLeave=e=>{this.setState({isEntered:!1})},this.state={isEntered:!1,isFocused:!1,isRemoveConfirmModalOpen:!1}}render(){const{allowHomeHubIndicator:e,className:t,isHomeHub:a,isVisible:n,shouldConfirmHomeHubRemoval:i}=this.props,{isEntered:r,isFocused:s,isRemoveConfirmModalOpen:o}=this.state,l=a&&e,c=r||s;return y.a.createElement("div",{className:Pe()(t,n||c?vV.a.isVisible:vV.a.isHidden)},l?y.a.createElement(fV,{className:Pe()(vV.a.icon,l&&!c?vV.a.isVisible:vV.a.isHidden)}):null,y.a.createElement(Cz,{className:Pe()(vV.a.button,!l||c?vV.a.isVisible:vV.a.isHidden),isMonochrome:!0,isRemovable:a,tooltip:a?Object(Ce.default)("Remove from Home"):Object(Ce.default)("Add to Home"),onPress:this.onPress,onFocus:this.onFocus,onBlur:this.onBlur,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),i?y.a.createElement(Xc.a,{isOpen:o,metricsPage:"",title:Object(Ce.default)("Remove From Home"),message:Object(Ce.default)("Please confirm you'd like to remove this content from your home screen. You can add it back later if you change your mind."),onConfirm:this.onRemoveHomeHubConfirm,onCancel:this.onRemoveHomeHubCancel}):null)}}IV.defaultProps={className:vV.a.container,shouldConfirmHomeHubRemoval:!1};var SV=IV;function EV(){return Object(he.a)((e,{hubEntityID:t})=>t,fz,(e,t)=>t[e])}var OV=a("wt2f");function MV(){return Object(he.a)(Object(he.a)(cz,vh.b,bh.b,EV(),(e,t,a,n)=>{if(!(n&&a&&t&&e.hubs))return;const i=OV.a(n,a,t);return e.hubs.find(e=>e.id===i)}),e=>!!e)}const CV=/^(?:(?:[a-zA-Z]+)(?:\.)?)+(?:\.[0-9]+){2}$/;const jV={dispatchAddHomeHubs:VS.c,dispatchRemoveHomeHubs:VS.y};class DV extends g.Component{constructor(){super(...arguments),this.onAddHomeHub=()=>{const{dispatchAddHomeHubs:e,directoryKey:t,hubEntityID:a}=this.props;e({isUserInitiated:!0,hubs:[{directoryKey:t,entityID:a}]})},this.onRemoveHomeHub=()=>{const{dispatchRemoveHomeHubs:e,homeHubID:t,hubEntityID:a}=this.props,n=[];t?n.push({homeHubID:t}):a&&n.push({entityID:a}),e({isUserInitiated:!0,hubs:n})},this.onToggleHomeHub=()=>{const{canAddHomeHub:e,canRemoveHomeHub:t}=this.props;t?this.onRemoveHomeHub():e&&this.onAddHomeHub()}}render(){const{canAddHomeHub:e,canRemoveHomeHub:t,component:a,directoryKey:n,dispatchAddHomeHubs:i,dispatchRemoveHomeHubs:r,hubEntityID:s,isHomeHub:o,...l}=this.props;return e||t?y.a.createElement(a,{...l,isHomeHub:o,onAddHomeHub:this.onAddHomeHub,onRemoveHomeHub:this.onRemoveHomeHub,onToggleHomeHub:this.onToggleHomeHub}):null}}var PV=Object(v.b)((function(){return Object(he.a)((e,{directoryKey:t})=>t,(e,{homeHubID:t})=>t,EV(),MV(),(e,t,a,n)=>{const i=!!a&&"directory"!==a.type;return t?{isHomeHub:!0,canAddHomeHub:!1,canRemoveHomeHub:!0}:{isHomeHub:n,canAddHomeHub:(r=a.hubIdentifier,!CV.test(r)&&i&&!n&&!!e),canRemoveHomeHub:i&&n};var r})}),jV)(DV),TV=a("O+qT"),wV=a.n(TV);class NV extends g.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hasMouseEntered:!0})},this.onMouseLeave=e=>{this.setState({hasMouseEntered:!1})},this.state={hasMouseEntered:!1}}render(){const{allowPersistentHomeHubStatus:e,allowToggleHomeHub:t,children:a,className:n,isHomeHub:i,...r}=this.props,{hasMouseEntered:s}=this.state;return y.a.createElement("div",{className:n,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},t?y.a.createElement(PV,{...r,component:SV,isHomeHub:i,isVisible:s||e&&i}):null,a)}}NV.defaultProps={className:wV.a.hubCellHeader};var xV=NV,AV=a("gxMp"),LV=a.n(AV);function kV({children:e,className:t}){return y.a.createElement("div",{className:t,"data-qa-id":"hubTitle"},e)}kV.defaultProps={className:LV.a.hubCellTitle};var RV=kV;var zV=function(e){const{onModalClose:t}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Jw.a,null,Object(Ce.default)("Down for Maintenance")),y.a.createElement(qw.a,null,Object(Ce.default)("Plex is down for maintenance. Don't worry, it will be back soon.")),y.a.createElement(Zw.a,null,y.a.createElement(Ih.a,{to:up.m,"data-autofocus":!0,target:"_blank",kind:ao.d,onPress:t},"status.plex.tv")))};var UV=function(e){const{onModalClose:t}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Jw.a,null,Object(Ce.default)("Content is Unavailable")),y.a.createElement(qw.a,null,Object(Ce.default)("The content provider is working normally but did not return content. The content may no longer be available.")),y.a.createElement(Zw.a,null,y.a.createElement(Ih.a,{"data-autofocus":!0,kind:ao.d,onPress:t},Object(Ce.default)("Okay"))))},VV=a("E3/3"),BV=a.n(VV);var FV=function(e){const{friendlyName:t,sourceTitle:a,onModalClose:n,onReloadHttpPress:i,onReloadHttpAlwaysPress:r}=e,s=a?[Object(Ce.default)("{owner}'s server does not allow secure connections.",{owner:a})]:[Object(Ce.default)('The server "{serverName}" does not allow secure connections.',{serverName:t})];return s.push(Object(Ce.default)("To see content from this server, you can try allowing insecure connections to reload the web app insecurely.")),y.a.createElement(y.a.Fragment,null,y.a.createElement(Jw.a,null,Object(Ce.default)("Server Unreachable")),y.a.createElement(qw.a,null,s.join(" "),y.a.createElement("br",null),y.a.createElement(jI.a,{to:up.i,target:"_blank",kind:ao.d,onPress:n},Object(Ce.default)("Learn more"))),y.a.createElement(Zw.a,null,y.a.createElement(Ih.a,{kind:ao.a,className:BV.a.button,onPress:r},Object(Ce.default)("Allow always")),y.a.createElement(Ih.a,{className:BV.a.button,"data-autofocus":!0,kind:ao.a,onPress:i},Object(Ce.default)("Allow once"))))};var HV=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),e=>({friendlyName:e.friendlyName,sourceTitle:e.sourceTitle}))}),(function(e){return{onReloadHttpPress(t){e(Object(HI.h)())},onReloadHttpAlwaysPress(t){e(Object(HI.g)()),e(Object(HI.h)())}}}))(FV);var _V=function(e){const{friendlyName:t,isInstallingServerUpdate:a,isOutOfDate:n,isUnauthorized:i,isUnavailable:r,onModalClose:s}=e,o=[];let l=Object(Ce.default)("Server is Unavailable");return a?o.push(Object(Ce.default)('The server "{serverName}" is installing an update.',{serverName:t}),Object(Ce.default)("Grab a cup of tea. This may take a couple of minutes.")):n?(l=Object(Ce.default)("Update Required"),o.push(Object(Ce.default)('The server "{serverName}" is out of date.',{serverName:t}),Object(Ce.default)("This version of Plex requires Plex Media Server {version} or higher.",{version:"1.15.2"}))):i?o.push(Object(Ce.default)("No soup for you!"),Object(Ce.default)("You do not have access to this server.")):r&&o.push(Object(Ce.default)('The server "{serverName}" is unavailable.',{serverName:t}),Object(Ce.default)("Plex will automatically try to reconnect to this server.")),y.a.createElement(y.a.Fragment,null,y.a.createElement(Jw.a,null,l),y.a.createElement(qw.a,null,o.join(" ")),y.a.createElement(Zw.a,null,y.a.createElement(Ih.a,{className:BV.a.button,"data-autofocus":!0,kind:ao.d,onPress:s},Object(Ce.default)("Okay"))))};var WV=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),e=>({friendlyName:e.friendlyName,isInstallingServerUpdate:e.isInstallingServerUpdate,isOutOfDate:e.isOutOfDate,isUnauthorized:e.isUnauthorized,isUnavailable:e.isUnavailable,sourceTitle:e.sourceTitle}))}))(_V);var QV=function(e){const{onModalClose:t}=e,a=[Object(Ce.default)("There was an unexpected error."),Object(Ce.default)("Please visit our forums if you continue to experience problems.")];return y.a.createElement(y.a.Fragment,null,y.a.createElement(Jw.a,null,Object(Ce.default)("Content is Unavailable")),y.a.createElement(qw.a,null,a.join(" "),y.a.createElement("br",null),y.a.createElement(jI.a,{to:up.c,target:"_self",kind:ao.d,onPress:t},Object(Ce.default)("Go to Forums"))),y.a.createElement(Zw.a,null,y.a.createElement(Ih.a,{className:BV.a.button,"data-autofocus":!0,kind:ao.d,onPress:t},Object(Ce.default)("Okay"))))};var GV=function(e){const{onModalClose:t}=e,a=[Object(Ce.default)("The server associated with this content is no longer accessible."),Object(Ce.default)("You can safely remove this content.")];return y.a.createElement(y.a.Fragment,null,y.a.createElement(Jw.a,null,Object(Ce.default)("Unknown Server")),y.a.createElement(qw.a,null,a.join(" ")),y.a.createElement(Zw.a,null,y.a.createElement(Ih.a,{className:BV.a.button,"data-autofocus":!0,kind:ao.d,onPress:t},Object(Ce.default)("Okay"))))};var KV=function(e){const{isOpen:t,serverEntityID:a,shouldShowDownForMaintenance:n,shouldShowInsecureFallbackChoice:i,shouldShowHubStatus:r,shouldShowServerStatus:s,shouldShowUnexpectedError:o,shouldShowUnrecognized:l,onModalClose:c}=e;return y.a.createElement(Yw.a,{size:cc.c,isOpen:t,metricsPage:It.O,onModalClose:c},y.a.createElement(eN.a,{onModalClose:c},n?y.a.createElement(zV,{onModalClose:c}):null,r?y.a.createElement(UV,{onModalClose:c}):null,i?y.a.createElement(HV,{serverEntityID:a,onModalClose:c}):null,s?y.a.createElement(WV,{serverEntityID:a,onModalClose:c}):null,o?y.a.createElement(QV,{onModalClose:c}):null,l?y.a.createElement(GV,{onModalClose:c}):null))};var YV=Object(v.b)((function(){return Object(he.a)(gz(),vz(),(e,t)=>{const{error:a,server:n}=e,i={};if(a&&a.isContentUnavailable)i.shouldShowHubStatus=!0;else if(t){const{isDownForMaintenance:e,isHostedHttps:a,isInstallingServerUpdate:r,isOutOfDate:s,isUnavailable:o,isUnauthorized:l,hasHttpsConnections:c}=t;i.serverEntityID=n,e?i.shouldShowDownForMaintenance=!0:o&&a&&!c?i.shouldShowInsecureFallbackChoice=!0:(o||l||r||s)&&(i.shouldShowServerStatus=!0)}else i.shouldShowUnrecognized=!0;return i.shouldShowHubStatus||i.shouldShowDownForMaintenance||i.shouldShowInsecureFallbackChoice||i.shouldShowServerStatus||i.shouldShowUnrecognized||(i.shouldShowUnexpectedError=!0),i})}))(KV),qV=a("Nb++");function ZV(e){const{cellWidth:t,aspectRatio:a,titleHeight:n=0}=e;return Math.floor(t/a+n)}function XV(e,t){const{innerViewportWidth:a,innerHorizontalPadding:n=0}=t;return Math.floor((a+n)/e)-n}function JV(e){const{innerViewportWidth:t,innerHorizontalPadding:a=0,preferredCellWidth:n,minCellWidth:i,minColumns:r=1,maxColumns:s=1/0,columnAdjustment:o=0}=e;let l=Math.round((t+a)/(n+a));l+=o,l=Math.max(Math.min(l,s),r);let c=XV(l,e);return c<i&&(c=l===r?i:XV(l-1,e)),c}function $V(e){return e===XO.a||e===XO.i||e===XO.s}function eB({type:e,aspectRatio:t,titleCount:a,context:n}){const i=parseInt(yu.a.posterTitleHeight,10);let r,s,o,l,c,d=parseInt(yu.a.posterTitlePadding,10);$V(n)?(r=Math.max(2,a-1),s=300,o=200,c=2,l=6,d*=2):(r=e===lA.g?a+3:a,o=t>1?180:80,s=t>1?240:120,c=t>1?2:3,l=t>1?8:11);return{titleHeight:r?r*i+d:0,minCellWidth:o,preferredCellWidth:s,minColumns:c,maxColumns:l}}const tB={};function aB(e,t,a,n=0,i=0){const r=e+(t||"")+a+n+i;if(tB.hasOwnProperty(r))return tB[r];const s=Object(eM.d)(e,t,a),{titleHeight:o,minCellWidth:l,preferredCellWidth:c,minColumns:d,maxColumns:u}=eB({type:e,aspectRatio:s,titleCount:i,context:a}),p=Object(qV.c)({direction:qV.a,rows:1,overscan:0,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:e=>JV({...e,preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:n}),getCellHeight:e=>ZV({...e,aspectRatio:s,titleHeight:o})});return p.cellOptions={preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:n,aspectRatio:s,titleHeight:o},tB[r]=p,p}var nB=function(e){const{className:t,tabIndex:a,route:n,tag:i}=e;return i?n?y.a.createElement(jI.a,{"data-qa-id":"castTitle",className:t,tabIndex:a,title:i,to:n},i):y.a.createElement("span",{className:t,title:i},i):null};var iB=function({className:e,role:t}){return y.a.createElement("span",{className:e,title:t},t)};var rB=function(e){const{className:t,sourceTitle:a}=e;return a?y.a.createElement("span",{className:t},Object(Ce.default)("from {sourceTitle}",{sourceTitle:a})):null};var sB=Object(v.b)((function(){return Object(he.a)(vh.b,bh.b,oM.a,sM.a,(e,t,a,n)=>e&&a&&e.machineIdentifier!==a.machineIdentifier?{sourceTitle:a.sourceTitle||a.friendlyName}:{})}))(rB),oB=a("sB/z"),lB=a.n(oB);var cB=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),e=>({attributionLogo:e.attributionLogo}))}))((function(e){const{attributionLogo:t,className:a}=e;return t?y.a.createElement("span",{className:a},y.a.createElement("img",{className:lB.a.img,src:t})):null}));var dB=function({className:e,tabIndex:t,parentTitle:a,parentRoute:n}){return y.a.createElement(lM.a,{className:e,tabIndex:t,title:a,route:n})};var uB=Object(BI.a)((function(){return Object(he.a)((e,{metricsContext:t})=>t,oM.a,sM.a,Object(YO.a)(),(e,t,a,n={})=>{const i={};return e&&(i.context=e),{parentTitle:n.parentTitle,parentRoute:Object(Ka.a)(t,a,n.parentKey,i)}})}))(dB);function pB(e,t){const a=Math.abs(Date.now()-1e3*e);return a<36e5?window.setTimeout(t,6e4):a<864e5?window.setTimeout(t,36e5):void 0}class mB extends g.Component{constructor(e,t){super(e,t),this.trackTime=()=>{const{timestamp:e}=this.props,t=Object(Ja.a)(e);this.setState({title:t}),this.timeoutID=pB(e,this.trackTime)};const{timestamp:a}=this.props,n=Object(Ja.a)(a);this.state={title:n},this.timeoutID=pB(a,this.trackTime)}componentWillReceiveProps(e){if(e.timestamp!==this.props.timestamp){const t=Object(Ja.a)(e.timestamp);this.setState({title:t})}}componentWillUnmount(){this.timeoutID&&(this.timeoutID=window.clearTimeout(this.timeoutID))}render(){const{className:e}=this.props,{title:t}=this.state;return y.a.createElement("span",{className:e},t)}}var hB=mB;var gB=function({className:e,addedAt:t,title:a,route:n}){return t||a?y.a.createElement("span",{className:e},y.a.createElement(hB,{timestamp:t}),t&&a?" — ":null,y.a.createElement(lM.a,{title:a,route:n})):null};var yB=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>{const{addedAt:t,Channel:a}=e;return{addedAt:t,title:a&&a[0]&&a[0].tag}})}))(gB);var fB=function({className:e,addedAt:t}){return y.a.createElement(hB,{className:e,timestamp:t})};var bB=Object(v.b)((function(e,t){return Object(he.a)(Object(YO.a)(),(e={})=>({addedAt:e.addedAt}))}))(fB);var vB=Object(v.b)((function(){return Object(he.a)((e,{metricsContext:t})=>t,oM.a,sM.a,Object(YO.a)(),(e,t,a,n={})=>{const{addedAt:i,grandparentTitle:r,grandparentKey:s}=n,o={};return e&&(o.context=e),{addedAt:i,title:r,route:Object(Ka.a)(t,a,s,o)}})}))(gB),IB=a("OsFP");function SB(){return Object(he.a)(Object(YO.a)(),Object(IB.a)(),(e,t)=>{if(e&&t)return M.a.findWhere(e.Channel,{id:t.channelID})})}var EB=Object(v.b)((function(){return Object(he.a)(qO,Object(IB.a)(),SB(),(e,t,a)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:a&&a.tag,timeFormat:e}))}))(hN);var OB=function({className:e,leafCount:t}){let a;return null!=t&&(a=1===t?Object(Ce.default)("{trackCount} track",{trackCount:t}):Object(Ce.default)("{trackCount} tracks",{trackCount:t})),y.a.createElement("span",{className:e},a)};var MB=function({className:e,skipChildren:t,childCount:a,leafCount:n}){if(t)return y.a.createElement(OB,{className:e,leafCount:n});let i;return null!=a&&(i=1===a?Object(Ce.default)("{albumCount} album",{albumCount:a}):Object(Ce.default)("{albumCount} albums",{albumCount:a})),y.a.createElement("span",{className:e},i)};var CB=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount}))}))(MB),jB=a("eRZe"),DB=a.n(jB);var PB=function({className:e,attribution:t,...a}){return y.a.createElement("span",{className:e},y.a.createElement("div",{className:DB.a.container},y.a.createElement(Jn,{className:DB.a.badge,attribution:t}),y.a.createElement(mM,{className:DB.a.title,...a})))};var TB=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({attribution:e.attribution}))}))(PB),wB=a("eR/B"),NB=a.n(wB);var xB=function({className:e,attribution:t,year:a}){return y.a.createElement("span",{className:e},y.a.createElement("div",{className:NB.a.container},y.a.createElement(Jn,{className:NB.a.badge,attribution:t}),y.a.createElement(hM,{year:a,className:NB.a.title})))};var AB=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({attribution:e.attribution,year:e.year}))}))(xB);var LB=function({className:e,childCount:t,subtype:a}){let n;if(null!=t){const e=1===t,i={itemCount:t};n=a===wo.MOVIE?e?Object(Ce.default)("{itemCount} movie",i):Object(Ce.default)("{itemCount} movies",i):a===wo.SHOW?e?Object(Ce.default)("{itemCount} show",i):Object(Ce.default)("{itemCount} shows",i):e?Object(Ce.default)("{itemCount} item",i):Object(Ce.default)("{itemCount} items",i)}return y.a.createElement("span",{className:e},n)};var kB=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({childCount:e.childCount,subtype:e.subtype}))}))(LB),RB=a("cqnP");function zB(){return Object(he.a)(e=>e.ui,(e,{playerType:t})=>t,(e,t)=>e[t+"Player"])}function UB(e){return Object(he.a)(zB(),t=>t?t[e]:void 0)}var VB=Object(he.a)(yz.a,e=>e.liveTVSessions);function BB(){return Object(he.a)(VB,UB("liveTVSession"),(e,t)=>e[t])}function FB(){return Object(he.a)(BB(),e=>e&&e.currentPosition)}var HB=a("nxTK");var _B=Object(he.a)(e=>{var t;return null==(t=e.ui.channelGridPage)?void 0:t.metadataList},HB.a,DO.a,(e,t,a)=>{const n=t[e];return n&&n.metadataItems?n.metadataItems.map(e=>a[e]):[]});function WB(){return Object(he.a)(BB(),FB(),_B,(e,t,a)=>{if(!e||null===t)return;const n=e.channelIdentifier;for(let e=0;e<a.length;e++){const i=a[e];for(let e=0;e<i.Media.length;e++){const a=i.Media[e],{beginsAt:r,endsAt:s,channelIdentifier:o}=a;if(o===n&&r<=t&&s>t)return i}}})}function QB(){return Object(he.a)(WB(),FB(),BB(),(e,t,a)=>{if(!e||null===t||!a)return;const n=a.channelIdentifier;return e.Media.find(e=>{const{beginsAt:a,endsAt:i,channelIdentifier:r}=e;return r===n&&a<=t&&i>t})})}var GB=function(e){const{className:t,beginsAt:a,endsAt:n,timeFormat:i}=e,r=aM(a,n,{includeMinuteZero:!1,timeFormat:i});return y.a.createElement("span",{className:t},r)};var KB=Object(v.b)((function(){return Object(he.a)(qO,QB(),(e,t)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,timeFormat:e}))}))(GB);var YB=function({className:e,date:t}){return t?y.a.createElement("span",{className:e},Object(Xa.default)(t)):null};var qB=function({className:e,addedAt:t}){return t?y.a.createElement(YB,{className:e,date:1e3*t}):null};var ZB=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({addedAt:e.addedAt}))}))(qB);var XB=function({className:e,leafCount:t}){let a;return null!=t&&(a=1===t?Object(Ce.default)("{episodeCount} episode",{episodeCount:t}):Object(Ce.default)("{episodeCount} episodes",{episodeCount:t})),y.a.createElement("span",{className:e},a)};var JB=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({leafCount:e.leafCount}))}))(XB);function $B({className:e,index:t,longName:a,originallyAvailableAt:n}){const i=Object(Pi.a)({useLongName:a,episodeIndex:t,date:n,noLeadingZero:!0});return y.a.createElement("span",{className:e},i)}$B.defaultProps={longName:!0};var eF=$B;var tF=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({index:e.index,originallyAvailableAt:e.originallyAvailableAt}))}))(eF),aF=a("1Cr9");var nF=Object(aF.a)(["id","typeString"],[{id:1,typeString:"trailer",title:()=>Object(Ce.default)("Trailer")},{id:2,typeString:"deletedScene",title:()=>Object(Ce.default)("Deleted Scene")},{id:3,typeString:"interview",title:()=>Object(Ce.default)("Interview")},{id:4,typeString:"musicVideo",title:()=>Object(Ce.default)("Music Video")},{id:5,typeString:"behindTheScenes",title:()=>Object(Ce.default)("Behind the Scenes")},{id:6,typeString:"scene",title:()=>Object(Ce.default)("Scene")},{id:7,typeString:"liveMusicVideo",title:()=>Object(Ce.default)("Live Music Video")},{id:8,typeString:"lyricMusicVideo",title:()=>Object(Ce.default)("Lyric Music Video")},{id:9,typeString:"concert",title:()=>Object(Ce.default)("Concert")},{id:10,typeString:"featurette",title:()=>Object(Ce.default)("Featurette")},{id:11,typeString:"short",title:()=>Object(Ce.default)("Short")},{id:12,typeString:"other",title:()=>Object(Ce.default)("Other")}]);var iF=function({className:e,extraType:t}){var a=nF.get(t);return y.a.createElement("span",{className:e},a?a.title:"")};var rF=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({extraType:e.extraType}))}))(iF);const sF=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),Object(pM.a)(),(e={},t)=>({title:e.title,route:t}))}))(lM.a);sF.isDoubleLine=!0;var oF=sF;var lF=function({className:e,duration:t,viewOffset:a}){let n;if(t&&a){const e=(t-a)/1e3;e>0&&(n=jn(e))}return y.a.createElement("span",{className:e},n)};var cF=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({duration:e.duration,viewOffset:e.viewOffset}))}))(lF);var dF=function({className:e,duration:t}){return t?y.a.createElement("span",{className:e},Cn(t)):null};var uF=function({className:e,leafCount:t}){let a;return null!=t&&(a=1===t?Object(Ce.default)("{itemCount} item",{itemCount:t}):Object(Ce.default)("{itemCount} items",{itemCount:t})),y.a.createElement("span",{className:e},a)};var pF=function(e){const{className:t,playlistType:a,duration:n,leafCount:i}=e;return a===Ui.b?y.a.createElement(uF,{className:t,leafCount:i}):y.a.createElement(dF,{className:t,duration:n})};var mF=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({playlistType:e.playlistType,duration:e.duration,leafCount:e.leafCount}))}))(pF);var hF=function({className:e,skipChildren:t,childCount:a,leafCount:n}){if(t)return y.a.createElement(XB,{className:e,leafCount:n});if(!a)return null;const i=1===a?Object(Ce.default)("{seasonCount} season",{seasonCount:a}):Object(Ce.default)("{seasonCount} seasons",{seasonCount:a});return y.a.createElement("span",{className:e},i)};var gF=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount}))}))(hF);var yF=function({className:e,topics:t}){return t&&t.length?y.a.createElement("span",{className:e},t[0].tag):null};var fF=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),e=>({topics:e&&e.Topic}))}))(yF);var bF=function({className:e,tabIndex:t,skipParent:a,skipGrandparent:n,parentTitle:i,parentRoute:r,grandparentTitle:s,grandparentRoute:o}){return y.a.createElement("span",{className:e},n?null:y.a.createElement(lM.a,{tabIndex:t,title:s,route:o}),!i||a||n?null:y.a.createElement(Hi.b,null),a?null:y.a.createElement(lM.a,{tabIndex:t,title:i,route:r}))};var vF=Object(BI.a)((function(){return Object(he.a)((e,{metricsContext:t})=>t,(e,{skipGrandparent:t})=>t,oM.a,sM.a,Object(YO.a)(),(e,t,a,n,i={})=>{const r={};return e&&(r.context=e),{skipParent:i.skipParent,skipGrandparent:t,parentTitle:i.parentTitle,parentRoute:Object(Ka.a)(a,n,i.parentKey,r),grandparentTitle:i.originalTitle||i.grandparentTitle,grandparentRoute:Object(Ka.a)(a,n,i.grandparentKey,r)}})}))(bF);var IF=Object(he.a)(yz.a,e=>e.searchResults);function SF(){return Object(he.a)(IF,(e,{searchResultEntityID:t})=>t,(e,t)=>e[t])}function EF(e,t){const a=e.features.content;return a?wO(a.directories,t):null}var OF=a("mMyY");var MF=function(e){const{className:t,server:a,provider:n,sourceDirectory:i,originalTitle:r,reason:s,reasonID:o,reasonTitle:l,filter:c,librarySectionKey:d,librarySectionType:u,isV4DirectoryPagesEnabled:p,onPress:m}=e;if(!s)return null;if("originalTitle"===s)return y.a.createElement("span",{className:t},r);if(!l)return null;const h={},g="actor"===s||"director"===s;g&&(h.filters=c||`${s}=${o}`,h.filterLabel=l);const f=p?Object(ng.a)(a,n,i,{key:j.default.join([d,"all"],{type:u,[s]:g?o:void 0}),pageType:St.b.List}):Object(OF.a)(a,n,i,h),b={director:Object(Ce.default)("by"),actor:Object(Ce.default)("with"),section:Object(Ce.default)("in"),autotag:Object(Ce.default)("tagged"),place:Object(Ce.default)("in")};return f?y.a.createElement("span",{className:t},b[s]," ",y.a.createElement(jI.a,{title:l,tabIndex:"-1",to:f,onPress:m},l)):y.a.createElement("span",{className:t},`${b[s]} ${l}`)};var CF=Object(v.b)((function(){return Object(he.a)(vh.b,bh.b,SF(),Object(YO.a)(),Ee,(e,t,a={},n,i)=>{const r=n||a.tagItem;return{server:e,provider:t,sourceDirectory:EF(t,r.librarySectionID),reasonID:a.reasonID,reason:a.reason,reasonTitle:a.reasonTitle,originalTitle:r.originalTitle,filter:r.filter,librarySectionKey:r.librarySectionKey,librarySectionType:r.librarySectionType,isV4DirectoryPagesEnabled:i}})}))(MF);function jF(){return Object(he.a)(TO(),Object(YO.a)(),(e,t)=>{if(t)return wO(e,t.librarySectionID)})}function DF(e,t){return e.isCloud?t.sourceTitle?`${t.title} ${t.sourceTitle}`:t.title:e.friendlyName}var PF=function(e){const{className:t,server:a,provider:n,sourceDirectory:i}=e;if(!a.friendlyName&&!a.isCloud)return null;const r=a.isCloud&&!i?void 0:Object(ng.a)(a,n,i,qr.l(n.identifier,qr.d)?{key:vI.a,pageType:bI.a}:void 0);return y.a.createElement("span",{className:t},a.isCloud&&!n.sourceTitle?Object(Ce.default)("on")+" ":null,r?y.a.createElement(jI.a,{title:a.friendlyName,to:r},DF(a,n)):DF(a,n))};var TF=Object(v.b)((function(){return Object(he.a)(vh.b,bh.b,jF(),(e,t,a)=>({server:e,provider:t,sourceDirectory:a}))}))(PF),wF=a("CR3D");var NF=function(e){const{className:t,server:a,provider:n,sourceDirectory:i,id:r,tag:s,tagKey:o,filter:l,tagType:c,isV4DirectoryPagesEnabled:d}=e,{typeString:u}=wF.a.get(c),p=l||`${u}=${r}`,m=d?Object(ng.a)(a,n,i,{key:o,pageType:St.b.List}):Object(OF.a)(a,n,i,{filters:p,filterLabel:s});return y.a.createElement(jI.a,{"data-qa-id":"searchTagTitle",className:t,title:s,to:m},s)};var xF=Object(v.b)((function(){return Object(he.a)(vh.b,bh.b,SF(),Ee,(e,t,a={},n)=>{const i=M.a.pick(a.tagItem,"id","tag","tagType","librarySectionType","librarySectionID");return i.tagKey=a.tagItem.key,{server:e,provider:t,sourceDirectory:EF(t,a.tagItem.librarySectionID),isV4DirectoryPagesEnabled:n,...i}})}))((function(e){return y.a.createElement(NF,{...e})}));var AF=function(e){const{className:t,type:a,bitrate:n}=e;if(null==n)return null;const i=a===_s.a?Object(si.a)(n):Object(oi.default)(n);return y.a.createElement("span",{className:t},i)};var LF=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>{const t=Object(wo.getMetadataType)(e.type),a=e.Media&&e.Media[0];return{type:t&&t.mediaType,bitrate:a&&a.bitrate}})}))(AF);var kF=function({className:e,contentRating:t}){return y.a.createElement("span",{className:e},hi(t))};var RF=Object(v.b)((function(e,t){return Object(he.a)(Object(YO.a)(),(e={})=>({contentRating:e.contentRating}))}))(kF);var zF=function({className:e,rating:t,ratingImage:a,audienceRating:n,audienceRatingImage:i}){return t||n?y.a.createElement("span",{className:e},y.a.createElement(Mi,{rating:t,ratingImage:a,audienceRating:n,audienceRatingImage:i})):null};var UF=Object(v.b)((function(e,t){return Object(he.a)(Object(YO.a)(),(e={})=>({rating:e.rating,ratingImage:e.ratingImage,audienceRating:e.audienceRating,audienceRatingImage:e.audienceRatingImage}))}))(zF);var VF=Object(v.b)((function(e,t){return Object(he.a)(Object(YO.a)(),(e={})=>{const{duration:t}=e;return{duration:t}})}))(dF);var BF=function({className:e,lastViewedAt:t}){return y.a.createElement(hB,{className:e,timestamp:t})};var FF=Object(v.b)((function(e,t){return Object(he.a)(Object(YO.a)(),(e={})=>({lastViewedAt:e.lastViewedAt}))}))(BF);var HF=function({className:e,viewCount:t}){const a=(t>1?Object(Ce.default)("{viewCount} Plays",{viewCount:t}):null)||(t>0?Object(Ce.default)("{viewCount} Play",{viewCount:t}):null)||Object(Ce.default)("Unplayed");return y.a.createElement("span",{className:e},a)};var _F=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({viewCount:e.viewCount}))}))(HF);var WF=function({className:e,originallyAvailableAt:t}){return y.a.createElement("span",{className:e},Object(Xa.default)(t,"MMM d, yyyy"))};var QF=Object(v.b)((function(e,t){return Object(he.a)(Object(YO.a)(),(e={})=>{const{originallyAvailableAt:t}=e;return{originallyAvailableAt:t}})}))(WF);var GF=function({className:e,videoResolution:t}){return y.a.createElement("span",{className:e},Object(yr.default)(t))};var KF=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>{const t=e.Media&&e.Media[0];return{videoResolution:t&&t.videoResolution}})}))(GF),YF=a("n9Z6"),qF=a("blH+"),ZF=a("j3oq");var XF=function({className:e,value:t,onRatingChange:a}){return y.a.createElement("span",{className:e},y.a.createElement(hr,{value:t,onRatingChange:a}))};const JF=Object(v.b)(YF.a)(Object(BI.a)((function(e,t){return Object(he.a)(sM.a,Object(YO.a)(),Object(he.a)(ZF.a,(e,{providerEntityID:t})=>t,(e,t)=>!!e&&e.providers.length>1&&e.providers.includes(t)),(e,{hideUnrated:t})=>t,(e,t={},a,n)=>{const i=e&&e.features[nS.b][qF.e]&&!t.isFolder&&!a,r=(t.userRating||0)/2;return{showRating:!(!i||n&&0===r),value:r}})}),(function(e,t){return{onRatingChange(a){e(Object(Fs.rateMetadataItem)({metadataItemEntityID:t.metadataItemEntityID,providerEntityID:t.itemProviderEntityID,rating:0===a?-1:2*a,metricsPage:t.metricsPage}))}}}))((function(e){const{showRating:t,...a}=e;return t?y.a.createElement(XF,{...a}):null})));JF.propTypes={hideUnrated:Qn.a.bool};var $F=JF;function eH(e,t,a){if("mixed"===e)return[];switch(a){case XO.n:switch(e){case"season":return[mM,JB];case"episode":return[mM,tF];case"album":return[mM,AB];case"actor":return[nB,iB]}break;case XO.a:switch(e){case"movie":return[mM,cF,gM];case"clip":return[mM,cF];case"episode":return[dM,cF,uM.a]}break;case XO.q:switch(t){case"news":switch(e){case"clip":return[oF,yB,null]}}switch(e){case"artist":return[mM,CB];case"photo":return[RB.a,ZB];case"photoalbum":case"clip":return[mM,ZB];case"playlist":return[mM,mF];case"collection":return[mM,kB];case"actor":case"genre":case"director":case"autotag":case"tag":case"place":return[xF]}break;case XO.m:case XO.k:case XO.l:case XO.g:switch(t){case"news":switch(e){case"clip":return[RB.a,bB]}break;case"podcast":switch(e){case"track":return[dM,uM.a]}break;case"musicVideo":switch(e){case"clip":return[mM,vF]}}switch(e){case"episode":return[dM,uM.a];case"clip":return[mM,ZB];case"track":return[mM,vF]}break;case XO.i:return[oF,fF,yB,null];case XO.t:switch(e){case"participant":return[mM]}}switch(t){case"news":switch(e){case"clip":return[oF,yB,null]}break;case"podcast":switch(e){case"show":return[oF,null];case"track":return[oF,dM,null]}break;case"webshow":switch(e){case"show":return[mM];case"episode":return[oF,vB,null]}}switch(e){case"channels":return[RB.a,EB];case"movie":return[mM,gM];case"show":return[mM,gF];case"season":return[uB,mM];case"episode":return[dM,mM,TC];case"artist":return[mM];case"album":return[uB,TB];case"track":return[dM,mM];case"photo":return[RB.a];case"photoalbum":case"clip":return[mM];case"extra":return[RB.a,rF];case"musicVideo":return[dM,RB.a];case"playlist":return[mM,mF];case"collection":return[mM,kB];case"directory":case"genre":case"content":case"channel":return[];case"game":return[mM,gM]}return[RB.a]}function tH(e){return e.map(e=>{switch(e){case"attributionLogo":return cB;case"episodeIdentifier":case"index":return TC;case"grandparentTitle":return dM;case"parentTitle":return uB;case"title":return mM;default:return()=>null}})}function aH(e,t,a={}){const{subtype:n,activeSort:i,isSearch:r,isSearchAll:s,isExternal:o,providerEntityID:l,displayFields:c}=a;if(c)return tH(c);const d=eH(e,n,t);if(r?(d.push(CF),s&&d.push(TF)):o&&d.push(sB),qr.l(l,qr.c)&&("movie"===e||"episode"===e||"mixed"===e))switch(t){case XO.m:case XO.k:d.push(KB);break;case XO.g:break;default:d.push(EB)}if(i){const e=function(e){const[t]=e.split(":");switch(t){case"addedAt":return bB;case"duration":return VF;case"lastViewedAt":return FF;case"originallyAvailableAt":return QF;case"rating":case"audienceRating":return UF;case"userRating":return $F;case"viewCount":return _F;case"mediaBitrate":return LF;case"contentRating":return RF;case"mediaHeight":return KF;case"year":return gM}}(i);e&&!d.includes(e)&&d.push(e)}return d}function nH(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-help-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 440c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m70-80l0-6.84 0-.179c.011-2.265.168-4.528.482-6.772.586-4.188 1.706-8.299 3.324-12.206 1.56-3.765 3.581-7.337 6.005-10.613 1.378-1.861 2.886-3.622 4.506-5.277 12.286-12.48 24.784-24.75 37.148-37.152 1.253-1.265 2.48-2.554 3.674-3.873 2.298-2.538 4.482-5.178 6.544-7.91 5.64-7.475 10.359-15.64 14.021-24.258 2.605-6.129 4.675-12.484 6.18-18.972 1.516-6.534 2.457-13.201 2.81-19.9.584-11.079-.447-22.237-3.053-33.021-1.591-6.586-3.767-13.03-6.492-19.232-2.728-6.21-6.008-12.176-9.788-17.807-2.756-4.106-5.777-8.033-9.039-11.749-1.655-1.886-3.374-3.715-5.147-5.49-1.412-1.415-2.866-2.79-4.352-4.127-3.068-2.761-6.285-5.356-9.632-7.77-8.915-6.432-18.755-11.571-29.126-15.214-7.849-2.757-15.996-4.658-24.254-5.658-3.049-.369-6.113-.616-9.182-.74-1.423-.057-2.848-.086-4.272-.093-.357 0-.713 0-1.07.002-2.253.018-4.505.094-6.754.241-4.7.306-9.381.901-14.008 1.782-6.09 1.159-12.086 2.813-17.909 4.939-5.594 2.042-11.028 4.519-16.238 7.403-5.852 3.239-11.419 6.99-16.618 11.196-2.576 2.084-5.056 4.282-7.446 6.577-.342.331-.682.663-1.021.996-6.867 6.803-13.671 13.669-20.506 20.504l42.426 42.426 19.985-19.984.136-.137c1.966-1.946 4.07-3.749 6.304-5.381 3.924-2.868 8.23-5.21 12.77-6.946 3.392-1.297 6.913-2.256 10.494-2.859 3.453-.58 6.961-.829 10.461-.742 4.493.111 8.971.778 13.302 1.98 4.678 1.298 9.18 3.219 13.354 5.699 2.604 1.547 5.08 3.31 7.393 5.266 1.182 1 2.318 2.051 3.414 3.144.705.713 1.397 1.438 2.065 2.185 1.35 1.51 2.617 3.095 3.792 4.745 3.921 5.506 6.807 11.735 8.475 18.285 1.377 5.408 1.921 11.022 1.61 16.593-.35 6.263-1.783 12.458-4.219 18.239-1.715 4.068-3.921 7.928-6.559 11.468-1.484 1.993-3.105 3.879-4.843 5.655-12.294 12.486-24.797 24.764-37.169 37.173-1.121 1.131-2.22 2.283-3.292 3.46-2.284 2.506-4.452 5.119-6.494 7.825-5.604 7.427-10.259 15.565-13.819 24.161-3.431 8.283-5.844 16.985-7.167 25.852-.467 3.127-.799 6.275-.995 9.431-.098 1.587-.16 3.175-.192 4.764-.008.455-.013.91-.017 1.365-.012 2.515-.002 5.032-.002 7.546l60 0m8.826-198.747l0-.001c-.011-.01.043.043.032.032l-.032-.031"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}nH.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var iH=nH,rH=a("nnTz"),sH=a.n(rH);function oH(e){const{className:t,cellWidth:a,listContext:n,listSubtype:i,listType:r}=e,s=Object(KO.a)(e),o={position:"absolute",top:0,left:0,width:a+"px",height:Object(eM.e)(a,r,i,n)+"px"};return y.a.createElement("div",{style:s.style},y.a.createElement("div",{className:t,style:o}))}oH.defaultProps={className:sH.a.posterCell};var lH=oH,cH=a("6gEP"),dH=a.n(cH);const uH=String.fromCharCode(183),pH=[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11}];class mH extends g.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const{listStyle:t}=e,{onListReady:a}=this.props,n=this._isReady?void 0:a;this._isReady=!0,this.setState({listHeight:t.height},n)},this.onHelpPress=()=>{this.setState({isHelpModalOpen:!0})},this.onHelpModalClose=()=>{this.setState({isHelpModalOpen:!1})},this.state={listHeight:"auto",isHelpModalOpen:!1},this._isReady=!1}render(){const{allowToggleHomeHub:e,className:t,columnAdjustment:a,errorTitle:n,hasRetried:i,hasServer:r,homeHub:s,homePageHomeHubStatus:o,shouldConfirmHomeHubRemoval:l,sourceTitle:c,title:d,onRetryHomeHub:u}=this.props,{listHeight:p}=this.state,{hubIdentifier:m,type:h,subtype:g}=s,{isPending:f}=o,b=gV(m),v=aH(h,b,{subtype:g,isExternal:m.indexOf("external")>-1}),I=!!n;let S=null;if(d){const e=n||(f&&i?Object(Ce.default)("Retrying"):null);S=y.a.createElement(RV,null,d,c?y.a.createElement(Hi.b,{className:dH.a.titleSeparator}):null,c?y.a.createElement("span",{className:dH.a.sourceTitle},c):null,e?y.a.createElement(Hi.b,{className:dH.a.errorSeparator,separator:uH}):null,e?y.a.createElement("span",{className:dH.a.errorTitle},e):null)}const E={visibility:"auto"===p?"hidden":"visible"},O={height:p,overflow:"hidden"};return y.a.createElement("div",{className:t,style:E,"data-qa-id":"hub--"+m},y.a.createElement(xV,{allowToggleHomeHub:e,className:dH.a.hubCellHeader,homeHubID:o.homeHubID,isHomeHub:!0,shouldConfirmHomeHubRemoval:l},S,f?y.a.createElement(Uw.a,{size:cc.c}):null,I&&r?y.a.createElement(ZO.a,{className:dH.a.iconButton,iconClassName:dH.a.iconButtonIcon,iconComponent:uz.a,label:Object(Ce.default)("Retry"),ariaLabel:Object(Ce.default)("Retry"),onPress:u}):null,I?y.a.createElement(ZO.a,{className:dH.a.iconButton,iconClassName:dH.a.iconButtonIcon,iconComponent:iH,label:Object(Ce.default)("What's this?"),ariaLabel:Object(Ce.default)("What's this?"),onPress:this.onHelpPress}):null),y.a.createElement("div",{style:O},y.a.createElement(BO.a,{scrollerClassName:dH.a.hubScroller,ignoreHeight:!0,keyPropName:"id",items:pH,scrollDirection:iv.b,size:pH.length,layout:aB(h,g,b,a,v.length),cellRenderer:(M={listType:h,listSubtype:g,listContext:b},function(e){return y.a.createElement(lH,{...M,...e})}),onListUpdate:this.onListUpdate})),y.a.createElement(YV,{homeHubID:s.id,isOpen:this.state.isHelpModalOpen,onModalClose:this.onHelpModalClose}));var M}}mH.defaultProps={className:dH.a.hubCell};var hH=mH;function gH(e,t){return Object(Kt.a)(e,e=>t.reduce((t,a)=>(e&&a in e&&(t[a]=e[a]),t),{}))}function yH(){return Object(he.a)(gH(Object(xI.a)(),["identifier","title","sourceTitle"]),gH(Object(RI.a)(),["friendlyName","sourceTitle"]),(e,t)=>mz(e,t))}function fH(e){if(!e)return;let t,a;const n=e.match(/^server:\/\/(.*)\/(.*)/);if(n)t=n[1],a=n[2];else{const n=e.match(/^provider:\/\/(.*)/);if(!n)return;t=tC.a,a=n[1]}const i=Object(jt.a)(fo.n,t);return{serverEntityID:i,providerEntityID:Object(jt.a)(fo.k,a,i)}}var bH=a("tL6L");var vH=Qn.a.shape({key:Qn.a.string,hubKey:Qn.a.string,title:Qn.a.string,icon:Qn.a.string,type:Qn.a.string,subtype:Qn.a.string,agent:Qn.a.string,updatedAt:Qn.a.number,scannedAt:Qn.a.number,context:Qn.a.string}),IH=a("czSl");var SH=a("iApP"),EH=a.n(SH);function OH({className:e,src:t}){return y.a.createElement("img",{className:e,src:t})}var MH=function(e){const{className:t,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,imageWidth:r,imageHeight:s,imageUrl:o,attributionLogo:l,backgroundColor:c="#000000",callToAction:d,summary:u,title:p}=e,m=Yu(c,0),h=Yu(c,1),g={backgroundColor:h},f={backgroundImage:`linear-gradient(to left, ${m}, ${h} 400px)`};return y.a.createElement("div",{style:g,className:t,"data-qa-id":"cellItem"},a?y.a.createElement(ot.a,{className:EH.a.spotlightImage,serverEntityID:a,providerEntityID:n,url:o,width:r,height:s,component:OH}):null,y.a.createElement("div",{className:EH.a.colorOverlay,style:f}),y.a.createElement("div",{className:EH.a.copyOverlay},p?y.a.createElement("div",{className:EH.a.title},p):y.a.createElement(RB.a,{className:EH.a.title,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i}),y.a.createElement("div",{className:EH.a.summary},u),d?y.a.createElement("div",{className:EH.a.callToAction},d):null),y.a.createElement("div",{className:EH.a.attributionLogo},y.a.createElement(Xu,{attributionLogo:l})))};var CH=Object(v.b)((function(){return Object(he.a)((e,{cellWidth:t})=>t,(e,{cellHeight:t})=>t,Object(YO.a)(),(e,t,a={},n)=>{const i=(r=e,s=t,{url:a.art,width:r,height:s});var r,s;return{icon:a.icon,imageWidth:i.width,imageHeight:i.height,imageUrl:i.url,attributionLogo:a.attributionLogo,backgroundColor:a.backgroundColor,callToAction:a.action,summary:a.summary}})}))(MH),jH=a("8jJ5"),DH=a.n(jH);var PH=function(e){const{children:t,route:a,onPress:n}=e;return y.a.createElement(jI.a,{className:DH.a.link,to:a,"data-qa-id":"spotlightItem",onPress:n},t)};var TH=Object(v.b)((function(){return Object(he.a)(Object(pM.a)(),e=>({route:e}))}))(PH);function wH(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-alert-dot-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}wH.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var NH=wH,xH=a("lj0k"),AH=a.n(xH);var LH=function(e){const{title:t,index:a,selectedIndex:n,onPress:i}=e,r=Object(g.useCallback)(()=>{i(a)},[a,i]),s=a===n?AH.a.selectedDotButton:AH.a.dotButton;return y.a.createElement(jI.a,{className:s,title:t,onPress:r},y.a.createElement(NH,null))};var kH=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),e=>({title:e.title}))}))(LH),RH=a("U6V7"),zH=a.n(RH);var UH=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,metadataItemEntityIDs:i,hubIdentifier:r,metricsContext:s,containerKey:o,listType:l,listSubtype:c,listContext:d,autoAdvanceDelayMs:u,totalSize:p,onListReady:m}=e,[h,f]=Object(g.useState)({});Object(g.useEffect)(()=>{h.isMeasured&&m()},[h,m]);const[b,v]=Object(g.useState)(0),I=i[b],S=Object(Or.a)(I),E=S&&S!==I;Object(g.useEffect)(()=>{if(!u)return;const e=window.setInterval(()=>{v(Wu(b+1,p))},u);return()=>{window.clearInterval(e)}},[u,b,p]);const O=Object(g.useCallback)(()=>{v(Wu(b-1,p))},[b,p]),M=Object(g.useCallback)(()=>{v(Wu(b+1,p))},[b,p]),C=aH(l,d,{providerEntityID:a,subtype:c,isExternal:r.indexOf("external")>-1});return Object(g.useEffect)(()=>{0===p&&m()},[p,m]),0===p?null:y.a.createElement(VO.a,{className:zH.a.hub,onMeasure:f},h.isMeasured?y.a.createElement(y.a.Fragment,null,y.a.createElement(TH,{metadataItemEntityID:I,metricsContext:s},y.a.createElement(CH,{key:I,className:zH.a.cellItem,serverEntityID:t,providerEntityID:a,metadataListEntityID:n,metadataItemEntityID:I,containerKey:o,listType:l,listSubtype:c,listContext:d,titleComponents:C,cellWidth:h.width,cellHeight:h.height,metricsContext:s}),E?y.a.createElement(CH,{key:S,tabIndex:-1,className:zH.a.cellItemFade,serverEntityID:t,providerEntityID:a,metadataListEntityID:n,metadataItemEntityID:S,containerKey:o,listType:l,listSubtype:c,listContext:d,titleComponents:C,cellWidth:h.width,cellHeight:h.height,metricsContext:s}):null),p>1?y.a.createElement(y.a.Fragment,null,y.a.createElement(ZO.a,{className:zH.a.iconButtonPrev,iconComponent:zu,title:Object(Ce.default)("Previous Page"),onPress:O}),y.a.createElement("div",{className:zH.a.dotsContainer},i.map((e,t)=>y.a.createElement(kH,{key:t,metadataItemEntityID:e,selectedIndex:b,index:t,onPress:v}))),y.a.createElement(ZO.a,{className:zH.a.iconButtonNext,iconComponent:ku,title:Object(Ce.default)("Next Page"),onPress:M})):null):null)};function VH(e,t,a,n){const{key:i,typeKey:r,title:s,type:o,subtype:l,content:c,context:d}=n;return Object(dD.b)(i)?Object(dD.a)(i,e,t,a):/\/library\/sections\/(\w+)\/cluster/.test(i)?Object(dD.a)(dD.c.TIMELINE,e,t,a):/\/watchnow$/.test(i)?Object(dD.a)(dD.c.GUIDE,e,t,a):c?Object(ng.a)(e,t,a,{key:i,typeKey:r,context:d}):Object(ng.a)(e,t,a,{key:i,type:o,subtype:l,title:s,context:d,pageType:n.pageType})}var BH=a("hsww"),FH=a.n(BH);function HH(e){const{title:t,attribution:a,route:n,sourceTitle:i}=e;return y.a.createElement(RV,{className:FH.a.title},a?y.a.createElement(Jn,{className:FH.a.attribution,attribution:a}):null,n?y.a.createElement(jI.a,{to:n},t):t,i?y.a.createElement(Hi.b,{className:FH.a.titleSeparator}):null,i?y.a.createElement("span",{className:FH.a.sourceTitle},i):null)}var _H=a("6XcZ"),WH=a.n(_H);class QH extends g.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const{visibleStartIndex:t,visibleEndIndex:a,renderEndIndex:n,listStyle:i}=e,{onListReady:r}=this.props,s=this._isReady?void 0:r;this._isReady=!0,this._visibleStartIndex=t,this._visibleEndIndex=a,this._pageSize=this._visibleEndIndex-this._visibleStartIndex;const o=t>0,l=n>a;this.setState({showActions:o||l,enablePrevious:o,enableNext:l,listHeight:i.height},s)},this.onListScrollIndexChange=e=>{this._setScrollIndex(e)},this.onPreviousPress=()=>{this._setScrollIndex(this._visibleStartIndex-this._pageSize-1)},this.onNextPress=()=>{this._setScrollIndex(this._visibleEndIndex+1)},this.state={showActions:!1,enablePrevious:!1,enableNext:!1,listHeight:"auto",scrollIndex:this.props.scrollIndex||0},this._isReady=!1,this._listRef=y.a.createRef()}static getDerivedStateFromProps(e,t){return null!=e.scrollIndex&&e.scrollIndex!==t.scrollIndex?{scrollIndex:e.scrollIndex}:null}componentDidMount(){this.props.more&&!this.props.totalSize&&this.props.onPageRequest({startIndex:0,endIndex:this.props.size||1}),this.props.more||this.props.size||this.props.totalSize||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentDidUpdate(e){this._isReady||!e.isPending||this.props.isPending||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}_setScrollIndex(e){this.props.onListScrollIndexChange&&this.props.onListScrollIndexChange(e),null==this.props.scrollIndex&&this.setState({scrollIndex:e})}render(){const{className:e,serverEntityID:t,providerEntityID:a,hubEntityID:n,directoryKey:i,allowHomeHubIndicator:r,allowPersistentHomeHubStatus:s,allowToggleHomeHub:o,hubIdentifier:l,isHomeHub:c,title:d,style:u,sourceTitle:p,attribution:m,route:h,scrollDirection:g,size:f,more:b,random:v,totalSize:I,keyPropName:S,itemsOffset:E,items:O,layout:M,cellRenderer:C,resizeTimeout:j,shouldConfirmHomeHubRemoval:D,onPageRequest:P}=this.props,{showActions:T,enablePrevious:w,enableNext:N,listHeight:x}=this.state;if(!f&&!I)return null;const A=v?f:I||(b?f+1:f),L={visibility:"auto"===x?"hidden":"visible"},k={height:x,overflow:"hidden"},R=u!==bH.c;return y.a.createElement("div",{className:e,style:L,"data-qa-id":"hub--"+l},R?y.a.createElement(xV,{allowHomeHubIndicator:r,allowPersistentHomeHubStatus:s,allowToggleHomeHub:o,className:WH.a.hubCellHeader,directoryKey:i,hubEntityID:n,isHomeHub:c,providerEntityID:a,serverEntityID:t,shouldConfirmHomeHubRemoval:D},y.a.createElement(HH,{title:d,attribution:m,route:h,sourceTitle:p}),T?y.a.createElement("div",{className:WH.a.hubActions},y.a.createElement(ZO.a,{className:WH.a.hubScrollButton,"data-qa-id":"hubPreviousButton",iconComponent:zu,isDisabled:!w,title:Object(Ce.default)("Previous Page"),onPress:this.onPreviousPress}),y.a.createElement(ZO.a,{className:WH.a.hubScrollButton,"data-qa-id":"hubNextButton",iconComponent:ku,isDisabled:!N,title:Object(Ce.default)("Next Page"),onPress:this.onNextPress})):null):null,y.a.createElement("div",{style:k},y.a.createElement(BO.a,{scrollerClassName:WH.a.hubScroller,ignoreHeight:!0,keyPropName:S,items:O,itemsOffset:E,scrollDirection:g,scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.props.shouldCenterScrollIndex,size:Math.min(1e4,A),layout:M,cellRenderer:C,resizeTimeout:j,ref:this._listRef,onListUpdate:this.onListUpdate,onListScrollIndexChange:this.onListScrollIndexChange,onPageRequest:P})))}}QH.defaultProps={className:WH.a.hubCell,shouldCenterScrollIndex:!1,scrollDirection:iv.a};var GH=QH;const KH=parseInt(yu.a.listButtonHeight,10);var YH=Object(qV.c)({direction:qV.a,rows:1,overscan:4,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:e=>JV({...e,preferredCellWidth:250,minCellWidth:200,minColumns:2,maxColumns:8,columnAdjustment:0}),getCellHeight:e=>KH}),qH=a("w9Qn"),ZH=a.n(qH);var XH=function({className:e,component:t,isSecondary:a,isDoubleLine:n,isSplitLine:i,...r}){return y.a.createElement(t,{className:Pe()(e,n?ZH.a.doubleLineTitle:ZH.a.singleLineTitle,a&&ZH.a.isSecondary,i&&ZH.a.isSplitLine),...r})},JH=a("R9Jt"),$H=a.n(JH);var e_=function(e){const{className:t,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,metadataKey:r,metadataType:s,imageUrl:o,imageWidth:l,imageHeight:c}=e,d=Object(KO.a)(e),u=!r,p=u||d.isPlaceholder,m=aH("channels",XO.c,{providerEntityID:n});return y.a.createElement("div",{className:t,style:d.style},p?y.a.createElement("div",{className:$H.a.placeholder,style:{width:l,height:c}}):y.a.createElement(dA.a,{cardClassName:$H.a.card,metadataKey:r,metadataItemEntityID:i,serverEntityID:a,providerEntityID:n,type:s,imageWidth:l,imageHeight:c,imageUrl:o,backgroundSize:"contain"}),y.a.createElement("div",{className:$H.a.titleContainer},u?Object(Ce.default)("Loading..."):m.map((e,t)=>e?y.a.createElement(XH,{key:t,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,component:e,isDoubleLine:e.isDoubleLine}):null)))};var t_=Object(BI.a)((function(){return Object(he.a)((e,{cellWidth:t})=>t,(e,{type:t})=>t,Object(YO.a)(),(e,t,a={})=>({metadataKey:a.key,metadataType:a.type,imageUrl:a.dvrChannel&&a.dvrChannel.thumb,imageWidth:e,imageHeight:Object(eM.e)(e,t)}))}))(e_);var a_=Object(he.a)(yz.a,e=>e.metadataDirectories);function n_(){return Object(he.a)((e,{sourceDirectory:t})=>t,(e,{metricsContext:t})=>t,Object(RI.a)(),Object(xI.a)(),Object(YO.a)(),(e,t,a,n,i)=>{if(!i)return;return VH(a,n,e,{key:i.key,typeKey:i.typeKey,title:i.title,pageType:i.type===bI.a?bI.a:bI.b,content:i.content,context:i.context||t})})}var i_=a("sPni"),r_=a.n(i_);var s_=function(e){const{className:t,title:a,route:n}=e,i=Object(KO.a)(e);return y.a.createElement("div",{className:t,style:i.style},y.a.createElement(Ih.a,{className:r_.a.button,kind:ao.b,size:cc.a,to:n},a))};var o_=Object(BI.a)((function(){return Object(he.a)(Object(he.a)((e,{metadataDirectoryEntityID:t})=>t,a_,(e,t)=>t[e]),n_(),(e={},t)=>({directoryKey:e.key,directoryType:e.type,title:e.title,route:t}))}))(s_),l_=a("IaPh"),c_=a("cyOn"),d_=a.n(c_);const u_=2*parseInt(yu.a.posterIconPadding,10);var p_=function({serverEntityID:e,providerEntityID:t,directoryKey:a,route:n,imageWidth:i,imageHeight:r,imageUrl:s,icon:o,title:l,isOffscreen:c,isOtherItemSelected:d,onMouseEnter:u}){return y.a.createElement("div",{key:a,className:d_.a.cardContainer,"data-qa-id":"directoryPosterCard--"+a},y.a.createElement("div",{className:d_.a.card,style:{width:i,height:r}},y.a.createElement("div",{className:d_.a.face},!c&&s?y.a.createElement(l_.a,{serverEntityID:e,providerEntityID:t,url:s,width:i,height:r}):null,!c&&o?y.a.createElement("div",{className:d_.a.iconContainer},y.a.createElement(l_.a,{serverEntityID:e,providerEntityID:t,url:o,width:i-u_,height:r-u_,backgroundSize:"contain"})):null,c||s||o||!l?null:y.a.createElement("div",{className:d_.a.titleContainer},y.a.createElement("div",{className:d_.a.titleItem},l)),y.a.createElement("div",{className:d_.a.overlay,onMouseEnter:u},y.a.createElement("div",{className:d_.a.overlayBackground}),y.a.createElement(jI.a,{className:d_.a.overlayLink,to:n}),d?y.a.createElement(Dm.a,{className:d_.a.overlaySelectCoverButton,component:jI.a,tooltip:Object(Ce.default)("A different type is selected"),tooltipAttachment:Pm.f,showOnFocus:!1,hideOnPress:!1}):null))))},m_=a("8idU"),h_=a.n(m_);var g_=function(e){const{className:t,serverEntityID:a,providerEntityID:n,imageWidth:i,imageHeight:r,directoryKey:s,directoryType:o,title:l,thumb:c,icon:d,route:u,onMouseEnter:p}=e,m=Object(KO.a)(e),h=!s,g=h||m.isPlaceholder;return y.a.createElement("div",{className:t,style:m.style},g?y.a.createElement("div",{className:h_.a.placeholder,style:{width:i,height:r}}):y.a.createElement(p_,{serverEntityID:a,providerEntityID:n,directoryKey:s,route:u,imageWidth:i,imageHeight:r,imageUrl:c,icon:d,title:l,onMouseEnter:p}),y.a.createElement("div",{className:h_.a.titleContainer},h||"directory"!==o&&"genre"!==o?null:y.a.createElement("div",{className:h_.a.titleContainer},y.a.createElement("span",{className:h_.a.title},l))))};var y_=Object(BI.a)((function(){return Object(he.a)((e,{listContext:t})=>t,(e,{cellWidth:t})=>t,Object(YO.a)(),n_(),Hx.a,(e,t,a={},n,i)=>({directoryKey:a.key,directoryType:a.type,title:a.title,thumb:a.thumb,icon:a.icon,imageWidth:t,imageHeight:Object(eM.e)(t,a.type,a.subtype,e),route:n,isOtherItemSelected:!!i.activeSelectionType}))}))(g_);function f_(e){const t=function(e,t){if("channels"===t)return t_;switch(e){case bH.b:return o_;default:return y_}}(e.hubStyle,e.listType);return function(a){return y.a.createElement(t,{...e,...a})}}var b_=function(e){const{metadataListEntityID:t,metadataItemEntityIDs:a,sourceDirectory:n,containerKey:i,listType:r,listSubtype:s,listContext:o,style:l,columnAdjustment:c,populatedRange:d,route:u,...p}=e,{serverEntityID:m,providerEntityID:h}=p;let g;if(l===bH.b)g=YH;else{g=aB(r,s,o,c,aH(r,o,{providerEntityID:h,subType:s}).length)}return y.a.createElement(GH,{...p,containerKey:i,keyPropName:"metadataItemEntityID",items:a,itemsOffset:d.start,layout:g,cellRenderer:f_({serverEntityID:m,providerEntityID:h,metadataListEntityID:t,sourceDirectory:n,containerKey:i,hubStyle:l,listType:r,listContext:XO.b})})};function v_(){return Object(he.a)((e,{providerEntityID:t})=>t,Lt.a,Object(YO.a)(),(e,t,a={})=>!!t[a.providerEntityID||e])}var I_=a("xcRr"),S_=a("y1mV");let E_;var O_=function(e){if(!e)return"";E_||(E_=document.createElement("P")),E_.innerHTML=e;const t=E_.textContent;return E_.innerHTML="",t};function M_(){return Object(he.a)(sM.a,Object(YO.a)(),(e,t={})=>{const{summary:a}=t;return(e?Object(I_.a)(e.identifier):null)===S_.a?O_(a):a})}function C_(){return Object(he.a)((e,{listSubtype:t})=>t,Object(YO.a)(),(e,t)=>t?t.subtype:e)}function j_(){return Object(he.a)((e,{listType:t})=>t,Object(YO.a)(),(e,t)=>{if(!t)return e;const a=e===lA.j&&t.type===wo.CLIP,n=e===lA.b&&t.type===wo.MOVIE;return a||n?e:t.extraType?lA.e:t.type})}var D_=a("Co+w"),P_=a("THzy");function T_(e,t){switch(e){case wo.SEASON:return Object(Ce.default)("Seasons");case wo.EPISODE:return 1===t?Object(Ce.default)("1 Episode"):Object(Ce.default)("{episodeCount} Episodes",{episodeCount:t});case wo.ALBUM:return 1===t?Object(Ce.default)("1 Album"):Object(Ce.default)("{albumCount} Albums",{albumCount:t});case wo.TRACK:return 1===t?Object(Ce.default)("1 Track"):Object(Ce.default)("{trackCount} Tracks",{trackCount:t});default:return 1===t?Object(Ce.default)("1 Item"):Object(Ce.default)("{trackCount} Items",{trackCount:t})}}var w_=a("RIFC");var N_=function({className:e,index:t}){return null==t?null:y.a.createElement("span",{className:e},t)},x_=a("pIrp"),A_=a.n(x_);var L_=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,listContext:s,cellIndex:o,metadataKey:l,grandparentKey:c,type:d,index:u,title:p,parentTitle:m,summary:h,leafCount:f,duration:b,isFolder:v,route:I,isCondensed:S,isUnavailable:E,showLink:O,showEdit:M,showSelect:C,showMore:j,hasActiveSelection:D,isSelected:P,isOtherItemSelected:T,isModifierKeyPressed:w,imageWidth:N,imageHeight:x,imageUrl:A,onEditPress:L,onSelectPress:k,onDeselectPress:R}=e,z=Object(KO.a)(e),[U,V]=JC(),[B,F]=Object(g.useState)(!1),H=Object(wo.getChildType)(d),_=E||z.isPlaceholder,W=s===XO.e,Q=C&&(w||T),G=D?"-1":"0",K=null!=u,Y=!U;return y.a.createElement("div",{className:Pe()(!S&&o%2?A_.a.alternateItem:A_.a.item,D&&A_.a.hasActiveSelection,Q&&A_.a.isForcingSelection,P&&A_.a.isSelected,B&&A_.a.isActionsMenuOpen),style:z.style,...V},C?y.a.createElement(jI.a,{className:A_.a.selectCoverButton,"aria-label":P?Object(Ce.default)("Deselect {title}",{title:p}):Object(Ce.default)("Select {title}",{title:p}),tabIndex:O&&!D?"-1":"0",onPress:P?R:k}):null,O?y.a.createElement(jI.a,{className:A_.a.underlay,tabIndex:G,to:I,"aria-label":p}):null,y.a.createElement("div",{className:A_.a.overlay},y.a.createElement("div",{className:A_.a.posterContainer},_?y.a.createElement(uA.a,{imageWidth:N,imageHeight:x}):y.a.createElement(dA.a,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,listContext:s,metadataKey:l,type:d,imageWidth:N,imageHeight:x,imageUrl:A,isFolder:v,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1})),y.a.createElement("div",{className:W?A_.a.librarySummaryContainer:A_.a.summaryContainer},y.a.createElement("div",null,y.a.createElement("div",{className:A_.a.titleContainer},y.a.createElement("div",{className:h?A_.a.title:A_.a.doubleTitle},c?y.a.createElement("span",null,W?y.a.createElement(dM,{metadataItemEntityID:n}):K&&y.a.createElement(N_,{index:u}),W||K?y.a.createElement(Hi.b,{className:A_.a.separator}):null):null,p),S?null:y.a.createElement("div",{className:A_.a.rating},y.a.createElement($F,{metadataItemEntityID:n,hideUnrated:Y})),y.a.createElement("div",{className:A_.a.actions},C?y.a.createElement(sA.a,{className:A_.a.selectButton,tabIndex:G,title:p,isSelected:P,onPress:k}):null,M?y.a.createElement(jI.a,{"data-qa-id":"metadataSummaryEditButton",className:A_.a.editButton,tabIndex:G,"aria-label":Object(Ce.default)("Edit {title}",{title:p}),onPress:L},y.a.createElement(kd.a,null)):null,j?y.a.createElement(w_.a,{"data-qa-id":"metadataSummaryMoreButton",className:A_.a.moreButton,tabIndex:G,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:B,onMenuOpenChange:F}):null)),m?y.a.createElement("div",{className:A_.a.subtitle},y.a.createElement("span",null,y.a.createElement(uB,{metadataItemEntityID:n}),f?y.a.createElement(Hi.b,{className:A_.a.separator,separator:"·"}):null,f?T_(H,f):null,b?y.a.createElement(Hi.b,{className:A_.a.separator,separator:"·"}):null,b?y.a.createElement(dF,{duration:b}):null)):null,y.a.createElement("div",{className:m?A_.a.shorterSummary:A_.a.summary},h)))))},k_=a("bKz6"),R_=a.n(k_);var z_=function(e){const{cellIndex:t,imageWidth:a,imageHeight:n}=e,i=Object(KO.a)(e);return y.a.createElement("div",{className:t%2?R_.a.alternateLoadingItem:R_.a.loadingItem,style:i.style},y.a.createElement("div",{className:R_.a.posterContainer},y.a.createElement(uA.a,{imageWidth:a,imageHeight:n})),Object(Ce.default)("Loading..."))};const U_=parseInt(yu.a.summaryCellPadding,10),V_=Object(D_.a)(L_);class B_ extends g.Component{render(){return this.props.metadataKey?this.props.showSelect?y.a.createElement(V_,{...this.props}):y.a.createElement(L_,{...this.props}):y.a.createElement(z_,{...this.props})}}var F_=Object(v.b)(YF.a)(Object(BI.a)((function(){return Object(he.a)((e,{listContext:t})=>t,(e,{cellHeight:t})=>t,Object(YO.a)(),oM.a,sM.a,Bs.b,j_(),C_(),Object(pM.a)(),M_(),cA(),oA(),Hx.a,v_(),(e,t,a={},n,i,r,s,o,l,c,d,u,p,m)=>{const h=t-2*U_,g=Object(P_.a)(null,h,s,o,a,e),y=!n||!i;return{metadataKey:a.key,grandparentKey:a.grandparentKey,parentTitle:a.parentTitle,type:s,index:a.index,title:a.title,leafCount:a.leafCount,duration:a.duration,summary:c,isFolder:a.isFolder,isUnavailable:!m,selectionID:a.entityID,selectionType:d,activeSelectionType:p.activeSelectionType,isSelected:u,route:l,showLink:!!l,showEdit:!y&&Object(rk.d)({server:n,provider:i,stableUser:r,metadataItem:a}),showSelect:!y&&Object(rk.l)({server:n,provider:i,stableUser:r,metadataItem:a}),showMore:!a.isFolder&&m,imageWidth:g.width,imageHeight:g.height,imageUrl:g.url}})}),(function(e,t){const{metadataListEntityID:a,metadataItemEntityID:n,metricsPage:i}=t;return{onEditPress(){e(Object(Fs.editMetadataItem)({metadataItemEntityID:n,metricsPage:i}))},onSelectItem(t){e(Object(Zb.l)({metadataListEntityID:a,id:n,...t}))},onDeselectItem(t){e(Object(Zb.b)({metadataListEntityID:a,...t}))}}}),yL.a)(B_));const H_=parseInt(yu.a.summaryCellHeight,10),__={};var W_=a("hjda"),Q_=a.n(W_);var G_=function(e){const{className:t,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,searchResultEntityID:r,containerKey:s,cellIndex:o,cellX:l,cellY:c,cellWidth:d,cellHeight:u,isVirtual:p,isVisible:m,isScrolling:h,listType:g,listContext:f,titleComponents:b,isFeaturedHub:v,metadataKey:I,displayFields:S,displayFieldDefinitions:E,type:O,subtype:M,selectionType:C,activeSelectionType:j,isSelected:D,isUnavailable:P,imageWidth:T,imageHeight:w,imageUrl:N,onSelectItem:x,onDeselectItem:A,...L}=e,k=Object(KO.a)(e),R=!I,z=R||P||k.isPlaceholder,U=function(e,t,a,n,i,r){const s=t===lA.g,o=t===lA.j,l=a===wo.COLLECTION;if(r)return tH(r);if(!s&&!o&&!l)return e;const c=eH(a,n,i),d=eH(t,n,i),u=e.filter(e=>!d.includes(e));return c.concat(u)}(b,g,O,M,f,S||Vr(O,M,E)),V=v?U.slice(0,2):[],B=v?U.slice(2):U;return y.a.createElement("div",{className:t,style:k.style,"data-qa-id":"cellItem"},z?y.a.createElement(uA.a,{imageWidth:T,imageHeight:w,isSelected:D}):y.a.createElement(dA.a,{serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:g,listContext:f,metadataKey:I,type:O,imageWidth:T,imageHeight:w,imageUrl:N,selectionType:C,activeSelectionType:j,isSelected:D,onSelectItem:x,onDeselectItem:A,...L}),y.a.createElement("div",{"data-qa-id":"metadataTitleContainer",className:v?Q_.a.continueWatchingTitleContainer:Q_.a.titleContainer},R?Object(Ce.default)("Loading..."):null,!R&&V.length?y.a.createElement("div",{className:Q_.a.splitTitleContainer},V.map((t,o)=>y.a.createElement(XH,{key:o,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,searchResultEntityID:r,containerKey:s,metricsContext:e.metricsContext,component:t,isSecondary:o>0,isDoubleLine:t.isDoubleLine,isSplitLine:!0}))):null,R?null:B.map((t,o)=>t?y.a.createElement(XH,{key:o,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,searchResultEntityID:r,containerKey:s,metricsContext:e.metricsContext,component:t,isSecondary:V.length+o>0,isDoubleLine:t.isDoubleLine}):null)))};var K_=Object(v.b)((function(){return Object(he.a)((e,{listContext:t})=>t,(e,{cellWidth:t})=>t,(e,{displayFieldDefinitions:t})=>t,Object(YO.a)(),j_(),C_(),cA(),oA(),Hx.a,v_(),(e,t,a,n={},i,r,s,o,l,c)=>{var d;const u=Object(P_.a)(t,null,i,r,n,e);return{itemServerEntityID:n.serverEntityID,itemProviderEntityID:n.providerEntityID,isFeaturedHub:$V(e),metadataKey:n.key,displayFieldDefinitions:a,displayFields:(null==(d=n.Context)?void 0:d.displayFields)||Vr(i,r,a),type:i,subtype:r,selectionType:s,activeSelectionType:l.activeSelectionType,isSelected:o,icon:n.icon,imageWidth:u.width,imageHeight:u.height,imageUrl:u.url,isFolder:n.isFolder,isUnavailable:!c}})}),(function(e,t){const{metadataListEntityID:a}=t;return{onSelectItem(t){e(Object(Zb.l)({metadataListEntityID:a,...t}))},onDeselectItem(t){e(Object(Zb.b)({metadataListEntityID:a,...t}))}}}))(G_);var Y_=function(e){const{metadataListEntityID:t,metadataItemEntityIDs:a,metricsContext:n,containerKey:i,listType:r,listSubtype:s,listContext:o,columnAdjustment:l,populatedRange:c,displayFieldDefinitions:d,displayFields:u,...p}=e,{serverEntityID:m,providerEntityID:h,hubIdentifier:g}=p,f=aH(r,o,{providerEntityID:h,subtype:s,isExternal:g.indexOf("external")>-1,displayFields:u}),b="relatedAlbums"===g;let v=K_;b&&(v=F_);const I=b?function(e=0){const t=e;if(__.hasOwnProperty(t))return __[t];const a=Object(qV.c)({direction:qV.a,rows:1,getCellWidth:t=>JV({...t,preferredCellWidth:600,minCellWidth:400,minColumns:2,maxColumns:4,columnAdjustment:e}),getCellHeight:()=>H_});return __[t]=a,a}(l):aB(r,s,o,l,f.length);return y.a.createElement(GH,{...p,containerKey:i,keyPropName:"metadataItemEntityID",items:a,itemsOffset:c.start,layout:I,cellRenderer:SA({serverEntityID:m,providerEntityID:h,metadataListEntityID:t,containerKey:i,listType:r,listSubtype:s,listContext:o,titleComponents:f,displayFieldDefinitions:d,displayFields:u,isCondensed:!0,metricsContext:n},v)})},q_=a("3+3Z"),Z_=a("2XH5");var X_=function({className:e,duration:t,isPreview:a}){return a?y.a.createElement("span",{className:e},Object(Ce.default)("Preview")):t?y.a.createElement("span",{className:e},Object(Rg.a)(t)):null};var J_=Object(v.b)((function(e,t){return Object(he.a)(Object(YO.a)(),(e={})=>{const{duration:t,preview:a}=e;return{duration:t,isPreview:!!a}})}))(X_),$_=a("vau6"),eW=a.n($_);var tW=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,listContext:s,cellIndex:o,metadataKey:l,type:c,title:d,isFolder:u,isUnavailable:p,route:m,showLink:h,showEdit:f,showSelect:b,showMore:v,skipGrandparent:I,hasActiveSelection:S,isSelected:E,isOtherItemSelected:O,isModifierKeyPressed:M,isPlayerPaused:C,isPlaying:j,imageWidth:D,imageHeight:P,imageUrl:T,onEditPress:w,onPlayPress:N,onSelectPress:x,onDeselectPress:A}=e,L=Object(KO.a)(e),[k,R]=JC(),[z,U]=Object(g.useState)(!1),V=p||L.isPlaceholder,B=b&&(M||O),F=S?"-1":"0",H=!k;return y.a.createElement("div",{className:Pe()(o%2?eW.a.alternateItem:eW.a.item,S&&eW.a.hasActiveSelection,B&&eW.a.isForcingSelection,E&&eW.a.isSelected,z&&eW.a.isActionsMenuOpen),style:L.style,...R},b?y.a.createElement(jI.a,{className:eW.a.selectCoverButton,"aria-label":E?Object(Ce.default)("Deselect {title}",{title:d}):Object(Ce.default)("Select {title}",{title:d}),tabIndex:h&&!S?"-1":"0",onPress:E?A:x}):null,h?y.a.createElement(jI.a,{className:eW.a.underlay,tabIndex:F,to:m,"aria-label":d}):null,y.a.createElement("div",{className:eW.a.overlay},y.a.createElement("div",{className:eW.a.container},y.a.createElement("div",{className:eW.a.playIndexContainer},j?null:y.a.createElement(N_,{className:eW.a.index,index:o+1}),j||p?null:y.a.createElement(vM.a,{className:eW.a.playButton,"data-qa-id":"listItemPlayButton",tabIndex:F,title:d,onPress:N}),j?y.a.createElement(Sy,{className:eW.a.equalizer,isPaused:C}):null),y.a.createElement("div",{className:eW.a.posterContainer},V?y.a.createElement(uA.a,{imageWidth:D,imageHeight:P}):y.a.createElement(dA.a,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,listContext:s,metadataKey:l,type:c,imageWidth:D,imageHeight:P,imageUrl:T,isFolder:u,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1,showPlay:!1})),y.a.createElement("div",{className:eW.a.titleContainer},y.a.createElement("div",null,d),y.a.createElement(vF,{className:eW.a.subtitle,metadataItemEntityID:n,skipGrandparent:I,isSecondary:!0})),y.a.createElement("div",{className:eW.a.actionsContainer},y.a.createElement($F,{className:eW.a.rating,metadataItemEntityID:n,hideUnrated:H}),y.a.createElement(J_,{className:eW.a.duration,metadataItemEntityID:n}),y.a.createElement("div",{className:eW.a.buttons},b?y.a.createElement(sA.a,{className:eW.a.selectButton,tabIndex:F,title:d,isSelected:E,onPress:x}):null,f?y.a.createElement(jI.a,{"data-qa-id":"metadataTrackEditButton",className:eW.a.editButton,tabIndex:F,"aria-label":Object(Ce.default)("Edit {title}",{title:d}),onPress:w},y.a.createElement(kd.a,null)):null,v?y.a.createElement(w_.a,{"data-qa-id":"metadataTrackMoreButton",className:eW.a.moreButton,tabIndex:F,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:z,onMenuOpenChange:U}):null)))))},aW=a("MzBL"),nW=a.n(aW);var iW=function(e){const{cellIndex:t}=e,a=Object(KO.a)(e);return y.a.createElement("div",{className:t%2?nW.a.alternateLoadingItem:nW.a.loadingItem,style:a.style},Object(Ce.default)("Loading..."))};const rW=parseInt(yu.a.trackCellPadding,10),sW=Object(D_.a)(tW);class oW extends g.Component{render(){return this.props.metadataKey?this.props.showSelect?y.a.createElement(sW,{...this.props}):y.a.createElement(tW,{...this.props}):y.a.createElement(iW,{...this.props})}}var lW=Object(v.b)(YF.a)(Object(BI.a)((function(){return Object(he.a)((e,{listContext:t})=>t,(e,{cellHeight:t})=>t,Object(YO.a)(),oM.a,sM.a,Bs.b,j_(),C_(),Object(pM.a)(),M_(),cA(),oA(),Object(Z_.a)(),e=>e.ui.audioVideoPlayer.isPaused,Hx.a,v_(),(e,t,a={},n,i,r,s,o,l,c,d,u,p,m,h,g)=>{const y=t-2*rW,f=Object(P_.a)(null,y,s,o,a,e),b=!n||!i;return{metadataKey:a.key,grandparentTitle:a.grandparentTitle,type:s,index:a.index,title:a.title,summary:c,isFolder:a.isFolder,isUnavailable:!g,selectionID:a.entityID,selectionType:d,activeSelectionType:h.activeSelectionType,isSelected:u,route:l,isPlaying:p,isPlayerPaused:m,showLink:!!l,showEdit:!b&&Object(rk.d)({server:n,provider:i,stableUser:r,metadataItem:a}),showSelect:!b&&Object(rk.l)({server:n,provider:i,stableUser:r,metadataItem:a}),showMore:!a.isFolder&&g,imageWidth:f.width,imageHeight:f.height,imageUrl:f.url}})}),(function(e,t){const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID,itemProviderEntityID:t.itemProviderEntityID,metadataItemEntityID:t.metadataItemEntityID,metadataListEntityID:t.metadataListEntityID,metricsPage:t.metricsPage,options:{containerKey:t.containerKey,listType:t.listType}};return{onPlayPress(){e(Object(Ze.x)(a))},onEditPress(){e(Object(Fs.editMetadataItem)(a))},onSelectItem(t){e(Object(Zb.l)({metadataListEntityID:a.metadataListEntityID,id:a.metadataItemEntityID,...t}))},onDeselectItem(t){e(Object(Zb.b)({metadataListEntityID:a.metadataListEntityID,...t}))}}}),yL.a)(oW)),cW=a("MUEv"),dW=a.n(cW);const uW={[wo.TRACK]:parseInt(yu.a.trackCellHeight,10),[wo.ALBUM]:parseInt(yu.a.summaryCellHeight,10)},pW={[wo.TRACK]:lW,[wo.ALBUM]:F_},mW={[wo.TRACK]:3,[wo.ALBUM]:10};class hW extends g.Component{componentDidMount(){this.props.onListReady&&this.props.onListReady()}render(){const{className:e,serverEntityID:t,providerEntityID:a,hubEntityID:n,metadataListEntityID:i,metadataItemEntityIDs:r,hubIdentifier:s,directoryKey:o,containerKey:l,title:c,attribution:d,route:u,more:p,listType:m,listContext:h}=this.props,g=uW[m],f=pW[m],b=r.slice(0,mW[m]),v=wo.getMetadataType(m).plural,I=p||b.length!==r.length;return y.a.createElement("div",{className:e,"data-qa-id":"hub--"+s},y.a.createElement(xV,{className:dW.a.hubCellHeader,directoryKey:o,hubEntityID:n},y.a.createElement(RV,{className:dW.a.title},d?y.a.createElement(Jn,{className:dW.a.attribution,attribution:d}):null,c),I?y.a.createElement(jI.a,{className:dW.a.titleButton,to:u},Object(Ce.default)("See all {typeLabel}",{typeLabel:v})):null),y.a.createElement("div",{className:dW.a.list},b.map((e,n)=>y.a.createElement(f,{key:n,serverEntityID:t,providerEntityID:a,metadataListEntityID:i,metadataItemEntityID:e,containerKey:l,listType:m,listContext:h,cellIndex:n,cellHeight:g,style:{width:"100%",height:g}}))))}}hW.defaultProps={className:dW.a.hubCell};var gW=hW;const yW=Object(BI.a)((function(){return Object(he.a)((e,{sourceDirectory:t})=>t,(e,{listContext:t})=>t,(e,{allowSourceTitle:t})=>t,(e,{metricsPage:t})=>t,Object(RI.a)(),Object(xI.a)(),EV(),yH(),MV(),(e,t,a,n,i,r,s,o,l)=>{var c;const d=s.hubIdentifier.indexOf("music.video")>-1?lA.i:s.type,u=t||gV(s.hubIdentifier),p=zO(n,s.context||s.hubIdentifier);let m,h;if(s.key&&u!==XO.a){const t={key:s.key,title:s.title,pageType:bI.b,context:p};m=e?VH(i,r,e,t):s.source?Ea(s.source,t):Object(IH.a)(i,r,t)}h="content"===s.type||"channels"===s.type?b_:s.style===bH.c?UH:s.style!==bH.b||s.type!==wo.TRACK&&1!==s.size?s.metadataList?Y_:b_:gW;const g={component:h,metadataListEntityID:s.metadataList,metricsContext:p,hubIdentifier:s.hubIdentifier,title:s.title,sourceTitle:a?o:null,attribution:s.attribution,route:m,style:s.style,size:s.size,more:s.more,random:s.random,autoAdvanceDelayMs:s.autoAdvanceDelayMs,displayFieldDefinitions:null==(c=s.Meta)?void 0:c.DisplayFields,containerKey:s.key,listType:d,listSubtype:s.subtype,listContext:u,isHomeHub:l};if(s.source){const{serverEntityID:e,providerEntityID:t}=fH(s.source);g.serverEntityID=e,g.providerEntityID=t}return g})}))(q_.a);yW.propTypes={...yW.propTypes,providerEntityID:Qn.a.string.isRequired,serverEntityID:Qn.a.string.isRequired,hubEntityID:Qn.a.string.isRequired,sourceDirectory:vH,allowSourceTitle:Qn.a.bool};var fW=yW;const bW={dispatchFetchHomeHubs:qU,dispatchUpdateHomeHubsStatus:$U};class vW extends g.Component{constructor(e,t){super(e,t),this.onRetryHomeHub=()=>{const e={homeHubIDs:[this.props.homeHubID],fetchDelayMS:350};this.setState({hasRetried:!0},this.props.dispatchFetchHomeHubs.bind(null,e))},this.state={hasRetried:!1}}componentDidUpdate(e){const{errorTitle:t,homeHubID:a,isServerConnected:n,dispatchFetchHomeHubs:i,dispatchUpdateHomeHubsStatus:r}=this.props,s=!e.errorTitle&&t,o=n&&!e.isServerConnected,l=!n&&e.isServerConnected;s&&this.state.hasRetried&&$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was an error retrieving content.")}),(o||l)&&this.setState({hasRetried:!1},()=>{o?i({homeHubIDs:[a]}):l&&r({homeHubIDs:[a],status:{error:{},isPending:!1,isPopulated:!1}})})}render(){const{allowSourceTitle:e,dispatchFetchHomeHubs:t,dispatchUpdateHomeHubsStatus:a,homeHubID:n,homeHub:i,homePageHomeHubStatus:r,isServerConnected:s,sourceTitle:o,title:l,...c}=this.props;return r.isPopulated?y.a.createElement(fW,{...c,allowSourceTitle:e,hubEntityID:r.hub,providerEntityID:r.provider,serverEntityID:r.server}):y.a.createElement(hH,{...c,hasRetried:this.state.hasRetried,homeHub:i,homePageHomeHubStatus:r,sourceTitle:o,title:l,onRetryHomeHub:this.onRetryHomeHub})}}var IW=Object(v.b)((function(){return Object(he.a)(Object(hV.a)(),hz(),gz(),Sz(),Iz(),Object(he.a)(gz(),vz(),(e,t)=>{const{error:a}=e;let n;return a&&(n=a.isContentUnavailable?Object(Ce.default)("Content Unavailable"):t?t.isInstallingServerUpdate?Object(Ce.default)("Installing Update"):t.isOutOfDate?Object(Ce.default)("Update Required"):Object(Ce.default)("Unreachable"):Object(Ce.default)("Unknown Server")),n}),Object(he.a)(vz(),e=>!!e),Object(he.a)(vz(),e=>!!e&&e.isConnected),(e,{allowSourceTitle:t})=>t,(e,t,a,n,i,r,s,o,l)=>({columnAdjustment:e,errorTitle:r,hasServer:s,homeHub:t,homePageHomeHubStatus:a,isServerConnected:o,sourceTitle:l?i:null,title:n}))}),bW)(vW);const SW={opacity:0,pointerEvents:"none"},EW={opacity:1,pointerEvents:"auto"};class OW extends g.Component{constructor(e,t){super(e,t),this.onListReady=()=>{++this._readyCount===this._initialCount&&this.setState({isReady:!0})},this.state={isReady:!1},this._readyCount=0}componentWillMount(){this._initialCount=this.props.homeHubIDs.length}componentWillReceiveProps(e){const t=e.homeHubIDs.length,a=this.props.homeHubIDs.length;this.state.isReady||t===a||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentDidUpdate(e,t){!t.isReady&&this.state.isReady&&Object(E.c)("metrics").trackView({page:It.O,mode:iR.Custom})}render(){const{homeHubIDs:e}=this.props,{isReady:t}=this.state;return y.a.createElement("div",{style:t?EW:SW},e.map(e=>y.a.createElement(IW,{key:e,homeHubID:e,allowSourceTitle:!0,allowToggleHomeHub:!0,shouldConfirmHomeHubRemoval:!0,onListReady:this.onListReady})))}}var MW=OW;var CW=function(e){const{onResetCustomization:t}=e,a=Object(sE.a)(t);return y.a.createElement(_O.a,{iconSrc:sR.a,title:Object(Ce.default)("Your home screen is empty"),description:y.a.createElement(y.a.Fragment,null,y.a.createElement(LT.a,{message:Object(Ce.default)("If this is unexpected, see our {openLink}home screen customization tips{closeLink}. If you removed everything and want it all back, choosing Reset Customization below will reset your sidebar navigation and home screen layout to the default state."),tags:[{open:"openLink",close:"closeLink",component:jI.a,kind:ao.d,to:up.g,target:"_self"}]}))},y.a.createElement(Ih.a,{kind:ao.d,size:cc.a,onPress:a.onOpen},Object(Ce.default)("Reset Customization")),y.a.createElement(Xc.a,{kind:ao.a,title:Object(Ce.default)("Reset Customization"),message:Object(Ce.default)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:Object(Ce.default)("Reset Customization"),metricsPage:It.A,isOpen:a.isOpen,onCancel:a.onClose,onConfirm:a.onConfirm}))},jW=a("javt"),DW=a.n(jW);const PW=parseInt(yu.a.v4CardShadowSize,10),TW=Object(he.a)(ge.a,e=>e.columnAdjustment),wW=Object(he.a)(e=>e.ui.watchTogether.rooms.length,e=>e);var NW=function(){const e=Object(v.d)(TW),t=Object(v.d)(wW),[a,n]=Object(Gu.a)(),i=Object(g.useMemo)(()=>{if(!n.width)return null;const a=aB(lA.h,void 0,XO.e,e);return a.getListStyle({listTop:n.top,listLeft:n.left,viewportHeight:n.height,viewportWidth:n.width},t),{outerPaddingLeft:PW,outerPaddingRight:PW,columnWidth:a.getPositionForIndex(0).cellWidth}},[e,t,n]);return y.a.createElement("div",{ref:a},i?y.a.createElement(vU,{className:DW.a.hub,hubHeaderClassName:DW.a.hubHeader,hubLayoutOptions:i}):null)},xW=a("L1D5"),AW=a.n(xW);var LW=function(e){const{hubs:t,hasWatchTogetherRooms:a,settingsKey:n,onResetCustomization:i}=e;return t.length>0||a?y.a.createElement(VT,{innerClassName:AW.a.content,scrollPositionKey:n+"!scrollPosition"},a?y.a.createElement(NW,null):null,t.length>0?y.a.createElement(MW,{homeHubIDs:t}):null):y.a.createElement(CW,{onResetCustomization:i})};function kW(e){return e.reduce((e,t)=>{const{homeHubID:a,hubStatus:n,hubEntity:i,homeHub:r}=t;return r.isHidden||n&&i&&0===i.size||e.push(a),e},[])}function RW(){return Object(he.a)(Object(he.a)(e=>e.ui.homePage.homeHubStatuses,mV,cz,fz,Am.a,Lt.a,(e,t,a,n,i,r)=>t.map(t=>{const s=e.find(e=>e.homeHubID===t);return{homeHubID:t,homeHub:a.hubs.find(e=>e.id===t),hubStatus:s,hubEntity:s&&n[s.hub],server:s&&i[s.server],provider:s&&r[s.provider]}})),kW)}var zW=Object(v.b)((function(){return Object(Kt.a)(RW(),e=>({hubs:e}))}),(function(e){return{onResetCustomization(){e(Object(VS.N)())}}}))(LW);const UW=Object(he.a)(Hx.a,e=>e.activeSelectionItems[0]),VW=Object(he.a)(DO.a,UW,(e,t)=>t&&e[t.model]),BW=Object(he.a)(VW,(e={})=>{const{providerEntityID:t,serverEntityID:a}=e;return{providerEntityID:t,serverEntityID:a}});var FW=Object(BI.a)(BW)(xk);const HW={isEditModalOpen:!1};class _W extends g.Component{constructor(e,t){super(e,t),this.onEditButtonPress=()=>{this.setState({isEditModalOpen:!this.state.isEditModalOpen})},this.onModalClose=()=>{this.setState(HW)},this.state=HW}render(){const{isAnonymousUser:e}=this.props,{isEditModalOpen:t}=this.state;return y.a.createElement(Jm,null,y.a.createElement(ik.a,null,y.a.createElement(TI,{title:Object(Ce.default)("Home")})),y.a.createElement(WA,null,e?null:y.a.createElement(y.a.Fragment,null,y.a.createElement(lz,null,y.a.createElement(mk,{onPress:this.onEditButtonPress})),y.a.createElement(rz,null)),y.a.createElement(uL,null),y.a.createElement(nU,{isOpen:t,onModalClose:this.onModalClose})))}}var WW=_W;var QW=function(e){const{activeSelectionType:t,isPending:a,hasNoProviders:n,hasWatchTogetherRooms:i,isManagedUser:r,preferredServerID:s,settingsKey:o,shouldFetchPreferredServerContent:l,shouldFetchProviderPromotedContent:c,shouldFetchHomeContent:d,dispatchInitHomePage:u,dispatchResetHomePage:p,dispatchFetchPreferredServerContent:m,dispatchFetchProviderPromotedContent:h,dispatchFetchHomeContent:f,dispatchTryUpdateWatchTogetherRooms:b}=e;return Object(g.useEffect)(()=>(u(),p),[]),Object(g.useEffect)(()=>{l&&m()},[l,m]),Object(g.useEffect)(()=>{c&&h()},[c,h]),Object(g.useEffect)(()=>{d&&f()},[d,f]),Object(g.useEffect)(()=>{b()},[b]),a?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):n&&!i?r?y.a.createElement(sV,null):y.a.createElement(uV,null):y.a.createElement(rV.a,{machineIdentifier:s},y.a.createElement(UO.a,{isMetricsDelegated:!0,metricsPage:It.O,allowBackgroundLightPreset:!0,scrollDirection:iv.b},t?y.a.createElement(FW,null):y.a.createElement(WW,null),y.a.createElement(zW,{settingsKey:o,hasWatchTogetherRooms:i})))};const GW=Object(he.a)(AU.a,zI,jU,cz,Hx.a,NU,xU,Gk,Object(he.a)(e=>e.ui.watchTogether.rooms,e=>e.length>0),(e,t,a,n,i,r,s,o,l)=>{const{isPending:c,shouldFetchHomeContent:d,shouldFetchPreferredServerContent:u,shouldFetchProviderPromotedContent:p}=a,{preferredServerID:m,settingsKey:h}=n,{hasCompletedSetup:g}=t,y=e.isProvidersPopulated||!!e.providersError||e.isProvidersPending&&o.isRejected;return{isPending:c||!y||!g,hasNoProviders:r,hasWatchTogetherRooms:l,isManagedUser:s,preferredServerID:m,settingsKey:h,shouldFetchHomeContent:d,shouldFetchPreferredServerContent:u,shouldFetchProviderPromotedContent:y&&g&&p,activeSelectionType:i.activeSelectionType}}),KW={dispatchInitHomePage:KU,dispatchResetHomePage:JU,dispatchFetchPreferredServerContent:ZU,dispatchFetchProviderPromotedContent:XU,dispatchFetchHomeContent:YU,dispatchChangeQuickSearchSettings:Tt.changeQuickSearchSettings,dispatchTryUpdateWatchTogetherRooms:oR.g};class YW extends g.Component{componentDidMount(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null})}render(){return y.a.createElement(QW,{...this.props})}}var qW=Object(v.b)(GW,KW)(YW);var ZW=Object(he.a)(cz,e=>e.servers,Am.a,(e,t,a)=>{const{preferredServerID:n}=e;if(n)for(let e=0,i=t.length;e<i;e++){const i=a[t[e]];if(i.machineIdentifier===n)return i}});var XW=function(e){const{children:t,isPending:a}=e;return a?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):y.a.createElement(y.a.Fragment,null,t)};const JW=Object(he.a)(e=>e.isWaitingForServers,ZW,(e,t)=>({preferredServerEntityID:t&&t.entityID,isWaitingForServers:e}));var $W=Object(v.b)(JW)((function(e){const{isWaitingForServers:t,preferredServerEntityID:a,...n}=e,i=Object(g.useRef)(t);return i.current&&!t&&(i.current=t),y.a.createElement(XW,{...n,isPending:!a&&i.current})}));var eQ=function(){const e=Object(v.d)(ye),{context:t}=Object(I.i)();return e?y.a.createElement(Et.a,{metricsPage:It.O,metricsContextParam:t},y.a.createElement(OU,null)):y.a.createElement(RO.a,{metricsContext:t},y.a.createElement($W,null,y.a.createElement(qW,null)))};var tQ=XE.a.extend({name:"PlayHistoryListItemModel",syncedAttrs:{key:QE.a.string,parentKey:QE.a.string,grandparentKey:QE.a.string,title:QE.a.string,parentTitle:QE.a.string,grandparentTitle:QE.a.string,type:QE.a.string,thumb:QE.a.string,parentThumb:QE.a.string,grandparentThumb:QE.a.string,grandparentArt:QE.a.string,index:QE.a.integer,parentIndex:QE.a.integer,originallyAvailableAt:QE.a.string,viewedAt:QE.a.integer,accountID:QE.a.integer,deviceID:QE.a.integer},derivedAttrs:{itemKey(){return this.get("key")},id(){return this.cid}}});var aQ=CS.a.extend({name:"PlayHistoryListItemCollection",context:["server"],model:tQ});XE.a.extend({mixins:[KE.a],collectionName:"items",name:"PlayHistoryListModel",context:["server","accountID","filters","sort","limit"],responseType:qP.a,url(){const e=this.filters.reduce((e,t)=>(e[t.key]=t.value,e),{});null!=this.accountID&&(e.accountID=this.accountID),null!=this.sort&&(e.sort=this.sort),null!=this.limit&&(e.limit=this.limit);let t=j.default.join("/status/sessions/history/all",e);return t=t.replace("viewedAt=","viewedAt>="),this.getPaginatedUrl(t)},sessionAttrs:{currentPageStart:QE.a.integer,currentPageSize:QE.a.integer,populatedRange:QE.a.object},syncedAttrs:{totalSize:QE.a.integer},syncedRelations:{items:{relationClass:aQ,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()}});const nQ={accounts:[],isPending:!1,isPopulated:!1,error:null};var iQ=Object(jr.c)({name:"serverAccounts",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const a=e[t.server.machineIdentifier];Object(hm.c)(a)},fetchSucceeded(e,{payload:t}){const a=e[t.server.machineIdentifier];Object(hm.d)(a),a.accounts=t.data},fetchFailed(e,{payload:t}){const a=e[t.server.machineIdentifier];Object(hm.b)(a,t.error)}},extraReducers:e=>{e.addCase(Cs.actions.connected,(e,{payload:t})=>{const{server:a}=t;e[a.machineIdentifier]||(e[a.machineIdentifier]={...nQ})})}});const rQ={devices:[],isPending:!1,isPopulated:!1,error:null};var sQ=Object(jr.c)({name:"serverDevices",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const a=e[t.server.machineIdentifier];Object(hm.c)(a)},fetchSucceeded(e,{payload:t}){const a=e[t.server.machineIdentifier];Object(hm.d)(a),a.devices=t.data},fetchFailed(e,{payload:t}){const a=e[t.server.machineIdentifier];Object(hm.b)(a,t.error)}},extraReducers:e=>{e.addCase(Cs.actions.connected,(e,{payload:t})=>{const{server:a}=t;e[a.machineIdentifier]||(e[a.machineIdentifier]={...rQ})})}});var oQ=e=>{var t,a,n;const{data:i}=e,r=i.MediaContainer;return{items:null!=(t=null==r?void 0:r.Metadata)?t:[],totalSize:null!=(a=null==r?void 0:r.totalSize)?a:0,offset:null!=(n=null==r?void 0:r.offset)?n:0}},lQ=a("M8LJ");const cQ=Object(lQ.a)(e=>e,oQ),dQ=cQ.getDefaultPaginatedState();var uQ=Object(jr.c)({name:"playHistory",initialState:dQ,reducers:{...cQ.reducers}});function pQ(e,t){return!!e&&e.some(e=>e.key===t)}var mQ=a("1bIl"),hQ=a.n(mQ);var gQ=Object(At.a)((function(e){return Object(he.a)(Ra,t=>t.serverAccounts[e])}));var yQ=(e,t)=>Object(he.a)(gQ(e),e=>e.accounts.find(e=>e.id===t));var fQ,bQ,vQ=Object(At.a)((function(e){return Object(he.a)(Ra,t=>t.serverDevices[e])}));(bQ=fQ||(fQ={})).LibrarySectionID="librarySectionID",bQ.AccountID="accountID",bQ.MetadataItemID="metadataItemID",bQ.ViewedAt="viewedAt";const IQ={key:"user",title:()=>Object(Ce.default)("User"),component:function({className:e,playHistoryItem:t}){const[a]=Jt(),{accountID:n}=t,i=Object(g.useMemo)(()=>yQ(a.machineIdentifier,n),[n,a.machineIdentifier]),r=Object(v.d)(i);return r?y.a.createElement("span",{className:e,title:r.name},r.name):y.a.createElement("span",{className:e},Object(Ce.default)("Unknown User"))},style:{flex:"1 1 250px"}},SQ={key:"type",title:()=>Object(Ce.default)("Type"),component:function({className:e,playHistoryItem:t}){const{type:a}=t,n=Object(wo.getMetadataType)(a);return n?y.a.createElement("span",{className:e,title:n.title},n.title):null},style:{flex:"0 1 120px"}},EQ={key:"title",title:()=>Object(Ce.default)("Title"),component:function({className:e,playHistoryItem:t}){const a=Object(fg.a)(t);return y.a.createElement("span",{className:e},y.a.createElement("div",{className:hQ.a.titleContainer},y.a.createElement("span",{className:hQ.a.title,title:a},a)))},style:{flex:"2 0 350px"}},OQ={key:"player",title:()=>Object(Ce.default)("Player"),component:function({className:e,playHistoryItem:t}){const[a]=Jt(),{deviceID:n}=t,i=Object(v.d)(vQ(a.machineIdentifier)).devices.find(e=>e.id===n);return i?y.a.createElement("span",{className:e,title:i.name},i.name):y.a.createElement("span",{className:e},Object(Ce.default)("Unknown"))},style:{flex:"1 1 150px"}},MQ={key:"platform",title:()=>Object(Ce.default)("Platform"),component:function({className:e,playHistoryItem:t}){const[a]=Jt(),{deviceID:n}=t,i=Object(v.d)(vQ(a.machineIdentifier)).devices.find(e=>e.id===n);return i?y.a.createElement("span",{className:e,title:i.platform},i.platform):y.a.createElement("span",{className:e},Object(Ce.default)("Unknown"))},style:{flex:"1 1 150px"}},CQ=[{key:"viewedAt",ascKey:"viewedAt",descKey:"viewedAt:desc",title:()=>Object(Ce.default)("Played"),component:function({className:e,playHistoryItem:t}){const{viewedAt:a}=t,n=Object(v.d)(qO),i=Object(Xa.default)(1e3*a,n+" MMM d, yyyy");return y.a.createElement("span",{className:e,title:i},i)},style:{flex:"1 1 150px"}}];var jQ=a("nGgY"),DQ=a("awjD");var PQ=bc({rowHeight:parseInt(yu.a.tableRowHeight,10),overscan:20});var TQ=Object(he.a)(wr,e=>e.playHistory),wQ=a("ZZ6f"),NQ=a.n(wQ);function xQ({style:e,cellIndex:t}){return y.a.createElement("div",{className:t%2?NQ.a.alternateLoadingItem:NQ.a.loadingItem,style:e},Object(Ce.default)("Loading..."))}var AQ=a("QZ2m"),LQ=a.n(AQ);function kQ({item:e,activeTableColumns:t,...a}){const[n]=Jt(),i=Cr(a);let r;if(null==e?void 0:e.key){const a=t.some(e=>"title"===e.key),i=e.type===wo.TRACK?e.parentKey:e.key;r=a?Object(Ka.a)(n,{isLibraryProvider:!0},i):void 0}return e?y.a.createElement("div",{className:a.cellIndex%2?LQ.a.alternateItem:LQ.a.item,style:i.style},y.a.createElement(ga,{className:LQ.a.columns,"aria-label":e.title,to:r,isDisabled:!r},t.map(({style:t,component:a},n)=>y.a.createElement(my,{key:n,style:t,component:a,playHistoryItem:e})))):y.a.createElement(xQ,{style:i.style,cellIndex:a.cellIndex})}var RQ=a("hrUx"),zQ=a.n(RQ);function UQ({activeTableColumns:e,activeFilters:t,activeSort:a,isPlayHistorySupported:n}){const i=Object(v.c)(),[r]=Jt(),s=Object(v.d)(TQ),o=Object(v.d)(vQ(r.machineIdentifier)),{items:l,totalSize:c,isPopulated:d,error:u}=s,{isPopulated:p,error:m}=o,h=Object(g.useCallback)(e=>{i(uQ.actions.fetchRangeRequested({...e,server:r,filters:t,sort:a}))},[i,r,t,a]),f=Object(g.useMemo)(()=>t=>y.a.createElement(kQ,{...t,activeTableColumns:e}),[e]);return n?d&&c&&(p||m)?y.a.createElement(Pc,{className:zQ.a.playHistoryListPageContent,items:l,totalSize:c,layout:PQ,cellComponentFactory:f,onPageRequest:h}):d&&!c?y.a.createElement(Re,{title:Object(Ce.default)("Nothing to see here"),description:Object(Ce.default)("Snuggle up on the couch and play something!")}):u?y.a.createElement(Ue,null):y.a.createElement(Re,null,y.a.createElement(Ge,null)):y.a.createElement(ze,{title:Object(Ce.default)("Update your {productName}",{productName:"Plex Media Server"}),description:y.a.createElement(ga,{kind:da.Primary,to:Object(lm.a)(r.machineIdentifier,"settings","general")},Object(Ce.default)("Play History requires {productName} {version} or higher",{productName:"Plex Media Server",version:so.a.playHistory}))})}var VQ=a("Vm2w");function BQ(e,t,a){const n=[...e],i=n.findIndex(e=>e.key===t),r=-1===i?0:i,s={key:t,...a};return-1===i?n.push(s):n.splice(r,1,s),n}function FQ(e,t){if(1===e.id)return-1;if(1===t.id)return 1;const a=e.name.trim().toUpperCase(),n=t.name.trim().toUpperCase();return a<n?-1:a>n?1:0}var HQ=Object(At.a)((function(e){return Object(he.a)(gQ(e),e=>e.accounts.slice().sort(FQ))}));let _Q,WQ;function QQ(e,t=window.location.hash){const a=function(e){if(_Q===e)return WQ;const t=e.split("?"),a=t.length>1?t[1]:void 0,n=a?j.default.parseParams(a):{};return _Q=e,WQ={url:t[0],params:n},WQ}(t);return j.default.join(a.url,{...a.params,filters:Object(OO.a)(e.filters),activeTimePeriod:e.activeTimePeriod,sort:e.sort})}function GQ({activeFilters:e,activeTimePeriod:t,activeSort:a}){const[n]=Jt(),i=Object(_r.a)(),r=ul(),s=Object(g.useMemo)(()=>({key:"",title:Object(Ce.default)("All Users")}),[]),o=Object(v.d)(HQ(n.machineIdentifier)),l=Object(g.useMemo)(()=>o.reduce((e,t)=>(e.push({key:String(t.id),title:t.name}),e),[s]),[o,s]),c=Object(g.useMemo)(()=>{const t=e.find(e=>"accountID"===e.key);return t?l.find(e=>e.key===t.value):s},[e,l,s]),d=Object(g.useCallback)(n=>{let i;i=n?BQ(e,fQ.AccountID,{value:String(n),type:oD.b}):IP(e,fQ.AccountID),window.location.hash=QQ({filters:i,activeTimePeriod:t,sort:a})},[e,t,a]);return c&&l.length?y.a.createElement(y.a.Fragment,null,y.a.createElement(cD.a,{id:i,hasMenu:!0,isMenuOpen:r.isOpen,onPress:r.onToggle},c.title),y.a.createElement(Xs.a,{target:i,isOpen:r.isOpen,onMenuClose:r.onClose},l.map(e=>y.a.createElement(uc.a,{key:e.key,value:e.key,isSelected:c.key===e.key,onSelect:Object(to.a)(d,r.onClose)},e.title)))):null}var KQ=Object(At.a)((function(e,t){return Object(he.a)(Qt(e,t),e=>e.filter(e=>{const t=e.type?wo.getMetadataType(e.type):null;return t&&t.typeString!==wo.PLAYLIST}))}));function YQ({activeFilters:e,activeTimePeriod:t,activeSort:a}){const[n,i]=Jt(),r=Object(_r.a)(),s=ul(),o=Object(v.d)(KQ(n.machineIdentifier,i.identifier)),l=Object(g.useMemo)(()=>({key:"all",title:Object(Ce.default)("All Libraries")}),[]),c=Object(g.useMemo)(()=>o.reduce((e,t)=>(e.push({key:t.id,title:t.title}),e),[l]),[o,l]),d=Object(g.useMemo)(()=>{const t=e.find(e=>"librarySectionID"===e.key);return t&&c.length?c.find(e=>String(e.key)===t.value):l},[e,c,l]),u=Object(g.useCallback)(n=>{let i;i="all"!==n?BQ(e,fQ.LibrarySectionID,{value:n,type:oD.b}):IP(e,fQ.LibrarySectionID),window.location.hash=QQ({filters:i,activeTimePeriod:t,sort:a})},[e,t,a]);return d&&o.length?y.a.createElement(y.a.Fragment,null,y.a.createElement(cD.a,{id:r,hasMenu:!0,isMenuOpen:s.isOpen,onPress:s.onToggle},d.title),y.a.createElement(Xs.a,{target:r,isOpen:s.isOpen,onMenuClose:s.onClose},c.map(e=>y.a.createElement(uc.a,{key:e.key,value:e.key,isSelected:d.key===e.key,onSelect:Object(to.a)(u,s.onClose)},e.title)))):null}function qQ(){const[e]=Jt(),t=Object(_r.a)(),a=ul(),n=Object(v.d)(qt),i=Object(g.useMemo)(()=>n.reduce((e,t)=>(t.isFullOwnedServer&&t.isConnected&&e.push({key:t.machineIdentifier,title:t.friendlyName}),e),[]),[n]),r=Object(g.useMemo)(()=>i.find(t=>t.key===e.machineIdentifier),[e,i]),s=Object(g.useCallback)(e=>{window.location.hash=Object(VQ.a)(e)},[]);return r?y.a.createElement(y.a.Fragment,null,y.a.createElement(cD.a,{id:t,hasMenu:!0,isMenuOpen:a.isOpen,onPress:a.onToggle},r.title),y.a.createElement(Xs.a,{target:t,isOpen:a.isOpen,onMenuClose:a.onClose},i.map(e=>y.a.createElement(uc.a,{key:e.key,value:e.key,isSelected:r.key===e.key,onSelect:Object(to.a)(s,a.onClose)},e.title)))):null}function ZQ({activeFilters:e,activeTimePeriod:t,activeSort:a}){const n=Object(_r.a)(),i=ul(),r=[DQ.a.Week,DQ.a.Month,DQ.a.NinetyDays,DQ.a.Year,DQ.a.AllTime],s=Object(g.useCallback)(t=>{const n=BQ(e,fQ.ViewedAt,{value:String(Object(DQ.c)(t)),type:oD.b});window.location.hash=QQ({filters:n,activeTimePeriod:t,sort:a})},[e,a]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(cD.a,{id:n,hasMenu:!0,isMenuOpen:i.isOpen,onPress:i.onToggle},Object(DQ.e)(t)),y.a.createElement(Xs.a,{target:n,isOpen:i.isOpen,onMenuClose:i.onClose},r.map(e=>y.a.createElement(uc.a,{key:e,value:e,isSelected:t===e,onSelect:Object(to.a)(s,i.onClose)},Object(DQ.e)(e)))))}const XQ=Object(he.a)(TQ,e=>e.totalSize);function JQ({activeFilters:e,activeFilterTitle:t,activeTimePeriod:a,activeSort:n,isPlayHistorySupported:i}){const[r]=Jt(),s=Object(v.d)(XQ),o=!pQ(e,fQ.MetadataItemID);return y.a.createElement(Jm,null,y.a.createElement(ik.a,null,y.a.createElement(cD.a,{to:Object(VQ.a)(r.machineIdentifier)},Object(Ce.default)("Play History")),t?y.a.createElement(cD.a,null,t):null,o?y.a.createElement(qQ,null):null,i&&o?y.a.createElement(y.a.Fragment,null,y.a.createElement(YQ,{activeFilters:e,activeTimePeriod:a,activeSort:n}),y.a.createElement(GQ,{activeFilters:e,activeTimePeriod:a,activeSort:n}),y.a.createElement(ZQ,{activeFilters:e,activeTimePeriod:a,activeSort:n})):null,y.a.createElement(Gb.a,null,s)))}var $Q=a("yULO"),eG=a.n($Q);function tG({activeTableColumns:e,activeFilters:t,activeTimePeriod:a,activeSort:n}){return y.a.createElement(By,null,e.map(({style:e,title:i,ascKey:r,descKey:s,key:o})=>{if(!r)return y.a.createElement("div",{key:o,style:e,className:eG.a.tableHeader},y.a.createElement(_y,null,y.a.createElement(Xy,null,i())));const l=n===r||n===s,c=n===r;return y.a.createElement(Gy,{key:o,style:e,to:QQ({filters:t,activeTimePeriod:a,sort:c?s:r})},y.a.createElement(_y,{isActive:l},y.a.createElement(Xy,null,i()),l?y.a.createElement(zy,{isAscending:!c}):null))}))}function aG(){var e;const t=Object(v.c)(),[a]=Jt(),n=Object(Me.a)(),i=Object(Mt.a)(n.filters),r=Object(Qk.a)(n.filterTitle),s=null!=(e=Object(qp.c)(DQ.a).find(e=>e===Object(Qk.a)(n.activeTimePeriod)))?e:DQ.a.AllTime,o=n.sort?Object(Qk.a)(n.sort):"viewedAt:desc",l=Object(jQ.a)(n.isParentType),c=Object(oo.a)(a.version,so.a.playHistory),d=Object(oo.a)(a.version,so.a.playHistoryDevices),u=function(e,t,a){let n=CQ;return a&&(n=[OQ,MQ,...n]),!t&&pQ(e,fQ.MetadataItemID)||(n=[EQ,...n]),pQ(e,fQ.LibrarySectionID)||pQ(e,fQ.MetadataItemID)||(n=[SQ,...n]),pQ(e,fQ.AccountID)||(n=[IQ,...n]),n}(i,l,d);return Nl(),Object(g.useEffect)(()=>{t(sQ.actions.populateRequested({server:a})),t(iQ.actions.populateRequested({server:a}))},[t,a]),Object(g.useEffect)(()=>(c&&Object(Dt.a)(()=>{t(uQ.actions.fetchRangeRequested({server:a,filters:i,sort:o,startIndex:0,size:100}))}),()=>{t(uQ.actions.reset())}),[i,o,t,c,a]),y.a.createElement(ca,{scrollDirection:Ie.None},y.a.createElement(JQ,{activeFilters:i,activeFilterTitle:r,activeTimePeriod:s,activeSort:o,isPlayHistorySupported:c}),c?y.a.createElement(tG,{activeTableColumns:u,activeFilters:i,activeTimePeriod:s,activeSort:o}):null,y.a.createElement(UQ,{activeTableColumns:u,activeFilters:i,activeSort:o,isPlayHistorySupported:c}))}function nG(){const{machineIdentifier:e,providerIdentifier:t}=Wk(),a=Object(Me.a)();return y.a.createElement($t,{machineIdentifier:e,providerIdentifier:t},y.a.createElement(aR,{machineIdentifier:e,providerIdentifier:t},y.a.createElement(Et.a,{metricsPage:It.Z,metricsContext:Object(Qk.a)(a.context)},y.a.createElement(aG,null))))}var iG=a("i1MD"),rG=a.n(iG);function sG({children:e}){return y.a.createElement("div",{className:rG.a.container},e)}var oG=Object(he.a)(yz.a,e=>e.playlistItems);const lG=Object(yo.a)(zx.k),cG=Object(yo.a)(zx.j),dG=Object(yo.a)(zx.u),uG=Object(yo.a)(zx.h),pG=Object(yo.a)(zx.n),mG=Object(yo.a)(zx.r),hG=Object(yo.a)(zx.y),gG=Object(yo.a)(zx.d),yG=Object(yo.a)(zx.m),fG=Object(yo.a)(zx.p),bG=Object(yo.a)(zx.q);var vG=a("y3BC"),IG=a("ujuY"),SG=a("hDJw"),EG=a("uisW");const OG=Object(yo.a)("INIT_PRE_PLAY_PAGE"),MG=Object(yo.a)("INIT_PRE_PLAY_DESCENDANT_LIST"),CG=Object(yo.a)("INIT_PRE_PLAY_SIBLING_LIST"),jG=Object(yo.a)("INIT_PRE_PLAY_AUGMENTED_HUBS"),DG=Object(yo.a)("PRE_FETCH_PRE_PLAY_METADATA_ITEM"),PG=Object(yo.a)("FETCH_PRE_PLAY_METADATA_ITEM"),TG=Object(yo.a)("FETCH_PRE_PLAY_RELATED_HUBS"),wG=Object(yo.a)("FETCH_PRE_PLAY_AUGMENTED_HUBS"),NG=Object(yo.a)("MAKE_PRE_PLAY_VIDEO_DECISION"),xG=Object(yo.a)("REPOPULATE_PRE_PLAY_POPULAR_TRACKS");function AG(e){return e.get("ui").get("prePlayPage")}function LG(e,t){const{metadataItemEntityID:a,containerKeyPattern:n}=t;if(n)return!1;const i=Object(TS.k)(e,t),r=AG(e).get("metadataItem");return!(!r||r.server!==i)&&(!a||r.entityID()===a)}function kG(e,t,a){const n=AG(e),i=n.get("siblingList"),r=n.get("descendantList"),s=n.get("relatedHubs");i&&a(Object(Zb.j)({metadataListEntityID:i.entityID()})),r&&(n.get("metadataItem").get("type")===wo.ALBUM?a(Object(Zb.d)({metadataListEntityID:r.entityID()})):a(Object(Zb.j)({metadataListEntityID:r.entityID()}))),s&&a(TG())}function RG(e,t){const a=Object(TS.k)(e,t),n=AG(e),i=n.get("metadataItem");if(!i||i.server!==a)return;const r=t.activity.Context;if(!r||r.key!==i.get("key"))return;if(null==r.exists&&null==r.accessible)return;const s=!r.exists||!r.accessible;n.set("isFileUnavailable",s),s&&window.setTimeout(()=>{i.set("isPreFetched",!1)},0)}const zG=Object(MS.a)({INIT_PRE_PLAY_PAGE(e,t){const a=AG(e),n=Object(TS.k)(e,t),i=Object(TS.h)(e,t),{providerEntityID:r,metadataKey:s}=t;if(r===a.get("providerEntityID")&&s===a.get("metadataKey"))return;const o=new _I.a({key:s},{server:n,provider:i}),l=j.default.join([s.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]),c=Object(SG.a)(e,ve.a),d=new vG.default([],{server:n,provider:i,metadataItem:o,hubKey:l,includeExternalMedia:c,includeExternalMetadata:!0,asyncAugmentMetadata:!0});a.restoreDefaults({providerEntityID:r,metadataKey:s,metadataItem:o,siblingKey:a.get("siblingKey"),siblingList:a.get("siblingList"),relatedHubs:d})},INIT_PRE_PLAY_DESCENDANT_LIST(e,t){const a=AG(e),n=Object(TS.k)(e,t),i=Object(TS.h)(e,t),r=Object(TS.d)(e,t),{providerEntityID:s,descendantKey:o}=t;if(!o)return void a.set({descendantKey:o,descendantList:void 0});if(s===a.get("providerEntityID")&&o===a.get("descendantKey"))return;const l=Object(SG.a)(e,ve.a),c="album"===r.get("type")||"artist"===r.get("type")&&r.get("skipChildren"),d=new GE.default({containerKey:o},{server:n,provider:i,excludeAllLeaves:!0,includeExternalMedia:l,includeRelated:c});a.set({descendantKey:o,descendantList:d})},INIT_PRE_PLAY_SIBLING_LIST(e,t){const a=AG(e),n=Object(TS.k)(e,t),i=Object(TS.h)(e,t),{providerEntityID:r,siblingKey:s}=t;if(!s)return void a.set({siblingKey:s,siblingList:void 0});if(r===a.get("providerEntityID")&&s===a.get("siblingKey"))return;const o=Object(SG.a)(e,ve.a),l=new GE.default({containerKey:s},{server:n,provider:i,excludeAllLeaves:!0,includeExternalMedia:o});a.set({siblingKey:s,siblingList:l})},INIT_PRE_PLAY_AUGMENTED_HUBS(e,t,a){const n=AG(e),i=n.get("metadataItem"),r=i.get("augmentationKey"),s=[wo.ARTIST,wo.ALBUM],o=[wo.MOVIE,wo.SHOW,wo.SEASON,wo.EPISODE],l=i.get("type");if(!(s.includes(l)||o.includes(l))||!r)return void n.set({isAugmentedHubsPending:!1,isAugmentedHubsPopulated:!0});const c=new vG.default([],{server:i.server,provider:i.provider,hubKey:i.get("augmentationKey"),excludeFields:"",wait:1});n.set({augmentedHubs:c}),a(wG())},PRE_FETCH_PRE_PLAY_METADATA_ITEM(e,t){const a=Object(TS.d)(e,t);Object(IG.a)(a,{forceFetch:!0})},FETCH_PRE_PLAY_METADATA_ITEM(e,t,a){const n=AG(e),i=n.get("metadataItem"),r=n.get("isMetadataItemPending");n.set("isMetadataItemPending",!0),Object(IG.a)(i,{forceFetch:!0}).done(()=>{n.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItemError:null}),a(jG())}).fail((e,t)=>{t.aborting?n.set("isMetadataItemPending",r):n.set({isMetadataItemPending:!1,metadataItemError:Object(rS.a)(t)})})},FETCH_PRE_PLAY_RELATED_HUBS:Object(WI.a)({key:"relatedHubs",getModel:AG}),FETCH_PRE_PLAY_AUGMENTED_HUBS:Object(WI.a)({key:"augmentedHubs",getModel:AG}),MAKE_PRE_PLAY_VIDEO_DECISION(e,t,a){const n=AG(e),i=e.get("user").get("experienceSettings"),r=n.get("metadataItem"),s=Object(E.c)("getDecisionOptions")(r),o=aC.a.getCurrentQuality(r,i,e=>a(Object(xy.l)(e))),l=EG.a.getMediaDecision({item:r,transcodeServer:r.server,quality:o,...s});n.set("decisionMediaItem",l.media)},[$I.o](e,t){t.activity.type===Ms.f&&RG(e,t)},[$I.g](e,t){t.activity.type===Ms.f&&RG(e,t)},[no.d](e,t,a){LG(e,t)&&kG(e,0,a)},[eS.a](e,t,a){const n=AG(e),i=n.get("metadataItem");if(LG(e,t))i.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),kG(e,0,a);else{const r=Object(TS.k)(e,t),s=n.get("siblingList"),o=t.parentMetadataKey;i&&i.server===r&&s&&o&&i.get("parentKey")===o&&a(Object(Zb.j)({metadataListEntityID:s.entityID()}))}},REPOPULATE_PRE_PLAY_POPULAR_TRACKS(e,t,a){const n=AG(e).get("metadataItem"),i=Object(TS.o)(e,{metadataItemEntityID:t.albumMetadataItemEntityID});n&&i&&n.get("key")===i.get("parentKey")&&a(Object(no.o)({serverEntityID:t.serverEntityID,metadataItemEntityID:n.entityID()}))}});var UG=Object(he.a)(ge.a,e=>e.listStyles);var VG=Object(he.a)(ge.a,e=>e.playThemeMusic);var BG=Object(he.a)(ge.a,e=>e.showPrePlayArtwork);function FG(){return Object(he.a)(Object(YO.a)(),(e={})=>{const{type:t,subtype:a,skipChildren:n}=e;if(t===wo.COLLECTION)return a;if(t===wo.SHOW&&a===Co.PODCAST)return wo.TRACK;const i=n?wo.getLeafType(t):wo.getChildType(t);return i&&i.typeString})}var HG=a("ZEoo");function _G(e,{metricsPage:t}){return y.a.createElement(HG.a,{...e,page:t})}_G.contextTypes={metricsPage:Qn.a.string.isRequired};var WG=_G,QG=a("FAj2"),GG=a.n(QG);var KG=function(e){return y.a.createElement(_O.a,{iconClassName:GG.a.icon,iconComponent:je.a,...e})};var YG=function(){return y.a.createElement(KG,{title:Object(Ce.default)("Nothing is here"),description:Object(Ce.default)("This item may have been deleted recently")},y.a.createElement(jI.a,{to:"#",kind:ao.d},Object(Ce.default)("Go Home")))};var qG=function(){return y.a.createElement(KG,{title:Object(Ce.default)("You must be lost"),description:Object(Ce.default)("This item does not have its own page")},y.a.createElement(jI.a,{to:"#",kind:ao.d},Object(Ce.default)("Go Home")))};var ZG=a("ERyq");var XG=Object(he.a)(e=>e.ui.libraryPage.metadataList,HB.a,(e,t)=>t[e]);var JG=Object(he.a)(e=>e.ui.libraryPage.details,XG,(e,t)=>{const a=t&&t.meta;return a&&a.types.length?a.types:e?e.types:void 0});function $G(){return Object(he.a)((e,{activeType:t})=>t,(e,{typeKey:t})=>t,JG,(e,t,a)=>{let n;return t?n=M.a.find(a,e=>e.key===t):e&&(n=M.a.find(a,t=>{const a=Object(wo.getMetadataType)(t.type),n=Object(wo.getMetadataType)(e);return!!a&&!!n&&a.id===n.id})),n||(n=M.a.first(a)),n})}function eK(e){const{type:t,primaryExtraKey:a}=e;return"track"===t&&!!a}var tK=a("a4j+"),aK=a("O9Ym"),nK=a("W6Nc"),iK=a.n(nK);function rK(e){const{className:t,iconClassName:a,iconComponent:n}=e;return y.a.createElement("span",{className:t},y.a.createElement(n,{className:a}))}rK.defaultProps={className:iK.a.decoratorIconContainer,iconClassName:iK.a.decoratorIcon};var sK=rK,oK=a("eq1q"),lK=a.n(oK);var cK=function(e){const{className:t,title:a,isFolder:n,isMultiVersion:i,hasMusicVideo:r}=e;return y.a.createElement("span",{className:t},y.a.createElement("div",{className:lK.a.titleContainer},n?y.a.createElement(sK,{className:lK.a.folderIconContainer,iconClassName:lK.a.folderIcon,iconComponent:qh.a}):null,y.a.createElement("span",{className:lK.a.title},a),y.a.createElement("span",null,i?y.a.createElement(sK,{iconClassName:lK.a.multiVersionIcon,iconComponent:aK.a}):null,r?y.a.createElement(sK,{iconComponent:zp.a}):null)))};var dK=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),e=>e?{title:e.title,isFolder:e.isFolder,isMultiVersion:Object(tK.a)(e),hasMusicVideo:eK(e)}:{})}))(cK),uK=a("litE"),pK=a.n(uK);var mK=function(e){const{className:t,title:a,originalTitle:n,hasMusicVideo:i}=e;return y.a.createElement("span",{className:t},y.a.createElement("span",{className:pK.a.titleContainer},y.a.createElement("span",{className:pK.a.title,"data-qa-id":"trackName"},a,n?y.a.createElement("span",{className:pK.a.trackArtist},a?y.a.createElement(Hi.b,null):null,n):null),i?y.a.createElement(sK,{iconComponent:zp.a}):null))};var hK=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),e=>{if(!e)return{};const{title:t,originalTitle:a}=e;return{title:t,originalTitle:a,hasMusicVideo:eK(e)}})}))(mK);var gK=function({className:e,lastRatedAt:t}){return t?y.a.createElement(hB,{className:e,timestamp:t}):null};var yK=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({lastRatedAt:e.lastRatedAt}))}))(gK),fK=a("1B0D"),bK=a.n(fK);function vK({size:e,saved:t,viewOffset:a,viewCount:n}){return null==t||t||a?n||a?a?y.a.createElement("div",{className:Pe()(bK.a.unwatchedCircle,bK.a.isPartiallyWatched,bK.a[e])}):null:y.a.createElement("div",{className:Pe()(bK.a.unwatchedCircle,bK.a[e])}):null}vK.defaultProps={size:cc.b};var IK=vK;var SK=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({saved:e.saved,viewOffset:e.viewOffset,viewCount:e.viewCount}))}))(IK),EK=a("7ykk"),OK=a.n(EK);function MK(e){const{className:t,size:a,duration:n,viewOffset:i,viewCount:r,isFolder:s}=e;return s?null:r||i?y.a.createElement(lF,{className:t,duration:n,viewOffset:i}):y.a.createElement("div",{className:Pe()(OK.a.unwatchedCircle,OK.a[a])})}MK.defaultProps={size:cc.b};var CK=MK;var jK=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({duration:e.duration,viewOffset:e.viewOffset,viewCount:e.viewCount,isFolder:e.isFolder}))}))(CK);var DK=function({className:e,originalTitle:t}){return y.a.createElement("span",{className:e,title:t},t)};var PK=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({originalTitle:e.originalTitle}))}))(DK);var TK=function({className:e,unviewedLeafCount:t}){let a;return t>0&&(a=Object(Ce.default)("{numEpisodes} unplayed",{numEpisodes:t})),y.a.createElement("span",{className:e},a)};var wK=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({unviewedLeafCount:e.unviewedLeafCount}))}))(TK);var NK=function({className:e,viewCount:t}){return y.a.createElement("span",{className:e},t>0?t:null)};var xK=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({viewCount:e.viewCount}))}))(NK);const AK={flex:"2 1 350px"},LK={flex:"0 1 200px"},kK={key:"title",ascKey:"titleSort",descKey:"titleSort:desc",title:e=>{switch(e){case wo.MOVIE:return Object(Ce.default)("Movie Title");case wo.SHOW:return Object(Ce.default)("Show Title");case wo.EPISODE:return Object(Ce.default)("Episode Title");case wo.ARTIST:return Object(Ce.default)("Artist Title");case wo.ALBUM:return Object(Ce.default)("Album Title");case wo.TRACK:return Object(Ce.default)("Track Title");default:return Object(Ce.default)("Title")}},component:()=>dK,style:AK},RK={key:"season",ascKey:"season.index,season.titleSort",descKey:"season.index:desc,season.titleSort",title:()=>Object(Ce.default)("Season"),component:()=>dK,style:AK},zK={key:"seasonShow",ascKey:"show.titleSort,index",descKey:"show.titleSort:desc,index",title:()=>Object(Ce.default)("Show"),component:()=>uB,style:AK},UK={key:"episodeShow",ascKey:"show.titleSort,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",descKey:"show.titleSort:desc,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",title:()=>Object(Ce.default)("Show"),component:()=>dM,style:AK},VK={key:"albumArtist",ascKey:"artist.titleSort,album.titleSort,album.index,album.id,album.originallyAvailableAt",descKey:"artist.titleSort:desc,album.titleSort,album.index,album.id,album.originallyAvailableAt",title:()=>Object(Ce.default)("Album Artist"),component:()=>uB,style:AK},BK={key:"trackAlbumArtist",ascKey:"artist.titleSort,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",descKey:"artist.titleSort:desc,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",title:()=>Object(Ce.default)("Album Artist"),component:()=>dM,style:AK},FK={key:"trackArtist",title:()=>Object(Ce.default)("Artist"),ascKey:"originalTitle",descKey:"originalTitle:desc",component:()=>PK,style:AK},HK={key:"combinedTitleTrackArtist",ascKey:"titleSort",descKey:"titleSort:desc",title:()=>Object(Ce.default)("Track Title"),component:()=>hK,style:AK},_K={key:"trackAlbum",ascKey:"album.titleSort",descKey:"album.titleSort:desc",title:()=>Object(Ce.default)("Album"),component:()=>uB,style:AK},WK={key:"year",ascKey:"year",descKey:"year:desc",title:()=>Object(Ce.default)("Year"),component:()=>gM,style:{flex:"0 1 150px"}},QK={key:"criticRating",ascKey:"rating",descKey:"rating:desc",title:()=>Object(Ce.default)("Critic Rating"),component:()=>UF,style:{flex:"0 0 150px"}},GK={key:"userRating",ascKey:"userRating",descKey:"userRating:desc",title:()=>Object(Ce.default)("Rating"),component:()=>$F,style:{flex:"0 0 115px"}},KK={key:"miniUserRating",ascKey:"userRating",descKey:"userRating:desc",title:()=>Object(Ce.default)("Rating"),component:()=>$F,style:{flex:"0 0 75px",padding:0}},YK={key:"contentRating",ascKey:"contentRating",descKey:"contentRating:desc",title:()=>Object(Ce.default)("Content Rating"),component:()=>RF,style:{flex:"0 0 150px"}},qK={key:"duration",ascKey:"duration",descKey:"duration:desc",title:()=>Object(Ce.default)("Duration"),component:e=>{switch(e){case wo.TRACK:return J_;default:return VF}},style:{flex:"0 1 150px"}},ZK={key:"progress",ascKey:"viewOffset",descKey:"viewOffset:desc",title:()=>Object(Ce.default)("Progress"),component:()=>jK,style:{flex:"0 1 150px"}},XK={key:"miniProgress",ascKey:"viewOffset",descKey:"viewOffset:desc",title:()=>Object(Ce.default)("Progress"),component:()=>SK,style:{flex:"0 0 25px",paddingLeft:"10px",paddingRight:0}},JK={key:"seasonCount",ascKey:"childCount",descKey:"childCount:desc",title:()=>Object(Ce.default)("Seasons"),component:()=>gF,style:{flex:"0 1 150px"}},$K={key:"seasonCount",ascKey:"childCount",descKey:"childCount:desc",title:()=>Object(Ce.default)("Episodes"),component:()=>JB,style:{flex:"0 1 150px"}},eY={key:"unwatchedCount",ascKey:"unviewedLeafCount",descKey:"unviewedLeafCount:desc",title:()=>Object(Ce.default)("Unplayed"),component:()=>wK,style:{flex:"0 1 150px"}},tY={key:"playCount",ascKey:"viewCount",descKey:"viewCount:desc",title:()=>Object(Ce.default)("Plays"),component:()=>xK,style:{flex:"0 1 150px"}},aY={key:"dateAdded",ascKey:"addedAt",descKey:"addedAt:desc",title:()=>Object(Ce.default)("Date Added"),component:()=>ZB,style:LK},nY={key:"dateViewed",ascKey:"lastViewedAt",descKey:"lastViewedAt:desc",title:()=>Object(Ce.default)("Date Viewed"),component:()=>FF,style:LK},iY={key:"releaseDate",ascKey:"originallyAvailableAt",descKey:"originallyAvailableAt:desc",title:e=>{switch(e){case"movie":return Object(Ce.default)("Release Date");case"show":case"episode":return Object(Ce.default)("Air Date");case"album":default:return Object(Ce.default)("Release Date")}},component:()=>QF,style:LK},rY={key:"lastRatedAt",ascKey:"lastRatedAt",descKey:"lastRatedAt:desc",title:()=>Object(Ce.default)("Date Rated"),component:()=>yK,style:LK},sY={key:"resolution",ascKey:"mediaHeight",descKey:"mediaHeight:desc",title:()=>Object(Ce.default)("Resolution"),component:()=>KF,style:{flex:"0 1 150px"}},oY={key:"bitrate",ascKey:"mediaBitrate",descKey:"mediaBitrate:desc",title:()=>Object(Ce.default)("Bitrate"),component:()=>LF,style:{flex:"0 1 150px"}},lY={movie:[kK,WK,QK,GK,YK,qK,ZK,tY,aY,nY,iY,sY,oY],show:[kK,WK,QK,GK,YK,JK,eY,aY,nY,iY],season:[RK,zK,GK,aY],episode:[kK,UK,WK,QK,GK,qK,ZK,tY,aY,nY,iY,sY,oY],artist:[kK,GK,aY],album:[kK,VK,WK,QK,GK,aY,iY],track:[kK,BK,FK,_K,WK,GK,qK,ZK,tY,aY,rY,oY],collection:[kK,GK]},cY=[kK,RK,zK,UK,VK,BK,FK,_K,WK,QK,GK,YK,qK,ZK,JK,$K,eY,tY,aY,nY,rY,iY,sY,oY];function dY(e){return lY[e]}function uY(e=[]){const t=e.reduce((e,t)=>(e[t.key]=!0,e),{});return cY.reduce((e,a)=>(t[a.ascKey]&&e.push(a),e),[])}var pY=Object(he.a)(ge.a,e=>e.libraryTableColumns);function mY(){return Object(he.a)((e,{listType:t})=>t,(e,{listSubtype:t})=>t,(e,{listContext:t})=>t,(e,{isFolder:t})=>t,$G(),pY,(e,t,a,n,i={},r)=>{const s=a===XO.e,o=QA(e,t);return function(e,t,a,n={}){const i=n.keys,r=n.sorts,s=n.isFolder;if(i&&i.length){return(r&&r.length&&!s?uY(r):dY(e)).reduce((e,t)=>(-1!==i.indexOf(t.key)&&e.push(t),e),[])}switch(a){case XO.n:switch(e){case wo.SEASON:return[RK,WK,$K,GK];case wo.EPISODE:return[XK,kK,GK];case wo.ALBUM:return[kK,WK,GK];case wo.TRACK:return[HK,KK]}break;case XO.h:switch(e){case wo.TRACK:return[kK,BK,_K,GK,qK]}}switch(t){case Co.PODCAST:switch(e){case wo.SHOW:return[kK];case wo.TRACK:return[kK,qK]}}switch(e){case wo.MOVIE:return[kK,WK,qK,ZK];case wo.SHOW:return[kK,WK,JK,eY];case wo.SEASON:return[RK,zK];case wo.EPISODE:return[kK,UK,ZK];case wo.ARTIST:return[kK];case wo.ALBUM:return[kK,VK,WK];case wo.TRACK:return[kK,BK,qK];case wo.PHOTO:case wo.PHOTO_ALBUM:case wo.CLIP:case wo.COLLECTION:return[kK]}return[]}(e,t,a,{isFolder:n,keys:s?r[o]:void 0,sorts:s?i.sorts:void 0})})}var hY=a("Fx8r"),gY=a("hW8R"),yY=a("2xvO"),fY=a("MEJa"),bY=a.n(fY);var vY=function(e){const{style:t,component:a,isActiveSort:n,...i}=e,r=a(e.type);return y.a.createElement("div",{className:n?bY.a.activeTableCell:bY.a.tableCell,style:t},y.a.createElement(r,{...i,className:bY.a.title}))},IY=a("6orZ");var SY=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({index:e.index}))}))(N_),EY=a("0dFH"),OY=a.n(EY);var MY=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,listContext:s,activeSort:o,selectedSort:l,cellIndex:c,activeTableColumns:d,title:u,route:p,ratingKey:m,source:h,hasOfflineFile:f,hasOwnSubscription:b,showAvailableOffline:v,showLink:I,showPlay:S,showEdit:E,showSelect:O,showMore:M,showPlayIndex:C,showPlayCellIndex:j,showActionsDuration:D,showActionsMinutesLeft:P,hasActiveSelection:T,isSelected:w,isOtherItemSelected:N,isModifierKeyPressed:x,isPlaying:A,isPlayerPaused:L,onPlayPress:k,onEditPress:R,onSelectPress:z,onDeselectPress:U}=e,V=Object(KO.a)(e),[B,F]=JC(),[H,_]=Object(g.useState)(!1),W=s===XO.e,Q=O&&(x||N),G=T?"-1":"0",K=!B,Y=v||D||P;return y.a.createElement("div",{className:Pe()(c%2?OY.a.alternateItem:OY.a.item,T&&OY.a.hasActiveSelection,Q&&OY.a.isForcingSelection,w&&OY.a.isSelected,H&&OY.a.isActionsMenuOpen),style:V.style,...F},O?y.a.createElement(jI.a,{className:OY.a.selectCoverButton,"aria-label":w?Object(Ce.default)("Deselect {title}",{title:u}):Object(Ce.default)("Select {title}",{title:u}),tabIndex:I&&!T?"-1":"0",onPress:w?U:z}):null,I?y.a.createElement(jI.a,{className:OY.a.underlay,tabIndex:G,to:p,"aria-label":u}):null,y.a.createElement("div",{className:OY.a.overlay},y.a.createElement("div",{className:OY.a.playCell},C&&!A?y.a.createElement(SY,{className:OY.a.transientTitleLeft,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}):null,j&&!A?y.a.createElement("span",{className:OY.a.transientTitleLeft},c+1):null,S&&!A?y.a.createElement(vM.a,{className:OY.a.playButton,"data-qa-id":"listItemPlayButton",tabIndex:G,title:u,onPress:k}):null,A?y.a.createElement(Sy,{className:OY.a.equalizer,isPaused:L}):null),d.map(({style:e,component:i,ascKey:s,descKey:c},d)=>y.a.createElement(vY,{key:d,style:e,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,component:i,type:r,isActiveSort:o===s||o===c||!!l&&l.key===s,hideUnrated:K})),y.a.createElement("div",{className:W?OY.a.libraryActionsCell:OY.a.actionsCell},Y?y.a.createElement("div",{className:W?OY.a.transientTitleLeft:OY.a.transientTitleRight},v?y.a.createElement(yY.a,{size:16,arrowSize:16,lineWidth:1.5,source:h,ratingKey:m,hasOfflineFile:f,hasOwnSubscription:b}):null,v?y.a.createElement(IY.a,{metadataItemEntityID:n,providerEntityID:a}):null,D?y.a.createElement(J_,{className:OY.a.transientTitleRightText,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}):null,P?y.a.createElement(cF,{className:OY.a.transientTitleRightText,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}):null):null,O?y.a.createElement(sA.a,{className:OY.a.selectButton,tabIndex:G,title:u,isSelected:w,onPress:z}):null,E?y.a.createElement(jI.a,{"data-qa-id":"metadataRowEditButton",className:OY.a.editButton,tabIndex:G,"aria-label":Object(Ce.default)("Edit {title}",{title:u}),onPress:R},y.a.createElement(kd.a,null)):null,M?y.a.createElement(w_.a,{"data-qa-id":"metadataRowMoreButton",className:OY.a.moreButton,tabIndex:G,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:H,onMenuOpenChange:_}):null)))},CY=a("Y9Bx"),jY=a.n(CY);var DY=function(e){const{cellIndex:t}=e,a=Object(KO.a)(e);return y.a.createElement("div",{className:t%2?jY.a.alternateLoadingItem:jY.a.loadingItem,style:a.style},Object(Ce.default)("Loading..."))};const PY=Object(D_.a)(MY);class TY extends g.Component{constructor(){super(...arguments),this.onSelectItem=e=>{this._isDoubleClick()?this._doubleClick():(this._firstClickTime=Date.now(),this.props.onSelectItem(e))},this.onDeselectItem=e=>{this._isDoubleClick()?this._doubleClick():(this._firstClickTime=Date.now(),this.props.onDeselectItem(e))}}_isDoubleClick(){return this._firstClickTime&&Date.now()-this._firstClickTime<300}_doubleClick(){const{selectionType:e,showPlay:t,onPlayPress:a,onSelectItem:n,onDeselectAllItems:i}=this.props;this._firstClickTime=0,i(),n({type:e}),t&&a()}render(){return this.props.metadataKey?this.props.showSelect?y.a.createElement(PY,{...this.props,onSelectItem:this.onSelectItem,onDeselectItem:this.onDeselectItem}):y.a.createElement(MY,{...this.props}):y.a.createElement(DY,{...this.props})}}var wY=Object(v.b)(YF.a)(Object(BI.a)((function(){return Object(he.a)(Object(YO.a)(),vh.b,bh.b,Bs.b,mY(),j_(),Object(pM.a)(),Object(ZG.a)(),cA(),oA(),Object(Z_.a)(),e=>e.ui.audioVideoPlayer.isPaused,Hx.a,(e={},t,a,n,i,r,s,o,l,c,d,u,p)=>{const m=!(!e.ratingKey||!o)&&X.a.allowSyncDownload;return{activeTableColumns:i,metadataKey:e.key,type:r,title:e.title,selectionID:e.entityID,selectionType:l,activeSelectionType:p.activeSelectionType,isSelected:c,isPlaying:d,isPlayerPaused:u,route:s,ratingKey:e.ratingKey,source:o,hasOfflineFile:Object(hY.a)(e),hasOwnSubscription:Object(gY.a)(e),showAvailableOffline:m,showLink:!!s,showPlay:Object(rk.i)({server:t,provider:a,stableUser:n,metadataItem:e}),showEdit:Object(rk.d)({server:t,provider:a,stableUser:n,metadataItem:e}),showSelect:Object(rk.l)({server:t,provider:a,stableUser:n,metadataItem:e}),showMore:!e.isFolder}})}),(function(e,t){const{serverEntityID:a,providerEntityID:n,itemServerEntityID:i,itemProviderEntityID:r,metadataListEntityID:s,metadataItemEntityID:o,containerKey:l,listType:c,metricsPage:d,metricsContext:u}=t;return{onPlayPress(){e(Object(Ze.x)({serverEntityID:a,providerEntityID:n,itemServerEntityID:i,itemProviderEntityID:r,metadataItemEntityID:o,metricsPage:d,metricsContext:u,options:{containerKey:l,listType:c}}))},onEditPress(){e(Object(Fs.editMetadataItem)({serverEntityID:a,providerEntityID:n,metadataItemEntityID:o,metricsPage:d}))},onSelectItem(t){e(Object(Zb.l)({metadataListEntityID:s,id:o,...t}))},onDeselectItem(t){e(Object(Zb.b)({metadataListEntityID:s,...t}))},onDeselectAllItems(){e(Object(Zb.a)({metadataListEntityID:s}))}}}),yL.a)(TY)),NY=a("Y52O"),xY=a.n(NY);function AY({className:e}){return y.a.createElement("div",{className:e})}AY.defaultProps={className:xY.a.divider};var LY=AY,kY=a("ctCg"),RY=a.n(kY);var zY=function(){return y.a.createElement(LY,{className:RY.a.bottomDivider})},UY=a("4Img"),VY=a.n(UY);var BY=function(){return y.a.createElement(LY,{className:VY.a.topDivider})},FY=a("U0CT"),HY=a.n(FY);const _Y={height:parseInt(yu.a.tableRowHeight,10)};var WY=Object(g.memo)((function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,title:r,index:s,className:o,metadataItemEntityIDs:l,listType:c}=e,d=Object(KO.a)(e);return y.a.createElement("div",{className:o,style:d.style},y.a.createElement(xV,{className:HY.a.header},y.a.createElement(RV,null,r||Object(Ce.default)("Disc {discNumber}",{discNumber:s}))),y.a.createElement(BY,null),l.map((e,r)=>y.a.createElement(wY,{key:e,style:_Y,serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,keyPropName:"metadataItemEntityID",metadataItemEntityID:e,cellIndex:r,listType:c,listContext:XO.n,activeSort:"titleSort",showLink:!1,showPlayIndex:!0,showActionsDuration:!0})),y.a.createElement(zY,null))}));var QY=a("GtsS"),GY=a.n(QY);var KY=function(e){const{listType:t,isPopulated:a,isPending:n,error:i,size:r,children:s}=e;return a&&r?y.a.createElement("div",{className:GY.a.container,"data-qa-id":"preplayContainer--"+[t]},s):n?y.a.createElement("div",{className:GY.a.emptyContainer},y.a.createElement(HO.a,null)):i?y.a.createElement("div",{className:GY.a.emptyMessage},function(e){switch(e){case lA.l:return Object(Ce.default)("Unable to load seasons");case lA.d:return Object(Ce.default)("Unable to load episodes");case lA.a:return Object(Ce.default)("Unable to load albums");case lA.m:return Object(Ce.default)("Unable to load tracks");case lA.j:return Object(Ce.default)("Unable to load photos");default:return Object(Ce.default)("Unable to load items")}}(t)):y.a.createElement("div",{className:GY.a.emptyMessage},function(e){switch(e){case lA.l:return Object(Ce.default)("No seasons");case lA.d:return Object(Ce.default)("No episodes");case lA.a:return Object(Ce.default)("No albums");case lA.m:return Object(Ce.default)("No tracks");case lA.j:return Object(Ce.default)("No photos");default:return Object(Ce.default)("No items")}}(t))};class YY extends g.Component{constructor(e,t){super(e,t),this.onListContainerRef=e=>{this._setOffsetTop(e)},this._hasOffsetChanged=!1,this.state={listOffsetTop:null}}componentWillUpdate(e){this._hasOffsetChanged=e.contentHeight!==this.props.contentHeight}_setOffsetTop(e){e&&e.offsetTop!==this.state.listOffsetTop&&this.setState({listOffsetTop:e.offsetTop})}render(){const{children:e,scrollTop:t}=this.props,{listOffsetTop:a}=this.state,n=y.a.Children.only(e);return y.a.createElement("div",{ref:this._hasOffsetChanged?this._setOffsetTop.bind(this):this.onListContainerRef},null!=a?y.a.cloneElement(n,{scrollTop:t-a}):null)}}var qY=YY;const ZY=parseInt(yu.a.tableTitleHeight,10)+19,XY=parseInt(yu.a.tableRowHeight,10);var JY=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,discs:r,listType:s,isPopulated:o,isPending:l,error:c,contentHeight:d,scrollTop:u,...p}=e,m=r.reduce((e,t)=>e+t.metadataItemEntityIDs.length,0),h=1===r.length?T_(s,m):"",f=Object(g.useMemo)(()=>FO({getCellHeights:()=>r.map(e=>ZY+e.metadataItemEntityIDs.length*XY),overscan:1}),[r]),b={serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,title:h,listType:s};return y.a.createElement(KY,{listType:s,isPopulated:o,isPending:l,error:c,size:m},y.a.createElement(qY,{contentHeight:d,scrollTop:u},f?y.a.createElement(rA.a,{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,keyPropName:"index",items:r,size:r.length,listType:s,listContext:It.eb,isPopulated:o,isPending:l,error:c,layout:f,cellRenderer:SA(b,WY),...p}):null))};var $Y=Object(v.b)((function(){return Object(he.a)(Object(he.a)((e,{metadataItemEntityIDs:t})=>t,DO.a,(e,t)=>M.a.compact(e.reduce((e,a)=>{const{entityID:n,parentIndex:i=1}=t[a],r=e[i];return r?r.metadataItemEntityIDs.push(n):e[i]={index:i,metadataItemEntityIDs:[n]},e},[]))),e=>({discs:e}))}))(JY);const eq=parseFloat(yu.a.prePlayPosterWidthRatio,10),tq=parseInt(yu.a.prePlayPosterMinWidth,10),aq=parseInt(yu.a.prePlayPosterMaxWidth,10);var nq=function(e,t){const a=-1*t+1,n=e*(a/30+eq);return Math.max(Math.min(n,aq+30*a),tq)},iq=a("d+lh"),rq=a.n(iq);function sq({className:e,children:t}){return y.a.createElement("div",{className:e},t)}sq.defaultProps={className:rq.a.content};var oq=sq,lq=a("GERC"),cq=a.n(lq);var dq=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:i,type:r,subtype:s,posterWidth:o,posterHeight:l,posterUrl:c,showLinkOnly:d}=e;return y.a.createElement(dA.a,{cardFaceClassName:cq.a.face,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:i,type:r,subtype:s,imageWidth:o,imageHeight:l,imageUrl:c,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1,showLinkOnly:d})},uq=a("Y7Bh"),pq=a.n(uq);function mq(e){const{children:t,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,columnAdjustment:r,showPoster:s,posterType:o,metadataKey:l,type:c,subtype:d,thumb:u,pageWidth:p}=e,m=nq(p,r),h=Object(eM.e)(m,o||c,d,XO.n);return y.a.createElement("div",{className:pq.a.container},s?y.a.createElement(dq,{serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,metadataKey:l,type:c,subtype:d,posterType:o,posterWidth:m,posterHeight:h,posterUrl:u}):null,s?y.a.createElement(oq,null,t):y.a.createElement("div",null,t))}mq.defaultProps={showPoster:!0};var hq=mq,gq=a("1vuw"),yq=a.n(gq);function fq(e){const{className:t,linkClassName:a,server:n,provider:i,sourceDirectory:r,fallbackFilterKey:s,type:o,tags:l,limit:c}=e;if(!l||!l.length)return null;const d=o&&Object(wo.getMetadataType)(o);return y.a.createElement("span",{className:t},l.map((e,t)=>{if(t>=c)return;let o;if(e.directory&&e.key&&r)o=Object(ng.a)(n,i,r,{key:e.key,title:e.tag});else if((e.filter||e.id)&&r){const t={filters:e.filter,filterLabel:e.tag};!t.filter&&s&&e.id&&(t.filters=`${s}=${e.id}`),d&&(t.type=d.id),e.context&&(t.context=e.context),o=Object(OF.a)(n,i,r,t)}return y.a.createElement("span",{key:t},y.a.createElement(jI.a,{className:a,to:o,isDisabled:!o},e.tag),t+1<c&&t+1<l.length?", ":null)}))}fq.defaultProps={linkClassName:yq.a.tagsListLink,limit:1/0};var bq=fq;var vq=function(e){const{server:t,provider:a,sourceDirectory:n,type:i,Genre:r}=e;return y.a.createElement(bq,{server:t,provider:a,sourceDirectory:n,fallbackFilterKey:"genre",type:i,tags:r,limit:2})};var Iq=Object(v.b)((function(){return Object(he.a)(vh.b,bh.b,jF(),Object(YO.a)(),(e,t,a,n={})=>({server:e,provider:t,sourceDirectory:a,type:n.type,Genre:n.Genre}))}))(vq),Sq=a("1pRg"),Eq=a.n(Sq);function Oq({className:e,children:t}){return y.a.createElement("div",{className:e},t)}Oq.defaultProps={className:Eq.a.innerContent};var Mq=Oq,Cq=a("T2rF"),jq=a.n(Cq);function Dq({className:e,children:t}){return y.a.createElement("div",{className:e},t)}Dq.defaultProps={className:jq.a.innerContent};var Pq=Dq,Tq=a("oVB5"),wq=a("jIku"),Nq=a.n(wq);class xq extends g.Component{constructor(e,t){super(e,t),this.onLineHeightRef=e=>{e&&this.setState({lineHeight:e.clientHeight})},this.onMeasure=({height:e})=>{this.setState({expandedHeight:e})},this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed,allowTransition:!0})},this.state={isCollapsed:!0,allowTransition:!1,lineHeight:0,expandedHeight:0}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{className:e,dangerouslySetInnerHTML:t,children:a,labelLess:n,labelMore:i,maxLines:r}=this.props,{isCollapsed:s,allowTransition:o,expandedHeight:l,lineHeight:c}=this.state,d=c*r,u=l>d,p={overflow:"hidden",maxHeight:s?d:l};return y.a.createElement("div",{className:e},c?null:y.a.createElement("div",{className:Nq.a.lineHeightMeasure,ref:this.onLineHeightRef}),y.a.createElement("div",{className:o?Nq.a.contentTransition:void 0,style:p},y.a.createElement(VO.a,{ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},t?y.a.createElement("div",{dangerouslySetInnerHTML:t}):a)),u?y.a.createElement(Tq.a,{className:Nq.a.readMore,arrowClassName:Nq.a.readMoreArrow,direction:s?lc.a:lc.c,isSelected:!1,onPress:this.onTogglePress},s?i:n):null)}}xq.defaultProps={labelLess:"Read Less",labelMore:"Read More",maxLines:3};var Aq=xq;function Lq(e){return y.a.createElement(Aq,{...e,labelLess:Object(Ce.default)("Read Less"),labelMore:Object(Ce.default)("Read More")})}Lq.defaultProps={...Aq.defaultProps};var kq=Lq,Rq=a("s4MQ"),zq=a.n(Rq);function Uq({className:e,dangerouslySetInnerHTML:t,children:a}){const n=a?a.split("\n"):[];return y.a.createElement(kq,{className:e,dangerouslySetInnerHTML:t},n.length>1?n.map((e,t)=>y.a.createElement("p",{key:t},e)):a)}Uq.defaultProps={className:zq.a.summary};var Vq=Uq,Bq=a("z8ZC"),Fq=a("EBCF"),Hq=a.n(Fq);function _q({className:e,name:t,width:a,height:n,...i}){const r=t.toUpperCase().split(" "),s=r[0].charAt(0),o=r[r.length-1].charAt(0),l=r.length>1?`${s}${o}`:t.charAt(0),c={fontSize:Math.max(14,Math.min(Math.round(a/4),42)),lineHeight:n+"px"};return y.a.createElement("div",{style:c,className:Pe()(e,Hq.a.anagram),...i},l)}_q.defaultProps={width:13,height:13};var Wq=_q,Qq=a("PJR5");var Gq=function(e){const{serverEntityID:t,providerEntityID:a,isOffscreen:n,tagType:i,librarySectionType:r,title:s,url:o,width:l,height:c,transitionProps:d,onLoad:u,onError:p}=e;if(n)return null;if(o)return y.a.createElement(l_.a,{serverEntityID:t,providerEntityID:a,url:o,width:l,height:c,transitionProps:d,backgroundPosition:"center center",onLoad:u,onError:p});const m=wF.a.get(i);if(m&&m.isPerson)return y.a.createElement(Wq,{name:s,width:l,height:c});const h=Bq.g.get(r),g=function(e){switch(e){case"artist":return"track";default:return e}}(h&&h.typeString);return y.a.createElement(Qq.a,{type:g,width:l,height:c})},Kq=a("QZNe"),Yq=a.n(Kq);function qq(e){const{className:t,imageWidth:a,imageHeight:n,imageUrl:i,tag:r,tagType:s,...o}=e,l=wF.a.get(s),c=!!l&&l.isPerson;return y.a.createElement(JO.a,{key:r,className:Pe()(t,c&&Yq.a.isPerson),component:Gq,width:a,height:n,url:i,tagType:s,...o})}qq.defaultProps={className:Yq.a.card};var Zq=qq,Xq=a("dFNS"),Jq=a.n(Xq);function $q(e){const{route:t,children:a,...n}=e;return t?y.a.createElement(jI.a,{className:Jq.a.posterCardLinkContainer,to:t,...n},a):y.a.createElement("span",{className:Jq.a.posterCardContainer,...n},a)}var eZ=Object(g.memo)((function(e){const{listType:t,serverEntityID:a,providerEntityID:n,server:i,provider:r,sourceDirectory:s,titleComponents:o,role:l,cellWidth:c}=e,{key:d,thumb:u,id:p,tag:m,role:h,filter:g,directory:f}=l,b=Object(KO.a)(e);let v;return f&&d&&s?v=Object(ng.a)(i,r,s,{key:d,title:m}):(g||p)&&s&&(v=Object(OF.a)(i,r,s,{filters:g||"actor="+p,filterLabel:m})),y.a.createElement("div",{style:b.style},y.a.createElement($q,{route:v},y.a.createElement(Zq,{serverEntityID:a,providerEntityID:n,imageWidth:c,imageHeight:c,imageUrl:u,title:m,tag:m,tagType:t})),y.a.createElement("div",{className:Jq.a.titleContainer},o.map((e,t)=>y.a.createElement(XH,{key:t,route:v,tag:m,role:h,component:e,isSecondary:t>0}))))})),tZ=a("BUrS"),aZ=a.n(tZ);function nZ(e){const{listType:t,listSubtype:a,listContext:n,serverEntityID:i,providerEntityID:r,server:s,provider:o,sourceDirectory:l,roles:c,isEmbeddedServer:d}=e;if(!c||d)return null;const u=aH(t,n);return y.a.createElement("div",{className:aZ.a.castList},y.a.createElement(GH,{hubIdentifier:"cast",title:Object(Ce.default)("Cast"),size:c.length,listType:t,listContext:n,columnAdjustment:1,keyPropName:"uniqueID",items:c.map(e=>({role:e,uniqueID:`${e.id||e.tag}!${e.role}`})),layout:aB(t,a,n,1,u.length),cellRenderer:(p={listType:t,listContext:n,serverEntityID:i,providerEntityID:r,server:s,provider:o,sourceDirectory:l,titleComponents:u},e=>y.a.createElement(eZ,{...p,...e}))}));var p}nZ.defaultProps={listType:"actor",listContext:XO.n};var iZ=nZ;var rZ=Object(v.b)((function(){return Object(he.a)(vh.b,bh.b,jF(),Object(YO.a)(),Object(kD.a)(),(e,t,a,n,i)=>({server:e,provider:t,sourceDirectory:a,roles:n.Role,isEmbeddedServer:i}))}))(iZ);function sZ(){return Object(he.a)(bh.b,Object(YO.a)(),(e,t)=>{const a=e&&e.features.content;if(!t||!a)return null;if(e.protocols[XC.a])return a.directories.find(e=>e.hubKey&&!e.key);const{librarySectionKey:n,librarySectionID:i,isPlaylist:r}=t;return n||i?a.directories.find(e=>e.id?e.id===i:!!e.key&&e.key===n):r?a.directories.find(e=>e.type===nS.k):void 0})}var oZ=function(e,t){const a=Object(v.b)((function(){return Object(he.a)(t(),({source:e})=>fH(e)||{})}))(e);return a.displayName=`OverrideEntityIDsWithSource(${Object(yO.a)(e)})`,a};const lZ={dispatchPopulateProvider:XI};class cZ extends g.Component{componentDidMount(){this.props.provider.isPopulated||this._populateProvider()}componentDidUpdate(e){this.props.providerEntityID===e.providerEntityID||this.props.provider.isPopulated||this._populateProvider()}_populateProvider(){this.props.dispatchPopulateProvider({providerEntityID:this.props.providerEntityID,options:{merge:!0}})}render(){const{dispatchPopulateProvider:e,provider:t,...a}=this.props;return t.isPopulated?y.a.createElement(fW,{...a,listContext:XO.e}):null}}var dZ=oZ(Object(v.b)((function(){return Object(he.a)(bh.b,e=>({provider:e}))}),lZ)(cZ),EV);const uZ={opacity:0,pointerEvents:"none"},pZ={opacity:1,pointerEvents:"auto"};class mZ extends g.Component{constructor(e,t){super(e,t),this.onListReady=()=>{++this._readyCount===this._initialCount&&this.setState({isReady:!0})},this.state={isReady:!1},this._readyCount=0}componentWillMount(){this._initialCount=this.props.hubEntityIDs.length}componentWillReceiveProps(e){const t=e.hubEntityIDs.length,a=this.props.hubEntityIDs.length;this.state.isReady||t===a||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:a,allowSourceTitle:n,className:i,serverEntityID:r,providerEntityID:s,directoryKey:o,hubEntityIDs:l,sourceDirectory:c,isPromoted:d,columnAdjustment:u,listContext:p}=this.props,{isReady:m}=this.state,h=d?dZ:fW;return y.a.createElement("div",{className:i,style:m?pZ:uZ},l.map(i=>y.a.createElement(h,{key:i,serverEntityID:r,providerEntityID:s,hubEntityID:i,sourceDirectory:c,directoryKey:o,allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:a,allowSourceTitle:n,listContext:p,columnAdjustment:u,onListReady:this.onListReady})))}}var hZ=mZ,gZ=a("DOb5"),yZ=a.n(gZ);function fZ(e){const{serverEntityID:t,providerEntityID:a,hubEntityIDs:n,sourceDirectory:i,showSpinner:r,isEmbeddedServer:s,listContext:o}=e;return s?null:r?y.a.createElement("div",{className:yZ.a.spinnerContainer},y.a.createElement(HO.a,null)):y.a.createElement(hZ,{className:yZ.a.relatedList,serverEntityID:t,providerEntityID:a,hubEntityIDs:n,sourceDirectory:i,listContext:o,columnAdjustment:1})}fZ.defaultsProps={listContext:XO.n};var bZ=fZ;var vZ=Object(v.b)((function(){return Object(he.a)(Object(kD.a)(),sZ(),e=>e.ui.prePlayPage,(e,t,a)=>{const{relatedHubs:n,isRelatedHubsPending:i}=a;return{isEmbeddedServer:e,sourceDirectory:t,hubEntityIDs:n,showSpinner:!n.length&&i}})}))(bZ),IZ=a("SqLh"),SZ=a.n(IZ);function EZ({className:e,children:t}){return y.a.createElement("div",{className:e},t)}EZ.defaultProps={className:SZ.a.leftTitle};var OZ=EZ,MZ=a("PZfv"),CZ=a.n(MZ);var jZ=function({attribution:e,title:t}){return y.a.createElement(OZ,{className:CZ.a.container},e?y.a.createElement(Jn,{className:CZ.a.attribution,attribution:e}):null,y.a.createElement("div",{className:CZ.a.title},t))},DZ=a("5qtW"),PZ=a.n(DZ);function TZ({className:e,children:t}){return y.a.createElement("div",{className:e,"data-qa-id":"preplay-mainTitle"},t)}TZ.defaultProps={className:PZ.a.primaryTitle};var wZ=TZ,NZ=a("KcGe"),xZ=a.n(NZ);function AZ({className:e,children:t}){return y.a.createElement("div",{className:e},t)}AZ.defaultProps={className:xZ.a.rightTitle};var LZ=AZ,kZ=a("zLrO"),RZ=a.n(kZ);var zZ=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}){return y.a.createElement(LZ,{className:RZ.a.ratingRightTitle},y.a.createElement($F,{className:RZ.a.starRating,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),y.a.createElement(UF,{className:RZ.a.criticRating,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))},UZ=a("k31B"),VZ=a.n(UZ);function BZ(e){const{children:t,className:a}=e;return y.a.createElement("div",{className:a,"data-qa-id":"preplay-secondTitle"},t)}BZ.defaultProps={className:VZ.a.secondaryTitle};var FZ=BZ,HZ=a("YYNq"),_Z=a.n(HZ);function WZ({className:e,children:t}){return y.a.createElement("div",{className:e,"data-qa-id":"preplay-thirdTitle"},t)}WZ.defaultProps={className:_Z.a.tertiaryTitle};var QZ=WZ;class GZ extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,metadataKey:i,attribution:r,title:s,type:o,year:l,summary:c,thumb:d,art:u,listType:p,listStyle:m,isListReady:h,pageWidth:g,pageHeight:f,scrollTop:b,columnAdjustment:v}=this.props,{isContentMeasured:I,contentWidth:S,contentHeight:E}=this.state,O=!!u,M=!(!I||!n);return y.a.createElement(VO.a,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.a.createElement(hq,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:i,type:o,thumb:d,pageWidth:g,columnAdjustment:v},y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(uB,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),y.a.createElement(FZ,null,y.a.createElement(jZ,{attribution:r,title:s}),y.a.createElement(zZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),y.a.createElement(QZ,null,y.a.createElement(OZ,null,l),y.a.createElement(LZ,null,y.a.createElement(Iq,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})))),y.a.createElement(LY,null),c?y.a.createElement(Mq,null,y.a.createElement(Vq,null,c)):null),y.a.createElement(Pq,null,M?y.a.createElement(q_.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,initialSize:1/0,listType:p,listStyle:m,showArtwork:O,component:$Y,viewportWidth:S,viewportHeight:f,contentHeight:E,scrollTop:b}):null,h?y.a.createElement(Mq,null,y.a.createElement(rZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),y.a.createElement(vZ,{serverEntityID:e,providerEntityID:t})):null))}}var KZ=GZ;function YZ(e){const{children:t,server:a,provider:n,sourceDirectory:i,type:r,Director:s,Writer:o,Studio:l,studio:c,isLibraryProvider:d}=e;return t||s.length||o.length||c||l.length?y.a.createElement(iN,null,t,s.length?y.a.createElement(lN,{label:Object(Ce.default)("Directed by")},y.a.createElement(bq,{server:a,provider:n,sourceDirectory:i,fallbackFilterKey:"director",type:r,tags:s})):null,o.length?y.a.createElement(lN,{label:Object(Ce.default)("Written by")},y.a.createElement(bq,{server:a,provider:n,sourceDirectory:i,fallbackFilterKey:"writer",type:r,tags:o})):null,l.length?y.a.createElement(lN,{label:Object(Ce.default)("Studio")},y.a.createElement(bq,{server:a,provider:n,sourceDirectory:i,fallbackFilterKey:"studio",type:r,tags:l})):null,c&&!l.length?y.a.createElement(lN,{label:Object(Ce.default)("Studio")},y.a.createElement(bq,{server:a,provider:n,sourceDirectory:i,type:r,tags:[{filter:d?"studio="+encodeURIComponent(encodeURIComponent(c)):null,tag:c}]})):null):null}YZ.defaultProps={Director:[],Writer:[]};var qZ=YZ;var ZZ=Object(v.b)((function(){return Object(he.a)(vh.b,bh.b,jF(),Object(YO.a)(),(e,t,a,n={})=>({server:e,provider:t,isLibraryProvider:qr.l(t.identifier,qr.d),sourceDirectory:a,Director:n.Director,Writer:n.Writer,Studio:n.Studio,studio:n.studio}))}))(qZ);var XZ=Object(v.b)((function(){return Object(he.a)(e=>e.ui.prePlayPage,e=>{const{augmentedHubs:t,isAugmentedHubsPending:a}=e;return t?{hubEntityIDs:t,showSpinner:!t.length&&a}:{hubEntityIDs:[],showSpinner:!1}})}))(bZ),JZ=a("IEMP"),$Z=a("NJkC"),eX=a.n($Z);var tX=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,cellIndex:i,metadataKey:r,route:s,title:o,type:l,summary:c,showRecord:d,hasSingleSubscription:u}=e,p=Object(KO.a)(e),[m,h]=Object(g.useState)(!1),f=Object(g.useCallback)(e=>{h(!0)},[]),b=Object(g.useCallback)(()=>{h(!1)},[]);return r?y.a.createElement("div",{className:i%2?eX.a.alternateItem:eX.a.item,style:p.style},y.a.createElement(jI.a,{className:eX.a.underlay,to:s}),y.a.createElement("div",{className:eX.a.overlay},y.a.createElement("div",{className:eX.a.primaryTitle},y.a.createElement(uM.a,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n})),y.a.createElement("div",{className:eX.a.secondaryTitle},u?y.a.createElement($w.a,{className:eX.a.subscriptionIcon,"aria-label":Object(Ce.default)("Recording Scheduled")}):null,y.a.createElement(EB,{className:eX.a.nextAiringDate,metadataItemEntityID:n,showFullTime:!0}),c?y.a.createElement(Hi.b,{className:eX.a.separator}):null,c)),d?y.a.createElement(IM.a,{className:eX.a.recordButton,tabIndex:"-1",title:o,onPress:f}):null,y.a.createElement(vd.a,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,isOpen:m,subscriptionType:l,onModalClose:b})):y.a.createElement("div",{className:i%2?eX.a.alternateLoadingItem:eX.a.loadingItem,style:p.style},Object(Ce.default)("Loading..."))};var aX=Object(BI.a)((function(){return Object(he.a)((e,{metricsContext:t})=>t,vh.b,bh.b,Object(YO.a)(),(e,t,a,n={})=>{const i={};return e&&(i.context=e),{metadataKey:n.key,title:n.title,type:n.type,summary:n.summary,route:Object(Ka.a)(t,a,n.key,i),showRecord:!!a.features.subscribe,hasSingleSubscription:!!n.subscriptionID}})}))((function(e){return y.a.createElement(tX,{...e})}));const nX=Object(JZ.a)(96);class iX extends g.Component{constructor(){super(...arguments),this.renderCell=e=>y.a.createElement(aX,{serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,metadataListEntityID:this.props.metadataListEntityID,...e})}render(){return y.a.createElement(rA.a,{layout:nX,cellRenderer:this.renderCell,...this.props})}}var rX=iX,sX=a("p9a2"),oX=a.n(sX);var lX=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,cellIndex:s,title:o,summary:l,tagline:c,route:d,showLink:u,showMore:p,isPlaying:m,isPlayerPaused:h,onPlayPress:f}=e,b=Object(KO.a)(e),[v,I]=Object(g.useState)(!1);return y.a.createElement("div",{className:Pe()(s%2?oX.a.alternateItem:oX.a.item,v&&oX.a.isActionsMenuOpen),style:b.style},u?y.a.createElement(jI.a,{className:oX.a.underlay,to:d,"aria-label":o}):null,y.a.createElement("div",{className:oX.a.overlay},y.a.createElement("div",{className:oX.a.simpleSummaryContainer},y.a.createElement("div",{className:oX.a.indexPlayContainer},m?null:y.a.createElement(tF,{className:oX.a.titleEpisodeIndex,metadataItemEntityID:n,longName:!1}),m?y.a.createElement(Sy,{isPaused:h}):y.a.createElement("div",{className:oX.a.playButtonContainer},y.a.createElement(vM.a,{className:oX.a.playButton,title:o,onPress:f}))),y.a.createElement("div",{className:oX.a.miniProgressContainer},y.a.createElement(SK,{metadataItemEntityID:n,size:cc.c})),y.a.createElement("div",{className:oX.a.titleAndSummaryContainer},y.a.createElement("div",{className:oX.a.titleContainer},y.a.createElement("div",{className:oX.a.title},o),y.a.createElement("div",{className:oX.a.actions},p?y.a.createElement(w_.a,{"data-qa-id":"metadataSimpleSummaryMoreButton",className:oX.a.moreButton,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:r,showPlay:!1,showAddToSaved:!1,isMenuOpen:v,onMenuOpenChange:I}):null)),y.a.createElement("div",{className:oX.a.summary},c||l)))))},cX=a("p050"),dX=a.n(cX);var uX=function(e){const{cellIndex:t}=e,a=Object(KO.a)(e);return y.a.createElement("div",{className:t%2?dX.a.alternateLoadingItem:dX.a.loadingItem,style:a.style},Object(Ce.default)("Loading..."))};var pX=Object(BI.a)((function(){return Object(he.a)((e,{listContext:t})=>t,(e,{cellHeight:t})=>t,Object(YO.a)(),j_(),Object(pM.a)(),M_(),Object(Z_.a)(),e=>e.ui.audioVideoPlayer.isPaused,(e,t,a={},n,i,r,s,o)=>({metadataKey:a.key,grandparentKey:a.grandparentKey,type:n,index:a.index,title:a.title,summary:r,tagline:a.tagline,route:i,showLink:!!i,showMore:!a.isFolder,isPlaying:s,isPlayerPaused:o}))}),(function(e,t){const{serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,containerKey:r,listType:s,metricsPage:o,metricsContext:l}=t;return{onPlayPress(){e(Object(Ze.x)({serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,metricsPage:o,metricsContext:l,options:{containerKey:r,listType:s}}))}}}),yL.a)((function(e){const{metadataKey:t}=e;return t?y.a.createElement(lX,{...e}):y.a.createElement(uX,{...e})}));const mX=parseInt(yu.a.simpleSummaryCellHeight,10);var hX=Object(JZ.a)(mX,5);var gX=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,listType:r,listContext:s,...o}=e;return y.a.createElement(rA.a,{layout:hX,cellRenderer:SA({serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,listType:r,listContext:s},pX),...o})};class yX extends g.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}componentWillReceiveProps(e){const t=this.props.aspectRatios!==e.aspectRatios,a=this.props.viewportWidth!==e.viewportWidth,n=this.props.columnAdjustment!==e.columnAdjustment;(t||a||n)&&this.setState({layout:this._createLayout(e)})}_createLayout(e=this.props){const{viewportWidth:t,columnAdjustment:a,aspectRatios:n}=e,i=Math.ceil(t/400),r=Math.max(1,i+a);return fA({columns:r,rows:IA({aspectRatios:n,columns:r})})}render(){if(!this.state)return null;const{cellRenderer:e,...t}=this.props,{layout:a}=this.state;return y.a.createElement(rA.a,{layout:a,cellRenderer:e,...t})}}yX.defaultProps={columnAdjustment:0};var fX=yX;var bX=Object(v.b)((function(){return Object(he.a)((e,{items:t})=>t,(e,{serverEntityID:t})=>t,(e,{providerEntityID:t})=>t,(e,{metadataListEntityID:t})=>t,(e,{containerKey:t})=>t,(e,{listType:t})=>t,DO.a,(e=[],t,a,n,i,r,s)=>({listType:r,cellRenderer:SA({serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,listType:r},yA),aspectRatios:e.map(e=>$x(s[e]))}))}))(fX);const vX=parseInt(yu.a.prePlayContentPadding,10),IX={},SX={innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:30,outerPaddingRight:60,outerPaddingBottom:30,outerPaddingLeft:60};function EX(e,t,a,n=0,i=0){const r=e+(t||"")+a+n+i;if(IX.hasOwnProperty(r))return IX[r];const s=Object(eM.d)(e,t,a),{titleHeight:o,minCellWidth:l,preferredCellWidth:c,minColumns:d,maxColumns:u}=eB({type:e,aspectRatio:s,titleCount:i,context:a}),p=function(e){return e===XO.n?{...SX,outerPaddingTop:10,outerPaddingRight:vX,outerPaddingBottom:5,outerPaddingLeft:vX}:SX}(a),m=Object(qV.c)({direction:qV.b,...p,getCellWidth:e=>JV({...e,preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:n,aspectRatio:s}),getCellHeight:e=>ZV({...e,aspectRatio:s,titleHeight:o})});return m.cellOptions={minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:n,aspectRatio:s,titleHeight:o},IX[r]=m,m}var OX=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,listType:r,listSubtype:s,listContext:o,columnAdjustment:l,...c}=e,d=aH(r,o,{providerEntityID:a});return y.a.createElement(rA.a,{layout:EX(r,s,o,l,d.length),cellRenderer:SA({serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,listType:r,listContext:o,titleComponents:d},K_),...c})};const MX=parseInt(yu.a.summaryCellHeight,10);var CX=Object(JZ.a)(MX,5);var jX=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,listType:r,listContext:s,...o}=e;return y.a.createElement(rA.a,{layout:CX,cellRenderer:SA({serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,listType:r,listContext:s},F_),...o})};const DX=parseInt(yu.a.tableRowHeight,10);var PX=Object(JZ.a)(DX);var TX=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,listType:r,listContext:s,...o}=e,l={serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,listType:r,listContext:s,activeSort:"titleSort"};return"episode"===r&&(l.showPlayIndex=!0,l.showActionsMinutesLeft=!0),"track"===r&&(l.showLink=!1,l.showPlayIndex=!0,l.showActionsDuration=!0),y.a.createElement(rA.a,{layout:PX,cellRenderer:SA(l,wY),...o})},wX=a("HUgi"),NX=a.n(wX);var xX=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,metadataItemEntityIDs:i,containerKey:r,listType:s,listStyle:o,populatedRange:l,isPopulated:c,isPending:d,error:u,listTitle:p,titleButtonTitle:m,titleButtonRoute:h,totalSize:g,previewSize:f,viewportWidth:b,viewportHeight:v,contentHeight:I,scrollTop:S,columnAdjustment:E,onPageRequest:O}=e,M=g||i.length,C=null!=f&&M>f?f:M,j=null!=f&&M>f,D=function(e){switch(e){case KA:return bX;case YA:return TX;case ZA:return jX;case XA:return rX;case qA:return gX;default:return OX}}(o),P=p||T_(s,M),T=o===YA||o===ZA||o===qA||o===XA;return y.a.createElement(KY,{listType:s,isPopulated:c,isPending:d,error:u,size:C},P?y.a.createElement(xV,{className:NX.a.descendantHubCellHeader},y.a.createElement(RV,null,P),j||null!=m?y.a.createElement(jI.a,{className:NX.a.titleButton,to:h},m||Object(Ce.default)("See all")):null):null,T?y.a.createElement(BY,null):null,y.a.createElement(qY,{contentHeight:I,scrollTop:S},y.a.createElement(D,{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:r,listType:s,listContext:XO.n,keyPropName:"metadataItemEntityID",items:i,itemsOffset:l.start,size:C,viewportWidth:b,viewportHeight:v,columnAdjustment:E,onPageRequest:O})),T?y.a.createElement(zY,null):null)},AX=a("sAyO"),LX=a.n(AX);function kX(e){return y.a.createElement(Y_,{className:LX.a.extrasHubCell,hubIdentifier:"extras",...e})}kX.defaultProps={listType:"extra",listContext:XO.n,columnAdjustment:1};var RX=kX;var zX=Object(v.b)((function(){return Object(he.a)(bh.b,Object(YO.a)(),Object(jO.a)(),(e,t={},a)=>{const n=a.metadataItems.length,i=1===n&&!!t.primaryExtraKey;return{metadataItemEntityIDs:a.metadataItems,containerKey:a.containerKey,size:i?0:n,populatedRange:a.populatedRange}})}))(RX),UX=a.p+"desktop/common/img/vendor-logos/songkick.247f8ed60f8dcedd4ae46adc19b41ac5.svg",VX=a("JgKN"),BX=a.n(VX);var FX=function(e){const{at:t,city:a,country:n,tag:i,url:r,venue:s}=e,o=Object(Za.a)(t),l=Object(tM.a)(o,"dd"),c=Object(tM.a)(o,"MMM");return y.a.createElement(jI.a,{className:BX.a.concert,target:"_blank",to:r},y.a.createElement("div",{className:BX.a.concertCalendar},y.a.createElement("div",{className:BX.a.concertMonth},c),y.a.createElement("div",{className:BX.a.concertDay},l)),y.a.createElement("div",{className:BX.a.concertDetails},y.a.createElement("div",{className:BX.a.concertTitle},i),y.a.createElement("div",{className:BX.a.concertLocation},s," (",a,", ",n,")")))},HX=a("pAB4"),_X=a.n(HX);var WX=function({concerts:e}){return e&&e.length?y.a.createElement("div",{className:_X.a.concerts},y.a.createElement(xV,null,y.a.createElement(RV,null,Object(Ce.default)("On Tour"),y.a.createElement("img",{className:_X.a.concertsLogo,src:UX}))),e.map(e=>y.a.createElement(FX,{key:e.id,...e}))):null};var QX=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({concerts:e.concerts}))}))(WX);var GX=function(e){const{server:t,provider:a,sourceDirectory:n,Country:i,Genre:r}=e,s=!(!i||!i.length),o=!(!r||!r.length);return s||o?y.a.createElement(QZ,null,s?y.a.createElement(OZ,null,y.a.createElement(bq,{server:t,provider:a,sourceDirectory:n,fallbackFilterKey:"country",tags:i,limit:1})):null,o?y.a.createElement(LZ,null,y.a.createElement(vq,{server:t,provider:a,sourceDirectory:n,Genre:r})):null):null};var KX=Object(v.b)((function(){return Object(he.a)(vh.b,bh.b,jF(),Object(YO.a)(),(e,t,a,n={})=>({server:e,provider:t,sourceDirectory:a,Country:n.Country,Genre:n.Genre}))}))(GX),YX=a("YhBC"),qX=a.n(YX);var ZX=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,metadataItemEntityIDs:i,containerKey:r,showArtwork:s,contentHeight:o,scrollTop:l,...c}=e;if(!i||!i.length)return null;const d={serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:r,listType:"track",listContext:XO.n,activeSort:"titleSort",showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0};return y.a.createElement("div",{className:qX.a.popularTracksHubCell,"data-qa-id":"hub--popularTracks"},y.a.createElement(Mq,null,y.a.createElement(RV,null,Object(Ce.default)("Popular Tracks"))),y.a.createElement(BY,null),y.a.createElement(qY,{showArtwork:s,contentHeight:o,scrollTop:l},y.a.createElement(rA.a,{layout:PX,cellRenderer:SA(d,wY),items:i,size:Math.min(i.length,5),keyPropName:"metadataItemEntityID",...c})),y.a.createElement(zY,null))};class XX extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,extrasMetadataListEntityID:i,popularLeavesMetadataListEntityID:r,metadataKey:s,attribution:o,title:l,type:c,summary:d,thumb:u,art:p,listType:m,listStyle:h,isListReady:g,pageWidth:f,pageHeight:b,scrollTop:v,columnAdjustment:I}=this.props,{isContentMeasured:S,contentWidth:E,contentHeight:O}=this.state,M=!(!S||!r),C=!(!S||!n);return y.a.createElement(VO.a,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.a.createElement(hq,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:s,type:c,thumb:u,pageWidth:f,columnAdjustment:I},y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(jZ,{attribution:o,title:l}),y.a.createElement(zZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),y.a.createElement(KX,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),y.a.createElement(LY,null),y.a.createElement(Mq,null,y.a.createElement(ZZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),y.a.createElement(Vq,null,d))),y.a.createElement(Pq,null,M?y.a.createElement(q_.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,component:ZX,showArtwork:!!p,viewportWidth:E,viewportHeight:b,contentHeight:O,scrollTop:v,listStyle:h}):null,C?y.a.createElement(q_.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:m,listStyle:h,component:xX,initialSize:20,showArtwork:!!p,viewportWidth:E,viewportHeight:b,contentHeight:O,scrollTop:v}):null,g?y.a.createElement(Mq,null,i?y.a.createElement(zX,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,title:Object(Ce.default)("Music Videos")}):null,y.a.createElement(QX,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),y.a.createElement(vZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),y.a.createElement(XZ,{serverEntityID:e,providerEntityID:t})):null))}}var JX=XX;class $X extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,metadataKey:i,title:r,minYear:s,maxYear:o,type:l,summary:c,thumb:d,art:u,listType:p,listStyle:m,isListReady:h,pageWidth:g,pageHeight:f,scrollTop:b,columnAdjustment:v}=this.props,{isContentMeasured:I,contentWidth:S,contentHeight:E}=this.state,O=!(!s||!o||s===o),M=!(!o||s!==o),C=!(!I||!n);return y.a.createElement(VO.a,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.a.createElement(hq,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:i,type:l,thumb:d,pageWidth:g,columnAdjustment:v},y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,r)),y.a.createElement(FZ,null,O||M?y.a.createElement(OZ,null,O?s+" — "+o:o):null,y.a.createElement(zZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),y.a.createElement(LY,null),c?y.a.createElement(Mq,null,y.a.createElement(Vq,null,c)):null),y.a.createElement(Pq,null,C?y.a.createElement(q_.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:p,listStyle:m,component:xX,initialSize:20,showArtwork:!!u,viewportWidth:S,viewportHeight:f,contentHeight:E,scrollTop:b}):null,h?y.a.createElement(Mq,null,y.a.createElement(vZ,{serverEntityID:e,providerEntityID:t})):null))}}var eJ=$X;var tJ=Object(v.b)((function(){return Object(he.a)(Object(IB.a)(),e=>({mediaItem:e}))}))(cN);var aJ=Object(v.b)((function(){return Object(he.a)(qO,Object(IB.a)(),SB(),(e,t,a)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:a&&a.tag,timeFormat:e}))}))(gN),nJ=a("8ros"),iJ=a.n(nJ);class rJ extends g.Component{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:e.isSubscribeModalOpen}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:n,isSubscribed:i,subscriptionType:r,grandparentSubscriptionType:s}=this.props,{isSubscribeModalOpen:o}=this.state;return y.a.createElement(Ih.a,{"data-qa-id":"preplayRecordButton",className:iJ.a.recordButton,size:cc.c,onPress:this.onRecordPress},y.a.createElement(MM.a,{className:i?iJ.a.recordingIcon:iJ.a.recordIcon,type:s||r||n}),i?Object(Ce.default)("Recording Scheduled"):Object(Ce.default)("Record"),y.a.createElement(vd.a,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,isOpen:o,subscriptionType:n,onModalClose:this.onSubscribeModalClose}))}}rJ.defaultProps={isSubscribeModalOpen:!1};var sJ=rJ,oJ=a("HJAU"),lJ=a.n(oJ);var cJ=function(e){const{contentRating:t}=e;return t?y.a.createElement(DC.a,{className:lJ.a.badge},hi(t)):null},dJ=a("H43X"),uJ=a.n(dJ);var pJ=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:n,duration:i,contentRating:r,isSubscribed:s,subscriptionType:o,grandparentSubscriptionType:l,showRecord:c,record:d}){return y.a.createElement(OZ,null,y.a.createElement(dF,{className:uJ.a.duration,duration:i}),y.a.createElement(cJ,{contentRating:r}),c?y.a.createElement(sJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:n,isSubscribed:s,subscriptionType:o,grandparentSubscriptionType:l,isSubscribeModalOpen:d}):null)};var mJ=Object(v.b)((function(){return Object(he.a)(bh.b,Object(YO.a)(),(e,t={})=>({type:t.type,duration:t.duration,contentRating:t.contentRating,isSubscribed:null!=t.subscriptionID||null!=t.grandparentSubscriptionID,subscriptionType:t.subscriptionType,grandparentSubscriptionType:t.grandparentSubscriptionType,showRecord:!!e.features.subscribe}))}))(pJ);var hJ=function(e){const{server:t,provider:a,sourceDirectory:n,Genre:i}=e,r=!(!i||!i.length);return y.a.createElement(LZ,null,r?y.a.createElement(vq,{server:t,provider:a,sourceDirectory:n,Genre:i}):null)};var gJ=Object(v.b)((function(){return Object(he.a)(vh.b,bh.b,jF(),Object(YO.a)(),(e,t,a,n={})=>({server:e,provider:t,sourceDirectory:a,Genre:n.Genre}))}))(hJ);var yJ=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:i,type:r,summary:s,grandparentThumb:o,pageWidth:l,columnAdjustment:c,record:d}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(hq,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,posterType:wo.SHOW,metadataKey:i,type:r,thumb:o,pageWidth:l,columnAdjustment:c},y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,y.a.createElement(dM,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}))),y.a.createElement(FZ,null,y.a.createElement(OZ,null,y.a.createElement(uM.a,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}))),y.a.createElement(QZ,null,y.a.createElement(mJ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,record:d}),y.a.createElement(gJ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}))),y.a.createElement(LY,null),y.a.createElement(Mq,null,y.a.createElement(ZZ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}),y.a.createElement(tJ,{metadataItemEntityID:n},y.a.createElement(aJ,{metadataItemEntityID:n,showFullTime:!0,showChannel:!0})),y.a.createElement(Vq,null,s))),y.a.createElement(Mq,null,y.a.createElement(Pq,null,y.a.createElement(Mq,null,y.a.createElement(rZ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}),y.a.createElement(vZ,{serverEntityID:t,providerEntityID:a})))))},fJ=a("QbAs"),bJ=a.n(fJ);function vJ(e){return y.a.createElement("div",{className:bJ.a.attributionLogo},y.a.createElement(Xu,{...e}))}function IJ(e,t,a){return!!(!!(e.ownerFeatures&&e.ownerFeatures.indexOf(ve.z)>-1)&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||(e.protocol===JM.a||parseInt(e.protocolVersion,10)>=3)}(a))}var SJ=function(){return Object(he.a)(Object(RI.a)(),Object(YO.a)(),(e,t)=>IJ(e,t))};function EJ(e,t,a){return!!(!!(e.ownerFeatures&&e.ownerFeatures.indexOf(ve.A)>-1)&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||(e.protocol===JM.a||parseInt(e.protocolVersion,10)>=3)}(a))}var OJ=function(){return Object(he.a)(Object(RI.a)(),Object(YO.a)(),(e,t)=>EJ(e,t))},MJ=a("JUjL"),CJ=a("gFlf"),jJ=a("/No1");var DJ=function(e){return(e=parseInt(e,10))?e<2?Object(Ce.default)("Mono"):e<3?Object(Ce.default)("Stereo"):(e-1).toString()+".1":""};var PJ=function(e){return e?"dca"===e?"DTS":e.toUpperCase():""};const TJ={audio:function(e){const{stream:t,separatorComponent:a}=e,n=[];t.codec&&n.push(PJ(t.codec)),t.channels&&n.push(DJ(t.channels));const i=t.language||Object(Ce.default)("Unknown"),r=n&&n.length>0?n.join(" "):null,s=r?Object(Ce.default)("{label}, {details}",{label:i,details:r}):i;return y.a.createElement("span",{"aria-label":s,"data-qa-id":"audioStream"},i,r?y.a.createElement(a,null):null,r)},subtitles:function(e){const{stream:t,separatorComponent:a}=e,n=[];t.codec&&n.push(t.codec.toUpperCase()),t.key&&n.push(Object(Ce.default)("External")),t.forced&&n.push(Object(Ce.default)("Forced"));const i=t.language||Object(Ce.default)("Unknown"),r=n&&n.length>0?n.join(" "):null,s=r?Object(Ce.default)("{label}, {details}",{label:i,details:r}):i;return y.a.createElement("span",{"aria-label":s,"data-qa-id":"subtitlesStream"},i,r?y.a.createElement(a,null):null,r)},video:function(e){const{mediaItem:t,separatorComponent:a}=e;let n;t.videoCodec&&(n=[t.videoCodec.toUpperCase()]);const i=Object(Io.a)(t),r=i&&i.scanType,s=Object(yr.default)(t.videoResolution,r)||Object(Ce.default)("Unknown"),o=n&&n.length>0?n.join(" "):null,l=o?Object(Ce.default)("{label}, {details}",{label:s,details:o}):s;return y.a.createElement("span",{"aria-label":l,"data-qa-id":"videoStream"},s,o?y.a.createElement(a,null):null,o)}};var wJ=function(e){const{type:t,stream:a,mediaItem:n,serverShortVersion:i,...r}=e;if(!a&&!n)return y.a.createElement("span",{"data-qa-id":t+"Stream"},Object(Ce.default)("None"));if(i&&Object(oo.a)(i,so.a.streamDisplayTitles)){let e;if("video"===t){const t=Object(Io.a)(n);e=t?t.displayTitle:Object(Ce.default)("None")}else e=a.displayTitle||a.language;return y.a.createElement("span",{"aria-label":e,"data-qa-id":t+"Stream"},e)}const s=TJ[t];return y.a.createElement(s,{...r,stream:a,mediaItem:n})};var NJ=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),e=>({serverShortVersion:e.shortVersion}))}))(wJ);var xJ=function(e){return y.a.createElement(NJ,{...e,separatorComponent:Hi.b})};class AJ extends g.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onStreamSelect(this.props.stream.id),this.props.onMenuClose()}}render(){const{className:e,children:t,stream:a}=this.props;return y.a.createElement(uc.a,{className:e,isSelected:!!a.selected,onPress:this.onPress},t)}}var LJ=AJ,kJ=a("WqrE"),RJ=a.n(kJ);var zJ=function(e){const{target:t,isOpen:a,serverEntityID:n,audioStreams:i,onMenuClose:r,onStreamSelect:s}=e;return y.a.createElement(Xs.a,{target:t,isOpen:a,size:cc.a,onMenuClose:r},i.map(e=>y.a.createElement(LJ,{key:e.id,stream:e,onMenuClose:r,onStreamSelect:s},y.a.createElement(xJ,{serverEntityID:n,type:"audio",stream:e}),e.title?y.a.createElement("span",{className:RJ.a.extendedTitle},e.title):null)))};var UJ=XE.a.extend({name:"SubtitleModel",rootPropertyName:"Stream",syncedAttrs:{id:QE.a.integer,key:QE.a.string,streamType:QE.a.integer,codec:QE.a.string,index:QE.a.integer,language:QE.a.string,languageCode:QE.a.string,score:QE.a.float,providerTitle:QE.a.string,title:QE.a.string,displayTitle:QE.a.string,reason:QE.a.string,hearingImpaired:QE.a.boolean,perfectMatch:QE.a.boolean,downloaded:QE.a.boolean}});var VJ=CS.a.extend({name:"SubtitlesCollection",context:["server","key","language","title","mediaItemID","minimumScore","hearingImpaired","forced"],model:UJ,url(){const e={language:this.language};return this.title&&(e.title=this.title),this.mediaItemID&&(e.mediaItemID=this.mediaItemID),this.minimumScore&&(e.minimumScore=this.minimumScore),null!=this.hearingImpaired&&(e.hearingImpaired=this.hearingImpaired),null!=this.forced&&(e.forced=this.forced),j.default.join([this.key,"/subtitles"],e)}}),BJ=a("t/0V");const FJ=Object(yo.a)("ui/subtitlesModal/resetMetadataItemSubtitles"),HJ=Object(yo.a)("ui/subtitlesModal/fetchMetadataItemSubtitles"),_J=Object(yo.a)("ui/subtitlesModal/downloadMetadataItemSubtitle");Object(yo.a)("ui/subtitlesModal/clearSubtitlesDownloadError");let WJ=null;function QJ(e){return e.get("ui").get("subtitlesModal")}function GJ(e,t){WJ&&(WJ=window.clearTimeout(WJ));const a=t.get("metadataItemEntityID"),n=Object(GI.f)(e,{metadataItemEntityID:a}),i=n.server,r=t.get("subtitlesDownloadStartTime"),s=t.get("isSubtitlesDownloaded"),o=t.get("subtitlesDownloadError"),l=t.get("subtitlesDownloadKey");s||o||(r&&Date.now()-r>3e4?t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:Object(Ce.default)("Failed to download subtitles in time")}):WJ=window.setTimeout(()=>{n.fetch({data:{skipRefresh:1},usePopulatedParams:!0}).then(()=>{if(n.get("Media").some(e=>e.Part.some(e=>e.Stream.some(e=>e.key===l))))return t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!0,subtitlesDownloadError:null}),void KJ(e);i.get("hasEventConnection")||GJ(e,t)},()=>{GJ(e,t)})},2e3))}function KJ(e){const t=e.get("ui").get("audioVideoPlayer");if(!t.get("isOpen"))return;Object(KM.a)(e).refreshRemoteStreams(t)}const YJ=Object(MS.a)({"ui/subtitlesModal/resetMetadataItemSubtitles"(e){const t=QJ(e),a=t.get("subtitles");WJ&&(WJ=window.clearTimeout(WJ)),a.abortPendingPopulate(),a.resetPopulatePromise(null),t.restoreDefaults()},"ui/subtitlesModal/fetchMetadataItemSubtitles"(e,t,a){const n=QJ(e),i=function(e){return e.get("user").get("profile")}(e),r=Object(GI.f)(e,t),s=r.server.entityID(),o=n.get("subtitles");o&&(o.abortPendingPopulate(),o.resetPopulatePromise(null));const l=new VJ([],{key:r.get("key"),server:r.server,provider:r.provider,language:t.language,title:t.title,mediaItemID:t.mediaItemID,minimumScore:t.minimumScore,hearingImpaired:i.get("defaultSubtitleAccessibility"),forced:i.get("defaultSubtitleForced")});n.set({subtitles:l,serverEntityID:s,metadataItemEntityID:t.metadataItemEntityID,isSubtitlesPending:!0,isSubtitlesPopulated:!1,subtitlesError:null}),l.fetch().then(e=>{n.set({isSubtitlesPending:!1,isSubtitlesPopulated:!0})},(e,t)=>{t.aborting?n.set("isSubtitlesPending",!1):n.set({isSubtitlesPending:!1,subtitlesError:Object(BJ.a)(t,Object(Ce.default)("Unable to load subtitles"))})})},"ui/subtitlesModal/downloadMetadataItemSubtitle"(e,t,a){const n=QJ(e),i=Object(GI.f)(e,t),r=i.server,s={key:t.key,codec:t.codec,language:t.language,hearingImpaired:t.hearingImpaired?1:0,forced:t.forced?1:0,providerTitle:t.providerTitle,mediaItemID:t.mediaItemID,transient:t.transient},o=j.default.join([i.get("key"),"/subtitles"],s),l=r.getXHROptions(o,{type:"PUT"});n.set({subtitlesDownloadKey:t.key,subtitlesDownloadStartTime:Date.now(),isSubtitlesDownloaded:!1,subtitlesDownloadError:null}),h.a.ajax(l).then((t,a,i)=>{const s=i.getResponseHeader("X-Plex-Activity");n.set("subtitlesDownloadActivityID",s),r.get("hasEventConnection")||GJ(e,n)},e=>{n.set({subtitlesDownloadKey:null,subtitlesDownloadError:Object(BJ.a)(e,Object(Ce.default)("Unable to download subtitles"))})})},"ui/subtitlesModal/clearSubtitlesDownloadError"(e){QJ(e).set("subtitlesDownloadError",null)},[$I.c](e,t){const{serverEntityID:a}=t,n=QJ(e);a===n.get("serverEntityID")&&GJ(e,n)},[$I.g](e,t,a){const{activity:n}=t;if(n.type!==Ms.q)return;const i=QJ(e);if(n.uuid!==i.get("subtitlesDownloadActivityID"))return;const r=i.get("serverEntityID"),s=i.get("metadataItemEntityID"),o={subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null},l=null!=n.Response.error;l?(o.isSubtitlesDownloaded=!1,o.subtitlesDownloadError=n.Response.status):o.isSubtitlesDownloaded=!0,i.set(o),l||(KJ(e),a(Object(no.o)({serverEntityID:r,metadataItemEntityID:s})))}});function qJ(e){return e.ui.subtitlesModal}var ZJ=a("hPsq"),XJ=a("LmLz"),JJ=a("f6jo"),$J=a("zdre");const e$=/(^[^-]+)-/;function t$(e){for(let t=0,a=(e=e||[]).length;t<a;t++){const a=e[t];if("xx"===a||"xn"===a)continue;if($J.b[a])return a;const n=a.match(e$),i=n&&t$([n[1]]);if(i)return i}}const a$=["af","sq","ar","an","hy","az","eu","be","bn","bs","br","bg","my","ca","zh","zh-TW","cs","da","nl","en","eo","et","fi","fr","ka","de","gl","el","he","hi","hr","hu","is","id","it","ja","kn","kk","km","ko","ku","lv","lt","lb","mk","ml","ms","mn","no","oc","fa","pl","pt","pt-BR","ro","ru","sr","si","sk","sl","es","sw","sv","ta","te","tl","th","tr","uk","ur","vi"];const n$=a$.reduce((e,t)=>(e[t]=$J.b[t],e),{});function i$(e){if(n$[e])return e;const t=t$([e]);return n$[t]?t:"en"}const r$=[...a$].sort($J.c).reduce((e,t)=>(e.push(n$[t]),e),[]);var s$=n$,o$=a("Mtv6"),l$=a.n(o$);class c$ extends g.Component{constructor(){super(...arguments),this.onPress=()=>{const{subtitleKey:e,codec:t,languageCode:a,providerTitle:n,hearingImpaired:i,forced:r,onDownloadSubtitle:s}=this.props;s({key:e,codec:t,languageCode:a,providerTitle:n,hearingImpaired:i,forced:r})}}render(){const{title:e,displayTitle:t,score:a,perfectMatch:n,downloaded:i,isDownloading:r}=this.props;return y.a.createElement(jI.a,{className:l$.a.item,isDisabled:i||r,onPress:this.onPress},y.a.createElement("div",{className:l$.a.titles},y.a.createElement("span",{className:l$.a.title},e),y.a.createElement("span",{className:l$.a.secondaryTitle},t)),y.a.createElement("div",{className:l$.a.score},n?y.a.createElement(ar,{className:l$.a.perfectMatch}):null,a),r?y.a.createElement("div",{className:l$.a.spinnerContainer},y.a.createElement(HO.a,{size:cc.c})):null,i?y.a.createElement(ns.a,{className:l$.a.downloadedIcon}):null,r||i?null:y.a.createElement(XL,{className:l$.a.downloadIcon}))}}var d$=c$;var u$=function(e){const{subtitles:t,subtitlesDownloadKey:a,onDownloadSubtitle:n}=e;return y.a.createElement(XD.a,null,t.map(e=>{const{key:t,title:i,displayTitle:r,providerTitle:s,score:o,codec:l,languageCode:c,hearingImpaired:d,forced:u,perfectMatch:p,downloaded:m}=e;return y.a.createElement(d$,{key:t,subtitleKey:t,title:i,displayTitle:r,providerTitle:s,score:o,codec:l,languageCode:c,hearingImpaired:d,forced:u,perfectMatch:p,downloaded:m,isDownloading:a===t,onDownloadSubtitle:n})}))},p$=a("VVyF"),m$=a.n(p$);class h$ extends g.Component{constructor(e,t){super(e,t),this.onSearch=()=>{const{language:e,title:t}=this.state;this.props.onFetchSubtitles({language:e,title:t})},this.onLanguageChange=e=>{const t=Object.keys(s$).find(t=>s$[t]===e);this.setState({language:t},this.onSearch)},this.onTitleChange=e=>{this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID),this.setState({title:e},()=>{this.searchTimeoutID=window.setTimeout(this.onSearch,500)})},this.state={language:i$(e.defaultSubtitleLanguage),title:""},this.searchTimeoutID=null}componentDidMount(){this.onSearch()}componentDidUpdate(e,t){const{isSubtitlesDownloaded:a,onModalClose:n}=this.props,{isSubtitlesDownloaded:i}=e;!i&&a&&n()}componentWillUnmount(){this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID)}render(){const{mediaTitle:e,subtitles:t,showSpinner:a,showSearchResults:n,showEmptyMessage:i,hasSubtitlesError:r,subtitlesError:s,subtitlesDownloadKey:o,hasSubtitlesDownloadError:l,subtitlesDownloadError:c,onDownloadSubtitle:d,onModalClose:u}=this.props,{language:p}=this.state;return y.a.createElement("div",{className:m$.a.modalContainer},y.a.createElement(eN.a,{onModalClose:u},y.a.createElement(Jw.a,null,Object(Ce.default)("Subtitles")),l?y.a.createElement("div",null,y.a.createElement(OL.a,{errorMessage:c})):null,y.a.createElement(qw.a,{className:m$.a.modalBody,scrollDirection:iv.b},y.a.createElement("div",{className:m$.a.inputs},y.a.createElement(XJ.a,{className:m$.a.languageInput,name:"language",value:s$[p],values:r$,onChange:this.onLanguageChange}),y.a.createElement(JJ.a,{className:m$.a.titleInput,name:"title",placeholder:e,onChange:this.onTitleChange})),a?y.a.createElement("div",{className:m$.a.centeredContainer},y.a.createElement(HO.a,null)):null,r?y.a.createElement("div",{className:m$.a.centeredContainer},s):null,n?y.a.createElement(u$,{subtitles:t,subtitlesDownloadKey:o,onDownloadSubtitle:d}):null,i?y.a.createElement("div",{className:m$.a.centeredContainer},Object(Ce.default)("No results")):null)))}}var g$=h$;var y$=Object(v.b)((function(){return Object(he.a)(Object(kt.a)("profile"),Object(YO.a)(),qJ,(e,t={},a)=>{const{Media:n}=t;let i="";if(n&&n.length){const e=n[0].Part;e.length&&(i=Object(ZJ.default)(e[0].file,55))}const{subtitles:r,isSubtitlesPending:s,isSubtitlesPopulated:o,subtitlesError:l,subtitlesDownloadKey:c,isSubtitlesDownloaded:d,subtitlesDownloadError:u}=a,p=s&&!l,m=o&&!l&&r.length>0,h=o&&!l&&0===r.length;return{mediaTitle:i,defaultSubtitleLanguage:e.defaultSubtitleLanguage,subtitles:r,showSpinner:p,showSearchResults:m,showEmptyMessage:h,subtitlesDownloadKey:c,isSubtitlesDownloaded:d,hasSubtitlesError:!!l,subtitlesError:l,hasSubtitlesDownloadError:!!u,subtitlesDownloadError:u}})}),(function(e,t){const{metadataItemEntityID:a}=t;return{onFetchSubtitles({language:t,title:n}){e(HJ({metadataItemEntityID:a,language:t,title:n}))},onDownloadSubtitle(t){const{key:n,codec:i,languageCode:r,providerTitle:s,hearingImpaired:o,forced:l}=t;e(_J({metadataItemEntityID:a,key:n,codec:i,language:r,providerTitle:s,hearingImpaired:o,forced:l}))}}}))(g$);var f$=function(e){const{metadataItemEntityID:t,isOpen:a,onModalClose:n}=e;return y.a.createElement(Yw.a,{isOpen:a,metricsPage:It.vb,onModalClose:n},y.a.createElement(y$,{metadataItemEntityID:t,onModalClose:n}))};const b$={dispatchResetMetadataItemSubtitles:FJ};class v$ extends g.Component{constructor(){super(...arguments),this.onModalClose=()=>{this.props.dispatchResetMetadataItemSubtitles(),this.props.onModalClose()}}render(){return y.a.createElement(f$,{...this.props,onModalClose:this.onModalClose})}}var I$=Object(v.b)(null,b$)(v$);const S$=["aqt","ass","idx","jss","psb","rt","smi","srt","ssa","sub","txt","utf","utf-8","utf8","vtt"],E$=Object(yo.a)("ui/subtitlesUploadModal/resetUploadSubtitles"),O$=Object(yo.a)("ui/subtitlesUploadModal/uploadSubtitles");function M$(e){return e.get("ui").get("subtitlesUploadModal")}const C$=Object(MS.a)({"ui/subtitlesUploadModal/resetUploadSubtitles"(e){M$(e).restoreDefaults()},"ui/subtitlesUploadModal/uploadSubtitles"(e,t,a){const{file:n}=t,i=Object(GI.f)(e,t),r=M$(e),s=n.name,o=function(e){const t=e.lastIndexOf(".");return t>=0?e.substring(t+1):null}(s);if(!S$.includes(o))return void r.set({error:Object(Ce.default)("Unsupported subtitle file format")});if(n.size>1048576)return void r.set({error:Object(Ce.default)("Subtitle file exceeds 1MB size limit")});Object(Dt.a)(()=>{r.set({isUploading:!0,isUploaded:!1,error:null})});const l=new window.FileReader;l.onload=t=>{if(t.target.error)return void r.set({isUploading:!1,isUploaded:!1,error:Object(Ce.default)("Unable to upload subtitle file")});const a=t.target.result,n=j.default.join([i.get("key"),"subtitles"],{title:s,format:o}),l=i.server.getXHROptions(n,{method:"POST",processData:!1,contentType:!1,data:a});h.a.ajax(l).then(()=>{r.set({isUploading:!1,isUploaded:!0,error:null});const t=e.get("ui").get("audioVideoPlayer");if(i.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),t.get("isOpen")){Object(KM.a)(e).refreshRemoteStreams(t)}},e=>{r.set({isUploading:!1,isUploaded:!1,error:Object(BJ.a)(e,Object(Ce.default)("Unable to upload subtitle file"))})})},l.readAsText(n)}});var j$=a("CjSz"),D$=a.n(j$);class P$ extends g.Component{constructor(e,t){super(e,t),this.onDragEnter=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter++,this.setOverDropTargetState()},this.onDragLeave=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter--,this.setOverDropTargetState()},this.onFileDrop=e=>{e.preventDefault();const{metadataItemEntityID:t,dispatchUploadSubtitles:a}=this.props;let n;this.setState({isOverDropTarget:!1}),this.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?n=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(n=e.target.files[0]),a({metadataItemEntityID:t,file:n})},this.dropTargetEnteredCounter=0,this.state={isOverDropTarget:!1}}componentDidMount(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop)}componentDidUpdate(e){const{isUploading:t,isUploaded:a,onModalClose:n}=this.props;e.isUploading&&!t&&a&&n()}componentWillUnmount(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop)}setOverDropTargetState(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})}onWindowDrop(e=window.event){e.preventDefault()}onWindowDragOver(e=window.event){e.preventDefault()}onDragOver(e=window.event){e.dataTransfer.dropEffect="copy"}render(){const{isUploading:e,isUploaded:t,error:a,onModalClose:n}=this.props,{isOverDropTarget:i}=this.state;return y.a.createElement(eN.a,{onModalClose:n},y.a.createElement(Jw.a,null,Object(Ce.default)("Upload Subtitle File")),a?y.a.createElement(OL.a,{errorMessage:a}):null,y.a.createElement(qw.a,{className:D$.a.modalBody,scrollDirection:iv.b},y.a.createElement("div",{className:Pe()(D$.a.container,i&&D$.a.dropHover),onDrop:e?null:this.onFileDrop,onDragOver:e?null:this.onDragOver,onDragEnter:e?null:this.onDragEnter,onDragLeave:e?null:this.onDragLeave},e||t?y.a.createElement("div",{className:D$.a.uploadingContainer},y.a.createElement(Uw.a,{label:Object(Ce.default)("Uploading subtitle file")})):y.a.createElement("div",{className:D$.a.fileInputContainer},y.a.createElement(EL,{inputComponent:jI.a,className:D$.a.fileInputLink,name:"subtitleFile",buttonText:Object(Ce.default)("Choose a file"),onChange:this.onFileDrop}),y.a.createElement("span",{className:D$.a.separator},"·"),Object(Ce.default)("drag and drop")))),y.a.createElement(Zw.a,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{onPress:n},Object(Ce.default)("Cancel")))))}}var T$=P$;const w$={dispatchUploadSubtitles:O$};var N$=Object(v.b)((function(){return Object(he.a)(e=>e.ui.subtitlesUploadModal,e=>e)}),w$)(T$),x$=a("+art"),A$=a.n(x$);var L$=function(e){const{metadataItemEntityID:t,isOpen:a,onModalClose:n}=e;return y.a.createElement(Yw.a,{className:A$.a.modal,isOpen:a,metricsPage:It.wb,onModalClose:n},y.a.createElement(N$,{metadataItemEntityID:t,onModalClose:n}))};const k$={dispatchResetUploadSubtitles:E$};class R$ extends g.Component{constructor(){super(...arguments),this.onModalClose=()=>{this.props.dispatchResetUploadSubtitles(),this.props.onModalClose()}}render(){const{dispatchResetUploadSubtitles:e,...t}=this.props;return y.a.createElement(L$,{...t,onModalClose:this.onModalClose})}}var z$=Object(v.b)(null,k$)(R$),U$=a("itOj"),V$=a.n(U$);class B$ extends g.Component{constructor(e,t){super(e,t),this.onDeletePress=()=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onDeleteConfirm=()=>{const{subtitlesStream:e,onStreamDelete:t}=this.props;this.setState({isConfirmDeleteModalOpen:!1}),t(e.key),this.props.onMenuClose()},this.onDeleteCancel=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.state={isConfirmDeleteModalOpen:!1}}render(){const{serverEntityID:e,subtitlesStream:t,isStreamDeleteInProgress:a,hasExternalSubtitlesStreams:n,canShowDeleteSubtitlesAction:i,onMenuClose:r,onStreamSelect:s}=this.props,o=!!t.key&&i;return y.a.createElement("div",{className:V$.a.stream},y.a.createElement(LJ,{className:n?V$.a.menuItemContainer:void 0,stream:t,onMenuClose:r,onStreamSelect:s},y.a.createElement(xJ,{serverEntityID:e,type:"subtitles",stream:t}),t.title?y.a.createElement("span",{className:V$.a.extendedTitle},t.title):null),o?y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:V$.a.deleteContainer},y.a.createElement(ZO.a,{className:V$.a.deleteButton,iconComponent:Ql.a,ariaLabel:Object(Ce.default)("Delete Subtitle"),onPress:this.onDeletePress})),y.a.createElement(Xc.a,{isConfirmButtonSpinning:a,isOpen:this.state.isConfirmDeleteModalOpen,metricsPage:It.n,kind:ao.a,title:Object(Ce.default)("Delete Subtitle File"),message:Object(Ce.default)("Are you sure you want to delete this subtitle file?"),confirmLabel:Object(Ce.default)("Delete"),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel})):null)}}var F$=B$;class H$ extends g.Component{constructor(e,t){super(e,t),this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){const{target:e,isOpen:t,serverEntityID:a,metadataItemEntityID:n,subtitlesStreams:i,isStreamDeleteInProgress:r,canShowDeleteSubtitlesAction:s,canShowMoreSubtitlesAction:o,canShowUploadSubtitlesAction:l,onMenuClose:c,onStreamSelect:d,onStreamDelete:u}=this.props,{isSubtitlesModalOpen:p,isSubtitlesUploadModalOpen:m}=this.state,h=i.some(e=>!!e.key);return y.a.createElement(y.a.Fragment,null,y.a.createElement(Xs.a,{target:e,isOpen:t,size:cc.a,onMenuClose:c},i.map(e=>y.a.createElement(F$,{key:e.id,serverEntityID:a,subtitlesStream:e,isStreamDeleteInProgress:r,hasExternalSubtitlesStreams:h,canShowDeleteSubtitlesAction:s,onMenuClose:c,onStreamSelect:d,onStreamDelete:u})),o?y.a.createElement(Js.a,{onPress:this.onMoreSubtitlesPress},Object(Ce.default)("Search...")):null,l?y.a.createElement(Js.a,{onPress:this.onUploadSubtitlesPress},Object(Ce.default)("Upload...")):null),y.a.createElement(I$,{metadataItemEntityID:n,isOpen:p,onModalClose:this.onSubtitlesModalClose}),y.a.createElement(z$,{metadataItemEntityID:n,isOpen:m,onModalClose:this.onSubtitlesUploadModalClose}))}}var _$=H$,W$=a("Xf7Z"),Q$=a.n(W$);class G$ extends g.Component{constructor(e,t){super(e,t),this.onAudioStreamMenuButtonPress=e=>{this.setState({isAudioStreamMenuOpen:!this.state.isAudioStreamMenuOpen})},this.onAudioStreamMenuClose=()=>{this.setState({isAudioStreamMenuOpen:!1})},this.onSubtitlesStreamMenuButtonPress=e=>{this.setState({isSubtitlesStreamMenuOpen:!this.state.isSubtitlesStreamMenuOpen})},this.onSubtitlesStreamMenuClose=()=>{this.setState({isSubtitlesStreamMenuOpen:!1})},this.state={isAudioStreamMenuOpen:!1,isSubtitlesStreamMenuOpen:!1},this._audioStreamMenuButtonID=Object(gf.a)(),this._subtitlesStreamMenuButtonID=Object(gf.a)()}render(){const{serverEntityID:e,metadataItemEntityID:t,mediaItem:a,isStreamDeleteInProgress:n,canShowDeleteSubtitlesAction:i,canShowMoreSubtitlesAction:r,canShowUploadSubtitlesAction:s,onAudioStreamSelect:o,onSubtitlesStreamSelect:l,onSubtitlesStreamDelete:c}=this.props,{isAudioStreamMenuOpen:d,isSubtitlesStreamMenuOpen:u}=this.state;if(!a)return y.a.createElement(iN,null,y.a.createElement(lN,{label:Object(Ce.default)("Video")},y.a.createElement("span",{className:Q$.a.loadingMessage},Object(Ce.default)("Loading..."))),y.a.createElement(lN,{label:Object(Ce.default)("Audio")},y.a.createElement("span",{className:Q$.a.loadingMessage},Object(Ce.default)("Loading..."))),y.a.createElement(lN,{label:Object(Ce.default)("Subtitles")},y.a.createElement("span",{className:Q$.a.loadingMessage},Object(Ce.default)("Loading..."))));const p=rC.a.get("audio").id,m=Object(jJ.a)(a,{streamType:p}),h=Object(MJ.a)(a),g=rC.a.get("subtitles").id,f=Object(jJ.a)(a,{streamType:g}),b=Object(CJ.a)(a),v=r||f.length>1,I=y.a.createElement(xJ,{serverEntityID:e,type:"audio",stream:h}),S=y.a.createElement(xJ,{serverEntityID:e,type:"subtitles",stream:b});return y.a.createElement(iN,null,y.a.createElement(lN,{label:Object(Ce.default)("Video")},y.a.createElement(xJ,{serverEntityID:e,type:"video",mediaItem:a})),y.a.createElement(lN,{label:Object(Ce.default)("Audio")},m.length>1?y.a.createElement(Tq.a,{id:this._audioStreamMenuButtonID,direction:d?lc.c:lc.a,onPress:this.onAudioStreamMenuButtonPress},I):I),y.a.createElement(lN,{label:Object(Ce.default)("Subtitles")},v?y.a.createElement(Tq.a,{id:this._subtitlesStreamMenuButtonID,direction:u?lc.c:lc.a,onPress:this.onSubtitlesStreamMenuButtonPress},S):S),y.a.createElement(zJ,{target:this._audioStreamMenuButtonID,isOpen:d,serverEntityID:e,audioStreams:m,onMenuClose:this.onAudioStreamMenuClose,onStreamSelect:o}),y.a.createElement(_$,{target:this._subtitlesStreamMenuButtonID,isOpen:u,serverEntityID:e,metadataItemEntityID:t,subtitlesStreams:f,isStreamDeleteInProgress:n,canShowDeleteSubtitlesAction:i,canShowMoreSubtitlesAction:r,canShowUploadSubtitlesAction:s,onMenuClose:this.onSubtitlesStreamMenuClose,onStreamSelect:l,onStreamDelete:c}))}}var K$=G$;const Y$={dispatchMakePrePlayVideoDecision:NG,dispatchDeleteMetadataItemStream:no.l,dispatchSelectMetadataItemStream:no.p};class q$ extends g.Component{constructor(){super(...arguments),this.onAudioStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"audio",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"subtitles",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamDelete=e=>{this.props.dispatchDeleteMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamKey:e,metricsPage:this.props.metricsPage})}}componentDidMount(){this.props.dispatchMakePrePlayVideoDecision()}componentDidUpdate(e){e.mediaItems!==this.props.mediaItems&&e.dispatchMakePrePlayVideoDecision()}render(){const{metricsPage:e,dispatchMakePrePlayVideoDecision:t,dispatchSelectMetadataItemStream:a,...n}=this.props;return y.a.createElement(K$,{...n,onAudioStreamSelect:this.onAudioStreamSelect,onSubtitlesStreamSelect:this.onSubtitlesStreamSelect,onSubtitlesStreamDelete:this.onSubtitlesStreamDelete})}}var Z$=Object(BI.a)((function(){return Object(he.a)(e=>e.ui.prePlayPage.decisionMediaItem,vh.b,Object(YO.a)(),SJ(),OJ(),(e,t,a,n,i)=>({mediaItem:e,mediaItems:a.Media,isStreamDeleteInProgress:a.isStreamDeleteInProgress,canShowDeleteSubtitlesAction:t.isFullOwnedServer,canShowMoreSubtitlesAction:n,canShowUploadSubtitlesAction:i}))}),Y$)(q$);var X$=a("x8AS"),J$=a.n(X$);function $$({className:e,separator:t}){return y.a.createElement("span",{className:e},t)}$$.defaultProps={className:J$.a.separator,separator:"·"};var e0=$$,t0=a("urZ/"),a0=a.n(t0);function n0(e){return y.a.createElement(Ih.a,{...e})}n0.defaultProps={className:a0.a.statusButton,size:cc.c};var i0=n0,r0=a("RWac"),s0=a.n(r0);var o0=function(e){const{mediaGrabError:t,mediaGrabPartialRecordingReason:a,onPress:n}=e;return t?y.a.createElement(i0,{className:s0.a.failedButton,title:t,onPress:n},Object(Ce.default)("Failed Recording")):a?y.a.createElement(Dm.a,{tooltip:a,"aria-label":a,component:i0,className:s0.a.partialButton,onPress:n},Object(Ce.default)("Partial Recording")):y.a.createElement(i0,{className:s0.a.partialButton,onPress:n},Object(Ce.default)("Partial Recording"))},l0=a("4KTB"),c0=a.n(l0);function d0({className:e,children:t}){return y.a.createElement("span",{className:e},t)}d0.defaultProps={className:c0.a.tertiaryTitleSpacer};var u0=d0,p0=a("v9kw"),m0=a.n(p0);function h0({className:e,onPress:t}){return y.a.createElement(i0,{className:e,onPress:t},Object(Ce.default)("Unavailable"))}h0.defaultProps={className:m0.a.unavailableButton};var g0=h0;var y0=function(e){const{duration:t,saved:a,contentRating:n,viewCount:i,viewOffset:r,isFileUnavailable:s,isPartialMediaGrab:o,mediaGrabError:l,mediaGrabPartialRecordingReason:c,onGetInfoPress:d}=e,u=!i&&!r,p=!!r&&r<t,m=!!t||u||p,h=u&&(null==a||null!=a&&a);return y.a.createElement(OZ,null,m?y.a.createElement(u0,null,y.a.createElement(dF,{duration:t}),u||p?y.a.createElement(y.a.Fragment,null,t&&(h||p)?y.a.createElement(e0,null):null,h?Object(Ce.default)("Unplayed"):null,p?y.a.createElement(lF,{duration:t,viewOffset:r}):null):null):null,y.a.createElement(cJ,{contentRating:n}),s?y.a.createElement(g0,{onPress:d}):null,!s&&(o||l||c)?y.a.createElement(o0,{mediaGrabError:l,mediaGrabPartialRecordingReason:c,onPress:d}):null)};var f0=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),Object(he.a)(Object(YO.a)(),(e={})=>{const t={isPartialMediaGrab:!1,mediaGrabError:null},a=e.Media;if(!a||!a.length)return t;for(let e=0;e<a.length;e++){const n=a[e],{mediaGrabPartialRecording:i,mediaGrabError:r,mediaGrabPartialRecordingReason:s}=n;i&&(t.isPartialMediaGrab=!0),r&&(t.mediaGrabError=n.mediaGrabError),s&&(t.mediaGrabPartialRecordingReason=s)}return t}),Object(he.a)(e=>e.ui.prePlayPage,Object(YO.a)(),(e,t={})=>{if(e.isFileUnavailable)return!0;const a=t.Media;if(!a||!a.length)return!1;for(let e=0,t=a.length;e<t;e++){const t=a[e].Part;if(t&&t.length)for(let e=0,a=t.length;e<a;e++){const a=t[e];if(!1===a.exists||!1===a.accessible)return!0}}return!1}),(e={},t,a)=>({duration:e.duration,contentRating:e.contentRating,saved:e.saved,viewCount:e.viewCount,viewOffset:e.viewOffset,type:e.type,subtype:e.subtype,isFileUnavailable:a,...t}))}),(function(e,t){return{onGetInfoPress(a){e(Object(Fs.getMetadataItemInfo)({metadataItemEntityID:t.metadataItemEntityID}))}}}))(y0);var b0=function({originallyAvailableAt:e}){return y.a.createElement(LZ,null,e?Object(Ce.default)("{monthName} {day}, {year}",{monthName:on(Object(Tn.a)(Object(VM.a)(e))),day:Object(Xa.default)(e,"d"),year:Object(Xa.default)(e,"yyyy")}):null)};var v0=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({originallyAvailableAt:e.originallyAvailableAt}))}))(b0);function I0(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,type:i,attributionLogo:r,summary:s,showStreams:o}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,y.a.createElement(dM,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n})),y.a.createElement(LZ,null,y.a.createElement(vJ,{attributionLogo:r}))),y.a.createElement(FZ,null,y.a.createElement(OZ,null,y.a.createElement(uM.a,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n})),y.a.createElement(zZ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n})),y.a.createElement(QZ,null,y.a.createElement(f0,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}),y.a.createElement(v0,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}))),y.a.createElement(LY,null),y.a.createElement(Mq,null,y.a.createElement(ZZ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,type:i}),o?y.a.createElement(Z$,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}):null,y.a.createElement(Vq,null,s)))}I0.defaultProps={showStreams:!0};var S0=I0;var E0=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:i,attributionLogo:r,type:s,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(hq,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:i,type:s,thumb:l,pageWidth:c,columnAdjustment:d},y.a.createElement(S0,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,attributionLogo:r,type:s,summary:o})),y.a.createElement(Pq,null,y.a.createElement(Mq,null,y.a.createElement(rZ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}),y.a.createElement(XZ,{serverEntityID:t,providerEntityID:a}),y.a.createElement(vZ,{serverEntityID:t,providerEntityID:a}))))};var O0=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,summary:i}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,y.a.createElement(dM,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}))),y.a.createElement(FZ,null,y.a.createElement(OZ,null,y.a.createElement(uM.a,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n})),y.a.createElement(zZ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n})),y.a.createElement(QZ,null,y.a.createElement(f0,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}),y.a.createElement(v0,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}))),y.a.createElement(LY,null),y.a.createElement(Mq,null,y.a.createElement(Vq,{dangerouslySetInnerHTML:{__html:i}})))};var M0=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:i,type:r,subtype:s,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(hq,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:i,type:r,subtype:s,thumb:l,pageWidth:c,columnAdjustment:d},y.a.createElement(O0,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,summary:o})),y.a.createElement(Pq,null,y.a.createElement(Mq,null,y.a.createElement(vZ,{serverEntityID:t,providerEntityID:a}))))};var C0=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:i,type:r,subtype:s,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(hq,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:i,type:r,subtype:s,thumb:l,pageWidth:c,columnAdjustment:d},y.a.createElement(O0,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,summary:o})),y.a.createElement(Pq,null,y.a.createElement(Mq,null,y.a.createElement(vZ,{serverEntityID:t,providerEntityID:a}))))};var j0=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:i,title:r,type:s,year:o,summary:l,thumb:c,pageWidth:d,columnAdjustment:u,record:p}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(hq,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:i,type:s,thumb:c,pageWidth:d,columnAdjustment:u},y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,r)),y.a.createElement(FZ,null,y.a.createElement(OZ,null,o)),y.a.createElement(QZ,null,y.a.createElement(mJ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,record:p}),y.a.createElement(gJ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}))),y.a.createElement(LY,null),y.a.createElement(Mq,null,y.a.createElement(ZZ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}),y.a.createElement(tJ,{metadataItemEntityID:n},y.a.createElement(aJ,{metadataItemEntityID:n,showFullTime:!0,showChannel:!0})),y.a.createElement(Vq,null,l))),y.a.createElement(Mq,null,y.a.createElement(Pq,null,y.a.createElement(Mq,null,y.a.createElement(rZ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}),y.a.createElement(vZ,{serverEntityID:t,providerEntityID:a})))))};function D0(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-watchlist-badge-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M73 88.729C73 72.31 86.37 59 102.918 59h356.164C475.606 59 489 72.025 489 88.729v427.508c0 16.419-10.6 21.534-23.456 11.598L304.456 403.32c-12.954-10.014-34.057-9.937-46.912 0L96.456 527.835C83.502 537.849 73 532.94 73 516.237V88.729z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}D0.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var P0=D0,T0=a("WpwJ"),w0=a.n(T0);var N0=function(e){const{watchlistedAt:t}=e;return t?y.a.createElement(DC.a,{className:w0.a.badge},y.a.createElement(P0,{className:w0.a.icon})," ",Object(Ce.default)("In your Watchlist")):null};function x0(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,title:i,year:r,summary:s,watchlistedAt:o,attributionLogo:l,showGenres:c,showStreams:d}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,i),y.a.createElement(LZ,null,y.a.createElement(vJ,{attributionLogo:l}),y.a.createElement(N0,{watchlistedAt:o}))),y.a.createElement(FZ,null,y.a.createElement(OZ,null,r),y.a.createElement(zZ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n})),y.a.createElement(QZ,null,y.a.createElement(f0,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}),c?y.a.createElement(gJ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}):null)),y.a.createElement(LY,null),y.a.createElement(Mq,null,y.a.createElement(ZZ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}),d?y.a.createElement(Z$,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}):null,y.a.createElement(Vq,null,s)))}x0.defaultProps={showGenres:!0,showStreams:!0};var A0=x0;var L0=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,extrasMetadataListEntityID:i,metadataKey:r,attributionLogo:s,title:o,type:l,year:c,summary:d,thumb:u,pageWidth:p,columnAdjustment:m,watchlistedAt:h,showGenres:g,showStreams:f}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(hq,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataKey:r,type:l,thumb:u,pageWidth:p,columnAdjustment:m},y.a.createElement(A0,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,extrasMetadataListEntityID:i,attributionLogo:s,title:o,year:c,summary:d,watchlistedAt:h,showGenres:g,showStreams:f})),y.a.createElement(Pq,null,y.a.createElement(Mq,null,y.a.createElement(rZ,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}),i?y.a.createElement(zX,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataListEntityID:i,title:Object(Ce.default)("Extras")}):null,y.a.createElement(XZ,{serverEntityID:t,providerEntityID:a}),y.a.createElement(vZ,{serverEntityID:t,providerEntityID:a}))))};class k0 extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,title:i,summary:r,art:s,listType:o,listStyle:l,pageHeight:c,scrollTop:d}=this.props,{isContentMeasured:u,contentWidth:p,contentHeight:m}=this.state,h=!(!u||!n);return y.a.createElement(VO.a,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,i),y.a.createElement(zZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),y.a.createElement(LY,null),r?y.a.createElement(Mq,null,y.a.createElement(Vq,null,r)):null,y.a.createElement(Pq,null,h?y.a.createElement(q_.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:o,listStyle:l,component:xX,initialSize:1e3,showArtwork:!!s,viewportWidth:p,viewportHeight:c,contentHeight:m,scrollTop:d}):null))}}var R0=k0;function z0(e,t){switch(e){case _s.e:return 1===t?Object(Ce.default)("1 Video"):Object(Ce.default)("{count} Videos",{count:t});case _s.a:return 1===t?Object(Ce.default)("1 Track"):Object(Ce.default)("{count} Tracks",{count:t});default:return 1===t?Object(Ce.default)("1 Item"):Object(Ce.default)("{count} Items",{count:t})}}const U0=parseInt(yu.a.playQueueItemHeight,10);var V0=Object(JZ.a)(U0);function B0(){return Object(he.a)((e,{playlistItemEntityID:t})=>t,oG,(e,t)=>t[e])}function F0(){return Object(he.a)(B0(),DO.a,({metadataItem:e},t)=>t[e])}var H0=a("dOl7"),_0=a("xa0o");var W0=function(){return Object(he.a)(_0.a,H0.a,Object(he.a)(Object(YO.a)(),oM.a,(e={},t)=>e.source?t.ownerId:null),(e,t,a)=>{const n=e.find(e=>{const n=t[e];return n&&n.id===a});return n&&t[n]})},Q0=a("/XtJ"),G0=a("xH8n"),K0=a.n(G0);const Y0=parseInt(yu.a.playlistBadgeSize,10);function q0(e){const{className:t,textClassName:a,serverEntityID:n,attribution:i,avatar:r,name:s,hasOwner:o}=e;return i?y.a.createElement("div",{className:t},y.a.createElement(Jn,{className:K0.a.attribution,attribution:i})):o?y.a.createElement("div",{className:t},y.a.createElement("span",{className:a},s),y.a.createElement(Q0.a,{className:K0.a.avatar,serverEntityID:n,url:r,width:Y0,height:Y0})):null}q0.defaultProps={className:K0.a.container};var Z0=q0;var X0=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),W0(),(e={},t)=>({attribution:e.attribution,hasOwner:!!t,avatar:t&&t.thumb,name:t&&t.title}))}))(Z0),J0=a("J7Rr"),$0=a.n(J0);function e1(e){const{className:t,indexContainerClassName:a,titlesContainerClassName:n,sourceTextClassName:i,durationContainerClassName:r,attributionContainerClassName:s,serverEntityID:o,providerEntityID:l,metadataItemEntityID:c,cellIndex:d,type:u,subtype:p,title:m,duration:h,context:g,imageWidth:f,imageHeight:b,imageUrl:v,isPlaying:I,isPlayerPaused:S,hasOfflineFile:E,hasOwnSubscription:O,showAvailableOffline:M,source:C,ratingKey:j,onPlayPress:D}=e,P=aH(u,g,{providerEntityID:l,subtype:p});return y.a.createElement("div",{className:t},y.a.createElement("div",{className:a},I?null:y.a.createElement(N_,{className:$0.a.transientTitleLeft,index:d+1}),I?null:y.a.createElement(vM.a,{className:$0.a.playButton,title:m,onPress:D}),I?y.a.createElement(Sy,{className:$0.a.equalizer,isPaused:S}):null),y.a.createElement("div",{className:$0.a.cardContainer},y.a.createElement(JO.a,{key:c,className:$0.a.card,serverEntityID:o,providerEntityID:l,component:$O.a,width:f,height:b,url:v})),y.a.createElement("div",{className:n,"data-qa-id":"playlistTitleContainer"},P.map((e,t)=>y.a.createElement(XH,{key:t,serverEntityID:o,providerEntityID:l,metadataItemEntityID:c,component:e,isSecondary:t>0}))),M?y.a.createElement("div",{className:s},y.a.createElement(yY.a,{className:$0.a.downloadIcon,size:16,arrowSize:16,lineWidth:1.5,source:C,ratingKey:j,hasOfflineFile:E,hasOwnSubscription:O})):null,M?y.a.createElement(IY.a,{metadataItemEntityID:c,providerEntityID:l}):null,y.a.createElement(X0,{className:s,textClassName:i,serverEntityID:o,metadataItemEntityID:c}),h?y.a.createElement("div",{className:r},y.a.createElement(X_,{className:$0.a.transientTitleRight,duration:h})):null)}e1.defaultProps={className:$0.a.container,indexContainerClassName:$0.a.indexContainer,titlesContainerClassName:$0.a.titlesContainer,durationContainerClassName:$0.a.durationContainer,attributionContainerClassName:$0.a.attributionContainer};var t1=e1;var a1=Object(BI.a)((function(){return Object(he.a)(Object(YO.a)(),Object(ZG.a)(),Object(Z_.a)(),e=>e.ui.audioVideoPlayer.isPaused,(e={},t,a,n)=>{const i=XO.l,r=Object(eM.d)(e.type,e.subtype,i)===eM.a?64:36,s=Object(P_.a)(r,null,e.type,e.subtype,e,i),o=!(!e.ratingKey||!t)&&X.a.allowSyncDownload;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,ratingKey:e.ratingKey,context:i,imageWidth:s.width,imageHeight:s.height,imageUrl:s.url,isPlaying:a,isPlayerPaused:n,source:t,title:e.title,hasOfflineFile:Object(hY.a)(e),hasOwnSubscription:Object(gY.a)(e),showAvailableOffline:o}})}),(function(e,t){const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(Object(Ze.x)({...a,playlistMetadataItemEntityID:t.metadataListEntityID}))}}}))(t1),n1=a("vtAB"),i1=a.n(n1);class r1 extends g.Component{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}render(){const{serverEntityID:e,itemServerEntityID:t,providerEntityID:a,itemProviderEntityID:n,metadataItemEntityID:i,metadataListEntityID:r,metadataKey:s,listType:o,title:l,isSmart:c,isReadOnly:d,isSelected:u,isEmbeddedServer:p,hasActiveSelection:m,isOtherItemSelected:h,isModifierKeyPressed:g,cellIndex:f,isDragging:b,connectDragSource:v,onRemovePress:I,onSelectPress:S,onDeselectPress:E}=this.props,O=!(c||d||p),M=O&&(g||h),C=m?"-1":"0";return y.a.createElement("div",{className:Pe()(f%2?i1.a.alternateContainer:i1.a.container,m&&i1.a.hasActiveSelection,M&&i1.a.isForcingSelection,u&&i1.a.isSelected,b&&i1.a.isItemDragging)},O?y.a.createElement(jI.a,{className:i1.a.underlay,"aria-label":u?Object(Ce.default)("Deselect {title}",{title:l}):Object(Ce.default)("Select {title}",{title:l}),tabIndex:m?"0":"-1",onPress:u?E:S}):null,y.a.createElement("div",{className:i1.a.overlay,"data-qa-id":"playlistItem"},O?v(y.a.createElement("div",{className:i1.a.moveControl,"data-qa-id":"playlistReorderItem"},y.a.createElement(JT,{className:i1.a.grabIcon}))):null,y.a.createElement(a1,{className:i1.a.metadataContainer,sourceTextClassName:i1.a.sourceText,durationContainerClassName:i1.a.metadataDurationContainer,attributionContainerClassName:i1.a.attributionContainer,serverEntityID:e,itemServerEntityID:t,providerEntityID:a,itemProviderEntityID:n,metadataItemEntityID:i,metadataListEntityID:r,metadataKey:s,listType:o,cellIndex:f}),y.a.createElement("div",{className:i1.a.otherControls},O?y.a.createElement(sA.a,{className:i1.a.selectButton,title:l,isSelected:u,onPress:u?E:S}):null,y.a.createElement(w_.a,{"data-qa-id":"metadataRowMoreButton",className:i1.a.moreButton,tabIndex:C,serverEntityID:e,itemServerEntityID:t,providerEntityID:a,itemProviderEntityID:n,metadataItemEntityID:i,containerKey:s,listType:o,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:this.state.isActionsMenuOpen,onMenuOpenChange:this.onActionsMenuOpenChange}),O?y.a.createElement(ZO.a,{className:i1.a.removeButton,"data-qa-id":"playlistRemoveButton",iconComponent:Ql.a,title:Object(Ce.default)("Remove"),kind:ao.a,onPress:I}):null)))}}r1.defaultProps={isDragging:!1,connectDragSource:e=>e};var s1=r1;var o1=Object(v.b)((function(e,t){return Object(he.a)((e,{playlistItemEntityID:t})=>t,B0(),F0(),Object(kD.a)(),tA,Hx.a,(e,{playlistItemID:t},a,n,i,r)=>({itemServerEntityID:a.serverEntityID,itemProviderEntityID:a.providerEntityID,metadataItemEntityID:a.entityID,metadataKey:a.key,title:a.title,selectionID:e,selectionType:a.type,activeSelectionType:r.activeSelectionType,isSelected:iA(i,t),isEmbeddedServer:n}))}),(function(e,t){const a={playlistItemEntityID:t.playlistItemEntityID};return{onSelectItem(t){e(hG(t))},onDeselectItem(t){e(gG(t))},onRemovePress(){e(fG(a))}}}))(Object(D_.a)(s1)),l1=a("EykR"),c1=a.n(l1);class d1 extends g.Component{shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{item:e,itemType:t,currentOffset:a}=this.props;if(!a||"PLAYLIST_ITEM"!==t)return null;const n=xz(a,e.viewportWidth);return y.a.createElement(QT,null,y.a.createElement("div",{className:c1.a.dragPreview,style:n},y.a.createElement(o1,{isDragging:!0,...e})))}}var u1=Object(FT.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(d1),p1=a("FjM4"),m1=a.n(p1);const h1={beginDrag(e){const{providerEntityID:t,serverEntityID:a,metadataListEntityID:n,playlistItemEntityID:i,cellIndex:r,isSmart:s,isReadOnly:o,listType:l,viewportWidth:c}=e;return{providerEntityID:t,serverEntityID:a,metadataListEntityID:n,playlistItemEntityID:i,cellIndex:r,isSmart:s,isReadOnly:o,listType:l,viewportWidth:c}},endDrag(e,t,a){e.onItemDragEnd(t.getItem(),t.didDrop())}},g1={hover(e,t,a){const n=Object(f.findDOMNode)(a).getBoundingClientRect(),i=(n.bottom-n.top)/2,r=t.getClientOffset().y-n.top,s=e.cellIndex,o=r>i?s+1:s;e.onItemDragMove(o)}};class y1 extends g.Component{componentDidMount(){this.props.connectDragPreview(Object(bw.getEmptyImage)())}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{moveIndex:e,cellIndex:t,isOver:a,isDragging:n,connectDropTarget:i}=this.props,r=a&&e===t,s=a&&e===t+1;return i(y.a.createElement("div",{className:Pe()(m1.a.container,n&&ua.c,r&&a&&ua.e,s&&a&&ua.d)},y.a.createElement(o1,{...this.props})))}}var f1=Object(FT.DropTarget)("PLAYLIST_ITEM",g1,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(FT.DragSource)("PLAYLIST_ITEM",h1,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(y1)),b1=a("yb7Q"),v1=a.n(b1);var I1=function(e){return y.a.createElement("div",{className:e.cellIndex%2?v1.a.alternateContainer:v1.a.container},Object(Ce.default)("Loading..."))};var S1=Object(g.memo)((function(e){const{cellIndex:t,playlistItemEntityID:a,isSmart:n,isReadOnly:i,...r}=e,s=Object(KO.a)(e),o=n||i?o1:f1;return y.a.createElement("div",{style:s.style},a?y.a.createElement(o,{playlistItemEntityID:a,cellIndex:t,isSmart:n,isReadOnly:i,...r}):y.a.createElement(I1,{cellIndex:t}))})),E1=a("6GOp"),O1=a.n(E1);class M1 extends g.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:a}=this.state;t&&null!=a&&Object(Dt.a)(()=>{this.props.dispatchMovePlaylistItem({...e,moveIndex:a})}),this.setState({moveIndex:null})},this.state={moveIndex:null}}_getItemCountLabel(){return z0(this.props.playlistType,this.props.size)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:n,playlistType:i,contentWidth:r,contentHeight:s,scrollTop:o,items:l,isSmart:c,isReadOnly:d,size:u,duration:p,onEditFilters:m,...h}=this.props,g={serverEntityID:e,providerEntityID:t,metadataListEntityID:a,metadataKey:n,listType:i,activeSort:"titleSort",isSmart:c,isReadOnly:d,showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,moveIndex:this.state.moveIndex};if(0===u)return y.a.createElement("div",null,i===_s.e?Object(Ce.default)("This playlist has no videos."):Object(Ce.default)("This playlist has no tracks."));const f=c&&!d;return y.a.createElement("div",null,y.a.createElement(xV,{className:O1.a.header},y.a.createElement(RV,null,this._getItemCountLabel(),f?y.a.createElement(jI.a,{className:O1.a.editLink,kind:ao.d,onPress:m},Object(Ce.default)("Edit filters")):null),p?y.a.createElement("span",{className:O1.a.durationTitle},Cn(p)):null),y.a.createElement(BY,null),y.a.createElement(rA.a,{layout:V0,containerKey:n,keyPropName:"playlistItemEntityID",cellRenderer:SA(g,S1),items:l,size:u,viewportWidth:r,viewportHeight:s,scrollTop:o,firstItemType:i,listType:i,moveIndex:this.state.moveIndex,...h}),y.a.createElement(zY,null),c||d?null:y.a.createElement(u1,{serverEntityID:e,providerEntityID:t}))}}var C1=wx(M1);class j1 extends g.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:a}=this.state;t&&null!==a&&this.props.onItemDropped({...e,moveIndex:a}),this.setState({moveIndex:null})},this.state={moveIndex:null}}render(){const{showPreview:e,createCellRenderer:t,listComponent:a,previewComponent:n,...i}=this.props,r={onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd};return y.a.createElement(a,{moveIndex:this.state.moveIndex,cellRenderer:t(r),...i},e?y.a.createElement(n,{...i}):null)}}var D1=wx(j1),P1=a("rMHo"),T1=a("9leU"),w1=a.n(T1);class N1 extends g.Component{constructor(){super(...arguments),this.onPlayPress=()=>{this.props.onPlayPress(this.props.metadataItemEntityID)},this.onEditPress=()=>{this.props.onEditPress(this.props.metadataItemEntityID)}}render(){const{serverEntityID:e,providerEntityID:t,itemServerEntityID:a,itemProviderEntityID:n,metadataItemEntityID:i,playlistItemID:r,metadataKey:s,type:o,thumb:l,title:c,width:d,height:u,hasActiveSelection:p,isSelected:m,isOtherItemSelected:h,isModifierKeyPressed:g,isDragging:f,isSmart:b,isExternal:v,canDrag:I,connectDragSource:S,onSelectPress:E,onDeselectPress:O,onRemovePress:M}=this.props,C=o===wo.CLIP,j=!s;return S(y.a.createElement("div",{className:w1.a.photoContainer},y.a.createElement("div",{className:Pe()(w1.a.photo,m&&w1.a.isSelected)},y.a.createElement("div",{className:w1.a.image},j?null:y.a.createElement(JO.a,{key:r||s,serverEntityID:a,providerEntityID:n,component:$O.a,url:l,width:d,height:u}),y.a.createElement(P1.a,{serverEntityID:e,providerEntityID:t,itemServerEntityID:a,itemProviderEntityID:n,metadataItemEntityID:i,title:c,showPlay:!0,showEdit:!v,showSelect:!b,showRemove:!b,hasActiveSelection:p,isSelected:m,isOtherItemSelected:h,isModifierKeyPressed:g,isDragging:f,canDrag:I,onPlayPress:this.onPlayPress,onEditPress:this.onEditPress,onSelectPress:E,onDeselectPress:O,onRemovePress:M}),C?y.a.createElement("div",{className:w1.a.badge},y.a.createElement(Np.a,null)):null))))}}N1.defaultProps={connectDragSource:e=>e};var x1=N1;function A1(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function L1(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}class k1 extends g.Component{componentDidMount(){this.props.connectDragPreview(Object(bw.getEmptyImage)())}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{dragClassName:e,indexPropName:t,moveIndex:a,isDragging:n,isOver:i,connectDropTarget:r,connectDragSource:s,connectDragPreview:o,itemComponent:l,...c}=this.props,d=this.props[t],u=i&&a===d,p=i&&a===d+1;return r(y.a.createElement("div",{className:Pe()(e,n&&ua.c,u&&i&&ua.e,p&&i&&ua.d)},y.a.createElement(l,{connectDragSource:s,canDrag:!0,isDragging:n,...c})))}}var R1=a("Hr1X"),z1=function({itemComponent:e,dragClassName:t,dragType:a,direction:n="VERTICAL",idAttribute:i,indexPropName:r}){return Object(FT.DropTarget)(a,function({direction:e,indexPropName:t}){return{hover(a,n,i){const r=Object(f.findDOMNode)(i).getBoundingClientRect(),s=(r.right-r.left)/2,o=(r.bottom-r.top)/2,l=n.getClientOffset(),c=l.x-r.left,d=l.y-r.top,u=a[t],p=("VERTICAL"===e?d>o:c>s)?u+1:u;a.onItemDragMove(p)}}}({direction:n,indexPropName:r}),L1)(Object(FT.DragSource)(a,function({idAttribute:e}){return{beginDrag:t=>({[e]:t[e]}),endDrag(e,t,a){e.onItemDragEnd(t.getItem(),t.didDrop())}}}({idAttribute:i}),A1)((s={itemComponent:e,indexPropName:r,dragClassName:t},e=>y.a.createElement(k1,{...s,...e}))));var s}({itemComponent:x1,indexPropName:"cellIndex",direction:"HORIZONTAL",idAttribute:"playlistItemEntityID",dragType:"ALBUM_ITEM",dragClassName:a.n(R1).a.draggable});const U1=parseInt(yu.a.mosaicCellPadding,10);var V1=function(e){const{cellX:t,cellY:a,cellWidth:n,cellHeight:i,isSmart:r,...s}=e,o=Object(KO.a)(e),l=r?x1:z1,c=n-2*U1,d=i-2*U1;return y.a.createElement("div",{style:o.style},y.a.createElement(l,{width:c,height:d,isSmart:r,...s}))};var B1=Object(BI.a)((function(){return Object(he.a)((e,{playlistItemEntityID:t})=>t,B0(),F0(),tA,Hx.a,(e,{playlistItemID:t},a={},n,i)=>{const{serverEntityID:r,providerEntityID:s,entityID:o,key:l,source:c,type:d,thumb:u,title:p}=a;return{listType:_s.c,playlistItemID:t,itemServerEntityID:r,itemProviderEntityID:s,metadataItemEntityID:o,metadataKey:l,isExternal:!!c,type:d,thumb:u,title:p,selectionID:e,selectionType:_s.c,activeSelectionType:i.activeSelectionType,isSelected:iA(n,t)}})}),(function(e,t){const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(n){e(Object(Ze.x)({...a,playlistMetadataItemEntityID:t.playlistMetadataItemEntityID,metadataItemEntityID:n}))},onEditPress(t){e(Object(Fs.editMetadataItem)({...a,metadataItemEntityID:t}))},onRemovePress(){t.onRemoveItem({playlistItemEntityID:t.playlistItemEntityID})}}}))(Object(D_.a)(V1));var F1=Object(v.b)(null,(function(e){return{onSelectItem(t){e(hG(t))},onDeselectItem(t){e(gG(t))},onRemoveItem(t){e(fG(t))}}}))(B1);var H1=function(e){const{width:t,height:a}=e;return y.a.createElement(ot.a,{serverEntityID:e.serverEntityID,url:e.thumb,width:t,height:a,component:at.a})};var _1=Object(v.b)((function(){return Object(he.a)((e,{playlistItemEntityID:t})=>t,oG,DO.a,(e,t,a)=>{const n=a[t[e].metadataItem],i=Math.min(Math.max($x(n),.5),2),r=i>1;return{width:r?100*i:100,height:r?100:100/i,thumb:n.thumb}})}))(H1),W1=a("EzYn"),Q1=a.n(W1);class G1 extends g.Component{render(){const{item:e,currentOffset:t,serverEntityID:a}=this.props;if(!t||!e)return null;const n={...xz(t),display:"inline-block",width:"auto"};return y.a.createElement(QT,null,y.a.createElement("div",{className:Q1.a.dragPreview,style:n},y.a.createElement(_1,{serverEntityID:a,playlistItemEntityID:e.playlistItemEntityID})))}}var K1=Object(FT.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getClientOffset()}}))(G1);class Y1 extends g.Component{constructor(){super(...arguments),this.createCellRenderer=e=>{const{serverEntityID:t,providerEntityID:a,playlistMetadataItemEntityID:n,playlistRatingKey:i,isSmart:r,listType:s}=this.props;return SA({serverEntityID:t,providerEntityID:a,playlistMetadataItemEntityID:n,ratingKey:i,listType:s,isSmart:r,...e},F1)}}render(){const{isSmart:e,onItemDropped:t,...a}=this.props;return y.a.createElement(D1,{showPreview:!e,listComponent:fX,previewComponent:K1,createCellRenderer:this.createCellRenderer,onItemDropped:t,...a})}}var q1=Y1;const Z1={onItemDropped:yG};var X1=Object(v.b)((function(){return Object(he.a)((e,{items:t})=>t,(e,{serverEntityID:t})=>t,(e,{providerEntityID:t})=>t,Object(YO.a)(),oG,DO.a,(e=[],t,a,n,i,r)=>{const s=e.map(e=>{const t=i[e];return $x(r[t.metadataItem])});return{listType:n.playlistType,aspectRatios:s,playlistMetadataItemEntityID:n.entityID,playlistRatingKey:n.ratingKey,isSmart:!!n.smart,isReadOnly:!!n.readOnly}})}),Z1)(q1),J1=a("p1pj"),$1=a.n(J1);var e2=function(e){const{contentHeight:t,scrollTop:a,showArtwork:n,showSpinner:i,showError:r,listType:s,isEmpty:o,...l}=e;return i?y.a.createElement("div",{className:$1.a.emptyContainer},y.a.createElement(HO.a,null)):r?y.a.createElement("div",{className:$1.a.emptyMessage},Object(Ce.default)("Unable to load items")):o?y.a.createElement("div",{className:$1.a.emptyMessage},s===_s.c?Object(Ce.default)("There are no items in this album"):Object(Ce.default)("There are no items in this playlist")):y.a.createElement(qY,{showArtwork:n,contentHeight:t,scrollTop:a},s===_s.c?y.a.createElement(X1,{...l}):y.a.createElement(C1,{...l}))};const t2={dispatchInitPlaylistItemList:cG,dispatchResetPlaylistItemList:dG,dispatchPopulatePlaylistItemRange:pG,dispatchDeselectAllPlaylistItems:jm.d,dispatchMovePlaylistItem:yG,dispatchModifySmartPlaylist:Fs.modifySmartPlaylist};class a2 extends g.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const a=qr.l(this.props.providerIdentifier,qr.f);this.props.dispatchPopulatePlaylistItemRange({pages:a?1:void 0,startIndex:e,endIndex:t})},this.onEditFilters=()=>{this.props.dispatchModifySmartPlaylist({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,metadataItemEntityID:this.props.metadataItemEntityID})}}componentDidMount(){this._populate()}componentDidUpdate(e){this.props.metadataKey!==e.metadataKey&&this._populate()}componentWillUnmount(){this.props.dispatchDeselectAllPlaylistItems(),this.props.dispatchResetPlaylistItemList()}_populate(){const{serverEntityID:e,providerEntityID:t,metadataKey:a,providerIdentifier:n,dispatchInitPlaylistItemList:i,dispatchPopulatePlaylistItemRange:r}=this.props;i({serverEntityID:e,providerEntityID:t,metadataKey:a});r({pages:qr.l(n,qr.f)?1:void 0,startIndex:0,endIndex:39})}render(){const{dispatchInitPlaylistItemList:e,dispatchPopulatePlaylistItemRange:t,dispatchDeselectAllPlaylistItems:a,dispatchModifySmartPlaylist:n,...i}=this.props;return y.a.createElement(e2,{...i,onEditFilters:this.onEditFilters,onPageRequest:this.onPageRequest})}}var n2=Object(v.b)((function(e,t){return Object(he.a)(e=>e.ui.playlistPage,Object(YO.a)(),sM.a,(e,t,a)=>{const{serverEntityID:n,providerEntityID:i,metadataKey:r,playlistItemList:s={},isPlaylistItemListPending:o,isPlaylistItemListPopulated:l,playlistItemListError:c}=e,{ratingKey:d,playlistType:u,smart:p,readOnly:m,duration:h}=t,{metadataItems:g=[],populatedRange:y={},totalSize:f}=s;return{serverEntityID:n,providerEntityID:i,metadataKey:r,ratingKey:d,providerIdentifier:a.identifier,listType:u,keyPropName:"playlistItemEntityID",isSmart:!!p,isReadOnly:!!m,populatedRange:y,items:g,size:f,itemsOffset:y.start,duration:h,isEmpty:l&&!f,showArtwork:!1,showSpinner:o&&!l,showError:c}})}),t2)(a2);class i2 extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:n,title:i,type:r,playlistType:s,summary:o,composite:l,thumb:c,pageWidth:d,pageHeight:u,scrollTop:p,columnAdjustment:m}=this.props,{contentWidth:h,contentHeight:g,isContentMeasured:f}=this.state;return y.a.createElement(VO.a,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.a.createElement(hq,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,showPoster:s!==_s.c,metadataKey:n,type:r,thumb:c||l,pageWidth:d,columnAdjustment:m},y.a.createElement(Mq,null,y.a.createElement(wZ,null,i)),y.a.createElement(LY,null),o?y.a.createElement(Mq,null,y.a.createElement(Vq,null,o)):null),y.a.createElement(Pq,null,f?y.a.createElement(n2,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,playlistType:s,contentHeight:g,viewportWidth:h,viewportHeight:u,scrollTop:p}):null))}}var r2=i2;class s2 extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,metadataKey:i,attributionLogo:r,title:s,type:o,summary:l,thumb:c,listType:d,listStyle:u,isListReady:p,pageWidth:m,pageHeight:h,scrollTop:g,columnAdjustment:f}=this.props,{isContentMeasured:b,contentWidth:v,contentHeight:I}=this.state,S=!(!b||!n);return y.a.createElement(VO.a,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.a.createElement(hq,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:i,type:o,thumb:c,pageWidth:m,columnAdjustment:f},y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,y.a.createElement(uB,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),y.a.createElement(LZ,null,y.a.createElement(vJ,{attributionLogo:r}))),y.a.createElement(FZ,null,y.a.createElement(OZ,null,s),y.a.createElement(zZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),y.a.createElement(LY,null),l?y.a.createElement(Mq,null,y.a.createElement(Vq,null,l)):null),y.a.createElement(Pq,null,S?y.a.createElement(q_.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:d,listStyle:u,component:xX,initialSize:20,viewportWidth:v,viewportHeight:h,contentHeight:I,scrollTop:g}):null,p?y.a.createElement(Mq,null,y.a.createElement(rZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),y.a.createElement(XZ,{serverEntityID:e,providerEntityID:t}),y.a.createElement(vZ,{serverEntityID:e,providerEntityID:t})):null))}}var o2=s2,l2=a("YZZ6"),c2=a.n(l2);var d2=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:n,leafCount:i,contentRating:r,isSubscribed:s,subscriptionType:o,grandparentSubscriptionType:l,showRecord:c,record:d}){return y.a.createElement(OZ,null,y.a.createElement(XB,{className:c2.a.episodeCount,leafCount:i}),y.a.createElement(cJ,{contentRating:r}),c?y.a.createElement(sJ,{serverEntityID:e,metadataItemEntityID:a,providerEntityID:t,type:n,isSubscribed:s,subscriptionType:o,grandparentSubscriptionType:l,isSubscribeModalOpen:d}):null)};var u2=Object(v.b)((function(){return Object(he.a)(bh.b,Object(YO.a)(),(e,t={})=>({type:t.type,leafCount:t.leafCount,contentRating:t.contentRating,isSubscribed:null!=t.subscriptionID||null!=t.grandparentSubscriptionID,subscriptionType:t.subscriptionType,grandparentSubscriptionType:t.grandparentSubscriptionType,showRecord:!!e.features.subscribe}))}))(d2);class p2 extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,metadataKey:i,title:r,type:s,year:o,summary:l,thumb:c,listType:d,listStyle:u,isListReady:p,pageWidth:m,pageHeight:h,scrollTop:g,columnAdjustment:f,record:b}=this.props,{isContentMeasured:v,contentWidth:I,contentHeight:S}=this.state,E=!(!v||!n);return y.a.createElement(VO.a,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.a.createElement(hq,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:i,type:s,thumb:c,pageWidth:m,columnAdjustment:f},y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,r)),y.a.createElement(FZ,null,y.a.createElement(OZ,null,o)),y.a.createElement(QZ,null,y.a.createElement(u2,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,record:b}),y.a.createElement(gJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),y.a.createElement(LY,null),y.a.createElement(Mq,null,y.a.createElement(ZZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),y.a.createElement(Vq,null,l))),y.a.createElement(Pq,null,E?y.a.createElement(q_.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:d,listStyle:u,component:xX,initialSize:20,viewportWidth:I,viewportHeight:h,contentHeight:S,scrollTop:g}):null,p?y.a.createElement(Mq,null,y.a.createElement(rZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),y.a.createElement(vZ,{serverEntityID:e,providerEntityID:t})):null))}}var m2=p2,h2=a("ld10"),g2=a.n(h2);function y2(e){const{className:t,kind:a,size:n,saved:i,providerIdentifier:r,subtype:s,onPress:o}=e;return y.a.createElement(Ih.a,{className:t,kind:a,size:n,onPress:o},i?y.a.createElement(ns.a,{className:g2.a.iconSaved}):null,function(e,t,a){return a===Co.PODCAST?e?Object(Ce.default)("In My Podcasts"):Object(Ce.default)("Add to My Podcasts"):a===Co.WEBSHOW?e?Object(Ce.default)("In My Shows"):Object(Ce.default)("Add to My Shows"):qr.l(t,qr.f)?e?Object(Ce.default)("In My TIDAL"):Object(Ce.default)("Add to My TIDAL"):e?Object(Ce.default)("In My Shows"):Object(Ce.default)("Add to My Shows")}(i,r,s))}y2.defaultProps={kind:ao.b,size:cc.a};var f2=y2;var b2=Object(v.b)((function(){return Object(he.a)(sM.a,Object(YO.a)(),(e,t)=>({providerIdentifier:e.identifier,saved:t.saved,subtype:t.subtype}))}),(function(e,t){const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress(t){e(Object(no.r)(a))}}}))(f2);var v2=function({leafCount:e}){return y.a.createElement(OZ,null,y.a.createElement(XB,{leafCount:e}))};var I2=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({leafCount:e.leafCount}))}))(v2),S2=a("S1st"),E2=a.n(S2);class O2 extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,metadataKey:i,title:r,type:s,subtype:o,summary:l,showAddToSaved:c,thumb:d,allEpisodes:u,listType:p,listStyle:m,isListReady:h,pageHeight:g,pageWidth:f,scrollTop:b,columnAdjustment:v,isEmbeddedServer:I}=this.props,{isContentMeasured:S,contentWidth:E,contentHeight:O}=this.state,M=!(!S||!n);let C;return M&&I?C=u?Object(Ce.default)("All Downloaded Episodes"):Object(Ce.default)("Recent Downloaded Episodes"):M&&(C=u?Object(Ce.default)("All Episodes"):Object(Ce.default)("Recent Episodes")),y.a.createElement(VO.a,{className:E2.a.container,ignorePosition:!0,onMeasure:this.onContentMeasure},y.a.createElement(hq,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:i,type:s,subtype:o,thumb:d,pageWidth:f,columnAdjustment:v},y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,r)),y.a.createElement(QZ,null,y.a.createElement(I2,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),y.a.createElement(gJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),y.a.createElement(LY,null),y.a.createElement(Mq,null,y.a.createElement(Vq,{dangerouslySetInnerHTML:{__html:l}}),c?y.a.createElement(b2,{className:E2.a.addToSavedButton,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}):null)),y.a.createElement(Pq,null,M?y.a.createElement(q_.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:p,listStyle:m,component:xX,initialSize:20,previewSize:u?null:3,listTitle:C,titleButtonTitle:u?Object(Ce.default)("See Recent Episodes"):Object(Ce.default)("See All Episodes"),titleButtonRoute:j.default.join(window.location.hash,{allEpisodes:u?void 0:1},{parseParams:!0}),viewportWidth:E,viewportHeight:g,contentHeight:O,scrollTop:b}):null,h?y.a.createElement(Mq,null,y.a.createElement(vZ,{serverEntityID:e,providerEntityID:t})):null))}}var M2=O2;class C2 extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,onDeckMetadataItemEntityID:i,extrasMetadataListEntityID:r,metadataKey:s,attributionLogo:o,title:l,type:c,year:d,contentRating:u,summary:p,thumb:m,listType:h,listStyle:g,isListReady:f,pageWidth:b,pageHeight:v,scrollTop:I,columnAdjustment:S,watchlistedAt:E}=this.props,{isContentMeasured:O,contentWidth:M,contentHeight:C}=this.state,j=!(!O||!n);return y.a.createElement(VO.a,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.a.createElement(hq,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:s,type:c,thumb:m,pageWidth:b,columnAdjustment:S},y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,l),y.a.createElement(LZ,null,y.a.createElement(vJ,{attributionLogo:o}),y.a.createElement(N0,{watchlistedAt:E}))),y.a.createElement(FZ,null,y.a.createElement(OZ,null,d),y.a.createElement(zZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),y.a.createElement(QZ,null,y.a.createElement(OZ,null,y.a.createElement(u0,null,i?y.a.createElement("span",null,Object(Ce.default)("On Deck")," ",y.a.createElement(Hi.b,null),y.a.createElement(TC,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:i})):y.a.createElement(JB,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),y.a.createElement(cJ,{contentRating:u})),y.a.createElement(gJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),y.a.createElement(LY,null),y.a.createElement(Mq,null,y.a.createElement(ZZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),y.a.createElement(Vq,null,p))),y.a.createElement(Pq,null,j?y.a.createElement(q_.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:h,listStyle:g,component:xX,initialSize:20,viewportWidth:M,viewportHeight:v,contentHeight:C,scrollTop:I}):null,f?y.a.createElement(Mq,null,y.a.createElement(rZ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),r?y.a.createElement(zX,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:r,title:Object(Ce.default)("Extras")}):null,y.a.createElement(XZ,{serverEntityID:e,providerEntityID:t}),y.a.createElement(vZ,{serverEntityID:e,providerEntityID:t})):null))}}var j2=C2;class D2 extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,metadataKey:i,title:r,type:s,subtype:o,summary:l,showAddToSaved:c,thumb:d,allEpisodes:u,listType:p,listStyle:m,isListReady:h,pageWidth:g,pageHeight:f,scrollTop:b,columnAdjustment:v}=this.props,{isContentMeasured:I,contentWidth:S,contentHeight:E}=this.state,O=!(!I||!n);return y.a.createElement(VO.a,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.a.createElement(hq,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:i,type:s,subtype:o,thumb:d,pageWidth:g,columnAdjustment:v},y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,r)),y.a.createElement(QZ,null,y.a.createElement(I2,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),y.a.createElement(gJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),y.a.createElement(LY,null),y.a.createElement(Mq,null,y.a.createElement(Vq,{dangerouslySetInnerHTML:{__html:l}}),c?y.a.createElement(b2,{className:E2.a.addToSavedButton,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}):null)),y.a.createElement(Pq,null,O?y.a.createElement(q_.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:p,listStyle:m,component:xX,initialSize:20,previewSize:u?null:3,listTitle:u?Object(Ce.default)("All Episodes"):Object(Ce.default)("Recent Episodes"),titleButtonTitle:u?Object(Ce.default)("See Recent Episodes"):Object(Ce.default)("See All Episodes"),titleButtonRoute:j.default.join(window.location.hash,{allEpisodes:u?void 0:1},{parseParams:!0}),viewportWidth:S,viewportHeight:f,contentHeight:E,scrollTop:b}):null,h?y.a.createElement(Mq,null,y.a.createElement(vZ,{serverEntityID:e,providerEntityID:t})):null))}}const P2={movie:L0,show:j2,season:o2,episode:E0,artist:JX,album:KZ,photoalbum:R0,clip:L0,playlist:r2,collection:eJ,game:L0},T2={podcast:{show:M2,track:M0},webshow:{show:D2,episode:C0}},w2={movie:j0,show:m2,episode:yJ};class N2 extends g.Component{componentDidMount(){this.props.onLibraryChange(this.props.providerIdentifier,this.props.librarySectionID),this.props.onBackgroundChange(this.props.backgroundImageUrl,!!this.props.art),this.props.onThemeMusicChange(this.props.theme),this.props.isRemotePlayer&&this.props.onMirrorDetails()}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:a,backgroundImageUrl:n,art:i,theme:r,isRemotePlayer:s,onLibraryChange:o,onBackgroundChange:l,onThemeMusicChange:c,onMirrorDetails:d}=this.props;t!==e.librarySectionID&&o(a,t),e.backgroundImageUrl!==n&&l(n,!!i),e.theme!==r&&c(r),!e.isRemotePlayer&&s&&d()}componentWillUnmount(){this.props.onLibraryChange(null,null)}render(){const{providerIdentifier:e,providerMetricsIdentifier:t,type:a,subtype:n,art:i,listStyle:r,onBackgroundChange:s,...o}=this.props,l=function(e,t,a){if(!e)return YG;const n=qr.l(a,qr.c),i=T2[t],r=(n?w2:P2)[e];return i&&i[e]||r||qG}(a,n,e),c=a===wo.GAME;return y.a.createElement(WG,{identifier:t,type:a,style:r,showArtwork:!!i},y.a.createElement(l,{type:a,subtype:n,art:i,listStyle:r,showGenres:!c,showStreams:!c,...o}))}}function x2(e,t,a){if(a)switch(a){case XO.n:switch(t){case"podcast":switch(e){case"track":return[qA]}break;case"webshow":switch(e){case"episode":return[qA]}}switch(e){case"track":return[YA]}break;case It.T:switch(e){case"track":return[YA]}break;case XO.r:return[JA]}switch(t){case"podcast":switch(e){case"show":return[GA,YA,ZA];case"track":return[YA,qA]}}switch(e){case"movie":case"show":return[GA,YA,ZA];case"season":return[GA,YA];case"episode":case"artist":case"album":return[GA,YA,ZA];case"track":return[GA,YA];case"photo":case"photoalbum":return[KA];case"clip":return[GA,YA];case"collection":return[GA,ZA];default:return[GA]}}function A2(e,t,a,n={}){return qr.l(n.identifier,qr.c)?function(e,t,a){if(a)switch(a){case XO.n:return[XA]}switch(e){case"show":case"episode":case"movie":return[GA]}return x2(e,t,a)}(e,t,a):x2(e,t,a)}function L2(e,t,a,n,i){if(!a)return;const r=A2(a,n,t,i);if(1===r.length)return r[0];let s;const o=QA(a,n);return e[t]&&(s=e[t][o]),s&&r.indexOf(s)>-1?s:r[0]}const k2=vO(N2,(function(e){return{descendantKey:e.ui.prePlayPage.descendantKey}}),(function(e,t){e(MG({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,descendantKey:t.descendantKey}))}));var R2=Object(BI.a)((function(){return Object(he.a)(Bs.b,bh.b,Object(YO.a)(),Object(he.a)(Object(YO.a)(),e=>{if(!e||!e.childrenKey)return;const t=e.key,a=e.skipChildren?"grandchildren":"children";return j.default.join([t,a])}),BG,VG,UG,FG(),Object(he.a)(Object(jO.a)(),e=>!(!e||!e.isPopulated)),FM,Object(kD.a)(),(e,t,a,n,i,r,s,o,l,c,d)=>{const{type:u,subtype:p}=a,m=Object(P_.b)(u,p,a,XO.n),h=m||a.thumb||a.parentThumb||a.grandparentThumb,g=a.grandparentArt||a.parentArt||a.art,y=a.grandparentTheme||a.parentTheme||a.theme,f=i?g||h:h||g,b=L2(s,XO.n,o,a.subtype,t),v=Object(No.a)(e,t.features.actions.save);return{librarySectionID:a.librarySectionID,providerIdentifier:t.identifier,providerMetricsIdentifier:t.metricsIdentifier,metadataKey:a.key,descendantKey:n,attribution:a.attribution,attributionLogo:a.attributionLogo,title:a.title,type:a.type,subtype:a.subtype,year:a.year,contentRating:a.contentRating,minYear:a.minYear,maxYear:a.maxYear,summary:a.summary,showAddToSaved:v&&null!=a.saved,thumb:m,parentThumb:a.parentThumb,grandparentThumb:a.grandparentThumb,composite:a.composite,art:i?g:void 0,theme:r?y:void 0,backgroundImageUrl:f,playlistType:a.playlistType,isListReady:l,onDeckMetadataItemEntityID:a.onDeck,extrasMetadataListEntityID:a.extras,popularLeavesMetadataListEntityID:a.popularLeaves,listType:o,listStyle:b,isRemotePlayer:c,isEmbeddedServer:d,watchlistedAt:a.watchlistedAt}})}),(function(e,t){return{onLibraryChange(a,n){let i;t.sourceDirectory&&(i=t.sourceDirectory.id),!i&&n&&(i=n),e(Object(Tt.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:a,directoryID:i}))},onBackgroundChange(a,n){e(Object(aa.a)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,imageUrl:a,allowBlur:!n}))},onThemeMusicChange(a){e(Object(aa.b)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,theme:a}))},onMirrorDetails(){e(gC({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID}))}}}))(k2),z2=a("3B9w"),U2=a.n(z2);class V2 extends g.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onContentMeasure=({width:e,height:t,y:a})=>{(e||t)&&this.setState({isMeasured:!0,pageWidth:e,pageHeight:t,pageY:a})},this.state={scrollTop:0,isMeasured:!1,pageWidth:0,pageHeight:0,pageY:0}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,columnAdjustment:i,record:r,allEpisodes:s}=this.props,{scrollTop:o,isMeasured:l,pageWidth:c,pageHeight:d,pageY:u}=this.state;return y.a.createElement(VO.a,{className:U2.a.prePlayPageContentContainer,onMeasure:this.onContentMeasure},y.a.createElement(VT,{className:U2.a.prePlayPageContent,scrollTop:o,onScrollPositionChange:this.onScrollPositionChange},l?y.a.createElement(R2,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,pageWidth:c,pageHeight:d,pageY:u,scrollTop:o,columnAdjustment:i,record:r,allEpisodes:s}):null))}}var B2=V2;function F2(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-next-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m0 320l0-80 360 0 0-160 200 200-200 200 0-160-360 0"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}F2.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var H2=F2;function _2(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-prev-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m200 80l-200 200 200 200 0-160 360 0 0-80-360 0 0-160"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}_2.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var W2=_2;const Q2={dispatchPreFetch:DG};class G2 extends g.Component{componentDidMount(){this._preFetch()}componentDidUpdate(e){this.props.metadataItemEntityID!==e.metadataItemEntityID&&this._preFetch()}_preFetch(){const{metadataItemEntityID:e,isDisabled:t,dispatchPreFetch:a}=this.props;t||a({metadataItemEntityID:e})}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,dispatchPreFetch:n,metricsPage:i,metricsContext:r,...s}=this.props;return y.a.createElement(Mv.a,{...s})}}var K2=Object(BI.a)((function(){return Object(he.a)((e,{metricsContext:t})=>t,vh.b,bh.b,Object(YO.a)(),(e,t,a,n={})=>{const i={legacy:1};return e&&(i.context=e),{to:Object(Ka.a)(t,a,n.key,i),isDisabled:!n.key}})}),Q2)(G2);var Y2=function({serverEntityID:e,providerEntityID:t,previousMetadataItemEntityID:a,nextMetadataItemEntityID:n}){return y.a.createElement("div",null,y.a.createElement(K2,{serverEntityID:e,"data-qa-id":"toolbarPrevious",providerEntityID:t,metadataItemEntityID:a},y.a.createElement(W2,null)),y.a.createElement(K2,{serverEntityID:e,"data-qa-id":"toolbarNext",providerEntityID:t,metadataItemEntityID:n},y.a.createElement(H2,null)))};var q2=Object(v.b)((function(){return Object(he.a)((e,{metadataItemEntityID:t})=>t,Object(jO.a)(),(e,t={})=>{const a=t.metadataItems,n=a.indexOf(e),i=n+1,r=n-1;let s,o;return r>-1&&(s=a[r]),i>0&&i<a.length&&(o=a[i]),{previousMetadataItemEntityID:s,nextMetadataItemEntityID:o}})}))(Y2);var Z2=function({title:e,to:t,isSelected:a}){return t?y.a.createElement(uc.a,{to:t,isSelected:a},e):null};var X2=Object(BI.a)((function(){return Object(he.a)((e,{selectedKey:t})=>t,(e,{metricsContext:t})=>t,vh.b,bh.b,Object(YO.a)(),Object(pM.a)(),(e,t,a,n,i={},r)=>(t&&({legacy:1}.context=t),{title:i.title,to:r,isSelected:e===i.key}))}))(Z2),J2=a("RWya"),$2=a.n(J2);var e4=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityIDs:n,isPending:i,error:r,selectedKey:s,target:o,isOpen:l,onMenuClose:c}=e,d=!!n.length,u=!d&&i,p=!d&&!i&&!!r,m=!d&&!u&&!p;return y.a.createElement(Xs.a,{target:o,isOpen:l,size:cc.a,onMenuClose:c},u?y.a.createElement("span",{className:$2.a.emptyContainer},y.a.createElement(HO.a,null)):null,p?y.a.createElement("span",{className:$2.a.emptyContainer},Object(Ce.default)("Unable to load items")):null,m?y.a.createElement("span",{className:$2.a.emptyContainer},Object(Ce.default)("No items")):null,n.map(e=>y.a.createElement(X2,{key:e,serverEntityID:t,providerEntityID:a,metadataItemEntityID:e,selectedKey:s})))},t4=a("2cfR"),a4=a("DRU1"),n4=a("+PyO"),i4=a("fxUS");function r4(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-add-to-watchlist-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M22.2 12H25.8V16.2H30V19.8H25.8V24H22.2V19.8H18V16.2H22.2V12Z"}].concat([])),y.a.createElement.apply(y.a,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892ZM19.7759 30.3837L9.6 38.2073V7.19998H38.4V38.2073L28.2241 30.3837C26.9296 29.3885 25.382 28.9922 23.9927 28.9938C22.6046 28.9953 21.0627 29.3944 19.7759 30.3837Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}r4.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var s4=r4;function o4(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-remove-from-watchlist-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892ZM21.4545 18L17.6361 14.1816L20.1817 11.636L24.0001 15.4544L27.8184 11.636L30.364 14.1816L26.5456 18L30.364 21.8183L27.8184 24.3639L24.0001 20.5456L20.1817 24.3639L17.6361 21.8184L21.4545 18Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}o4.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var l4=o4;var c4=function(e){const{watchlistedAt:t,onPress:a}=e;return y.a.createElement(Mv.a,{"data-qa-id":"toolbarAddToWatchList",tooltip:t?Object(Ce.default)("Remove from Watchlist"):Object(Ce.default)("Add to Watchlist"),onPress:a},t?y.a.createElement(l4,null):y.a.createElement(s4,null))};const d4=Object(he.a)(Object(YO.a)(),e=>({watchlistedAt:e.watchlistedAt}));var u4=Object(v.b)(d4,(function(e,t){const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress(){e(Object(no.s)(a))}}}))(c4);function p4(e){const{markUnplayed:t,onPress:a}=e;return y.a.createElement(Mv.a,{"data-qa-id":"toolbarToggleWatched",tooltip:t?Object(Ce.default)("Mark as Unplayed"):Object(Ce.default)("Mark as Played"),onPress:a},y.a.createElement(gk,null))}p4.defaultProps={markUnplayed:!1};var m4=p4;function h4(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-artist-tv-icon-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M29.218 420.218h503v-308h-503v308zm307 28v56c0 .327 18.667.327 56 0v28h-224v-28h56c.327 0 .327-18.667 0-56l-224-.5c-.49 0 0-363.01 0-363.5 0-.49 559.51 0 560 0 .327 0 .327 121.333 0 364 0 .327-74.667.327-224 0zm-55.61-139.931c-15.108 0-27.356-12.248-27.356-27.356 0-15.109 12.248-27.357 27.357-27.357 15.108 0 27.356 12.248 27.356 27.357 0 15.108-12.248 27.356-27.356 27.356zm48.566 9.768c8.87-10.546 14.193-24.034 14.193-38.734 0-18.883-8.784-35.767-22.588-46.984l15.585-13.98c18.068 15.053 29.532 37.5 29.532 62.574 0 19.632-7.029 37.654-18.753 51.778l-17.97-14.654zm-87.808-86.457c-14.337 11.207-23.516 28.42-23.516 47.723 0 15.74 6.104 30.092 16.13 40.93l-16.068 13.195c-12.096-14.23-19.372-32.54-19.372-52.515 0-24.509 10.954-46.508 28.322-61.546l14.504 12.213zm130.092 126.117c18.58-20.945 29.84-48.372 29.84-78.394 0-34.317-14.712-65.243-38.253-86.974l14.355-13.014c26.627 25.193 43.209 60.677 43.209 99.988 0 34.688-12.911 66.396-34.241 90.683l-14.91-12.289zM194.603 195.78c-21.45 21.495-34.684 50.993-34.684 83.541 0 29.677 11.003 56.819 29.203 77.67l-14.864 12.335c-20.977-24.198-33.65-55.638-33.65-90.005 0-37.324 14.948-71.197 39.25-96.09l14.745 12.55z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}h4.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var g4=h4;var y4=function(e){return y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Artist TV"),...e},y.a.createElement(g4,null))};function f4(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-play-radio-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M110.261 141.816c10.962-9.751 23.79-2.335 27.765 1.703 6.308 6.406 5.837 12.744 4.377 15.806-1.084 2.277-2.431 4.378-5.35 8.026-14.104 16.536-24.074 34.046-31.37 53.986-11.672 32.101-13.132 68.334-4.377 101.894 6.809 24.804 18.724 47.42 35.505 67.362 3.89 4.377 4.863 5.836 5.836 8.997.486 1.703.486 6.566-.244 8.755-1.459 4.62-4.863 8.269-9.727 9.97-1.216.487-14.377 4.39-23.144-2.43-1.46-.974-6.81-7.055-10.7-12.16-22.617-28.94-36.964-63.472-41.342-100.191-1.944-15.32-1.944-32.587-.243-47.908 4.621-39.639 20.67-76.846 46.448-107.243 3.892-4.621 4.657-4.867 6.566-6.566v-.001zm64.42 62.012c7.215-8.421 19.942-12.966 29.868-4.504 9.925 8.46 6.895 19.095 2.76 24.445-10.942 13.132-17.265 27.48-19.697 44.503-.486 3.89-.729 13.131-.243 17.509 1.459 18.725 8.511 35.262 20.67 49.61 3.162 3.647 4.62 6.322 4.864 10.455.486 7.054-4.395 13.258-11.186 15.565-14.348 4.871-23.388-2.675-28.494-8.754-20.671-25.778-29.426-58.608-24.562-91.681 3.161-20.914 12.067-40.863 26.02-57.148zM277.67 323.667c-11.548-.562-21.407-5.058-29.575-12.926-8.732-8.992-12.957-19.389-12.957-31.753 0-12.363 4.225-22.762 12.957-31.753 9.012-8.711 19.435-12.927 31.828-12.927 12.394 0 22.814 4.216 31.828 12.927 8.731 8.991 12.957 19.389 12.957 31.753s-4.226 22.76-12.957 31.753c-8.45 8.15-18.308 12.645-30.138 12.926-1.408.28-3.38.28-3.943 0zm172.069-181.852c1.91 1.7 2.675 1.946 6.566 6.566 25.777 30.399 41.827 67.606 46.448 107.244 1.701 15.321 1.701 32.587-.243 47.908-4.378 36.72-18.726 71.252-41.342 100.19-3.89 5.107-9.24 11.187-10.7 12.16-8.767 6.821-21.928 2.919-23.144 2.432-4.863-1.702-8.268-5.35-9.727-9.97-.73-2.19-.73-7.054-.244-8.755.973-3.162 1.946-4.621 5.836-8.998 16.78-19.941 28.696-42.557 35.505-67.361 8.755-33.56 7.295-69.794-4.376-101.894-7.297-19.941-17.267-37.451-31.372-53.987-2.918-3.648-4.265-5.748-5.35-8.026-1.459-3.062-1.93-9.4 4.378-15.806 3.975-4.037 16.802-11.454 27.765-1.703zm-64.576 62.013c13.953 16.284 22.86 36.234 26.021 57.148 4.864 33.073-3.89 65.902-24.561 91.68-5.107 6.079-14.147 13.626-28.495 8.754-6.792-2.306-11.672-8.511-11.186-15.564.243-4.134 1.702-6.81 4.863-10.456 12.16-14.348 19.212-30.885 20.67-49.61.487-4.378.244-13.618-.242-17.509-2.431-17.023-8.755-31.37-19.698-44.503-4.134-5.35-7.163-15.984 2.761-24.445 9.926-8.461 22.652-3.917 29.867 4.505z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}f4.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var b4=f4;var v4=function(e){return y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Play Radio"),...e},y.a.createElement(b4,null))};function I4(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-trailer-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m225.671 503.994c-.557.004-1.114.006-1.671.006-123.629 0-224-100.371-224-224 0-123.629 100.371-224 224-224 123.629 0 224 100.371 224 224 0 50.138-16.508 96.451-44.381 133.794 18.895-11.081 36.634-24.143 52.605-39.141 9.395-8.823 18.171-18.311 26.162-28.425 8.67-10.973 16.416-22.684 23.006-35.021 4.995-9.352 12.891-29.047 12.891-29.047l41.717 12.492c0 0-9.027 23.185-14.752 34.221-7.693 14.83-16.785 28.923-27.015 42.128-9.197 11.871-19.311 23.024-30.164 33.401-8.779 8.393-18.041 16.28-27.702 23.641-8.554 6.519-17.421 12.626-26.548 18.316-4.487 2.797-9.037 5.493-13.644 8.088-32.896 18.526-68.648 31.851-105.499 39.964-29.172 6.423-59.044 9.582-89.005 9.589l0-.006m-64.671-104.994c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m119-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m-238 0c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m154 0c0 15.454 12.546 28 28 28 15.454 0 28-12.546 28-28 0-15.454-12.546-28-28-28-15.454 0-28 12.546-28 28m-35-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}I4.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var S4=I4;var E4=function(e){return y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Play Trailer"),...e},y.a.createElement(S4,null))},O4=a("NYe9"),M4=a("hNn6"),C4=a.n(M4);var j4=function({title:e,...t}){return y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Record"),className:C4.a.toolbarRecordButton,"data-qa-id":"toolbarRecord",...t},y.a.createElement(O4.a,null))};var D4=function(e){return y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Settings"),"data-qa-id":"toolbarSettings",...e},y.a.createElement(os.a,null))};function P4(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-filled-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280 518C148.6 518 42 411.4 42 280S148.6 42 280 42s238 106.6 238 238-106.6 238-238 238m0-112l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}P4.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var T4=P4;var w4=function(e){const{hasDownloadState:t,hasOfflineFile:a,hasOwnSubscription:n,isDisabled:i,label:r,progress:s,...o}=e,l=null!==s&&s>=0;return y.a.createElement(Mv.a,{...o,isDisabled:i,tooltip:r,"data-qa-id":"toolbarSync"},!n||t||l?y.a.createElement(zs.a,{progress:s,isDisabled:i,showIndeterminate:t}):y.a.createElement(T4,null))};var N4=BL((function(e){const{className:t,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,type:r,subtype:s,title:o,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:d,metricsPage:u,showRecord:p,showPlay:m,showPlayOverflow:h,showPlayTrailer:f,showPlayTrailerOverflow:b,showPlayRadio:v,showPlayRadioOverflow:I,showPlayArtistTV:S,showPlayArtistTVOverflow:E,showShuffle:O,showShuffleOverflow:M,showAddToPlaylist:C,showAddToPlaylistOverflow:j,showAddToSaved:D,showAddToWatchlist:P,showAddToWatchlistOverflow:T,showTogglePlayed:w,showTogglePlayedOverflow:N,showMarkPlayed:x,showMarkUnplayed:A,showEdit:L,showEditOverflow:k,showSettings:R,showSettingsOverflow:z,showSync:U,showSyncOverflow:V,showSyncDownload:B,showSyncDownloadOverflow:F,showOverflow:H,onPlayPress:_,onPlayLiveTVPress:W,onPlayTrailerPress:Q,onPlayRadioPress:G,onPlayArtistTVPress:K,onShufflePress:Y,onEditPress:q,onSyncPress:Z,onCancelDownloadActivity:X,onDeleteDownloadSubscription:J,onCreateDownloadSubscription:ee}=e,te=CD(),ae=Object(sE.a)(e.onMarkPlayedConfirm),ne=Object(sE.a)(e.onMarkUnplayedConfirm),ie=Object(sE.a)(),re=Object(sE.a)(),se=Object(sE.a)(),oe=Object(a4.c)({metadataItemEntityID:i,metricsPage:u,providerEntityID:n,serverEntityID:a,onCancelDownloadActivity:X,onDeleteDownloadSubscription:J,onCreateDownloadSubscription:ee}),le=Object(g.useCallback)(()=>{(m||h)&&_()},[_,m,h]),ce=Object(g.useCallback)(()=>{(L||k)&&q()},[L,k,q]);return Object(g.useEffect)(()=>($.a.on("shortcut:playSelected",le),$.a.on("shortcut:edit",ce),()=>{$.a.off("shortcut:playSelected",le),$.a.off("shortcut:edit",ce)})),y.a.createElement("div",{className:t},p?y.a.createElement(j4,{title:o,onPress:ie.onOpen}):null,m?y.a.createElement(YL,{playLabel:Object(Ce.default)("Play"),onPress:d?W:_}):null,f?y.a.createElement(E4,{onPress:Q}):null,O?y.a.createElement(qL,{onPress:Y}):null,v?y.a.createElement(v4,{onPress:G}):null,S?y.a.createElement(y4,{onPress:K}):null,P?y.a.createElement(u4,{metadataItemEntityID:i,providerEntityID:n,serverEntityID:a}):null,C?y.a.createElement(KL,{serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,onAddToPlaylistPress:se.onOpen}):null,w&&x?y.a.createElement(m4,{type:r,subtype:s,onPress:ae.onOpen}):null,w&&A&&!x?y.a.createElement(m4,{type:r,subtype:s,markUnplayed:!0,onPress:ne.onOpen}):null,L?y.a.createElement(mk,{onPress:q}):null,R?y.a.createElement(D4,{onPress:re.onOpen}):null,U?y.a.createElement(JL,{onPress:Z}):null,B?y.a.createElement(a4.b,{component:w4,metadataItemEntityID:i,providerEntityID:n,serverEntityID:a,onPress:oe.onPress}):null,H?y.a.createElement(NI,{id:te.menuButtonID,iconComponent:bE,label:Object(Ce.default)("More..."),isMenuOpen:te.isMenuOpen,onPress:te.onMenuButtonPress}):null,y.a.createElement(i4.a,{serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,allowRedirectOnDelete:!0,showPlay:h,showPlayTrailer:b,showPlayRadio:I,showPlayArtistTV:E,showQueuePlexMix:!1,showShuffle:M,showAddToPlaylist:j,showAddToSaved:D&&r!==wo.SHOW,showAddToWatchlist:T,showEdit:k,showSettings:z,showMarkPlayed:N&&x,showMarkUnplayed:N&&A,showSync:V,showSyncDownload:F,target:te.menuButtonID,isOpen:te.isMenuOpen,onMenuClose:te.onMenuClose}),x?y.a.createElement(fd.a,{isOpen:ae.isOpen,type:r,subtype:s,title:o,leafCount:c,onConfirm:ae.onConfirm,onCancel:ae.onClose}):null,C?y.a.createElement(xL.a,{serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,isOpen:se.isOpen,onModalClose:se.onClose}):null,A?y.a.createElement(fd.a,{isOpen:ne.isOpen,type:r,subtype:s,title:o,leafCount:l,markUnplayed:!0,onConfirm:ne.onConfirm,onCancel:ne.onClose}):null,y.a.createElement(vd.a,{serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,isOpen:ie.isOpen,subscriptionType:r,onModalClose:ie.onClose}),B?y.a.createElement(n4.a,{isOpen:oe.isOpen,state:oe.state,onConfirm:oe.onConfirm,onClose:oe.onClose}):null,y.a.createElement(bd.a,{serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,isOpen:re.isOpen,onModalClose:re.onClose}))}),["showPlay","showPlayTrailer","showPlayRadio","showPlayArtistTV","showShuffle","showAddToWatchlist","showAddToPlaylist","showTogglePlayed","showEdit","showSettings","showSync","showSyncDownload"],["showPlayVersion","showPlayAll","showQueue","showPlayPlexMix","showPlayMusicVideo","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showOptimize","showDownload","showDelete","showDeleteVersion","showGetInfo"]);var x4=Object(BI.a)((function(){return Object(he.a)(vh.b,bh.b,Bs.b,Object(YO.a)(),Object(kD.a)(),(e,t,a,n,i)=>{const{type:r,subtype:s,title:o,viewedLeafCount:l,unviewedLeafCount:c}=n,d=Object(rk.o)({server:e,provider:t,stableUser:a,metadataItem:n}),u=d.showMarkPlayed||d.showMarkUnplayed;return{type:r,subtype:s,title:o,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:!!t.protocols.livetv,showRecord:!i&&e.isFullServer&&!!t.features.subscribe&&t.features.subscribe.flavor===Do.b,showTogglePlayed:u,...d}})}),(function(e,t){const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(Ze.x(a))},onPlayLiveTVPress(){e(Object(Hs.l)(a))},onPlayTrailerPress(){e(Ze.y(a))},onPlayRadioPress(){e(Ze.z({playlistType:io.a,...a}))},onPlayArtistTVPress(){e(Ze.z({playlistType:io.c,...a}))},onShufflePress(){e(Ze.B(a))},onMarkPlayedConfirm(){e(Fs.markMetadataItemPlayed({...a,skipConfirm:!0}))},onMarkUnplayedConfirm(){e(Fs.markMetadataItemUnplayed({...a,skipConfirm:!0}))},onEditPress(){e(Fs.editMetadataItem(a))},onSyncPress(){e(Fs.syncMetadataItem(a))},onGetInfoPress(){e(Fs.getMetadataItemInfo(a))},onCancelDownloadActivity(){e(t4.a(a))},onDeleteDownloadSubscription(){e(t4.c(a))},onCreateDownloadSubscription(){e(t4.b(a))}}}))(N4);function A4(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-artwork-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m56 504h448v-448h-448v448m336-252l-106.2 106.2 103.8 103.8h-39.598l-126-126-126 126v-364h364v224l-70-70m-168-112c30.907 0 56 25.09 56 56 0 30.907-25.09 56-56 56-30.907 0-56-25.09-56-56 0-30.907 25.09-56 56-56"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}A4.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var L4=A4,k4=a("GhuN"),R4=a.n(k4);class z4 extends g.Component{constructor(e,t){super(e,t),this.onSiblingsMenuButtonPress=e=>{this.setState({isSiblingsMenuOpen:!this.state.isSiblingsMenuOpen})},this.onSiblingsMenuClose=()=>{this.setState({isSiblingsMenuOpen:!1})},this.onToggleArtworkPress=e=>{this.props.onArtworkToggle(!this.props.isArtworkButtonSelected)},this.state={isSiblingsMenuOpen:!1},this._siblingsMenuButtonID=Object(gf.a)()}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,siblingsMetadataListEntityID:n,sourceDirectory:i,metadataKey:r,grandparentTitle:s,parentTitle:o,title:l,skipParent:c,grandparentRoute:d,parentRoute:u,showArtworkButton:p,isArtworkButtonSelected:m,listType:h,listSubtype:g,listStyle:f,allListStyles:b}=this.props,{isSiblingsMenuOpen:v}=this.state;if(!r)return null;const I=!!n,S=h&&$A(b,f);return y.a.createElement(Jm,{className:I||p&&!S?R4.a.altPageHeader:R4.a.pageHeader},y.a.createElement(GD,{containerComponent:ik.a,serverEntityID:e,providerEntityID:t,sourceDirectory:i},s?y.a.createElement(cD.a,{to:d,hasMenu:!1,isDisabled:!d},s):null,!c&&o?y.a.createElement(cD.a,{to:u,hasMenu:!1,isDisabled:!u},o):null,l?y.a.createElement(cD.a,{id:this._siblingsMenuButtonID,hasMenu:I,isMenuOpen:v,isDisabled:!I,onPress:this.onSiblingsMenuButtonPress},l):null,I?y.a.createElement(q_.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,component:e4,initialSize:1/0,target:this._siblingsMenuButtonID,isOpen:v,selectedKey:r,onMenuClose:this.onSiblingsMenuClose}):null),y.a.createElement(WA,null,y.a.createElement(x4,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),p?y.a.createElement(rz,{className:R4.a.divider}):null,p?y.a.createElement(Mv.a,{tooltip:m?Object(Ce.default)("Hide Artwork"):Object(Ce.default)("Show Artwork"),"data-qa-id":"toolbarToggleArtwork",isSelected:m,hideOnPress:!1,tooltipAttachment:S||I?Pm.a:Pm.c,onPress:this.onToggleArtworkPress},y.a.createElement(L4,null)):null,S?y.a.createElement(y.a.Fragment,null,y.a.createElement(rz,{className:R4.a.divider}),y.a.createElement(uL,{listType:h,listSubtype:g,listContext:XO.n,selectedListStyle:f,allListStyles:b})):null,I?y.a.createElement(rz,{className:R4.a.divider}):null,I?y.a.createElement(q2,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n}):null))}}const U4=vO(z4,(function(e){return{siblingKey:e.ui.prePlayPage.siblingKey}}),(function(e,t){e(CG({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,siblingKey:t.siblingKey}))}));var V4=Object(BI.a)((function(){return Object(he.a)((e,{metricsContext:t})=>t,e=>e.ui.prePlayPage,vh.b,bh.b,sZ(),Object(YO.a)(),Object(he.a)(Object(YO.a)(),e=>{if(!e)return;const t=e.skipParent,a=t?e.grandparentKey:e.parentKey;if(!a)return;const n=t?"grandchildren":"children";return j.default.join([a,n])}),BG,UG,FG(),(e,t,a,n,i,r,s,o,l,c)=>{const{grandparentKey:d,parentKey:u,key:p,grandparentTitle:m,parentTitle:h,title:g,skipParent:y,subtype:f}=r,b=L2(l,XO.n,c,f,n),v=A2(c,f,XO.n,n),I={legacy:1};return e&&(I.context=e),{siblingsMetadataListEntityID:t.siblingList,sourceDirectory:i,metadataKey:p,siblingKey:s,grandparentTitle:m,parentTitle:h,title:g,skipParent:y,grandparentRoute:Object(Ka.a)(a,n,d,I),parentRoute:Object(Ka.a)(a,n,u,I),showArtworkButton:!!r.art,isArtworkButtonSelected:o,listType:c,listSubtype:f,listStyle:b,allListStyles:v}})}),(function(e,t){return{onArtworkToggle(t){e(Object(xy.l)({showPrePlayArtwork:t}))}}}))(U4);var B4=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataListEntityID:i,showSpinner:r,showError:s,showNotFoundError:o,activeSelectionType:l,columnAdjustment:c,record:d,allEpisodes:u,multiSelectToolbarComponent:p}=e;return r?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):s?o?y.a.createElement(Kk.a,{title:Object(Ce.default)("The media you're looking for isn't here"),description:Object(Ce.default)("It may have been removed from the media server, or moved to a new location")},y.a.createElement(jI.a,{to:"#",kind:ao.d},Object(Ce.default)("Go home"))):y.a.createElement(Zk.a,{title:Object(Ce.default)("There was an unexpected error loading this item")}):y.a.createElement(UO.a,{metricsPage:It.eb,isMetricsDelegated:!0,disableBackgroundPreset:!0,scrollDirection:iv.b},l?y.a.createElement(xk,{serverEntityID:t,providerEntityID:a,toolbarComponent:p,allowRedirectOnDelete:!0}):y.a.createElement(V4,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n}),y.a.createElement(B2,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,metadataListEntityID:i,columnAdjustment:c,record:d,allEpisodes:u}))};function F4(e){var t=e["aria-label"],a=e.className,n=e.style,i={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-remove-from-playlist-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m560 504h-336v-44.8h336zm0-134.4h-336v-44.8h336zm-464.965-188.478 63.357-63.357 31.679 31.678-63.357 63.357 63.357 63.357-31.679 31.678-63.357-63.356-63.356 63.356-31.679-31.678 63.357-63.357-63.357-63.357 31.679-31.678zm464.965 54.078h-252v-44.8h252zm0-134.4h-336v-44.8h336z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}F4.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var H4=F4;var _4=function({onRemovePress:e}){return y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Remove from Playlist"),tooltipAttachment:Pm.c,onPress:e},y.a.createElement(H4,null))};var W4=Object(v.b)(null,(function(e,t){return{onRemovePress(){e(bG())}}}))(_4);const Q4={dispatchChangeQuickSearchSettings:Tt.changeQuickSearchSettings};class G4 extends g.Component{constructor(){super(...arguments),this.onLibraryChange=()=>{this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:qr.d,directoryID:this.props.librarySectionID})}}componentDidMount(){this.onLibraryChange()}componentDidUpdate(e){this.props.librarySectionID!==e.librarySectionID&&this.onLibraryChange()}componentWillUnmount(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:null,sectionID:null})}render(){const{dispatchChangeQuickSearchSettings:e,...t}=this.props;return y.a.createElement(B4,{...t})}}const K4=vO(G4,(function(e){const t=e.ui.playlistPage;return{serverEntityID:t.serverEntityID,metadataKey:t.metadataKey}}),(function(e,t){e(lG({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e(uG())}));var Y4=Object(v.b)((function(e,t){return Object(he.a)(e=>e.ui.playlistPage,ge.a,Hx.a,Object(he.a)(e=>e.ui.playlistPage.playlist,e=>e.ui.playlistPage.playlistItemList,oG,DO.a,(e,t,a,n)=>{const i=n[e],r=i&&i.playlistType===wo.PHOTO,s=t&&t.metadataItems.length;if(r&&s)return n[a[t.metadataItems[0]].metadataItem].librarySectionID}),(e,t,a,n)=>{const{playlist:i,isPlaylistPending:r,playlistError:s}=e,o=!r&&!!s;return{metadataItemEntityID:i,librarySectionID:n,showSpinner:r,showError:o,showNotFoundError:o&&404===s.status,columnAdjustment:t.columnAdjustment,activeSelectionType:a.activeSelectionType,multiSelectToolbarComponent:W4}})}),Q4)(K4);function q4(){const{machineIdentifier:e,providerIdentifier:t}=Wk(),a=Object(Me.a)(),n=Object(jt.a)(fo.n,e),i=Object(jt.a)(fo.k,t,n);return y.a.createElement(aR,{machineIdentifier:e,providerIdentifier:t},y.a.createElement(RO.a,{metricsContext:Object(Qk.a)(a.context)},y.a.createElement(Y4,{machineIdentifier:e,serverEntityID:n,providerEntityID:i,metadataKey:Object(Qk.a)(a.key)})))}function Z4(e,t,a){switch(a){case Ha.c.Podcast:switch(t){case Ha.d.Track:return 1===e?Object(Ce.default)("1 Episode"):Object(Ce.default)("{episodeCount} Episodes",{episodeCount:e})}}switch(t){case Ha.d.Movie:return 1===e?Object(Ce.default)("1 Movie"):Object(Ce.default)("{movieCount} Movies",{movieCount:e});case Ha.d.Show:return 1===e?Object(Ce.default)("1 Show"):Object(Ce.default)("{showCount} Shows",{showCount:e});case Ha.d.Season:return Object(Ce.default)("Seasons");case Ha.d.Episode:return 1===e?Object(Ce.default)("1 Episode"):Object(Ce.default)("{episodeCount} Episodes",{episodeCount:e});case Ha.d.Album:return 1===e?Object(Ce.default)("1 Album"):Object(Ce.default)("{albumCount} Albums",{albumCount:e});case Ha.d.Track:return 1===e?Object(Ce.default)("1 Track"):Object(Ce.default)("{trackCount} Tracks",{trackCount:e});default:return 1===e?Object(Ce.default)("1 Item"):Object(Ce.default)("{itemCount} Items",{itemCount:e})}}const X4=Object(g.createContext)({width:0,height:0,contentHeight:0,scrollTop:0,scrollLeft:0});function J4(){return Object(g.useContext)(X4)}function $4({children:e,width:t,height:a,contentHeight:n,scrollTop:i,scrollLeft:r}){const s=Object(g.useMemo)(()=>({width:t,height:a,contentHeight:n,scrollTop:i,scrollLeft:r}),[t,a,n,i,r]);return y.a.createElement(X4.Provider,{value:s},e)}var e3=function(e){const[t,a]=Object(g.useState)(0),n=Object(g.useRef)(null),i=Object(g.useCallback)(e=>{n.current=e,n.current&&a(n.current.offsetTop)},[]);return Object(g.useEffect)(()=>{n.current&&a(n.current.offsetTop)},[e]),[t,i]};var t3=Object(he.a)(wr,e=>e.prePlay);function a3(){const{descendantListSourceURI:e}=Object(v.d)(t3),t=Object(g.useMemo)(()=>e?hl(e):()=>{},[e]);return Object(v.d)(t)}var n3={defaultFontFamily:'"Open Sans Semibold", "Helvetica Neue", Helvetica, Arial, sans-serif',boldFontFamily:'"Open Sans Bold", "Helvetica Neue", Helvetica, Arial, sans-serif',smallFontSize:"12px",smallIconFontSize:"12px",defaultFontSize:"13px",defaultIconFontSize:"14px",largeFontSize:"15px",headerFontSize:"24px",lineHeightComputed:"1.71428571"};var i3=Object.assign({},n3,{hubTitleLineHeight:"24px"});function r3(e){const t=Object(v.c)(),a=Object(v.d)(Nr),n=Object(g.useMemo)(()=>e.every(e=>a.items[Dr.getIdentity(e)]),[e,a]),i=Object(g.useCallback)(()=>{t(Tr.actions.selectItems({items:e}))},[t,e]),r=Object(g.useCallback)(()=>{t(Tr.actions.deselectItems({items:e}))},[t,e]),s=Object(g.useCallback)(()=>{n?r():i()},[n,r,i]);return{isSelectionActive:!!a.count,isSelected:n,onSelect:i,onDeselect:r,onToggleSelect:s}}var s3=a("zJz3"),o3=a.n(s3);function l3({className:e=o3.a.titleContainer,selectedClassName:t=o3.a.selectedTitleContainer,selectButtonClassName:a=o3.a.selectButton,isSelected:n=!1,isSelectable:i,onSelectPress:r,title:s}){return y.a.createElement("div",{className:n?t:e},i?y.a.createElement(sA.a,{className:a,title:s,isSelected:n,onPress:r}):null,y.a.createElement(xu,null,s))}var c3=a("6cmb"),d3=a.n(c3);const u3={height:parseInt(yu.a.tableRowHeight,10)};function p3({item:e,title:t,...a}){var n;const i=Cr(a),r=Object(g.useMemo)(()=>[Kg,Xg,ey],[]),{onToggleSelect:s,isSelected:o}=r3(null!=(n=null==e?void 0:e.items)?n:[]);if(!e)return null;const l=t||Object(Ce.default)("Disc {discNumber}",{discNumber:e.index});return y.a.createElement("div",{style:i.style},y.a.createElement(l3,{className:d3.a.titleContainer,selectedClassName:d3.a.selectedTitleContainer,selectButtonClassName:d3.a.selectButton,title:l,isSelectable:!0,isSelected:o,onSelectPress:s}),y.a.createElement("div",{className:d3.a.trackList},e.items.map((e,t)=>{var a;return y.a.createElement(Py,{key:e.key,item:e,tableColumns:r,hasTransientActionsCell:!0,index:null!=(a=e.index)?a:t,isVirtual:!1,cellIndex:t,style:u3})})))}var m3=a("x436"),h3=a.n(m3);const g3=parseInt(yu.a.v4PagePadding,10),y3=parseInt(yu.a.v4ListSpacing,10),f3=parseInt(yu.a.v4PrePlayListTitleGap,10),b3=parseInt(yu.a.v4PrePlayDividerHeight,10),v3=parseInt(i3.hubTitleLineHeight,10),I3=parseInt(yu.a.tableRowHeight,10),S3=v3+f3+2*b3;function E3({className:e=h3.a.container,metadataItem:t}){var a;const{type:n,subtype:i}=t,[r,s]=Jt(),o=J4(),{descendantListSourceURI:l}=Object(v.d)(t3),{totalSize:c,items:d=[]}=null!=(a=a3())?a:{},u=Object(g.useMemo)(()=>{var e;return null!=(e=d.reduce((e,t)=>{const{parentIndex:a=1}=t,n=e[a];return n?n.items.push(t):e[a]={index:a,items:[t]},e},[]).filter(()=>!0))?e:[]},[d]),p=1===u.length?Z4(null!=c?c:0,Ha.d.Track):void 0,m=Object(g.useMemo)(()=>function(e){const{overscan:t=0,outerPaddingTop:a=0,outerPaddingRight:n=0,outerPaddingBottom:i=0,outerPaddingLeft:r=0,getCellHeights:s}=e;let o,l;function c(e){const t=l.findIndex(t=>t>e),a=l.length-1;return-1===t?a:Math.min(Math.max(0,t-1),a)}return{getListMeasurements(e,t){const{viewportWidth:c,viewportHeight:d}=e,u=c-(r+n);o=s(u),l=[];let p=a;o.forEach(e=>{l.push(p),p+=e});return{width:u,height:o.reduce((e,t)=>e+t,a+i),outerPaddingTop:a,outerPaddingRight:n,outerPaddingBottom:i,outerPaddingLeft:r,listTop:e.listTop,listLeft:e.listLeft,viewportWidth:c,viewportHeight:d}},getPositionForIndex(e,t){const{width:a}=t;return{column:1,row:e,cellX:r,cellY:l[e],cellWidth:a,cellHeight:o[e]}},getRangesForPosition(e,a,n,i){const{viewportHeight:r}=i,s=e+r-1,o=c(e-t*r),l=c(e),d=c(s),u=c(s+t*r);return{visibleStartIndex:Object(yc.a)(l,n),visibleEndIndex:Object(yc.a)(d,n),renderStartIndex:Object(yc.a)(o,n),renderEndIndex:Object(yc.a)(u,n)}}}}({overscan:1,getCellHeights:e=>u.map(e=>S3+e.items.length*I3+y3),outerPaddingRight:g3,outerPaddingLeft:g3}),[u]),[h,f]=e3(o.contentHeight),b=Object(g.useCallback)(e=>y.a.createElement(p3,{...e,title:p}),[p]);return l&&c?y.a.createElement("div",{className:e,ref:f},y.a.createElement(Ca,{containerServer:r,containerProvider:s,containerSourceURI:l,containerKey:t.childrenKey,containerType:n,containerSubtype:i,listStyle:Nt.a.Table},y.a.createElement(Rr,{items:d},y.a.createElement(Mc,{layout:m,cellComponentFactory:b,items:u,totalSize:c,scrollTop:o.scrollTop-h,scrollLeft:o.scrollLeft,viewportWidth:o.width,viewportHeight:o.height})))):null}function O3(e,t=!0){const a=Object(g.useRef)(!1);Object(g.useEffect)(()=>{if(t&&!a.current)return a.current=!0,e()},[t,e,a])}var M3=function(e,t){const a=new RegExp(`(\\?|&)(${Object(U.a)(t)}=[^\\?&]+(?:[\\?&]?))`,"g");return e.replace(a,(e,t)=>t).replace(/(\?|&)$/,"")};function C3({kind:e,metadataItem:t,isLabeled:a,isDisabled:n}){const i=Object(g.useCallback)((i,r,s)=>y.a.createElement(y.a.Fragment,null,y.a.createElement(gd,{metadataItem:t}),y.a.createElement(Nm,{"data-qa-id":i?"preplay-delete-download":"preplay-download",kind:e,icon:i?T4:XL,title:i?Object(Ce.default)("Delete Download"):Object(Ce.default)("Download"),isLabeled:a,isDisabled:n||r,onPress:s})),[n,a,e,t]);return y.a.createElement($c,{metadataItem:t,render:i})}var j3=function(e){return Object(he.a)(Ua(e),t3,(e,t)=>!!e.deletedAt||t.metadata.isMediaFileUnavailable)};function D3(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-add-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{clipRule:"evenodd",d:"M27.4286 27.4286V44.5714H20.5714V27.4286H3.42857V20.5714H20.5714V3.42859H27.4286V20.5714H44.5714V27.4286H27.4286Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}D3.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var P3=D3,T3=a("kEeM"),w3=a.n(T3);function N3({isPrimary:e,isDisabled:t,action:a,metadataItem:n,metadataItemState:i,onDeckMetadataItemState:r,isMediaFileUnavailable:s}){const o=Object(v.c)(),{metricsPage:l,metricsContextTuple:c}=Object(Et.d)(),[d,u]=Jt(),{containerServer:p,containerProvider:m}=Ma(),h=bo({server:d,provider:u,metadataItem:n,metadataItemState:i}),f=Ws({containerServer:p,containerProvider:m,server:d,provider:u,metadataItem:n,metadataItemState:i,metricsPage:l,metricsContextTuple:c}),b=qi(n),S=Object(I.g)(),E=Object(I.h)(),O=Object(Me.a)(),M=e?da.Primary:da.Default,C=Object(g.useCallback)((e={})=>{b({...e,action:Gi.N}),f(Ze.x({metricsProperties:e}))},[f,b]),j=Object(g.useCallback)((e={})=>{b({...e,action:Gi.N});const t=Bn(n);o(Object(Hs.l)({serverEntityID:d.entityID,providerEntityID:u.entityID,metricsPage:l,metricsContextTuple:c,metricsProperties:e,options:{type:_s.e,identifier:t.channelIdentifier}}))},[o,d,u,n,l,c,b]),D=Object(g.useCallback)((e={})=>{b({...e,action:Gi.ib}),f(Ze.B({metricsProperties:e}))},[f,b]);let P=C;Zr(n)?P=j:n.type===Ha.d.Artist&&(P=D);const T=Object(g.useCallback)(()=>{h(Fs.getMetadataItemInfo())},[h]),w=Object(g.useCallback)(()=>{P()},[P]),N=Object(g.useCallback)(()=>{D()},[D]),x=Object(g.useCallback)(()=>{b({action:Gi.R}),f(Ze.y())},[f,b]),A=Object(g.useCallback)(()=>{b({action:Gi.S}),f(Ze.z({playlistType:io.a}))},[f,b]),L=Object(g.useCallback)(()=>{b({action:Gi.e}),o(Ki.a.actions.toggleSavedRequested({server:d,provider:u,sourceURI:n.grandparentKey?Object(Ct.a)({serverIdentifier:d.machineIdentifier,providerIdentifier:u.identifier,key:n.grandparentKey}):n.sourceURI,ratingKey:n.grandparentRatingKey||n.ratingKey,saved:!0}))},[o,n.grandparentKey,n.grandparentRatingKey,n.ratingKey,n.sourceURI,u,d,b]),k=Object(g.useCallback)(e=>{b({action:e?Gi.f:Gi.ab}),o(Ki.a.actions.toggleWatchlistRequested({server:d,provider:u,sourceURI:n.sourceURI,ratingKey:n.ratingKey,added:e}))},[o,n.ratingKey,n.sourceURI,u,d,b]),R=Object(g.useCallback)(()=>{k(!0)},[k]),z=Object(g.useCallback)(()=>{k(!1)},[k]),U=Object(g.useCallback)(e=>{b({action:e?Gi.G:Gi.F}),o(Ki.a.actions.playedStatusUpdateRequested({server:d,provider:u,sourceURI:n.sourceURI,ratingKey:n.ratingKey,played:e}))},[o,n.ratingKey,n.sourceURI,u,d,b]),V=ul(),B=Object(g.useCallback)(()=>{U(!0),V.onClose()},[V,U]),F=ul(),H=Object(g.useCallback)(()=>{U(!1),F.onClose()},[F,U]),_=ul(),W=ul(),Q=ul(),G=Object(_r.a)(),K=Object(g.useCallback)(()=>{b({action:Gi.w}),h(Fs.editMetadataItem())},[h,b]),Y=Object(g.useCallback)(()=>{"isMarkPlayedVisible"===a?V.onOpen():F.onOpen()},[a,V,F]);switch(O3(()=>{const e=Object(jQ.a)(O.autoplay);e&&S.replace(E.pathname+M3(E.search,"autoplay")),e&&"isPlayVisible"===a&&!s&&P({setting:"autoplay"})}),O3(()=>{"isRecordVisible"===a&&O.record&&!_.isOpen&&_.onOpen()}),Object(g.useEffect)(()=>{if("isPlayVisible"===a)return $.a.on("shortcut:playSelected",w),()=>{$.a.off("shortcut:playSelected",w)}}),Object(g.useEffect)(()=>{if("isEditVisible"===a)return $.a.on("shortcut:edit",K),()=>{$.a.off("shortcut:edit",K)}}),Object(g.useEffect)(()=>{if("isMarkPlayedVisible"===a||"isMarkUnplayedVisible"===a)return $.a.on("shortcut:togglePlayed",Y),()=>{$.a.off("shortcut:togglePlayed",Y)}}),a){case"isPlayVisible":return s?y.a.createElement(Nm,{kind:da.Danger,title:Object(Ce.default)("Unavailable"),isLabeled:!0,isDisabled:t,onPress:T}):y.a.createElement(Nm,{"data-qa-id":"preplay-play",kind:M,icon:dh,title:Qs(n,i,r),isLabeled:e,isDisabled:t,onPress:w});case"isPlayTrailerVisible":return y.a.createElement(Nm,{"data-qa-id":"preplay-trailer",kind:M,icon:S4,title:Object(Ce.default)("Play Trailer"),isLabeled:e,isDisabled:t,onPress:x});case"isShuffleVisible":return y.a.createElement(Nm,{"data-qa-id":"preplay-shuffle",kind:M,icon:ev,title:Object(Ce.default)("Shuffle"),isLabeled:e,isDisabled:t,onPress:N});case"isPlayRadioVisible":return y.a.createElement(Nm,{"data-qa-id":"preplay-radio",kind:M,icon:b4,title:Object(Ce.default)("Play Radio"),isLabeled:e,isDisabled:t,onPress:A});case"isMarkPlayedVisible":case"isMarkUnplayedVisible":{const r="isMarkPlayedVisible"===a;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Nm,{"data-qa-id":"preplay-togglePlayedState",kind:M,icon:r?ih:sh,title:r?Object(Ce.default)("Mark as Played"):Object(Ce.default)("Mark as Unplayed"),isLabeled:e,isDisabled:t,onPress:r?V.onOpen:F.onOpen}),y.a.createElement(fd.a,{isOpen:r?V.isOpen:F.isOpen,type:n.type,subtype:n.subtype,title:n.title,leafCount:r?i.unviewedLeafCount:i.viewedLeafCount,markUnplayed:F.isOpen,onConfirm:r?B:H,onCancel:r?V.onClose:F.onClose}))}case"isAddToSavedVisible":return y.a.createElement(Nm,{"data-qa-id":"preplay-addToSaved",iconClassName:w3.a.addIcon,kind:M,icon:P3,title:jo(u.identifier,i.saved,n.subtype),isLabeled:e,isDisabled:t,onPress:L});case"isAddToWatchlistVisible":return y.a.createElement(Nm,{"data-qa-id":"preplay-addToWatchlist",kind:M,icon:s4,title:Object(Ce.default)("Add to Watchlist"),isLabeled:e,isDisabled:t,onPress:R});case"isRemoveFromWatchlistVisible":return y.a.createElement(Nm,{"data-qa-id":"preplay-removeFromWatchlist",kind:M,icon:l4,title:Object(Ce.default)("Remove from Watchlist"),isLabeled:e,isDisabled:t,onPress:z});case"isAddToPlaylistVisible":return y.a.createElement(y.a.Fragment,null,y.a.createElement(Nm,{"data-qa-id":"preplay-playlist",id:G,kind:M,icon:eh,title:Object(Ce.default)("Add to Playlist"),isLabeled:e,isDisabled:t,onPress:Q.onToggle}),y.a.createElement(Zc,{isOpen:W.isOpen,sourceURI:n.sourceURI,playlistType:li(n.type,n.subtype),defaultDestinationSource:n.source,defaultPlaylistTitle:n.title,onModalClose:W.onClose}),y.a.createElement(Xs.a,{className:w3.a.menu,target:G,isOpen:Q.isOpen,onMenuClose:Q.onClose},y.a.createElement(yl,{sourceURI:n.sourceURI,playlistType:li(n.type,n.subtype),onAddToPlaylistPress:W.onOpen,onMenuClose:Q.onClose})));case"isSyncDownloadVisible":return y.a.createElement(C3,{metadataItem:n,kind:M,isLabeled:e,isDisabled:t});case"isEditVisible":return y.a.createElement(Nm,{"data-qa-id":"preplay-edit",kind:M,icon:ah,title:Object(Ce.default)("Edit"),isLabeled:e,isDisabled:t,onPress:K});case"isRecordVisible":{const a=i.grandparentSubscriptionType||i.subscriptionType||n.type;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Nm,{"data-qa-id":"preplay-record",kind:da.Primary,icon:a===Ha.d.Show?ew.a:$w.a,title:null==i.grandparentSubscriptionID&&null==i.subscriptionID?Object(Ce.default)("Record"):Object(Ce.default)("Modify"),isLabeled:e,isDisabled:t,onPress:_.onOpen}),y.a.createElement(vo,{metadataItem:n,metadataItemState:i},({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,onMarkStale:i})=>y.a.createElement(vd.a,{isOpen:_.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,subscriptionType:a,metricsProperties:{page:l,contextTuple:c},onModalClose:Object(to.a)(i,_.onClose)})))}}return null}function x3({metadataItem:e,promotedActions:t}){var a;const n=Object(_r.a)(),[i,r]=Object(g.useState)(!1),[s,o]=Jt(),l=Object(v.d)(Bs.b),c=Object(v.d)(xm),d=Va(e.sourceURI),u=Va(null==(a=e.onDeck)?void 0:a.sourceURI),p=Object(g.useMemo)(()=>j3(e.sourceURI),[e.sourceURI]),m=Object(v.d)(p),h=qi(e),f=bo({server:s,provider:o,metadataItem:e,metadataItemState:d}),b=al({server:s,provider:o,stableUser:l,metadataItem:e,metadataItemState:d}),I=function(e,t){return Object.keys(e).reduce((a,n)=>{const i=n;return a[i]=!t.includes(i)&&e[i],a},{})}(b,t),S=Object(g.useCallback)(()=>{r(!i)},[i]),E=Object(g.useCallback)(()=>{r(!1)},[]),O=Object(g.useCallback)(()=>{h({action:Gi.D}),f(Fs.getMetadataItemInfo())},[f,h]);return Object(g.useEffect)(()=>{if(b.isGetInfoVisible)return $.a.on("shortcut:info",O),()=>{$.a.off("shortcut:info",O)}}),y.a.createElement(wf,{className:w3.a.container},t.filter(e=>b[e]).map((t,a)=>"isMarkUnplayedVisible"===t&&b.isMarkPlayedVisible?null:y.a.createElement(N3,{key:t,isPrimary:0===a,isDisabled:c,action:t,metadataItem:e,metadataItemState:d,isMediaFileUnavailable:m,onDeckMetadataItemState:u})),Object.keys(I).some(e=>I[e])?y.a.createElement(Nm,{"data-qa-id":"preplay-more",id:n,icon:lh,title:Object(Ce.default)("More"),isDisabled:c,onPress:S}):null,b.isRateVisible?y.a.createElement(gr,{className:c?w3.a.disabledUserRating:void 0,metadataItem:e}):null,y.a.createElement(jd,{className:w3.a.menu,target:n,isOpen:i,actionsOverride:I,metadataItem:e,onMenuClose:E}))}var A3=a("OAeU"),L3=a.n(A3);function k3({className:e=L3.a.content,children:t}){return y.a.createElement("div",{className:e},t)}function R3({className:e,metadataItem:t}){const a=Va(t.sourceURI);return null==a.viewOffset?null:y.a.createElement("span",{className:e},Object(Ce.default)("Played for {duration}",{duration:Cn(a.viewOffset)}))}var z3=function(e,t){return Object(he.a)(Hp(e),e=>e.find(e=>e.type===Ms.d&&e.Context.itemKey&&e.Context.itemKey===t.key))},U3=a("ISTI"),V3=a.n(U3);function B3({className:e=V3.a.DVRBadge,subscriptionType:t}){const a=t===Ha.d.Show?ew.a:$w.a;return y.a.createElement(a,{className:e})}var F3=a("e/fv"),H3=a.n(F3);function _3({children:e}){return y.a.createElement("div",{className:H3.a.status},e)}function W3({children:e}){return y.a.createElement("span",{className:H3.a.label},e)}function Q3({metadataItem:e,metadataItemState:t}){const{onDeck:a}=e,{viewOffset:n,unviewedLeafCount:i,watchlistedAt:r}=t,[s]=Jt(),o=Object(v.d)(Os(ve.s)),l=Object(v.d)(z3(s,e));return Zr(e)?t.subscriptionID||t.grandparentSubscriptionID?y.a.createElement(_3,null,t.grandparentSubscriptionType?y.a.createElement(B3,{className:H3.a.recordingBadge,subscriptionType:t.grandparentSubscriptionType}):null,t.subscriptionType&&!t.grandparentSubscriptionType?y.a.createElement(B3,{className:H3.a.recordingBadge,subscriptionType:t.subscriptionType}):null,y.a.createElement(W3,null,l?Object(Ce.default)("Recording"):Object(Ce.default)("Scheduled"))):null:a&&i?y.a.createElement(_3,null,y.a.createElement(W3,null,Object(Ce.default)("On Deck"),y.a.createElement(Hi.b,null),Object(Gr.a)({seasonIndex:a.parentIndex,episodeIndex:a.index,date:a.originallyAvailableAt,noLeadingZero:!0,separator:" · "}))):n?y.a.createElement(_3,null,y.a.createElement(W3,null,e.type===Ha.d.Game?y.a.createElement(R3,{metadataItem:e}):y.a.createElement(kg,{metadataItem:e}))):r?y.a.createElement(_3,null,y.a.createElement(gs,{className:H3.a.watchlistBadge}),y.a.createElement(W3,null,Object(Ce.default)("In Watchlist"))):o&&Xr(e,t)?y.a.createElement(_3,null,y.a.createElement(ss,{className:H3.a.playedBadge}),y.a.createElement(W3,null,Object(Ce.default)("Played"))):null}var G3=a("QhHd"),K3=a.n(G3);function Y3({aspectRatio:e,metadataItem:t,children:a,isProgressBarHidden:n}){const i=Va(t.sourceURI),r=Fa(t.sourceURI),s=J4().width<800,o=null!=e?e:Qa(t.type,t.subtype);return y.a.createElement("div",{className:K3.a.container},s?null:y.a.createElement("div",{className:K3.a.posterContainer},y.a.createElement(nu,{metadataItem:t,metadataItemState:i,metadataTimelineState:r,width:o===16/9?300:250,aspectRatio:o,isSelectHidden:!0,isPlayButtonCard:!0,isPlayedStatusHidden:!0,isProgressBarHidden:n}),y.a.createElement(Q3,{metadataItem:t,metadataItemState:i})),y.a.createElement(k3,{className:K3.a.content},a))}var q3=a("1Y+X"),Z3=a.n(q3);function X3({children:e,className:t=Z3.a.group}){return y.a.createElement("div",{className:t,"data-qa-id":"preplayDetailsContainer"},e)}var J3=a("S+4V"),$3=a.n(J3);function e5({children:e,className:t=$3.a.groupItem,labelClassName:a=$3.a.label,contentClassName:n=$3.a.content,label:i}){return y.a.createElement("div",{className:t},y.a.createElement("div",{className:a},i),y.a.createElement("div",{className:n},e))}function t5(e,t){const a=e.Stream;return a?a.filter(e=>e.streamType===t):[]}function a5(e,t){const a=t5(e,t);return t===Ha.f.Video?a[0]:a.find(e=>e.selected)}function n5({type:e,stream:t}){return y.a.createElement("span",null,t?t.displayTitle:y.a.createElement(y.a.Fragment,null,e===Ha.f.Subtitles?Object(Ce.default)("Off"):Object(Ce.default)("None")))}var i5=a("NMOu"),r5=a.n(i5);function s5({part:e,onSelect:t}){const a=Object(_r.a)(),n=ul(),[i,r]=Object(g.useState)(a5(e,Ha.f.Audio)),s=t5(e,Ha.f.Audio),o=Object(g.useCallback)(e=>{const a=s.find(t=>t.id===e);r(a),t(Ha.e.Audio,e)},[s,t]);return Object(g.useEffect)(()=>{r(a5(e,Ha.f.Audio))},[e]),y.a.createElement(y.a.Fragment,null,s.length>1?y.a.createElement(Tq.a,{id:a,isSelected:!0,direction:n.isOpen?lc.c:lc.a,onPress:n.onToggle},y.a.createElement(n5,{type:Ha.f.Audio,stream:i})):y.a.createElement(n5,{type:Ha.f.Audio,stream:i}),y.a.createElement(Xs.a,{target:a,isOpen:n.isOpen,size:cc.a,onMenuClose:n.onClose},s.map(e=>y.a.createElement(uc.a,{key:e.id,menuLabelClassName:r5.a.menuLabelClassName,value:e.id,isSelected:e===i,onSelect:Object(to.a)(o,n.onClose)},y.a.createElement(n5,{type:Ha.f.Audio,stream:e}),e.title?y.a.createElement("span",{className:r5.a.extendedTitle},e.title):null))))}var o5=a("EtI4"),l5=a.n(o5);function c5({metadataItem:e,part:t,onSelect:a,onDelete:n}){var i,r;const[s,o]=Jt(),l=Va(e.sourceURI),c=ul(),d=ul(),u=!(!(null==(i=s.ownerFeatures)?void 0:i.includes(ve.z))||!Ao(o)),p=!(!(null==(r=s.ownerFeatures)?void 0:r.includes(ve.A))||!Ao(o)),m=Object(_r.a)(),h=ul(),f=ul(),[b,v]=Object(g.useState)(),[I,S]=Object(g.useState)(a5(t,Ha.f.Subtitles)),E=t5(t,Ha.f.Subtitles),O=Object(g.useCallback)(e=>{const t=E.find(t=>t.id===e);S(t),a(Ha.e.Subtitles,e)},[a,E]),M=Object(g.useCallback)(()=>{b&&n(b)},[n,b]);return Object(g.useEffect)(()=>{S(a5(t,Ha.f.Subtitles))},[t]),Object(g.useEffect)(()=>{!l.isStreamDeletePending&&f.isOpen&&f.onClose()},[l.isStreamDeletePending]),y.a.createElement(y.a.Fragment,null,E.length||u||p?y.a.createElement(Tq.a,{id:m,isSelected:!0,direction:h.isOpen?lc.c:lc.a,onPress:h.onToggle},E.length?y.a.createElement(n5,{type:Ha.f.Subtitles,stream:I}):Object(Ce.default)("None")):Object(Ce.default)("None"),y.a.createElement(Xs.a,{target:m,isOpen:h.isOpen,size:cc.a,isAutoCloseDisabled:f.isOpen,onMenuClose:h.onClose},E.length?y.a.createElement(uc.a,{key:eC.a,value:eC.a,isSelected:!I,onSelect:Object(to.a)(O,h.onClose)},y.a.createElement(n5,{type:Ha.f.Subtitles})):null,E.map(e=>{const t=!!e.key&&s.isFullOwnedServer;return y.a.createElement("div",{key:e.id,className:t?l5.a.externalMenuItemContainer:void 0},y.a.createElement(uc.a,{className:t?l5.a.externalMenuItem:void 0,menuLabelClassName:l5.a.menuLabelClassName,value:e.id,isSelected:e===I,onSelect:Object(to.a)(O,h.onClose)},y.a.createElement(n5,{type:Ha.f.Subtitles,stream:e}),e.title?y.a.createElement("span",{className:l5.a.extendedTitle},e.title):null),t?y.a.createElement(y.a.Fragment,null,y.a.createElement(Tu,{className:l5.a.externalDeleteButton,iconComponent:Ql.a,ariaLabel:Object(Ce.default)("Delete Subtitle"),onPress:Object(to.a)(f.onOpen,()=>v(e.key))}),y.a.createElement(Xc.a,{isOpen:f.isOpen,isConfirmButtonSpinning:l.isStreamDeletePending,metricsPage:It.n,kind:ao.a,title:Object(Ce.default)("Delete Subtitle File"),message:Object(Ce.default)("Are you sure you want to delete this subtitle file?"),confirmLabel:Object(Ce.default)("Delete"),onConfirm:M,onCancel:f.onClose})):null)}),u?y.a.createElement(Js.a,{onPress:Object(to.a)(c.onOpen,h.onClose)},Object(Ce.default)("Search...")):null,p?y.a.createElement(Js.a,{onPress:Object(to.a)(d.onOpen,h.onClose)},Object(Ce.default)("Upload...")):null),y.a.createElement(vo,{metadataItem:e,metadataItemState:l},({metadataItemEntityID:e,onMarkStale:t})=>y.a.createElement(y.a.Fragment,null,y.a.createElement(I$,{metadataItemEntityID:e,isOpen:c.isOpen,onModalClose:Object(to.a)(c.onClose,t)}),y.a.createElement(z$,{metadataItemEntityID:e,isOpen:d.isOpen,onModalClose:Object(to.a)(d.onClose,t)}))))}var d5=a("8UDN"),u5=a.n(d5);function p5({className:e=u5.a.tagsListLink,...t}){return y.a.createElement(ga,{className:e,...t})}var m5=function(e,t=1/0){const[a,n]=Object(g.useState)(!1),i=Object(g.useCallback)(()=>{n(!0)},[]);return[function(e,t,a){return Object(Vs.a)(e>0,"`limit` must be a value greater than 0"),a?t:t>e?e-1:e}(t,e,a),i]},h5=a("j/j7"),g5=a.n(h5);function y5({metadataItem:e}){var t,a,n;const i=Object(v.c)(),[r,s]=Jt(),o=null!=(a=null==(t=e.Media)?void 0:t.length)?a:0,[l,c]=m5(o,1),d=function(e){const t=e.Media;if(!(null==t?void 0:t.length))return;return 1===t.length?t[0]:Array.from(t).sort((e,t)=>{var a,n,i,r;return(null!=(a=t.width)?a:0)-(null!=(n=e.width)?n:0)||(null!=(i=t.bitrate)?i:0)-(null!=(r=e.bitrate)?r:0)})[0]}(e),u=(null==d?void 0:d.Part)&&d.Part[0],p=u?a5(u,Ha.f.Video):void 0,m=Object(g.useCallback)((t,a)=>{Object(Vs.a)(null!=u,"A part is required to select a stream"),i(Ki.a.actions.streamSelectRequested({server:r,provider:s,sourceURI:e.sourceURI,part:u,streamIDParam:t,streamID:a,allParts:!0}))},[i,e.sourceURI,u,s,r]),h=Object(g.useCallback)(t=>{i(Ki.a.actions.streamDeleteRequested({server:r,provider:s,sourceURI:e.sourceURI,streamKey:t}))},[i,e.sourceURI,s,r]);return u?y.a.createElement(X3,null,o>1&&Ao(s)?y.a.createElement(e5,{label:Object(Ce.default)("Versions")},null==(n=e.Media)?void 0:n.map((e,t)=>{if(t>l)return null;const{title:a,info:n}=So(e),i=!!a,r=!!(null==n?void 0:n.length);return y.a.createElement("span",{key:e.id,className:g5.a.versionTitle},i?e.title:null,i&&r?" (":null,r?n:null,i&&r?")":null,i||r?null:Object(Ce.default)("Unknown"),t+1<l&&t+1<o?", ":null)}),o>l?y.a.createElement(y.a.Fragment,null,l>1?", ":" ",y.a.createElement(p5,{onPress:c},Object(Ce.default)("and {count} more",{count:o-1-l}))):null):null,y.a.createElement(e5,{label:Object(Ce.default)("Video")},y.a.createElement(n5,{type:Ha.f.Video,stream:p})),y.a.createElement(e5,{label:Object(Ce.default)("Audio")},y.a.createElement(s5,{part:u,onSelect:m})),y.a.createElement(e5,{label:Object(Ce.default)("Subtitles")},y.a.createElement(c5,{metadataItem:e,part:u,onSelect:m,onDelete:h}))):null}const f5=({tag:e,server:t,provider:a,contentDirectory:n,metadataNumericType:i,fallbackFilter:r})=>{var s;let o;if(e.type===Ha.d.Directory&&e.key&&n)o=Object(ng.a)(t,a,n,{key:e.key,title:e.tag});else if((e.filter||e.id)&&n){const l={filters:null!=(s=e.filter)?s:`${r}=${e.id}`,filterLabel:e.tag};i&&(l.type=i),e.context&&(l.context=e.context),o=Object(OF.a)(t,a,n,l)}return o};var b5=({tag:e,server:t,provider:a,contentDirectory:n,metadataNumericType:i,fallbackFilter:r})=>{if(!n)return;let s;if(e.type===Ha.d.Directory&&e.key)s=Object(ng.a)(t,a,n,{key:e.key,pageType:St.b.List});else if(e.filter){const[r,o]=e.filter.split("=");s=Object(ng.a)(t,a,n,{key:j.default.join([n.key,"all"],{type:i,[r]:o}),pageType:St.b.List})}else e.id&&r&&(s=Object(ng.a)(t,a,n,{key:j.default.join([n.key,"all"],{type:i,[r]:e.id}),pageType:St.b.List}));return s},v5=a("h62C"),I5=a.n(v5);function S5({className:e,metadataItem:t,itemClassName:a=I5.a.tagItem,linkClassName:n=I5.a.tagsListLink,tagName:i,limit:r=1/0}){const{type:s,[i]:o=[]}=t,l=o.length,[c,d]=m5(l,r),[u,p]=Jt(),m=Object(v.d)(Ee),h=Object(v.d)(Gt(u.machineIdentifier,p.identifier,t.librarySectionID));if(!l)return null;const g=Ev(s);return y.a.createElement("span",{className:e},o.map((e,t)=>{if(t>=c)return null;const i=m?b5({tag:e,contentDirectory:h,server:u,provider:p,metadataNumericType:g}):f5({tag:e,contentDirectory:h,server:u,provider:p,metadataNumericType:g});return y.a.createElement("span",{key:t,className:a},y.a.createElement(p5,{className:n,to:i,isDisabled:!i},e.tag),t+1<c&&t+1<l?", ":null)}),l>c?y.a.createElement(y.a.Fragment,null,c>1?", ":" ",y.a.createElement(p5,{onPress:d},Object(Ce.default)("and {count} more",{count:l-c}))):null)}function E5({label:e,metadataItem:t}){const[a,n]=Jt(),i=Object(v.d)(Gt(a.machineIdentifier,n.identifier,t.librarySectionID)),r=Object(v.d)(Ee),{studio:s,Studio:o}=t;return y.a.createElement(y.a.Fragment,null,(null==o?void 0:o.length)?y.a.createElement(e5,{label:e},y.a.createElement(S5,{metadataItem:t,tagName:"Studio",limit:2})):null,!(null==o?void 0:o.length)&&s&&i?y.a.createElement(e5,{label:e},y.a.createElement(p5,{to:r?Object(ng.a)(a,n,i,{key:j.default.join([i.key,"all"],{type:Ev(t.type),studio:encodeURIComponent(s)}),pageType:St.b.List}):Object(OF.a)(a,n,i,{filters:"studio="+encodeURIComponent(encodeURIComponent(s)),filterLabel:s,type:Ev(t.type)})},s)):null)}var O5=a("jEUb"),M5=a.n(O5);function C5({className:e=M5.a.summary,dangerouslySetInnerHTML:t,children:a}){const n=a?a.split("\n"):[];return y.a.createElement(kq,{className:e,dangerouslySetInnerHTML:t},n.length>1?n.map((e,t)=>y.a.createElement("p",{key:t},e)):a)}function j5({className:e,allowLink:t,metadataItem:a}){const{parentTitle:n}=a;return y.a.createElement("div",{className:e},y.a.createElement(xi,{allowLink:t,metadataItem:a}),n?y.a.createElement(Hi.b,null):null,y.a.createElement(Ri,{allowLink:t,metadataItem:a}))}var D5=a("xAXV"),P5=a.n(D5);const T5=parseInt(yu.a.trackCellPadding,10);function w5({style:e,index:t,cellIndex:a,cellHeight:n,metadataItem:i,metadataItemState:r}){const[s,o]=Jt(),l=Object(v.d)(Bs.b),c=Object(v.d)(Pg(i,s)),d=Object(v.d)(Object(hy.a)(Rm.a.AudioVideo,"isPaused")),{hoverRef:u,actionsMenuButtonID:p,isHovered:m,isActionsPending:h,isActionsVisible:g,isActionsMenuOpen:f,onActionsMenuClose:b,onActionsMenuCloseComplete:I,onActionsMenuToggle:S}=Qr({server:s,provider:o,metadataItem:i,metadataItemState:r}),{type:E,subtype:O}=i,M=Qa(E,O),C=Ga({height:n-2*T5,aspectRatio:M}),j=g&&Uo({server:s,provider:o,stableUser:l,metadataItem:i,metadataItemState:r});return y.a.createElement(xc,{isAlternate:!!(a%2),isHovered:m,style:e,ref:u},y.a.createElement(kh,{metadataItem:i,keyAttribute:"parentKey","aria-label":Kr(i)}),y.a.createElement("div",{className:P5.a.overlay},y.a.createElement("div",{className:P5.a.container},y.a.createElement("div",{className:P5.a.indexPlayContainer},c||j?null:t,!c&&j?y.a.createElement(Zs,{metadataItem:i}):null,c?y.a.createElement(Sy,{isPaused:d}):null),y.a.createElement("div",{className:P5.a.posterContainer},y.a.createElement(ot.a,{serverEntityID:s.entityID,providerEntityID:o.entityID,url:Yr(i,{aspectRatio:M}),width:C.width,height:C.height,component:at.a,preloadOnMount:!1,animateOnMount:!1})),y.a.createElement("div",{className:P5.a.titleContainer},y.a.createElement(qa,{className:P5.a.title,metadataItem:i}),y.a.createElement(j5,{className:P5.a.subtitle,metadataItem:i})),g?y.a.createElement("div",{className:P5.a.actions},y.a.createElement(wd,{id:p,className:P5.a.actionsMenuButton,"data-qa-id":"metadataTrackMoreButton",isPending:h,onPress:S})):y.a.createElement(zg,{className:P5.a.duration,metadataItem:i}))),y.a.createElement(jd,{target:p,isOpen:f,metadataItem:i,actionsOverride:{isPlayVisible:!1},onMenuClose:b,onMenuCloseComplete:I}))}function N5({index:e,item:t,...a}){const n=Va(null==t?void 0:t.sourceURI),i=Cr(a),{cellIndex:r,cellHeight:s}=a;return t?y.a.createElement(Da,{metadataItem:t,metadataItemState:n},y.a.createElement(w5,{style:i.style,index:e,cellIndex:r,cellHeight:s,metadataItem:t,metadataItemState:n})):y.a.createElement(kc,{style:i.style,index:r})}var x5=a("DJk6"),A5=a.n(x5);function L5({className:e=A5.a.divider}){return y.a.createElement("div",{className:e})}var k5=a("3Kzt"),R5=a.n(k5);const z5=parseInt(yu.a.v4PagePadding,10),U5={[Ha.d.Track]:parseInt(yu.a.trackCellHeight,10),[Ha.d.Album]:parseInt(yu.a.summaryCellHeight,10)};function V5({hub:e,onHubReady:t}){const{title:a,sourceURI:n,key:i,type:r,subtype:s,initialSize:o,random:l,style:c=Nt.a.List,context:d,isStale:u}=e,p=Object(v.c)(),[m,h]=Jt(),f=J4(),[b,I]=e3(f.contentHeight),[S,E]=Object(g.useState)(o<3?o:3),O=U5[r],M=Object(g.useMemo)(()=>bc({rowHeight:null!=O?O:0,outerPaddingRight:z5,outerPaddingLeft:z5,overscan:1}),[O]),C=Object(g.useMemo)(()=>hl(n),[n]),j=Object(v.d)(C),D=null==j?void 0:j.items.length,P=null==j?void 0:j.totalSize,T=null==P||l?o:P,w=Object(g.useCallback)(e=>{p(ja.a.actions.fetchRangeRequested({...e,server:m,provider:h,sourceURI:n}))},[p,m,h,n]),N=Object(g.useCallback)(()=>{E(T)},[T]),{isPlaceholder:x,placeholderItems:A}=Au({hub:e,size:D,totalSize:P,initialPageSize:3,onPageRequest:w});Object(g.useEffect)(()=>{!S&&D&&E(D<3?D:3)},[D,S]),Object(g.useEffect)(()=>{u&&!l&&p(ja.a.actions.throttledRepopulateRangeRequested({server:m,provider:h,sourceURI:n}))},[p,u,h,l,m,n]),Object(g.useEffect)(()=>{t&&t(e)},[e,t]);const L=Object(g.useCallback)(e=>r===Nt.b.Track?y.a.createElement(Et.a,{key:e.key,row:e.row,column:e.column},y.a.createElement(N5,{index:e.cellIndex+1,...e})):y.a.createElement(Wh,{...e}),[r]);return x||T?y.a.createElement(Et.a,{name:d},y.a.createElement(Ca,{containerServer:m,containerProvider:h,containerSourceURI:j.sourceURI,containerKey:i,containerType:r,containerSubtype:s,listStyle:c},y.a.createElement("div",{className:R5.a.hubHeader},y.a.createElement(Ip,{hub:e},a)),y.a.createElement(L5,null),y.a.createElement("div",{ref:I},y.a.createElement(Mc,{layout:M,cellComponentFactory:L,keyPropName:"listItemKey",items:x?A:j.items,totalSize:x?A.length:S,scrollTop:f.scrollTop-b,scrollLeft:f.scrollLeft,viewportWidth:f.width,viewportHeight:f.height,onPageRequest:x?void 0:w})),y.a.createElement(L5,null),!x&&S<T?y.a.createElement("div",{className:R5.a.showAllContainer},y.a.createElement(ga,{onPress:N},Object(Ce.default)("Show All"))):null,y.a.createElement("div",{className:R5.a.belowHub}))):null}const B5={descendantListSourceURI:void 0,siblingListSourceURI:void 0,popularLeavesSourceURI:void 0,extrasSourceURI:void 0,metadata:{metadataItem:void 0,isMediaFileUnavailable:!1,isStale:!1,isPending:!1,isPopulated:!1,error:null},related:{hubs:[],isPending:!1,isPopulated:!1,error:null},augmented:{hubs:[],isPending:!1,isPopulated:!1,error:null}};function F5(e,t,a){var n;const{type:i,Context:r}=a;if(i!==Ms.f)return;Object(Ct.a)({serverIdentifier:t.machineIdentifier,key:r.key})===(null==(n=e.metadata.metadataItem)?void 0:n.sourceURI)&&(r.exists&&r.accessible?e.metadata.isMediaFileUnavailable=!1:!1!==r.exists&&!1!==r.accessible||(e.metadata.isMediaFileUnavailable=!0))}var H5=Object(jr.c)({name:"prePlay",initialState:B5,reducers:{reset:e=>({...B5,siblingListSourceURI:e.siblingListSourceURI}),metadataItemFetchRequested(e,t){Object(hm.c)(e.metadata)},metadataItemFetchSucceeded(e,{payload:t}){Object(hm.d)(e.metadata),e.descendantListSourceURI=t.descendantListSourceURI,e.siblingListSourceURI=t.siblingListSourceURI,e.popularLeavesSourceURI=t.popularLeavesSourceURI,e.extrasSourceURI=t.extrasSourceURI,e.metadata.metadataItem=t.metadataItem,e.metadata.isStale=!1},metadataItemFetchFailed(e,{payload:t}){Object(hm.b)(e.metadata,t.error)},metadataItemRepopulateRequested(e,t){Object(hm.c)(e.metadata)},relatedHubsFetchRequested(e,t){Object(hm.c)(e.related)},relatedHubsFetchSucceeded(e,{payload:t}){Object(hm.d)(e.related),e.related.hubs=t.hubs},relatedHubsFetchFailed(e,{payload:t}){Object(hm.b)(e.related,t.error)},augmentedHubsFetchRequested(e,t){Object(hm.c)(e.augmented)},augmentedHubsFetchSucceeded(e,{payload:t}){Object(hm.d)(e.augmented),e.augmented.hubs=t.hubs},augmentedHubsFetchFailed(e,{payload:t}){Object(hm.b)(e.augmented,t.error)}},extraReducers:e=>{e.addCase(ws.actions.activityUpdated,(e,{payload:t})=>{F5(e,t.server,t.activity)}),e.addCase(ws.actions.activityFinished,(e,{payload:t})=>{F5(e,t.server,t.activity)}),e.addCase(vm.actions.ended,(e,{payload:t})=>{var a;(null==(a=e.metadata.metadataItem)?void 0:a.source)===t.source&&(e.metadata.isStale=!0)}),e.addCase(fm.actions.sessionStopped,(e,{payload:t})=>{var a;const n=Object(Ct.a)({serverIdentifier:t.server.machineIdentifier});(null==(a=e.metadata.metadataItem)?void 0:a.source)===n&&(e.metadata.isStale=!0)}),e.addCase(Ki.a.actions.playedStatusUpdateSucceeded,(e,{payload:t})=>{var a;const n=Object(Ct.a)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier});(null==(a=e.metadata.metadataItem)?void 0:a.source)===n&&(e.metadata.isStale=!0)}),e.addCase(Ki.a.actions.deleted,(e,{payload:t})=>{var a;const n=null==(a=e.metadata.metadataItem)?void 0:a.sourceURI,{parentSourceURI:i,rootSourceURI:r}=t;!n||n!==i&&n!==r||(e.metadata.isStale=!0)}),e.addCase(Ki.a.actions.repopulateCanceled,(e,t)=>{e.metadata.isStale=!1})}}),_5=a("ONyx"),W5=a.n(_5);function Q5({hub:e,onHubReady:t}){const a=e.style===Nt.a.List?V5:gp,{serverIdentifier:n,providerIdentifier:i}=Object(Ia.a)(e.sourceURI);return y.a.createElement($t,{machineIdentifier:n,providerIdentifier:i},y.a.createElement(a,{hub:e,hubTitleComponent:Ip,onHubReady:t}))}function G5({metadataItem:e,onHubsReady:t}){const{augmentationKey:a}=e,n=Object(v.c)(),[i,r]=Jt(),{augmented:{hubs:s,isPending:o,isPopulated:l}}=Object(v.d)(t3);return Object(g.useEffect)(()=>{a&&n(H5.actions.augmentedHubsFetchRequested({server:i,provider:r,augmentationKey:a}))},[n,a,r,i]),Object(g.useEffect)(()=>{(!a||l&&!s.length)&&t()},[a,s.length,l,t]),a?!l&&o?y.a.createElement("div",{className:W5.a.spinnerContainer},y.a.createElement(HO.a,null)):y.a.createElement(Op,{hubs:s,hubComponent:Q5,onHubsReady:t}):null}var K5=a("26nm"),Y5=a.n(K5);function q5({hub:e,onHubReady:t}){const a=e.style===Nt.a.List?V5:gp,{serverIdentifier:n,providerIdentifier:i}=Object(Ia.a)(e.sourceURI);return y.a.createElement($t,{machineIdentifier:n,providerIdentifier:i},y.a.createElement(a,{hub:e,hubTitleComponent:Ip,onHubReady:t}))}function Z5({metadataItem:e,onHubsReady:t}){const{key:a}=e,n=Object(v.c)(),[i,r]=Jt(),{related:{hubs:s,isPending:o,isPopulated:l}}=Object(v.d)(t3),{isEmbedded:c}=i;return Object(g.useEffect)(()=>{c||n(H5.actions.relatedHubsFetchRequested({server:i,provider:r,metadataKey:a}))},[n,c,a,r,i]),Object(g.useEffect)(()=>{c||l&&!s.length&&t()},[s.length,c,l,t]),c?null:o?y.a.createElement("div",{className:Y5.a.spinnerContainer},y.a.createElement(HO.a,null)):y.a.createElement(Op,{hubs:s,hubComponent:q5,onHubsReady:t})}var X5=a("5Y3Z"),J5=a.n(X5);function $5({className:e=J5.a.rightTitle,children:t}){return y.a.createElement("div",{className:e},t)}var e6=a("JQa6"),t6=a.n(e6);function a6({className:e=t6.a.rightTitle,imgClassName:t=t6.a.attributionLogo,metadataItem:a}){const{attribution:n,attributionLogo:i}=a;return i?y.a.createElement($5,{className:e},y.a.createElement("img",{src:i,className:t})):n?y.a.createElement($5,{className:e},y.a.createElement(Jn,{attribution:n})):null}var n6=a("NCdd"),i6=a.n(n6);function r6({contentRating:e}){return e?y.a.createElement(DC.a,{className:i6.a.badge},hi(e)):null}var s6=a("WEzZ"),o6=a.n(s6);function l6({className:e=o6.a.tertiaryTitleSpacer,children:t}){return y.a.createElement("span",{className:e},t)}function c6({metadataItem:e}){const{duration:t,contentRating:a}=e;return y.a.createElement(y.a.Fragment,null,t?y.a.createElement(l6,null,y.a.createElement(ji,{metadataItem:e})):null,a?y.a.createElement(l6,null,y.a.createElement(r6,{contentRating:a})):null,y.a.createElement(Ci,{metadataItem:e}))}var d6=a("R/vz"),u6=a.n(d6);function p6({className:e=u6.a.leftTitle,children:t}){return y.a.createElement("div",{className:e},t)}var m6=a("U47K"),h6=a.n(m6);function g6({className:e=h6.a.primaryTitle,children:t}){return y.a.createElement("div",{className:e,"data-qa-id":"preplay-mainTitle"},t)}var y6=a("x5TN"),f6=a.n(y6);function b6({className:e=f6.a.secondaryTitle,children:t}){return y.a.createElement("div",{className:e,"data-qa-id":"preplay-secondTitle"},t)}var v6=a("0csW"),I6=a.n(v6);function S6({className:e=I6.a.tertiaryTitle,children:t}){return y.a.createElement("div",{className:e,"data-qa-id":"preplay-thirdTitle"},t)}function E6(e,t){const a=Object(g.useRef)(0),n=Object(g.useRef)(void 0);return n.current||(n.current=Array.from({length:e}).map((n,i)=>()=>{a.current=a.current|2**i,a.current===2**e-1&&t()})),n.current}function O6({metadataItem:e,onHubsReady:t}){const{year:a,summary:n,Genre:i,Style:r}=e,[s,o]=E6(2,t);return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,y.a.createElement(p6,null,y.a.createElement(Ri,{metadataItem:e})),y.a.createElement(a6,{metadataItem:e})),y.a.createElement(b6,null,y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(S6,null,a?y.a.createElement(l6,null,a):null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isPlayVisible","isShuffleVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),n?y.a.createElement(C5,null,n):null,y.a.createElement(X3,null,y.a.createElement(E5,{label:Object(Ce.default)("Record Label"),metadataItem:e}),(null==i?void 0:i.length)?y.a.createElement(e5,{label:Object(Ce.default)("Genre")},y.a.createElement(S5,{metadataItem:e,tagName:"Genre",limit:3})):null,(null==r?void 0:r.length)?y.a.createElement(e5,{label:Object(Ce.default)("Style")},y.a.createElement(S5,{metadataItem:e,tagName:"Style",limit:3})):null),y.a.createElement(y5,{metadataItem:e})),y.a.createElement(E3,{metadataItem:e}),y.a.createElement(Z5,{metadataItem:e,onHubsReady:o}),y.a.createElement(G5,{metadataItem:e,onHubsReady:s}))}function M6({className:e,selectedClassName:t,selectButtonClassName:a,metadataList:n,metadataItem:i}){var r,s;const o=Object(v.c)(),[l,c]=Jt(),{type:d,subtype:u,skipChildren:p}=i,m=p?il(d,u):nl(d,u),[h,f]=Object(g.useState)(!1),b=null!=(r=n.totalSize)?r:0,I=n.items.length,{onSelect:S,onToggleSelect:E,isSelected:O}=r3(n.items);Object(g.useEffect)(()=>{h&&(I<b?o(ja.a.actions.fetchAllRequested({server:l,provider:c,sourceURI:n.sourceURI})):S())},[o,h,I,n.sourceURI,S,c,l,b]),Object(g.useEffect)(()=>{O&&f(!1)},[O]);const M=Object(g.useCallback)(()=>{I<b?f(!h):E()},[h,I,E,b]),C=Z4(null!=(s=n.totalSize)?s:0,null!=m?m:d,u);return y.a.createElement(l3,{className:e,selectedClassName:t,selectButtonClassName:a,title:C,isSelectable:Ld(c),isSelected:O||h,onSelectPress:M})}const C6=parseInt(yu.a.v4PagePadding,10);function j6({items:e,totalSize:t,viewportWidth:a,viewportHeight:n,scrollTop:i,scrollLeft:r,onPageRequest:s}){const o=Object(g.useMemo)(()=>Gh({outerPaddingRight:C6,outerPaddingLeft:C6}),[]),l=Object(g.useCallback)(e=>y.a.createElement(Wh,{...e,isParentDetailHidden:!0}),[]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(L5,null),y.a.createElement(Mc,{layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:e,totalSize:t,scrollTop:i,scrollLeft:r,viewportWidth:a,viewportHeight:n,onPageRequest:s}),y.a.createElement(L5,null))}function D6({type:e,subtype:t,items:a,totalSize:n,viewportWidth:i,viewportHeight:r,scrollTop:s,scrollLeft:o,onPageRequest:l}){const c=Object(v.d)(Fu),{containerMeta:d}=Ma(),u=Object(g.useMemo)(()=>ug({listType:e,subtype:t,columnWidth:c,listStyle:Nt.a.PrePlayGrid,displayFields:null==d?void 0:d.DisplayFields,displayImages:null==d?void 0:d.DisplayImage}),[c,null==d?void 0:d.DisplayFields,null==d?void 0:d.DisplayImage,t,e]),p=Object(g.useCallback)(e=>y.a.createElement(cu,{...e}),[]);return y.a.createElement(Mc,{layout:u,cellComponentFactory:p,keyPropName:"listItemKey",items:a,totalSize:n,scrollTop:s,scrollLeft:o,viewportWidth:i,viewportHeight:r,onPageRequest:l})}var P6=a("1ggG"),T6=a.n(P6);function w6({style:e,cellIndex:t,metadataItem:a,metadataItemState:n}){const[i,r]=Jt(),s=Object(v.d)(Bs.b),o=Object(v.d)(Pg(a,i)),l=Object(v.d)(Object(hy.a)(Rm.a.AudioVideo,"isPaused")),{hoverRef:c,actionsMenuButtonID:d,isHovered:u,isActionsPending:p,isActionsVisible:m,isActionsMenuOpen:h,onActionsMenuClose:f,onActionsMenuCloseComplete:b,onActionsMenuToggle:I}=Qr({server:i,provider:r,metadataItem:a,metadataItemState:n}),{isSelected:S,isInSelectionRange:E,isSelectionActive:O,onToggleSelect:M}=Ur({isHovered:u,metadataItem:a,metadataItemState:n}),C=Object(g.useMemo)(()=>E?T6.a.rangeListRow:S?T6.a.selectedListRow:void 0,[E,S]),j=!O&&m,D=Object(g.useCallback)(()=>{M()},[M]),P=j&&Uo({server:i,provider:r,stableUser:s,metadataItem:a,metadataItemState:n});return y.a.createElement(xc,{className:C,alternateClassName:C,isAlternate:!!(t%2),isHovered:u,style:e,ref:c},Ld(r)?y.a.createElement(Vh,{isSelected:S,isInSelectionRange:E,isVisible:S||E||u,title:Kr(a),onPress:D}):null,O?y.a.createElement(ga,{className:T6.a.selectOverlay,onPress:D}):y.a.createElement(kh,{metadataItem:a,keyAttribute:"key","aria-label":Kr(a)}),y.a.createElement("div",{className:T6.a.overlay},y.a.createElement("div",{className:T6.a.simpleSummaryContainer},y.a.createElement("div",{className:T6.a.indexPlayContainer},o||P?null:y.a.createElement(Rh,{className:T6.a.titleEpisodeIndex,metadataItem:a}),!o&&P?y.a.createElement(Zs,{metadataItem:a}):null,o?y.a.createElement(Sy,{isPaused:l}):null),y.a.createElement("div",{className:T6.a.titleAndSummaryContainer},y.a.createElement("div",{className:T6.a.titleContainer},y.a.createElement("div",{className:T6.a.title},a.title),j?y.a.createElement("div",{className:T6.a.actions},y.a.createElement(wd,{id:d,"data-qa-id":"metadataRowMoreButton",isPending:p,onPress:I})):null),y.a.createElement("div",{className:T6.a.summary},function(e,t){const{tagline:a,summary:n}=t;return a||(Object(I_.a)(e.identifier)===S_.a?O_(n):n)}(r,a))))),y.a.createElement(jd,{target:d,isOpen:h,metadataItem:a,actionsOverride:{isPlayVisible:!1},onMenuClose:f,onMenuCloseComplete:b}))}function N6({item:e,...t}){const a=Va(null==e?void 0:e.sourceURI),n=Cr(t),{cellIndex:i}=t;return e?y.a.createElement(Da,{metadataItem:e,metadataItemState:a},y.a.createElement(w6,{style:n.style,cellIndex:i,metadataItem:e,metadataItemState:a})):y.a.createElement(kc,{style:n.style,index:i})}const x6=parseInt(yu.a.simpleSummaryCellHeight,10),A6=parseInt(yu.a.v4PagePadding,10);var L6=function(e){return bc({rowHeight:x6,outerPaddingRight:A6,outerPaddingLeft:A6,overscan:2,...e})},k6=a("/Oxn"),R6=a.n(k6);function z6({items:e,totalSize:t,viewportWidth:a,viewportHeight:n,scrollTop:i,scrollLeft:r,onPageRequest:s}){const[o,l]=Object(g.useState)(t<3?t:3),c=Object(g.useMemo)(()=>L6(),[]),d=Object(g.useCallback)(()=>{l(t)},[t]),u=Object(g.useCallback)(e=>y.a.createElement(N6,{...e}),[]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(L5,null),y.a.createElement(Mc,{layout:c,cellComponentFactory:u,keyPropName:"listItemKey",items:e,totalSize:o,scrollTop:i,scrollLeft:r,viewportWidth:a,viewportHeight:n,onPageRequest:s}),y.a.createElement(L5,null),y.a.createElement("div",{className:R6.a.allEpisodesContainer},o<t?y.a.createElement(ga,{onPress:d},Object(Ce.default)("Show All Episodes")):null))}var U6=a("Bzgf"),V6=a.n(U6);function B6({iconContainerClassName:e=V6.a.recordIconContainer,iconClassName:t=V6.a.recordIcon,...a}){return y.a.createElement(ga,{"aria-label":Object(Ce.default)("Record"),...a},y.a.createElement("span",{className:e},y.a.createElement("span",{className:t})))}var F6=a("a5AD"),H6=a.n(F6);function _6({style:e,cellIndex:t,metadataItem:a,metadataItemState:n}){const{metricsPage:i,metricsContextTuple:r}=Object(Et.d)(),[s,o]=Jt(),l=Object(v.d)(Bs.b),c=ul(),[d,u]=Wr(),p=a&&Qo({provider:o,server:s,stableUser:l,metadataItem:a,metadataItemState:n}),{summary:m}=a,{subscriptionID:h}=n;return y.a.createElement(xc,{isAlternate:!!(t%2),isHovered:d,style:e,ref:u},y.a.createElement(kh,{metadataItem:a,keyAttribute:"key","aria-label":Kr(a)}),y.a.createElement("div",{className:H6.a.overlay},y.a.createElement("div",{className:H6.a.titleContainer},y.a.createElement("div",{className:H6.a.primaryTitle},y.a.createElement(Wi,{className:H6.a.titleEpisodeIndex,metadataItem:a}),y.a.createElement(Hi.b,null),y.a.createElement(qa,{metadataItem:a,allowLink:!1})),y.a.createElement("div",{className:H6.a.secondaryTitle},h?y.a.createElement($w.a,{className:H6.a.subscriptionIcon,"aria-label":Object(Ce.default)("Recording Scheduled")}):null,y.a.createElement(_n,{className:H6.a.nextAiringDate,metadataItem:a}),m?y.a.createElement(Hi.b,{className:H6.a.separator}):null,m)),d&&p?y.a.createElement(B6,{tabIndex:-1,onPress:c.onOpen}):null),y.a.createElement(vo,{metadataItem:a,metadataItemState:n},({serverEntityID:e,providerEntityID:t,metadataItemEntityID:s,onMarkStale:o})=>y.a.createElement(vd.a,{isOpen:c.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:s,subscriptionType:n.grandparentSubscriptionType||n.subscriptionType||a.type,metricsProperties:{page:i,contextTuple:r},onModalClose:Object(to.a)(o,c.onClose)})))}function W6({item:e,...t}){const a=Va(null==e?void 0:e.sourceURI),n=Cr(t),{cellIndex:i}=t;return e?y.a.createElement(Da,{metadataItem:e,metadataItemState:a},y.a.createElement(_6,{style:n.style,cellIndex:i,metadataItem:e,metadataItemState:a})):y.a.createElement(kc,{style:n.style,index:i})}function Q6({items:e,totalSize:t,viewportWidth:a,viewportHeight:n,scrollTop:i,scrollLeft:r,onPageRequest:s}){const o=Object(g.useMemo)(()=>L6({rowHeight:96}),[]),l=Object(g.useCallback)(e=>y.a.createElement(W6,{...e}),[]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(L5,null),y.a.createElement(Mc,{layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:e,totalSize:t,scrollTop:i,scrollLeft:r,viewportWidth:a,viewportHeight:n,onPageRequest:s}),y.a.createElement(L5,null))}var G6=function(e){const t=Object(qp.a)(Nt.b).find(([,t])=>t===e);return t?Nt.b[t[0]]:void 0};var K6=Object(he.a)(t3,e=>e.metadata.metadataItem);var Y6=Object(he.a)(K6,e=>{if(!e)return;const t=e.skipChildren?il(e.type,e.subtype):nl(e.type,e.subtype),a=t?G6(t):void 0;return a||void 0});var q6=Object(he.a)(K6,Y6,(e,t)=>e?`${e.source}:${e.librarySectionID}:${t}`:void 0);var Z6=Object(he.a)(K6,Y6,(e,t)=>{if(!e||!t)return[];if(Zr(e))return[Nt.a.SimpleDetails];switch(e.subtype){case Ha.c.Webshow:case Ha.c.Podcast:return[Nt.a.SimpleDetails]}switch(t){case Nt.b.Album:case Nt.b.Episode:return[Nt.a.PrePlayGrid,Nt.a.Details];case Nt.b.Track:return[Nt.a.Table];default:return[Nt.a.PrePlayGrid]}});var X6=Object(he.a)(Hn("prePlayListStyles"),q6,Z6,(e,t,a)=>{if(!t||!a.length)return;const n=e[t];return!!n&&a.includes(n)?n:a[0]}),J6=a("kxlF"),$6=a.n(J6);function e8({className:e=$6.a.listContainer,metadataItem:t}){const a=Object(v.c)(),[n,i]=Jt(),r=J4(),{descendantListSourceURI:s}=Object(v.d)(t3),o=Object(v.d)(Y6),l=Object(v.d)(X6),c=a3(),[d,u]=e3(r.contentHeight),p=Object(g.useCallback)(e=>{s&&a(ja.a.actions.fetchRangeRequested({...e,server:n,provider:i,sourceURI:s}))},[s,a,i,n]),m=function(e,t){switch(t){case Nt.a.PrePlayGrid:return D6;case Nt.a.Details:return j6;case Nt.a.SimpleDetails:return Zr(e)?Q6:z6}throw new Error("Failed to map the preplay descendant list style to a list component. Check `selectPrePlayDescendantListStyles` for list style options.")}(t,l);return s&&o&&c&&c.totalSize?y.a.createElement("div",{className:e,ref:u},y.a.createElement(Ca,{containerServer:n,containerProvider:i,containerSourceURI:s,containerKey:t.childrenKey,containerType:o,containerSubtype:t.subtype,listStyle:l},y.a.createElement(M6,{metadataList:c,metadataItem:t}),y.a.createElement(Rr,{items:c.items},y.a.createElement(m,{type:o,subtype:t.subtype,items:c.items,totalSize:c.totalSize,scrollTop:r.scrollTop-d,scrollLeft:r.scrollLeft,viewportWidth:r.width,viewportHeight:r.height,onPageRequest:p})))):null}function t8(){const[e,t]=Jt(),{extrasSourceURI:a}=Object(v.d)(t3),n=Object(g.useMemo)(()=>a?hl(a):()=>{},[a]),i=Object(v.d)(n),r=Object(v.d)(Fu),s=Object(g.useMemo)(()=>Eu({listType:Nt.b.Clip,subtype:Ha.c.Trailer,columnWidth:r}),[r]),o=Object(g.useCallback)(({item:e,...t})=>y.a.createElement(cu,{...t,item:e}),[]);return i?y.a.createElement(Ca,{containerServer:e,containerProvider:t,containerSourceURI:i.sourceURI,containerType:Nt.b.Clip,containerSubtype:Ha.c.Trailer},y.a.createElement(Bu,{hub:{title:Object(Ce.default)("Extras"),sourceURI:i.sourceURI},keyPropName:"listItemKey",items:i.items,layout:s,cellComponentFactory:o,totalSize:i.totalSize})):null}var a8=a("/9Dk"),n8=a.n(a8);function i8({className:e=n8.a.container}){var t,a;const n=Object(v.c)(),{popularLeavesSourceURI:i}=Object(v.d)(t3),r=Object(g.useMemo)(()=>i?hl(i):()=>{},[i]),s=Object(v.d)(r),o=J4(),[l,c]=e3(o.contentHeight),[d,u]=Jt(),p=null!=(t=null==s?void 0:s.items.length)?t:0,m=null!=(a=null==s?void 0:s.totalSize)?a:p,h=null==s?void 0:s.sourceURI,[f,b]=Object(g.useState)(p<5?p:5),I=Object(g.useMemo)(()=>[Fg,Yg,Xg,ey],[]),S=Object(g.useMemo)(()=>Ny(),[]),E=Object(g.useCallback)(e=>{h&&n(ja.a.actions.fetchRangeRequested({...e,server:d,provider:u,sourceURI:h}))},[h,n,d,u]),O=Object(g.useCallback)(()=>{const e=f+10;b(e>m?m:e)},[m,f]),M=Object(g.useCallback)(e=>y.a.createElement(Py,{index:e.cellIndex+1,tableColumns:I,hasTransientActionsCell:!0,...e}),[I]);return s?y.a.createElement("div",{className:e},y.a.createElement(Ca,{containerServer:d,containerProvider:u,containerSourceURI:s.sourceURI,containerType:Ha.d.Track},y.a.createElement(l3,{title:Object(Ce.default)("Popular Tracks")}),y.a.createElement(L5,null),y.a.createElement("div",{ref:c},y.a.createElement(Rr,{items:s.items},y.a.createElement(Mc,{keyPropName:"listItemKey",items:s.items,totalSize:f,layout:S,cellComponentFactory:M,viewportHeight:o.height,viewportWidth:o.width,scrollTop:o.scrollTop-l,scrollLeft:o.scrollLeft,onPageRequest:E}))),y.a.createElement(L5,null),y.a.createElement("div",{className:n8.a.moreContainer},f<m?y.a.createElement(ga,{onPress:O},Object(Ce.default)("Show More")):null))):null}function r8({metadataItem:e,onHubsReady:t}){const{summary:a,Country:n,Genre:i,Style:r}=e,[s,o]=E6(2,t);return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,y.a.createElement(p6,null,y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(a6,{metadataItem:e})),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isPlayVisible","isPlayRadioVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),a?y.a.createElement(C5,null,a):null,y.a.createElement(X3,null,(null==n?void 0:n.length)?y.a.createElement(e5,{label:Object(Ce.default)("Country")},y.a.createElement(S5,{metadataItem:e,tagName:"Country",limit:2})):null,(null==i?void 0:i.length)?y.a.createElement(e5,{label:Object(Ce.default)("Genre")},y.a.createElement(S5,{metadataItem:e,tagName:"Genre",limit:3})):null,(null==r?void 0:r.length)?y.a.createElement(e5,{label:Object(Ce.default)("Style")},y.a.createElement(S5,{metadataItem:e,tagName:"Style",limit:3})):null),y.a.createElement(y5,{metadataItem:e})),y.a.createElement(i8,null),y.a.createElement(e8,{metadataItem:e}),y.a.createElement(t8,null),y.a.createElement(Z5,{metadataItem:e,onHubsReady:o}),y.a.createElement(G5,{metadataItem:e,onHubsReady:s}))}function s8({metadataItem:e,onHubsReady:t}){const{summary:a}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,y.a.createElement(p6,null,y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(a6,{metadataItem:e})),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),a?y.a.createElement(C5,null,a):null,y.a.createElement(y5,{metadataItem:e})),y.a.createElement(Z5,{metadataItem:e,onHubsReady:t}))}function o8({metadataItem:e,onHubsReady:t}){const{title:a,summary:n,minYear:i,maxYear:r}=e,s=!(!i||!r||i===r),o=!(!r||i!==r);return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,a),y.a.createElement(b6,null,s||o?y.a.createElement(y.a.Fragment,null,s?`${i} — ${r}`:r):null),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isShuffleVisible","isSyncDownloadVisible","isEditVisible"]}),n?y.a.createElement(C5,null,n):null,y.a.createElement(y5,{metadataItem:e})),y.a.createElement(e8,{metadataItem:e}),y.a.createElement(Z5,{metadataItem:e,onHubsReady:t}))}function l8(e,t,a){const n=e/1e3;return a<n?Object(Ce.default)("Aired"):t<=n&&a>=n?Object(Ce.default)("Airing"):Object(Ce.default)("Airs")}function c8({metadataItem:e}){const t=Object(v.d)(Hn("timeFormat")),a=Fn(),n=Bn(e);if(!n)return null;const{Channel:i}=e,{videoResolution:r,beginsAt:s,endsAt:o,channelID:l}=n,c=null==i?void 0:i.find(e=>e.id===l);return y.a.createElement(X3,null,r?y.a.createElement(e5,{label:Object(Ce.default)("Video")},function(e){const t=parseInt(e,10);return t>=720||4===t||8===t}(r)?Object(Ce.default)("HD"):Object(Ce.default)("SD")):null,null!=s&&null!=o?y.a.createElement(e5,{label:l8(a,s,o)},Nn({now:a,beginsAt:s,endsAt:o,channel:null==c?void 0:c.tag,timeFormat:t,showFullTime:!0,showChannel:!0})):null)}function d8({metadataItem:e,onHubsReady:t}){const{summary:a}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{aspectRatio:1/1.5,metadataItem:e},y.a.createElement(g6,null,y.a.createElement(xi,{metadataItem:e})),y.a.createElement(b6,null,y.a.createElement(Wi,{metadataItem:e}),y.a.createElement(Hi.b,{separator:"—"}),y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),a?y.a.createElement(C5,null,a):null,y.a.createElement(c8,{metadataItem:e})),y.a.createElement(Z5,{metadataItem:e,onHubsReady:t}))}var u8=a("KluX"),p8=a.n(u8);function m8({server:e,provider:t,contentDirectory:a,metadataItem:n,item:i,...r}){const s=Cr(r),o=Object(v.d)(Ee),[l,c]=Wr();if(!i)return null;const{thumb:d,tag:u}=i,p=o?b5({tag:i,contentDirectory:a,server:e,provider:t,metadataNumericType:Ev(n.type),fallbackFilter:"actor"}):f5({tag:i,contentDirectory:a,server:e,provider:t,metadataNumericType:Ev(n.type),fallbackFilter:"actor"}),m=r.cellWidth;return y.a.createElement("div",{style:s.style},y.a.createElement(Na,{className:p8.a.card,ref:c},d?y.a.createElement(ot.a,{className:p8.a.rounded,serverEntityID:e.entityID,providerEntityID:t.entityID,url:d,width:m,height:m,component:at.a,preloadOnMount:!1,animateOnMount:!1}):y.a.createElement(Wq,{className:p8.a.rounded,name:i.tag,width:m,height:m}),p?y.a.createElement(Ss,{isHovered:l,className:p8.a.link,hoverClassName:p8.a.hoveredLink,to:p}):null),y.a.createElement("div",{className:p8.a.titleContainer},p?y.a.createElement(ga,{className:p8.a.title,to:p,title:u},u):y.a.createElement("span",{className:p8.a.title,title:u},u),i.role?y.a.createElement("span",{className:p8.a.role,title:i.role},i.role):null))}function h8({metadataItem:e}){const[t,a,n]=Jt(),i=Object(v.d)(Fu),{Role:r}=e,s=Object(g.useMemo)(()=>Eu({listType:Nt.b.Person,columnWidth:i,titleCount:2}),[i]),o=Object(g.useCallback)(i=>y.a.createElement(m8,{...i,metadataItem:e,server:t,provider:a,contentDirectory:n}),[n,e,a,t]);return y.a.createElement(Bu,{hub:{title:Object(Ce.default)("Cast"),sourceURI:j.default.join([e.sourceURI,"castList"])},totalSize:null==r?void 0:r.length,items:null!=r?r:[],layout:s,cellComponentFactory:o})}function g8({metadataItem:e,onHubsReady:t}){const{year:a,summary:n,Genre:i}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(b6,null,a),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),n?y.a.createElement(C5,null,n):null,y.a.createElement(X3,null,(null==i?void 0:i.length)?y.a.createElement(e5,{label:Object(Ce.default)("Genre")},y.a.createElement(S5,{metadataItem:e,tagName:"Genre",limit:3})):null),y.a.createElement(c8,{metadataItem:e})),y.a.createElement(h8,{metadataItem:e}),y.a.createElement(Z5,{metadataItem:e,onHubsReady:t}))}function y8({metadataItem:e,onHubsReady:t}){const{title:a,summary:n,Genre:i}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,a),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),n?y.a.createElement(C5,null,n):null,y.a.createElement(X3,null,(null==i?void 0:i.length)?y.a.createElement(e5,{label:Object(Ce.default)("Genre")},y.a.createElement(S5,{metadataItem:e,tagName:"Genre",limit:3})):null),y.a.createElement(y5,{metadataItem:e})),y.a.createElement(e8,{metadataItem:e}),y.a.createElement(h8,{metadataItem:e}),y.a.createElement(Z5,{metadataItem:e,onHubsReady:t}))}function f8({className:e,metadataItem:t}){const a=Object(Pi.a)({useLongName:!0,episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return y.a.createElement("span",{className:e},y.a.createElement("span",{title:t.title},a))}var b8=a("F5gX"),v8=a.n(b8);function I8({className:e=v8.a.container,children:t}){return y.a.createElement("div",{className:e},t)}function S8({metadataItem:e,onHubsReady:t}){const{summary:a,originallyAvailableAt:n,Writer:i,Director:r}=e,[s,o]=E6(2,t);return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,y.a.createElement(p6,null,y.a.createElement(xi,{metadataItem:e})),y.a.createElement(a6,{metadataItem:e})),y.a.createElement(b6,null,y.a.createElement(Ri,{metadataItem:e})),y.a.createElement(b6,null,y.a.createElement(f8,{metadataItem:e}),y.a.createElement(Hi.b,{separator:"·"}),y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e}))),y.a.createElement(I8,null,y.a.createElement(x3,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),a?y.a.createElement(C5,null,a):null,y.a.createElement(X3,null,(null==r?void 0:r.length)?y.a.createElement(lN,{label:Object(Ce.default)("Directed by")},y.a.createElement(S5,{metadataItem:e,tagName:"Director",limit:2})):null,(null==i?void 0:i.length)?y.a.createElement(lN,{label:Object(Ce.default)("Written by")},y.a.createElement(S5,{metadataItem:e,tagName:"Writer",limit:2})):null,n?y.a.createElement(lN,{label:Object(Ce.default)("Released")},y.a.createElement(ri,{metadataItem:e})):null),y.a.createElement(y5,{metadataItem:e})),y.a.createElement(G5,{metadataItem:e,onHubsReady:s}),y.a.createElement(Z5,{metadataItem:e,onHubsReady:o}))}function E8({metadataItem:e,onHubsReady:t}){const{summary:a}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,y.a.createElement(xi,{metadataItem:e})),y.a.createElement(b6,null,y.a.createElement(f8,{metadataItem:e}),y.a.createElement(Hi.b,{separator:"·"}),y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isPlayVisible","isSyncDownloadVisible"]})),y.a.createElement(I8,null,a?y.a.createElement(C5,{dangerouslySetInnerHTML:{__html:a}}):null),y.a.createElement(Z5,{metadataItem:e,onHubsReady:t}))}var O8=a("hrvX"),M8=a.n(O8);function C8({className:e=M8.a.container,children:t}){return y.a.createElement("div",{className:e},t)}var j8=a.p+"common/img/ratings/rt-certified-fresh-560.6a22ac5186f3f60353ba3dc5f161dff5.svg",D8=a.p+"common/img/ratings/rt-spilt-popcorn-simple-560.bab3b2a9cc8157dbc0d09c4f8b2a8de2.svg",P8=a("C5La"),T8=a.n(P8);const w8={certified:j8,fresh:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAgNzQpIj4KICAgIDxwYXRoIGZpbGw9IiNGQTMyMEEiIGQ9Ik0zOTguMjkwMTI5LDIyMi45NzU5NjYgQzM5NC4zMDA0MjksMTU5LjAxMDMgMzYxLjc2OTk1NywxMTEuMTUyNzkgMzEyLjgyMjMxOCw4NC4zOTc0MjQ5IEMzMTMuMTAwNDI5LDg1Ljk1NjIyMzIgMzExLjcxMzMwNSw4Ny45MDQ3MjEgMzEwLjEzMzkwNiw4Ny4yMTQ1OTIzIEMyNzguMTE4NDU1LDczLjIwOTQ0MjEgMjIzLjgwNjAwOSwxMTguNTM0NzY0IDE4NS44NTIzNjEsOTQuNzk5MTQxNiBDMTg2LjEzNzMzOSwxMDMuMzE3NTk3IDE4NC40NzM4MiwxNDQuODcxMjQ1IDEyNS45MzgxOTcsMTQ3LjI4MTU0NSBDMTI0LjU1NjIyMywxNDcuMzM4MTk3IDEyMy43OTU3MDgsMTQ1LjkyNzAzOSAxMjQuNjY5NTI4LDE0NC45Mjc4OTcgQzEzMi40OTc4NTQsMTM1Ljk5OTE0MiAxNDAuNDAxNzE3LDExMy4zOTMxMzMgMTI5LjAzNjkxLDEwMS4zNDE2MzEgQzEwNC42OTg3MTIsMTIzLjE1MTA3MyA5MC41NjQ4MDY5LDEzMS4zNTg3OTggNDMuODk4NzEyNCwxMjAuNTI3ODk3IEMxNC4wMjA2MDA5LDE1MS43NjkwOTkgLTIuOTA5ODcxMjQsMTk0LjUyNzg5NyAwLjQxMzczMzkwNiwyNDcuNzkzMTMzIEM3LjE5NDg0OTc5LDM1Ni41Mjc4OTcgMTA5LjA0Mzc3Nyw0MTguNjgyNDAzIDIxMS42MDY4NjcsNDEyLjI4MjQwMyBDMzE0LjE2MzA5LDQwNS44ODc1NTQgNDA1LjA3Mjk2MSwzMzEuNzEwNzMgMzk4LjI5MDEyOSwyMjIuOTc1OTY2Ii8+CiAgICA8cGF0aCBmaWxsPSIjMDA5MTJEIiBkPSJNMjExLjM3NTEwNyw1OC4yOTI3MDM5IEMyMzIuNDQ5Nzg1LDUzLjI2OTUyNzkgMjkzLjA2NzgxMSw1Ny44MDM0MzM1IDMxMi40ODkyNyw4My41NjY1MjM2IEMzMTMuNjU0OTM2LDg1LjExMTU4OCAzMTIuMDEzNzM0LDg4LjAzNTE5MzEgMzEwLjEzMzkwNiw4Ny4yMTQ1OTIzIEMyNzguMTE4NDU1LDczLjIwOTQ0MjEgMjIzLjgwNjAwOSwxMTguNTM0NzY0IDE4NS44NTIzNjEsOTQuNzk5MTQxNiBDMTg2LjEzNzMzOSwxMDMuMzE3NTk3IDE4NC40NzM4MiwxNDQuODcxMjQ1IDEyNS45MzgxOTcsMTQ3LjI4MTU0NSBDMTI0LjU1NjIyMywxNDcuMzM4MTk3IDEyMy43OTU3MDgsMTQ1LjkyNzAzOSAxMjQuNjY5NTI4LDE0NC45Mjc4OTcgQzEzMi40OTc4NTQsMTM1Ljk5OTE0MiAxNDAuNCwxMTMuMzkzMTMzIDEyOS4wMzY5MSwxMDEuMzQxNjMxIEMxMDIuNTI1MzIyLDEyNS4wOTk1NzEgODguMTUyNzg5NywxMzIuNzMzOTA2IDMwLjYxMTE1ODgsMTE3LjE4MDI1OCBDMjguNzI3ODk3LDExNi42NzIxMDMgMjkuMzY5OTU3MSwxMTMuNjQ1NDk0IDMxLjM3MzM5MDYsMTEyLjg4MTU0NSBDNDIuMjQ4OTI3LDEwOC43MjUzMjIgNjYuODg3NTUzNiw5MC41MjEwMyA5MC4xOTc0MjQ5LDgyLjQ5Njk5NTcgQzk0LjYzNTE5MzEsODAuOTcwODE1NSA5OS4wNTkyMjc1LDc5Ljc4NjI2NjEgMTAzLjM3NjgyNCw3OS4wOTc4NTQxIEM3Ny43MTE1ODgsNzYuODA0MjkxOCA2Ni4xNDI0ODkzLDczLjIzNTE5MzEgNDkuODE4MDI1OCw3NS42OTY5OTU3IEM0OC4wMjkxODQ1LDc1Ljk2NjUyMzYgNDYuODEzNzMzOSw3My44ODQxMjAyIDQ3LjkyMjc0NjgsNzIuNDU1Nzk0IEM2OS45MTc1OTY2LDQ0LjEyNDQ2MzUgMTEwLjQzNjA1MiwzNS41NjgyNDAzIDEzNS40MzUxOTMsNTAuNjE4ODg0MSBDMTIwLjAyNTc1MSwzMS41MjUzMjE5IDEwNy45NTUzNjUsMTYuMjk3ODU0MSAxMDcuOTU1MzY1LDE2LjI5Nzg1NDEgTDEzNi41NTYyMjMsMC4wNTIzNjA1MTUgQzEzNi41NTYyMjMsMC4wNTIzNjA1MTUgMTQ4LjM3MjUzMiwyNi40NTIzNjA1IDE1Ni45Njk5NTcsNDUuNjY2MDk0NCBDMTc4LjI0NTQ5NCwxNC4yMzA5MDEzIDIxNy44MzAwNDMsMTEuMzI5NjEzNyAyMzQuNTU0NTA2LDMzLjYzMzQ3NjQgQzIzNS41NDY3ODEsMzQuOTU4Nzk4MyAyMzQuNTA5ODcxLDM2Ljg0Mzc3NjggMjMyLjg1MzIxOSwzNi44MDQyOTE4IEMyMTkuMjQxMjAyLDM2LjQ3Mjk2MTQgMjExLjc0NTkyMyw0OC44NTQwNzczIDIxMS4xNzc2ODIsNTguMjcwMzg2MyBMMjExLjM3NTEwNyw1OC4yOTI3MDM5Ii8+CiAgPC9nPgo8L3N2Zz4K",rotten:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPHBhdGggZmlsbD0iIzBBQzg1NSIgZD0iTTM3NS4xODUyNjMsMzY4LjY4NDQ3NCBDMjk1LjgxNjMxNiwzNzIuODUxMzE2IDI3OS41OTg0MjEsMjgyLjAzMTg0MiAyNDguNDU5NDc0LDI4Mi42Nzg0MjEgQzIzNS4xOTA3ODksMjgyLjk1NjU3OSAyMjQuNzMzMTU4LDI5Ni44Mjk0NzQgMjI5LjMyNTUyNiwzMTIuOTk3NjMyIEMyMzEuODUxMDUzLDMyMS44ODU3ODkgMjM4Ljg1NjU3OSwzMzQuOTIwNTI2IDI0My4yNzAyNjMsMzQzLjAwOTIxMSBDMjU4LjgzOTczNywzNzEuNTUyNjMyIDIzNS44MjI2MzIsNDAzLjg1Mzk0NyAyMDguODg3MzY4LDQwNi41ODU3ODkgQzE2NC4xMjYwNTMsNDExLjEyNjU3OSAxNDUuNDU0NDc0LDM4NS4xNjAyNjMgMTQ2LjYwOTQ3NCwzNTguNTc4Njg0IEMxNDcuOTA4MTU4LDMyOC43Mzg0MjEgMTczLjIwOTQ3NCwyOTguMjQ3ODk1IDE0Ny4yNTk3MzcsMjg1LjI3Mzk0NyBDMTIwLjA2NDczNywyNzEuNjc3MzY4IDk3Ljk1NzYzMTYsMzI0Ljg0NjA1MyA3MS45MzQyMTA1LDMzNi43MTI4OTUgQzQ4LjM4MTA1MjYsMzQ3LjQ1NDIxMSAxNS42ODU1MjYzLDMzOS4xMjYwNTMgNC4wNjE4NDIxMSwzMTIuOTcxODQyIEMtNC4xMDIzNjg0MiwyOTQuNTkzMTU4IC0yLjYxNzYzMTU4LDI1OS4yMDQ0NzQgMzMuNzMyNjMxNiwyNDUuNzAxODQyIEM1Ni40Mzg0MjExLDIzNy4yNjg2ODQgMTA3LjAzNzM2OCwyNTYuNzMwNTI2IDEwOS42MzI4OTUsMjMyLjA3OTQ3NCBDMTEyLjYyNDQ3NCwyMDMuNjYzMTU4IDU2LjQ3NzEwNTMsMjAxLjI2NjU3OSAzOS41NzIxMDUzLDE5NC40NTI2MzIgQzkuNjYsMTgyLjM5Nzg5NSAtNy45OTQ3MzY4NCwxNTYuNjAyODk1IDUuODM3NjMxNTgsMTI4LjkzMDc4OSBDMTYuMjE2MDUyNiwxMDguMTczOTQ3IDQ2Ljc1MjYzMTYsOTkuNzI3ODk0NyA3MC4wNjA3ODk1LDEwOC44MjA1MjYgQzk3Ljk4MzQyMTEsMTE5LjcxMjg5NSAxMDIuNDY1MjYzLDE0OC42NzQ0NzQgMTE2Ljc3MTA1MywxNjAuNzE4MTU4IEMxMjkuMDk0NzM3LDE3MS4wOTg0MjEgMTQ1Ljk2MTA1MywxNzIuMzk3MTA1IDE1Ni45OTE1NzksMTY1LjI2MDc4OSBDMTY1LjEyNjMxNiwxNTkuOTk2MDUzIDE2Ny44MzQyMTEsMTQ4LjQzMzE1OCAxNjQuNzY1MjYzLDEzNy44NzA1MjYgQzE2MC42OTQyMTEsMTIzLjg0ODQyMSAxNDkuODkwMjYzLDExNS4wOTg0MjEgMTM5LjM0OTczNywxMDYuNTI1MjYzIEMxMjAuNTkxNTc5LDkxLjI3NjMxNTggOTQuMTA5NDczNyw3OC4xNjQyMTA1IDExMC4xMjg0MjEsMzYuNTQxODQyMSBDMTIzLjI1ODk0NywyLjQzMTU3ODk1IDE2MS43NywxLjIwMjg5NDc0IDE2MS43NywxLjIwMjg5NDc0IEMxNzcuMDcwNTI2LC0wLjUxNzYzMTU3OSAxOTAuNzcyMTA1LDQuMTAyMzY4NDIgMjAxLjkzNzEwNSwxNC4wNzczNjg0IEMyMTYuODYzNjg0LDI3LjQxMjM2ODQgMjE5Ljc3MDUyNiw0NS4yMzY1Nzg5IDIxNy4yNzI2MzIsNjQuMjUyNjMxNiBDMjE0Ljk5MDI2Myw4MS42MTA3ODk1IDIwOC44NDY4NDIsOTYuODEzNjg0MiAyMDUuNjQzNDIxLDExNC4wMTE1NzkgQzIwMS45MjYwNTMsMTMzLjk3ODE1OCAyMTIuNTk3MzY4LDE1NC4wOTc2MzIgMjMyLjg5MTg0MiwxNTQuODgwNTI2IEMyNTkuNTg1Nzg5LDE1NS45MTIxMDUgMjY3LjU4OTczNywxMzUuMzk0NzM3IDI3MC44NTU3ODksMTIyLjM4OTQ3NCBDMjc1LjYzNzg5NSwxMDMuMzYwNTI2IDI4MS45MTM5NDcsODUuNjk0NzM2OCAyOTkuNTc0MjExLDc0LjU2ODQyMTEgQzMyNC45MTk3MzcsNTguNTk5MjEwNSAzNjAuMTI2MDUzLDYyLjA5OTIxMDUgMzc2LjQ2LDkyLjc5MDUyNjMgQzM4OS4zODA1MjYsMTE3LjA3NSAzODUuMjMyMTA1LDE1MC41MDU1MjYgMzY1LjQxMjg5NSwxNjguNzYwNzg5IEMzNTYuNTIxMDUzLDE3Ni45NDg5NDcgMzQ1LjgyOTQ3NCwxNzkuODM1NTI2IDMzNC4yNjQ3MzcsMTc5LjkxNjU3OSBDMzE3LjY4MDI2MywxODAuMDM0NDc0IDMwMS4xMDMxNTgsMTc5LjYyNzM2OCAyODUuNzA4Njg0LDE4Ny4zODgxNTggQzI3NS4yMjg5NDcsMTkyLjY2OTQ3NCAyNzAuNjYyMzY4LDIwMS4yNzU3ODkgMjcwLjY2NDIxMSwyMTIuODExMDUzIEMyNzAuNjY0MjExLDIyNC4wNTM0MjEgMjc2LjUxNjU3OSwyMzEuMzk2MDUzIDI4NS45OTk3MzcsMjM2LjE3NDQ3NCBDMzAzLjg2MDc4OSwyNDUuMTc2ODQyIDMyMy41NzY4NDIsMjQ3LjAxNzEwNSAzNDIuODcxMDUzLDI1MC4zOTU1MjYgQzM3MC44NTA3ODksMjU1LjI5NTUyNiAzOTUuNDUyMTA1LDI2NS4xNTA3ODkgNDExLjI0NjMxNiwyOTEuMTE1MjYzIEM0MTEuMzg4MTU4LDI5MS4zNDM2ODQgNDExLjUyNjMxNiwyOTEuNTczOTQ3IDQxMS42NjA3ODksMjkxLjgwNjA1MyBDNDI5LjgsMzIyLjU0NzEwNSA0MTAuODMsMzY2LjgxMTA1MyAzNzUuMTg1MjYzLDM2OC42ODQ0NzQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcwIDc2KSIvPgo8L3N2Zz4K",spilled:D8,upright:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA0IDQ1KSI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjY2LjU3MDgyNiw0MjkuMjE0MDcxIEwyOTAuMDM1NzQxLDE5MS4yNTc1MTcgQzMwNC45NjUwOTUsMTg2LjQ2MTcyMSAzMTkuNTMzNjkyLDE4MC4xMDc1OTkgMzMwLjI2NTMxMywxNzAuOTk1NzYyIEwzMDAuMTU5NjgyLDQwMS4yNzc5OTMgQzI5My40MTIxMzksNDExLjUyNjE4MiAyODAuMjk3MDc1LDQyMi4xMzg1NjUgMjY2LjU3MDgyNiw0MjkuMjE0MDcxIFogTTE4OC4zNzI1MzcsNDUwLjg0NTA1MiBMMTkxLjMxOTg4MSwyMDYuMzE3MjYgQzIxMi4yMTM5NywyMDUuNzE4NDQyIDIzOS4yNTMxNzQsMjAyLjg4NzE5IDI2Mi4yOTA3ODYsMTk3Ljk3MDU4IEwyNDMuMjE5NzQxLDQzOS4xNDAwODkgQzIyMC40OTU2MDIsNDQ2LjY1ODU4IDIwNy4yODU5Nyw0NDguOTg5MDY3IDE4OC4zNzI1MzcsNDUwLjg0NTA1MiBaIE04OC42Nzk0ODI2LDE5Ny45NzA1OCBDMTExLjcxNzA5NSwyMDIuODg3MTkgMTM4Ljc1NjI5OSwyMDUuNzE4NDQyIDE1OS42NTAzODgsMjA2LjMxNzI2IEwxNjIuNTk3NzMxLDQ1MC44NDUwNTIgQzE0My42ODQyOTksNDQ4Ljk4OTA2NyAxMzAuNDc0NjY3LDQ0Ni42NTg1OCAxMDcuNzUwNTI3LDQzOS4xNDAwODkgTDg4LjY3OTQ4MjYsMTk3Ljk3MDU4IFogTTIwLjcwNDk1NTIsMTcwLjk5NTc2MiBDMzEuNDM2NTc3MSwxODAuMTA3NTk5IDQ2LjAwNTE3NDEsMTg2LjQ2MTcyMSA2MC45MzQ1Mjc0LDE5MS4yNTc1MTcgTDg0LjM5OTQ0MjgsNDI5LjIxNDA3MSBDNzAuNjczMTk0LDQyMi4xMzg1NjUgNTcuNTU4MTI5NCw0MTEuNTI2MTgyIDUwLjgwODgzNTgsNDAxLjI3Nzk5MyBMMjAuNzA0OTU1MiwxNzAuOTk1NzYyIFoiLz4KICAgIDxwYXRoIGZpbGw9IiNGRkQ3MDAiIGQ9Ik0xNC45MDQ4MzU4LDExMi40NDQ2ODQgQzE2LjI2MjA0OTgsMTQxLjI3MTk4NSA4Ny42NzYwMTk5LDE2NC4xMjE2MTMgMTc1LjQ4MzM4MywxNjMuNjIwODQ4IEMyNTIuMTcwMzQ4LDE2My4xODMxMTUgMzE2LjE0MTUzMiwxNDUuMDc1MDA0IDMzMS44MTE2NjIsMTIxLjI4NTEyNiBDMzI4LjI0MDg3NiwxMTcuMzE3NTIgMzIzLjMwOTM3MywxMTQuNTk2NTc2IDMxNy43NTQ0MjgsMTEzLjg1OTQzNSBDMzE3LjgxMzk3LDExMy4xNTkwNjMgMzE3Ljg1MjQ5OCwxMTIuNDUzNDM5IDMxNy44NDg5OTUsMTExLjczNzMwOSBDMzE3Ljc4NDE5OSwxMDAuMzM3MDA3IDMwOS40MjAyNTksOTAuOTQ4NTI0MiAyOTguNTIyMjY5LDg5LjE5NzU5NDggQzI5OC44MDk0NzMsODcuNzIzMzEyMyAyOTguOTYwMDgsODYuMTk4MjUyOCAyOTguOTUxMzIzLDg0LjYzODE3NDcgQzI5OC44Nzk1MjIsNzEuOTQyMTg1OSAyODguNTI2MTY5LDYxLjcwOTc1NDYgMjc1LjgyNzksNjEuNzgxNTQyOCBDMjc1LjU0MDY5Nyw2MS43ODMyOTM3IDI3NS4yNjA0OTgsNjEuODE4MzEyMyAyNzQuOTc1MDQ1LDYxLjgzMDU2ODggQzI3NS43ODc2MjIsNTkuNDU2MzA4NiAyNzYuMjQyOTQ1LDU2LjkxOTIxMTkgMjc2LjIyODkzNSw1NC4yNzAwNTU4IEMyNzYuMTU1MzgzLDQxLjU3NDA2NjkgMjY1LjgwMzc4MSwzMS4zNDE2MzU3IDI1My4xMDU1MTIsMzEuNDEzNDIzOCBDMjUwLjE5MTQ0MywzMS40MzA5MzMxIDI0Ny40MTkyMjQsMzIuMDEwNDkwNyAyNDQuODU4OTA1LDMzLjAxMzc3MzIgQzI0MS4yMjY4MjYsMjYuMTc4MTQ1IDIzNC4yNTMzNzMsMjEuNDEzODY2MiAyMjYuMTIyMzQ4LDIwLjg2NDA3NDMgQzIyNC43MDU1OTIsOS40NjM3NzMyMyAyMTQuOTY1MTc0LDAuNjY4ODU1MDE5IDIwMy4xOTE1NjIsMC43MzUzOTAzMzUgQzE5NS43ODIwNSwwLjc3NzQxMjYzOSAxODkuMjI4ODk2LDQuMzM1MzAxMTIgMTg1LjA1NTY4Miw5Ljc5OTk1MTY3IEMxODAuODIyOTI1LDUuMTk1MDA3NDMgMTc0Ljc1NjYxNywyLjMwNTk3Mzk4IDE2OC4wMDkwNzUsMi4zNDQ0OTQ0MiBDMTU1LjMxMDgwNiwyLjQxNjI4MjUzIDE0NS4wNzY1MzcsMTIuNzY3Nzc3IDE0NS4xNDgzMzgsMjUuNDYyMDE0OSBDMTQ1LjE2MjM0OCwyNy44ODcwNTIgMTQ1LjU1NjM3OCwzMC4yMTc1MzkgMTQ2LjI2Mzg4MSwzMi40MDc5NTE3IEMxNDEuMDgxOTUsMzMuMzY5MjExOSAxMzYuNTI1MjE0LDM2LjA2MjE0MTMgMTMzLjE5NDM0OCwzOS44NjY5MTA4IEMxMzAuNTQ5OTcsMzAuMDE5Njg0IDEyMS41NTczMzMsMjIuNzgzMDkyOSAxMTAuODgsMjIuODQyNjI0NSBDMTAwLjkwNDkxNSwyMi45MDA0MDUyIDkyLjQ3NDQyNzksMjkuMzEyMzA4NiA4OS4zNDMyMDQsMzguMjA4NzgwNyBDODAuODY4OTM1Myw0MS42MzUzNDk0IDc0LjkwNDE5OSw0OS45NDcwMTEyIDc0Ljk2MDIzODgsNTkuNjQxOTA3MSBDNzQuOTcyNDk3NSw2MS43OTU1NTAyIDc1LjMwMTczMTMsNjMuODY4NjUwNiA3NS44NjczODMxLDY1Ljg0MzY5ODkgQzczLjAwOTM1MzIsNjQuNTkzNTM1MyA2OS44NTg4NjU3LDYzLjg5MzE2MzYgNjYuNTM4NTA3NSw2My45MTI0MjM4IEM1Ni41MjY2NDY4LDYzLjk3MDIwNDUgNDguMDY5ODkwNSw3MC40Mjc2MzIgNDQuOTY0OTM1Myw3OS4zNzY2MzIgQzQxLjk4NzgyMDksNzcuOTkzMzk3OCAzOC42Nzc5NzAxLDc3LjIwNzIzMDUgMzUuMTc3MjMzOCw3Ny4yMjgyNDE2IEMyMi40Nzg5NjUyLDc3LjMwMDAyOTcgMTIuMjQyOTQ1Myw4Ny42NDk3NzMyIDEyLjMxNjQ5NzUsMTAwLjM0NTc2MiBDMTIuMzM5MjYzNywxMDQuNTMyMjM0IDEzLjUwMDMzODMsMTA4LjQ0MDMwOSAxNS40NzU3NDEzLDExMS44MDkwOTcgQzE1LjI3NDM0ODMsMTEyLjAxMjIwNCAxNS4wOTc0NzI2LDExMi4yMzQ1NzIgMTQuOTA0ODM1OCwxMTIuNDQ0Njg0Ii8+CiAgICA8cGF0aCBmaWxsPSIjRkEzMjBBIiBkPSJNMzAwLjE2MTQzMyw0MDEuMjc3OTkzIEMyOTMuNDEyMTM5LDQxMS41MjYxODIgMjgwLjI5NzA3NSw0MjIuMTM4NTY1IDI2Ni41NzA4MjYsNDI5LjIxNDA3MSBMMjkwLjAzNTc0MSwxOTEuMjU3NTE3IEMzMDQuOTY1MDk1LDE4Ni40NjE3MjEgMzE5LjUzMzY5MiwxODAuMTA3NTk5IDMzMC4yNjUzMTMsMTcwLjk5NTc2MiBMMzAwLjE2MTQzMyw0MDEuMjc3OTkzIFogTTI0My4yMTk3NDEsNDM5LjE0MDA4OSBDMjIwLjQ5NzM1Myw0NDYuNjU4NTggMjA3LjI4NTk3LDQ0OC45ODkwNjcgMTg4LjM3MjUzNyw0NTAuODQ1MDUyIEwxOTEuMzE5ODgxLDIwNi4zMTcyNiBDMjEyLjIxMzk3LDIwNS43MTg0NDIgMjM5LjI1MzE3NCwyMDIuODg3MTkgMjYyLjI5MjUzNywxOTcuOTcwNTggTDI0My4yMTk3NDEsNDM5LjE0MDA4OSBaIE0xMDcuNzUwNTI3LDQzOS4xNDAwODkgTDg4LjY3OTQ4MjYsMTk3Ljk3MDU4IEMxMTEuNzE3MDk1LDIwMi44ODcxOSAxMzguNzU2Mjk5LDIwNS43MTg0NDIgMTU5LjY1MDM4OCwyMDYuMzE3MjYgTDE2Mi41OTc3MzEsNDUwLjg0NTA1MiBDMTQzLjY4NDI5OSw0NDguOTg5MDY3IDEzMC40NzQ2NjcsNDQ2LjY1ODU4IDEwNy43NTA1MjcsNDM5LjE0MDA4OSBaIE01MC44MTA1ODcxLDQwMS4yNzc5OTMgTDIwLjcwNDk1NTIsMTcwLjk5NTc2MiBDMzEuNDM2NTc3MSwxODAuMTA3NTk5IDQ2LjAwNTE3NDEsMTg2LjQ2MTcyMSA2MC45MzQ1Mjc0LDE5MS4yNTc1MTcgTDg0LjM5OTQ0MjgsNDI5LjIxNDA3MSBDNzAuNjczMTk0LDQyMi4xMzg1NjUgNTcuNTU4MTI5NCw0MTEuNTI2MTgyIDUwLjgxMDU4NzEsNDAxLjI3Nzk5MyBaIE0yOTguNDc4NDg4LDgwLjEzNDc4NDQgQzI5OC43NzYxOTksODEuNTg4MDU1OCAyOTguOTQyNTY3LDgzLjA5MDM1MzIgMjk4Ljk1MTMyMyw4NC42MzI5MjE5IEMyOTguOTYwMDgsODYuMTkzIDI5OC44MDk0NzMsODcuNzE4MDU5NSAyOTguNTIwNTE3LDg5LjE5MjM0MiBDMzA5LjQyMDI1OSw5MC45NDE1MjA0IDMxNy43ODQxOTksMTAwLjMzMDAwNCAzMTcuODQ4OTk1LDExMS43MzIwNTYgQzMxNy44NTI0OTgsMTEyLjQ0NjQzNSAzMTcuODEzOTcsMTEzLjE1MzgxIDMxNy43NTQ0MjgsMTEzLjg1MjQzMSBDMzIzLjMwOTM3MywxMTQuNTg5NTcyIDMyOC4yNDA4NzYsMTE3LjMxMDUxNyAzMzEuODExNjYyLDEyMS4yNzgxMjMgQzMxNi4xNDMyODQsMTQ1LjA2OTc1MSAyNTIuMTcwMzQ4LDE2My4xNzc4NjIgMTc1LjQ4NTEzNCwxNjMuNjE3MzQ2IEM4Ny42Nzc3NzExLDE2NC4xMTk4NjIgMTYuMjYzODAxLDE0MS4yNzE5ODUgMTQuOTA0ODM1OCwxMTIuNDQyOTMzIEMxNS4wOTc0NzI2LDExMi4yMzQ1NzIgMTUuMjc0MzQ4MywxMTIuMDEwNDU0IDE1LjQ3NTc0MTMsMTExLjgwOTA5NyBDMTQuMTIwMjc4NiwxMDkuNDk3ODcgMTMuMTg1MTE0NCwxMDYuOTIyMjUzIDEyLjcwMTc3MTEsMTA0LjE4OTA1MiBDNC4yOTQwNDk3NSwxMTIuMTY4MDM3IC0wLjc5MzMxMzQzMywxMTguNjAwOTUyIDAuMTAxNTcyMTM5LDEyNy45Njg0MjQgQzAuMTg3MzgzMDg1LDEyOS4yMjAzMzggMzcuMjk3OTksMzk0Ljg4MDA5NyAzNy4yOTc5OSwzOTQuODgwMDk3IEM0MS41Nzk3ODExLDQzNi45NTQ5MjkgMTAyLjY4OTQzMyw0NzAuNTgzMjc5IDE3NS40ODUxMzQsNDcxIEMyNDguMjgwODM2LDQ3MC41ODMyNzkgMzA5LjM5MjIzOSw0MzYuOTU0OTI5IDMxMy42NzIyNzksMzk0Ljg4MDA5NyBDMzEzLjY3MjI3OSwzOTQuODgwMDk3IDM1MC43ODI4ODYsMTI5LjIyMDMzOCAzNTAuODY4Njk3LDEyNy45Njg0MjQgQzM1Mi42NDYyMDksMTA5LjIzMTcyOSAzMzAuNzE4ODg2LDkyLjIyMzIwMDcgMjk4LjQ3ODQ4OCw4MC4xMzQ3ODQ0IFoiLz4KICA8L2c+Cjwvc3ZnPgo="},N8=parseInt(yu.a.v4PagePadding,10);function x8({server:e,provider:t,item:a,...n}){const i=Cr(n);if(!a)return null;const{text:r,tag:s,source:o,image:l,link:c}=a,d=l?l.substr(l.lastIndexOf(".")+1):"",u=w8[d];return y.a.createElement(Na,{className:T8.a.card,style:i.style},y.a.createElement("div",{className:T8.a.details},u?y.a.createElement("img",{className:T8.a.ratingImg,src:u}):null,y.a.createElement("div",{className:T8.a.titleContainer},c?y.a.createElement(ga,{to:c,target:"_blank",rel:"noopener noreferrer",className:T8.a.title},o):y.a.createElement("div",{className:T8.a.title},o),y.a.createElement("div",{className:T8.a.author},s))),y.a.createElement("div",{className:T8.a.reviewContainer},r))}function A8({metadataItem:e}){const[t,a]=Jt(),{Review:n}=e,i=Object(g.useMemo)(()=>gu({columnWidth:350,rowHeight:220,innerHorizontalPadding:30,outerPaddingLeft:N8,outerPaddingRight:N8}),[]),r=Object(g.useCallback)(e=>y.a.createElement(x8,{...e,server:t,provider:a}),[a,t]);return y.a.createElement(Bu,{hub:{title:Object(Ce.default)("Reviews"),sourceURI:j.default.join([e.sourceURI,"reviewList"])},totalSize:null==n?void 0:n.length,items:null!=n?n:[],layout:i,cellComponentFactory:r})}function L8({metadataItem:e,onHubsReady:t}){const{year:a,summary:n,Country:i,Director:r,Genre:s,Platform:o,Publisher:l}=e,[c,d]=E6(2,t);return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e,isProgressBarHidden:!0},y.a.createElement(g6,null,y.a.createElement(p6,null,y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(a6,{metadataItem:e})),y.a.createElement(b6,null,a),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isPlayVisible","isEditVisible"]}),n?y.a.createElement(C5,null,n):null,y.a.createElement(C8,null,y.a.createElement(X3,null,(null==o?void 0:o.length)?y.a.createElement(e5,{label:Object(Ce.default)("Platform")},y.a.createElement(S5,{metadataItem:e,tagName:"Platform",limit:2})):null,(null==l?void 0:l.length)?y.a.createElement(e5,{label:Object(Ce.default)("Publisher")},y.a.createElement(S5,{metadataItem:e,tagName:"Publisher",limit:2})):null,(null==r?void 0:r.length)?y.a.createElement(e5,{label:Object(Ce.default)("Developer")},y.a.createElement(S5,{metadataItem:e,tagName:"Director",limit:2})):null,(null==i?void 0:i.length)?y.a.createElement(e5,{label:Object(Ce.default)("Country")},y.a.createElement(S5,{metadataItem:e,tagName:"Country",limit:2})):null,(null==s?void 0:s.length)?y.a.createElement(e5,{label:Object(Ce.default)("Genre")},y.a.createElement(S5,{metadataItem:e,tagName:"Genre",limit:3})):null))),y.a.createElement(h8,{metadataItem:e}),y.a.createElement(A8,{metadataItem:e}),y.a.createElement(t8,null),y.a.createElement(G5,{metadataItem:e,onHubsReady:c}),y.a.createElement(Z5,{metadataItem:e,onHubsReady:d}))}function k8({metadataItem:e,onHubsReady:t}){const{year:a,summary:n,Director:i,Writer:r,Genre:s}=e,[o,l]=E6(2,t);return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,y.a.createElement(p6,null,y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(a6,{metadataItem:e})),y.a.createElement(b6,null,a),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),n?y.a.createElement(C5,null,n):null,y.a.createElement(C8,null,y.a.createElement(X3,null,(null==i?void 0:i.length)?y.a.createElement(e5,{label:Object(Ce.default)("Directed by")},y.a.createElement(S5,{metadataItem:e,tagName:"Director",limit:2})):null,(null==r?void 0:r.length)?y.a.createElement(e5,{label:Object(Ce.default)("Written by")},y.a.createElement(S5,{metadataItem:e,tagName:"Writer",limit:2})):null,y.a.createElement(E5,{label:Object(Ce.default)("Studio"),metadataItem:e}),(null==s?void 0:s.length)?y.a.createElement(e5,{label:Object(Ce.default)("Genre")},y.a.createElement(S5,{metadataItem:e,tagName:"Genre",limit:3})):null),y.a.createElement(y5,{metadataItem:e}))),y.a.createElement(h8,{metadataItem:e}),y.a.createElement(A8,{metadataItem:e}),y.a.createElement(t8,null),y.a.createElement(G5,{metadataItem:e,onHubsReady:o}),y.a.createElement(Z5,{metadataItem:e,onHubsReady:l}))}function R8({metadataItem:e}){const{summary:t}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,y.a.createElement(p6,null,y.a.createElement(Ri,{metadataItem:e})),y.a.createElement(a6,{metadataItem:e})),y.a.createElement(b6,null,y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),t?y.a.createElement(C5,null,t):null,y.a.createElement(y5,{metadataItem:e})),y.a.createElement(e8,{metadataItem:e}))}function z8({metadataItem:e,onHubsReady:t}){const{year:a,summary:n,Genre:i}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,y.a.createElement(p6,null,y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(a6,{metadataItem:e})),y.a.createElement(b6,null,a),y.a.createElement(S6,null,y.a.createElement(c6,{metadataItem:e})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),n?y.a.createElement(C5,null,n):null,y.a.createElement(X3,null,y.a.createElement(E5,{label:Object(Ce.default)("Studio"),metadataItem:e}),(null==i?void 0:i.length)?y.a.createElement(e5,{label:Object(Ce.default)("Genre")},y.a.createElement(S5,{metadataItem:e,tagName:"Genre",limit:3})):null),y.a.createElement(y5,{metadataItem:e})),y.a.createElement(e8,{metadataItem:e}),y.a.createElement(h8,{metadataItem:e}),y.a.createElement(t8,null),y.a.createElement(Z5,{metadataItem:e,onHubsReady:t}))}function U8({metadataItem:e,onHubsReady:t}){const{summary:a,Genre:n}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Y3,{metadataItem:e},y.a.createElement(g6,null,y.a.createElement(qa,{metadataItem:e,allowLink:!1})),y.a.createElement(x3,{metadataItem:e,promotedActions:["isPlayVisible","isAddToSavedVisible","isSyncDownloadVisible"]}),a?y.a.createElement(C5,{dangerouslySetInnerHTML:{__html:a}}):null,y.a.createElement(X3,null,(null==n?void 0:n.length)?y.a.createElement(e5,{label:Object(Ce.default)("Genre")},y.a.createElement(S5,{metadataItem:e,tagName:"Genre",limit:3})):null),y.a.createElement(y5,{metadataItem:e})),y.a.createElement(e8,{metadataItem:e}),y.a.createElement(h8,{metadataItem:e}),y.a.createElement(t8,null),y.a.createElement(Z5,{metadataItem:e,onHubsReady:t}))}var V8=Object(g.memo)((function({metadataItem:e,onHubsReady:t}){const a=function(e){const{type:t,subtype:a}=e;if(Zr(e))switch(t){case Ha.d.Movie:return g8;case Ha.d.Show:return y8;case Ha.d.Episode:return d8}switch(a){case Ha.c.Clip:switch(t){case Ha.d.Movie:return s8}break;case Ha.c.Webshow:case Ha.c.Podcast:switch(t){case Ha.d.Show:return U8;case Ha.d.Episode:case Ha.d.Track:return E8}}switch(t){case Ha.d.Movie:return k8;case Ha.d.Show:return z8;case Ha.d.Season:return R8;case Ha.d.Episode:return S8;case Ha.d.Artist:return r8;case Ha.d.Album:return O6;case Ha.d.Collection:return o8;case Ha.d.Game:return L8}}(e);return a?y.a.createElement(a,{metadataItem:e,onHubsReady:t}):y.a.createElement(ze,{title:Object(Ce.default)("Missing details"),description:Object(Ce.default)("Pardon our dust. This item is lacking a details page.")})})),B8=a("UqSa"),F8=a.n(B8);function H8(){const[e,t]=Object(g.useState)(!1),[a,n]=Jt(),{metadata:{metadataItem:i,isPopulated:r,error:s}}=Object(v.d)(t3),o=a3(),[l,{height:c}]=Object(Gu.a)(),[d,{width:u,height:p}]=Object(Gu.a)(),[m,h]=Object(g.useState)({scrollTop:0,scrollLeft:0}),f=Object(g.useCallback)(e=>{h(e)},[]),{scrollRestoreProps:b,onScrollPositionReady:I}=ia({key:"PrePlayPage",onScrollPositionChange:f}),S=Object(g.useCallback)(()=>{t(!0)},[t]);return Object(g.useEffect)(()=>{e&&I()},[e,I]),!r&&!s||o&&!o.isPopulated&&!o.error?y.a.createElement(Re,null,y.a.createElement(Ge,null)):s||!i||(null==o?void 0:o.error)?y.a.createElement(Ue,null):y.a.createElement(Ca,{containerServer:a,containerProvider:n,containerSourceURI:i.sourceURI,containerType:i.type,containerSubtype:i.subtype},y.a.createElement(Dp,{ref:l,...b},y.a.createElement("div",{className:F8.a.prePlayContentWrapper,ref:d},y.a.createElement($4,{width:u,height:c,contentHeight:p,scrollTop:m.scrollTop,scrollLeft:m.scrollLeft},y.a.createElement(V8,{metadataItem:i,onHubsReady:S})))))}function _8(){const{siblingListSourceURI:e}=Object(v.d)(t3),t=Object(g.useMemo)(()=>e?hl(e):()=>{},[e]);return Object(v.d)(t)}function W8(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-sibling-nav-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M5 39.36H43.4V43.2H5V39.36ZM5 27.84H43.4V31.68H5V27.84ZM5.00104 16.32H43.4V20.16H5.00104V16.32ZM5 4.79999H43.4V8.63999H5V4.79999Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}W8.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Q8=W8,G8=a("Nw/v"),K8=a.n(G8);function Y8({server:e,provider:t,metadataItem:a,metricsContextTuple:n}){const i=CD(),r=_8();if(!r)return null;const{items:s}=r,o=!a;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Mv.a,{id:i.menuButtonID,isDisabled:o,onPress:i.onMenuButtonPress},y.a.createElement(Q8,null),y.a.createElement(oc.a,{className:o?K8.a.disabledDisclosureArrow:K8.a.disclosureArrow,direction:i.isMenuOpen?lc.c:lc.a})),y.a.createElement(Xs.a,{isOpen:i.isMenuOpen,target:i.menuButtonID,size:cc.a,onMenuClose:i.onMenuClose},s.map(r=>y.a.createElement(uc.a,{key:r.key,to:Object(Ka.a)(e,t,r.key,{context:Object(Et.b)(n)},null==a?void 0:a.playlistType),isSelected:r.key===(null==a?void 0:a.key),onPress:i.onMenuClose},r.type===Ha.d.Episode?y.a.createElement(y.a.Fragment,null,y.a.createElement(Rh,{metadataItem:r}),y.a.createElement(Hi.b,null)):null,r.title))))}function q8({metadataItem:e}){const[t,a]=Jt(),{metricsContextTuple:n}=Object(Et.d)(),i=_8();if(!i||i.items.length<2)return null;const{items:r}=i,s=r.findIndex(t=>t.key===(null==e?void 0:e.key)),o=s<0?s:s+1,l=r[s<0?s:s-1],c=r[o],d={context:Object(Et.b)(n)};return y.a.createElement(y.a.Fragment,null,y.a.createElement(rz,null),y.a.createElement("div",null,y.a.createElement(Mv.a,{"data-qa-id":"toolbarPrevious",to:Object(Ka.a)(t,a,null==l?void 0:l.key,d),isDisabled:!l},y.a.createElement(zu,null)),y.a.createElement(Y8,{metadataItem:e,server:t,provider:a,metricsContextTuple:n}),y.a.createElement(Mv.a,{"data-qa-id":"toolbarNext",to:Object(Ka.a)(t,a,null==c?void 0:c.key,d),isDisabled:!c},y.a.createElement(ku,null))))}var Z8=a("fPZ+"),X8=a.n(Z8);function J8(){const e=Object(v.c)(),{metadata:{metadataItem:t,isPopulated:a}}=Object(v.d)(t3),n=Object(v.d)(Hn("showPrePlayArtwork")),i=Object(v.d)(Hn("prePlayListStyles")),r=Object(v.d)(q6),s=Object(v.d)(X6),o=Object(v.d)(Z6),l=Object(g.useCallback)(t=>{if(!r)return;const a={...i,[r]:t};Object(Dt.a)(()=>{e(Object(xy.l)({prePlayListStyles:a}))})},[e,i,r]),c=Object(v.d)(xm),d=Object(g.useCallback)(()=>{e(Object(xy.l)({showPrePlayArtwork:!n}))},[e,n]);return c?y.a.createElement(fh,null):y.a.createElement(Jm,{className:X8.a.pageHeader},y.a.createElement(ik.a,null,a?y.a.createElement(SE,null):null),y.a.createElement(WA,null,(null==t?void 0:t.grandparentArt)||(null==t?void 0:t.parentArt)||(null==t?void 0:t.art)?y.a.createElement(y.a.Fragment,null,y.a.createElement(lz,null,y.a.createElement(Mv.a,{tooltip:n?Object(Ce.default)("Blur Background"):Object(Ce.default)("Show Background"),isSelected:n,onPress:d},y.a.createElement(L4,null))),y.a.createElement(rz,null)):null,s&&o.length>1?y.a.createElement(fI,{listStyles:o,selectedListStyle:s,onListStyleSelect:l}):y.a.createElement(fI,{listStyles:[Nt.a.PrePlayGrid],selectedListStyle:Nt.a.PrePlayGrid}),y.a.createElement(q8,{metadataItem:t})))}function $8({machineIdentifier:e,providerIdentifier:t,metadataKey:a}){const n=Object(v.c)(),i=Object(v.d)(Zt(e)),r=Object(v.d)(Wt(e,t)),{metadata:{metadataItem:s,isPopulated:o,isStale:l}}=Object(v.d)(t3),c=s?function(e,t){var a;const n=Object(xt.a)(e,St.e.Content);if(!n)return;const i=null!=(a=null==n?void 0:n.directories)?a:[];if(e.protocols.includes(St.g.LiveTV))return i.find(e=>e.hubKey&&!e.key);const{librarySectionID:r,isPlaylist:s}=t;return r?i.find(e=>!!e.id&&e.id===r):s?i.find(e=>e.type===Ha.d.Playlist):void 0}(r,s):void 0,d=Va(Object(Ct.a)({serverIdentifier:i.machineIdentifier,providerIdentifier:r.identifier,key:a})),u=Object(v.d)(Hn("showPrePlayArtwork")),p=Object(v.d)(Hn("playThemeMusic")),m=Object(v.d)(FM);return Nl({identifier:r.metricsIdentifier,type:null==s?void 0:s.type},o),Object(g.useEffect)(()=>(d.isDeleted?n(Object(ta.w)({replace:!0})):n(H5.actions.metadataItemFetchRequested({server:i,provider:r,metadataKey:a})),()=>{Object(Dt.a)(()=>{n(H5.actions.reset())})}),[a,d.isDeleted]),Object(g.useEffect)(()=>{(l||d.isStale)&&n(H5.actions.metadataItemRepopulateRequested({server:i,provider:r}))},[l,d.isStale]),Object(g.useEffect)(()=>{if(!s)return;const e=s.thumb||s.parentThumb||s.grandparentThumb,t=s.grandparentArt||s.parentArt||s.art,a=u?t||e:e||t;n(Object(aa.a)({serverEntityID:i.entityID,providerEntityID:r.entityID,imageUrl:a,allowBlur:!u||!t}))},[n,s,r.entityID,i.entityID,u]),Object(g.useEffect)(()=>{if(!s||!p)return;const e=s.grandparentTheme||s.parentTheme||s.theme;n(Object(aa.b)({serverEntityID:i.entityID,providerEntityID:r.entityID,theme:e}))},[n,s,p,r.entityID,i.entityID]),Object(g.useEffect)(()=>{if(s&&s.librarySectionID)return n(Object(Tt.changeQuickSearchSettings)({serverEntityID:i.entityID,providerEntityID:r.entityID,providerIdentifier:r.identifier,directoryID:s.librarySectionID})),()=>{n(Object(Tt.changeQuickSearchSettings)({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}},[n,s,r.entityID,r.identifier,t,i.entityID]),Object(g.useEffect)(()=>{s&&m&&n(Object(Fs.redispatchLegacyMetadataAction)({server:i,provider:r,metadataItem:s,metadataItemState:d,legacyAction:gC()}))},[n,m,s,d,r,i]),y.a.createElement($t,{machineIdentifier:e,providerIdentifier:t,contentDirectoryID:null==c?void 0:c.id},y.a.createElement(ca,{allowBackgroundPreset:!1,scrollDirection:Ie.None},y.a.createElement(J8,null),y.a.createElement(H8,null)))}function e9(){const{machineIdentifier:e,providerIdentifier:t}=Wk(),a=Object(Me.a)(),n=Object(Qk.a)(a.key);return y.a.createElement(aR,{machineIdentifier:e,providerIdentifier:t},n?y.a.createElement(Et.a,{metricsPage:It.eb,metricsContextParam:Object(Qk.a)(a.context)},y.a.createElement($8,{machineIdentifier:e,providerIdentifier:t,metadataKey:n})):y.a.createElement(QP.a,null))}var t9=function(e){const{children:t,hasProvider:a,showSpinner:n,showError:i,...r}=e;if(n)return y.a.createElement(qk.a,null,y.a.createElement(HO.a,null));if(i)return y.a.createElement(Zk.a,{title:Object(Ce.default)("There was an unexpected error")});if(!a)return y.a.createElement(QP.a,null);const s=y.a.Children.only(t);return y.a.cloneElement(s,r)};const a9={dispatchFetchProvider:ZI,dispatchPopulateProvider:XI};class n9 extends g.Component{constructor(){super(...arguments),this.onPopulate=({serverEntityID:e,providerEntityID:t})=>{Object(Dt.a)(()=>{this.props.dispatchPopulateProvider({providerEntityID:t,options:{merge:!0}})})},this.onRepopulate=({serverEntityID:e,providerEntityID:t})=>{Object(Dt.a)(()=>{this.props.dispatchFetchProvider({providerEntityID:t,options:{merge:!0}})})}}componentDidMount(){this.props.isProvidersPopulated&&this.onPopulate({providerEntityID:this.props.providerEntityID})}componentWillReceiveProps(e){e.providerEntityID===this.props.providerEntityID&&e.isProvidersPopulated===this.props.isProvidersPopulated||this.onRepopulate({providerEntityID:e.providerEntityID})}render(){const{dispatchFetchProvider:e,dispatchPopulateProvider:t,...a}=this.props;return y.a.createElement(t9,{...a,onRetry:this.onRepopulate})}}var i9=Object(v.b)((function(){return Object(he.a)(Object(xI.a)(),e=>e?{isProvidersPopulated:!0,hasProvider:!0,providerEntityID:e.entityID,isRetrying:!!e.isPending,showSpinner:!e.isPopulated&&!e.error,showError:!!e.error}:{isProvidersPopulated:!1,hasProvider:!1,isRetrying:!0,showSpinner:!0,showError:!1})}),a9)(n9),r9=a("VFN/"),s9=a.n(r9);function o9({children:e,className:t,metricsPage:a,metricsPane:n,scrollTop:i,onScrollPositionChange:r}){return y.a.createElement(UO.a,{metricsPage:a,metricsProperties:{pane:n},scrollTop:i,onScrollPositionChange:r},y.a.createElement("div",{className:t},e))}o9.defaultProps={className:s9.a.content};var l9=o9,c9=a("h7fT"),d9=a.n(c9);function u9(e){return y.a.createElement("h2",{className:e.className},e.children)}u9.defaultProps={className:d9.a.header};var p9=u9,m9=a("CXxV"),h9=a("HamW");function g9(e,t){return e?e.split("|").map(e=>{const[a,n]=e.split(":");return["int"===t?parseInt(a,10):a,n]}):null}function y9(e,t){var a;return null==(a=g9(e,t))?void 0:a.map(([e,t])=>({[e]:t}))}function f9(e){var t;const a=b9(e),n=null==(t=g9(e.enumValues,e.type))?void 0:t.find(([e])=>e===a);return n?n[1]:null}function b9(e){var t;return null!=(t=e.value)?t:e.defaultValue}var v9=a("BoiH"),I9=a("Bw3N"),S9=a("6N1R"),E9=a("8HKk"),O9=a("xyiB"),M9=a("p2t2"),C9=a.n(M9);const j9=Object(O9.a)(v9.a);var D9=function(e){const{labelText:t,helpText:a,options:n}=e;return y.a.createElement(I9.a,null,y.a.createElement(E9.a,null,t),a?y.a.createElement(S9.a,{className:C9.a.help},a):null,y.a.createElement("div",{className:C9.a.multiSelectContainer},n.map(e=>y.a.createElement("div",{key:e.key,className:C9.a.multiSelectItem},y.a.createElement(j9,{name:e.key,checkboxText:e.title,initialValue:e.selected})))))},P9=a("f90G"),T9=a("FpO7"),w9=a("z07K"),N9=a.n(w9);class x9 extends g.Component{constructor(){super(...arguments),this.setInputRef=e=>{this.inputRef=e},this.onChange=e=>{this.textMaskInputElement.update(),this.props.onChange(this.textMaskInputElement.state.previousConformedValue)}}componentDidMount(){const{value:e}=this.props,{mask:t,guide:a,pipe:n,placeholderChar:i,keepCharPositions:r}=this.props;this.textMaskInputElement=Object(T9.createTextMaskInputElement)({inputElement:this.inputRef,mask:t,guide:a,pipe:n,placeholderChar:i,keepCharPositions:r}),this.textMaskInputElement.update(e)}componentDidUpdate(){this.textMaskInputElement.update(this.props.value)}render(){const{className:e,errorClassName:t,disabledClassName:a,isDisabled:n,type:i,name:r,initialValue:s,value:o,size:l,mask:c,guide:d,pipe:u,placeholderChar:p,keepCharPositions:m,hasError:h,errors:g,validations:f,onChange:b,...v}=this.props;return y.a.createElement("input",{...v,className:Pe()(e,N9.a[l],n&&a,h&&t),id:r,name:r,type:i,disabled:n,defaultValue:o,ref:this.setInputRef,onChange:this.onChange})}}x9.defaultProps={className:N9.a.input,errorClassName:N9.a.hasError,disabledClassName:N9.a.isDisabled,isDisabled:!1,size:cc.a,type:"text",hasError:!1};var A9=x9,L9=a("N6gl"),k9=a.n(L9);class R9 extends g.Component{constructor(e,t){super(e,t),this.onCountryChange=e=>{const t=this._calculateLocationState(e,this.state.postalCode,this.props.countries);this.setState(t,()=>{this.props.onChange({country:t.country,postalCode:t.postalCode})})},this.onPostalCodeChange=e=>{this.setState({postalCode:e},()=>{this.props.onChange({country:this.state.country,postalCode:e})})},this.state=this._calculateLocationState(e.initialValue.country,e.initialValue.postalCode,e.countries)}componentWillReceiveProps(e){const t=this.state.country!==e.value.country,a=this.state.postalCode!==e.value.postalCode;if(this.props.countries!==e.countries||t||a){const t=this._calculateLocationState(e.value.country,e.value.postalCode,e.countries);this.setState(t)}}_getCountryOption(e,t){return t.find(t=>t.code===e)}_countryHasPostalCode(e,t){const a=this._getCountryOption(e,t);return a&&"postalcode"===a.flavor}_calculateLocationState(e,t,a){return{country:e,postalCode:this._countryHasPostalCode(e,a)&&t?t:""}}_getSelectInputValues(e){return e.map(e=>({[e.code]:e.title}))}_getPostalCodeMask(e,t){const a=this._getCountryOption(e,t).postalCodeFormat;return a?M.a.map(a,e=>"N"===e?/\d/:/\./):[]}render(){const{labelText:e,helpText:t,countries:a,showErrors:n,errors:i,onBlur:r}=this.props,{country:s,postalCode:o}=this.state,[l]=i,c=0===a.length,d=this._countryHasPostalCode(s,a);return y.a.createElement(I9.a,null,y.a.createElement(E9.a,{name:"country"},e),t?y.a.createElement(S9.a,{className:k9.a.help},t):null,y.a.createElement(XJ.a,{name:"country",value:s,values:this._getSelectInputValues(a),isDisabled:c,onChange:this.onCountryChange}),d?y.a.createElement(E9.a,{name:"postalCode",hasError:n,className:k9.a.secondaryLabel},Object(Ce.default)("Postal Code"),n&&l?" — "+l:null):null,d?y.a.createElement(A9,{mask:this._getPostalCodeMask(s,a),name:"postalCode",value:o,isDisabled:c,hasError:n,onBlur:r,onChange:this.onPostalCodeChange}):null)}}var z9=Object(O9.a)(R9),U9=a("VCJj");const V9=[function(e){if(e.postalCode&&!/^\d{5}$/.test(e.postalCode))return Object(Ce.default)("Postal Code is not in correct format")}],B9={playbackSpeed:U9.a};var F9=function e(t){const{id:a,type:n,multiselect:i,label:r,summary:s,country:o,locations:l,postalCode:c,value:d,options:u,enumValues:p,settings:m,parentSetting:h}=t;return a===Tj.b?y.a.createElement(m9.a,{name:a,checkboxText:Object(Ce.default)("Display the last 3 accessed channels in Guide"),checkedValue:3,uncheckedValue:0,initialValue:d}):"group"===n?y.a.createElement("div",null,m.map(a=>a.hidden?null:y.a.createElement(e,{key:a.id,...a,parentSetting:t}))):"bool"===n?y.a.createElement(m9.a,{name:a,labelText:h&&h.label||r,checkboxText:r,helpText:s,initialValue:d}):"double"===n?y.a.createElement(P9.a,{name:a,labelText:r,min:t.min,max:t.max,stepSize:t.step,initialValue:d,valueModifier:B9[a]}):"location"===n?y.a.createElement(z9,{name:a,labelText:r,helpText:s,initialValue:{country:o,postalCode:c},validations:V9,countries:l}):"select"===n&&i?y.a.createElement(D9,{labelText:r,helpText:s,options:u}):p?y.a.createElement(h9.a,{name:a,labelText:r,helpText:s,initialValue:d,values:y9(p,n)}):(C.a.warn("Unsupported provider setting type:[%s]",n),null)},H9=a("hOze"),_9=a("1MJM"),W9=a.n(_9);function Q9(e){const{children:t,className:a,onPress:n}=e;return y.a.createElement(jI.a,{className:Pe()(W9.a.sectionWrapper,a),component:"div",onPress:n},t)}function G9(e){const{children:t,className:a}=e;return y.a.createElement("div",{className:Pe()(W9.a.sectionWrapper,a)},t)}var K9=function(e){const{errorMessage:t,children:a,className:n,onPress:i}=e,r=i?Q9:G9;return y.a.createElement(r,{className:n,onPress:i},t?y.a.createElement(OL.a,{errorMessage:t}):null,y.a.createElement("div",{className:W9.a.section},a))},Y9=a("x9uD"),q9=a.n(Y9);function Z9(e){const{children:t,className:a}=e;return y.a.createElement("div",{className:a},t)}Z9.defaultProps={className:q9.a.actionLinks};var X9=Z9,J9=a("UT02"),$9=a.n(J9);var e7=function(e){const{children:t,className:a,closedNode:n,errorMessage:i,isOpen:r,onTogglePress:s}=e;return y.a.createElement(K9,{className:Pe()(r?$9.a.isOpen:$9.a.isClosed,a),errorMessage:r?i:null,onPress:r?null:s},y.a.createElement(X9,null,r?y.a.createElement(jI.a,{kind:ao.d,onPress:s},Object(Ce.default)("Cancel")):null,r?null:y.a.createElement(jI.a,{kind:ao.d},Object(Ce.default)("Edit"))),r?t:n)},t7=a("R/D4"),a7=a.n(t7);function n7(e){const{className:t,children:a}=e;return y.a.createElement("div",{className:t},a)}n7.defaultProps={className:a7.a.sectionDetails};var i7=n7,r7=a("m97E"),s7=a.n(r7);function o7(e){const{className:t,children:a,closedNode:n,title:i,errorMessage:r,buttonKind:s,buttonText:o,isDirty:l,isOpen:c,isUpdating:d,showButton:u,showButtonEnabled:p,showSpinner:m,onFormChange:h,onSubmit:g,onTogglePress:f}=e;return y.a.createElement(e7,{className:t,isOpen:c,errorMessage:r,closedNode:y.a.createElement(i7,{className:s7.a.sectionDetails},y.a.createElement(E9.a,{className:s7.a.label},i),n),onTogglePress:f},m?y.a.createElement(E9.a,{className:s7.a.label},i):null,m?y.a.createElement("div",{className:s7.a.spinnerContainer},y.a.createElement(HO.a,null)):null,!m&&u?y.a.createElement(H9.b,{onSubmit:g,onChange:h},a,y.a.createElement("div",{className:s7.a.submitButton},y.a.createElement(bL.a,{type:"submit",isDisabled:!p&&!l,isSpinning:d,kind:s},o||Object(Ce.default)("Save Changes")))):null,m||u?null:a)}o7.defaultProps={buttonKind:ao.d,showButton:!0,showButtonEnabled:!1};var l7=ML(o7,{isUpdatingPropName:"isUpdating",errorPropName:"errorMessage",clearDirtyOnChangePropName:"isOpen"});var c7=function(e){const{setting:t,...a}=e;return y.a.createElement(l7,{...a,closedNode:f9(t),initialValue:b9(t)})};var d7=function(e){const{setting:t,...a}=e;return y.a.createElement(l7,{closedNode:t.summary,...a})};function u7(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-eye-closed-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["g",void 0].concat([y.a.createElement.apply(y.a,["path",{d:"M522.454 280c-56.558 79.108-145.66 125.848-241.414 125.848-95.82 0-184.9884-46.756-241.5154-125.848H1l3.1852 4.958C65.863 381.112 169.368 438.512 281.034 438.512c111.642 0 215.126-57.4 276.788-153.578L561 280h-38.546z"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"M269.018 436.36V520h29.56v-83.64zM383.556 414.76l34.616 83.904 27.21-11.884-34.616-83.906zM480.352 361.564l54.132 71.284 23.294-18.728-54.132-71.284zM154.4628 402.434l-31.0532 87.792 27.7794 10.4 31.053-87.79zM62.8262 345.216L8.3388 416.972l23.2936 18.726 54.4874-71.754z"}].concat([]))]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}u7.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var p7=u7;function m7(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-eye-open-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["g",void 0].concat([y.a.createElement.apply(y.a,["path",{d:"M556.022 268.128C550.718 261.908 431.676 120 280.22 120 128.766 120 9.7238 261.908 4.4198 268.128c-5.893 6.784-5.893 16.394 0 23.744C9.7238 298.092 128.766 440 280.22 440c151.456 0 270.498-142.474 275.802-148.128 5.304-6.784 5.304-16.96 0-23.744zM280.22 386.29c-61.288 0-110.79-47.492-110.79-106.29 0-58.798 49.502-106.29 110.79-106.29 61.29 0 110.792 47.492 110.792 106.29 0 58.798-49.502 106.29-110.792 106.29z"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"M280.224 344.452c37.102 0 67.182-28.856 67.182-64.452s-30.08-64.454-67.182-64.454c-37.104 0-67.184 28.858-67.184 64.454 0 35.596 30.08 64.452 67.184 64.452z"}].concat([]))]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}m7.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var h7=m7,g7=a("HiPX"),y7=a.n(g7);function f7(e){const{serverEntityID:t,providerEntityID:a,className:n,channelID:i,title:r,thumb:s,style:o,hidden:l,connectDragSource:c,onToggleHideChannel:d}=e,u=Object(g.useCallback)(()=>{d&&d(i)},[i,d]),p=l?Object(Ce.default)("Show"):Object(Ce.default)("Hide");return y.a.createElement("div",{className:Pe()(n,l&&y7.a.isHidden),style:o},c(y.a.createElement("div",null,y.a.createElement(JT,{className:y7.a.iconReorder}))),y.a.createElement(ot.a,{serverEntityID:t,providerEntityID:a,className:y7.a.thumb,url:s,width:36,height:36,backgroundSize:"contain"}),y.a.createElement("span",{className:y7.a.label},y.a.createElement("span",{className:y7.a.title},r)),y.a.createElement(Dm.a,{className:y7.a.toggleButton,component:ZO.a,iconComponent:l?p7:h7,ariaLabel:p,tooltip:p,onPress:u}))}f7.defaultProps={className:y7.a.item,connectDragSource:e=>e};var b7=f7;const v7=parseInt(yu.a.lineupSettingChannelHeight,10);class I7 extends g.Component{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const{listHeight:a,listWidth:n,listTop:i,listRight:r,listBottom:s,listLeft:o,...l}=e;return y.a.createElement(QT,null,y.a.createElement(b7,{...l,style:t}))}}var S7=Object(FT.DragLayer)((function(e){const t=e.getItem(),a={item:t,style:null},n=e.getInitialSourceClientOffset(),i=e.getSourceClientOffset();if("LINEUP_CHANNEL"===e.getItemType()&&n&&i){let e=i.y;e-t.listTop<=0?e=t.listTop:e+v7>=t.listBottom&&(e=t.listBottom-v7),a.style=xz({x:n.x,y:e},t.listWidth)}return a}))(I7),E7=a("NDU1"),O7=a.n(E7);const M7={beginDrag(e){const{channelID:t,serverEntityID:a,providerEntityID:n,title:i,thumb:r,hidden:s,listIndex:o,listHeight:l,listWidth:c,listTop:d,listRight:u,listBottom:p,listLeft:m}=e;return{dragIndex:o,channelID:t,serverEntityID:a,providerEntityID:n,title:i,thumb:r,hidden:s,listHeight:l,listWidth:c,listTop:d,listRight:u,listBottom:p,listLeft:m}},endDrag(e,t){e.onItemDragEnd({didDrop:t.didDrop()})}},C7={hover(e,t,a){const n=t.getClientOffset(),i=Object(f.findDOMNode)(a).getBoundingClientRect(),r=(i.bottom-i.top)/2,s=n.y-i.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:s>r?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};class j7 extends g.Component{componentDidMount(){this.props.connectDragPreview(Object(bw.getEmptyImage)())}render(){const{isOver:e,isDragging:t,listIndex:a,dropIndex:n,listHeight:i,listWidth:r,listTop:s,listRight:o,listBottom:l,listLeft:c,isDraggingBefore:d,isDraggingAfter:u,connectDropTarget:p,...m}=this.props;return p(y.a.createElement("div",{className:Pe()(O7.a.container,e&&O7.a.isOver,t&&ua.c,e&&d&&ua.e,e&&u&&ua.d)},y.a.createElement(b7,{...m})))}}var D7=Object(FT.DropTarget)("LINEUP_CHANNEL",C7,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(FT.DragSource)("LINEUP_CHANNEL",M7,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(j7)),P7=a("pQgm"),T7=a.n(P7);const w7={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};class N7 extends g.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:a}=e,{dragIndex:n,dropIndex:i}=this.state;let r=a!==i?a:i;const s=t!==n?t:n;if((r===s||r>s&&r-s==1)&&(r=-1),s!==n||r!==i){const e={dragIndex:s,dropIndex:r,hasValidDropTarget:-1!==r};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:a}=this.state;let n;e.didDrop&&-1!==a&&(n=()=>{this.props.onReorderChannel({fromIndex:t,toIndex:a>t?a-1:a})}),this.setState(w7,n)},this.onMeasure=e=>{const{height:t,width:a,x:n,y:i}=e;this.setState({listHeight:t,listWidth:a,listTop:i,listRight:n+a,listBottom:i+t,listLeft:n})},this.state={...w7,listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0}}render(){const{serverEntityID:e,providerEntityID:t,lineup:a,onToggleHideChannel:n}=this.props,{dropIndex:i,hasValidDropTarget:r}=this.state;return y.a.createElement(VO.a,{onMeasure:this.onMeasure},y.a.createElement(XD.a,{className:T7.a.scroller,scrollDirection:iv.c},a.map((a,s)=>{const{id:o,title:l,thumb:c,hidden:d}=a,u=s,p=r&&i===u,m=r&&i===u+1;return y.a.createElement(D7,{...this.state,key:o,serverEntityID:e,providerEntityID:t,channelID:o,listIndex:u,title:l,thumb:c,hidden:d,hasValidDropTarget:r,isDraggingAfter:m,isDraggingBefore:p,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,onToggleHideChannel:n})}),y.a.createElement(S7,null)))}}var x7=wx(N7),A7=a("K5wW"),L7=a.n(A7);var k7=function(e){const{serverEntityID:t,providerEntityID:a,setting:n,onTogglePress:i,onSubmit:r,...s}=e,{summary:o,lineup:l,isLineupPending:c}=n,[d,u]=Object(g.useState)(l),[p,m]=Object(g.useState)(!1),h=Object(g.useCallback)(e=>{m(!0),u(d.map(t=>t.id===e?{...t,hidden:!t.hidden}:t))},[d]),f=Object(g.useCallback)(({fromIndex:e,toIndex:t})=>{e!==t&&(m(!0),u(dz(d,e,t)))},[d]),b=Object(g.useCallback)(e=>{u(l),i(e)},[l,i]),v=Object(g.useCallback)(()=>{const e=d.map(({id:e,hidden:t})=>({id:e,hidden:t}));r(e)},[d,r]);return Object(g.useEffect)(()=>{c||u(l)},[c,l]),y.a.createElement(l7,{...s,closedNode:o,showSpinner:c,isDirty:p,onSubmit:v,onTogglePress:b},y.a.createElement(S9.a,{className:L7.a.help},o),y.a.createElement(x7,{serverEntityID:t,providerEntityID:a,lineup:d,onReorderChannel:f,onToggleHideChannel:h}))};class R7 extends g.Component{constructor(){super(...arguments),this.onSubmit=e=>{const{location:t}=e;this.props.onSubmit(t)}}_getCountryPostalCodeLabel(e,t){const a=[];return e?(a.push(e),t&&a.push(t),a.join(", ")):""}render(){const{setting:e,...t}=this.props;return y.a.createElement(l7,{closedNode:this._getCountryPostalCodeLabel(e.countryLabel,e.postalCode),showSpinner:e.isLocationsPending,...t,onSubmit:this.onSubmit})}}var z7=R7;var U7=function(e){const{setting:t,...a}=e;return y.a.createElement(l7,{closedNode:Object(Ce.default)("{1} selected",t.selectedCount),showSpinner:t.isOptionsPending,...a})};class V7 extends g.Component{constructor(){super(...arguments),this.onTogglePress=()=>{const{setting:{optionsError:e,locationsError:t,lineupError:a,id:n}}=this.props;this.props.onTogglePress(n),(e||t||a)&&this.props.onOptionsFetchErrorDismiss(n)},this.onSubmit=e=>{this.props.onUpdateSetting(this.props.setting.id,e)}}render(){const{setting:e}=this.props,{id:t,summary:a,optionsError:n,locationsError:i,lineupError:r,type:s,multiselect:o,enumValues:l,value:c}=e,{updateError:d,onUpdateSetting:u,onTogglePress:p,onOptionsFetchErrorDismiss:m,...h}=this.props,g=d?Object(Ce.default)("Unable to save settings"):null,f=n||i||r?Object(Ce.default)("There was an error loading the options"):g;return t===Tj.b?y.a.createElement(l7,{...h,title:Object(Ce.default)("Display the last 3 accessed channels in Guide"),closedNode:3===c?Object(Ce.default)("Enabled"):Object(Ce.default)("Disabled"),errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress}):"group"===s?y.a.createElement(d7,{...h,errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress}):"location"===s?y.a.createElement(z7,{...h,errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress}):"select"===s&&o?y.a.createElement(U7,{...h,errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress}):l?y.a.createElement(c7,{...h,errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress}):"lineup"===s?y.a.createElement(k7,{...h,setting:e,errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress}):"double"===s||"bool"===s?y.a.createElement(l7,{closedNode:a,...h,errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress}):(C.a.warn("Unsupported provider setting type:[%s]",s),null)}}var B7=V7;class F7 extends g.Component{constructor(e,t){super(e,t),this.onTogglePress=e=>{this.props.updateError&&this.props.onUpdateErrorDismiss(),this.state.openSettingID===e?this.setState({openSettingID:null}):(this.props.onSettingViewDetail(e),this.setState({openSettingID:e}))},this.state={openSettingID:null,isUpdatePendingFromStore:e.isUpdatePending}}static getDerivedStateFromProps(e,t){const a={isUpdatePendingFromStore:e.isUpdatePending};return!t.isUpdatePendingFromStore||e.isUpdatePending||e.updateError||(a.openSettingID=null),a}render(){const{serverEntityID:e,providerEntityID:t,providerTitle:a,showSpinner:n,settings:i,isUpdatePending:r,updateError:s,onUpdateSetting:o,onOptionsFetchErrorDismiss:l}=this.props,{openSettingID:c}=this.state;return n?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):y.a.createElement(l9,{metricsPage:It.fb,metricsPane:"settings"},y.a.createElement(p9,null,a,a?y.a.createElement(Hi.b,null):null,Object(Ce.default)("Personalize")),i.map(a=>a.hidden?null:y.a.createElement(B7,{key:a.id,serverEntityID:e,providerEntityID:t,title:a.label,setting:a,isOpen:c===a.id,isUpdating:r,updateError:s,onTogglePress:this.onTogglePress,onUpdateSetting:o,onOptionsFetchErrorDismiss:l},y.a.createElement(F9,{...a}))))}}var H7=F7;const _7={dispatchFetchProviderSettings:wj,dispatchUpdateProviderSetting:Vj,dispatchClearProviderSettingUpdateError:Bj,dispatchClearProviderSettingFetchError:xj,dispatchPopulateSettingsOptions:Fj};class W7 extends g.Component{constructor(){super(...arguments),this.onUpdateErrorDismiss=()=>{this.props.dispatchClearProviderSettingUpdateError({providerEntityID:this.props.providerEntityID})},this.onOptionsFetchErrorDismiss=e=>{this.props.dispatchClearProviderSettingFetchError({providerEntityID:this.props.providerEntityID,settingID:e})},this.onUpdateSetting=(e,t)=>{this.props.dispatchUpdateProviderSetting({providerEntityID:this.props.providerEntityID,settingID:e,values:t})},this.onSettingViewDetail=e=>{this.props.dispatchPopulateSettingsOptions({providerEntityID:this.props.providerEntityID,settingID:e})}}componentDidMount(){const{providerEntityID:e}=this.props;this.props.dispatchFetchProviderSettings({providerEntityID:e})}render(){return y.a.createElement(H7,{serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerTitle:this.props.providerTitle,showSpinner:this.props.isSettingsPending,settings:this.props.settings,isUpdatePending:this.props.isUpdatePending,updateError:this.props.updateError,onSettingViewDetail:this.onSettingViewDetail,onUpdateErrorDismiss:this.onUpdateErrorDismiss,onOptionsFetchErrorDismiss:this.onOptionsFetchErrorDismiss,onUpdateSetting:this.onUpdateSetting})}}var Q7=Object(v.b)((function(){return Object(he.a)(Object(xI.a)(),SO(nS.p),e=>e.ui.providerSettingsPage,(e,t,a)=>({providerEntityID:e.entityID,providerTitle:e.title,settings:t.settings,isSettingsPending:t.isSettingsPending,isUpdatePending:a.isUpdatePending,updateError:a.updateError}))}),_7)(W7);function G7(){const{machineIdentifier:e,providerIdentifier:t}=Wk(),a=Object(jt.a)(wt.SERVER,e),n=Object(jt.a)(wt.PROVIDER,t,a);return y.a.createElement(i9,{serverEntityID:a,providerEntityID:n},y.a.createElement(Q7,{providerEntityID:n}))}var K7=a("1CqU"),Y7=a("e/b/");var q7=K7.a.extend({idAttribute:"key",whitelistedAttrs:["key","name","defaultAudioLanguage","autoSelectAudio","defaultSubtitleLanguage","subtitleMode"],url:function(){return this.get("key")},convert:function(e){let t=M.a.isObject(e)?e:Y7.a.parseXML(e);return t.Account&&(t=t.Account),Y7.a.parseBoolean(t,"autoSelectAudio"),t},parse:function(e){let t=this.convert(e);return t=M.a.pick(t,this.whitelistedAttrs),t}}),Z7=a("Gu3x");function X7(e){return Object(jt.a)(fo.k,qr.d,e)}var J7=a("Ed4x"),$7=a("XmNb"),eee=a("DgQC"),tee=a("j9Wk"),aee=K7.a.extend({idAttribute:"playQueueID",whitelistedAttrs:["playQueueID","playQueueSelectedItemID","playQueueSelectedItemOffset","playQueueSelectedMetadataItemID","playQueueLastAddedItemID","playQueueShuffled","playQueueSourceURI","playQueueTotalCount","playQueueVersion","message"],defaults:{selectedItem:null,mediaType:null,owned:!0,hasUserAdditions:!1,playQueueVersion:0},metadataElementNames:["Directory","Video","Track","Photo","Hub"],url:function(){return"/playQueues/"+this.id},initialize:function(){this.listenTo(this,"change:message",this.onMessageChange)},_fetch:function(){var e=M.a.result(this,"url");return this._ajax("GET",e)},convert:function(e){var t=M.a.isObject(e)?e:Y7.a.parseXML(e);return Y7.a.parseBoolean(t,"playQueueShuffled"),Y7.a.parseInteger(t,["playQueueSelectedItemOffset","playQueueTotalCount","playQueueVersion"]),Y7.a.parseArray(t,"Metadata"),t},parse:function(e,t){M.a.isString(e)&&(e=Y7.a.replaceXMLElementNames(e,this.metadataElementNames,"Metadata"));var a=this.convert(e);a.id&&(a.playQueueID=a.id);var n=M.a.pick(a,this.whitelistedAttrs);return this.set(n,{silent:!0}),this.pendingChanges=this.changed,this.parseItems(a),n},parseItems:function(e){var t=this.get("collection"),a=e.Metadata,n=!!a.length,i=M.a.pluck(a,"playQueueItemID").indexOf(e.playQueueSelectedItemID),r=e.playQueueSelectedItemOffset-i;M.a.each(a,(function(t,a){t.queueIndex=r+a,e.identifier&&(t.identifier=e.identifier),e.mediaTagPrefix&&(t.mediaTagPrefix=e.mediaTagPrefix),e.mediaTagVersion&&(t.mediaTagVersion=e.mediaTagVersion)})),t?t.set(a,{parse:n}):(t=new tee.a(a,{server:this.server,parent:this,parse:n}),this.set("collection",t)),t.totalSize=e.playQueueTotalCount,t.availableRange={start:r,end:r+t.length}},moveItem:function(e,t){if(e===this.get("playQueueSelectedItemID"))return h.a.Deferred().resolve().promise();this.set("hasUserAdditions",!0);var a={after:t||-1},n=j.default.join([M.a.result(this,"url"),"/items/",e,"/move"],a);return this._ajax("PUT",n)},getUpNextRange:function(){var e=this.get("collection"),t=e.get(this.get("playQueueSelectedItemID")),a=e.indexOf(t),n=Math.max(a,0),i=n,r=this.get("playQueueLastAddedItemID");if(null!=r){var s=e.get(r),o=e.indexOf(s);o>n&&(i=o)}return{start:n,end:i}},getCurrentItem:function(){var e=this.get("playQueueSelectedItemID");return this.get("collection").findWhere({playQueueItemID:e})||null},_ajax:function(e,t){var a=M.a.extend(this.server.getXHROptions(t),{type:e}),n=h.a.ajax(a);return n.done(M.a.bind((function(e){this.set(this.parse(e)),M.a.isEmpty(this.pendingChanges)||(M.a.each(this.pendingChanges,(function(e,t){this.trigger("change:"+t,this,e)}),this),this.trigger("change",this),this.pendingChanges=null),this.set("selectedItem",this.getCurrentItem())}),this)),n.promise()},onMessageChange:function(e,t){t&&$.a.trigger("show:alert",{type:"error",message:t})}}),nee=$7.a.extend({model:aee,url:"/playQueues?type="+eee.a.LOCAL,parse:function(e){return this.convert(e,"PlayQueue")}});function iee(e){return Object(VE.a)("web-client","settings",e)}function ree(e,t,a){return Object(VE.a)("server",e,t,a)}var see=a("XcGM");var oee=p.a.Layout.extend({template:()=>"",mountReact(){const e=Object(E.c)("appStore");b.a.render(y.a.createElement(v.a,{store:e},this.component(this.options)),this.el)},unmountReact(){this.isRendered&&b.a.unmountComponentAtNode(this.el)},onBeforeRender(){this.unmountReact()},onRender(){this.mountReact()},onClose(){this.unmountReact()}}),lee=a("cR0X"),cee=a("PDl1"),dee=a.n(cee),uee=p.a.ItemView.extend({tagName:"li",className:"card-collapsed striped-list-item alert-list-item",template:dee.a,serializeData:function(){var e=Object(E.c)("appModel").get("user").get("experienceSettings"),t=this.model.toJSON(),a={serverID:this.model.server.id,itemKey:"/library/metadata/"+this.model.get("itemID"),event:t,escapedServerName:M.a.escape(this.model.server.get("friendlyName")),escapedEventLabel:M.a.escape(t.label),escapedEventValue:M.a.escape(t.value),escapedEventUsername:M.a.escape(t.username),escapedEventTitle:M.a.escape(t.title),escapedEventPlayer:M.a.escape(t.player),timeFormat:e.get("timeFormat")};if(t.label=M.a.escape(t.label),t.value=M.a.escape(t.value),"playing"===t._type&&(t.username=M.a.escape(t.username),t.title=M.a.escape(t.title),t.player=M.a.escape(t.player)),"timeline"===t._type)switch(t.mediaTitle=this.model.get("title")||"an item",this.model.get("state")){case 0:t.stateString=Object(Ce.default)("Created");break;case 1:t.stateString=Object(Ce.default)("Progress for");break;case 2:t.stateString=Object(Ce.default)("Matching");break;case 3:t.stateString=Object(Ce.default)("Downloading metadata for");break;case 4:t.stateString=Object(Ce.default)("Loading metadata for");break;case 5:t.stateString=Object(Ce.default)("Finished processing");break;case 6:t.stateString=Object(Ce.default)("Analyzing");break;case 9:t.stateString=Object(Ce.default)("Deleted")}return a}}),pee=lee.a.extend({tagName:"ul",className:"list card-list alert-list",itemView:uee,reversed:!0}),mee=a("8wkp"),hee=a.n(mee),gee=p.a.Layout.extend({className:"alerts-container",template:hee.a,ui:{pageCount:".page-count",previousBtn:".previous-btn",nextBtn:".next-btn"},regions:{serverDropdown:".filter-bar",list:".alert-list-container"},modelEvents:{"change:shared":"onSharedChange"},collectionEvents:{add:"onAlertAdd"},events:{"click .previous-btn":"onPreviousClick","click .next-btn":"onNextClick"},onlyAfterRender:["onAlertAdd"],initialize:function(){this.shared=this.model.get("shared"),this.page=1,this.listCollection=this.collection.clone(this.collection.page(this.page,{reverse:!0})),this.listCollection.stopListening()},serializeData:function(){var e=this.collection.pages();return{shared:this.shared,escapedPage:M.a.escape(this.page),escapedPages:M.a.escape(e),enablePrevious:this.page>1,enableNext:this.page<e}},updatePages:function(){var e=this.collection.pages();this.ui.pageCount.text(Object(Ce.default)("{1} of {2}",this.page,e)),this.ui.previousBtn.toggleClass("disabled",this.page<2),this.ui.nextBtn.toggleClass("disabled",this.page>=e)},updateList:function(){this.listCollection.reset(this.collection.page(this.page,{reverse:!0}))},onRender:function(){this.shared||this.list.append(new pee({collection:this.listCollection}))},onSharedChange:function(e,t){this.shared=t,this.render()},onAlertAdd:function(e,t){this.shared||(this.updatePages(),this.updateList())},onPreviousClick:function(e){e.preventDefault(),this.ui.previousBtn.isDisabled()||(this.page--,this.updatePages(),this.updateList())},onNextClick:function(e){e.preventDefault(),this.ui.nextBtn.isDisabled()||(this.page++,this.updatePages(),this.updateList())}}),yee=a("Khyo");var fee=J.a.extend({mixins:[ee.a],defaultFilterName:"__default",whitelistedEvents:["add","remove","reset","sort","destroy","sync","request","error"],blacklistedMethods:["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],constructor:function(e,t){this.superset=e,this._collection=new yee.c.Collection(e.toArray()),this._proxyCollection(this._collection),this.resetFilters(),this.listenTo(e,{add:this.onSupersetAdd,remove:this.onSupersetRemove,reset:this.onSupersetReset}),this.initialize(t)},_proxyCollection:function(e){this.models=e.models,this._proxyCollectionMethods(e),this._proxyCollectionLength(e),this._proxyCollectionEvents(e)},_proxyCollectionMethods:function(e){const t={};M.a.each(M.a.functions(yee.c.Collection.prototype),(function(a){M.a.contains(this.blacklistedMethods,a)||(t[a]=function(){return e[a].apply(e,arguments)})}),this),M.a.extend(this,t)},_proxyCollectionLength:function(e){const t=function(){this.length=e.length};this.listenTo(e,"all",t),t.call(this)},_proxyCollectionEvents:function(e){this.listenTo(e,"all",(function(t){const a=M.a.toArray(arguments),n="change"===t||"change:"===t.slice(0,7);"reset"===t&&(this.models=e.models),M.a.contains(this.whitelistedEvents,t)?(M.a.contains(["add","remove","destroy"],t)?a[2]=this:M.a.contains(["reset","sort"],t)&&(a[1]=this),this.trigger.apply(this,a)):n&&this.contains(a[1])&&this.trigger.apply(this,a)}))},addFilter:function(e,t){return t||(t=e,e=this.defaultFilterName),M.a.has(this._filters,e)&&this._invalidateCacheForFilter(e),this._filters[e]=this._createFilter(t),this._execFilters(),this.trigger("filtered:add",e),this},removeFilter:function(e){return e||(e=this.defaultFilterName),delete this._filters[e],this._invalidateCacheForFilter(e),this._execFilters(),this.trigger("filtered:remove",e),this},resetFilters:function(){return this._filters={},this._invalidateCache(),this._execFilters(),this.trigger("filtered:reset"),this},getFilters:function(){return M.a.keys(this._filters)},hasFilter:function(e){return M.a.contains(this.getFilters(),e)},refilter:function(e){return M.a.isObject(e)&&e.cid?this.onSupersetAdd(e):(this._invalidateCache(),this._execFilters()),this},destroy:function(){return this.stopListening(),this.superset=null,this._collection.reset([]),this.length=0,this.trigger("filtered:destroy"),this},_createFilter:function(e,t){if(M.a.isFunction(e))return e;throw new Error("Unsupported filter type")},_execFilters:function(e){e||(e={});let t=[];this.superset&&(t=this.superset.filter(M.a.bind(this._execFiltersOnModel,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length},_execFiltersOnModel:function(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});const t=this._filterResultCache[e.cid];for(const a in this._filters)if(M.a.has(this._filters,a)&&(M.a.has(t,a)||(t[a]=this._filters[a](e)),!t[a]))return!1;return!0},_invalidateCache:function(){this._filterResultCache={}},_invalidateCacheForFilter:function(e){for(const t in this._filterResultCache)M.a.has(this._filterResultCache,t)&&delete this._filterResultCache[t][e]},onSupersetAdd:function(e){if(this._filterResultCache[e.cid]={},this._execFiltersOnModel(e)){if(!this._collection.get(e.cid)){let t=0;for(let a=this.superset.indexOf(e)-1;a>=0;a-=1)if(this.contains(this.superset.at(a))){t=this.indexOf(this.superset.at(a))+1;break}this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length},onSupersetRemove:function(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length},onSupersetReset:function(){this._execFilters({reset:!0})}}).extend({initialize:function(e){this.playQueue=e.playQueue,this.includeSelectedItem=e.includeSelectedItem,this.addFilter(M.a.bind(this.filterUpNext,this)),this.listenForUpNextChanges()},listenForUpNextChanges:function(){const e=M.a.debounce(this.onPlayQueueChange);this.listenTo(this.playQueue,["change:playQueueSelectedItemID","change:playQueueLastAddedItemID"].join(" "),e),this.listenTo(this.playQueue.get("collection"),"change:queueIndex",e)},filterUpNext:function(e){const t=this.superset.indexOf(e),a=this.playQueue.getUpNextRange();let n=a.start;const i=a.end;return this.includeSelectedItem||(n+=1),t>=n&&t<=i},onPlayQueueChange:function(){this.refilter()}});var bee=fee.extend({initialize:function(e){this.playQueue=e.playQueue,this.addFilter(M.a.bind(this.filterAfterUpNext,this)),this.listenForUpNextChanges()},filterAfterUpNext:function(e){return this.superset.indexOf(e)>this.playQueue.getUpNextRange().end}}),vee=a("U/5H"),Iee=a.n(vee),See=a("vtVQ"),Eee=a("tqLa"),Oee=a("ziyK"),Mee=a("xd52"),Cee=a("Dq8X"),jee=a("nZd1");var Dee=Cee.a.extend({name:"SyncItemModel",context:["server","device"],urlRoot(){return`/devices/${this.device?this.device.get("clientIdentifier"):this.get("clientIdentifier")}/sync_items`},syncedAttrs:M.a.extend({},Cee.a.prototype.syncedAttrs,{version:{type:QE.a.integer,save:!0},metadataType:{type:QE.a.string,save:!0},rootTitle:{type:QE.a.string,save:!0},machineIdentifier:{type:QE.a.string,save:!0},Server:QE.a.object}),defaults:()=>({Location:{},Device:{},Server:{}}),augmentResponse:e=>("photoAlbum"===e.metadataType&&(e.metadataType="photoalbum"),e),sync(e,t,a){const n=jee.a.addVersionHeaderForDevice(this.device,a);return Cee.a.prototype.sync.call(this,e,t,n)},getSaveParams(e,t){const a=Cee.a.prototype.getSaveParams.apply(this,arguments).Item;return M.a.each(a,(function(e,t){""===e&&delete a[t]})),{SyncItem:a}}}),Pee=a("4QgX"),Tee=a.n(Pee),wee=p.a.ItemView.extend({className:"circle-progress",template:Tee.a,size:30,lineWidth:5,strokeColor:"#cc7b19",hasSize:!1,ui:{svg:".circle-progress-bar",svgCircle:".circle-progress-bar circle"},bindings:{".circle-progress-text":{modelAttribute:"text"}},modelEvents:{"change:progress":"onProgressChange"},initialize:function(e){this.size=e.size||this.size,this.lineWidth=e.lineWidth||this.lineWidth,this.strokeColor=e.strokeColor||this.strokeColor,this.size&&(this.$el.width(this.size),this.$el.height(this.size))},drawProgressBar:function(){var e=this.size,t=e/2,a=t-this.lineWidth,n=Math.PI*(2*a);this.hasSize||(this.ui.svg.attr("width",e),this.ui.svg.attr("height",e),this.ui.svgCircle.attr("r",a),this.ui.svgCircle.attr("cx",t),this.ui.svgCircle.attr("cy",t),this.ui.svgCircle.attr("stroke-dasharray",n),this.ui.svgCircle.css("stroke-width",this.lineWidth),this.ui.svgCircle.css("stroke",this.strokeColor),this.hasSize=!0);var i=(100-this.model.get("progress"))/100*n;this.ui.svgCircle.css("stroke-dashoffset",i)},onRender:function(){this.drawProgressBar()},onProgressChange:function(){this.drawProgressBar()}}),Nee=a("nWaN"),xee=a.n(Nee),Aee=p.a.Layout.extend({mixins:[te.a],className:"conversion-status",template:xee.a,regions:{progressBarRegion:".progress-bar-region"},initialize:function(e){this.initialState=e.initialState,this.initialErrorMessage=e.initialErrorMessage,this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.progressModel=new yee.c.Model({progress:0,remaining:0,speed:0})},states:{pending:{onEnter:function(){this.$el.addClass("pending")},onExit:function(){this.$el.removeClass("pending")}},converting:{onEnter:function(){this.$el.addClass("converting")},onExit:function(){this.$el.removeClass("converting")}},processed:{onEnter:function(){this.$el.addClass("processed")},onExit:function(){this.$el.removeClass("processed")}},disabled:{onEnter:function(){this.$el.addClass("disabled")},onExit:function(){this.$el.removeClass("disabled")}},error:{onEnter:function(){this.$el.addClass("error")},onExit:function(){this.$el.removeClass("error")}}},bindingsModel:"progressModel",bindings:{".conversion-status-converting-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?Object(Ce.default)("Paused"):Object(Ce.default)("Converting")}},".conversion-status-pending-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?Object(Ce.default)("Paused"):Object(Ce.default)("Waiting")}},".conversion-status-converting-speed":{modelAttribute:"speed",autohide:!0,formatter:function(e){if(e){var t=Math.round(10*e)/10;return t>10&&(t=Math.round(t)),"("+t+"x)"}}},".conversion-status-converting-percentage":{modelAttribute:"progress",formatter:function(e){return Math.round(e)+"%"}},".conversion-status-converting-progress-separator":{modelAttribute:"remaining",manual:!0,autohide:function(e){return e&&this.progressModel.get("speed")}},".conversion-status-converting-remaining":{modelAttribute:"remaining",autohide:!0,formatter:function(e){if(this.progressModel.get("speed"))return jn(e)}}},serializeData:function(){return{initialErrorMessage:this.initialErrorMessage}},findTranscodeJob:function(){return this.transcodeJob=this.transcodeJobs.find((function(e){var t=this.model.get("ratingKey"),a=this.generator?this.generator.id:this.model.get("generatorID"),n=this.model.get("syncItemId"),i=t&&t===e.get("ratingKey"),r=a&&a===e.get("generatorID"),s=n&&n===e.get("syncItemId");return i&&(r||s)}),this),this.transcodeJob&&(this.stopListening(this.transcodeJobs),this.enterState("converting"),this.progressModel.set({progress:this.transcodeJob.get("progress"),speed:this.transcodeJob.get("speed"),remaining:this.transcodeJob.get("remaining")}),this.listenTo(this.transcodeJob,{remove:this.onTranscodeJobRemove,"change:progress":this.onTranscodeProgressChange,"change:speed":this.onTranscodeSpeedChange,"change:remaining":this.onTranscodeRemainingChange})),this.transcodeJob},onRender:function(){this.enterState(this.initialState||"pending"),this.findTranscodeJob()||this.listenTo(this.transcodeJobs,"reset add",this.findTranscodeJob),this.progressBarRegion.append(new wee({model:this.progressModel,size:30,lineWidth:3}))},onTranscodeJobRemove:function(e){this.enterState("pending")},onTranscodeProgressChange:function(e,t){this.progressModel.set("progress",t)},onTranscodeSpeedChange:function(e,t){this.progressModel.set("speed",t)},onTranscodeRemainingChange:function(e,t){this.progressModel.set("remaining",t)}}),Lee=a("zjrX"),kee=a.n(Lee),Ree=p.a.Layout.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:kee.a,ui:{poster:".media-poster"},events:{"click .promote-btn":"onPromoteClick","click .delete-btn":"onDeleteClick"},regions:{statusRegion:".conversion-status-region"},attributes:function(){return{"data-queue-item-id":this.model.id}},initialize:function(e){this.metadataItem=e.model.get("metadataItem"),this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.hideDragHandle=e.hideDragHandle,this.type=this.metadataItem.get("type");var t=Oee.a[this.type];"movie"===this.type&&(t=Oee.a.art);var a="episode"===this.type?"show":this.type;this.image=new Mee.a({model:this.metadataItem,type:a,placeholderClass:t,height:60,modelAttribute:"thumb",getUrl:this.getPosterUrl})},bindings:{".generator-title":{model:"metadataItem",modelAttribute:"title",formatter:function(e){return Eee.a.title(this.metadataItem)}},".generator-target":{modelAttribute:"target",formatter:function(e){return this.model.get("syncItemId")?Object(Ce.default)("Sync"):e}},".sortable-handle":{model:"playQueue",modelAttribute:"playQueueSelectedItemID",manual:!0,autohide:function(e){return this.model.get("playQueueItemID")!==e}},".promote-btn":{modelAttribute:"queueIndex",manual:!0,autohide:function(e){var t=this.playQueue.getCurrentItem();return this.hideDragHandle||e-t.get("queueIndex")>1}}},serializeData:function(){return{hideDragHandle:this.hideDragHandle}},getPosterUrl:function(e){return"episode"===this.model.get("type")&&(this.model.get("grandparentThumb")||this.model.get("parentThumb"))||e},deleteSyncItem:function(){var e=E.c("appModel"),t=new Dee({id:this.model.get("syncItemId"),clientIdentifier:this.model.get("clientIdentifier")},{server:e.get("user").server});return See.a.execute("deleteSyncItem",{syncItem:t,server:this.model.server})},deleteGenerator:function(){var e=new Cee.a({id:this.model.get("generatorID")},{server:this.model.server,playlistID:this.metadataItem.get("playlistID")});return See.a.execute("disableVersionGenerator",{generator:e,ratingKey:this.metadataItem.get("ratingKey")})},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new Aee({model:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onClose:function(){this.image.close()},onCollectionSort:function(e){this.trigger("sort")},onPromoteClick:function(e){e.preventDefault();var t=this.playQueue.get("collection");this.listenToOnce(t,"sort",M.a.debounce(this.onCollectionSort));var a=this.model.get("playQueueItemID"),n=this.playQueue.get("playQueueSelectedItemID");this.playQueue.moveItem(a,n)},onDeleteClick:function(e){e.preventDefault(),this.model.has("syncItemId")?this.deleteSyncItem():this.deleteGenerator()}}),zee=a("8b/l"),Uee=lee.a.extend({tagName:"ol",className:"list media-list playlist-items",itemView:Ree,sorted:!0,itemEvents:{sort:"onSort"},initialize:function(){M.a.bindAll(this,"onItemMove")},onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new Iee.a(this.el,M.a.extend({onAdd:this.onItemMove,onUpdate:this.onItemMove,handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2},this.options.sortableOptions))},onClose:function(){this.sortable&&this.sortable.destroy()},onSort:function(){this.render()},onItemMove:function(e){var t=h()(e.item).data("queue-item-id"),a=h()(e.item).prev().data("queue-item-id"),n=this.options.playQueue;if(a)n.moveItem(t,a);else{var i=n.get("selectedItem").get("metadataItem").get("title"),r=new zee.a({title:Object(Ce.default)("Convert Immediately"),message:Object(Ce.default)("Do you want to start converting this item immediately? Any conversion progress for '{1}' will be lost.",i)}),s=r.promise;s.done((function(){n.moveItem(t)})),s.fail(M.a.bind(this.render,this)),$.a.trigger("show:modal",r)}}}),Vee=a("EAJj"),Bee=a.n(Vee);var Fee=p.a.ItemView.extend({template:Bee.a,serializeData(){return{manageVersionsRoute:Object(lm.a)(this.model.id,"manage","versions")}}}),Hee=a("PiUd"),_ee=a.n(Hee),Wee=p.a.Layout.extend({className:"conversion-container",template:_ee.a,ui:{filterBar:".filter-bar",pauseBtn:".pause-btn",resumeBtn:".resume-btn",divider:".conversion-queue-divider"},regions:{filterBar:".filter-bar",upNextList:".conversion-queue-up-next-list-region",afterUpNextList:".conversion-queue-after-up-next-list-region",emptyRegion:".conversion-queue-empty-region"},events:{"click .pause-btn":"onTogglePauseClick","click .resume-btn":"onTogglePauseClick"},initialize:function(e){this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.generators=e.generators,this.items=this.playQueue.get("collection"),this.upNextItems=new fee(this.items,{playQueue:this.playQueue,includeSelectedItem:!0}),this.afterUpNextItems=new bee(this.items,{playQueue:this.playQueue}),this.settings=this.model.get("desktop").get("settings"),this.pausedSetting=this.settings.get("BackgroundQueueIdlePaused"),this.listenTo(this.upNextItems,"reset add remove",this.onUpNextChange),this.listenTo(this.afterUpNextItems,"reset add remove",this.onAfterUpNextChange)},serializeData:function(){return{shouldShowList:this.model.supports("streamReady"),shouldShowDivider:!!this.afterUpNextItems.length,escapedMinServerVersion:M.a.escape(so.a.streamReady),hasPausedSetting:!!this.pausedSetting,isPaused:this.pausedSetting&&this.pausedSetting.get("value"),errorMessage:this.getErrorMessage(),manageVersionsRoute:Object(lm.a)(this.model.id,"manage","versions")}},toggleEmptyView:function(){var e=this.upNextItems.length+this.afterUpNextItems.length>0;e?this.emptyRegion.close():this.emptyRegion.show(new Fee({model:this.model})),this.$el.toggleClass("is-empty",!e),this.ui.filterBar.toggleClass("hide-actions",!e)},getErrorMessage:function(){var e=this.generators.reduce((function(e,t){var a=t.get("status");return"failed"===a.get("state")?e+=Math.max(a.get("itemsCount"),1):a.get("itemsFailedCount")&&(e+=a.get("itemsFailedCount")),e}),0);if(e)return 1===e?Object(Ce.default)("There was a problem converting 1 item."):Object(Ce.default)("There were problems converting {1} items.",e)},onRender:function(){var e={playQueue:this.playQueue},t={playQueue:this.playQueue,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting};this.upNextList.show(new Uee(M.a.extend({},e,{collection:this.upNextItems,itemViewOptions:t,sortableOptions:{sort:!0,group:{name:"upNext",pull:!1,put:["afterUpNext"]}}}))),this.afterUpNextList.show(new Uee(M.a.extend({},e,{collection:this.afterUpNextItems,itemViewOptions:M.a.extend({},t,{hideDragHandle:!0}),sortableOptions:{sort:!1,group:{name:"afterUpNext",pull:!0,put:!1}}}))),this.toggleEmptyView()},onClose:function(){this.upNextItems.destroy(),this.afterUpNextItems.destroy()},onUpNextChange:function(){this.toggleEmptyView()},onAfterUpNextChange:function(){this.ui.divider.toggleClass("hidden",!this.afterUpNextItems.length),this.toggleEmptyView()},onTogglePauseClick:function(e){e.preventDefault();var t=this.pausedSetting.get("value");this.ui.pauseBtn.toggleClass("hidden",!t),this.ui.resumeBtn.toggleClass("hidden",t),this.pausedSetting.set("value",!t),this.settings.first().save(this.pausedSetting.id,t?0:1)}});var Qee=function(e,t,a=500){const[n,i]=Object(g.useState)(e);return Object(g.useEffect)(()=>{let n;return e===t?n=window.setTimeout(()=>{i(e)},a):i(e),()=>window.clearTimeout(n)},[e,t,a]),n},Gee=a("6XLl"),Kee=a.n(Gee);function Yee({children:e,title:t}){return y.a.createElement("div",{className:Kee.a.header},y.a.createElement("div",{className:Kee.a.headerTitle},t),e)}var qee=a("p9Lp"),Zee=a.n(qee);function Xee({children:e,className:t=Zee.a.container}){return y.a.createElement("div",{className:t},y.a.createElement("div",{className:Zee.a.message},e))}var Jee=a("fCYg"),$ee=a.n(Jee);function ete({children:e,className:t=$ee.a.container}){const[a]=Jt();return y.a.createElement("div",{className:t},y.a.createElement(Xee,null,y.a.createElement(ga,{className:$ee.a.link,to:Object(lm.a)(a.machineIdentifier,"settings","general")},e)))}var tte=a("r4V+"),ate=a.n(tte);function nte({children:e,id:t,className:a=ate.a.menuButton,isMenuOpen:n,onPress:i}){return y.a.createElement(Tq.a,{className:a,id:t,size:cc.a,direction:n?lc.c:lc.a,isSelected:!1,onPress:i},e)}function ite({className:e,values:t,activeValue:a,formatter:n,onSelect:i}){const{menuButtonID:r,isMenuOpen:s,onMenuButtonPress:o,onMenuClose:l}=CD(),c=Object(g.useCallback)(e=>{l(),i(e)},[l,i]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(nte,{id:r,className:e,isMenuOpen:s,onPress:o},n(a)),y.a.createElement(Xs.a,{target:r,isOpen:s,onMenuClose:l},t.map(e=>y.a.createElement(uc.a,{key:String(e),value:e,isSelected:a===e,onSelect:c},n(e)))))}const rte={statistics:[],isPending:!1,isPopulated:!1,error:null,requestTimestampMilliseconds:null,responseTimestampMilliseconds:null};var ste,ote,lte=Object(jr.c)({name:"dashboardBandwidth",initialState:rte,reducers:{reset:()=>rte,bandwidthFetchRequested(e,t){Object(hm.c)(e)},bandwidthFetchSucceeded(e,{payload:t}){Object(hm.d)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds,e.responseTimestampMilliseconds=t.responseTimestampMilliseconds},bandwidthFetchFailed(e,{payload:t}){Object(hm.b)(e,t.error),e.requestTimestampMilliseconds=null,e.responseTimestampMilliseconds=null},bandwidthAbortRequested(){}}});(ote=ste||(ste={})).All="all",ote.Remote="remote",ote.Local="local";var cte=Object(he.a)(wr,e=>e.dashboard);var dte=Object(he.a)(cte,e=>e.bandwidth);function ute(e){switch(e){case ste.All:return Object(Ce.default)("All");case ste.Remote:return Object(Ce.default)("Remote");case ste.Local:return Object(Ce.default)("Local");default:return""}}var pte=a("r4sE");const mte=["bps","Kbps","Mbps","Gbps","Tbps"];var hte=function(e,t=2){if(0===e)return`${(0).toFixed(t)} ${mte[0]}`;const a=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return`${(e/Math.pow(1024,a)).toFixed(t)} ${mte[a]}`},gte=a("XL8h"),yte=a("EOrL"),fte=a.n(yte);function bte({children:e,className:t=fte.a.container,errorClassName:a=fte.a.errorMessage,isSpinnerVisible:n,errorMessage:i}){return y.a.createElement("div",{className:t},i?y.a.createElement(Xee,{className:a},i):y.a.createElement(y.a.Fragment,null,n?y.a.createElement(Ge,{className:fte.a.spinner,size:_e.Large}):null,e))}var vte=a("CsFZ"),Ite=a.n(vte);function Ste(e){return y.a.createElement(bte,{...e,className:Ite.a.container,errorClassName:Ite.a.errorMessage})}function Ete(e){return null==e?"":0===e?Object(Ce.default)("Now").toUpperCase():e%60==0?Math.floor(e/60)+"m":e>60?`${Math.floor(e/60)}m ${e%60}s`:e+"s"}var Ote=function(e,t){var a;const n=Object.keys(t);return(a=class extends g.Component{constructor(e,t){super(e,t),this.state=n.reduce((e,t)=>(e[t]=null,e),{})}componentDidMount(){this._pairs=n.map(e=>[e,Object(kU.a)(t[e]())]),this._pairs.forEach(([e,t])=>{t.promise.then(t=>{this.setState({[e]:t})})})}componentWillUnmount(){this._pairs.forEach(([e,t])=>{t.cancel()})}render(){return y.a.createElement(e,{...this.props,...this.state})}}).displayName=`AsyncProps(${Object(yO.a)(e)}:${n.join(",")})`,a.WrappedComponent=e,a};function Mte(e,t,a,n,i,r){const s=t-r,o=n>=0?1:-1,l=n>=0?1:0,c=Math.min(Math.abs(a)/2,Math.abs(n)/2),d=Math.min(c,i);return`M ${e},${s+o*d}\n    A ${d},${d},0,0,${l},${e+d},${s}\n    L ${e+a-d},${s}\n    A ${d},${d},0,0,${l},${e+a},${s+o*d}\n    L ${e+a},${s+n-o*d}\n    A ${d},${d},0,0,${l},${e+a-d},${s+n}\n    L ${e+d},${s+n}\n    A ${d},${d},0,0,${l},${e},${s+n-o*d} Z`}var Cte=function(e){const{x:t,y:a,width:n,height:i,radius:r,fill:s,barGap:o,data:l,dataKey:c,seriesOrdering:d,seriesIndex:u}=e,p=d.slice(0,u),m=l.find(t=>t[c]===e[c]),h=p.reduce((e,t)=>(0!==m[t]&&e++,e),0)*o;return y.a.createElement("path",{d:Mte(t,a,n,i,r,h),fill:s})},jte=a("dSJO"),Dte=a.n(jte);class Pte extends g.Component{constructor(){super(...arguments),this.onPress=()=>{const{dataKey:e,onPress:t}=this.props;t&&t(e)},this.onMouseEnter=()=>{const{dataKey:e,onMouseEnter:t}=this.props;t&&t(e)}}render(){const{className:e,title:t,labelColor:a,onMouseLeave:n}=this.props;return y.a.createElement(jI.a,{className:e,onPress:this.onPress,onMouseEnter:this.onMouseEnter,onMouseLeave:n},y.a.createElement("span",{className:Dte.a.dot,style:{backgroundColor:a}}),t)}}Pte.defaultProps={className:Dte.a.legendLabel};var Tte=Pte,wte=a("J9Q8"),Nte=a.n(wte);class xte extends g.Component{componentDidUpdate(e,t){const{active:a,onActive:n,onInactive:i}=this.props,{active:r}=e;!r&&a&&n?n():r&&!a&&i&&i()}render(){const{active:e,label:t,payload:a,series:n,showTotal:i,labelFormatter:r,valueFormatter:s}=this.props;if(!e||!a)return null;const o=r?r(t):t,l=i?a.reduce((e,t)=>e+t.value,0):null;return y.a.createElement("div",{className:Nte.a.container},y.a.createElement("div",{className:Nte.a.label},o),y.a.createElement("div",{className:Nte.a.separator}),y.a.createElement("div",null,y.a.createElement("div",{className:Nte.a.values},a.map(e=>{const t=n.find(t=>t.dataKey===e.dataKey).title;return y.a.createElement("div",{key:e.dataKey,className:Nte.a.valueRow},y.a.createElement(Tte,{className:Nte.a.LegendLabel,title:t,labelColor:e.color}),y.a.createElement(Hi.b,null),s(e.value))})),i?y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:Nte.a.separator}),y.a.createElement("div",{className:Nte.a.total},Object(Ce.default)("Total"),y.a.createElement(Hi.b,null),s(l))):null))}}xte.defaultProps={showTotal:!0};var Ate=xte,Lte=a("VqzW"),kte=a.n(Lte);function Rte(e){return e.every(e=>e.visible)}function zte(e){return function(t){return y.a.createElement(Cte,{...t,...e})}}class Ute extends g.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hoveredDataKey:e})},this.onMouseLeave=()=>{this.setState({hoveredDataKey:null})},this.renderLegend=()=>{const{series:e,legendSummary:t,onLegendPress:a}=this.props,{hoveredDataKey:n}=this.state;return y.a.createElement("div",{className:kte.a.legendContainer},y.a.createElement("div",{className:kte.a.legendLabels},e.map(e=>{const t=!e.visible||n&&n!==e.dataKey&&!e.selected;return y.a.createElement(Tte,{key:e.dataKey,className:t?kte.a.translucentLegendLabel:kte.a.legendLabel,dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:a,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})})),t?y.a.createElement("div",{className:kte.a.legendSummary},t):null)},this.state={hoveredDataKey:null}}componentDidUpdate(e,t){const{recharts:a,onChartReady:n}=this.props;!e.recharts&&a&&n&&n()}render(){const{className:e,recharts:t,width:a,height:n,series:i,data:r,xAxisKey:s,stacked:o,isAnimationActive:l,showTooltipTotal:c,chartMargin:d,gridLinesStyles:u,barGap:p,legendHeight:m,tooltipLabelFormatter:h,tooltipValueFormatter:g,xAxisDomain:f,xAxisStyle:b,xAxisPadding:v,xAxisTick:I,xAxisTickMargin:S,xAxisTickLineStyle:E,xAxisTickFormatter:O,yAxisDomain:M,yAxisWidth:C,yAxisStyle:j,yAxisPadding:D,yAxisTick:P,yAxisTickMargin:T,yAxisTickLineStyle:w,yAxisTickFormatter:N}=this.props,{hoveredDataKey:x}=this.state;if(!t)return null;const{CartesianGrid:A,Legend:L,BarChart:k,Bar:R,ResponsiveContainer:z,Tooltip:U,XAxis:V,YAxis:B}=t,F=i.map(e=>e.dataKey);return y.a.createElement(z,{className:e,width:a,height:n},y.a.createElement(k,{data:r,margin:d},y.a.createElement(A,{...u}),y.a.createElement(V,{domain:f,axisLine:b,dataKey:s,padding:v,tick:I,tickLine:E,tickMargin:S,minTickGap:0,tickFormatter:O}),y.a.createElement(B,{domain:M,axisLine:j,padding:D,tick:P,tickLine:w,tickMargin:T,tickCount:6,tickFormatter:N,width:C}),y.a.createElement(U,{cursor:!1,isAnimationActive:!1,content:(H={series:i,showTotal:c,labelFormatter:h,valueFormatter:g},function(e){return y.a.createElement(Ate,{...e,...H})})}),i.map((e,t)=>y.a.createElement(R,{key:e.dataKey,className:x&&x!==e.dataKey&&Rte(i)?kte.a.translucentBar:kte.a.bar,dataKey:e.dataKey,shape:zte({barGap:o?p:0,data:r,dataKey:s,seriesOrdering:F,seriesIndex:t}),radius:2,fill:e.color,isAnimationActive:l,stackId:o?"stacked":null,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave})),y.a.createElement(L,{height:m,content:this.renderLegend,wrapperStyle:{paddingLeft:C+"px"}})));var H}}Ute.defaultProps={xAxisKey:"date",stacked:!0,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},barGap:2,legendHeight:20,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:15,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:60,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};var Vte=Ote(Ute,{recharts:()=>a.e(0).then(a.bind(null,"4XXU"))});var Bte=function(e){const{x:t,y:a,margin:n,fill:i,fontSize:r,index:s,visibleTicksCount:o,payload:l,tickFormatter:c}=e;let d="middle";0===s?d="start":s+1===o&&(d="end");const u=c?c(l.value):l.value;return y.a.createElement("g",{transform:`translate(${t},${a})`},y.a.createElement("text",{dy:n,fill:i,fontSize:r,textAnchor:d},u))},Fte=a("4ovG"),Hte=a.n(Fte);function _te(e){return e.every(e=>e.visible)}function Wte(e){return function(t){return y.a.createElement(Ate,{...t,...e})}}class Qte extends g.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hoveredDataKey:e})},this.onMouseLeave=()=>{this.setState({hoveredDataKey:null})},this.renderLegend=()=>{const{series:e,legendSummary:t,onLegendPress:a}=this.props,{hoveredDataKey:n}=this.state;return y.a.createElement("div",{className:Hte.a.legendContainer},y.a.createElement("div",{className:Hte.a.legendLabels},e.map(e=>{const t=!e.visible||n&&n!==e.dataKey&&!e.selected;return y.a.createElement(Tte,{key:e.dataKey,className:t?Hte.a.translucentLegendLabel:Hte.a.legendLabel,dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:a,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})})),t?y.a.createElement("div",{className:Hte.a.legendSummary},t):null)},this.state={hoveredDataKey:null}}componentDidUpdate(e,t){const{recharts:a,onChartReady:n}=this.props;!e.recharts&&a&&n&&n()}render(){const{className:e,recharts:t,width:a,height:n,series:i,data:r,xAxisKey:s,connectNulls:o,lineType:l,lineStrokeWidth:c,isAnimationActive:d,showTooltipTotal:u,chartMargin:p,gridLinesStyles:m,legendHeight:h,tooltipLabelFormatter:g,tooltipValueFormatter:f,dot:b,xAxisDomain:v,xAxisStyle:I,xAxisPadding:S,xAxisTick:E,xAxisTickInterval:O,xAxisTickMargin:M,xAxisTickLineStyle:C,xAxisTickFormatter:j,yAxisDomain:D,yAxisWidth:P,yAxisStyle:T,yAxisPadding:w,yAxisTick:N,yAxisTickMargin:x,yAxisTickLineStyle:A,yAxisTickFormatter:L,onTooltipActive:k,onTooltipInactive:R}=this.props,{hoveredDataKey:z}=this.state;if(!t)return null;const{CartesianGrid:U,Legend:V,LineChart:B,Line:F,ResponsiveContainer:H,Tooltip:_,XAxis:W,YAxis:Q}=t,G=[...i].reverse();return y.a.createElement(H,{className:e,width:a,height:n},y.a.createElement(B,{data:r,margin:p},y.a.createElement(U,{...m}),y.a.createElement(W,{domain:v,axisLine:I,dataKey:s,padding:S,tick:(K={...E,margin:M,tickFormatter:j},function(e){return y.a.createElement(Bte,{...e,...K})}),tickLine:C,minTickGap:0,interval:O}),y.a.createElement(Q,{domain:D,axisLine:T,padding:w,tick:N,tickLine:A,tickMargin:x,tickCount:6,tickFormatter:L,width:P}),y.a.createElement(_,{cursor:!1,isAnimationActive:!1,content:Wte({series:i,showTotal:u,labelFormatter:g,valueFormatter:f,onActive:k,onInactive:R})}),G.map(e=>y.a.createElement(F,{key:e.dataKey,className:z&&z!==e.dataKey&&_te(i)?Hte.a.translucentLine:Hte.a.line,type:l,dataKey:e.dataKey,dot:b,stroke:e.color,strokeWidth:c,connectNulls:o,isAnimationActive:d,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave})),y.a.createElement(V,{height:h,content:this.renderLegend,wrapperStyle:{paddingLeft:P+"px"}})));var K}}Qte.defaultProps={xAxisKey:"date",connectNulls:!1,lineType:"monotone",lineStrokeWidth:3,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},legendHeight:20,dot:!1,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:20,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:75,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};var Gte=Ote(Qte,{recharts:()=>a.e(0).then(a.bind(null,"4XXU"))});function Kte(e){return pn(e)||Object(Tn.a)(Object(YP.a)(new Date))<=e}function Yte(e,t,a,n=!1){if(Object(DQ.f)(t)===DQ.b.Day&&pn(e)){const e=Object(Ce.default)("Today");return n?e.toUpperCase():e}return Object(tM.a)(Object(Za.a)(e),a)}function qte({isRemoteVisible:e,isLocalVisible:t,summedData:a}){const n=e&&t;return y.a.createElement(y.a.Fragment,null,n?Object(Ce.default)("Averages"):Object(Ce.default)("Average"),": ",n?y.a.createElement(y.a.Fragment,null,ute(ste.Remote),y.a.createElement(Hi.b,null)):null,e?hte(8*(a[ste.Remote]||0)/120,0):null,n?y.a.createElement(y.a.Fragment,null," | ",ute(ste.Local),y.a.createElement(Hi.b,null)):null,t?hte(8*(a[ste.Local]||0)/120,0):null)}function Zte({isRemoteVisible:e,isLocalVisible:t,summedData:a}){const n=e&&t;return y.a.createElement(y.a.Fragment,null,n?Object(Ce.default)("Totals"):Object(Ce.default)("Total"),": ",n?y.a.createElement(y.a.Fragment,null,ute(ste.Remote),y.a.createElement(Hi.b,null)):null,e?Object(gte.a)(a[ste.Remote],0):null,n?y.a.createElement(y.a.Fragment,null," | ",ute(ste.Local),y.a.createElement(Hi.b,null)):null,t?Object(gte.a)(a[ste.Local],0):null)}function Xte({statistics:e,activeBandwidthSourceType:t,responseTimestampMilliseconds:a,activeTimePeriod:n,isPending:i,isPopulated:r,errorMessage:s,onGraphBandwidthSourceTypeSelect:o,onGraphTooltipActive:l,onGraphTooltipInactive:c}){const[d,u]=Object(g.useState)(!1),p=n===DQ.a.RealTime,{data:m,summedData:h}=Object(g.useMemo)(()=>p?function(e,t,a){if(null==a)return{data:[],summedData:{}};const n=t===ste.All||t===ste.Remote,i=t===ste.All||t===ste.Local,r=Math.floor(a/1e3)-120-1,s=Array.from(new Array(121),(e,t)=>({at:r+t,date:120-t,[ste.Remote]:n?0:void 0,[ste.Local]:i?0:void 0})),o={};return e.forEach(e=>{const{at:t,lan:a,bytes:r}=e,l=s.findIndex(e=>e.at===Number(t));if(-1===l)return;const c=s[l];!a&&n&&(c[ste.Remote]=(c[ste.Remote]||0)+r,o[ste.Remote]=(o[ste.Remote]||0)+r),a&&i&&(c[ste.Local]=(c[ste.Local]||0)+r,o[ste.Local]=(o[ste.Local]||0)+r),s[l]=c}),{data:s,summedData:o}}(e,t,a):function(e,t){const a=t===ste.All||t===ste.Remote,n=t===ste.All||t===ste.Local,i={},r={};return e.forEach(e=>{const{at:t,lan:s,bytes:o}=e,l=String(t);i[l]||(i[l]={}),!s&&a&&(i[l][ste.Remote]=(i[l][ste.Remote]||0)+o,r[ste.Remote]=(r[ste.Remote]||0)+o),s&&n&&(i[l][ste.Local]=(i[l][ste.Local]||0)+o,r[ste.Local]=(r[ste.Local]||0)+o)}),{data:Object.keys(i).sort().map(e=>{const t=i[e],a=parseInt(e,10);return{...t,at:a,date:a}}),summedData:r}}(e,t),[t,p,a,e]),f=t===ste.All||t===ste.Remote,b=t===ste.All||t===ste.Local,v=[{dataKey:ste.Remote,title:ute(ste.Remote),visible:f,selected:t===ste.Remote,color:"#366dfc"},{dataKey:ste.Local,title:ute(ste.Local),visible:b,selected:t===ste.Local,color:"#e69f23"}],I=p?Gte:Vte,S=p?qte:Zte,E=!d||(p?!r:i),O=(p||!i)&&r,M=Object(g.useCallback)(e=>0===e?Object(Ce.default)("Now"):Object(Ce.default)("{unitOfTime} ago",{unitOfTime:Ete(e)}),[]),C=Object(g.useCallback)(e=>{if(Object(DQ.f)(n)===DQ.b.Week){const t=Yte(e,n,Object(DQ.d)(n,!0)),a=Object(Tn.a)(Object(pte.a)(Object(Za.a)(e),1));if(pn(e)&&Kte(a))return Object(Ce.default)("Today");return`${t} - ${Yte(a,n,Object(DQ.d)(n,!0))}`}return Yte(e,n,Object(DQ.d)(n,!0))},[n]),j=Object(g.useCallback)(e=>hte(8*e,0),[]),D=Object(g.useCallback)(e=>Object(gte.a)(e,0),[]),P=Object(g.useCallback)(e=>Ete(e),[]),T=Object(g.useCallback)(e=>{if(n===DQ.a.Month){const t=Yte(e,n,Object(DQ.d)(n)),a=Object(Tn.a)(Object(pte.a)(Object(Za.a)(e),1));if(pn(e)&&Kte(a))return Object(Ce.default)("Today").toUpperCase();return`${t} - ${Yte(a,n,Object(DQ.d)(n))}`}return Yte(e,n,Object(DQ.d)(n),!0)},[n]),w=Object(g.useCallback)(e=>0===e?"":p?hte(8*e,0):Object(gte.a)(e,0),[p]),N=Object(g.useCallback)(()=>{u(!0)},[]);return y.a.createElement(Ste,{isSpinnerVisible:E,errorMessage:s},O?y.a.createElement(I,{width:"100%",height:280,series:v,data:m,legendSummary:y.a.createElement(S,{isRemoteVisible:f,isLocalVisible:b,summedData:h}),isAnimationActive:!p,xAxisTickInterval:p?9:null,tooltipLabelFormatter:p?M:C,tooltipValueFormatter:p?j:D,xAxisTickFormatter:p?P:T,yAxisTickFormatter:w,onLegendPress:o,onChartReady:N,onTooltipActive:l,onTooltipInactive:c}):null)}var Jte=a("cV2A"),$te=a.n(Jte);function eae(){const e=Object(v.c)(),[t]=Jt(),a=Object(g.useRef)(null),[n,i]=Object(g.useState)(ste.All),r=Object(g.useMemo)(()=>[ste.All,ste.Remote,ste.Local],[]),[s,o]=Object(g.useState)(DQ.a.RealTime),[l,c]=Object(g.useState)(s),d=Object(g.useMemo)(()=>[DQ.a.RealTime,DQ.a.TwelveHours,DQ.a.Day,DQ.a.Week,DQ.a.Month,DQ.a.NinetyDays,DQ.a.Year,DQ.a.AllTime],[]),u=Object(oo.a)(t.version,so.a.dashboardBandwidthChart),{statistics:p,isPending:m,isPopulated:h,error:f,requestTimestampMilliseconds:b,responseTimestampMilliseconds:I}=Object(v.d)(dte),S=Qee(m,!0),E=Object(g.useCallback)(()=>{e(lte.actions.bandwidthFetchRequested({server:t,timespan:Object(DQ.f)(s),after:Object(DQ.c)(s)}))},[s,e,t]),O=Object(g.useCallback)(()=>{e(lte.actions.bandwidthAbortRequested())},[e]),M=Object(g.useCallback)(e=>{i(e)},[]),C=Object(g.useCallback)(e=>{o(e)},[]),j=Object(g.useCallback)(e=>{const t=e===n?ste.All:e;i(t)},[n]),D=Object(g.useCallback)(()=>{s===DQ.a.RealTime&&(a.current&&window.clearTimeout(a.current),O())},[s,O]),P=Object(g.useCallback)(()=>{s===DQ.a.RealTime&&E()},[s,E]);return Object(g.useEffect)(()=>(u&&E(),O),[u,E,O]),Object(g.useEffect)(()=>{if(s===DQ.a.RealTime&&b){const e=Date.now()-b,t=Math.max(1e3-e,0);a.current=window.setTimeout(E,t)}return()=>{a.current&&window.clearTimeout(a.current)}},[b,E,s]),Object(g.useEffect)(()=>{c(s)},[p]),Object(g.useEffect)(()=>()=>{e(lte.actions.reset())},[e]),y.a.createElement("div",{className:$te.a.container},y.a.createElement(Yee,{title:Object(Ce.default)("Bandwidth")},u?y.a.createElement("div",null,y.a.createElement(ite,{values:r,activeValue:n,formatter:ute,onSelect:M}),y.a.createElement(ite,{values:d,activeValue:s,formatter:DQ.e,onSelect:C})):null),y.a.createElement("div",{className:$te.a.graph},u?y.a.createElement(Xte,{statistics:p,responseTimestampMilliseconds:I,activeBandwidthSourceType:n,activeTimePeriod:l,isPending:S,isPopulated:h,errorMessage:f?Object(Ce.default)("Unable to load statistics"):null,onGraphBandwidthSourceTypeSelect:j,onGraphTooltipActive:D,onGraphTooltipInactive:P}):y.a.createElement(ete,null,Object(Ce.default)("The Bandwidth chart requires Plex Media Server {version} or higher",{version:so.a.dashboardBandwidthChart}))))}var tae=Object(At.a)((function(e){return Object(he.a)(Ra,t=>t.serverNowPlayingSessions[e])}));function aae(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-expand-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M46.3324414,560 L46.3324414,504 L514,504 L514,560 L46.3324414,560 Z M46.3324414,392 L46.3324414,336 L514,336 L514,392 L46.3324414,392 Z M514,4.54747351e-13 L514,224 L46,224 L46,168 L46.1324766,168 L46.1324766,39.125 L46.3324414,39.125 L46.3324414,4.54747351e-13 L514,4.54747351e-13 Z M458.00987,168 L458.00987,56 L102.122607,56 L102.122607,168 L458.00987,168 Z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}aae.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var nae=aae,iae=a("ZZfJ"),rae=a.n(iae);function sae({isOpen:e,errorMessage:t,metricsPage:a,onModalClose:n}){return y.a.createElement(Et.a,{metricsPage:a},y.a.createElement(Wl,{isOpen:e,size:_e.Small,onModalClose:n},y.a.createElement(Yl,{onModalClose:n},y.a.createElement(nc,{className:rae.a.modalHeader},Object(Ce.default)("Error")),y.a.createElement(od,null,t))))}var oae=a("GNXi"),lae=a("zePt");var cae=function(e,t){if(!e.indexes)return;const a=e.indexes.split(",");return a.length?M.a.indexOf(a,t)>-1?t:a[0]:void 0};var dae=function(e,t,a){const n=Object(oae.a)(e,t);if(!(a=cae(n,a)))return;const i=Object(lae.a)(e,n,t);return"/library/parts/"+n.id+"/indexes/"+a+"/"+i},uae=a("gPan");const pae=[/alexa/i,/sonos/i],mae={};function hae(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-stop-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["polygon",{points:"383.704 280 560 456.296 456.296 560 280 383.704 103.704 560 0 456.296 176.296 280 0 103.704 103.704 0 280 176.296 456.296 0 560 103.704 383.704 280"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}hae.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var gae=hae,yae=a("yOfu");var fae=function(e){return e?e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):""},bae=a("8a1k");const vae={"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTUwLjEzOCA4NS42MXYtNi4xNDZjMC0yLjE4NS0xLjMzOC00LjEzMy0zLjM2Ni00Ljk5NC03LjU5NS0zLjIyNC0xMi45MS0xMC43NjUtMTIuOTEtMTkuNDcgMC0xMS42MDMgOS40NDMtMjEuMTM5IDIxLjEzOC0yMS4xMzkgMTEuNjk1IDAgMjEuMTM5IDkuNTM2IDIxLjEzOSAyMS4xMzkgMCAxMy42OS0xMC41OSAyNi42MzQtMjYgMzAuNjF6TTU1IDI0Yy0xNy4xNTEgMC0zMSAxMy45ODUtMzEgMzFzMTMuODQ5IDMxIDMxIDMxIDMxLTEzLjk4NSAzMS0zMS0xMy44NDktMzEtMzEtMzF6IiBmaWxsPSIjMzFDNEYzIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/alexa/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQzLjg5MSAyMy40NzlsMy4wMDUgNS4xODNjLTUuNDY5IDIuNjYxLTkuMTc1IDcuODczLTkuMTc1IDEzLjg1MmgzNC45OTRjMC01Ljk3OS0zLjcwNy0xMS4xOS05LjE3Ny0xMy44NTJsMy4wMDUtNS4xODNzLjE0My0uMjc1LS4xMjctLjQzYy0uMjctLjE1NS0uNDUxLjEwOS0uNDUxLjEwOWwtMy4wNSA1LjIyOWExOS4wMyAxOS4wMyAwIDAgMC03LjY5OC0xLjYwNmMtMi43NjMgMC01LjM3Ni41OC03LjY5NyAxLjYwNmwtMy4wNS01LjIyOXMtLjE3MS0uMjY0LS40NDItLjExYy0uMjcyLjE1NC0uMTM3LjQzLS4xMzcuNDNtMy4wMDUgMTAuMDRhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjVjMCAuOTEtLjc0NyAxLjYyOC0xLjY2NCAxLjYyOC0uOTE2IDAtMS42NjQtLjcxOS0xLjY2NC0xLjYyNyAwLS45MS43NDgtMS42NTIgMS42NjQtMS42NTJtMTYuNjQyIDBhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjUyYzAgLjkxLS43NDcgMS42MjctMS42NjQgMS42MjctLjkxNiAwLTEuNjY0LS43MTktMS42NjQtMS42MjcgMC0uOTEuNzQ4LTEuNjUyIDEuNjY0LTEuNjUybS0yNS45NiAxMS4wMTd2MjYuMzRjMCAxLjMwNyAxLjU5MyAzLjAxOCAyLjkxIDMuMDE4aDQuMTYzdjguOThjMCAyLjI4NiAxLjY3OSA0LjEyOCAzLjc2OCA0LjEyOCAyLjA4OSAwIDMuNzY4LTEuODQyIDMuNzY4LTQuMTI4di04Ljk4aDYuMDU2djguOThjMCAyLjI4NiAxLjY4IDQuMTI4IDMuNzY4IDQuMTI4czMuNzktMS44NDIgMy43OS00LjEyOHYtOC45OGg0LjE0YzEuMzE4IDAgMi45MS0xLjcxMSAyLjkxLTMuMDE4di0yNi4zNEgzNy41NzdtLTUuODA1LS41NTJjMi4wODMgMCAzLjc3IDEuODQ5IDMuNzcgNC4xMjh2MTUuNjI4YzAgMi4yNzktMS42ODggNC4xMjgtMy43NyA0LjEyOC0yLjA4MyAwLTMuNzcyLTEuODQ4LTMuNzcyLTQuMTI4VjQ4LjExYzAtMi4yNzkgMS42ODktNC4xMjggMy43NzItNC4xMjhtNDYuODg2IDBjMi4wODMgMCAzLjc3MiAxLjg0OSAzLjc3MiA0LjEyOHYxNS42MjhjMCAyLjI3OS0xLjY4OCA0LjEyOC0zLjc3MiA0LjEyOC0yLjA4MiAwLTMuNzctMS44NDgtMy43Ny00LjEyOFY0OC4xMWMwLTIuMjc5IDEuNjg3LTQuMTI4IDMuNzctNC4xMjgiIGZpbGw9IiNBNEM2MzkiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/android/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU2LjU1IDM5LjE0NWg1LjExNHY1Ljc3Nmg0LjkyNHY0LjA0OGgtNC45MjR2MTQuMzY5YzAgMi4yMjUuOTk0IDMuMjY2IDMuMTQ4IDMuMjY2LjU0NSAwIDEuNDItLjA3IDEuNzUyLS4xMTh2NC4wNDhjLS41NjguMTQyLTEuNzc1LjI2LTIuODg4LjI2LTUuMTM3IDAtNy4xMjUtMS45NjQtNy4xMjUtNi45MzV2LTE0Ljg5SDUzVjQ0LjkyaDMuNTV2LTUuNzc2em0zNi4yMDMgNS43NzZsLTkuMjU1IDI1LjcwOGgtNS40NjlMNjguNzUgNDQuOTJoNS40Mmw2LjU1OCAyMC42NDJoLjExOGw2LjU4MS0yMC42NDJoNS4zMjZ6bS01MC40NzEgOS41NGMtLjA0LTQuMzk4IDMuNTM4LTYuNTExIDMuNjk5LTYuNjEzLTIuMDEyLTIuOTg3LTUuMTQ0LTMuMzk3LTYuMjYxLTMuNDQ2LTIuNjY3LS4yNzQtNS4yMDMgMS41OTQtNi41NTQgMS41OTRzLTMuNDQtMS41NTMtNS42NS0xLjUxYy0yLjkwNy4wNDItNS41ODUgMS43MTQtNy4wODQgNC4zNTQtMy4wMTcgNS4zMTgtLjc3MSAxMy4xOTUgMi4xNzEgMTcuNTEgMS40MzkgMi4xMDggMy4xNTMgNC40ODIgNS40MDQgNC4zOTcgMi4xNy0uMDg2IDIuOTg4LTEuNDIzIDUuNjA4LTEuNDIzIDIuNjIgMCAzLjM1OCAxLjQyMyA1LjY1MiAxLjM3OCAyLjMzNC0uMDQyIDMuODExLTIuMTUgNS4yMzktNC4yNjcgMS42NS0yLjQ1IDIuMzMtNC44MiAyLjM3MS00Ljk0Mi0uMDUtLjAyNC00LjU1LTEuNzczLTQuNTk1LTcuMDMxbS00LjMwOC0xMi45MTNjMS4xOTYtMS40NyAyLjAwMS0zLjUxMyAxLjc4LTUuNTQ5LTEuNzIuMDcyLTMuODA2IDEuMTY1LTUuMDQzIDIuNjMzLTEuMTA3IDEuMzAxLTIuMDc4IDMuMzc5LTEuODE1IDUuMzc1IDEuOTIuMTUxIDMuODgyLS45OSA1LjA3OC0yLjQ2IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/plex.*atv|tvos/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iMTQuOTM1JSIgY3k9IjEzLjY0NCUiIGZ4PSIxNC45MzUlIiBmeT0iMTMuNjQ0JSIgcj0iMTAwLjQyNiUiIGlkPSJhIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuMDk4IiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTQuOTIxIDE0LjI0M0MxMC40NCA1LjY3NyAyMC4wNjIgMCAzMSAwYzEyLjAzNyAwIDIyLjQ4IDYuODc1IDI3LjYxNSAxNi45MUgzMUwxOC43OTcgMzguMDQ0SDQuOTIxVjE0LjI0M3oiIGZpbGw9IiNEQjQ0MzciIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNNC45MiAxNC4yNDVsMTMuODc3IDIzLjhoMjQuNDF2MTAuMjU5TDI5LjU0MyA2MS45NjZDMTMuMTA5IDYxLjIwNSAwIDQ3LjYyMSAwIDMxYzAtNi4xNyAxLjgwNy0xMS45MjMgNC45Mi0xNi43NTV6IiBmaWxsPSIjMEY5RDU4IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgICAgICAgICAgPHBhdGggZD0iTTU4LjYxNSAxNi45MUEzMC44NDMgMzAuODQzIDAgMCAxIDYyIDMxYzAgMTcuMTEtMTMuODkgMzEtMzEgMzEtLjQ5MyAwLS45ODMtLjAxMi0xLjQ3LS4wMzVsMTMuNjc2LTIzLjkyTDMxIDE2LjkxaDI3LjYxNXoiIGZpbGw9IiNGRkNENDAiIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNMzEgMTYuOTFoMjcuNjE4TDMxIDI0LjI5di03LjM4ek00LjkyMSAxNC4yNUwyNS4wOSAzNC40MTNsLTYuMjkyIDMuNjMxTDQuOTIxIDE0LjI1em0yNC42MSA0Ny43MTFsNy4zODQtMjcuNTQ3IDYuMjkxIDMuNjMxLTEzLjY3NSAyMy45MTZ6IiBmaWxsLW9wYWNpdHk9Ii4xIiBmaWxsPSIjMDAwIi8+CiAgICAgICAgICAgIDxjaXJjbGUgZmlsbD0iI0YxRjFGMSIgY3g9IjMxIiBjeT0iMzEiIHI9IjE0LjA5MSIvPgogICAgICAgICAgICA8Y2lyY2xlIGZpbGw9IiM0Mjg1RjQiIGN4PSIzMSIgY3k9IjMxIiByPSIxMS4yNzMiLz4KICAgICAgICAgICAgPGNpcmNsZSBmaWxsPSJ1cmwoI2EpIiBjeD0iMzEiIGN5PSIzMSIgcj0iMzEiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=":/chrome/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgdmlld0JveD0iMCAwIDExMCAxMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMTAgMEgwVjExMEgxMTBWMFoiIGZpbGw9IiMxOTFBMUMiLz4KPHBhdGggb3BhY2l0eT0iMC44NSIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MC4yMjk5IDg0TDY0LjgzNTcgNDEuMzgyMUw3Mi43NDM1IDU1LjA3NjVMNTYuMDQzNCA4NEg0MC4yMjk5Wk01NS45NzE4IDI2TDYwLjgxNjMgMzQuMjYzNkw1Mi44NjQ4IDQ4LjAzNTVMNDAuMDU5IDI2SDU1Ljk3MThaIiBmaWxsPSJ1cmwoI3BhaW50MF9yYWRpYWwpIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNjQuNzk2NSAzMS4wMzE4TDc2LjcyMzcgNTEuNjg5N0g5MC43MTQzVjU1LjAwMzVINzQuODExNEw2NC43OTY1IDM3LjY1OTNMNDIuOTI5OSA3NS41MzIyTDMyLjk5MDYgNTguMzE3M0gxOVY1NS4wMDM1SDM0LjkwMjlMNDIuOTI5OSA2OC45MDY2QzUwLjIxOTUgNTYuMjgxNyA1Ny41MDcgNDMuNjU2NyA2NC43OTY1IDMxLjAzMThaIiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXIpIi8+CjxkZWZzPgo8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50MF9yYWRpYWwiIGN4PSIwIiBjeT0iMCIgcj0iMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzIuODAzNyA1NC4wMjg0KSBzY2FsZSgyOC45NDQ4IDQ3LjA3NzUpIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzczN0U4NyIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1MTU5NUUiIHN0b3Atb3BhY2l0eT0iMC43NSIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MV9saW5lYXIiIHgxPSIxOC4xMTkxIiB5MT0iNTMuMjgyMiIgeDI9IjkxLjU5NTMiIHkyPSI1My4yODIyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNDQzdCMTkiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjRDRTFFIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==":/plex.*dash/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU1LjE4NCAyNy4yNTNjMTUuNTQ4IDAgMjguNTIgOS41MTIgMzEuNTI5IDIyLjE2LjI4IDEuMTc0LjQ3IDIuMzYyLS4wNzIgMy4xNTctLjc2NSAxLjEyNC0yLjUxNi45MTItMy43MjQuOTEyaC0yMi45OWMtMi4zMjIgMC00LjAwNy4wMy02LjE5OC0xLjA2LTEuNjkxLS44NDEtMi4yNzktMS41NDctMy40My0yLjg3NmE4LjQ2MSA4LjQ2MSAwIDAgMC02LjQxMS0yLjk0Yy00LjcwNCAwLTguNTIgMy44NTMtOC41MiA4LjYwNnMzLjgxNSA4LjYwNiA4LjUyIDguNjA2YTguNDI1IDguNDI1IDAgMCAwIDUuMzYxLTEuOTJjLjc2NS0uNjI1IDEuNzY1LTEuNzk0IDIuNDcyLTIuNTM5IDEuNzMtMS44MjEgNC40NDMtMi40MDMgNy41MzEtMi4yODRoMjQuNTZjMi42MDYtLjA2NCAzLjU1Ni40NTMgMy4wNjIgMi44NTItMi42OCAxMy4wMDMtMTUuODQ4IDIyLjg3Ni0zMS42ODcgMjIuODc2LTkuNTc3IDAtMTguMTc4LTMuNjEtMjQuMDczLTkuMzQyLS43MTEtLjY5MS0xLTEuNTc3LjAwNi0yLjE0Mi4zNzMtLjIwOS45MjUtLjMyNiAxLjY5LS4zMjhoMTYuNTA4YzEuNzY4LjEgMy4zNDMuNTYyIDQuNzQ3IDEuMzg3IDEuNjM5Ljk2NCAxLjkzNCAxLjYzIDMuMSAyLjg1MmE4LjQ1MiA4LjQ1MiAwIDAgMCA2LjEzNiAyLjYzNWM0LjcwMyAwIDguNTE5LTMuODUyIDguNTE5LTguNjA1IDAtNC43NTQtMy44MTUtOC42MDYtOC41Mi04LjYwNmE4LjQyNSA4LjQyNSAwIDAgMC01LjM2IDEuOTE5Yy0uNzY1LjYyNi0xLjc2NiAxLjc5NC0yLjQ3MiAyLjU0LTIuNjQyIDIuNzgtNy4wMTggMi4yODQtMTAuNTE1IDIuMjg0SDMyLjQ4NGMtMS45MzggMC00LjA5LjIwMS01Ljc3LS45MTMtMS4wNTgtLjcwMy0xLjc5LTEuODMtMi4zNTYtMy40NTdhMjQuMjQ3IDI0LjI0NyAwIDAgMS0uMzg0LTE0LjgwM2MuOTQzLTMuMTU0IDIuNDk4LTUuNjQ3IDcuMDkxLTUuNTIzaDE3LjA3NmMyLjQ5Mi0uMDk1IDQuNzQyLjI2NiA2LjQyNiAxLjM2OC45MjMuNjAzIDEuMjgyIDEuMTU5IDEuOTk1IDEuOTQyLjUyNS41NzcgMS4wOTYgMS4xNTIgMS41OCAxLjUxNCAxLjUxNiAxLjEzNSAzLjMzIDEuOTIgNS4zNjIgMS45MiA0LjcwNCAwIDguNTE4LTMuODUzIDguNTE4LTguNjA2IDAtNC43NTQtMy44MTMtOC42MDYtOC41MTgtOC42MDZhOC40NjQgOC40NjQgMCAwIDAtNi40ODggMy4wM2MtMS41MSAxLjc5Mi0zLjA3NyAyLjkyOS01LjExIDMuNDc4LTEuMzkuMzc1LTIuNTI0LjM2Ni0zLjkzLjM2NmgtMTQuOTZjLTIuOTUzLS4wMDgtMi44MzMtMS43MDctMS4wNzMtMy4yOSA1Ljg1OC01LjI4IDE0LjExLTguNTY3IDIzLjI0OS04LjU2NyIgZmlsbD0iIzQ1QUE0MiIvPgogICAgPC9nPgo8L3N2Zz4K":/dlna/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQ0LjQyNSA0OS4xNzNoMjEuMTFjMC03LjU0My0zLjI3LTEyLjY4NS0xMi4xODctMTIuNjg1QzQyLjgxIDM2LjQ4OCAzMi4wOTQgNDMuMzkyIDI3IDUyYzEuNTc4LTE0Ljk0MSAxMi4yMjMtMjcgMjguMjUtMjcgMTMuNzM2IDAgMjYuNzUxIDEwLjU3IDI2Ljc1MSAyOC4xNHY2LjY4SDQ0LjUzOGMwIDkuMDkgNy44ODEgMTIuNjk0IDE2LjEzIDEyLjY5NCAxMC4wNCAwIDE2LjI2NS00LjU0MyAxNi4yNjUtNC41NDN2MTIuNzM1cy03LjAyIDQuMjkzLTE4LjIxNSA0LjI5M2MtMTQuNTQ1IDAtMjQuODEzLTEwLjQ5MS0yNC44MTMtMjMuNTM2IDAtMTAuMjQgNi4xNTQtMTguNDE1IDE0LjY3OS0yMS43ODktNC4xNSA0LjU4Ni00LjE2NCA5LjUwMi00LjE2NCA5LjUwMiIgZmlsbD0iIzMyNzdCQyIvPgogICAgPC9nPgo8L3N2Zz4K":/edge/i,[a.p+"desktop/common/img/devices/firefox.e8c14a7b2f07aaa06fc6b66b308c3e7a.svg"]:/firefox/i,[a.p+"desktop/common/img/devices/gtv.b27f5dff79b3f1898b1c4957c6155448.svg"]:/google.*tv/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTgzLjk5OSA1NS44N2MwLTQuOTAyLTEuMjY3LTkuNTA2LTMuNDktMTMuNTA3Qzg5Ljk4MiAyMC45MjYgNzAuMzYgMjQuMDY2IDY5LjI2OSAyNC4yOGE0OS44OTcgNDkuODk3IDAgMCAwLTExLjU1IDMuNzc0Yy0uNTIzLS4wMy0xLjA1LS4wNDUtMS41OC0uMDQ1LTEzLjIzOSAwLTI0LjMyIDkuMjM0LTI3LjE1NyAyMS42MTIgNi45NzgtNy44MjggMTEuODYxLTEwLjk4NiAxNC43ODYtMTIuMjUtLjQ2Ny40MTctLjkyNC44MzgtMS4zNzMgMS4yNjMtLjE1LjE0Mi0uMjk0LjI4NS0uNDQyLjQyNy0uMjk2LjI4NS0uNTkyLjU3LS44OC44NTgtLjE3My4xNzItLjM0LjM0NC0uNTEuNTE3LS4yNTUuMjYtLjUxMS41MjEtLjc2MS43ODQtLjE3OC4xODYtLjM1MS4zNzMtLjUyNi41NmE2OS4zNzYgNjkuMzc2IDAgMCAwLTIuMzggMi42NzUgODAuMzY1IDgwLjM2NSAwIDAgMC0xLjY1IDIuMDEyYy0uMTcyLjIxOC0uMzQ2LjQzNy0uNTE1LjY1NS0uMTYxLjIwNy0uMzE4LjQxNC0uNDc1LjYyMS0uMTc4LjIzNC0uMzU4LjQ2OC0uNTMxLjcwMS0uMTI0LjE2Ny0uMjQzLjMzMi0uMzY1LjQ5OGE4Ni40MjEgODYuNDIxIDAgMCAwLTMuNzE3IDUuNTA0bC0uMDM3LjA2Yy0uMjI3LjM2NS0uNDQ1LjcyNC0uNjU5IDEuMDhsLS4wMjIuMDM3YTg5LjQ5NCA4OS40OTQgMCAwIDAtMS41ODQgMi43NDZjLTIuNTA5IDQuNTQ3LTMuNzMgNy43MjQtMy43ODMgNy45MTMtNy45MjQgMjguMzI4IDE2LjgwNiAxNi4zNjUgMjAuMjU3IDE0LjU4YTI3Ljc0NyAyNy43NDcgMCAwIDAgMTIuMzI0IDIuODY4YzEyLjExNSAwIDIyLjQyMi03LjczMiAyNi4yNTgtMTguNTMxSDY3Ljc1N2MtMi4xNjYgMy42Ni02LjMzNiA2LjEzOC0xMS4xMjcgNi4xMzgtNy4wMiAwLTEyLjcxLTUuMzE4LTEyLjcxLTExLjg4aDM5Ljg1QTI4LjEzIDI4LjEzIDAgMCAwIDg0IDU1Ljg3aC0uMDAxem0tNS4yMDUtMjcuNDE3YzIuNCAxLjYyIDQuMzI0IDQuMTYyIDEuMDIgMTIuNzI2YTI3Ljk1NCAyNy45NTQgMCAwIDAtMTMuNjA3LTExLjI5M2MyLjU3OC0xLjI0NiA4Ljk2My0zLjg4IDEyLjU4Ny0xLjQzM3pNMjcuODA2IDgwLjgwNGMtMS45NTQtMi4wMDQtMi4zLTYuODg1IDIuMDEzLTE1Ljc4QTI3Ljk0MiAyNy45NDIgMCAwIDAgNDEuOTUgNzkuODUzYy0yLjc5MSAxLjUzNi0xMC4yMDIgNC45OTUtMTQuMTQ0Ljk1MnptMTYuMDUyLTI4Ljk2NmMuMjIzLTYuMzc2IDUuNzcyLTExLjQ4MiAxMi41OS0xMS40ODIgNi44MTkgMCAxMi4zNjggNS4xMDYgMTIuNTkgMTEuNDgyaC0yNS4xOHoiIGZpbGw9IiMxRUJCRUUiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/internet.*explorer|explorer.*windows/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNMjIuMzkgNzEuMzM4VjQ3Ljc4NGg0LjcwN3YyMy41NTRIMjIuMzl6bTIuMzY1LTI2LjkxNmMtMS41MTkgMC0yLjc1NS0xLjIxNC0yLjc1NS0yLjcxQzIyIDQwLjE3MSAyMy4yMzYgMzkgMjQuNzU1IDM5YzEuNTE4IDAgMi43NTQgMS4xNzEgMi43NTQgMi43MTEgMCAxLjQ5Ny0xLjIzNiAyLjcxMS0yLjc1NCAyLjcxMXptMjEuMzQyLTQuOTAxYzkgMCAxNC42NjEgNi4yMjQgMTQuNjYxIDE2LjE4IDAgOS45NTUtNS42NiAxNi4xNTgtMTQuNjYxIDE2LjE1OC05LjAyMyAwLTE0LjY2Mi02LjIwMy0xNC42NjItMTYuMTU4IDAtOS45NTYgNS42MzktMTYuMTggMTQuNjYyLTE2LjE4em0wIDQuMjcyYy01Ljk0MyAwLTkuNjk1IDQuNTk4LTkuNjk1IDExLjkwOCAwIDcuMjg3IDMuNzUyIDExLjg4NSA5LjY5NSAxMS44ODUgNS45NDIgMCA5LjY3My00LjU5OCA5LjY3My0xMS44ODUgMC03LjMxLTMuNzMtMTEuOTA4LTkuNjczLTExLjkwOHpNNjMuOTkgNjIuNjJoNC43OTNjLjM0NyAzLjEwMiAzLjM2MiA1LjE0IDcuNDgzIDUuMTQgMy45NDggMCA2Ljc4OS0yLjAzOCA2Ljc4OS00LjgzNiAwLTIuNDMtMS43MTQtMy44ODItNS43Ny00Ljg4bC00LjA1NS0uOTc2Yy01Ljc0OC0xLjM4OC04LjQxNi00LjA3OC04LjQxNi04LjQzNyAwLTUuNCA0LjcwNy05LjExIDExLjM4Ny05LjExIDYuNjE1IDAgMTEuMTQ4IDMuNzEgMTEuMyA5LjExaC00LjcyOGMtLjI4Mi0zLjEyMy0yLjg2My01LjAxLTYuNjM3LTUuMDEtMy43NzQgMC02LjM1NSAxLjkwOC02LjM1NSA0LjY4NSAwIDIuMjEyIDEuNjQ5IDMuNTEzIDUuNjgzIDQuNTExbDMuNDQ4Ljg0NmM2LjQyIDEuNTE4IDkuMDg4IDQuMSA5LjA4OCA4LjY3NSAwIDUuODU3LTQuNjYzIDkuNTIyLTEyLjA4IDkuNTIyLTYuOTQxIDAtMTEuNjI2LTMuNTc5LTExLjkzLTkuMjR6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/ios/i,[a.p+"desktop/common/img/devices/linux.88a90a622da7571f29bdcdf21925a730.svg"]:/linux/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNDkuOTk0JSIgeTE9IjEuNjMxJSIgeDI9IjQ5Ljk5NCUiIHkyPSI5OC41NDMlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRjFCMkQiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSIzMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSI2MSUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0E3MDAxNCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwLjAwNSUiIHkxPSIuODQ4JSIgeDI9IjUwLjAwNSUiIHkyPSI5OS42MDIlIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM5QzAwMDAiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSI3MCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMwLjg0IDBDMTMuODA2IDAgMCAxMy44MTIgMCAzMC44NDdjMCAxNi41NDMgMTMuMDI2IDMwLjA0MiAyOS4zOCAzMC44MWEzMC43MzQgMzAuNzM0IDAgMCAwIDIyLjAyNS03LjgxNGMtMy42MTYgMi4zOTktNy44NDUgMy43NzQtMTIuMzYzIDMuNzc0LTcuMzQ4IDAtMTMuOTIzLTMuNjQ2LTE4LjM0OS05LjM5Mi0zLjQxMy00LjAyLTUuNjIzLTkuOTc1LTUuNzctMTYuNjU0di0xLjQ1NWMuMTQ3LTYuNjczIDIuMzU3LTEyLjYyNyA1Ljc2NC0xNi42NTQgNC40MjYtNS43NDYgMTEuMDA3LTkuMzg2IDE4LjM1NS05LjM4NiA0LjUxOCAwIDguNzQ3IDEuMzgxIDEyLjM2MyAzLjc4MUEzMC43MzMgMzAuNzMzIDAgMCAwIDMwLjk1NyAwaC0uMTE3eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZD0iTTIwLjY4NyAxMy40NjJjMi44MzYtMy4zNCA2LjQ4OS01LjM1MyAxMC40ODUtNS4zNTMgOC45OCAwIDE2LjI2MSAxMC4xODQgMTYuMjYxIDIyLjczOCAwIDEyLjU2LTcuMjggMjIuNzM3LTE2LjI2MSAyMi43MzctMy45OTYgMC03LjY0OS0yLjAxNC0xMC40NzktNS4zNTMgNC40MjYgNS43NDYgMTEgOS4zOTIgMTguMzQ5IDkuMzkyIDQuNTE4IDAgOC43NDctMS4zODEgMTIuMzYzLTMuNzc1IDYuMzEtNS42NTQgMTAuMjgyLTEzLjg2MSAxMC4yODItMjMuMDAxIDAtOS4xMzUtMy45NzItMTcuMzQ4LTEwLjI4OC0yMi45OTYtMy42MTYtMi40LTcuODQtMy43NzUtMTIuMzU3LTMuNzc1LTcuMzQ4IDAtMTMuOTIzIDMuNjQ2LTE4LjM0OSA5LjM5MiIgZmlsbD0idXJsKCNiKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/opera/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTcxLjc2IDU0Ljk5NGMtLjA3NC03Ljc0IDYuMzQ0LTExLjQ2IDYuNjM1LTExLjY0LTMuNjEtNS4yNTctOS4yMjQtNS45NzgtMTEuMjMyLTYuMDY0LTQuNzgzLS40ODItOS4zMzIgMi44MDQtMTEuNzU1IDIuODA0LTIuNDI0IDAtNi4xNjYtMi43MzEtMTAuMTMzLTIuNjU3LTUuMjE1LjA3NS0xMC4wMTggMy4wMTctMTIuNzA2IDcuNjY0LTUuNDEyIDkuMzYtMS4zODQgMjMuMjIyIDMuODkzIDMwLjgxIDIuNTggMy43MTEgNS42NTMgNy44ODkgOS42OTMgNy43MzcgMy44OS0uMTUxIDUuMzYtMi41MDMgMTAuMDU5LTIuNTAzIDQuNyAwIDYuMDIzIDIuNTAzIDEwLjEzNiAyLjQyNSA0LjE4Ni0uMDczIDYuODM2LTMuNzg0IDkuMzk3LTcuNTEgMi45NjItNC4zMSA0LjE4LTguNDgzIDQuMjUzLTguNjk3LS4wOTItLjA0Mi04LjE2NC0zLjEyLTguMjQ1LTEyLjM3M20tNy43MjgtMjIuNzI1YzIuMTQ2LTIuNTg3IDMuNTg5LTYuMTg3IDMuMTkzLTkuNzY1LTMuMDg4LjEyNS02LjgyNyAyLjA0OS05LjA0NSA0LjYzNC0xLjk4NyAyLjI5LTMuNzI2IDUuOTQ4LTMuMjU1IDkuNDYgMy40NDIuMjY1IDYuOTYyLTEuNzQ1IDkuMTA3LTQuMzMiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/mac/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iODkuMjY3JSIgY3k9IjQ5LjcxMyUiIGZ4PSI4OS4yNjclIiBmeT0iNDkuNzEzJSIgcj0iOTIuNSUiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLjYxMTIgMCAuMTkzKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGQ9Ik0wIDBoMTEwdjExMEgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0zOCAyNWgxNy40MzRsMTkuMjM4IDMwLTE5LjIzOCAzMEgzOGwxOS4yMzgtMzBMMzggMjUiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/konvergo|plex.*home.*theater|plex.*media.*center/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNENFMUUiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTc4LjQ3MyA1NWwtMjAuMy0yOC45ODZMNTEuNzI4IDI2bC0zLjIyMi4wMTRMNjguODA2IDU1IDUwLjc2IDgwLjc3N2gtMy4yMjJMNjUuNTg0IDU1bC0yMC4zLTI4Ljk4NkwzOC44NCAyNmwtMy4yMjMuMDE0IDE4LjA2MSAyNS43NjRIMTlWNTVoNDAuMTRMNDEuMDg0IDI5LjIyMmgzLjIyM0w2Mi4zNjEgNTVsLTIwLjMgMjloOS42NjdsMjAuMy0yOS0xOC4wNTQtMjUuNzc4aDMuMjIzTDc1LjI1IDU1bC0yMC4zIDI5aDkuNjY3bDE4LjAxLTI1Ljc3OGg4LjcwNlY1NWgtOS42MzlMNjMuNjUgODAuNzc3aC0zLjIyMnoiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/plexamp/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0U1QTAwRCIgb2Zmc2V0PSI0Ny43MzglIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI4OS4yNjclIiBjeT0iNDkuNzEzJSIgZng9Ijg5LjI2NyUiIGZ5PSI0OS43MTMlIiByPSI5Mi41JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAuNjExMiAwIC4xOTMpIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMxIDYyQzEzLjg3OSA2MiAwIDQ4LjEyMSAwIDMxIDAgMTMuODc5IDEzLjg3OSAwIDMxIDBjMTcuMTIxIDAgMzEgMTMuODc5IDMxIDMxIDAgMTcuMTIxLTEzLjg3OSAzMS0zMSAzMXptMC0xLjg2YzE2LjA5MyAwIDI5LjE0LTEzLjA0NyAyOS4xNC0yOS4xNFM0Ny4wOTMgMS44NiAzMSAxLjg2IDEuODYgMTQuOTA3IDEuODYgMzEgMTQuOTA3IDYwLjE0IDMxIDYwLjE0eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNiKSIgZD0iTTIwLjM5OCAxMS42NTZoMTEuMjZsMTIuNDI0IDE5LjM3NS0xMi40MjUgMTkuMzc1SDIwLjM5OGwxMi40MjUtMTkuMzc1LTEyLjQyNS0xOS4zNzUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K":/plex.*media.*server/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxQTgwRDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzFBNDU5MyIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTg5LjkxMSA2OS44NmMtMS40MTcgMS43ODgtNC44OSAzLjA2NC00Ljg5IDMuMDY0bC0yNS44MyA5LjI3OFY3NS4zNmwxOS4wMS02Ljc3NGMyLjE1Ni0uNzczIDIuNDg4LTEuODY1LjczNC0yLjQzOS0xLjc1LS41NzUtNC45Mi0uNDEtNy4wNzguMzY2TDU5LjE5IDcwLjk3NHYtNy4xMDFsLjczLS4yNDdzMy42Ni0xLjI5NiA4LjgwNy0xLjg2NmM1LjE0Ny0uNTY3IDExLjQ1LjA3OCAxNi4zOTcgMS45NTMgNS41NzUgMS43NjIgNi4yMDMgNC4zNiA0Ljc4NyA2LjE0N3pNNjEuNjUgNTguMjF2LTE3LjVjMC0yLjA1NC0uMzc5LTMuOTQ2LTIuMzA3LTQuNDgyLTEuNDc3LS40NzMtMi4zOTMuODk4LTIuMzkzIDIuOTUyVjgzTDQ1LjEzIDc5LjI1VjI3YzUuMDI1LjkzMyAxMi4zNDUgMy4xMzggMTYuMjggNC40NjUgMTAuMDEgMy40MzYgMTMuNDAzIDcuNzEyIDEzLjQwMyAxNy4zNDggMCA5LjM5Mi01Ljc5OCAxMi45NTItMTMuMTY1IDkuMzk2ek0yMy40NDYgNzQuNjQ0Yy01LjcyMy0xLjYxMS02LjY3Ni00Ljk3LTQuMDY3LTYuOTA1IDIuNDEtMS43ODYgNi41MTEtMy4xMzEgNi41MTEtMy4xMzFsMTYuOTQ1LTYuMDI1djYuODY5bC0xMi4xOTQgNC4zNjRjLTIuMTU0Ljc3My0yLjQ4NSAxLjg2Ny0uNzM1IDIuNDQgMS43NTIuNTc0IDQuOTIzLjQxIDcuMDgtLjM2NGw1Ljg1LTIuMTIydjYuMTQ1Yy0uMzcyLjA2Ni0uNzg1LjEzMi0xLjE2OC4xOTYtNS44NS45NTYtMTIuMDgxLjU1Ny0xOC4yMjItMS40Njd6IiBmaWxsPSJ1cmwoI2EpIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/WebMAF|playstation|mystery.*3/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNjYyRDkxIiBkPSJNMTEgMzJoODh2NDZIMTF6Ii8+CiAgICAgICAgPHBhdGggZD0iTTY2LjkyNyA1NC4zODhsLTYuMTk2IDYuMjF2LTYuMjMxaC01LjM3OHYxNS44MzVoNS4zNzh2LTYuNDI0bDYuNDY5IDYuNDI0aDYuNzdsLTguMjIxLTguMjQyIDYuODA5LTYuODIzdjkuMzk4YzAgMy4xMiAxLjg3MiA2IDYuNTg2IDYgMi4yMzggMCA0LjI5Mi0xLjI3MiA1LjI5LTIuNDI0bDIuNDE4IDIuMDlIODhWNTQuMzg0aC01LjM3OHYxMC4yNGMtLjYwNSAxLjA2LTEuNDUgMS43MjYtMi43NTQgMS43MjYtMS4zMjMgMC0xLjkzLS43ODctMS45My0zLjMwMXYtOC42NjVoLTExLjAxbS0zMy4wNzMgMTUuODRsLTQuODQ2LTYuNzRoLTEuNjN2Ni43MjZIMjJWNTBoNy43MDZjNC40NDMgMCA4LjA2OSAzLjAyOSA4LjA2OSA2Ljc1NCAwIDIuMjczLTEuMzkgNC4zMDItMy41MSA1LjU0NGw1LjY5IDcuOTI3LTYuMS0uMDAyem0tMS40NjQtMTMuNDY3YzAtMS44OC0xLjUwOS0zLjM5My0zLjM1My0zLjM5M2gtMS42NjN2Ni43NTZoMS42NjNjMS44NDUgMCAzLjM1My0xLjUxNSAzLjM1My0zLjM2M3ptMjEuOTE3IDUuNTRjMCA0LjU3OC0zLjcxNCA4LjI0NC04LjI4IDguMjQ0YTguMjI2IDguMjI2IDAgMCAxLTguMjUxLTguMjQzIDguMjI2IDguMjI2IDAgMCAxIDguMjUtOC4yNDFjNC41NjYgMCA4LjI4IDMuNjY3IDguMjggOC4yNHptLTguMjgtNC4zM2MtMS40MjEgMC0yLjYzMSAxLjkzNS0yLjYzMSA0LjMzIDAgMi4zOTcgMS4yMDggNC4zMzUgMi42MyA0LjMzNSAxLjQ1MyAwIDIuNjYtMS45MzggMi42Ni00LjMzNCAwLTIuMzk3LTEuMjA2LTQuMzMxLTIuNjYtNC4zMzF6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg==":/roku/i,[a.p+"desktop/common/img/devices/safari.d35160fffeea81c083734fabf407a724.svg"]:/safari/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTEwMC45NDMgNDcuMzY5YzEuMjUzIDcuMjc2LTE4LjI5OSAxNi44MDYtNDMuNjc2IDIxLjI4NC0yNS4zNzMgNC40NzgtNDYuOTU5IDIuMjA1LTQ4LjIxLTUuMDc0LTEuMjUtNy4yNzggMTguMzA3LTE2LjgwNCA0My42OC0yMS4yODEgMjUuMzc1LTQuNDggNDYuOTU3LTIuMjA4IDQ4LjIwNiA1LjA3eiIgZmlsbD0iIzAzNEVBMiIvPgogICAgICAgIDxwYXRoIGQ9Ik03Ny4wNjEgNTguMTdsLS4xMy03LjU2NmgyLjM1NXY5LjUzN0g3NS45bC0yLjM1LTcuODI2aC0uMDVsLjEzIDcuODI2aC0yLjM0di05LjUzN2gzLjUzMmwyLjE4NiA3LjU2N2guMDUzem0tNDIuODA2LTYuNjczbC0xLjMwMyA4Ljc0NGgtMi41NjhsMS43NjMtOS42MzdoNC4yMzFsMS43NTYgOS42MzdoLTIuNTU4bC0xLjI2OC04Ljc0NGgtLjA1M3ptMTEuMDkyIDYuNDc0bDEuMTc2LTcuMzY3aDMuODc5bC4yMDYgOS42MzdINDguMjNsLS4wNjMtOC42NjRoLS4wNWwtMS41OSA4LjY2NGgtMi40MTNsLTEuNTktOC42NjRoLS4wNTJsLS4wNiA4LjY2NGgtMi4zODJsLjIxLTkuNjM3aDMuODgxbDEuMTc1IDcuMzY3aC4wNXptLTE4Ljk2OS0uNDQ4Yy0uNDg5LTEuMjQ4LTMuODY4LTEuODE4LTQuMjgzLTMuNzg3LS4xLS40ODMtLjA5LS44Ny0uMDIxLTEuMzAzLjI1Mi0xLjU2OSAxLjYzNS0yLjEzNSAzLjMyNy0yLjEzNSAxLjM0NyAwIDMuMjA3LjMyOCAzLjIwNyAyLjQyN3YuNjc3aC0yLjM3MnYtLjU5NWMwLS41MjYtLjMyOS0uODc0LS44ODUtLjg3NC0uNTk1IDAtLjgwMy4zMzgtLjg2OS42NDYtLjAyMi4xMS0uMDM1LjMxNC4wMS41MDguMjcgMS4xMjggMy44OCAxLjczIDQuMjggMy43NDguMDQuMjA1LjEyNi43NS4wMSAxLjU4My0uMjI1IDEuNjA1LTEuNjQyIDIuMjAxLTMuMzYyIDIuMjAxLTEuNzg5IDAtMy40NTktLjY0OC0zLjQ1OS0yLjc5NmwuMDAyLS43NDdoMi41NTF2LjkzM2MwIC41My4zNjIuODc2Ljk1OS44NzYuNjMyIDAgLjg0Ny0uMzI3LjkyNi0uNjQ4LjA0NC0uMTguMDcyLS40OC0uMDItLjcxNHptMzAuOTMtLjAxOGMtLjQ4NC0xLjIzNS0zLjgzLTEuODAxLTQuMjQtMy43NWEzLjM2IDMuMzYgMCAwIDEtLjAyMS0xLjI4N2MuMjQ3LTEuNTU3IDEuNjE5LTIuMTE3IDMuMjkyLTIuMTE3IDEuMzM0IDAgMy4xNzguMzI2IDMuMTc4IDIuNDAzdi42N2gtMi4zNTR2LS41OWMwLS41MjItLjMyMS0uODYyLS44NzItLjg2Mi0uNTkgMC0uNzkzLjMzMS0uODYxLjY0LS4wMjMuMTA0LS4wMzYuMzA3LjAwOS41LjI2NiAxLjExNiAzLjg0IDEuNzEyIDQuMjM5IDMuNzExLjA0MS4yMDIuMTIzLjc0LjAwOCAxLjU2Ni0uMjIxIDEuNTkxLTEuNjI1IDIuMTgtMy4zMjcgMi4xOC0xLjc3MSAwLTMuNDI2LS42NDMtMy40MjYtMi43N2wuMDA0LS43MzZoMi41MjRsLjAwMi45MjVjMCAuNTE3LjM2Ljg2My45NDcuODYzLjYyOSAwIC44NDEtLjMyMi45MTktLjY0MS4wNDItLjE4MS4wNzMtLjQ3My0uMDIxLS43MDV6bTcuOTkgMS4yOTVjLjY2IDAgLjg2Ni0uNDYzLjkxMS0uN2EyLjAzIDIuMDMgMCAwIDAgLjAyMi0uMzY4VjUwLjZoMi40MDZ2Ni45MTNjLjAwNS4xNzgtLjAxMi41NDItLjAyLjYzMy0uMTcgMS44LTEuNTczIDIuMzgzLTMuMzIgMi4zODMtMS43NSAwLTMuMTU1LS41ODQtMy4zMjItMi4zODNhOC4zMzMgOC4zMzMgMCAwIDEtLjAyLS42MzNWNTAuNmgyLjQwM3Y3LjEzMmMwIC4xMjQuMDA1LjI2NS4wMjMuMzY4LjA1MS4yMzcuMjUxLjcuOTE2Ljd6bTE5Ljg0Mi0uMTAyYy42ODkgMCAuOTMtLjQ0MS45NzQtLjY5OC4wMTctLjExLjAyMi0uMjQ1LjAyMS0uMzY3di0xLjM5OWgtLjk3NnYtMS40MDdoMy4zNzN2Mi41ODdjLS4wMDMuMTgtLjAwNy4zMTMtLjAzNS42MzUtLjE1OSAxLjc1My0xLjY2IDIuMzc5LTMuMzQ1IDIuMzc5LTEuNjkgMC0zLjE4OC0uNjI2LTMuMzQ5LTIuMzc5YTcuOSA3LjkgMCAwIDEtLjAzNC0uNjM1bC4wMDItNC4wNThjMC0uMTcxLjAyMS0uNDc0LjA0LS42MzUuMjEtMS44MDEgMS42NTItMi4zOCAzLjM0LTIuMzhzMy4xNjQuNTc2IDMuMzQgMi4zOGMuMDMuMzA3LjAyLjYzNS4wMi42MzV2LjMyMWgtMi4zOTh2LS41NGMuMDAyLjAwMi0uMDAzLS4yMjktLjAzMS0uMzY2LS4wNC0uMjEzLS4yMjQtLjcwMi0uOTQ4LS43MDItLjY5NCAwLS44OTcuNDYzLS45NDguNzAyYTIuMTkgMi4xOSAwIDAgMC0uMDQuNDU1djQuNDA3Yy0uMDAyLjEyMi4wMDUuMjU2LjAyNC4zNjcuMDQyLjI1OC4yODEuNjk4Ljk3LjY5OHoiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/samsung/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTM0LjI1IDQ2Yy00Ljg3NSAwLTguODQyIDMuOTY2LTguODQyIDguODQyIDAgNC44NzQgMy45NjcgOC44NCA4Ljg0MiA4Ljg0czguODQxLTMuOTY2IDguODQxLTguODRjMC00Ljg3Ni0zLjk2Ni04Ljg0Mi04Ljg0LTguODQyem0wIDE0LjUwNmMtMy4wOTIgMC01LjYwNS0yLjU0LTUuNjA1LTUuNjY0IDAtMy4xMjQgMi41MTMtNS42NjQgNS42MDUtNS42NjQgMy4wOTEgMCA1LjYwNyAyLjU0IDUuNjA3IDUuNjY0IDAgMy4xMjMtMi41MTYgNS42NjQtNS42MDcgNS42NjR6bS0xNC4yMTktNS41MThjMS4yNS45NTMgMS44ODMgMi4xNzQgMS44ODMgMy42MjUgMCAxLjM1Mi0uNjI1IDIuNjcxLTEuNzE3IDMuNjItMS4wOTcuOTQ5LTIuNjAyIDEuNDczLTQuMjQgMS40NzMtMy40MDYgMC01LjM2NC0yLjI4My01LjQ0NS0yLjM3OGwtLjI3OC0uMzMgMi41NDctMS43Mi4yMjEuMTY1Yy40MS4zMDcgMS41MiAxLjAyMiAyLjk1NiAxLjAyMiAxLjcgMCAyLjcxNi0uOTQxIDIuNzE2LTEuODUyIDAtLjM4OCAwLTEuMTk1LTMuMjAxLTIuMjEzLTEuNjQ2LS41MjItMi43NS0xLjA0LTMuNTg4LTEuNjgtMS4yNS0uOTUyLTEuODg1LTIuMTcyLTEuODg1LTMuNjI0IDAtMS4zNTIuNjI2LTIuNjcxIDEuNzE5LTMuNjE5IDEuMDk2LS45NSAyLjYtMS40NzQgNC4yMzgtMS40NzQgMy40MDYgMCA1LjM2NCAyLjI4IDUuNDQ3IDIuMzc4bC4yNzYuMzMtMi41NDUgMS43Mi0uMjItLjE2NWMtLjQxMy0uMzA4LTEuNTI2LTEuMDIzLTIuOTU4LTEuMDIzLTEuNyAwLTIuNzE1Ljk0My0yLjcxNSAxLjg1MyAwIC4zODggMCAxLjE5NSAzLjIwMSAyLjIxMyAxLjY0Ni41MjIgMi43NSAxLjA0IDMuNTg4IDEuNjh6bTM4LjcyIDEuMTF2LTkuNDY1aDMuMTU5VjYzLjUybC0xMC42NTktOS45MnY5LjQwNmgtMy4xNThWNDYuMTZsMTAuNjU4IDkuOTM2em0xNy0xMC4wMzNjNC44NzYgMCA4Ljg0MiAzLjk2NiA4Ljg0MiA4Ljg0MSAwIDQuODc1LTMuOTY2IDguODQxLTguODQyIDguODQxLTQuODc0IDAtOC44NC0zLjk2Ni04Ljg0LTguODQgMC00Ljg3NiAzLjk2Ni04Ljg0MiA4Ljg0LTguODQyem0wIDE0LjUwNWMzLjA5IDAgNS42MDYtMi41NDEgNS42MDYtNS42NjQgMC0zLjEyMi0yLjUxNS01LjY2My01LjYwNi01LjY2My0zLjA5MiAwLTUuNjA1IDIuNTQtNS42MDUgNS42NjNzMi41MTMgNS42NjQgNS42MDUgNS42NjR6bTE0LjIxOS01LjgxYy0xLjI1LS45NTQtMS44ODItMi4xNzMtMS44ODItMy42MjUgMC0xLjM1Mi42MjUtMi42NyAxLjcxNy0zLjYyIDEuMDk2LS45NSAyLjYwMS0xLjQ3NCA0LjIzOS0xLjQ3NCAzLjQwNiAwIDUuMzY0IDIuMjgzIDUuNDQ1IDIuMzc5bC4yNzguMzMtMi41NDYgMS43Mi0uMjIyLS4xNjVjLS40MS0uMzA3LTEuNTItMS4wMjItMi45NTUtMS4wMjItMS43IDAtMi43MTcuOTQxLTIuNzE3IDEuODUyIDAgLjM4OCAwIDEuMTk1IDMuMjAyIDIuMjEzIDEuNjQ2LjUyMiAyLjc1IDEuMDQgMy41ODggMS42OEM5OS4zNjcgNTUuOTggMTAwIDU3LjIgMTAwIDU4LjY1YzAgMS4zNTQtLjYyNiAyLjY3Mi0xLjcxOCAzLjYyLTEuMDk2Ljk1LTIuNiAxLjQ3NC00LjIzOCAxLjQ3NC0zLjQwNyAwLTUuMzY0LTIuMjgxLTUuNDQ1LTIuMzc4bC0uMjc5LS4zMyAyLjU0Ny0xLjcyLjIyLjE2NWMuNDEyLjMwNyAxLjUyNSAxLjAyMiAyLjk1NyAxLjAyMiAxLjcgMCAyLjcxNi0uOTQyIDIuNzE2LTEuODUzIDAtLjM4OCAwLTEuMTk1LTMuMjAyLTIuMjExLTEuNjQ2LS41MjMtMi43NS0xLjA0LTMuNTg4LTEuNjh6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/sonos/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii40NSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8cmFkaWFsR3JhZGllbnQgY3g9IjgyLjg2MiUiIGZ4PSI4Mi44NjIlIiBmeT0iNTAlIiByPSI5MS4xNTklIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAtLjg1MSAxLjY1NyAuOTI2KSIgaWQ9ImIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTAgMTAuNjA0aDYuODU2TDkuMDkgNy44aDEuMDFsLTIuMTg2IDIuODA0aDkuNTIzTDE5LjE4IDcuOGgxLjAxbC0xLjY5NSAyLjgwNGg5LjUyM0wyOS4yNyA3LjhoMS4wMWwtMS4yMDQgMi44MDRoOS41MjNMMzkuMzYgNy44aDEuMDFsLS43MTMgMi44MDRoOS41MjNsLjI3LTIuODA0aDEuMDFsLS4yMjEgMi44MDRoOS41MjNMNTkuNTQgNy44aDEuMDA5bC4yNyAyLjgwNGg5LjUyM0w2OS42MyA3LjhoMS4wMDlsLjc2IDIuODA0aDkuNTI0TDc5LjcyMSA3LjhoMS4wMDlsMS4yNTIgMi44MDRoOS41MjNMODkuODExIDcuOGgxLjAwOWwxLjc0MyAyLjgwNGg5LjUyM0w5OS45MDEgNy44aDEuMDA5bDIuMjM0IDIuODA0SDExMHYuNzkyaC02LjIyNGwyLjU1NyAzLjIwOEgxMTB2Ljc5MmgtMy4wMzVsMi44NzUgMy42MDhoLjE2djEuNzUxbC0uNzQ4LS45NTlIOTguMjhsMi40OTIgNC4wMDhIMTEwdi43OTJoLTguNzM1bDIuOTg5IDQuODA4SDExMHYuNzkyaC01LjI1M2wzLjk4NSA2LjQwOEgxMTB2Ljc5MmgtLjc3NWwuNzc1IDEuMjQ3djIuNTYzbC0yLjMwMy0zLjgxSDkzLjk1bDMuNTc3IDguMDA4SDExMHYuNzkySDk3Ljg4MWw0LjI5MiA5LjYwOEgxMTB2Ljc5MmgtNy40NzNsNS43MjEgMTIuODA4SDExMHYuNzkyaC0xLjM5OGwxLjM5OCAzLjEzdjUuMDI2bC0zLjUtOC4xNTZIODcuNTgyTDkxLjYwMiA4NUg4OS4yNGwtMy43Ni0xNC44MDRINjYuNTZMNjcuOTg3IDg1aC0yLjM2bC0xLjE2OC0xNC44MDRINDUuNTQxTDQ0LjM3NCA4NWgtMi4zNjFsMS40MjYtMTQuODA0SDI0LjUyTDIwLjc2IDg1SDE4LjRsNC4wMi0xNC44MDRIMy41TDAgNzguMzUydi01LjAyNmwxLjM5OC0zLjEzSDB2LS43OTJoMS43NTJsNS43MjEtMTIuODA4SDB2LS43OTJoNy44MjdsNC4yOTItOS42MDhIMHYtLjc5MmgxMi40NzNsMy41NzctOC4wMDhIMi4zMDJMMCA0MS4yMDZ2LTIuNTYzbC43NzUtMS4yNDdIMHYtLjc5MmgxLjI2OGwzLjk4NS02LjQwOEgwdi0uNzkyaDUuNzQ1bDIuOTktNC44MDhIMHYtLjc5Mmg5LjIyOGwyLjQ5Mi00LjAwOEguNzQ4bC0uNzQ4Ljk2di0xLjc1MmguMTZsMi44NzUtMy42MDhIMHYtLjc5MmgzLjY2N2wyLjU1Ny0zLjIwOEgwdi0uNzkyem0yNi4xMTEgNDUuOTkySDkuMzM3TDMuODQgNjkuNDA0aDE4Ljc5NGwzLjQ3Ny0xMi44MDh6bTE4LjYzOCAwSDI3Ljk3NWwtMy4yNTMgMTIuODA4aDE4Ljc5M2wxLjIzNC0xMi44MDh6bTE4LjYzOCAwSDQ2LjYxM2wtMS4wMSAxMi44MDhoMTguNzk0bC0xLjAxLTEyLjgwOHptMTguNjM4IDBINjUuMjUxbDEuMjM0IDEyLjgwOGgxOC43OTNsLTMuMjUzLTEyLjgwOHptMTguNjM4IDBIODMuODg5bDMuNDc3IDEyLjgwOGgxOC43OTRsLTUuNDk3LTEyLjgwOHptLTcxLjcyOC0xMC40SDEzLjhsLTQuMTIzIDkuNjA4aDE2LjY1bDIuNjA4LTkuNjA4em0xNi44MTYgMEgzMC42MTdsLTIuNDQgOS42MDhoMTYuNjQ4bC45MjYtOS42MDh6bTE2LjgxNiAwSDQ3LjQzM2wtLjc1OCA5LjYwOGgxNi42NWwtLjc1OC05LjYwOHptMTYuODE2IDBINjQuMjVsLjkyNSA5LjYwOGgxNi42NWwtMi40NC05LjYwOHptMTYuODE3IDBIODEuMDY1bDIuNjA5IDkuNjA4aDE2LjY0OUw5Ni4yIDQ2LjE5NnptLTY0Ljg3Ni04LjhIMTcuNTc3bC0zLjQzNiA4LjAwOGgxNS4wMWwyLjE3My04LjAwOHptMTUuMjc1IDBIMzIuODUybC0yLjAzNCA4LjAwOGgxNS4wMWwuNzctOC4wMDh6bTE1LjI3NSAwSDQ4LjEyNmwtLjYzIDguMDA4aDE1LjAwOWwtLjYzMS04LjAwOHptMTUuMjc0IDBINjMuNDAxbC43NzEgOC4wMDhoMTUuMDFsLTIuMDM0LTguMDA4em0xNS4yNzUgMEg3OC42NzZsMi4xNzQgOC4wMDhoMTUuMDFsLTMuNDM3LTguMDA4em0tMTcuMTA0LTcuMkg2Mi43MDdsLjYxOCA2LjQwOGgxMy42MjJsLTEuNjI4LTYuNDA4em0tNTYuMDUzIDBINi42NTRsLTMuODcyIDYuNDA4aDEzLjYyMmwyLjg2Mi02LjQwOHptMTQuMDEzIDBIMjAuNjY3bC0yLjc1IDYuNDA4SDMxLjU0bDEuNzQtNi40MDh6bTE0LjAxNCAwSDM0LjY4bC0xLjYyOCA2LjQwOGgxMy42MjJsLjYxOC02LjQwOHptMTQuMDEzIDBINDguNjk0bC0uNTA1IDYuNDA4SDYxLjgxbC0uNTA1LTYuNDA4em0yOC4wMjcgMEg3Ni43MmwxLjc0IDYuNDA4aDEzLjYyMmwtMi43NS02LjQwOHptMTQuMDEzIDBIOTAuNzM0bDIuODYyIDYuNDA4aDEzLjYyMmwtMy44NzItNi40MDh6bS04MS41NzktNS42SDEwLjAzOGwtMi45MDUgNC44MDhIMTkuNjJsMi4xNDctNC44MDh6bTEzLjAzMyAwSDIzLjA3bC0yLjA2MyA0LjgwOGgxMi40ODhsMS4zMDUtNC44MDh6bTEzLjAzMiAwSDM2LjEwM2wtMS4yMjEgNC44MDhoMTIuNDg3bC40NjMtNC44MDh6bTEzLjAzMyAwaC0xMS43M2wtLjM3OCA0LjgwOGgxMi40ODZsLS4zNzgtNC44MDh6bTI2LjA2NCAwSDc1LjJsMS4zMDUgNC44MDhoMTIuNDg4bC0yLjA2NC00LjgwOHptLTEzLjAzMiAwaC0xMS43M2wuNDY0IDQuODA4aDEyLjQ4N2wtMS4yMjEtNC44MDh6bTI2LjA2NSAwaC0xMS43M2wyLjE0OCA0LjgwOGgxMi40ODdsLTIuOTA1LTQuODA4em0tNzYuMDUtNC44SDEyLjkzOWwtMi40MjIgNC4wMDhoMTEuNjA1bDEuNzktNC4wMDh6bTEyLjE5MSAwSDI1LjEzMWwtMS43MiA0LjAwOGgxMS42MDRsMS4wODgtNC4wMDh6bTEyLjE5MiAwSDM3LjMyMmwtMS4wMTggNC4wMDhINDcuOTFsLjM4Ni00LjAwOHptMTIuMTkxIDBINDkuNTE0bC0uMzE2IDQuMDA4aDExLjYwNGwtLjMxNi00LjAwOHptMTIuMTkyIDBINjEuNzA1bC4zODYgNC4wMDhoMTEuNjA1bC0xLjAxOC00LjAwOHptMTIuMTkxIDBINzMuODk3bDEuMDg4IDQuMDA4aDExLjYwNGwtMS43Mi00LjAwOHptMTIuMTkyIDBIODYuMDg4bDEuNzkgNC4wMDhoMTEuNjA1bC0yLjQyMi00LjAwOHptLTI1LjUtNC40SDYxLjI4bC4zNDggMy42MDhoMTAuODQ3bC0uOTE2LTMuNjA4em0tNTcuMTA1IDBINC4xNzhsLTIuODEyIDMuNjA4aDEwLjg0N2wyLjI0My0zLjYwOHptMTEuNDIxIDBIMTUuNTk4bC0yLjE4IDMuNjA4aDEwLjg0OGwxLjYxMS0zLjYwOHptMTEuNDIgMEgyNy4wMmwtMS41NDggMy42MDhoMTAuODQ3bC45OC0zLjYwOHptMTEuNDIyIDBoLTEwLjI4bC0uOTE1IDMuNjA4SDQ4LjM3bC4zNDgtMy42MDh6bTExLjQyIDBINDkuODYxbC0uMjg1IDMuNjA4aDEwLjg0OGwtLjI4NS0zLjYwOHptMjIuODQyIDBINzIuNzAybC45OCAzLjYwOGgxMC44NDdsLTEuNTQ4LTMuNjA4em0xMS40MiAwSDg0LjEyNGwxLjYxMSAzLjYwOGgxMC44NDhsLTIuMTgtMy42MDh6bTExLjQyMiAwaC0xMC4yOGwyLjI0NCAzLjYwOGgxMC44NDdsLTIuODExLTMuNjA4em0tMzUuMjc5LTRoLTkuNjQ4bC4zMDkgMy4yMDhoMTAuMTU0bC0uODE1LTMuMjA4em0tNTMuNiAwSDcuMjk2bC0yLjUgMy4yMDhoMTAuMTUzbDEuOTk1LTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS45MzkgMy4yMDhoMTAuMTU0bDEuNDMzLTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS4zNzcgMy4yMDhoMTAuMTU0bC44Ny0zLjIwOHptMTAuNzIgMGgtOS42NDhsLS44MTUgMy4yMDhoMTAuMTU0bC4zMDktMy4yMDh6bTEwLjcyIDBoLTkuNjQ4bC0uMjUzIDMuMjA4aDEwLjE1NGwtLjI1My0zLjIwOHptMjEuNDQgMGgtOS42NDhsLjg3MSAzLjIwOGgxMC4xNTRsLTEuMzc3LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjQzMyAzLjIwOGgxMC4xNTRsLTEuOTM5LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjk5NSAzLjIwOGgxMC4xNTNsLTIuNS0zLjIwOHpNMCA3Ljc5MlY3aDExMHYuODFsLS4wMTctLjAxOEgwem0wIC4wMThWNy44aC4wMDlMMCA3LjgxeiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyNSkiLz4KICAgICAgICA8cGF0aCBkPSJNMzkuNTggMjUuNDk2bDE5LjExIDI2LjI2Ny0zLjE1NyAzLjA4OS0xNi4yMTEtMjIuOTE3LjI1OS02LjQzOXptLTYuMjQgNTIuNzFoMjIuNjg2TDc3LjkzIDUxLjg1OGwtLjI0OCA2LjQzMi0yMS45MTkgMjYuMzQ3LTIyLjY3OC4wMTcuMjU1LTYuNDQ4eiIgZmlsbD0iIzk5NUMxMiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYikiIGQ9Ik0zOS41ODQuNTAzaDE2Ljc0OGwyMS42MDIgMjYuMzUzLTIxLjkxIDI2LjM1M0gzMy4zNDJsMjQuODc3LTI2LjM1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMjUpIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/plex.*vr/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNODAuMjYgNTEuNDYzdi04LjM3aDYuNjA4djkuMjUxYzAgMy45MDktNi42MDggNC43MDgtNi42MDgtLjg4em0tOS4xMDQgNS44NzRWNDYuMDNjMC0xLjc4NiAxLjU2LTIuOTM3IDMuMzc3LTIuOTM3aDIuNzl2OS44MzljMCA3LjA0NiAxMi42MjkgNy4xMDIgMTIuNjI5LS4xNDdWNDMuMjRoMy42N2MxLjMgMCAyLjM1IDEuNTI4IDIuMzUgMi45Mzd2MTEuNmMwIDIuMzM5LTEuOTAzIDMuOTY1LTQuMjU4IDMuOTY1aC0xNS44NmMtMi43OSAwLTQuNjk4LTEuNjQ0LTQuNjk4LTQuNDA1eiIgZmlsbD0iIzAwOUFDNyIvPgogICAgICAgIDxwYXRoIGQ9Ik02NC41NTYgNjcuMjU2aC00LjkxOVY1MS4zNWg0LjkxOXYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMzEtMi43NzcgMi44OTYtMi43NzcgMS42MjYgMCAyLjkzNSAxLjIzIDIuOTM1IDIuNzc2IDAgMS41NDctMS4zMDkgMi43NzctMi45MzUgMi43NzctMS41ODcgMC0yLjg5Ni0xLjI3LTIuODk2LTIuNzc3em0tNC41NjIgMjEuNDJINDkuNjhWNTEuMzVoNC45MnYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMjctMi43NzcgMi44NTctMi43NzcgMS42NjYgMCAyLjk3NSAxLjIzIDIuOTc1IDIuNzc2IDAgMS41NDctMS4zMSAyLjc3Ny0yLjk3NSAyLjc3Ny0xLjU4NyAwLTIuODU3LTEuMjctMi44NTctMi43Nzd6bS03LjMzOC0xLjQyOWg1LjE5NnMtNC45NTggMTcuOTctNS42MzIgMjAuMDcyYy0uNTU2IDEuNjI3LTEuNzg2IDIuOTM2LTMuNjUgMi45MzYtMi4xMDIgMC0zLjA5NC0xLjU0Ny0zLjU3LTIuOTM2LS40MzYtMS40MjgtMy42NS0xMy4yODgtMy42NS0xMy4yODhzLTMuMjEzIDExLjg2LTMuNjg5IDEzLjI4OGMtLjQzNiAxLjM4OS0xLjQyOCAyLjkzNi0zLjU3IDIuOTM2LTEuODI0IDAtMy4wOTQtMS4zMS0zLjYxLTIuOTM2LS42NzQtMi4xMDItNS42MzItMjAuMDcyLTUuNjMyLTIwLjA3Mmg1LjE1N2w0LjMyMyAxNi44NnMzLjI5My0xMi42NTUgMy44MDgtMTQuNDhjLjU1Ni0xLjc4NSAxLjYyNy0yLjU3OCAzLjIxNC0yLjU3OCAxLjU0NyAwIDIuNjU3Ljc5MyAzLjE3MyAyLjU3OC41NTUgMS44MjUgMy44NDggMTQuNDggMy44NDggMTQuNDhsNC4yODQtMTYuODZ6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg==":/wii.*u/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjMERBREVBIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/windows/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjRTgxMTIzIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/windows.*phone|wince/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iNDMuNTQxJSIgY3k9IjM0LjQzNiUiIGZ4PSI0My41NDElIiBmeT0iMzQuNDM2JSIgcj0iNjUuNTY0JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwIDEgLTEuMDU2MiAwIC44IC0uMDkxKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUY5RjkiIG9mZnNldD0iMjcuNDQlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM2NjYiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI0NS4wODQlIiBjeT0iMzkuMzg5JSIgZng9IjQ1LjA4NCUiIGZ5PSIzOS4zODklIiByPSI3Mi4wNCUiIGlkPSJiIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSI1NS43ODclIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iLjYiIG9mZnNldD0iNzQuNjUzJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii42IiBvZmZzZXQ9Ijg4LjQ0MyUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuNSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjY4LjkzNSUiIHkxPSI4LjU0NCUiIHgyPSIzNS4xMDQlIiB5Mj0iNDcuMDU1JSIgaWQ9ImMiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImQiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImUiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICA8cGF0aCBmaWxsPSIjMTkxQTFDIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNNjEuODk1IDMwLjk4YzAgMTcuMDg4LTEzLjg1MiAzMC45NC0zMC45MzggMzAuOTRDMTMuODcgNjEuOTIuMDE5IDQ4LjA2Ny4wMTkgMzAuOTguMDE5IDEzLjg5NiAxMy44Ny4wNDQgMzAuOTU3LjA0NGMxNy4wODYgMCAzMC45MzggMTMuODUgMzAuOTM4IDMwLjkzOHoiIGZpbGw9InVybCgjYSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgICAgIDxwYXRoIGQ9Ik02MS44OTUgMzAuOTgxYzAgMTcuMDg4LTEzLjg1MiAzMC45MzktMzAuOTM4IDMwLjkzOUMxMy44NyA2MS45Mi4wMTkgNDguMDY5LjAxOSAzMC45OC4wMTkgMTMuODk2IDEzLjg3LjA0MyAzMC45NTcuMDQzYzE3LjA4NiAwIDMwLjkzOCAxMy44NTEgMzAuOTM4IDMwLjkzOHoiIGZpbGwtb3BhY2l0eT0iLjQ1IiBmaWxsPSJ1cmwoI2IpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNOS43MzUgOC40NThjNC44OTMuOTQyIDEwLjYyMiA1LjQxNSAxMy4zMTQgOS4wMjggMS40ODUgMy44MzcgMi43OTcgNi45OTcgNC40NTIgMTAuNTA2YTE2OC40NCAxNjguNDQgMCAwIDEgMy40OTMtMi45NEwzMC45ODcgOS44MWMtMy42NDctMi4yOTQtOS42NzQtNS4zMTItMTYuMjQ0LTUuMTE1YTI5LjA4MyAyOS4wODMgMCAwIDAtNS4wMDggMy43NjJ6IiBmaWxsPSJ1cmwoI2MpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNNi42NDggNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzkgMy4xODRjLS4xNS04Ljc5MyAxMC4wNDQtMTguMjAyIDE4LTI1LjMwNmwtNC40NjgtMTAuNTMzQzE5LjY1MyAyMS42MTEgNS4zODMgMzguNiA2LjY0OSA1MC4wODZ6IiBmaWxsPSJ1cmwoI2QpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzAuOTEzIDguNDU4YzQuODk0Ljk0MiAxMC42MjIgNS40MTUgMTMuMzE0IDkuMDI4IDEuNDg1IDMuODM3IDIuNzk3IDYuOTk3IDQuNDUyIDEwLjUwNmExNjguNDQgMTY4LjQ0IDAgMCAxIDMuNDkzLTIuOTRMNTIuMTY1IDkuODFjLTMuNjQ2LTIuMjk0LTkuNjczLTUuMzEyLTE2LjI0NC01LjExNWEyOS4wODMgMjkuMDgzIDAgMCAwLTUuMDA4IDMuNzYyeiIgZmlsbD0idXJsKCNjKSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTA3LjA4NiAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzQuNDYgNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzggMy4xODRjLS4xNS04Ljc5MyAxMC4wNDUtMTguMjAyIDE4LTI1LjMwNkw1MC44NyAxNy40MzFjLTMuNDA1IDQuMTgtMTcuNjc2IDIxLjE2OS0xNi40MSAzMi42NTV6IiBmaWxsPSJ1cmwoI2UpIiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSAxMTMuNzE5IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K":/xbox|mystery.*5/i},Iae=M.a.pairs(vae),Sae={};function Eae(e){for(let t=0,a=Iae.length;t<a;t++){const[a,n]=Iae[t];if(n.test(e))return a}}function Oae(e,t){let a=Sae[e]||Sae[t];return a||(a=e&&Eae(e),a?(Sae[e]=a,a):(a=t&&Eae(t),a?(Sae[t]=a,a):"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbC1vcGFjaXR5PSIuMyIgZmlsbD0iI0ZGRiIgZD0iTTM4IDI1aDE3LjQzNGwxOS4yMzggMzAtMTkuMjM4IDMwSDM4bDE5LjIzOC0zMEwzOCAyNSIvPgogICAgPC9nPgo8L3N2Zz4K"))}function Mae(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-lock-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-160 240l0 200 320 0 0-200-40.019 0 0-40-.001 0c.02-7.756-.72-15.486-2.2-23.072-1.088-5.577-2.575-11.076-4.448-16.441-1.886-5.402-4.161-10.668-6.802-15.743-3.116-5.991-6.74-11.716-10.817-17.099-4.131-5.455-8.728-10.557-13.722-15.235-4.912-4.6-10.209-8.789-15.818-12.507-5.444-3.608-11.182-6.772-17.14-9.446-9.444-4.237-19.437-7.236-29.653-8.897-4.12-.67-8.275-1.124-12.443-1.362-2.181-.125-4.365-.187-6.549-.197-.388-.001-.776 0-1.164.001-2.183.018-4.364.087-6.544.218-4.164.251-8.315.718-12.431 1.401-10.207 1.693-20.187 4.721-29.614 8.986-6.059 2.742-11.888 5.99-17.409 9.697-5.686 3.818-11.045 8.122-16.002 12.848-4.953 4.722-9.504 9.866-13.587 15.358-4.102 5.519-7.731 11.389-10.83 17.527-2.581 5.113-4.795 10.411-6.615 15.841-1.77 5.278-3.168 10.68-4.182 16.154-1.342 7.242-2.013 14.609-1.987 21.968l-.023 0 0 40-40 0m180 160l-40 0 0-45.359c-11.952-6.92-20-19.848-20-34.641 0-22.077 17.923-40 40-40 22.077 0 40 17.923 40 40 0 14.793-8.048 27.721-20 34.641l0 45.359m39.993-160l-119.986 0 0-40-.007-.197c.015-4.685.565-9.366 1.662-13.92 1.309-5.431 3.394-10.668 6.164-15.518 3.267-5.718 7.478-10.89 12.403-15.261 4.518-4.009 9.634-7.341 15.138-9.831 4.623-2.092 9.514-3.584 14.517-4.43 2.184-.37 4.389-.617 6.6-.743 1.105-.063 2.212-.094 3.318-.1.395 0 .789.002 1.183.008 1.166.02 2.33.07 3.492.155 2.2.16 4.39.441 6.558.843 4.922.912 9.723 2.451 14.257 4.57 5.473 2.557 10.549 5.95 15.018 10.012 4.873 4.429 9.022 9.651 12.219 15.408 2.715 4.888 4.736 10.156 5.978 15.608.986 4.326 1.479 8.761 1.493 13.197l-.007.199 0 40"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Mae.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Cae=Mae,jae=a("UCYk"),Dae=a.n(jae);class Pae extends g.Component{shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{className:e,isConnected:t,isUnavailable:a,isSecure:n,isRelayed:i}=this.props;return i?y.a.createElement(Sh.a,{className:Pe()(e,Dae.a.warningIcon),title:Object(Ce.default)("Indirect"),"aria-label":Object(Ce.default)("Indirect")}):a?y.a.createElement(je.a,{className:Pe()(e,Dae.a.alertIcon),title:Object(Ce.default)("Unavailable"),"aria-label":Object(Ce.default)("Unavailable")}):n&&t?y.a.createElement(Cae,{className:Pe()(e,Dae.a.secureIcon),title:Object(Ce.default)("Secure"),"aria-label":Object(Ce.default)("Secure")}):null}}var Tae=Pae,wae=a("hsp8"),Nae=a.n(wae);function xae({children:e}){return y.a.createElement("span",null,y.a.createElement("span",{className:Object(yae.a)()?Nae.a.rightArrowForEdge:Nae.a.rightArrow}),e)}function Aae({local:e,relayed:t}){let a;return a=t?Object(Ce.default)("Indirect"):e?"Local":Object(Ce.default)("Remote"),y.a.createElement("span",null,a)}function Lae({className:e,server:t,session:a,internalViewOffset:n}){const{duration:i,Media:r=[],Player:s,Session:o,TranscodeSession:l}=a,c=r.find(e=>e.selected)||r[0],d=Object(CJ.a)(c);let u=Object(MJ.a)(c);if(!u){const e=rC.a.get("audio").id;u=Object(jJ.a)(c,{streamType:e})[0]}const p=!!c.videoCodec,m=!!c.audioCodec,h=!!d,g=t.isCloud||Object(oo.a)(t.version,so.a.enhancedSessionDetails);return y.a.createElement("div",{className:e},y.a.createElement("div",{className:Nae.a.playerContainer},y.a.createElement("div",{className:Nae.a.playerIcon},y.a.createElement("img",{className:Nae.a.productLogo,src:Oae(s.product,s.platform),width:44,height:44}),g?y.a.createElement(Tae,{className:Nae.a.statusIcon,isConnected:!0,isSecure:s.secure,isRelayed:s.relayed}):null),y.a.createElement("div",{className:Nae.a.playerInformation},y.a.createElement("div",{className:Nae.a.title,title:`${s.product} ${Hi.a} ${s.title}`},s.product," ",y.a.createElement(Hi.b,null)," ",s.title),y.a.createElement("div",{className:Nae.a.subtitle},fae(s.state),i?y.a.createElement(y.a.Fragment,null,y.a.createElement(Hi.b,null),`${Object(Rg.a)(n)} / ${Object(Rg.a)(i)}`):null),g?y.a.createElement("div",{className:Nae.a.subtitle},y.a.createElement(Aae,{local:s.local,relayed:s.relayed}),s.relayed?null:` (${s.address})`,o?y.a.createElement(y.a.Fragment,null,y.a.createElement(Hi.b,null),y.a.createElement("span",{title:Object(Ce.default)("The amount of outgoing bandwidth reserved for this playback session")},hte(1024*a.Session.bandwidth,0))):null):null)),p?y.a.createElement("div",{className:Nae.a.videoStreamInformation},y.a.createElement("div",{className:Nae.a.streamType},Object(Ce.default)("Video")),y.a.createElement("div",{className:Nae.a.streams},y.a.createElement("div",{className:Nae.a.title},y.a.createElement(xJ,{serverEntityID:t.entityID,type:"video",mediaItem:c}),(null==l?void 0:l.transcodeHwDecoding)?" (hw)":null),y.a.createElement("div",{className:Nae.a.title},!o||l&&null!=l.videoDecision?null:y.a.createElement(xae,null,Object(Ce.default)("Direct Play")),l&&"copy"===l.videoDecision?y.a.createElement(xae,null,Object(Ce.default)("Direct Stream")):null,l&&"transcode"===l.videoDecision?y.a.createElement(xae,null,(Object(yr.default)(c.videoResolution,l.scanType)||Object(Ce.default)("Unknown"))+" ","(",Object(bae.a)(l.videoCodec),")",y.a.createElement(Hi.b,null),Object(Ce.default)("Transcode"),l.transcodeHwEncoding?" (hw)":null):null))):null,m?y.a.createElement("div",{className:Nae.a.audioStreamInformation},y.a.createElement("div",{className:Nae.a.streamType},Object(Ce.default)("Audio")),y.a.createElement("div",{className:Nae.a.streams},y.a.createElement("div",{className:Nae.a.title},y.a.createElement(xJ,{serverEntityID:t.entityID,type:"audio",stream:u})),y.a.createElement("div",{className:Nae.a.title},!o||l&&null!=l.audioDecision?null:y.a.createElement(xae,null,Object(Ce.default)("Direct Play")),l&&"copy"===l.audioDecision?y.a.createElement(xae,null,Object(Ce.default)("Direct Stream")):null,l&&"transcode"===l.audioDecision?y.a.createElement(xae,null,Object(bae.a)(l.audioCodec),y.a.createElement(Hi.b,null),Object(Ce.default)("Transcode")):null))):null,h?y.a.createElement("div",{className:Nae.a.subtitlesStreamInformation},y.a.createElement("div",{className:Nae.a.streamType},Object(Ce.default)("Subtitles")),y.a.createElement("div",{className:Nae.a.title},y.a.createElement(xJ,{serverEntityID:t.entityID,type:"subtitles",stream:Object(CJ.a)(c)}))):null)}var kae=a("DTM1"),Rae=a.n(kae);class zae extends g.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){const{className:e,errorClassName:t,disabledClassName:a,initialValue:n,isDisabled:i,size:r,name:s,hasError:o,...l}=this.props;return y.a.createElement("textarea",{...l,id:s,name:s,disabled:i,className:Pe()(e,Rae.a[r],i&&a,o&&t),onChange:this.onChange})}}zae.defaultProps={className:Rae.a.textArea,errorClassName:Rae.a.hasError,disabledClassName:Rae.a.isDisabled,isDisabled:!1,size:cc.a,hasError:!1,rows:2};var Uae=zae,Vae=a("lm5H"),Bae=a.n(Vae);function Fae({session:e,isOpen:t,onModalClose:a}){const n=Object(v.c)(),[i]=Jt(),[r,s]=Object(g.useState)(""),{type:o,grandparentTitle:l,parentTitle:c,title:d,parentIndex:u,index:p,originallyAvailableAt:m,User:h}=e,f=o===wo.EPISODE?Object(Gr.a)({seasonIndex:u,episodeIndex:p,date:m,noLeadingZero:!0,separator:" · "}):null,b=Object(g.useCallback)(()=>{n(fm.actions.stopRequested({server:i,session:e,reason:r})),a()},[n,r,i,e,a]),I=Object(g.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),b()},[b]);return y.a.createElement(Et.a,{metricsPage:It.tb},y.a.createElement(Wl,{isOpen:t,size:_e.Small,onModalClose:a},y.a.createElement(Yl,{onModalClose:a},y.a.createElement(nc,null,Object(Ce.default)("Stop {title}",{title:l||c||d}),f?y.a.createElement(y.a.Fragment,null,y.a.createElement(Hi.b,null),f):null),y.a.createElement(od,{className:Bae.a.modalBody},y.a.createElement("div",{className:Bae.a.topContainer},y.a.createElement(Q0.a,{className:Bae.a.avatarImg,serverEntityID:i.entityID,url:h.thumb,width:76,height:76}),y.a.createElement("div",{className:Bae.a.description},y.a.createElement("p",null,Object(Ce.default)("Do you wish to stop this item's playback?")),y.a.createElement("p",null,Object(Ce.default)("You may supply a message that will be displayed to {username}.",{username:h.title}))))),y.a.createElement(ec,{className:Bae.a.modalFooter},y.a.createElement(E9.a,{className:Bae.a.formLabel,name:"message"},Object(Ce.default)("Message")),y.a.createElement(H9.b,{className:Bae.a.form,onSubmit:I},y.a.createElement(Uae,{className:Bae.a.textArea,"data-autofocus":!0,name:"message",rows:4,value:r,onChange:s})),y.a.createElement(dd,{className:Bae.a.buttonBar},y.a.createElement(ba,{onPress:a},Object(Ce.default)("Cancel")),y.a.createElement(ba,{kind:da.Primary,onPress:b},Object(Ce.default)("Stop")))))))}var Hae=a("rXhf"),_ae=a.n(Hae);function Wae(e){if(!e.Media)return!1;return"livetv"===(e.Media.find(e=>e.selected)||e.Media[0]).origin}var Qae=Object(g.memo)((function({sessionKey:e,isDetailsExpanded:t,canStopSessions:a}){const[n,i]=Jt(),r=Object(g.useMemo)(()=>function(e,t){return Object(he.a)(tae(e),e=>e.sessionsByKey[t])}(n.machineIdentifier,e),[n.machineIdentifier,e]),s=Object(v.d)(r),o=s.Player.state===uae.a.states.PLAYING,[l,c]=Wr(),[d,u]=Object(g.useState)(s.viewOffset||0),[p,m]=Object(g.useState)(!1),{type:h,subtype:f,duration:b,attribution:I,Media:S,User:E,Session:O,TranscodeSession:M,Player:C}=s,j=null!=s.viewOffset,D=h===Ha.d.Game;let P=null;S&&(P=D&&M?`${M.key}/frame?t=${Date.now()}`:dae(S[0],d,"hd"));const T=l&&P,w=function(e,t,a){const{key:n,parentKey:i,grandparentKey:r,type:s,skipDetails:o,skipParent:l,extraType:c}=a;if(c||o||s===Ha.d.Photo||Wae(a))return;let d=n;return s===Ha.d.Track&&(d=l?r:i),Object(Ka.a)(e,t,d)}(n,i,s),N=w?ga:"div",x=!(!a||!O||function(e){const{product:t}=e;return mae.hasOwnProperty(t)||(mae[t]=pae.some(e=>e.test(t))),mae[t]}(C)),A=function(e){const{type:t,grandparentTitle:a,parentTitle:n,title:i}=e;return Wae(e)?Object(Ce.default)("Live TV"):t===Ha.d.Track||t===Ha.d.Photo?i:a||n||i}(s),L=function(e){const{type:t,index:a,parentIndex:n,originallyAvailableAt:i,grandparentTitle:r,parentTitle:s,title:o,year:l}=e;if(t===Ha.d.Track||t===Ha.d.Photo)return s;const c=[];return t===Ha.d.Episode&&c.push(Object(Gr.a)({seasonIndex:n,episodeIndex:a,date:i,noLeadingZero:!0,separator:" · "})),r||s?c.push(o):l&&c.push(String(l)),c.join(" ")}(s),k=function(e){const{type:t,grandparentTitle:a,parentTitle:n,year:i,duration:r}=e;return t===Ha.d.Movie||t===Ha.d.Episode?Cn(r):t===Ha.d.Album||t===Ha.d.Track?a||n:t===Ha.d.Photo?String(i):void 0}(s),R=function(e){return e.type===Ha.d.Track?e.parentThumb:e.type===Ha.d.Photo?e.thumb:e.grandparentThumb||e.parentThumb||e.thumb}(s),z=j?100:104,U=Object(eM.f)(z,h,f,XO.j),V=Object(g.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),m(!0)},[]),B=Object(g.useCallback)(()=>{m(!1)},[]);return Object(g.useEffect)(()=>{let e;if(u(s.viewOffset||0),o){const t=Date.now();e=window.setInterval(()=>{u((s.viewOffset||0)+(Date.now()-t))},1e3)}return()=>window.clearInterval(e)},[o,s.viewOffset]),y.a.createElement("div",{className:_ae.a.listItem,ref:c},y.a.createElement(N,{className:_ae.a.mediaInformationContainer,to:w},y.a.createElement("div",{className:_ae.a.posterContainer,style:{width:U}},y.a.createElement($O.a,{serverEntityID:n.entityID,type:h,url:R,width:U,height:z}),I?y.a.createElement(Jn,{className:_ae.a.attribution,attribution:I}):null),y.a.createElement("div",{className:Pe()(_ae.a.infoContainer,j?_ae.a.visibleProgressBar:void 0)},T?y.a.createElement("div",{className:_ae.a.previewThumbnailContainer},y.a.createElement(ot.a,{serverEntityID:n.entityID,providerEntityID:void 0,url:P,width:D?180:214,height:z,component:at.a,backgroundSize:D?"contain":"cover"})):y.a.createElement("div",{className:_ae.a.metadataText},y.a.createElement("div",{className:_ae.a.title,title:A},A),y.a.createElement("div",{className:_ae.a.subtitle,title:L},L),y.a.createElement("div",{className:_ae.a.subtitle,title:k},k))),j?y.a.createElement("div",{className:_ae.a.progressTrack},y.a.createElement("div",{className:_ae.a.playProgressPercent,style:{width:Object(Hr.a)(d,b)+"%"}}),(null==M?void 0:M.progress)?y.a.createElement("div",{className:_ae.a.transcodeProgressPercent,style:{width:M.progress+"%"}}):null):null),y.a.createElement(Lae,{className:Pe()(_ae.a.detailsContainer,t?_ae.a.detailsContainerExpanded:void 0),server:n,session:s,internalViewOffset:d}),y.a.createElement("div",{className:_ae.a.userContainer},y.a.createElement(Q0.a,{className:_ae.a.avatarImg,serverEntityID:n.entityID,url:E.thumb,width:40,height:40}),y.a.createElement("div",{className:_ae.a.username},E.title),x?y.a.createElement(ga,{className:_ae.a.stopButton,onPress:V},y.a.createElement(gae,{className:_ae.a.stopIcon,"aria-label":Object(Ce.default)("Stop playback")}),Object(Ce.default)("Stop playback")):null),y.a.createElement(Fae,{session:s,isOpen:p,onModalClose:B}))})),Gae=a("9rAt"),Kae=a.n(Gae);function Yae(){const e=Object(v.c)(),[t]=Jt(),[a,{width:n}]=Object(Gu.a)(),i=Object(g.useMemo)(()=>{return e=t.machineIdentifier,Object(he.a)(tae(e),e=>e.sessionKeys);var e},[t.machineIdentifier]),r=Object(v.d)(i),s=Object(g.useMemo)(()=>{return e=t.machineIdentifier,Object(he.a)(tae(e),e=>e.stopSessionError);var e},[t.machineIdentifier]),o=Object(v.d)(s),l=Object(v.d)(Hn("dashboardNowPlayingShowDetails")),c=t.ownerFeatures.includes("session_kick"),d=r.length>0,u=Object(g.useCallback)(()=>{Object(Dt.a)(()=>{e(fm.actions.stopErrorDismissed({server:t}))})},[e,t]),p=Object(g.useCallback)(()=>{Object(Dt.a)(()=>{e(Object(xy.l)({dashboardNowPlayingShowDetails:!l}))})},[e,l]);return Object(g.useEffect)(()=>{let a;return d&&(a=window.setInterval(()=>e(fm.actions.fetchRequested({server:t})),5e3)),()=>window.clearInterval(a)},[e,d,t]),y.a.createElement("div",{ref:a},y.a.createElement(sae,{isOpen:!!o,errorMessage:Object(Ce.default)("There was a problem stopping playback"),metricsPage:It.ub,onModalClose:u}),y.a.createElement(Yee,{title:Object(Ce.default)("Now Playing")},d?y.a.createElement(Dm.a,{className:Kae.a.toggle,component:ga,tooltip:l?Object(Ce.default)("Hide Details"):Object(Ce.default)("Show Details"),"data-qa-id":"toolbarToggleNowPlayingDetails",hideOnPress:!1,onPress:p},y.a.createElement(nae,null)):null),y.a.createElement("div",{className:Kae.a.tilesContainer},d&&null!=n?y.a.createElement("div",{className:Kae.a.nowPlayingList},function(e,t){const a=Math.max(Math.floor((t+40)/320),1),n=Array.from(new Array(a),()=>[]);return e.reduce((e,t,n)=>(e[n%a].push(t),e),n)}(r,n).map((e,t)=>y.a.createElement("div",{key:t,className:Kae.a.column,style:{width:"280px"}},e.map(e=>y.a.createElement(Qae,{key:e,sessionKey:e,isDetailsExpanded:l,canStopSessions:c}))))):null,d?null:y.a.createElement(Xee,{className:Kae.a.emptyMessage},Object(Ce.default)("Nothing is currently being played"))))}function qae({className:e,accounts:t,activeAccount:a,onAccountSelect:n}){const{menuButtonID:i,isMenuOpen:r,onMenuButtonPress:s,onMenuClose:o}=CD(),l=Object(g.useCallback)(e=>{const a=t.find(t=>t.id===e);o(),n(a)},[t,o,n]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(nte,{id:i,className:e,isMenuOpen:r,onPress:s},a?a.name:Object(Ce.default)("All Users")),y.a.createElement(Xs.a,{target:i,isOpen:r,onMenuClose:o},y.a.createElement(uc.a,{value:void 0,isSelected:!a,onSelect:l},Object(Ce.default)("All Users")),t.map(e=>y.a.createElement(uc.a,{key:e.id,value:e.id,isSelected:(null==a?void 0:a.id)===e.id,onSelect:l},e.name))))}const Zae={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null};var Xae,Jae,$ae=Object(jr.c)({name:"dashboardPlayHistory",initialState:Zae,reducers:{reset:()=>Zae,playHistoryFetchRequested(e,t){Object(hm.c)(e)},playHistoryFetchSucceeded(e,{payload:t}){Object(hm.d)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},playHistoryFetchFailed(e,{payload:t}){Object(hm.b)(e,t.error)}}});(Jae=Xae||(Xae={}))[Jae.All=0]="All",Jae[Jae.Movie=1]="Movie",Jae[Jae.TV=4]="TV",Jae[Jae.Music=10]="Music",Jae[Jae.Photo=13]="Photo",Jae[Jae.Game=19]="Game";var ene=Object(he.a)(cte,e=>e.playHistory);function tne(e){switch(e){case Xae.All:return Object(Ce.default)("All Media");case Xae.Movie:return Object(Ce.default)("Movies");case Xae.TV:return Object(Ce.default)("TV");case Xae.Music:return Object(Ce.default)("Music");case Xae.Photo:return Object(Ce.default)("Photos");case Xae.Game:return Object(Ce.default)("Games");default:return""}}function ane(e,t){return e.date-t.date}function nne(e){return pn(e)||Object(Tn.a)(Object(YP.a)(new Date))<=e}function ine(e,t,a,n=!1){if(Object(DQ.f)(t)===DQ.b.Day&&pn(e)){const e=Object(Ce.default)("Today");return n?e.toUpperCase():e}return Object(tM.a)(Object(Za.a)(e),a)}function rne(e){const t=e/60,a=t/60,n=a/24,i=n/365;let r,s;return t<1?(r=e.toFixed(),s="s"):a<1?(r=t.toFixed(),s="m"):n<1?(r=a.toFixed(1),s="h"):i<1?(r=n.toFixed(1),s="d"):(r=i.toFixed(1),s="y"),`${r}${s}`}function sne({isMoviesVisible:e,isTVVisible:t,isMusicVisible:a,isPhotosVisible:n,isGamesVisible:i,summedData:r,hasGameStatistics:s}){if(!r)return null;const o=e&&t&&a&&n;return y.a.createElement(y.a.Fragment,null,o?Object(Ce.default)("Totals"):Object(Ce.default)("Total"),": ",o?y.a.createElement(y.a.Fragment,null,tne(Xae.Movie),y.a.createElement(Hi.b,null)):null,e?rne(r[Xae.Movie]||0):null,o?y.a.createElement(y.a.Fragment,null," | ",tne(Xae.TV),y.a.createElement(Hi.b,null)):null,t?rne(r[Xae.TV]||0):null,o?y.a.createElement(y.a.Fragment,null," | ",tne(Xae.Music),y.a.createElement(Hi.b,null)):null,a?rne(r[Xae.Music]||0):null,o?y.a.createElement(y.a.Fragment,null," | ",tne(Xae.Photo),y.a.createElement(Hi.b,null)):null,n?rne(r[Xae.Photo]||0):null,s&&o?y.a.createElement(y.a.Fragment,null," | ",tne(Xae.Game),y.a.createElement(Hi.b,null)):null,s&&i?rne(r[Xae.Game]||0):null)}function one({statistics:e,activeStatisticsMetadataType:t,activeAccount:a,activeTimePeriod:n,hasGameStatistics:i,isPending:r,isPopulated:s,errorMessage:o,onGraphMetadataTypeSelect:l}){const[c,d]=Object(g.useState)(!1),{data:u,summedData:p}=Object(g.useMemo)(()=>function(e,t,a){const n={};return{data:e.reduce((e,i)=>{const{accountID:r,at:s,metadataType:o,duration:l}=i;if(!(o in Xae))return e;const c=e.findIndex(e=>e.date===s),d=-1!==c;let u;return u=d?e[c]:{date:s},a&&a.id!==r?(d||e.push(u),e):(t!==Xae.All&&t!==o||(u[o]=(u[o]||0)+l,n[o]=(n[o]||0)+l,u[Xae.All]=(u[Xae.All]||0)+l,n[Xae.All]=(n[Xae.All]||0)+l),d?e[c]=u:e.push(u),e)},[]).sort(ane),summedData:n}}(e,t,a),[a,t,e]),m=t===Xae.Movie,h=m||t===Xae.All,f=t===Xae.TV,b=f||t===Xae.All,v=t===Xae.Music,I=v||t===Xae.All,S=t===Xae.Photo,E=S||t===Xae.All,O=t===Xae.Game,M=O||t===Xae.All,C=[{dataKey:String(Xae.Movie),title:tne(Xae.Movie),visible:h,selected:m,color:"#9ad186"},{dataKey:String(Xae.TV),title:tne(Xae.TV),visible:b,selected:f,color:"#f1335e"},{dataKey:String(Xae.Music),title:tne(Xae.Music),visible:I,selected:v,color:"#366dfc"},{dataKey:String(Xae.Photo),title:tne(Xae.Photo),visible:E,selected:S,color:"#e69f23"}];i&&C.push({dataKey:String(Xae.Game),title:tne(Xae.Game),visible:M,selected:O,color:"#bc9bb7"});const j=Object(g.useCallback)(e=>{if(Object(DQ.f)(n)===DQ.b.Week){const t=ine(e,n,Object(DQ.d)(n,!0)),a=Object(Tn.a)(Object(pte.a)(Object(Za.a)(e),1));if(pn(e)&&nne(a))return Object(Ce.default)("Today");return`${t} - ${ine(a,n,Object(DQ.d)(n,!0))}`}return ine(e,n,Object(DQ.d)(n,!0))},[n]),D=Object(g.useCallback)(e=>rne(e),[]),P=Object(g.useCallback)(e=>{if(n===DQ.a.Month){const t=ine(e,n,Object(DQ.d)(n)),a=Object(Tn.a)(Object(pte.a)(Object(Za.a)(e),1));if(pn(e)&&nne(a))return Object(Ce.default)("Today").toUpperCase();return`${t} - ${ine(a,n,Object(DQ.d)(n))}`}return ine(e,n,Object(DQ.d)(n),!0)},[n]),T=Object(g.useCallback)(e=>0===e?"":rne(e),[]),w=Object(g.useCallback)(()=>{d(!0)},[]);return y.a.createElement(Ste,{isSpinnerVisible:r||!c,errorMessage:o},!r&&s?y.a.createElement(Vte,{width:"100%",height:280,series:C,data:u,legendSummary:y.a.createElement(sne,{isMoviesVisible:h,isTVVisible:b,isMusicVisible:I,isPhotosVisible:E,isGamesVisible:M,summedData:p,hasGameStatistics:i}),tooltipLabelFormatter:j,tooltipValueFormatter:D,xAxisTickFormatter:P,yAxisTickFormatter:T,onLegendPress:l,onChartReady:w}):null)}var lne=a("doli"),cne=a.n(lne);function dne(){const e=Object(v.c)(),[t]=Jt(),[a,n]=Object(g.useState)(null),[i,r]=Object(g.useState)(DQ.a.Month),[s,o]=Object(g.useState)(i),l=Object(g.useMemo)(()=>[DQ.a.Week,DQ.a.Month,DQ.a.NinetyDays,DQ.a.Year,DQ.a.AllTime],[]),[c,d]=Object(g.useState)(Xae.All),{accounts:u,statistics:p,isPending:m,isPopulated:h,error:f}=Object(v.d)(ene),b=!!p.find(e=>e.metadataType===Xae.Game),I=Object(g.useMemo)(()=>{const e=[Xae.All,Xae.Movie,Xae.TV,Xae.Music,Xae.Photo];return b?e.concat([Xae.Game]):e},[b]),S=Object(g.useMemo)(()=>u.slice().sort(FQ),[u]),E=Qee(m,!0),O=Object(g.useCallback)(e=>{d(e)},[]),M=Object(g.useCallback)(e=>{n(e)},[]),C=Object(g.useCallback)(e=>{r(e)},[]),j=Object(g.useCallback)(e=>{const t=parseInt(e,10),a=t===c?Xae.All:t;d(a)},[c]);return Object(g.useEffect)(()=>{e($ae.actions.playHistoryFetchRequested({server:t,timespan:Object(DQ.f)(i),after:Object(DQ.c)(i)}))},[i,e,t]),Object(g.useEffect)(()=>{o(i)},[p]),Object(g.useEffect)(()=>()=>{e($ae.actions.reset())},[e]),y.a.createElement("div",{className:cne.a.container},y.a.createElement(Yee,{title:Object(Ce.default)("Play History")},y.a.createElement("div",{className:cne.a.link},y.a.createElement(Hi.b,null),y.a.createElement(ga,{to:Object(VQ.a)(t.machineIdentifier)},Object(Ce.default)("View Full History"))),y.a.createElement("div",null,y.a.createElement(ite,{values:I,activeValue:c,formatter:tne,onSelect:O}),y.a.createElement(qae,{accounts:S,activeAccount:a,onAccountSelect:M}),y.a.createElement(ite,{values:l,activeValue:i,formatter:DQ.e,onSelect:C}))),y.a.createElement(one,{statistics:p,activeStatisticsMetadataType:c,activeAccount:a,activeTimePeriod:s,isPending:E,isPopulated:h,hasGameStatistics:b,errorMessage:f?Object(Ce.default)("Unable to load history"):null,onGraphMetadataTypeSelect:j}))}var une=a("/gAe"),pne=a.n(une);function mne({children:e}){return y.a.createElement("div",{className:pne.a.section},e)}const hne={statistics:[],isPending:!1,isPopulated:!1,isUnsupported:!1,error:null,requestTimestampMilliseconds:null};var gne,yne,fne=Object(jr.c)({name:"dashboardResources",initialState:hne,reducers:{reset:()=>hne,resourcesFetchRequested(e,t){Object(hm.c)(e),e.isUnsupported=!1},resourcesFetchSucceeded(e,{payload:t}){Object(hm.d)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds},resourcesFetchFailed(e,{payload:t}){Object(hm.b)(e,t.error),e.isUnsupported=404===t.error.status}}});(yne=gne||(gne={})).All="all",yne.System="system",yne.PlexMediaServer="plex-media-server";var bne=Object(he.a)(cte,e=>e.resources);function vne(e){switch(e){case gne.All:return Object(Ce.default)("All");case gne.PlexMediaServer:return"Plex Media Server";case gne.System:return Object(Ce.default)("System");default:return""}}function Ine(e){return 0===e?Object(Ce.default)("Now"):Object(Ce.default)("{timeAgo} ago",{timeAgo:Ete(e)})}function Sne(e){return e.toFixed(2)+"%"}function Ene(e){return Ete(e)}function One(e){return 0===e?"":Math.round(e)+"%"}function Mne({isPlexMediaServerVisible:e,isSystemVisible:t,summedData:a}){if(!a)return null;const n=e&&t;return y.a.createElement(y.a.Fragment,null,n?Object(Ce.default)("Averages"):Object(Ce.default)("Average"),": ",n?y.a.createElement(y.a.Fragment,null,vne(gne.PlexMediaServer),y.a.createElement(Hi.b,null)):null,e?(a[gne.PlexMediaServer]/25).toFixed(2)+"%":null,n?y.a.createElement(y.a.Fragment,null," | ",vne(gne.System),y.a.createElement(Hi.b,null)):null,t?(a[gne.System]/25).toFixed(2)+"%":null)}function Cne({statistics:e,activeResourceType:t,hostKey:a,processKey:n,hostColor:i,processColor:r,isPopulated:s,errorMessage:o,onGraphResourceTypeSelect:l,onGraphTooltipActive:c,onGraphTooltipInactive:d}){const[u,p]=Object(g.useState)(!1),{data:m,summedData:h}=Object(g.useMemo)(()=>function(e,t,a,n){const i=n===gne.All||n===gne.System,r=n===gne.All||n===gne.PlexMediaServer,s={[gne.System]:0,[gne.PlexMediaServer]:0};return{data:e.slice(-25).map((e,n)=>(s[gne.PlexMediaServer]=s[gne.PlexMediaServer]+(e[a]||0),s[gne.System]=s[gne.System]+(e[t]||0),{at:e.at,date:120-5*n,[gne.PlexMediaServer]:r?e[a]:null,[gne.System]:i?e[t]:null})),summedData:s}}(e,a,n,t),[t,a,n,e]),f=t===gne.All||t===gne.PlexMediaServer,b=t===gne.All||t===gne.System,v=[{dataKey:gne.PlexMediaServer,title:vne(gne.PlexMediaServer),visible:f,selected:t===gne.PlexMediaServer,color:i},{dataKey:gne.System,title:vne(gne.System),visible:b,selected:t===gne.System,color:r}],I=Object(g.useCallback)(()=>{p(!0)},[]);return y.a.createElement(Ste,{isSpinnerVisible:!s||!u,errorMessage:o},s?y.a.createElement(Gte,{width:"100%",height:280,series:v,data:m,legendSummary:y.a.createElement(Mne,{isPlexMediaServerVisible:f,isSystemVisible:b,summedData:h}),isAnimationActive:!1,showTooltipTotal:!1,yAxisDomain:[0,100],xAxisTickInterval:1,tooltipLabelFormatter:Ine,tooltipValueFormatter:Sne,xAxisTickFormatter:Ene,yAxisTickFormatter:One,onLegendPress:l,onChartReady:I,onTooltipActive:c,onTooltipInactive:d}):null)}var jne=a("+ZLW"),Dne=a.n(jne);function Pne(){const e=Object(v.c)(),[t]=Jt(),a=Object(g.useRef)(null),[n,i]=Object(g.useState)(gne.All),[r,s]=Object(g.useState)(gne.All),o=Object(g.useMemo)(()=>[gne.All,gne.PlexMediaServer,gne.System],[]),l=Object(oo.a)(t.version,so.a.dashboardCPUChart),c=Object(oo.a)(t.version,so.a.dashboardRAMChart),{statistics:d,isPopulated:u,isUnsupported:p,error:m,requestTimestampMilliseconds:h}=Object(v.d)(bne),f=Object(g.useCallback)(()=>{e(fne.actions.resourcesFetchRequested({server:t}))},[e,t]),b=Object(g.useCallback)(e=>{i(e)},[]),I=Object(g.useCallback)(e=>{s(e)},[]),S=Object(g.useCallback)(e=>{const t=e===n?gne.All:e;i(t)},[n]),E=Object(g.useCallback)(e=>{const t=e===r?gne.All:e;s(t)},[r]),O=Object(g.useCallback)(()=>{a.current&&window.clearTimeout(a.current)},[]);return Object(g.useEffect)(()=>{(l||c)&&f()},[l,c,f]),Object(g.useEffect)(()=>{if(h){const e=Date.now()-h,t=Math.max(5e3-e,0);a.current=window.setTimeout(f,t)}return()=>{a.current&&window.clearTimeout(a.current)}},[h,f]),Object(g.useEffect)(()=>()=>{e(fne.actions.reset())},[e]),p?null:y.a.createElement(y.a.Fragment,null,y.a.createElement(mne,null,y.a.createElement("div",{className:Dne.a.container},y.a.createElement(Yee,{title:Object(Ce.default)("CPU")},l?y.a.createElement("div",null,y.a.createElement(ite,{values:o,activeValue:n,formatter:vne,onSelect:b})):null),y.a.createElement("div",{className:Dne.a.graph},l?y.a.createElement(Cne,{statistics:d,activeResourceType:n,hostKey:"hostCpuUtilization",processKey:"processCpuUtilization",hostColor:"#9ad186",processColor:"#f1335e",isPopulated:u,errorMessage:m?Object(Ce.default)("Unable to load statistics"):void 0,onGraphResourceTypeSelect:S,onGraphTooltipActive:O,onGraphTooltipInactive:f}):y.a.createElement(ete,null,Object(Ce.default)("The CPU chart requires Plex Media Server {version} or higher",{version:so.a.dashboardCPUChart}))))),y.a.createElement(mne,null,y.a.createElement("div",{className:Dne.a.container},y.a.createElement(Yee,{title:Object(Ce.default)("RAM")},c?y.a.createElement("div",null,y.a.createElement(ite,{values:o,activeValue:r,formatter:vne,onSelect:I})):null),y.a.createElement("div",{className:Dne.a.graph},c?y.a.createElement(Cne,{statistics:d,activeResourceType:r,hostKey:"hostMemoryUtilization",processKey:"processMemoryUtilization",hostColor:"#33f1c5",processColor:"#bd86d1",isPopulated:u,errorMessage:m?Object(Ce.default)("Unable to load statistics"):null,onGraphResourceTypeSelect:E,onGraphTooltipActive:O,onGraphTooltipInactive:f}):y.a.createElement(ete,null,Object(Ce.default)("The RAM chart requires Plex Media Server {version} or higher",{version:so.a.dashboardRAMChart}))))))}const Tne={moviesStatistics:[],tvStatistics:[],musicStatistics:[],gameStatistics:[],isPending:!1,isPopulated:!1,error:null};var wne=Object(jr.c)({name:"dashboardTopPlayed",initialState:Tne,reducers:{reset:()=>Tne,topPlayedFetchRequested(e,t){Object(hm.c)(e)},topPlayedFetchSucceeded(e,{payload:t}){Object(hm.d)(e),e.moviesStatistics=t.data.moviesStatistics,e.tvStatistics=t.data.tvStatistics,e.musicStatistics=t.data.musicStatistics,e.gameStatistics=t.data.gameStatistics},topPlayedFetchFailed(e,{payload:t}){Object(hm.b)(e,t.error)}}});var Nne=Object(he.a)(cte,e=>e.topPlayed),xne=a("taPP"),Ane=a.n(xne);function Lne({title:e,isEmpty:t,metadataItem:a}){const[n]=Jt();return y.a.createElement("div",{className:t?Ane.a.header:Ane.a.tintedHeader},!t&&a?y.a.createElement("div",{className:Ane.a.imageContainer},y.a.createElement(l_.a,{serverEntityID:n.entityID,url:a.art||a.thumb,width:200,height:100,backgroundPosition:"center top"})):null,y.a.createElement("div",{className:t?Ane.a.emptyTitleBackground:Ane.a.titleBackground},y.a.createElement("div",{className:Ane.a.titleText},e)))}var kne=a("RVll"),Rne=a.n(kne);function zne({className:e,style:t,metadataItem:a,activeTimePeriod:n}){const[i]=Jt(),{key:r,type:s,title:o,thumb:l,globalViewCount:c,userCount:d}=a,u=s===wo.ARTIST,p=Object(Ka.a)(i,{isLibraryProvider:!0},r);return y.a.createElement("div",{className:e,style:t},y.a.createElement(ga,{className:u?Rne.a.artistPoster:Rne.a.poster,to:p},y.a.createElement($O.a,{serverEntityID:i.entityID,type:s,url:l,width:u?60:53,height:u?60:80})),y.a.createElement("div",{className:Rne.a.summary},y.a.createElement(ga,{className:Rne.a.itemTitle,title:o,to:p},o),y.a.createElement(ga,{to:Object(Sd.a)(i.machineIdentifier,a,n)},1===c?Object(Ce.default)("{count} play",{count:1}):Object(Ce.default)("{count} plays",{count:c})),y.a.createElement("div",null,1===d?Object(Ce.default)("{count} user",{count:1}):Object(Ce.default)("{count} users",{count:d}))))}var Une=a("gEbU"),Vne=a.n(Une);const Bne=[.5,.4,.3,.2,.1,.05];function Fne({className:e,type:t,title:a,items:n=[],activeTimePeriod:i}){const r=0===n.length;return y.a.createElement("div",{className:e},y.a.createElement(Lne,{metadataItem:n[0],isEmpty:r,title:a}),r?y.a.createElement("div",{className:Vne.a.emptyItem},function(e){switch(e){case Ha.d.Movie:return Object(Ce.default)("No Movies Played");case Ha.d.Show:return Object(Ce.default)("No TV Played");case Ha.d.Artist:return Object(Ce.default)("No Artists Played");case Ha.d.Game:return Object(Ce.default)("No Games Played");default:return""}}(t)):n.map((e,t)=>y.a.createElement(zne,{key:e.key,className:Vne.a.item,style:{backgroundColor:`rgba(0, 0, 0, ${Bne[t]})`},metadataItem:e,activeTimePeriod:i})))}var Hne=a("8/e7"),_ne=a.n(Hne);function Wne({moviesStatistics:e,tvStatistics:t,musicStatistics:a,gameStatistics:n,activeTimePeriod:i,isSpinnerVisible:r,showList:s,errorMessage:o}){const l=s&&!o,c=function(e,t,a,n){const i=[{type:Ha.d.Movie,title:Object(Ce.default)("Movies"),items:e},{type:Ha.d.Show,title:Object(Ce.default)("TV"),items:t},{type:Ha.d.Artist,title:Object(Ce.default)("Artists"),items:a}];return n.length>0?i.concat({type:Ha.d.Game,title:Object(Ce.default)("Games"),items:n}):i}(e,t,a,n);return y.a.createElement(bte,{className:_ne.a.container,isSpinnerVisible:r,errorMessage:o},l?c.map(e=>y.a.createElement(Fne,{key:e.type,className:_ne.a.column,type:e.type,title:e.title,items:e.items,activeTimePeriod:i})):null)}function Qne(){const e=Object(v.c)(),[t]=Jt(),[a,n]=Object(g.useState)(null),[i,r]=Object(g.useState)(DQ.a.Month),s=Object(g.useMemo)(()=>[DQ.a.Week,DQ.a.Month,DQ.a.NinetyDays,DQ.a.Year,DQ.a.AllTime],[]),o=Object(oo.a)(t.version,so.a.dashboardTopPlayedChart),{moviesStatistics:l,tvStatistics:c,musicStatistics:d,gameStatistics:u,isPending:p,isPopulated:m,error:h}=Object(v.d)(Nne),f=Qee(p,!0),b=Object(v.d)(HQ(t.machineIdentifier)),I=Object(g.useCallback)(e=>{n(e)},[]),S=Object(g.useCallback)(e=>{r(e)},[]);return Object(g.useEffect)(()=>{e(iQ.actions.populateRequested({server:t}))},[e,t]),Object(g.useEffect)(()=>{o&&e(wne.actions.topPlayedFetchRequested({server:t,accountID:a?a.id:void 0,viewedAt:Object(DQ.c)(i),limit:6}))},[i,a,e,o,t]),Object(g.useEffect)(()=>()=>{e(wne.actions.reset())},[e]),y.a.createElement(y.a.Fragment,null,y.a.createElement(Yee,{title:Object(Ce.default)("Top Played")},o?y.a.createElement("div",null,y.a.createElement(qae,{accounts:b,activeAccount:a,onAccountSelect:I}),y.a.createElement(ite,{values:s,activeValue:i,formatter:DQ.e,onSelect:S})):null),o?y.a.createElement(Wne,{moviesStatistics:l,tvStatistics:c,musicStatistics:d,gameStatistics:u,activeTimePeriod:i,isSpinnerVisible:f,showList:!f&&m,errorMessage:h?Object(Ce.default)("Unable to load statistics"):null}):y.a.createElement(ete,null,Object(Ce.default)("The Top Played chart requires Plex Media Server {version} or higher",{version:so.a.dashboardTopPlayedChart})))}const Gne={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null};var Kne=Object(jr.c)({name:"dashboardTopUsers",initialState:Gne,reducers:{reset:()=>Gne,topUsersFetchRequested(e,t){Object(hm.c)(e)},topUsersFetchSucceeded(e,{payload:t}){Object(hm.d)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},topUsersFetchFailed(e,{payload:t}){Object(hm.b)(e,t.error)}}});var Yne=Object(he.a)(cte,e=>e.topUsers),qne=a("3+Hb"),Zne=a.n(qne);const Xne=[Iy.a.serverDashboardTileRowBackgroundPrimaryColor,Iy.a.serverDashboardTileRowBackgroundSecondaryColor,Iy.a.serverDashboardTileRowBackgroundTertiaryColor,Iy.a.serverDashboardTileRowBackgroundQuaternaryColor];function Jne(e){return Cn(1e3*e)||Object(Ce.default)("{1} min",0)}var $ne=Object(g.memo)((function({activeTimePeriod:e,item:t,...a}){const[n]=Jt(),i=Cr({...a,moveDurationMilliseconds:0});if(!t)return null;const{accountID:r,username:s,thumb:o,playCount:l,totalDuration:c,durations:d}=t,u=Object.keys(d).sort((e,t)=>d[e]>d[t]?-1:d[e]<d[t]?1:0);return y.a.createElement("div",{style:i.style},y.a.createElement("div",{className:Zne.a.summaryContainer},y.a.createElement(Q0.a,{className:Zne.a.avatar,serverEntityID:n.entityID,url:o,width:50,height:50}),y.a.createElement("div",{className:Zne.a.summary},y.a.createElement("div",null,1===l?Object(Ce.default)("{playCount} play",{playCount:l}):Object(Ce.default)("{playCount} plays",{playCount:l})),y.a.createElement("div",null,Jne(c))),y.a.createElement(ga,{className:Zne.a.playHistoryLink,to:Object(VQ.a)(n.machineIdentifier,{filters:`accountID=${r}&viewedAt=${Object(DQ.c)(e)}`,activeTimePeriod:e})},Object(Ce.default)("View Play History"))),y.a.createElement("div",{className:Zne.a.username,title:s},s),u.map((e,t)=>y.a.createElement("div",{key:e,className:Zne.a.metadataRow,style:{backgroundColor:Xne[t]}},y.a.createElement("div",{className:Zne.a.metadataTitle},tne(parseInt(e,10))),y.a.createElement("div",{className:Zne.a.duration},Jne(d[e])))))})),eie=a("1kJW"),tie=a.n(eie);const aie=gu({columnWidth:200,rowHeight:290,innerHorizontalPadding:40});function nie({activeTimePeriod:e,accounts:t,statistics:a,isSpinnerVisible:n,showList:i,errorMessage:r,targetScrollIndex:s,smoothScroll:o,onListUpdate:l}){const c=Object(g.useMemo)(()=>function(e,t){if(!t)return[];const a=!!t.find(e=>e.metadataType===Xae.Game);return t.reduce((t,n)=>{const{accountID:i,metadataType:r,count:s,duration:o}=n;if(!(r in Xae)||-1===i)return t;const l=t.findIndex(e=>e.accountID===i),c=-1!==l;let d;if(c)d=t[l];else{const t=e.find(e=>e.id===i);d={accountID:i,username:null==t?void 0:t.name,thumb:null==t?void 0:t.thumb,playCount:0,totalDuration:0,durations:{[Xae.Movie]:0,[Xae.TV]:0,[Xae.Music]:0,[Xae.Photo]:0}},a&&(d.durations[Xae.Game]=0)}return d.playCount=d.playCount+s,d.totalDuration=d.totalDuration+o,d.durations[r]=d.durations[r]+o,c?t[l]=d:t.push(d),t},[]).sort((e,t)=>e.totalDuration>t.totalDuration?-1:e.totalDuration<t.totalDuration?1:0)}(t,a),[t,a]),d=i&&0===c.length?Object(Ce.default)("No data"):null,u=r||d,p=i&&!u,m=Object(g.useMemo)(()=>t=>y.a.createElement($ne,{...t,activeTimePeriod:e}),[e]);return y.a.createElement(bte,{className:tie.a.container,isSpinnerVisible:n,errorMessage:u},p?y.a.createElement(Pc,{className:tie.a.listContainer,keyPropName:"accountID",items:c,totalSize:c.length,layout:aie,cellComponentFactory:m,scrollDirection:Ie.Horizontal,targetScrollIndex:s,smoothScroll:o,onListUpdate:l}):null)}var iie=a("IV0B"),rie=a.n(iie);function sie(){const e=Object(v.c)(),[t]=Jt(),a=Object(g.useRef)(null),[n,i]=Object(g.useState)(!1),[r,s]=Object(g.useState)(!1),[o,l]=Object(g.useState)(0),[c,d]=Object(g.useState)(!1),[u,p]=Object(g.useState)(DQ.a.Week),{accounts:m,statistics:h,isPending:f,isPopulated:b,error:I}=Object(v.d)(Yne),S=Qee(f,!0),E=Object(g.useMemo)(()=>[DQ.a.Day,DQ.a.Week,DQ.a.Month,DQ.a.NinetyDays,DQ.a.Year,DQ.a.AllTime],[]),O=Object(g.useCallback)(e=>{p(e)},[]),M=Object(g.useCallback)(e=>{const{visibleStartIndex:t,visibleEndIndex:n,renderEndIndex:r}=e;a.current=e,i(t>0),s(r>n)},[]),C=Object(g.useCallback)(()=>{const e=a.current;if(e){const t=e.visibleEndIndex-e.visibleStartIndex;l(Math.max(e.visibleStartIndex-t-1,0)),d(!0)}},[]),j=Object(g.useCallback)(()=>{const e=a.current;e&&(l(e.visibleEndIndex+1),d(!0))},[]);return Object(g.useEffect)(()=>{e(Kne.actions.topUsersFetchRequested({server:t,timespan:Object(DQ.f)(u),after:Object(DQ.c)(u)}))},[u,e,t]),Object(g.useEffect)(()=>{l(0),d(!1)},[h]),Object(g.useEffect)(()=>()=>{e(Kne.actions.reset())},[e]),y.a.createElement("div",{className:rie.a.container},y.a.createElement(Yee,{title:Object(Ce.default)("Top Users")},y.a.createElement("div",null,y.a.createElement(ite,{values:E,activeValue:u,formatter:DQ.e,onSelect:O}),y.a.createElement("div",{className:rie.a.listActions},y.a.createElement(Tu,{className:rie.a.listScrollButton,iconComponent:zu,isDisabled:!n,title:Object(Ce.default)("Previous Page"),onPress:C}),y.a.createElement(Tu,{className:rie.a.listScrollButton,iconComponent:ku,isDisabled:!r,title:Object(Ce.default)("Next Page"),onPress:j})))),y.a.createElement(nie,{activeTimePeriod:u,accounts:m,statistics:h,isSpinnerVisible:S,showList:!S&&b,errorMessage:I?Object(Ce.default)("Unable to load statistics"):null,targetScrollIndex:o,smoothScroll:c,onListUpdate:M}))}var oie=a.p+"desktop/common/img/upsell/upsell-server-dashboard-list.7a5c5fc090835f292a8fd031b54b39d6.svg",lie=a("XrH1"),cie=a.n(lie);function die(){const e=Object(v.c)(),t=Object(g.useCallback)(()=>{Object(Dt.a)(()=>{e(Object(xy.l)({hasDismissedServerDashboardUpsell:!0}))})},[e]);return y.a.createElement("div",{className:cie.a.upsell},y.a.createElement("div",{className:cie.a.description},Object(Ce.default)("Want more data? Get stats like top users, what's popular, and bandwidth usage with the new server Dashboard for Plex Pass holders!")+" ",y.a.createElement(ga,{kind:da.Primary,to:"https://www.plex.tv/plex-pass",target:"_blank"},Object(Ce.default)("Learn more"))),y.a.createElement("div",{className:cie.a.chartImageContainer},y.a.createElement("img",{className:cie.a.image,src:String("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNzYgODAiPgogIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICA8cmVjdCB3aWR0aD0iMjc1Ljk2NSIgaGVpZ2h0PSI4MCIgZmlsbD0iIzAwMCIgb3BhY2l0eT0iLjI1Ii8+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4xOTggNi4wMDUpIj4KICAgICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjA1Ij4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI2MC4wNDkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI0OC4wMzkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIzNi4wMjkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIyNC4wMiIvPgogICAgICAgIDxyZWN0IHdpZHRoPSIyNTUuNTY4IiBoZWlnaHQ9IjEiIHk9IjEyLjAxIi8+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjI1NS41NjgiIGhlaWdodD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgOC43MDcpIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEwLjgwOSkiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeD0iMjI2Ljc3MSIgeT0iMzAuNjI1IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjE4OC45NzYiIHk9IjIwLjcxNyIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjkuNjA4IiB4PSIxNTEuMTgxIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS4yMDEiIHg9IjExMy4zODYiIHk9IjM3LjIzIiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNS4xMDQiIHg9Ijc1LjU5IiB5PSIzMS41MjYiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxMC41MDkiIHg9IjM3Ljc5NSIgeT0iMjQuNjIiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeT0iMzUuNzI5IiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyMS4wMTcpIj4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjIyNi43NzEiIHk9IjIzLjQxOSIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjEyLjMxIiB4PSIxODguOTc2IiB5PSIxOC4wMTUiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIzMC4zMjUiIHg9IjE1MS4xODEiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjUwMSIgeD0iMTEzLjM4NiIgeT0iMjguODIzIiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIHg9Ijc1LjU5IiB5PSIyNy4wMjIiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI0LjgwNCIgeD0iMzcuNzk1IiB5PSIyNS41MjEiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjgwMSIgeT0iMjguNTIzIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAzLjkwMykiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI2LjMwNSIgeD0iMTUxLjE4MSIgZmlsbD0iIzM2NkRGQyIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjMuMzAzIiB4PSI3NS41OSIgeT0iMzQuNTI4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iOC40MDciIHg9IjM3Ljc5NSIgeT0iMjIuNTE4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS44MDEiIHk9IjQwLjIzMyIgZmlsbD0iI0U2OUYyMyIgcng9Ii42Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIGZpbGw9IiNFNjlGMjMiIHJ4PSIuNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjE4KSIvPgogICAgICA8L2c+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjI0MC41NyIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgICA8cmVjdCB3aWR0aD0iMS41IiBoZWlnaHQ9IjEuNTAxIiB4PSIxNjQuOTc5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjIwMi43NzQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iODkuMzg5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEyNy4xODQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iNTEuNTkzIiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEzLjc5OCIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgPC9nPgogICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNDc0IDUuNTc1KSI+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE5LjcwOCIgeT0iNjYuNzUzIiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEwLjk0OSIgaGVpZ2h0PSIyLjE5MiIgeD0iNTcuNjM2IiB5PSI2Ni43NTMiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iMTAuOTQ5IiBoZWlnaHQ9IjIuMTkyIiB4PSI5NS4xNTgiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjEzMy4zODMiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE3MS4wMjYiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjIwOC44MzQiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMS45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjI0Ni4wNTkiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iMTEuNzI1IiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjYuNTY5IiBoZWlnaHQ9IjIuMTkyIiB5PSIyMy45MjUiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iNi41NjkiIGhlaWdodD0iMi4xOTIiIHk9IjM1LjgyNSIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iNDcuOTI1IiByeD0iMS4wOTYiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=")})),y.a.createElement("div",{className:cie.a.listImageContainer},y.a.createElement("img",{className:cie.a.image,src:String(oie)})),y.a.createElement(ga,{className:cie.a.button,onPress:t},y.a.createElement(Ql.a,null)))}function uie(){const[e]=Jt(),t=e.ownerFeatures.includes(ve.y),a=Object(v.d)(Hn("hasDismissedServerDashboardUpsell"));return y.a.createElement(y.a.Fragment,null,t||a?null:y.a.createElement(die,null),y.a.createElement(mne,null,y.a.createElement(Yae,null)),t?y.a.createElement(y.a.Fragment,null,y.a.createElement(mne,null,y.a.createElement(eae,null)),y.a.createElement(Pne,null),y.a.createElement(mne,null,y.a.createElement(sie,null)),y.a.createElement(mne,null,y.a.createElement(dne,null)),y.a.createElement(mne,null,y.a.createElement(Qne,null))):null)}var pie=oee.extend({component(e){const t=e.server;return y.a.createElement($t,{machineIdentifier:t.get("machineIdentifier"),providerIdentifier:qr.d},y.a.createElement(uie,null))}}),mie=a("KKL4");var hie=_I.a.extend({name:"SyncMetadataModel",entityType:wt.SYNC_METADATA_ITEM,entityID(e=this.state){return Object(jt.a)(this.entityType,e.ratingKey,this.syncItemId,this.server.entityID())},context:["server","device","syncItemId"],cache:new mie.a,cacheKey:function(){const e=_I.a.prototype.cacheKey.apply(this,arguments);return e+"!"+this.syncItemId}});var gie=CS.a.extend({name:"SyncMetadataCollection",context:["server","device","syncItemId"],model:hie,url(){return"/sync/items/"+this.syncItemId},augmentResponseText:(e,t)=>t===qP.c?Object(XP.b)(e):e}),yie=a("Zf8S"),fie=a.n(yie),bie=p.a.ItemView.extend({tagName:"li",className:"sync-status-list-item",template:fie.a,ui:{poster:".media-poster"},initialize:function(e){this.syncItem=e.syncItem,this.transcodeJobs=this.model.server.get("desktop").get("transcodeJobs"),this.$el.addClass(this.model.get("type")),this.image=new Mee.a({model:this.model,type:this.model.get("type"),getUrl:this.getPosterUrl,height:50,background:!1}),this.listenTo(this.transcodeJobs,"reset",(function(e){this.model.trigger("change:Media",this.model,this.model.get("Media"))}))},getPosterUrl:function(e){return e||this.model.get("parentThumb")||this.model.get("grandparentThumb")},analyzeTranscodeJobs:function(){var e;return this.transcodeJobs.each(M.a.bind((function(t){if(this.syncItem.id===t.get("syncItemId")){var a=this.model.get("thumb"),n=this.model.get("title"),i=t.get("transcodeThumb"),r=t.get("title"),s=r&&r.indexOf(n)>-1,o=!0;if(a&&i)o=new RegExp("(.+)"+t.get("thumb")+"$").exec(a);s&&o&&(e=t)}}),this)),e&&e.get("progress")>0?{active:!0,speed:Math.round(10*e.get("speed"))/10,remaining:jn(e.get("remaining"))||Object(Ce.default)("done"),progress:Math.round(10*e.get("progress"))/10,isUploading:"upload"===e.get("type")}:{active:!1}},analyzeParts:function(){var e="complete",t=this.model.get("Media");if(!t.length)return"unknown";for(var a=0,n=t.length;a<n;a++)for(var i=t[a].Part,r=0,s=i.length;r<s;r++){var o=i[r],l=jee.a.getSyncStateFromPart(o);jee.a.failedRegex.test(l)&&(e=jee.a.getSyncStateContextFromPart(o)),jee.a.processingRegex.test(l)&&(e="downloading"===l?"downloading":"processing"),jee.a.waitingRegex.test(l)&&"processing"!==e&&(e=o.key?"waiting":"processing")}return e},getErrorMessage:function(e){switch(e){case"sourceFileUnavailable":return Object(Ce.default)("This media is inaccessible. Please check that the file exists with the correct permissions.");case"sourceFileMetadataError":return Object(Ce.default)("The metadata for this media is invalid. Please reanalyze the media and try again.");case"clientProfileError":return Object(Ce.default)("The client profile for the sync target is invalid.");case"ioError":return Object(Ce.default)("An error occurred processing this media. Please check that the disk is not full.");case"transcoderError":return Object(Ce.default)("The transcoder was unable to process this media.");case"mediaAnalysisError":return Object(Ce.default)("This media was unable to be analyzed.");case"downloadFailed":return Object(Ce.default)("This media was unable to be downloaded. Please check that it is still available and try again.");case"unknownError":return Object(Ce.default)("An error occurred while syncing this media.")}return Object(Ce.default)("An error occurred while syncing this media.")},bindings:{".title":{modelAttribute:"title"},".subtitle":{modelAttribute:"Media",manual:!0,formatter:function(e){var t=this.analyzeParts(),a=this.analyzeTranscodeJobs();switch(this.$(".subtitle").addClass("hidden"),t){case"complete":this.$(".complete-subtitle").removeClass("hidden");break;case"waiting":this.$(".waiting-subtitle").removeClass("hidden");break;case"downloading":a.active?(this.$(".downloading-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(a.progress)):this.$(".processing-subtitle").removeClass("hidden");break;case"processing":a.active?(this.$(".converting-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(a.progress),this.$(".transcode-remaining").text(a.remaining)):this.$(".processing-subtitle").removeClass("hidden");break;case"unknown":this.$(".unknown-subtitle").removeClass("hidden");break;default:this.$(".failed-subtitle").removeClass("hidden"),this.$(".error-message").text(this.getErrorMessage(t))}}}},onRender:function(){this.image.setElement(this.ui.poster)}}),vie=lee.a.extend({tagName:"ul",className:"list sync-status-list",itemView:bie}),Iie=a("bsps"),Sie=a("81Xg"),Eie=a.n(Sie),Oie=Iie.a.extend({name:"syncStatusModal",template:Eie.a,regions:{list:".sync-status-list-container"},onRender:function(){Iie.a.prototype.onRender.apply(this,arguments),this.list.show(new vie({collection:this.collection,itemViewOptions:{syncItem:this.model}}))}}),Mie=a("UVxU"),Cie=a.n(Mie),jie=p.a.ItemView.extend({className:"modal-body",template:Cie.a,events:{"click .try-again-link":"onTryAgainClick"},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","form")}}),Die=a("7WRz"),Pie=a("+9S5"),Tie=a("EC8F");var wie=M.a.extend({},Tie.a,{type:"music",qualities:{bitrate:[96,128,192,320]},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)}});var Nie=M.a.extend({},Tie.a,{type:"photo",qualities:{photoResolution:["720x480","1280x720","1920x1080","3840x2160"],photoQuality:[24,49,74,99],title:function(){return[Object(Ce.default)("Low"),Object(Ce.default)("Medium"),Object(Ce.default)("High"),Object(Ce.default)("Highest")]}},getNearestIndexToQuality:function(e){return this.getNearestIndex(this.qualities.photoQuality,e)}}),xie=a("pWsU"),Aie=a.n(xie),Lie=p.a.ItemView.extend({className:"sync-quality-container form-group",template:Aie.a,events:{"change select[name=videoQuality]":"onVideoQualityChange","change select[name=musicQuality]":"onMusicQualityChange","change select[name=photoQuality]":"onPhotoQualityChange"},initialize:function(e){var t=Object(E.c)("appModel").get("user").get("experienceSettings");this.mediaSettings=this.model.get("mediaSettings"),this.mediaSettings.has("audioBoost")||this.mediaSettings.set("audioBoost",t.get("audioBoost")),this.mediaSettings.has("subtitleSize")||this.mediaSettings.set("subtitleSize",t.get("subtitleSize")),this.initVideoQuality(),this.initMusicQuality(),this.initPhotoQuality()},initVideoQuality:function(){this.availableVideoQualities=aC.a.getAvailableQualities({lowestQualityIndex:Pie.a}).reverse();var e=Object(E.c)("appModel").get("settings"),t=this.mediaSettings.get("maxVideoBitrate"),a=t?aC.a.getNearestIndexToBitrate(t):e.get(aC.a.getSyncQualityAttribute());this.updateVideoQuality(aC.a.getQualityByIndex(a))},initMusicQuality:function(){this.availableMusicQualities=wie.getAvailableQualities().reverse();var e=Object(E.c)("appModel").get("settings"),t=this.mediaSettings.get("musicBitrate"),a=t?wie.getNearestIndexToBitrate(t):e.get(wie.getSyncQualityAttribute());this.updateMusicQuality(wie.getQualityByIndex(a))},initPhotoQuality:function(){this.availablePhotoQualities=Nie.getAvailableQualities().reverse();var e=Object(E.c)("appModel").get("settings"),t=this.mediaSettings.get("photoQuality"),a=t?Nie.getNearestIndexToQuality(t):e.get(Nie.getSyncQualityAttribute());this.updatePhotoQuality(Nie.getQualityByIndex(a))},serializeData:function(){return{typeElement:Object(wo.getMetadataType)(this.model.get("metadataType")).mediaType,supportsOriginalQuality:this.model.server.supports("syncOriginalQuality"),availableVideoQualities:this.availableVideoQualities,selectedVideoQuality:this.selectedVideoQuality,availableMusicQualities:this.availableMusicQualities,selectedMusicQuality:this.selectedMusicQuality,availablePhotoQualities:this.availablePhotoQualities,selectedPhotoQuality:this.selectedPhotoQuality}},updateVideoQuality:function(e){this.selectedVideoQuality=e,this.mediaSettings.set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},updateMusicQuality:function(e){this.selectedMusicQuality=e,this.mediaSettings.set({musicBitrate:e.bitrate})},updatePhotoQuality:function(e){this.selectedPhotoQuality=e,this.mediaSettings.set({photoQuality:e.photoQuality,photoResolution:e.photoResolution})},saveQualityIndex:function(e,t){var a=parseInt(t,10);return Object(E.c)("appModel").get("settings").save(e.getSyncQualityAttribute(),a),e.getQualityByIndex(a)},onVideoQualityChange:function(e){var t=this.saveQualityIndex(aC.a,e.currentTarget.value);this.updateVideoQuality(t)},onMusicQualityChange:function(e){var t=this.saveQualityIndex(wie,e.currentTarget.value);this.updateMusicQuality(t)},onPhotoQualityChange:function(e){var t=this.saveQualityIndex(Nie,e.currentTarget.value);this.updatePhotoQuality(t)}}),kie=a("qlzh"),Rie=a.n(kie),zie={video:"movie",audio:"track",photo:"photo"},Uie=p.a.Layout.extend({template:Rie.a,ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",qualityRegion:".quality-region"},events:{"change input[name=title]":"onTitleChange","submit #sync-form":"onSubmit"},initialize:function(e){var t=E.c("appModel");if(this.device=e.device,this.model)this.tempModel=this.model.clone();else{var a,n,i=e.item,r=e.items;i.get("isPlaylist")?(a=i,n=zie[i.get("playlistType")]):i.get("isMetadataList")?(a=i,n=Object(wo.getLeafType)(i.get("firstItemType")).typeString):(a=i.has("childrenKey")?new GE.default({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider}):i,n=Object(wo.getLeafType)(i.get("type")).typeString),n===wo.COLLECTION&&(n=i.get("subtype")),this.tempModel=new Dee({metadataType:n,title:Eee.a.title(i,{items:r}),rootTitle:this.getRootTitle(i),machineIdentifier:i.server.id,clientIdentifier:this.device.get("clientIdentifier"),Location:{uri:Eee.a.uri(a,{items:r})}},{parent:i.server,server:t.get("user").server,device:this.device})}},serializeData:function(){return{syncItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew()}},getRootTitle:function(e){return e.section?e.section.get("title"):e.get("title")},onRender:function(){this.policyRegion.show(new Die.a({model:this.tempModel,isSync:!0})),this.qualityRegion.show(new Lie({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){t.addClass("active");var a=this.tempModel.save();a.done(M.a.bind((function(){if(this.model){var e=this.model.get("version")||0,t=M.a.omit(this.tempModel.toJSON(),"children");t.version=e+1,this.model.set(this.model.parse(t))}}),this)),(a=a.then(M.a.bind((function(){return See.a.execute("refreshSyncLists",{server:this.tempModel.parent,silent:!0})}),this))).done(this.whenRendered((function(){this.trigger("request:nextState")}))),a.fail(this.whenRendered((function(){this.trigger("request:state","error")})))}}}),Vie=a("sscm"),Bie=a.n(Vie),Fie=p.a.ItemView.extend({className:"modal-body",template:Bie.a,events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),Object(see.a)("serverSettingsStatusSync",{machineIdentifier:this.options.server.id,deviceID:this.options.device.id})}}),Hie=a("roTl"),_ie=a.n(Hie),Wie=Iie.a.extend({mixins:[te.a],name:"syncModal",className:"convert-modal modal fade",template:_ie.a,regions:{bodyRegion:".modal-body-region"},initialize:function(e){Iie.a.prototype.initialize.apply(this,arguments),this.device=this.model?this.model.device:e.device},initialState:"form",states:{form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new Uie({model:this.model,item:this.options.item,items:this.options.items,device:this.device})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new Fie({server:this.options.item.server,device:this.device})),this.listenForStateRequests())}},error:{onEnter:function(){this.bodyRegion.show(new jie),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){Iie.a.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}}),Qie=a("z4rd"),Gie=a.n(Qie),Kie=p.a.Layout.extend({tagName:"li",className:"poster-item media-tile-list-item sync-tile-list-item",template:Gie.a,metadataItemsDelay:5e3,ui:{poster:".media-poster",transcodeStatus:".sync-status-transcode",transcodeTimeRemaining:".media-context",statusIcons:".sync-status-icon",completeIcon:".sync-complete-icon",waitingIcon:".sync-waiting-icon",processingIcon:".sync-processing-icon",failedIcon:".sync-failed-icon",unknownIcon:".sync-unknown-icon"},regions:{transcodeProgress:".sync-status-transcode"},events:{"click a":"onClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},onlyAfterRender:["onMetadataItemsReset","onMediaChange","onTranscodeJobsReset"],initialize:function(e){this.server=e.server,this.model.parent=this.server,this.type=this.model.get("metadataType"),this.contentType=this.model.get("contentType");var t=this.type,a=this.contentType,n=150;"episode"===t?t="show":"clip"===t?n=250:"directory"===t&&(t="audio"===a?"track":"photo"===a?"photo":"movie"),this.$el.addClass(t),this.image=new Mee.a({server:this.server,type:t,width:n}),this.progressModel=new yee.c.Model({current:0});var i=this.server.get("desktop").get("transcodeJobs");this.metadataItems=new gie([],{server:this.server,device:this.model.device,syncItemId:this.model.id}),this.listenTo(this.metadataItems,"reset",this.onMetadataItemsReset),this.listenTo(i,"reset",this.onTranscodeJobsReset),this.metadataItems.fetch({reset:!0}),this.server.supports("syncNotifications")?this.listenTo(this.metadataItems,"change:Media",this.onMediaChange):this.metadataItemsInterval=window.setInterval(M.a.bind((function(){this.metadataItems.fetch({reset:!0})}),this),this.metadataItemsDelay)},serializeData:function(){return{syncItem:this.model.toJSON(),isFailure:!!this.model.get("status").get("failure")}},getPosterUrl:function(e){var t=e.get("thumb");return this.hasMultipleItems?this.hasSameParents?e.get("parentThumb")||e.get("grandparentThumb")||t:this.hasSameGrandparents?e.get("grandparentThumb")||e.get("parentThumb")||t:void 0:t},updatePoster:function(e){if(this.hasPoster=!0,!e){var t=this.metadataItems.first();if(!t)return;e=this.getPosterUrl(t)}this.image.url!==e&&(this.image.src=null,this.image.url=e,this.image.render())},analyzeParts:function(e){if(this.model.get("status").get("failure"))return"failed";var t=e.models,a=t.length;if(!a)return"unknown";for(var n="complete",i=[],r=[],s=0;s<a;s++){var o=t[s],l=o.get("Media");if(i.push(o.get("grandparentKey")),r.push(o.get("parentKey")),l.length||(n="unknown"),"failed"!==n&&"unknown"!==n)for(var c=0,d=l.length;c<d;c++)for(var u=l[c].Part,p=0,m=u.length;p<m;p++){var h=u[p],g=jee.a.getSyncStateFromPart(h);jee.a.failedRegex.test(g)&&(n="failed"),jee.a.processingRegex.test(g)&&(n="processing"),jee.a.waitingRegex.test(g)&&"processing"!==n&&(n=h.key?"waiting":"processing")}}return this.hasMultipleItems=a>1,this.hasSameGrandparents=1===M.a.compact(M.a.uniq(i)).length,this.hasSameParents=1===M.a.compact(M.a.uniq(r)).length,this.hasPoster||this.updatePoster(),n},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"rootTitle"}},onRender:function(){this.image.setElement(this.ui.poster),this.transcodeProgress.append(new wee({model:this.progressModel,size:56}))},onClose:function(){window.clearInterval(this.metadataItemsInterval)},onMetadataItemsReset:function(e){var t=this.analyzeParts(e);if(this.ui.statusIcons.addClass("hidden"),this.ui.transcodeStatus.hasClass("hidden"))switch(t){case"complete":this.ui.completeIcon.removeClass("hidden");break;case"waiting":this.ui.waitingIcon.removeClass("hidden");break;case"processing":this.ui.processingIcon.removeClass("hidden");break;case"failed":this.ui.failedIcon.removeClass("hidden");break;default:this.ui.unknownIcon.removeClass("hidden")}},onMediaChange:function(e,t){this.onMetadataItemsReset(this.metadataItems)},onTranscodeJobsReset:function(e){var t=e.where({syncItemId:this.model.id});if(!t.length)return this.ui.transcodeStatus.hasClass("hidden")||(this.ui.transcodeStatus.addClass("hidden"),this.ui.waitingIcon.removeClass("hidden")),this.ui.transcodeTimeRemaining.text(""),void this.updatePoster();var a=t[0],n=a.get("progress");if(this.ui.statusIcons.addClass("hidden"),n>0){this.ui.transcodeStatus.removeClass("hidden");var i=a.get("type"),r=jn(a.get("remaining"));if(this.progressModel.set("progress",n),"download"===i)this.progressModel.set("text",n.toString()+"%"),this.ui.transcodeTimeRemaining.text(Object(Ce.default)("Downloading"));else if("upload"===i)this.progressModel.set("text",n.toString()+"%"),this.ui.transcodeTimeRemaining.text(Object(Ce.default)("Uploading"));else{if(a.get("speed")){var s=Math.round(10*a.get("speed"))/10;s>10&&(s=Math.round(s)),this.progressModel.set("text",s.toString()+"x")}else this.progressModel.set("text","");this.ui.transcodeTimeRemaining.text(r)}this.updatePoster(a.get("thumb"))}else this.ui.transcodeStatus.addClass("hidden"),this.ui.processingIcon.removeClass("hidden")},onClick:function(e){e.preventDefault(),$.a.trigger("show:modal",new Oie({model:this.model,collection:this.metadataItems}))},onEditClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),$.a.trigger("show:modal",new Wie({model:this.model}))},onDeleteClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),See.a.execute("deleteSyncItem",{syncItem:this.model,server:this.server})}}),Yie=lee.a.extend({tagName:"ul",className:"tile-list media-tile-list sync-tile-list show-context",itemView:Kie}),qie=a("aon8"),Zie=a.n(qie);var Xie=p.a.Layout.extend({className:"sync-device-items-container",template:Zie.a,ui:{loading:".row-loading",empty:".sync-empty-message",deviceMessage:".sync-device-message",deviceMessageText:".sync-device-message-text"},regions:{list:".sync-item-list-container"},onlyAfterRender:["onDebouncedSyncItemsChange"],initialize(e){this.server=e.server,this.onDebouncedSyncItemsChange=M.a.debounce(this.onDebouncedSyncItemsChange,100),this.listenTo(this.model,{"change:syncList":this.onSyncListChange,"change:syncList.change:syncItems.reset":this.onDebouncedSyncItemsChange,"change:syncList.change:syncItems.update":this.onDebouncedSyncItemsChange}),this.fetchSyncList()},fetchSyncList(){const e=this.model.get("syncList");e&&e.fetch().always(this.onDebouncedSyncItemsChange)},onSyncListChange(){this.fetchSyncList()},onDebouncedSyncItemsChange(){const e=this.model.get("syncList");let t;e&&(t=e.clone(),t.resetToServer(this.server.id)),this.ui.loading.addClass("hidden");const a=!t||0===t.getCollection().length;this.ui.empty.toggleClass("hidden",!a);const n=!t||t.get("isActive");if(this.ui.deviceMessage.toggleClass("hidden",n),!n){const e=t.device,a=e.get("lastSeenAt");a&&this.ui.deviceMessageText.text(Object(Ce.default)("{1} was last seen {2}. Syncing will resume next time you launch Plex on this device.",e.get("name"),Object(Ja.a)(a)))}t?this.list.show(new Yie({collection:t.getCollection(),itemViewOptions:{server:this.server}})):this.list.close()}}),Jie=a("57QN"),$ie=a.n(Jie),ere=p.a.Layout.extend({className:"sync-container",template:$ie.a,transcodeJobDelay:2e3,ui:{devices:".nav a"},regions:{filterBar:".filter-bar",container:".sync-device-container"},modelEvents:{"change:shared":"onSharedChange"},events:{"click .dropdown-menu a":"onDeviceDropdownClick","click .nav a":"onDeviceClick","click .edit-btn":"onEditClick","click .refresh-btn":"onRefreshClick"},initialize:function(e){var t=E.c("appModel");this.selectedDevice=e.selectedDevice,this.user=t.get("user"),this.shared=this.model.get("shared"),this.transcodeJobs=this.model.get("desktop").get("transcodeJobs"),this.allowSync=this.model.get("allowSync"),this.signedIn=this.model.get("myPlexSigninState")===zU.b,this.collection.length&&(this.selectedDevice||(this.selectedDevice=this.collection.first()),this.fetchTranscodeJobs())},serializeData:function(){return{showDeviceDropdown:this.collection.length>0,shared:this.shared,hasTouchScreen:S.a.hasTouchScreen,signedIn:this.signedIn,allowSync:this.allowSync,sync:this.model.get("sync"),selectedDevice:this.selectedDevice?this.selectedDevice.toJSON():null,devices:this.collection.toJSON(),plexPassInfo:this.getPlexPassInfo()}},fetchTranscodeJobs:function(){this.transcodeJobs.fetch({reset:!0}),this.transcodeJobTimeout=window.setTimeout(M.a.bind(this.fetchTranscodeJobs,this),this.transcodeJobDelay)},showList:function(){this.selectedDevice?this.container.show(new Xie({model:this.selectedDevice,server:this.model})):this.container.close()},getPlexPassInfo:function(){return this.signedIn||this.shared?{url:this.user.server.get("plexPassUrl"),message:Object(Ce.default)("The server needs a Plex Pass to use sync."),buttonText:Object(Ce.default)("Learn More"),target:"_blank",showButton:!this.shared}:{url:Object(lm.a)(this.model.id,"settings","general"),message:Object(Ce.default)("The server needs to be signed in with a Plex Pass to use sync."),buttonText:Object(Ce.default)("Sign In"),target:"_self",showButton:!0}},onRender:function(){this.allowSync&&this.showList()},onClose:function(){window.clearTimeout(this.transcodeJobTimeout)},onSharedChange:function(e,t){this.shared=t,this.render()},onDeviceDropdownClick:function(e){e.preventDefault();const t=h()(e.currentTarget).data("id");this.selectedDevice=this.collection.get(t),Object(see.a)("serverSettingsStatusSync",{machineIdentifier:this.model.id,deviceID:t},!0),this.render()},onDeviceClick:function(e){e.preventDefault();var t=h()(e.currentTarget),a=t.data("id");this.ui.devices.removeClass("selected"),t.addClass("selected"),this.selectedDevice=this.collection.get(a),this.showList()},onEditClick:function(e){e.preventDefault(),h()(e.currentTarget).toggleClass("selected"),this.$el.toggleClass("force-hover")},onRefreshClick:function(e){e.preventDefault();var t=See.a.execute("refreshSyncLists",{server:this.model});this.selectedDevice&&t.always(this.whenRendered((function(){this.selectedDevice.get("syncList").fetch()})))}});function tre(){return Object(he.a)(Object(RI.a)(),e=>e.v4.core.serverNowPlayingSessions,(e,t)=>{var a;if(!e)return 0;const n=t[e.machineIdentifier],i=null==n?void 0:n.sessionKeys;return null!=(a=null==i?void 0:i.length)?a:0})}var are=function(e){return Object(he.a)(Hp(e),e=>e.some(({type:e})=>e===Ms.h))};function nre({server:e,provider:t}){const a=Object(v.c)();return Object(g.useCallback)(n=>{a(Object(OS.k)({server:e,provider:t,legacyAction:n}))},[a,t,e])}function ire({target:e,isOpen:t,contentDirectory:a,onMenuClose:n,onMenuCloseComplete:i}){const[r,s]=Jt(),{metricsPage:o,metricsContextTuple:l}=Object(Et.d)(),c=ul(),d=ul(),u=ul(),p=ul(),m=ul(),h=nre({server:r,provider:s}),f=Object(g.useMemo)(()=>({page:o,contextTuple:l}),[l,o]),b=Object(g.useCallback)(()=>{h(dS({contentDirectory:a}))},[a,h]),v=Object(g.useCallback)(()=>{h(mS({contentDirectory:a}))},[a,h]),I=Object(g.useCallback)(()=>{h(yS({contentDirectory:a}))},[a,h]),S=Object(g.useCallback)(()=>{h(pS({contentDirectory:a}))},[a,h]),E=Object(g.useCallback)(()=>{h(hS({contentDirectory:a}))},[a,h]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(Xs.a,{target:e,isOpen:t,onMenuClose:n,onMenuCloseComplete:i},y.a.createElement(Js.a,{onPress:Object(to.a)(n,c.onOpen)},Object(Ce.default)("Share...")),y.a.createElement(Js.a,{onPress:Object(to.a)(n,b)},Object(Ce.default)("Scan Library Files")),y.a.createElement(Js.a,{onPress:Object(to.a)(n,d.onOpen)},Object(Ce.default)("Analyze")),y.a.createElement(Js.a,{onPress:Object(to.a)(n,u.onOpen)},Object(Ce.default)("Refresh All Metadata")),y.a.createElement(Js.a,{onPress:Object(to.a)(n,p.onOpen)},Object(Ce.default)("Empty Trash")),y.a.createElement(Js.a,{kind:ao.a,onPress:Object(to.a)(n,m.onOpen)},Object(Ce.default)("Delete"))),y.a.createElement(yd.a,{isOpen:c.isOpen,serverEntityID:r.entityID,metricsProperties:f,onModalClose:c.onClose}),y.a.createElement(Xc.a,{isOpen:d.isOpen,metricsPage:It.g,title:Object(Ce.default)("Analyze Library"),message:Object(Ce.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Ce.default)("Analyze"),onConfirm:Object(to.a)(d.onClose,v),onCancel:d.onClose}),y.a.createElement(Xc.a,{isOpen:u.isOpen,metricsPage:It.q,title:Object(Ce.default)("Refresh All Metadata"),message:Object(Ce.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Ce.default)("Refresh"),onConfirm:Object(to.a)(u.onClose,I),onCancel:u.onClose}),y.a.createElement(Xc.a,{isOpen:p.isOpen,metricsPage:It.p,title:Object(Ce.default)("Empty Trash"),message:Object(Ce.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ce.default)("Empty"),onConfirm:Object(to.a)(p.onClose,S),onCancel:p.onClose}),y.a.createElement(Xc.a,{isOpen:m.isOpen,metricsPage:It.l,kind:ao.a,title:Object(Ce.default)("Delete Library"),message:Object(Ce.default)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:a.title}),accordMessage:Object(Ce.default)('Yes, delete the library "{libraryName}"',{libraryName:a.title}),confirmLabel:Object(Ce.default)("Delete"),onConfirm:Object(to.a)(m.onClose,E),onCancel:m.onClose}))}var rre=a("ngQI"),sre=a("Kao6"),ore=a.n(sre);function lre({isOpen:e,onClose:t,onAccept:a}){const n=Object(v.c)(),[i,r]=Object(g.useState)(!1),s=Object(v.d)(Hn("hasDismissedHubPromotionWarning"));Object(g.useEffect)(()=>{e&&s&&a()},[e,s,a,t]);const o=Object(g.useCallback)(()=>r(!i),[i]),l=Object(g.useCallback)(()=>{i&&Object(Dt.a)(()=>{n(Object(xy.l)({hasDismissedHubPromotionWarning:!0}))}),a()},[n,i,a]);return s?null:y.a.createElement(Wl,{size:_e.Small,isOpen:e,onModalClose:t},y.a.createElement(Yl,{onModalClose:t},y.a.createElement(nc,null,Object(Ce.default)("Add to Shared Users' Home?")),y.a.createElement(od,null,Object(Ce.default)("Matching items from this library will appear on your users’ Home screens as long as they have this library pinned to the sidebar. Be nice.")),y.a.createElement(ec,null,y.a.createElement("label",{key:"dismiss",className:ore.a.dismiss},y.a.createElement(_S,{name:"dismiss",checked:i,onChange:o}),y.a.createElement("span",null,Object(Ce.default)("Don't show again"))),y.a.createElement(dd,null,y.a.createElement(ba,{onPress:t},Object(Ce.default)("Cancel")),y.a.createElement(ba,{kind:da.Primary,onPress:l},Object(Ce.default)("Accept"))))))}var cre,dre,ure=Object(jr.c)({name:"libraryManagement",initialState:{hubs:{}},reducers:{markHubsStale(e,t){},hubsFetchRequested(e,{payload:t}){var a;e.hubs[t.sourceURI]={options:(null==(a=e.hubs[t.sourceURI])?void 0:a.options)||[],isPending:!0,isPopulated:!1,isResetting:!1,error:null}},hubsFetchSucceeded(e,{payload:t}){const a=e.hubs[t.sourceURI];a&&(Object(hm.d)(a),a.options=t.options)},hubsFetchFailed(e,{payload:t}){const a=e.hubs[t.sourceURI];a&&Object(hm.b)(a,t.error)},reorderRequested(e,{payload:t}){const a=e.hubs[t.sourceURI];a&&(Object(hm.c)(a),a.options=t.options)},reorderSucceeded(e,{payload:t}){const a=e.hubs[t.sourceURI];a&&Object(hm.d)(a)},reorderFailed(e,{payload:t}){const a=e.hubs[t.sourceURI];a&&(Object(hm.d)(a),a.options=t.options)},resetRequested(e,{payload:t}){const a=e.hubs[t.sourceURI];a&&(a.isResetting=!0)},resetSucceeded(e,{payload:t}){const a=e.hubs[t.sourceURI];a&&(a.isResetting=!1,a.options=t.options)},resetFailed(e,{payload:t}){const a=e.hubs[t.sourceURI];a&&(a.isResetting=!1)},promoteRequested(e,t){},promoteChanged(e,{payload:t}){const a=e.hubs[t.sourceURI];if(!a)return;const n=a.options.find(e=>e.identifier===t.options.identifier);n&&(n.promotedToRecommended=t.options.promotedToRecommended,n.promotedToOwnHome=t.options.promotedToOwnHome,n.promotedToSharedHome=t.options.promotedToSharedHome)}}}),pre=a("KAMT"),mre=a.n(pre);function hre({sourceURI:e,index:t,options:a,isDragging:n}){const i=Object(v.c)(),[r]=Jt(),s=ul(),o=Object(g.useCallback)(t=>{i(ure.actions.promoteRequested({server:r,sourceURI:e,options:a,promoted:t}))},[i,a,r,e]),l=Object(g.useCallback)(e=>{o({promotedToRecommended:e.target.checked})},[o]),c=Object(g.useCallback)(e=>{o({promotedToOwnHome:e.target.checked})},[o]),d=Object(g.useCallback)(e=>{o({promotedToSharedHome:e.target.checked})},[o]),u=Object(g.useCallback)(()=>{s.isOpen&&s.onClose(),o({promotedToSharedHome:!0})},[s,o]);return y.a.createElement(rre.b,{draggableId:a.identifier,index:t},(e,i)=>y.a.createElement("div",{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps},y.a.createElement(xc,{isAlternate:!n&&t%2==0},y.a.createElement("div",{className:i.isDragging?mre.a.draggingRow:mre.a.row},y.a.createElement("div",{className:mre.a.handle},y.a.createElement(JT,null)),y.a.createElement("div",{className:mre.a.title},a.title),y.a.createElement("div",{className:mre.a.inputs},y.a.createElement("div",{className:mre.a.input},y.a.createElement(_S,{name:cre.Recommended,checked:a.promotedToRecommended,onChange:l})),y.a.createElement("div",{className:mre.a.input},y.a.createElement(_S,{name:cre.OwnHome,checked:a.promotedToOwnHome,onChange:c})),y.a.createElement("div",{className:mre.a.input},y.a.createElement(_S,{name:cre.SharedHome,checked:a.promotedToSharedHome,onChange:a.promotedToSharedHome?d:s.onOpen}))))),y.a.createElement(lre,{isOpen:s.isOpen,onClose:s.onClose,onAccept:u})))}(dre=cre||(cre={})).Recommended="recommended",dre.OwnHome="ownHome",dre.SharedHome="sharedHome";var gre=Object(he.a)(wr,e=>e.libraryManagement);var yre=function(e){return Object(he.a)(gre,t=>t.hubs[e])},fre=a("+wuY"),bre=a.n(fre);function vre({sourceURI:e}){const t=Object(v.c)(),[a]=Jt(),n=Object(v.d)(yre(e)),i=Object(g.useMemo)(()=>{var e;return null!=(e=null==n?void 0:n.options)?e:[]},[null==n?void 0:n.options]),r=Object(g.useCallback)(n=>{const r=i.findIndex(({identifier:e})=>e===n.draggableId),s=n.destination.index,o=i.slice(),[l]=o.splice(r,1);o.splice(s,0,l),Object(Dt.a)(()=>t(ure.actions.reorderRequested({server:a,sourceURI:e,options:o,fromIndex:r,toIndex:s})))},[t,i,a,e]),s=Object(g.useCallback)(()=>{t(ure.actions.resetRequested({server:a,sourceURI:e}))},[t,a,e]);return Object(g.useEffect)(()=>{t(ure.actions.hubsFetchRequested({server:a,sourceURI:e}))},[t,a,e]),y.a.createElement("div",null,y.a.createElement(rre.a,{onDragEnd:r},y.a.createElement(rre.c,{droppableId:e},(t,a)=>y.a.createElement("div",{ref:t.innerRef,...t.droppableProps},i.map((t,n)=>y.a.createElement(hre,{key:t.identifier,sourceURI:e,index:n,options:t,isDragging:a.isDraggingOver})),t.placeholder))),i.length?y.a.createElement("div",{className:bre.a.footer},y.a.createElement("div",{className:bre.a.info},Object(Ce.default)("Sources need to be pinned to the apps sidebar for selected recommendations to display on the Home screen")),y.a.createElement("div",{className:bre.a.reset},y.a.createElement(ga,{className:bre.a.action,onPress:s},y.a.createElement(uz.a,{className:bre.a.resetIcon}),Object(Ce.default)("Reset Customization")))):null)}var Ire=a("7Azh"),Sre=a.n(Ire);function Ere({index:e,contentDirectory:t}){const[a,n]=Jt(),i=Object(_r.a)(),[r,s,o]=Qu(),[l,c]=Wr(),d=ul(),u=ul(),p=Object(Ct.a)({serverIdentifier:a.machineIdentifier,key:j.default.join(["/hubs/sections",t.id,"manage"])}),m=r||l||d.isOpen||u.isOpen,h=Object(ng.a)(a,n,t),{title:f}=t,b=nre({server:a,provider:n}),I=Wp(a,t),S=Object(v.d)(yre(p)),E=Qee(null==S?void 0:S.isPending,!0),O=a.ownerFeatures.includes(ve.m),M=Object(g.useCallback)(()=>{b(uS({contentDirectory:t}))},[t,b]),C=t.type?nl(t.type):null,D=null!=C?C:t.type,P=D?y.a.createElement(Fp,{className:Sre.a.icon,type:D}):null;return y.a.createElement(y.a.Fragment,null,y.a.createElement(xc,{className:Sre.a.row,alternateClassName:Sre.a.alternateRow,isAlternate:!!(e%2),isHovered:l||r,ref:c,onFocus:s,onBlur:o},y.a.createElement(ga,{className:Sre.a.underlay,onPress:O?u.onToggle:M}),y.a.createElement("div",{className:Sre.a.overlay},y.a.createElement("div",{className:Sre.a.iconContainer},I?y.a.createElement(Ge,{className:Sre.a.spinner}):P),y.a.createElement(ga,{className:Sre.a.title,title:f,to:h},f),y.a.createElement("div",{className:Pe()(Sre.a.actions,m&&Sre.a.visible)},u.isOpen?y.a.createElement("div",{className:Sre.a.header},(null==S?void 0:S.options.length)?y.a.createElement(y.a.Fragment,null,y.a.createElement("span",{className:Sre.a.column},Object(Ce.default)("Library Recommended")),y.a.createElement("span",{className:Sre.a.column},Object(Ce.default)("Home")),y.a.createElement("span",{className:Sre.a.column},Object(Ce.default)("Shared Users' Home"))):null,y.a.createElement(ga,{className:Sre.a.action,onPress:u.onClose},y.a.createElement("span",{className:Sre.a.headerIcon},E?y.a.createElement(Ge,{className:Sre.a.spinner}):y.a.createElement(oc.a,{direction:lc.c})))):y.a.createElement("div",{className:Sre.a.header},O?y.a.createElement(ga,{className:Sre.a.action,onPress:u.onOpen},y.a.createElement(oc.a,{direction:lc.a}),Object(Ce.default)("Manage Recommendations")):null,y.a.createElement(ga,{className:Sre.a.action,onPress:M},y.a.createElement(kd.a,{className:Sre.a.editIcon}),Object(Ce.default)("Edit Library")),y.a.createElement(ga,{className:Sre.a.action,id:i,"data-qa-id":"metadataRowMoreButton","aria-label":Object(Ce.default)("More Actions"),onPress:d.onToggle},y.a.createElement("span",{className:Sre.a.headerIcon},y.a.createElement(Dd.a,null)))))),y.a.createElement(ire,{target:i,isOpen:d.isOpen,contentDirectory:t,onMenuClose:d.onClose})),u.isOpen?y.a.createElement(vre,{sourceURI:p}):null)}var Ore=a("RDmF"),Mre=a.n(Ore);var Cre=a("oMRm"),jre=a("TGb9"),Dre=a.n(jre);function Pre(e){const{className:t,iconComponent:a,title:n,text:i}=e;return y.a.createElement("div",{className:t},y.a.createElement("div",{className:Dre.a.iconContainer},y.a.createElement(a,{className:Dre.a.icon})),y.a.createElement("div",{className:Dre.a.title},n),y.a.createElement("div",{className:Dre.a.text},i))}Pre.defaultProps={className:Dre.a.upsell};var Tre=Pre,wre=a("LH2V"),Nre=a.n(wre);function xre(e){const{className:t,iconComponent:a,title:n,text:i,moreInfo:r,children:s}=e;return y.a.createElement("div",{className:t},y.a.createElement(Tre,{className:Nre.a.upsell,iconComponent:a,title:n,text:i}),y.a.createElement("div",{className:Nre.a.moreInfo},r),s)}xre.defaultProps={className:Nre.a.info};class Are extends g.Component{constructor(e,t){super(e,t),this.onPlexPassPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{modalMetricsProperties:e,origin:t}=this.props,{isPlexPassModalOpen:a}=this.state;return y.a.createElement(Ih.a,{kind:ao.d,size:cc.a,onPress:this.onPlexPassPress},Object(Ce.default)("Get a Plex Pass"),y.a.createElement(Jc.a,{origin:t,metricsProperties:e,isOpen:a,onModalClose:this.onPlexPassModalClose}))}}var Lre=Are;var kre=function(e){const{machineIdentifier:t,origin:a,modalMetricsProperties:n,isSignedIn:i,isClaimed:r,hasPlexSubscription:s}=e;return s&&r?null:!s&&i?y.a.createElement(Lre,{origin:a,modalMetricsProperties:n}):y.a.createElement(Ih.a,{kind:ao.d,size:cc.a,to:Object(lm.a)(t,"settings","general")},i?Object(Ce.default)("Claim Server"):Object(Ce.default)("Sign In"))};const Rre=Object(v.b)((function(){return Object(he.a)(AU.a,Object(RI.a)(),(e,t)=>({machineIdentifier:t.machineIdentifier,isClaimed:t.isClaimed,isSignedIn:!!e&&e.signedIn,hasPlexSubscription:!!e&&e.hasPlexSubscription}))}))(kre);Rre.propTypes={...Rre.propTypes,serverEntityID:Qn.a.string.isRequired};var zre=Rre;function Ure(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-marketing-dvr-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m420 280c-77.21 0-140 62.79-140 140 0 77.21 62.79 140 140 140 77.21 0 140-62.79 140-140 0-77.21-62.79-140-140-140m0 256.67c-64.33 0-116.67-52.34-116.67-116.67 0-64.33 52.34-116.67 116.67-116.67 64.33 0 116.67 52.34 116.67 116.67 0 64.33-52.34 116.67-116.67 116.67m128.33-373.35h-.035c6.44 0 11.672 5.232 11.672 11.672v104.88h-23.328v-93.22h-513.33v282.36c0 11.584 9.8 20.982 21.892 20.982h188.11v23.328h-188.11c-24.937 0-45.22-19.88-45.22-44.31v-294.02c0-6.44 5.233-11.672 11.673-11.672h536.67m-128.33 186.67c-38.587 0-70 31.413-70 70 0 38.587 31.413 70 70 70 38.587 0 70-31.413 70-70 0-38.587-31.413-70-70-70m0 116.67c-25.742 0-46.672-20.93-46.672-46.673 0-25.742 20.93-46.672 46.672-46.672 25.743 0 46.673 20.93 46.673 46.672 0 25.743-20.93 46.673-46.673 46.673m105-466.67h.018c19.302 0 35 15.698 35 35.02v93.31c0 6.439-5.233 11.672-11.673 11.672h-536.67c-6.44 0-11.673-5.232-11.673-11.672v-93.31c0-19.32 15.697-35.02 35-35.02h490m10.833 31.03c-1.629-4.462-5.828-7.682-10.85-7.682h-41.808l-93.33 93.33h60.34l85.64-85.65m-458.97 85.65l93.33-93.33h-48.668l-93.33 93.33h48.667m459.81 0v-53.48l-53.48 53.48h53.48m-366.47-.018l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m-321.86-93.33h.017c-6.44 0-11.672 5.25-11.672 11.69v53.5l65.19-65.19h-53.52-.017"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Ure.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Vre=Ure;var Bre=Object(he.a)(fe.a,e=>e.v4DVRSetupEnabled),Fre=a("K8a1"),Hre=a("zzzj"),_re=a("30Wg"),Wre=a.n(_re);function Qre({errorMessage:e}){return y.a.createElement("div",{className:Wre.a.sectionError},y.a.createElement(je.a,{className:Wre.a.sectionErrorIcon}),e||Object(Ce.default)("There was a problem saving your changes."))}var Gre,Kre,Yre,qre,Zre,Xre,Jre,$re,ese,tse,ase,nse,ise=a("ZYvM");function rse(e){return/^[a-z]:\\|\\\\/i.test(e)&&(e=e.replace(/\\/g,"/")),/^(\/|[a-z]:\/)/i.test(e)&&(e=e.replace(/\/(.+?)(?=\/|$)/g,(e,t)=>"/"+encodeURIComponent(t))),"/"===e.charAt(0)&&(e=e.substring(1)),/^[a-z]+?:\/\//i.test(e)&&(e=encodeURIComponent(e)),e}(Kre=Gre||(Gre={})).BackupDatabase="general.db.backup",Kre.CleanBundles="general.bundle.clean",Kre.GrabberGrab="grabber.grab",Kre.GrabberAssimilate="grabber.assimilate",Kre.LibraryDelete="library.delete",Kre.LibraryUpdateSection="library.update.section",Kre.LibraryRefreshItems="library.refresh.items",Kre.MediaGenerateBIF="media.generate.bif",Kre.MediaGenerateChapterThumbs="media.generate.chapter.thumbs",Kre.MediaGenerateIntros="media.generate.intros",Kre.OptimizeDatabase="general.db.optimize",Kre.ProviderDeviceChannelScan="provider.device.channelscan",Kre.ProviderEpgLineupScan="provider.epg.lineupscan",Kre.ProviderEpgLoad="provider.epg.load",Kre.ProviderSubscriptionsProcess="provider.subscriptions.process",Kre.ProviderSubscriptionRefresh="provider.subscription.refresh",Kre.SubtitleDownload="subtitle.download",(qre=Yre||(Yre={}))[qre.Regions=0]="Regions",qre[qre.PostalCode=1]="PostalCode",qre[qre.SinglePostalCode=2]="SinglePostalCode",(Xre=Zre||(Zre={})).Dead="dead",Xre.Alive="alive",($re=Jre||(Jre={})).Disabled="disabled",$re.Enabled="enabled",(tse=ese||(ese={})).Unknown="-1",tse.Antenna="0",tse.Cable="1",tse.Satellite="2",(nse=ase||(ase={}))[nse.Unknown=-1]="Unknown",nse[nse.OverTheAir=0]="OverTheAir",nse[nse.Cable=1]="Cable",nse[nse.Satellite=2]="Satellite",nse[nse.IPTV=3]="IPTV",nse[nse.Virtual=4]="Virtual";const sse={channels:[],isPending:!0,isPopulated:!1,error:null},ose={devices:{mediaGrabberDevices:[],isPending:!1,isPopulated:!1,error:null},epgDownloadActivityID:void 0,selectedDevice:void 0,selectedDVR:{dvr:void 0,isPending:!1,isPopulated:!1,error:null},channelsByDeviceKey:{},hasScannedChannels:!1,isSavingDVR:!1,isAddingDevice:!1,isDiscoveringDevices:!1,isSavingChannelMappings:!1,isCancellingChannelScan:!1,channelMappingsSaveError:null,setupErrorMessage:null};function lse(e,{payload:t}){const{activity:a}=t;if(a.type!==Gre.ProviderDeviceChannelScan)return;const n=100===(null==a?void 0:a.progress);e.hasScannedChannels=n,e.isCancellingChannelScan&&n&&(e.isCancellingChannelScan=!1)}var cse=Object(jr.c)({name:"dvrSetup",initialState:ose,reducers:{reset:()=>ose,setupReset(e){e.selectedDevice=void 0,e.hasScannedChannels=!1,e.isSavingDVR=!1,e.isAddingDevice=!1,e.isDiscoveringDevices=!1,e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null,e.setupErrorMessage=null},setupErrorMessageAdded(e,{payload:t}){e.setupErrorMessage=t.message},setupErrorMessageRemoved(e,t){e.setupErrorMessage=null},devicesDiscoverRequested(e,t){e.isDiscoveringDevices=!0},devicesDiscoverSucceeded(e,{payload:t}){e.isDiscoveringDevices=!1;const{mediaGrabberDevices:a}=e.devices;for(let e=0;e<t.data.length;e++){const n=t.data[e],i=a.find(e=>n.uuid===e.uuid);i?(i.state=n.state,i.status=n.status):a.push(n)}},devicesDiscoverFailed(e,t){e.isDiscoveringDevices=!1},devicesFetchRequested({devices:e},t){Object(hm.c)(e)},devicesFetchSucceeded({devices:e},{payload:t}){Object(hm.d)(e),e.mediaGrabberDevices=t.data},devicesFetchFailed({devices:e},{payload:t}){Object(hm.b)(e,t.error)},deviceChannelsFetchRequested(e,{payload:t}){let a=e.channelsByDeviceKey[t.deviceKey];a||(a={...sse},e.channelsByDeviceKey[t.deviceKey]=a),e.setupErrorMessage=null,a.channels=[],a.isPopulated=!1,Object(hm.c)(a)},deviceChannelsFetchSucceeded(e,{payload:t}){const a=e.channelsByDeviceKey[t.deviceKey];Object(hm.d)(a),a.channels=t.data},deviceChannelsFetchFailed(e,{payload:t}){let a=e.channelsByDeviceKey[t.deviceKey];a||(a={...sse},e.channelsByDeviceKey[t.deviceKey]=a),Object(hm.b)(a,t.error)},deviceChannelsScanRequested(e,t){e.hasScannedChannels=!1},deviceChannelsScanFailed(e,t){e.hasScannedChannels=!0},deviceChannelsCancelScanRequested(e,t){e.isCancellingChannelScan=!0},deviceChannelsCancelScanFailed(e,t){e.isCancellingChannelScan=!1},deviceSelected(e,{payload:t}){const a=e.devices.mediaGrabberDevices.find(e=>e.key===t.deviceKey);a&&(e.selectedDevice=a)},deviceSourceSelected({devices:e},{payload:t}){const a=e.mediaGrabberDevices.find(e=>e.key===t.deviceKey);a&&(a.source=t.source)},deviceChannelMappingsSaveRequested(e,t){e.isSavingChannelMappings=!0,e.channelMappingsSaveError=null},deviceChannelMappingsSaveSucceeded(e,t){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null},deviceChannelMappingsSaveFailed(e,{payload:t}){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=t.error},deviceEnableRequested(e,t){},deviceEnableSucceeded(e,{payload:t}){const a=e.devices.mediaGrabberDevices.find(e=>e.key===t.deviceKey);a&&(a.state=t.enabled?Jre.Enabled:Jre.Disabled)},deviceEnableFailed(e,t){},deviceAddRequested(e,t){e.isAddingDevice=!0},deviceAddSucceeded(e,{payload:t}){e.setupErrorMessage=null,e.isAddingDevice=!1;const a=e.devices.mediaGrabberDevices.find(e=>e.key===t.data.key);a?Object.assign(a,t.data):e.devices.mediaGrabberDevices.push(t.data)},deviceAddFailed(e,t){e.isAddingDevice=!1},dvrFetchRequested(e,t){e.setupErrorMessage=null,Object(hm.c)(e.selectedDVR)},dvrFetchSucceeded({selectedDVR:e},{payload:t}){Object(hm.d)(e),e.dvr=t.dvr},dvrFetchFailed(e,{payload:t}){Object(hm.b)(e.selectedDVR,t.error),e.setupErrorMessage=Object(Ce.default)("There was a problem fetching your DVR. Please try again later.")},dvrSaveRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},dvrSaveSucceeded(e,{payload:t}){Object(hm.d)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},dvrSaveFailed(e,t){e.isSavingDVR=!1},addDVRDeviceRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},addDVRDeviceSucceeded(e,{payload:t}){Object(hm.d)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},addDVRDeviceFailed(e,t){e.isSavingDVR=!1}},extraReducers:e=>{e.addCase(ws.actions.activityStarted,lse).addCase(ws.actions.activityUpdated,lse).addCase(ws.actions.activityFinished,(e,t)=>{t.payload.activity.uuid===e.epgDownloadActivityID?e.epgDownloadActivityID=void 0:lse(e,t)})}});const dse={mappings:[],isPending:!1,isPopulated:!1,error:null},use={epgLineupGroups:[],isPending:!1,isPopulated:!1,error:null},pse={channelMappings:dse,channelsByLineupUUID:{},countries:{epgCountries:[],isPending:!1,isPopulated:!1,error:null},languages:{epgLanguages:[],isPending:!1,isPopulated:!1,error:null},regions:{epgCountryRegions:[],isPending:!1,isPopulated:!1,error:null},lineupGroups:use,selectedCountry:void 0,selectedLanguage:void 0,selectedRegion:void 0,selectedLineupGroups:[],postalCode:""};var mse=Object(jr.c)({name:"epgSettings",initialState:pse,reducers:{reset:()=>pse,channelMappingsFetchRequested({channelMappings:e},t){Object(hm.c)(e)},channelMappingsFetchSucceeded({channelMappings:e,channelsByLineupUUID:t,selectedLineupGroups:a},{payload:n}){e.mappings=n.channelMappings,Object(hm.d)(e),n.lineupChannels.forEach(({lineupUUID:e,channels:a})=>{t[e]=a}),a.forEach(e=>{e.isChannelMappingsFetched=!0})},channelMappingsFetchFailed({channelMappings:e},{payload:t}){Object(hm.b)(e,t.error)},channelMappingChanged({channelMappings:e},{payload:t}){const{index:a,...n}=t,i=e.mappings[a];Object.assign(i,n)},epgLineupGroupFetchRequested({lineupGroups:e},t){Object(hm.c)(e)},epgLineupGroupFetchSucceeded({lineupGroups:e},{payload:t}){Object(hm.d)(e),e.epgLineupGroups.push({uuid:t.data.uuid,epgLineups:t.data.epgLineups})},epgLineupGroupFetchFailed({lineupGroups:e},{payload:t}){Object(hm.b)(e,t.error)},bestEPGLineupSearchRequested(e,t){},bestEPGLineupSearchSucceeded({selectedLineupGroups:e},{payload:t}){const a=e.find(e=>e.uuid===t.lineupGroup.uuid);a&&(a.activityUUID=t.data,a.isSelectedLineupPending=!0)},bestEPGLineupSearchFailed(e,t){},selectedLineupSelected({selectedLineupGroups:e},{payload:t}){const a=e.find(e=>e.uuid===t.lineupGroupUUID);if(a){const e=a.epgLineups.find(e=>e.uuid===t.selectedLineupUUID);a.selectedLineup=e}},selectedEPGLineupGroupAddRequested(e,t){},selectedEPGLineupGroupAddSucceeded({selectedLineupGroups:e},{payload:t}){e.push({...t.lineupGroup,activityUUID:void 0,selectedLineup:void 0,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!1})},selectedEPGLineupGroupRemoved(e,{payload:t}){e.selectedLineupGroups=e.selectedLineupGroups.filter(e=>e.uuid!==t.lineupGroupUUID)},xmltvSelectedEPGLineupGroupAdded({selectedLineupGroups:e},{payload:t}){const{path:a,title:n}=t,i=rse(a),r={uuid:`lineup://${qr.k}/${i}#${encodeURIComponent(n)}`,title:n,lineupType:ase.Virtual},s={uuid:"xmltv-"+Object(ise.a)(),epgLineups:[r],activityUUID:void 0,selectedLineup:r,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!0};e.push(s)},epgCountriesFetchRequested({countries:e},t){Object(hm.c)(e)},epgCountriesFetchSucceeded({countries:e},{payload:t}){Object(hm.d)(e),e.epgCountries=t.data},epgCountriesFetchFailed({countries:e},{payload:t}){Object(hm.b)(e,t.error)},epgCountrySelected(e,{payload:t}){const a=e.countries.epgCountries.find(e=>e.code===t.countryCode);e.selectedCountry=a,e.selectedRegion=void 0,e.postalCode=void 0},epgCountryRegionSelected(e,{payload:t}){const a=e.regions.epgCountryRegions.find(e=>e.key===t.regionKey);e.selectedRegion=a},epgCountryRegionsFetchRequested({regions:e},t){Object(hm.c)(e)},epgCountryRegionsFetchSucceeded({regions:e},{payload:t}){Object(hm.d)(e),e.epgCountryRegions=t.data},epgCountryRegionsFetchFailed({regions:e},{payload:t}){Object(hm.b)(e,t.error)},epgLanguagesFetchRequested({languages:e},t){Object(hm.c)(e)},epgLanguagesFetchSucceeded({languages:e},{payload:t}){Object(hm.d)(e),e.epgLanguages=t.data},epgLanguagesFetchFailed({languages:e},{payload:t}){Object(hm.b)(e,t.error)},epgLanguageSelected(e,{payload:t}){const a=e.languages.epgLanguages.find(e=>e.code===t.languageCode);e.selectedLanguage=a},epgPostalCodeChanged(e,{payload:t}){e.postalCode=t.postalCode}},extraReducers(e){e.addCase(cse.actions.setupReset,e=>{e.channelMappings=dse,e.channelsByLineupUUID={},e.lineupGroups=use,e.selectedRegion=void 0,e.selectedLineupGroups=[],e.postalCode=""}).addCase(ws.actions.activityFinished,(e,{payload:t})=>{const{activity:a}=t;if(a.type===Gre.ProviderEpgLineupScan){const t=e.selectedLineupGroups.find(e=>e.activityUUID===a.uuid);if(t){const e=t.epgLineups.find(e=>e.uuid===a.Response.lineup);t.activityUUID=void 0,t.selectedLineup=e,t.isSelectedLineupPending=!1,t.isSelectedLineupPopulated=!0}}})}});var hse=Object(he.a)(wr,e=>e.dvrManagement);var gse=Object(he.a)(hse,e=>e.epgSettings),yse=a("NXjI"),fse=a.n(yse);function bse({isDisabled:e,hasError:t}){const a=Object(v.c)(),{selectedRegion:n,regions:{epgCountryRegions:i}}=Object(v.d)(gse),r=i.length>0,s=Object(g.useMemo)(()=>i.map(e=>({value:e.key,label:e.title})),[i]),o=Object(g.useCallback)(e=>{a(mse.actions.epgCountryRegionSelected({regionKey:e.currentTarget.value}))},[a]);return r?y.a.createElement(y.a.Fragment,null,y.a.createElement(Ef,{className:fse.a.label,hasError:t},Object(Ce.default)("Region")),y.a.createElement(id,{name:"regionSelect",value:null==n?void 0:n.key,isDisabled:e,hasError:t,onChange:o},y.a.createElement("option",{value:""},Object(Ce.default)("Select Region")),s.map(({value:e,label:t})=>y.a.createElement("option",{key:e,value:e},t)))):null}var vse=a("idx1"),Ise=a.n(vse);function Sse({deviceKey:e,isActive:t,isDisabled:a,hasError:n,onEdit:i}){var r;const s=Object(v.c)(),[o]=Jt(),{selectedCountry:l,countries:{epgCountries:c,isPending:d,isPopulated:u,error:p}}=Object(v.d)(gse),[m,h]=Object(g.useState)(!1),f=null!=(r=null==l?void 0:l.code)?r:"",b=Object(g.useMemo)(()=>c.map(e=>({value:e.code,label:e.title})),[c]),I=Object(g.useCallback)(e=>{s(mse.actions.epgCountrySelected({countryCode:e.currentTarget.value}))},[s]),S=Object(g.useCallback)(()=>{null==i||i(e)},[e,i]);Object(g.useEffect)(()=>{const{countryCode:e}=o;u&&(!f&&e?s(mse.actions.epgCountrySelected({countryCode:e})):h(!0))},[o,f,u,h,s]),Object(g.useEffect)(()=>{f&&!m&&h(!0)},[f,m,h]),Object(g.useEffect)(()=>{if(l){const{flavor:e}=l;e===Yre.Regions?s(mse.actions.epgCountryRegionsFetchRequested({server:o,country:l})):e===Yre.SinglePostalCode&&s(mse.actions.epgPostalCodeChanged({postalCode:l.example}))}},[s,l,o]),Object(g.useEffect)(()=>{u||s(mse.actions.epgCountriesFetchRequested({server:o}))},[s,u,o]);const E=t||!f?y.a.createElement(id,{name:"countrySelect",value:f,isDisabled:a,hasError:n,onChange:I},y.a.createElement("option",{value:""},Object(Ce.default)("Select Country")),b.map(({value:e,label:t},a)=>y.a.createElement("option",{key:a,value:e},t))):y.a.createElement("div",{className:Ise.a.edit},null==l?void 0:l.title,a?null:y.a.createElement(ga,{kind:da.Primary,onPress:S},Object(Ce.default)("Edit")));return y.a.createElement(y.a.Fragment,null,y.a.createElement(Ef,{className:Ise.a.label,hasError:n},Object(Ce.default)("Country")),d||!m?Object(Ce.default)("Loading countries..."):null,p?Object(Ce.default)("We couldn't fetch countries at this moment."):null,u&&m?E:null)}var Ese=Object(he.a)(gse,({selectedCountry:e})=>e&&1===e.flavor?e.example:void 0),Ose=a("gZNl"),Mse=a.n(Ose);let Cse;function jse({isDisabled:e,hasError:t}){const a=Object(v.c)(),{selectedCountry:n}=Object(v.d)(gse),i=Object(Kc.a)(n),r=Object(v.d)(Ese),[s,o]=Object(g.useState)(""),l=Object(g.useCallback)(e=>{o(e.currentTarget.value)},[o]);return Object(g.useEffect)(()=>{i&&i.key!==(null==n?void 0:n.key)&&o("")},[n,i]),Object(g.useEffect)(()=>{Cse&&window.clearTimeout(Cse),Cse=window.setTimeout(()=>{a(mse.actions.epgPostalCodeChanged({postalCode:s}))},300)},[a,s]),r?y.a.createElement(y.a.Fragment,null,y.a.createElement(Ef,{className:Mse.a.label,hasError:t},Object(Ce.default)("Postal Code")),y.a.createElement(Ml,{name:"postalCodeInput",size:_e.Medium,placeholder:Object(Ce.default)("e.g. {postalCodeExample}",{postalCodeExample:r}),value:s,isDisabled:e,hasError:t,onChange:l})):null}var Dse=Object(he.a)(hse,e=>e.dvrSetup);var Pse=Object(he.a)(gse,({lineupGroups:e})=>{const{epgLineupGroups:t,isPending:a,isPopulated:n}=e;return a||!n||0===t.length?null:t[t.length-1]});const Tse=Object(he.a)(gse,({selectedLineupGroups:e})=>e.reduce((e,{selectedLineup:t})=>(t&&e.push(t),e),[]));var wse=Object(bO.a)(Tse,e=>e),Nse=a("jvJW"),xse=a.n(Nse);function Ase({onSetStep:e}){const t=Object(v.c)(),[a]=Jt(),{selectedDevice:n}=Object(v.d)(Dse),{selectedCountry:i,selectedRegion:r,selectedLineupGroups:s,postalCode:o,channelMappings:{isPending:l},lineupGroups:{isPending:c}}=Object(v.d)(gse),d=Object(v.d)(Pse),u=Object(v.d)(wse),p=Object(v.d)(Ese),[m,h]=Object(g.useState)(!1),f=Object(Kc.a)(i),b=Object(Kc.a)(r),I=Object(Kc.a)(o),S=s.every(e=>e.isSelectedLineupPopulated),E=s.every(e=>e.isChannelMappingsFetched),O=!(!i||!o&&!r&&i.flavor!==Yre.SinglePostalCode),M=!!(void 0!==f&&f!==i||void 0!==b&&b!==r||void 0!==I&&I!==o),C=Object(g.useCallback)(()=>{s.length>0?e(Joe.Mapping):(t(cse.actions.reset()),t(mse.actions.reset()))},[t,s.length,e]),j=Object(g.useCallback)(()=>{d&&t(mse.actions.selectedEPGLineupGroupAddRequested({lineupGroup:d}))},[t,d]),D=Object(g.useCallback)(()=>{e(Joe.XMLTV)},[e]);Object(g.useEffect)(()=>{n||e(Joe.Device)},[n,e]),Object(g.useEffect)(()=>{M&&O&&i&&t(mse.actions.epgLineupGroupFetchRequested({server:a,country:i,region:r,postalCode:o}))},[M,O,r,o,a,i,t]),Object(g.useEffect)(()=>{d&&n&&s&&!m&&!S&&(t(mse.actions.bestEPGLineupSearchRequested({server:a,device:n,lineupGroup:s[s.length-1]})),h(!0))},[t,d,n,s,m,S,a]),Object(g.useEffect)(()=>{m&&d&&n&&0!==u.length&&(S&&E?e(Joe.Mapping):l||t(mse.actions.channelMappingsFetchRequested({server:a,device:n,lineups:u})))},[t,m,l,S,E,d,e,n,u,a]);const P=(!d||d.epgLineups.length>0)&&O,T=m||c||l||!S,w=O&&!c&&0===(null==d?void 0:d.epgLineups.length);return y.a.createElement(y.a.Fragment,null,y.a.createElement(od,{innerClassName:xse.a.innerModalBody},y.a.createElement("p",{className:xse.a.header},0===u.length?Object(Ce.default)("Add EPG data lineup or location"):Object(Ce.default)("Add another EPG data lineup or location")),y.a.createElement("p",null,Object(Ce.default)("If your tuner device can receive channels that are not present in your initial lineup, you can specify additional locations or lineups to fulfill your EPG.")),y.a.createElement("p",null,Object(Ce.default)("Remember, your device will need to be able to tune these channels to be able to function.")),y.a.createElement("p",null,Object(Ce.default)("Any unsaved changes to channel mappings will be lost when you add a new lineup.")),y.a.createElement("div",{className:xse.a.formContainer},y.a.createElement("div",{className:xse.a.formElements},n?y.a.createElement("div",{className:xse.a.section},y.a.createElement(Sse,{deviceKey:n.key,isActive:!0,isDisabled:T,hasError:w})):null,(null==i?void 0:i.flavor)===Yre.Regions?y.a.createElement("div",{className:xse.a.section},y.a.createElement(bse,{isDisabled:T,hasError:w})):null,p?y.a.createElement("div",{className:xse.a.section},y.a.createElement(jse,{isDisabled:T,hasError:w})):null),w?y.a.createElement("p",{className:xse.a.formError},Object(Ce.default)("We couldn't find Plex DVR guide data for your location at this time. Please select a different location or use an XMLTV guide.")):null),0===u.length?y.a.createElement(jI.a,{kind:da.Primary,onPress:D},Object(Ce.default)("Have an XMLTV guide on your server? Click here to use that instead.")):null),y.a.createElement(ec,null,y.a.createElement(dd,{className:xse.a.buttonBar},y.a.createElement(ba,{isDisabled:l,onPress:C},Object(Ce.default)("Back")),y.a.createElement(Il,{kind:da.Primary,isDisabled:!P,isSpinning:T,onPress:j},Object(Ce.default)("Continue")))))}var Lse=function(e){return Object(he.a)(Hp(e),e=>e.find(e=>e.type===Ms.m))};var kse=Object(he.a)(Dse,({devices:e})=>e.mediaGrabberDevices.filter(e=>!e.parentID&&e.status===Zre.Alive)),Rse="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmNDc0MSIvPgogPHBhdGggZD0ibTE0MCAyNDRjMC04LjI0MyA1LjgzMi0xNS4zNDcgMTQtMTYuNTE2bDI4LTMuNDgzaDE5NmwyOCAzLjQ4M2M4LjE4MyAxLjE2OSAxNCA4LjI4MSAxNCAxNi41MTZ2NzJjMCA4LjI0My01LjgzMiAxNS4zNDctMTQgMTYuNTE2bC0yOCAzLjQ4M2gtMTk2bC0yOC0zLjQ4M2MtOC4xODMtMS4xNjktMTQtOC4yODEtMTQtMTYuNTE2di03MiIgc3R5bGU9ImZpbGwtb3BhY2l0eTouMTQ5MDIiLz4KIDxwYXRoIGQ9Im0zNzggMzM2aC0xOTZsLTI4LTMuNDgzYy0uNTA2LS4wNzUtMS4wMS0uMTY4LTEuNTA2LS4yODgtMS4wODktLjI2MS0yLjE0OS0uNjM3LTMuMTU5LTEuMTItMi4xMzItMS4wMTgtNC4wMi0yLjUxNC01LjUyLTQuMzQtMS4yMzEtMS41MDItMi4xOTQtMy4yMi0yLjg0MS01LjA1LS40MzQtMS4yMzItLjcyNi0yLjUxMy0uODY5LTMuODExLS4wNjMtLjU2OS0uMTA0LTEuNzE0LS4xMDQtMS43MTR2LTcyLjM5YzAgMCAuMDQxLTEuMTQ2LjEwNC0xLjcxNi4xNDQtMS4yOTkuNDM2LTIuNTgxLjg3MS0zLjgxMi42NDgtMS44MzIgMS42MTItMy41NTEgMi44NDUtNS4wNSAxLjQ5OC0xLjgyNSAzLjM4OS0zLjMyIDUuNTE5LTQuMzM4IDEuMDEtLjQ4MiAyLjA2OS0uODU3IDMuMTU2LTEuMTE5LjQ5Ny0uMTE5Ljk5OS0uMjEyIDEuNTA0LS4yODdsMjgtMy40ODNoMTk2YzAgMCAxOC42NjcgMi4zMjIgMjggMy40ODMuNTA2LjA3NSAxLjAxLjE2OCAxLjUwNi4yODggMS4wODkuMjYxIDIuMTQ5LjYzNyAzLjE1OSAxLjEyIDIuMTMyIDEuMDE4IDQuMDIgMi41MTQgNS41MiA0LjM0IDEuMjMxIDEuNTAyIDIuMTk0IDMuMjIgMi44NDEgNS4wNS40MzQgMS4yMzIuNzI2IDIuNTEzLjg2OSAzLjgxMS4wNjMuNTY5LjEwNCAxLjcxNC4xMDQgMS43MTR2NzIuMzljMCAwLS4wNDEgMS4xNDYtLjEwNCAxLjcxNi0uMTQ0IDEuMjk5LS40MzYgMi41ODEtLjg3MSAzLjgxMi0uNjQ4IDEuODMyLTEuNjEyIDMuNTUxLTIuODQ1IDUuMDUtMS40OTggMS44MjUtMy4zODkgMy4zMi01LjUxOSA0LjMzOC0xLjAxLjQ4Mi0yLjA2OS44NTctMy4xNTYgMS4xMTktLjQ5Ny4xMTktLjk5OS4yMTItMS41MDQuMjg3bC0yOCAzLjQ4M20tLjU1OC0xMDNoLTE5NC44OGMtOS4xMjQgMS4xMzUtMTguMjc4IDIuMDUyLTI3LjM3MiAzLjQwNS0uMTEzLjAxOS0uMjI2LjAzOS0uMzM4LjA2MS0uNjQxLjEzNC0xLjI2LjM0OC0xLjg0MS42NS0uOTMxLjQ4Ni0xLjc0NSAxLjE4My0yLjM4NCAyLjAxLS40OTcuNjQ4LS44ODkgMS4zNzYtMS4xNjEgMi4xNDYtLjI5OS44NDYtLjQ2MSAyLjYyOS0uNDYxIDIuNjI5bC4wMDEgNzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk3LjI4Ny43NjIuNjkyIDEuNDc5IDEuMjAyIDIuMTE0LjY3MS44MzcgMS41MjQgMS41MjggMi40OTMgMS45OTEuNTk4LjI4NiAxLjIzMi40NzkgMS44ODQuNTkybC4wODcuMDE0LjAzMi4wMDQgMjcuMzM5IDMuNDAxaDE5NC44OGMwIDAgMTguMjc4LTIuMDUyIDI3LjM3MS0zLjQwNS42ODEtLjExIDEuMzQzLS4zMDcgMS45NjYtLjYwNCAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjU1LS44MTYtMS40ODItMS40OTQtMi40MjItMS45NTYtLjYxOS0uMzA1LTEuMjc4LS41MDktMS45NTYtLjYyN2wtLjA4Ni0uMDEzLS4wMzItLjAwNS0yNy4zNC0zLjQwMW0tMTMuNDQyIDM4YzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTEyNiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6IzkxYzUzYiIvPgo8L3N2Zz4K",zse="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzQxNDEzZSIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6I2Y3OTQxZSIvPgo8L3N2Zz4K",Use="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzFlNDI1NCIvPgogPHBhdGggZD0ibTQyMCAyMzhjMC03LjcyNi02LjI3NS0xNC0xNC0xNGgtMjUyYy03LjcyNyAwLTE0IDYuMjc0LTE0IDE0djg0YzAgNy43MjcgNi4yNzMgMTQgMTQgMTRoMjUyYzcuNzI2IDAgMTQtNi4yNzMgMTQtMTR2LTg0IiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNi4xOCAyMjRjMCAwIC45NTIuMDM2IDEuNDI2LjA5IDEuMDM2LjExOSAyLjA1OS4zNTQgMy4wNDMuNzAxIDEuOTE2LjY3NSAzLjY3NSAxLjc3NCA1LjEyOCAzLjE5MiAxLjQ5MiAxLjQ1OCAyLjY1NCAzLjI0NiAzLjM3MiA1LjIwNC4zNTguOTc4LjYwNiAxLjk5Ny43MzcgMy4wMy4wNjguNTMyLjExMiAxLjYwMS4xMTIgMS42MDF2ODQuMzZjMCAwLS4wNDQgMS4wNjktLjExMiAxLjYwMS0uMTMxIDEuMDMzLS4zNzkgMi4wNTItLjczNyAzLjAzLS43MTggMS45NTgtMS44OCAzLjc0Ni0zLjM3MiA1LjIwNC0xLjQ1MyAxLjQxOC0zLjIxMiAyLjUxNy01LjEyOCAzLjE5Mi0uOTg0LjM0Ny0yLjAxLjU4Mi0zLjA0My43MDEtLjQ3NC4wNTQtMS40MjYuMDktMS40MjYuMDloLTI1Mi4zNmMwIDAtLjk1Mi0uMDM2LTEuNDI2LS4wOS0xLjAzNi0uMTE5LTIuMDU5LS4zNTQtMy4wNDMtLjcwMS0xLjkxNi0uNjc1LTMuNjc1LTEuNzc0LTUuMTI4LTMuMTkyLTEuNDkyLTEuNDU4LTIuNjU0LTMuMjQ2LTMuMzcyLTUuMjA0LS4zNTgtLjk3OC0uNjA2LTEuOTk3LS43MzctMy4wMy0uMDY4LS41MzItLjExMi0xLjYwMS0uMTEyLTEuNjAxdi04NC4zNmMwIDAgLjA0NC0xLjA2OS4xMTItMS42MDEuMTMxLTEuMDMzLjM3OS0yLjA1Mi43MzctMy4wMy43MTgtMS45NTggMS44OC0zLjc0NiAzLjM3Mi01LjIwNCAxLjQ1My0xLjQxOCAzLjIxMi0yLjUxNyA1LjEyOC0zLjE5Mi45ODQtLjM0NyAyLjAxLS41ODIgMy4wNDMtLjcwMS40NzQtLjA1NCAxLjQyNi0uMDkgMS40MjYtLjA5aDI1Mi4zNm0tMjUyLjE1IDguOTk5YzAgMC0uNDA4LjAxLS42MTEuMDMzLS40MDYuMDQ3LS44MDYuMTQ0LTEuMTg4LjI4OS0xLjM0NC41MTEtMi40MzQgMS42MTQtMi45MjggMi45NjMtLjE5NC41MjktLjMgMS42NDgtLjMgMS42NDhsLjAwMSA4NC4yYzAgMCAuMTEyIDEuMDc0LjI5OSAxLjU4Mi40OTQgMS4zNDkgMS41ODQgMi40NTIgMi45MjggMi45NjMuNTI0LjIgMS42MzguMzIgMS42MzguMzJoMjUyLjI3YzAgMCAxLjExNC0uMTIgMS42MzktLjMyIDEuMzQzLS41MTEgMi40MzMtMS42MTQgMi45MjctMi45NjMuMTg2LS41MDguMjk5LTEuNTgyLjI5OS0xLjU4MnYtODQuMjdjMCAwLS4xMi0xLjExNC0uMzItMS42MzgtLjUxMS0xLjM0NC0xLjYxNC0yLjQzNC0yLjk2My0yLjkyOC0uNTA4LS4xODctMS41ODItLjI5OS0xLjU4Mi0uMjk5bC0yNTIuMS0uMDAybTEwMS43MSA2My40MmgtNi45NjN2LTMyLjgzOGg2Ljk2M3YxMi44N2gxMy4wMXYtMTIuODdoNi45NDF2MzIuODM4aC02Ljk0MXYtMTQuMTczaC0xMy4wMXYxNC4xNzNtMzcuNTMyIDBoLTkuMjk4di0zMi44MzhoMTAuMzA5YzUuMzYxIDAgOS41MjQgMS40MTUgMTIuNDg4IDQuMjQ1IDIuOTY1IDIuODMgNC40NDggNi43ODMgNC40NDggMTEuODYgMCA1LjQwNS0xLjUzOSA5LjU0NS00LjYxNiAxMi40Mi0zLjA3NyAyLjg3NS03LjUyIDQuMzEzLTEzLjMzMSA0LjMxM20xLjM3MS0yNy4xM2gtMy43MDd2MjEuMzgzaDIuOTg4YzYuNzA4IDAgMTAuMDYtMy42MDEgMTAuMDYtMTAuODA0IDAtNy4wNS0zLjExNC0xMC41NzktOS4zNDMtMTAuNTc5IiBzdHlsZT0iZmlsbDojMzFhZmMwIi8+Cjwvc3ZnPgo=",Vse="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmMzM0ZCIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6Izk0NTA4ZCIvPgo8L3N2Zz4K",Bse=a("GaVp"),Fse=a.n(Bse);const Hse={"HDHomeRun CONNECT":Rse,"HDHomeRun EXPAND":zse,"HDHomeRun EXTEND":Use,"HDHomeRun PRIME":Vse};function _se({className:e=Fse.a.image,thumb:t,model:a,width:n,height:i}){const[r]=Jt(),s=Hse[a]||"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMzQTQ5NTgiIGQ9Ik0wIDBoNTYwdjU2MEgweiIvPjxwYXRoIGQ9Ik00MjAgMjM4YzAtNy43MjYtNi4yNzUtMTQtMTQtMTRIMTU0Yy03LjcyNyAwLTE0IDYuMjc0LTE0IDE0djg0YzAgNy43MjcgNi4yNzMgMTQgMTQgMTRoMjUyYzcuNzI2IDAgMTQtNi4yNzMgMTQtMTR2LTg0IiBmaWxsLW9wYWNpdHk9Ii4xNDkiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNNDA2LjE4IDIyNHMuOTUyLjAzNiAxLjQyNi4wOWMxLjAzNi4xMTkgMi4wNTkuMzU0IDMuMDQzLjcwMSAxLjkxNi42NzUgMy42NzUgMS43NzQgNS4xMjggMy4xOTIgMS40OTIgMS40NTggMi42NTQgMy4yNDYgMy4zNzIgNS4yMDQuMzU4Ljk3OC42MDYgMS45OTcuNzM3IDMuMDMuMDY4LjUzMi4xMTIgMS42MDEuMTEyIDEuNjAxdjg0LjM2cy0uMDQ0IDEuMDY5LS4xMTIgMS42MDFhMTMuOTIxNCAxMy45MjE0IDAgMDEtLjczNyAzLjAzYy0uNzE4IDEuOTU4LTEuODggMy43NDYtMy4zNzIgNS4yMDQtMS40NTMgMS40MTgtMy4yMTIgMi41MTctNS4xMjggMy4xOTItLjk4NC4zNDctMi4wMS41ODItMy4wNDMuNzAxLS40NzQuMDU0LTEuNDI2LjA5LTEuNDI2LjA5SDE1My44MnMtLjk1Mi0uMDM2LTEuNDI2LS4wOWExMy45NDMyIDEzLjk0MzIgMCAwMS0zLjA0My0uNzAxYy0xLjkxNi0uNjc1LTMuNjc1LTEuNzc0LTUuMTI4LTMuMTkyLTEuNDkyLTEuNDU4LTIuNjU0LTMuMjQ2LTMuMzcyLTUuMjA0LS4zNTgtLjk3OC0uNjA2LTEuOTk3LS43MzctMy4wMy0uMDY4LS41MzItLjExMi0xLjYwMS0uMTEyLTEuNjAxdi04NC4zNnMuMDQ0LTEuMDY5LjExMi0xLjYwMWMuMTMxLTEuMDMzLjM3OS0yLjA1Mi43MzctMy4wMy43MTgtMS45NTggMS44OC0zLjc0NiAzLjM3Mi01LjIwNCAxLjQ1My0xLjQxOCAzLjIxMi0yLjUxNyA1LjEyOC0zLjE5Mi45ODQtLjM0NyAyLjAxLS41ODIgMy4wNDMtLjcwMS40NzQtLjA1NCAxLjQyNi0uMDkgMS40MjYtLjA5aDI1Mi4zNm0tMjUyLjE1IDguOTk5cy0uNDA4LjAxLS42MTEuMDMzYy0uNDA2LjA0Ny0uODA2LjE0NC0xLjE4OC4yODktMS4zNDQuNTExLTIuNDM0IDEuNjE0LTIuOTI4IDIuOTYzLS4xOTQuNTI5LS4zIDEuNjQ4LS4zIDEuNjQ4bC4wMDEgODQuMnMuMTEyIDEuMDc0LjI5OSAxLjU4MmMuNDk0IDEuMzQ5IDEuNTg0IDIuNDUyIDIuOTI4IDIuOTYzLjUyNC4yIDEuNjM4LjMyIDEuNjM4LjMyaDI1Mi4yN3MxLjExNC0uMTIgMS42MzktLjMyYzEuMzQzLS41MTEgMi40MzMtMS42MTQgMi45MjctMi45NjMuMTg2LS41MDguMjk5LTEuNTgyLjI5OS0xLjU4MnYtODQuMjdzLS4xMi0xLjExNC0uMzItMS42MzhjLS41MTEtMS4zNDQtMS42MTQtMi40MzQtMi45NjMtMi45MjgtLjUwOC0uMTg3LTEuNTgyLS4yOTktMS41ODItLjI5OWwtMjUyLjEtLjAwMk0yMTkuMzMzIDI5NmgtNi45NjI5di0yNy4wNDNoLTguOTE3di01Ljc5NDlIMjI4LjI1djUuNzk1aC04LjkxN1YyOTZ6bTQwLjY5OTItMzIuODM3OXYyMS4yNDhjMCAyLjQyNTktLjU0MjggNC41NTIxLTEuNjI4NCA2LjM3OS0xLjA4NTYgMS44MjY4LTIuNjU0MSAzLjIyNjgtNC43MDU2IDQuMjAwMi0yLjA1MTQuOTczMy00LjQ3NzIgMS40Ni03LjI3NzMgMS40Ni00LjIyMjcgMC03LjUwMi0xLjA4Mi05LjgzNzktMy4yNDU3LTIuMzM2LTIuMTYzNy0zLjUwMzktNS4xMjQ4LTMuNTAzOS04Ljg4MzN2LTIxLjE1ODJoNi45NDA0djIwLjEwMjVjMCAyLjUzMDcuNTA5MSA0LjM4NzQgMS41Mjc0IDUuNTcwNCAxLjAxODIgMS4xODMgMi43MDI4IDEuNzc0NCA1LjA1MzcgMS43NzQ0IDIuMjc2IDAgMy45MjY5LS41OTUyIDQuOTUyNi0xLjc4NTcgMS4wMjU3LTEuMTkwNCAxLjUzODYtMy4wNTg0IDEuNTM4Ni01LjYwNHYtMjAuMDU3Nmg2Ljk0MDR6TTI5Ny4yMDUxIDI5NmgtOC44NDk2bC0xNC4yODUyLTI0Ljg0MThoLS4yMDIxYy4yODQ1IDQuMzg3NC40MjY3IDcuNTE3LjQyNjcgOS4zODg3VjI5NmgtNi4yMjE3di0zMi44Mzc5aDguNzgyM2wxNC4yNjI3IDI0LjU5NDdoLjE1NzJjLS4yMjQ2LTQuMjY3Ni0uMzM3LTcuMjg0OC0uMzM3LTkuMDUxN3YtMTUuNTQzaDYuMjY2N1YyOTZ6bTI3LjE3NzcgMGgtMTguOTEyMXYtMzIuODM3OWgxOC45MTIxdjUuNzA1aC0xMS45NDkydjcuMjFoMTEuMTE4MnY1LjcwNTFoLTExLjExODJ2OC40Njc4aDExLjk0OTJWMjk2em0xMy44MTM1LTE4LjI2MDdoMi4yNDZjMi4yMDEzIDAgMy44MjYtLjM2NjkgNC44NzQxLTEuMTAwNiAxLjA0ODItLjczMzggMS41NzIzLTEuODg2NyAxLjU3MjMtMy40NTkgMC0xLjU1NzMtLjUzNTMtMi42NjU0LTEuNjA2LTMuMzI0Mi0xLjA3MDYtLjY1ODktMi43MjktLjk4ODMtNC45NzUtLjk4ODNoLTIuMTExNHY4Ljg3MnptMCA1LjY2MDFWMjk2aC02Ljk2Mjl2LTMyLjgzNzloOS41Njg0YzQuNDYyMiAwIDcuNzY0LjgxMjMgOS45MDUyIDIuNDM3IDIuMTQxMyAxLjYyNDcgMy4yMTIgNC4wOTE2IDMuMjEyIDcuNDAwOSAwIDEuOTMxNi0uNTMxNiAzLjY0OTktMS41OTQ4IDUuMTU0OC0xLjA2MzEgMS41MDQ5LTIuNTY4IDIuNjg0LTQuNTE0NiAzLjUzNzYgNC45NDE0IDcuMzgyMiA4LjE2MDggMTIuMTUxMyA5LjY1ODIgMTQuMzA3NmgtNy43MjY2bC03LjgzODktMTIuNjAwNmgtMy43MDZ6IiBmaWxsPSIjQ0ZDRkNGIi8+PC9nPjwvc3ZnPg==";return y.a.createElement(ot.a,{serverEntityID:r.entityID,providerEntityID:void 0,className:e,url:t,emptySrc:s,width:n,height:i})}var Wse=e=>Object(he.a)(Dse,t=>e?t.channelsByDeviceKey[e]:sse);function Qse(e){switch(e){case ese.Unknown:return Object(Ce.default)("Unknown");case ese.Antenna:return Object(Ce.default)("Antenna");case ese.Cable:return Object(Ce.default)("Cable");case ese.Satellite:return Object(Ce.default)("Satellite")}}function Gse({device:e,isDisabled:t}){const a=Object(v.c)(),{key:n,source:i,sources:r}=e,s=Object(g.useMemo)(()=>function(e,t){return e?e.map(e=>({value:e,label:Qse(e)})):[{value:t,label:Qse(t)}]}(r,i),[r,i]),o=Object(g.useCallback)(e=>{a(cse.actions.deviceSourceSelected({deviceKey:n,source:e.currentTarget.value}))},[a,n]);return y.a.createElement(id,{name:"deviceSource",value:i,isDisabled:t||1===s.length,onChange:o},s.map(({value:e,label:t},a)=>y.a.createElement("option",{key:a,value:e},t)))}var Kse=a("Bvvc"),Yse=a.n(Kse);function qse({device:e,activeDeviceKey:t,onSetupStart:a,onSetStep:n}){const i=Object(v.c)(),[r]=Jt(),s=Object(g.useMemo)(()=>Wse(e.key),[e]),o=Object(v.d)(Ese),l=Object(v.d)(s),{lineupGroups:{isPending:c},selectedCountry:d,selectedRegion:u,postalCode:p}=Object(v.d)(gse),m=Object(v.d)(Pse),{key:h,make:f,model:b,tuners:I,thumb:S,uri:E}=e,O=!(!d||!p&&!u&&d.flavor!==Yre.SinglePostalCode),M=Object(g.useCallback)(()=>{Object(Dt.a)(()=>{i(cse.actions.deviceSelected({deviceKey:e.key})),m&&m.epgLineups.length>0&&i(mse.actions.selectedEPGLineupGroupAddRequested({lineupGroup:m}))}),m&&m.epgLineups.length>0?n(Joe.Info):n(Joe.XMLTV)},[i,e,m,n]),C=Object(g.useCallback)(()=>{a(h)},[h,a]);Object(g.useEffect)(()=>{(null==l?void 0:l.isPending)||(null==l?void 0:l.isPopulated)||i(cse.actions.deviceChannelsFetchRequested({server:r,deviceKey:h}))},[r,h,l,i]),Object(g.useEffect)(()=>{O&&d&&i(mse.actions.epgLineupGroupFetchRequested({server:r,country:d,region:u,postalCode:p}))},[u,p,r,d,O,i]);const j=!(!t||t!==h),D=!(!t||t===h),P=!!t&&O,T=function(e){if(!e||e.isPending)return Object(Ce.default)("Loading channels...");const{channels:t,error:a}=e,n=t.length;return a||0===n?Object(Ce.default)("0 Channels (scan required)"):1===n?Object(Ce.default)("1 channel"):Object(Ce.default)("{channelCount} channels",{channelCount:n})}(l);return y.a.createElement("div",{className:Yse.a.container},y.a.createElement(_se,{model:b,thumb:S,width:200,height:110}),y.a.createElement("div",{className:Yse.a.section},y.a.createElement("div",{className:Yse.a.make},f),y.a.createElement("div",{className:Yse.a.model},b),y.a.createElement("div",{className:Yse.a.moreInfo},E,E&&I?y.a.createElement(Hi.b,null):null,I>1?Object(Ce.default)("{tunersCount} tuners",{tunersCount:I}):Object(Ce.default)("1 tuner"))),y.a.createElement("div",{className:Yse.a.section},y.a.createElement(Gse,{device:e,isDisabled:D}),y.a.createElement("div",{className:Yse.a.channelsMessage},T)),D?null:y.a.createElement("div",{className:Yse.a.section},y.a.createElement(Sse,{deviceKey:e.key,isActive:j,onEdit:C})),j&&(null==d?void 0:d.flavor)===Yre.Regions?y.a.createElement("div",{className:Yse.a.section},y.a.createElement(bse,null)):null,j&&o?y.a.createElement("div",{className:Yse.a.section},y.a.createElement(jse,null)):null,j||D?null:y.a.createElement(ba,{kind:da.Primary,className:Yse.a.button,onPress:C},Object(Ce.default)("Setup Device")),j?y.a.createElement(Il,{kind:da.Primary,className:Yse.a.button,isDisabled:!P,isSpinning:c,onPress:M},Object(Ce.default)("Next")):null,D?y.a.createElement("div",{className:Yse.a.disabledText},Object(Ce.default)("You can add this device later.")):null)}var Zse=a("4ZK+"),Xse=a.n(Zse);function Jse(){const e=Object(v.c)(),[t]=Jt(),{setupErrorMessage:a,isAddingDevice:n}=Object(v.d)(Dse),[i,r]=Object(g.useState)(!1),s=Object(Kc.a)(n),{register:o,handleSubmit:l}=Object(fl.b)(),c=Object(g.useCallback)(()=>{r(!i)},[i,r]),d=l(({address:a})=>{e(cse.actions.deviceAddRequested({server:t,uri:a}))});return Object(g.useEffect)(()=>{i&&s&&!n&&!a&&r(!1)},[n,s,r,a,i]),y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:Xse.a.manualDeviceButtonContainer},y.a.createElement(Tq.a,{kind:da.Primary,direction:i?Jy.Up:Jy.Down,isSelected:!1,onPress:c},Object(Ce.default)("Don't see your HDHomeRun device? Enter its network address manually"))),y.a.createElement("div",{className:Xse.a.manualDeviceContainer},i?y.a.createElement("form",{onSubmit:d},y.a.createElement(Ef,null,Object(Ce.default)("HDHomeRun Device Address")),y.a.createElement(Ml,{type:"text",name:"address",className:Xse.a.manualDeviceInput,placeholder:Object(Ce.default)("IP address or hostname"),ref:o({required:!0})}),y.a.createElement(Il,{type:"submit",kind:da.Primary,isSpinning:n},Object(Ce.default)("Connect"))):null))}var $se=a("siYB"),eoe=a.n($se);function toe({onSetStep:e}){const t=Object(v.c)(),[a]=Jt(),[n,i]=Object(g.useState)(void 0),{devices:{isPending:r,isPopulated:s},isDiscoveringDevices:o,isCancellingChannelScan:l}=Object(v.d)(Dse),c=Object(v.d)(kse),d=Object(g.useMemo)(()=>Lse(a),[a]),u=Object(v.d)(d),p=Object(g.useCallback)(e=>{i(e)},[i]);Object(g.useEffect)(()=>{Object(Dt.a)(()=>{t(cse.actions.setupReset())})},[t]),Object(g.useEffect)(()=>{l||(u?t(cse.actions.deviceChannelsCancelScanRequested({server:a,deviceKey:u.Context.deviceID})):s||t(cse.actions.devicesFetchRequested({server:a})))},[t,a,u,l,s]),Object(g.useEffect)(()=>{c.some(e=>e.key===n)||i(void 0)},[c,n,i]),Object(g.useEffect)(()=>{let e;return o||l||(e=window.setTimeout(()=>{t(cse.actions.devicesDiscoverRequested({server:a}))},2e3)),()=>{e&&window.clearTimeout(e)}},[t,a,o,l]);const m=(h=c,f=s,r||l?Object(Ce.default)("Looking for compatible devices..."):f&&h.length>0?Object(Ce.default)("We found hardware we recognize!"):f&&0===h.length?Object(Ce.default)("We couldn't find any hardware we recognize, but will continue to look for available devices."):Object(Ce.default)("Something went wrong. Please try again later."));var h,f;const b=l||r||!c.length;return y.a.createElement(od,{innerClassName:eoe.a.innerModalBody},y.a.createElement("p",null,m),y.a.createElement(Jse,null),b?y.a.createElement("div",{className:eoe.a.spinnerContainer},y.a.createElement(Ge,null)):y.a.createElement(Ae,{className:eoe.a.devicesContainer,scrollDirection:Ie.Horizontal},c.map(t=>y.a.createElement(qse,{key:t.key,device:t,activeDeviceKey:n,onSetupStart:p,onSetStep:e}))))}var aoe=a("QUUe"),noe=a.n(aoe);function ioe({device:e,onSetupPress:t}){const{make:a,model:n,thumb:i}=e;return y.a.createElement("div",{className:noe.a.container},y.a.createElement(_se,{model:n,thumb:i,width:130,height:73}),y.a.createElement("div",{className:noe.a.info},y.a.createElement("div",{className:noe.a.make},a),y.a.createElement("div",{className:noe.a.model},n),y.a.createElement(ba,{className:noe.a.button,kind:da.Primary,size:_e.Small,onPress:t},Object(Ce.default)("Setup Device"))))}var roe=a("Sl7x"),soe=a.n(roe);function ooe({onModalClose:e,onSetStep:t}){var a;const[n,i]=Jt(),{devices:{isPending:r}}=Object(v.d)(Dse),{epgDownloadActivityID:s}=Object(v.d)(Dse),o=Object(v.d)(kse),l=Object(xt.a)(i,St.e.Content),c=null==(a=null==l?void 0:l.directories)?void 0:a.find(e=>e.hubKey&&!e.key),d=c&&Object(dD.a)(dD.c.GUIDE,n,i,c),u=Object(g.useCallback)(()=>{t(Joe.Device)},[t]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(od,{innerClassName:soe.a.innerModalBody},!r&&o.length>0?y.a.createElement("div",{className:soe.a.additionalDevices},y.a.createElement("p",{className:soe.a.accentText},Object(Ce.default)("Setup another device?")),o.map(e=>y.a.createElement(ioe,{key:e.key,device:e,onSetupPress:u}))):null,y.a.createElement("p",{className:soe.a.text},Object(Ce.default)('You can now find your Guide and Channels in the sidebar under "Live TV". While we\'re grabbing the guide data, you can start browsing; it will update automatically as we download what’s on.')),s?y.a.createElement("div",{className:soe.a.spinnerContainer},y.a.createElement(Ge,{className:soe.a.spinner}),y.a.createElement("p",null,Object(Ce.default)("Downloading EPG data"))):null),y.a.createElement(ec,null,y.a.createElement(dd,null,y.a.createElement(ba,{onPress:e},Object(Ce.default)("Close")),y.a.createElement(ba,{kind:da.Primary,to:d,isDisabled:!d,onPress:e},Object(Ce.default)("View Guide")))))}var loe=a("lHYh"),coe=a.n(loe);function doe({activeStep:e,step:t,title:a}){const n=e===t,i=e>t,r=e<t;return y.a.createElement("div",{className:coe.a.container},i?y.a.createElement(as,{className:coe.a.done,iconComponent:ns.a}):null,n?y.a.createElement(Ge,{className:coe.a.active}):null,r?y.a.createElement("div",{className:coe.a.waiting}):null,a)}var uoe,poe,moe=a("MeBg"),hoe=a.n(moe);function goe({onSetStep:e}){const t=Object(v.c)(),[a]=Jt(),[n,i]=Object(g.useState)(1),r=Object(v.d)(wse),{selectedDevice:s}=Object(v.d)(Dse),o=Object(g.useMemo)(()=>Wse(null==s?void 0:s.key),[s]),{channels:l,isPending:c,isPopulated:d}=Object(v.d)(o),{postalCode:u,selectedCountry:p,selectedLanguage:m,selectedLineupGroups:h,selectedRegion:f,languages:{epgLanguages:b},channelMappings:{isPopulated:I}}=Object(v.d)(gse),S=h[0],E=Object(g.useCallback)(()=>{e(Joe.Device)},[e]);return Object(g.useEffect)(()=>{0===b.length&&t(mse.actions.epgLanguagesFetchRequested({server:a}))},[t,a,b,e]),Object(g.useEffect)(()=>{1===n&&(p&&m?i(2):b&&p&&!m&&t(mse.actions.epgLanguageSelected({languageCode:p.language})))},[t,b,n,p,m]),Object(g.useEffect)(()=>{2===n&&(d?i(3):!s||l&&c||t(cse.actions.deviceChannelsFetchRequested({server:a,deviceKey:s.key})))},[l,t,c,d,n,s,a]),Object(g.useEffect)(()=>{3!==n||!p||r||S||t(mse.actions.epgLineupGroupFetchRequested({server:a,country:p,region:f,postalCode:u}))},[t,S,n,u,p,r,f,a]),Object(g.useEffect)(()=>{3===n&&s&&!(null==S?void 0:S.activityUUID)&&0===r.length&&t(mse.actions.bestEPGLineupSearchRequested({server:a,device:s,lineupGroup:S}))},[t,S,n,s,r,a]),Object(g.useEffect)(()=>{3===n&&(null==S?void 0:S.isSelectedLineupPopulated)&&e(Joe.Mapping)},[I,S,n,e,r]),y.a.createElement(y.a.Fragment,null,y.a.createElement(od,{innerClassName:hoe.a.innerModalBody},y.a.createElement("p",null,Object(Ce.default)("Setting up your tuner and channels...")),y.a.createElement("div",{className:hoe.a.container},y.a.createElement(Ge,{className:hoe.a.spinner}),y.a.createElement("div",{className:hoe.a.steps},y.a.createElement(doe,{step:1,activeStep:n,title:Object(Ce.default)("Gathering data")}),y.a.createElement(doe,{step:2,activeStep:n,title:Object(Ce.default)("Scanning channels")}),y.a.createElement(doe,{step:3,activeStep:n,title:Object(Ce.default)("Finding the best guide")})))),y.a.createElement(ec,null,y.a.createElement(dd,{className:hoe.a.buttonBar},y.a.createElement(ba,{onPress:E},Object(Ce.default)("Back")))))}(poe=uoe||(uoe={}))[poe.Data=1]="Data",poe[poe.Channels=2]="Channels",poe[poe.Guide=3]="Guide";var yoe=Object(he.a)(gse,wse,({channelsByLineupUUID:e},t)=>t.reduce((t,a)=>{var n;const i=null!=(n=e[a.uuid])?n:[];return t.concat(i)},[]));var foe=Object(At.a)((function(e){return Object(he.a)(Wse(e),gse,yoe,(e,t,a)=>{const{channelMappings:n}=t;if(!(null==e?void 0:e.isPopulated)||!n.isPopulated)return[];const i=e.channels.map(e=>e.key),r=n.mappings.map(e=>e.deviceIdentifier),s=i.concat(r);return Array.from(new Set(s)).map(t=>{var i;const r=e.channels.find(e=>e.key===t),s=n.mappings.find(e=>e.deviceIdentifier===t),o=a.find(e=>(null==e?void 0:e.key)===(null==s?void 0:s.channelKey)||(null==e?void 0:e.identifier)===(null==s?void 0:s.lineupIdentifier)),{name:l="",identifier:c="",drm:d=!1,signalStrength:u,signalQuality:p,hd:m=!1}=r||{},h=!(!r||d||!(null==s?void 0:s.enabled));return{key:t,name:l,deviceIdentifier:c,channelKey:(null==s?void 0:s.channelKey)||(null==o?void 0:o.key),lineupIdentifier:(null==s?void 0:s.lineupIdentifier)||(null==o?void 0:o.identifier),signalStrength:u,signalQuality:p,enabled:h,drm:d,isChannelMissing:!r,isDeviceChannelHD:m,isLineupChannelHD:null!=(i=null==o?void 0:o.hd)&&i}}).sort((e,t)=>Object(AO.a)(e.deviceIdentifier,t.deviceIdentifier))})}));function boe(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-hour-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m179.45 378h-106.62l29.821-29.12h51.725l25.07 29.12m-148.31-81.48l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m69.934 7.28l-3.166 39.48-29.821 29.12 6.069-75.88 11.348-10.92 15.57 18.2m61.23-9.24h-58.59l-12.403-14.56 14.779-14.56h58.59l12.667 14.56-15.04 14.56m-155.18-38.36l3.167-39.48 29.821-29.12-6.07 75.88-11.347 11.2-15.571-18.48m159.93 0l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-1.32-44.8h-51.724l-25.07-29.4h106.62l-29.821 29.4"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}boe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var voe=boe;function Ioe(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-minutes-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m391.63 378h-106.62l29.821-29.12h51.725l25.07 29.12m147.79 0h-106.62l29.821-29.12h51.725l25.07 29.12m-226.16-74.2l-3.167 39.48-29.821 29.12 6.07-75.88 11.347-10.92 15.571 18.2m89.99-7.28l-6.07 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m57.795 7.28l-3.167 39.48-29.821 29.12 6.07-75.88 11.348-10.92 15.57 18.2m89.99-7.28l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m-261.79-33.04l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m57.795 7.28l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-149.1-44.8h-51.725l-25.07-29.4h106.62l-29.821 29.4m177.61-29.4l-29.821 29.4h-51.725l-25.07-29.4h106.62"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Ioe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Soe=Ioe;function Eoe(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-separator-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m218.51 378l2.375-29.12h27.71l-2.375 29.12h-27.71m11.08-134.12l2.376-29.12h27.709l-2.375 29.12h-27.71"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Eoe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Ooe=Eoe,Moe=a("zTh3"),Coe=a.n(Moe);function joe({className:e}){const t=Object(v.c)(),[a]=Jt(),{selectedDevice:n,hasScannedChannels:i,isCancellingChannelScan:r}=Object(v.d)(Dse),s=Object(g.useMemo)(()=>Lse(a),[a]),o=Object(g.useMemo)(()=>Wse(null==n?void 0:n.key),[n]),l=Object(v.d)(s),{channels:c,isPopulated:d}=Object(v.d)(o),u=Object(g.useCallback)(()=>{n&&t(cse.actions.deviceChannelsScanRequested({server:a,deviceKey:n.key,source:n.source}))},[t,a,n]),p=Object(g.useCallback)(()=>{n&&!r&&t(cse.actions.deviceChannelsCancelScanRequested({server:a,deviceKey:n.key}))},[t,a,n,r]);return l?y.a.createElement("div",{className:e},y.a.createElement(Kw,{size:90,progress:null==l?void 0:l.progress}),y.a.createElement("div",{className:Coe.a.message},Object(Ce.default)("Scanning channels")),y.a.createElement(Il,{isSpinning:r,isDisabled:r,onPress:p},Object(Ce.default)("Stop scanning"))):d&&0===c.length?y.a.createElement("div",{className:e},y.a.createElement("div",{className:Coe.a.iconContainer},i?y.a.createElement(je.a,{className:Coe.a.icon}):y.a.createElement(y.a.Fragment,null,y.a.createElement(voe,{className:Coe.a.clockTime}),y.a.createElement(Ooe,{className:Coe.a.clock}),y.a.createElement(Soe,{className:Coe.a.clockTime}))),y.a.createElement("div",{className:Coe.a.message},i?Object(Ce.default)("No channels found. Make sure your device has a signal from your antenna and try scanning again."):Object(Ce.default)("Awaiting channel scan")),y.a.createElement(Il,{kind:da.Primary,isDisabled:!!l,isSpinning:!!l,onPress:u},Object(Ce.default)("Scan channels"))):null}function Doe(e){return e.title?`${e.title} (${e.callSign})`:e.callSign}var Poe=Object(he.a)(gse,wse,({channelsByLineupUUID:e},t)=>t.reduce((t,a)=>{var n;const i=null!=(n=e[a.uuid])?n:[];return t[a.title]=i.map(e=>({value:e.key,label:Doe(e)})),t},{}));function Toe({className:e,index:t,selectedChannel:a,onChange:n,isDisabled:i}){const r=Object(v.d)(yoe),s=Object(v.d)(Poe),[o,l]=Object(g.useState)(!1),c=Object(g.useMemo)(()=>null==r?void 0:r.find(e=>e.key===a),[r,a]),d=Object(g.useCallback)(()=>{l(!0)},[l]),u=Object(g.useCallback)(e=>{const a=e.target.value,i=r.find(e=>e.key===a);i&&n(a,i.identifier,t)},[t,r,n]);return y.a.createElement(id,{className:e,name:`[${t}].channelKey`,value:a,isDisabled:i,onChange:u,onMouseDown:d,onTouchStart:d},y.a.createElement("option",{key:"",value:""},Object(Ce.default)("Select Channel")),o?Object.keys(s).map((e,t)=>y.a.createElement("optgroup",{key:t,label:e},s[e].map(({value:e,label:t},a)=>y.a.createElement("option",{key:a,value:e},t)))):y.a.createElement("option",{key:"computed",value:a},c?Doe(c):null))}function woe({className:e,quality:t}){if(void 0===t)return null;const a=(n=t)<=25?"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM0NDRGNTYiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U3NUI2MSIvPjwvc3ZnPg==":n<=50?"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM0NDRGNTYiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjwvc3ZnPg==":n<=75?"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiNFNUEwMEQiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjwvc3ZnPg==":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM3NUFFOTQiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjwvc3ZnPg==";var n;return y.a.createElement("img",{className:e,src:String(a),width:18,height:16})}var Noe=a("G+Pm"),xoe=a.n(Noe);var Aoe=Object(g.memo)((function({item:e,enabled:t,channelKey:a,onEnabledChange:n,onChannelKeyChange:i,...r}){const s=Cr(r),o=r.row,{name:l,deviceIdentifier:c,signalStrength:d,signalQuality:u,drm:p,isDeviceChannelHD:m,isLineupChannelHD:h}=e||{},f=Object(g.useCallback)(e=>{n(e.currentTarget.checked,o)},[o,n]);return e?y.a.createElement("div",{className:xoe.a.container,style:s.style},y.a.createElement("label",{className:xoe.a.deviceChannel},y.a.createElement("div",{className:xoe.a.channelEnabled},p?null:y.a.createElement(_S,{name:`[${r.row}].enabled`,className:xoe.a.channelEnabledCheckbox,checked:t,onChange:f})),y.a.createElement("div",{className:Pe()(xoe.a.deviceChannelInfo,!t&&xoe.a.mappingDisabled)},y.a.createElement("div",{className:xoe.a.deviceChannelIdentifier},c),y.a.createElement("div",{className:xoe.a.deviceChannelName},l)),y.a.createElement(woe,{className:xoe.a.signalQuality,quality:u||d})),p?y.a.createElement("div",{className:xoe.a.drmChannel},y.a.createElement(DC.a,{className:xoe.a.drmChannelBadge},Object(Ce.default)("Protected"))):y.a.createElement("div",{className:xoe.a.lineupChannel},y.a.createElement(Toe,{index:o,className:xoe.a.lineupChannelSelect,selectedChannel:a,isDisabled:!t,onChange:i}),m||h?y.a.createElement(DC.a,{className:xoe.a.hdBadge},Object(Ce.default)("HD")):null)):null})),Loe=a("5Wmy"),koe=a.n(Loe);function Roe({allChannelMappingsEnabled:e,allChannelMappingsDisabled:t,onAllChannelMappingsEnabledChange:a}){const n=Object(v.c)(),[i]=Jt(),{selectedDevice:r}=Object(v.d)(Dse),s=Object(g.useMemo)(()=>Wse(null==r?void 0:r.key),[r]),o=Object(v.d)(yoe),{channels:l}=Object(v.d)(s),c=Object(g.useCallback)(a=>{a&&(a.indeterminate=!e&&!t)},[e,t]),d=Object(g.useCallback)(()=>{r&&n(cse.actions.deviceChannelsScanRequested({server:i,deviceKey:r.key,source:r.source}))},[n,i,r]);return y.a.createElement("div",{className:koe.a.container},y.a.createElement("div",{className:koe.a.device},y.a.createElement(_S,{name:"toggleAll",className:koe.a.checkbox,checked:e,ref:c,onChange:a}),y.a.createElement("div",{className:koe.a.titleContainer},y.a.createElement("div",{className:koe.a.title},Object(Ce.default)("Tuner Channels")),y.a.createElement("div",{className:koe.a.count},Object(Ce.default)("({count} Channels)",{count:l.length})),y.a.createElement(ga,{className:koe.a.rescanButton,kind:da.Primary,onPress:d},Object(Ce.default)("Rescan")))),y.a.createElement("div",{className:koe.a.lineup},y.a.createElement("div",{className:koe.a.titleContainer},y.a.createElement("div",{className:koe.a.title},Object(Ce.default)("EPG Channels")),y.a.createElement("div",{className:koe.a.count},Object(Ce.default)("({count} Channels)",{count:o.length})))))}var zoe=a("Mb8u"),Uoe=a.n(zoe);function Voe({lineupGroup:e,isDisabled:t}){const a=Object(v.c)(),{epgLineups:n,selectedLineup:i,uuid:r}=e,s=Object(g.useMemo)(()=>n.map(e=>({value:e.uuid,label:e.title})),[n]),o=Object(g.useCallback)(e=>{const t=e.currentTarget.value;t&&a(mse.actions.selectedLineupSelected({lineupGroupUUID:r,selectedLineupUUID:t}))},[a,r]);return y.a.createElement(id,{name:r,className:Uoe.a.input,value:null==i?void 0:i.uuid,isDisabled:t||1===s.length,onChange:o},y.a.createElement("option",{value:""},Object(Ce.default)("Select Guide")),s.map(({value:e,label:t},a)=>y.a.createElement("option",{key:a,value:e},t)))}var Boe=a("lfEE"),Foe=a.n(Boe);function Hoe({lineupGroupUUID:e,isDisabled:t,onDeletePress:a}){const n=Object(g.useCallback)(()=>{a(e)},[e,a]);return y.a.createElement(Tu,{kind:da.Danger,className:Foe.a.deleteButton,iconComponent:Ql.a,ariaLabel:Object(Ce.default)("Delete Guide"),isDisabled:t,onPress:n})}function _oe({onSetStep:e}){const t=Object(v.c)(),[a]=Jt(),{selectedLineupGroups:n,channelMappings:{isPending:i}}=Object(v.d)(gse),{selectedDevice:r}=Object(v.d)(Dse),s=Object(v.d)(yoe),o=Object(v.d)(wse),l=Object(g.useMemo)(()=>Lse(a),[a]),c=Object(g.useMemo)(()=>Wse(null==r?void 0:r.key),[r]),d=Object(v.d)(l),{isPending:u,isPopulated:p}=Object(v.d)(c),m=Object(fl.c)({}),h=Object(g.useMemo)(()=>{const e=o.reduce((e,{uuid:t})=>(e[t]=0,e),{});return Object.values(m).reduce((e,{enabled:t,channelKey:a})=>{if(t&&a){const t=s.find(({key:e})=>e===a);(null==t?void 0:t.lineupUUID)&&e[t.lineupUUID]++}return e},e)},[m,s,o]),f=Object(g.useCallback)(()=>{const t=o.find(({uuid:e})=>e.includes(qr.k));e(t?Joe.XMLTV:Joe.AddLineup)},[o,e]),b=Object(g.useCallback)(e=>{t(mse.actions.selectedEPGLineupGroupRemoved({lineupGroupUUID:e}))},[t]);return Object(g.useEffect)(()=>{r&&(null==o?void 0:o.length)>0&&p&&t(mse.actions.channelMappingsFetchRequested({server:a,device:r,lineups:o}))},[t,r,o,a,p]),y.a.createElement("div",{className:Foe.a.container},y.a.createElement("div",null,Object(Ce.default)("EPG Location")),y.a.createElement("div",{className:Foe.a.lineups},n.map((e,t)=>{const{selectedLineup:a,uuid:r}=e;return y.a.createElement("div",{key:t,className:Foe.a.lineup},y.a.createElement("div",{className:Foe.a.lineupSelect},y.a.createElement(Voe,{lineupGroup:e,isDisabled:!!d}),n.length>1?y.a.createElement(Hoe,{lineupGroupUUID:r,isDisabled:!!d,onDeletePress:b}):null),!a||i||u||d?null:Object(Ce.default)("{count} channels matched",{count:h[a.uuid]}))}),y.a.createElement(ga,{className:Foe.a.addLineup,isDisabled:!!d,onPress:f},y.a.createElement("span",{className:Foe.a.addLineupCircle},"+"),Object(Ce.default)("Add channels from another lineup/location"))))}var Woe=a("kvTH"),Qoe=a.n(Woe);const Goe=bc({rowHeight:parseInt(yu.a.dvrSetupChannelMappingItemHeight,10),overscan:1});function Koe({dvrID:e,onSetStep:t}){const a=Object(v.c)(),[n]=Jt(),{epgDownloadActivityID:i,selectedDevice:r,hasScannedChannels:s,isSavingDVR:o}=Object(v.d)(Dse),{channelMappings:{isPending:l}}=Object(v.d)(gse),c=Object(g.useMemo)(()=>Lse(n),[n]),d=Object(g.useMemo)(()=>Wse(null==r?void 0:r.key),[r]),u=Object(g.useMemo)(()=>foe(null==r?void 0:r.key),[r]),p=Object(v.d)(c),{isPending:m}=Object(v.d)(d),h=Object(v.d)(u),f=Object(Kc.a)(l),[b,I]=Object(g.useState)(!1),[S,E]=Object(g.useState)(!1),O=Object(fl.b)({defaultValues:h}),{handleSubmit:M,register:C,reset:j,setValue:D,watch:P}=O,T=Object(g.useMemo)(()=>h.reduce((e,t,a)=>(t.drm||e.push(`[${a}].enabled`),e),[]),[h]),w=P(T);Object(g.useEffect)(()=>{let e=!0,t=!0;Object.values(w).forEach(a=>{a?e=!1:t=!1}),E(e),I(t)},[w,E,I]),Object(g.useEffect)(()=>{f&&!l&&j(h)},[h,l,f,j]),Object(g.useEffect)(()=>{h.forEach((e,t)=>{C(`[${t}].enabled`),C(`[${t}].channelKey`),C(`[${t}].deviceIdentifier`),C(`[${t}].lineupIdentifier`)})},[h,C]),Object(g.useEffect)(()=>{i&&t(Joe.Download)},[i,t]),Object(g.useEffect)(()=>{r&&s&&Object(Dt.a)(()=>{a(cse.actions.deviceChannelsFetchRequested({server:n,deviceKey:r.key}))})},[a,n,r,s]);const N=Object(g.useCallback)(e=>{h.forEach((t,n)=>{const i=e.currentTarget.checked;t.drm||(D(`[${n}]`,{enabled:i}),a(mse.actions.channelMappingChanged({index:n,enabled:i})))})},[a,h,D]),x=Object(g.useCallback)((e,t)=>{D(`[${t}]`,{enabled:e}),a(mse.actions.channelMappingChanged({index:t,enabled:e}))},[a,D]),A=Object(g.useCallback)((e,t,n)=>{D(`[${n}]`,{channelKey:e,lineupIdentifier:t}),a(mse.actions.channelMappingChanged({index:n,channelKey:e,lineupIdentifier:t}))},[a,D]),L=Object(g.useCallback)(()=>{t(Joe.Device)},[t]),k=M(t=>{if(!r)return;const i=Object.values(t).map(({deviceIdentifier:e,lineupIdentifier:t,channelKey:a,enabled:n})=>({deviceIdentifier:e,lineupIdentifier:t,channelKey:a,enabled:n}));a(e?cse.actions.addDVRDeviceRequested({server:n,dvrID:e,deviceKey:r.key,channelMappings:i}):cse.actions.dvrSaveRequested({server:n,device:r,channelMappings:i}))}),R=Object(g.useMemo)(()=>e=>{if(!e.item)return y.a.createElement(y.a.Fragment,null);const t=P(`[${e.row}].enabled`),a=P(`[${e.row}].channelKey`);return y.a.createElement(Aoe,{...e,enabled:t,channelKey:a,onEnabledChange:x,onChannelKeyChange:A})},[P,x,A]);return y.a.createElement(fl.a,{...O},y.a.createElement(od,{className:Qoe.a.modalBody,innerClassName:Qoe.a.innerModalBody},y.a.createElement(_oe,{onSetStep:t}),!p&&!m&&!l&&h.length>0?y.a.createElement(y.a.Fragment,null,y.a.createElement(Roe,{allChannelMappingsEnabled:b,allChannelMappingsDisabled:S,onAllChannelMappingsEnabledChange:N}),y.a.createElement(Pc,{className:Qoe.a.scroller,items:h,totalSize:h.length,layout:Goe,cellComponentFactory:R})):null,p||!m&&!l?null:y.a.createElement("div",{className:Qoe.a.container},y.a.createElement(Ge,null)),y.a.createElement(joe,{className:Qoe.a.container})),y.a.createElement(ec,null,y.a.createElement(dd,{className:Qoe.a.buttonBar},y.a.createElement(ba,{onPress:L},Object(Ce.default)("Back")),y.a.createElement(Il,{kind:da.Primary,isDisabled:!!p||l||0===h.length,isSpinning:o,onPress:k},Object(Ce.default)("Continue")))))}function Yoe(){var e;const t=Object(v.c)(),{selectedCountry:a,selectedLanguage:n,languages:{epgLanguages:i,isPending:r,isPopulated:s,error:o}}=Object(v.d)(gse),l=null!=(e=null==n?void 0:n.code)?e:"",c=Object(g.useMemo)(()=>i.map(e=>({value:e.code,label:e.title})),[i]),d=Object(g.useCallback)(e=>{t(mse.actions.epgLanguageSelected({languageCode:e.currentTarget.value}))},[t]);return Object(g.useEffect)(()=>{s&&a&&!n&&t(mse.actions.epgLanguageSelected({languageCode:a.language}))},[t,s,a,n]),y.a.createElement(y.a.Fragment,null,y.a.createElement(Ef,null,Object(Ce.default)("Language")),r?Object(Ce.default)("Loading languages..."):null,o?Object(Ce.default)("We couldn't fetch languages at this moment."):null,s?y.a.createElement(id,{name:"languageSelect",value:l,onChange:d},y.a.createElement("option",{value:""},Object(Ce.default)("Select Language")),c.map(({value:e,label:t},a)=>y.a.createElement("option",{key:a,value:e},t))):null)}var qoe=a("xC3s"),Zoe=a.n(qoe);function Xoe({onSetStep:e}){const t=Object(v.c)(),[a]=Jt(),{selectedDevice:n}=Object(v.d)(Dse),{selectedLineupGroups:i,languages:{isPopulated:r},channelMappings:{isPending:s,error:o}}=Object(v.d)(gse),l=Object(v.d)(wse),[c,d]=Object(g.useState)(!1),u=i.every(e=>e.isChannelMappingsFetched),{register:p,errors:m,handleSubmit:h}=Object(fl.b)({defaultValues:{programGuideTitle:Object(Ce.default)("My Guide")}}),f=Object(g.useCallback)(()=>{e(i.length>0?Joe.Mapping:Joe.Device)},[i.length,e]),b=h(({xmltvPath:e,programGuideTitle:a})=>{t(cse.actions.setupErrorMessageRemoved()),t(mse.actions.xmltvSelectedEPGLineupGroupAdded({path:e,title:a}))}),I=Object(g.useCallback)(()=>{e(Joe.AddLineup)},[e]);Object(g.useEffect)(()=>{d(s)},[s,d]),Object(g.useEffect)(()=>{if(c&&o&&i.length>0){const e=i[i.length-1];Object(Dt.a)(()=>{t(mse.actions.selectedEPGLineupGroupRemoved({lineupGroupUUID:e.uuid}))})}},[t,o,i,c,d]),Object(g.useEffect)(()=>{n&&l&&!c&&!u&&t(mse.actions.channelMappingsFetchRequested({server:a,device:n,lineups:l}))},[t,n,l,c,u,a]),Object(g.useEffect)(()=>{r||t(mse.actions.epgLanguagesFetchRequested({server:a}))},[t,a,r]),Object(g.useEffect)(()=>{s||o||!c||e(Joe.Mapping)},[o,s,c,e]),Object(g.useEffect)(()=>{n||e(Joe.Device)},[n,e]);const S=a.platform===Rt.Windows?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return y.a.createElement(y.a.Fragment,null,y.a.createElement(od,{innerClassName:Zoe.a.innerModalBody},y.a.createElement("div",{className:Zoe.a.form},y.a.createElement("p",{className:Zoe.a.title},Object(Ce.default)("Use an XMLTV guide")),y.a.createElement("p",null,Object(Ce.default)("If you are located somewhere that isn’t covered by Plex DVR guide data, you can specify a location to an XMLTV service to provide your guide data.")),y.a.createElement(I9.a,null,y.a.createElement(Yoe,null)),y.a.createElement(I9.a,null,y.a.createElement(Ef,{name:"xmltvPath"},Object(Ce.default)("XMLTV Guide")),y.a.createElement(Ml,{name:"xmltvPath",placeholder:S,hasError:!!m.xmltvPath,ref:p({required:!0})})),y.a.createElement(I9.a,null,y.a.createElement(Ef,{name:"programGuideTitle"},Object(Ce.default)("Guide Title")),y.a.createElement(Ml,{name:"programGuideTitle",hasError:!!m.programGuideTitle,ref:p({required:!0})}))),0===l.length?y.a.createElement(ga,{kind:da.Primary,onPress:I},Object(Ce.default)("Don't use XMLTV? Click here to select your location instead.")):null),y.a.createElement(ec,null,y.a.createElement(dd,{className:Zoe.a.buttonBar},y.a.createElement(ba,{onPress:f},Object(Ce.default)("Back")),y.a.createElement(Il,{kind:da.Primary,isSpinning:s,onPress:b},Object(Ce.default)("Continue")))))}var Joe,$oe,ele=a("/5lZ"),tle=a.n(ele);function ale({machineIdentifier:e,providerIdentifier:t,dvrID:a,metricsContext:n,isOpen:i,onModalClose:r}){var s;const[o,l]=Object(g.useState)(Joe.Device),c=Object(v.c)(),d=Object(Or.a)(i),{selectedDVR:{dvr:u},setupErrorMessage:p}=Object(v.d)(Dse),m=Object(g.useCallback)(e=>{c(cse.actions.setupErrorMessageRemoved()),l(e)},[c,l]);Object(g.useEffect)(()=>{d&&!i&&l(Joe.Device)},[l,i,d]);const h=function(e){switch(e){case Joe.Device:return toe;case Joe.XMLTV:return Xoe;case Joe.Info:return goe;case Joe.Mapping:return Koe;case Joe.Download:return ooe;case Joe.AddLineup:return Ase;default:throw new Error("Unmatched DVR setup modal step: "+e)}}(o);return y.a.createElement(Et.a,{metricsPage:It.N,name:n},y.a.createElement($t,{machineIdentifier:e,providerIdentifier:null!=(s=null==u?void 0:u.epgIdentifier)?s:t},y.a.createElement(Wl,{className:tle.a.modal,isOpen:i,shouldTrackOnClose:!0,onModalClose:r},y.a.createElement(Yl,{onModalClose:r},y.a.createElement(nc,null,o===Joe.Download?Object(Ce.default)("Setup complete"):Object(Ce.default)("Tuner Setup")),p?y.a.createElement(Qre,{errorMessage:p}):null,y.a.createElement(h,{dvrID:a,onModalClose:r,onSetStep:m})))))}($oe=Joe||(Joe={})).Device="device",$oe.XMLTV="xmltv",$oe.Info="info",$oe.Mapping="mapping",$oe.Download="download",$oe.AddLineup="addLineup";var nle=a("QJ4M");var ile=Object(he.a)(e=>e.ui.dvrSettingsUI,e=>e.dvrSetup);const rle=Object(yo.a)(zx.t),sle=Object(yo.a)(zx.e),ole=Object(yo.a)(zx.f),lle=Object(yo.a)(zx.v),cle=Object(yo.a)(zx.w),dle=Object(yo.a)(zx.x),ule=Object(yo.a)(zx.z),ple=Object(yo.a)(zx.g);var mle=function(){return Object(he.a)((e,{deviceID:t})=>t,Object(AI.a)(),ile,(e,t,a)=>{const n=a.selectedDevice&&a.selectedDevice.key;return M.a.find(t,t=>t.type===Ms.m&&parseInt(t.Context.deviceID,10)===(e||n))})};var hle=Object(he.a)(e=>e.ui.dvrSettingsUI,e=>{const t=e.dvrSetup.setupErrorMessages;return t.length?t[0].message:null});var gle=function(e){const{title:t,children:a,errorMessage:n,onModalClose:i}=e;return y.a.createElement(eN.a,{onModalClose:i},y.a.createElement(Jw.a,null,t||Object(Ce.default)("DVR Setup")),n?y.a.createElement(OL.a,{errorMessage:n}):null,a)},yle=a("E6f+"),fle=a.n(yle);function ble({children:e,className:t}){return y.a.createElement(Zw.a,{className:t},e)}ble.defaultProps={className:fle.a.footer};var vle=ble;class Ile extends g.Component{constructor(){super(...arguments),this.onNextStepPress=()=>{this.props.dvrSetupNextStep({dvrID:this.props.dvrID})}}render(){const{label:e=Object(Ce.default)("Continue"),isDisabled:t}=this.props;return y.a.createElement(Ih.a,{kind:ao.d,size:cc.b,isDisabled:t,onPress:this.onNextStepPress},e)}}Ile.defaultProps={isDisabled:!1};var Sle=Object(v.b)(null,{dvrSetupNextStep:nle.l})(Ile);class Ele extends g.Component{constructor(){super(...arguments),this.onPreviousStepPress=()=>{this.props.dvrSetupPreviousStep({dvrID:this.props.dvrID})}}render(){return y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:this.onPreviousStepPress},Object(Ce.default)("Previous"))}}var Ole=Object(v.b)(null,{dvrSetupPreviousStep:nle.m})(Ele),Mle=a("6a8U"),Cle=a.n(Mle);var jle=function(){const e=Object(Ce.default)("This tuner isn't officially supported by Plex, click for more information");return y.a.createElement(Dm.a,{className:Cle.a.unsupported,component:jI.a,tooltip:e,tooltipClassName:Cle.a.unsupportedTooltip,tooltipAttachment:Pm.a,target:"_blank",to:up.b},y.a.createElement(je.a,{className:Cle.a.unsupportedIcon,"aria-label":e}))},Dle=a("t87T"),Ple=a.n(Dle);function Tle(e){const{className:t,serverEntityID:a,providerEntityID:n,model:i,thumb:r,width:s,height:o}=e;let l;switch(i){case"HDHomeRun CONNECT":l=Rse;break;case"HDHomeRun EXPAND":l=zse;break;case"HDHomeRun EXTEND":l=Use;break;case"HDHomeRun PRIME":l=Vse}return y.a.createElement(ot.a,{serverEntityID:a,providerEntityID:n,className:t,url:r,emptySrc:l,width:s,height:o})}Tle.defaultProps={className:Ple.a.image};var wle=Tle;var Nle=function({className:e,uri:t}){const a=t.replace(/^https?:\/\//,"");return y.a.createElement("div",{className:e},a)},xle=a("/EX7"),Ale=a.n(xle);const Lle=parseInt(yu.a.dvrSetupImageWidth,10);class kle extends g.Component{constructor(){super(...arguments),this.onSelectDevicePress=()=>{this.props.onSelectDevice(this.props.deviceID)}}render(){const{className:e,serverEntityID:t,make:a,model:n,uri:i,thumb:r,channelCount:s,unsupported:o,isSelectable:l,isSelected:c,includeUri:d,includeChannelCount:u}=this.props;let p;return p=1===s?Object(Ce.default)("1 channel"):s>1?Object(Ce.default)("{channelCount} channels",{channelCount:s}):Object(Ce.default)("No channels"),y.a.createElement("div",{className:e},l?y.a.createElement(jI.a,{onPress:this.onSelectDevicePress},y.a.createElement("div",{className:Ale.a.deviceImageContainer},y.a.createElement(wle,{serverEntityID:t,model:n,thumb:r,width:Lle,height:100}),c?y.a.createElement(sA.a,{className:Ale.a.selectButton,component:"div",title:n,isSelected:!0,isDisabled:!0}):null)):null,l?null:y.a.createElement(wle,{serverEntityID:t,model:n,thumb:r,width:Lle,height:100}),y.a.createElement("div",{className:Ale.a.details},y.a.createElement("div",{className:Ale.a.make},a),y.a.createElement("div",{className:Ale.a.modelContainer},y.a.createElement("div",{className:Ale.a.model},n),o?y.a.createElement(jle,null):null),d?y.a.createElement(Nle,{className:Ale.a.uri,uri:i}):null,u?y.a.createElement("div",{className:Ale.a.channelCount},p):null))}}kle.defaultProps={includeUri:!1,includeChannelCount:!1,isSelectable:!1};var Rle=kle;var zle=function({className:e,networks:t}){const a=t.reduce((e,t)=>(e.push({[t.key]:t.title}),e),[{"":Object(Ce.default)("Select Network")}]);return y.a.createElement("div",{className:e},y.a.createElement(h9.a,{name:"network",labelText:"Network",initialValue:"",values:a}))},Ule=a("Gzlz");var Vle=function({className:e,prefs:t}){return y.a.createElement("div",{className:e},t.map(e=>{const{id:t,value:a,enumValues:n,label:i}=e,r=Array.isArray(n)?[{label:Object(Ce.default)("Select {label}",{label:i}),value:""},...n]:void 0;return y.a.createElement(Ule.a,{key:t,...e,value:null==a?"":a,enumValues:r})}))},Ble=a("5hya"),Fle=a.n(Ble);function Hle(e){const{className:t,width:a,height:n,signalStrength:i}=e;if(null==i)return null;const r=function(e){return e<=20?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDE8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTEwNzguMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJTdHJlbmd0aC1JbmRpY2F0b3JzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc4LjAwMDAwMCwgNzU4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLS0tMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDMyMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgZmlsbD0iIzUyNTI1MiIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5IiBmaWxsPSIjNTI1MjUyIiB4PSIyNi44MDg1MTA2IiB5PSI2LjQiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjI1LjYiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIGZpbGw9IiM1MjUyNTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIGZpbGw9IiM1MjUyNTIiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIGZpbGw9IiNEMDAyMUIiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+":e<=40?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTk5OC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMjQwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iIzUyNTI1MiIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5ODkwMCIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5ODkwMCIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=":e<=60?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTkxOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTYwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iI0Y5QkUwMyIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5QkUwMyIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5QkUwMyIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=":e<=80?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTgzOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgODAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUiIGZpbGw9IiM1MjUyNTIiIHg9IjM1Ljc0NDY4MDkiIHk9IjAiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjMyIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weSIgZmlsbD0iI0FDRDMyMSIgeD0iMjYuODA4NTEwNiIgeT0iNi40IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIyNS42IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yIiBmaWxsPSIjQUNEMzIxIiB4PSIxNy44NzIzNDA0IiB5PSIxMi44IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxOS4yIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zIiBmaWxsPSIjQUNEMzIxIiB4PSI4LjkzNjE3MDIxIiB5PSIxOS4yIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxMi44IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00IiBmaWxsPSIjQUNEMzIxIiB4PSIwIiB5PSIyNS42IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSI2LjQiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==":e<=100?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTc1OC4wMDAwMDApIiBmaWxsPSIjN0VEMzIxIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS01Ij4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+":void 0}(i);return y.a.createElement("div",{className:t},y.a.createElement("img",{src:r,width:a,height:n}))}Hle.defaultProps={className:Fle.a.signalStrength,width:23,height:18};var _le=Hle,Wle=a("XzZp"),Qle=a.n(Wle);var Gle=function(e){const{identifier:t,name:a,signalStrength:n,signalQuality:i}=e;return y.a.createElement("div",{className:Qle.a.channel},y.a.createElement("div",{className:Qle.a.channelIdentifier},t),y.a.createElement(_le,{className:Qle.a.signalStrength,signalStrength:i||n}),y.a.createElement("div",null,a))},Kle=a("iI5r"),Yle=a.n(Kle);var qle=function(e){const{selectedDevice:t,channelCount:a,isChannelsPending:n,channelScanActivity:i,scanPrefs:r,scanNetworks:s,hasScannedChannels:o}=e;return i?y.a.createElement("div",{className:Yle.a.container},y.a.createElement(Kw,{size:90,progress:i.progress}),y.a.createElement("div",{className:Yle.a.message},Object(Ce.default)("Scanning channels"))):r.length?y.a.createElement(Vle,{className:Yle.a.settings,prefs:r}):s.length?y.a.createElement(zle,{className:Yle.a.settings,networks:s}):n?y.a.createElement("div",{className:Yle.a.container},y.a.createElement("div",{className:Yle.a.message},Object(Ce.default)("Loading channels"))):a?y.a.createElement("div",null,t.channels.map(e=>y.a.createElement(Gle,{key:e.identifier,...e}))):o?y.a.createElement("div",{className:Yle.a.container},y.a.createElement("div",{className:Yle.a.noChannelsIconContainer},y.a.createElement("div",{className:Yle.a.noChannelsIconBackground},y.a.createElement(je.a,{className:Yle.a.noChannelsIcon}))),y.a.createElement("div",{className:Yle.a.message},Object(Ce.default)("No channels found. Make sure your device has a signal from your antenna and try scanning again."))):y.a.createElement("div",{className:Yle.a.container},y.a.createElement("div",{className:Yle.a.clockContainer},y.a.createElement("div",{className:Yle.a.clockBackground}),y.a.createElement(voe,{className:Yle.a.clockTime}),y.a.createElement(Ooe,{className:Yle.a.clock}),y.a.createElement(Soe,{className:Yle.a.clockTime})),y.a.createElement("div",{className:Yle.a.message},Object(Ce.default)("Awaiting channel scan")))},Zle=a("U0WA"),Xle=a.n(Zle);var Jle=function(e){const t=function(e){const{channelCount:t,hasSignalStrength:a,isChannelsPending:n,channelScanActivity:i,hasScanPrefs:r,hasScanNetworks:s}=e;return i?Object(Ce.default)("Scanning for channels... This may take some time."):r?Object(Ce.default)("We need some more information before proceeding with the channel scan."):s?Object(Ce.default)("Please select a network before proceeding with the channel scan."):n?Object(Ce.default)("Fetching device channels"):t?a?Object(Ce.default)("We found {channelCount} channels. If these don't look right, you can scan again. Signal strength is stored at the time of scanning.",{channelCount:t}):Object(Ce.default)("We found {channelCount} channels. If these don't look right, you can scan again.",{channelCount:t}):Object(Ce.default)("Make sure your device is connected to your antenna or cable and click Scan Channels.")}(e);return y.a.createElement("div",{className:Xle.a.message},t)},$le=a("m9Cz"),ece=a.n($le);class tce extends g.Component{constructor(){super(...arguments),this.onScanDeviceChannelsPress=e=>{const t=this.props.scanPrefs.length?{prefs:e}:e;this.props.onScanDeviceChannels(t)},this.onDeviceSourceSelect=e=>{this.props.onDeviceSourceSelect(e),this.clearExistingScanPrefs()},this.onCountrySelect=e=>{this.props.onCountrySelect(e),this.clearExistingScanPrefs()}}clearExistingScanPrefs(){const{selectedDevice:e,scanPrefs:t,scanNetworks:a,onScanDeviceChannels:n,onClearDeviceScanPrefs:i}=this.props;t.length?(i(),n(e.deviceID)):a.length&&i()}render(){const{serverEntityID:e,dvrID:t,selectedDevice:a,setupErrorMessage:n,isChannelsPending:i,sourceOptions:r,channelScanActivity:s,isCancellingChannelScan:o,selectedCountryCode:l,countryOptions:c=[],countriesPopulated:d,scanPrefs:u,scanNetworks:p,hasScannedChannels:m,onCancelScanDeviceChannels:h,onModalClose:g}=this.props,f=a.selectedSource||a.sources[0],b=s?parseInt(s.Response.channels,10):a.channels.length,v=!(!b||s||i),I=!!u.length,S=!!p.length,E=[{"":Object(Ce.default)("Select Country")},...c],O=a.channels.some(e=>null!=e.signalQuality||null!=e.signalStrength),M=!(a&&a.channels.length&&!s&&l);return y.a.createElement(gle,{errorMessage:n,onModalClose:g},y.a.createElement(qw.a,{className:ece.a.deviceInfoBody,scrollDirection:iv.b},y.a.createElement(H9.b,{className:ece.a.deviceInfoForm,onSubmit:this.onScanDeviceChannelsPress},y.a.createElement("div",{className:ece.a.channelInfo},y.a.createElement(Jle,{channelCount:b,hasSignalStrength:O,isChannelsPending:i,channelScanActivity:s,hasScanPrefs:I,hasScanNetworks:S}),y.a.createElement("div",null,y.a.createElement(bL.a,{type:s?"button":"submit",kind:s||b||i?ao.c:ao.d,size:cc.b,isSpinning:o,isDisabled:!l||o,onPress:s?h:null},s?Object(Ce.default)("Stop scanning"):Object(Ce.default)("Scan channels")))),y.a.createElement("div",{className:ece.a.channelDetails},y.a.createElement(XD.a,{className:ece.a.deviceDetails},y.a.createElement(Rle,{serverEntityID:e,deviceID:a.key,channelCount:b,includeChannelCount:!0,...a}),y.a.createElement(I9.a,null,y.a.createElement(XJ.a,{className:ece.a.channelScanSourceSelect,name:"deviceSource",value:f,values:r,isDisabled:!!s,onChange:this.onDeviceSourceSelect})),d?y.a.createElement(I9.a,{className:ece.a.countryInputGroup},y.a.createElement(E9.a,null,Object(Ce.default)("Country")),y.a.createElement(XJ.a,{name:"countrySelect",value:l,values:E,isDisabled:!!s,onChange:this.onCountrySelect})):null),y.a.createElement("div",{className:ece.a.deviceChannelsContainer},y.a.createElement(XD.a,{className:v?ece.a.deviceChannels:ece.a.deviceChannelsInfo,autoScroll:!0},y.a.createElement(qle,{selectedDevice:a,channelCount:b,isChannelsPending:i,channelScanActivity:s,scanPrefs:u,scanNetworks:p,hasScannedChannels:m})))))),y.a.createElement(vle,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:g},Object(Ce.default)("Cancel"))),y.a.createElement(Xw.a,null,y.a.createElement(Ole,null),y.a.createElement(Sle,{dvrID:t,isDisabled:M}))))}}tce.defaultProps={scanPrefs:[],scanNetworks:[]};var ace=tce;class nce extends g.Component{constructor(e,t){super(e,t),this.onCancelScanDeviceChannels=()=>{this.setState({isCancellingChannelScan:!0}),this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)},this.state={isCancellingChannelScan:!1}}componentWillMount(){this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!0})}componentDidMount(){const e=this.props.selectedDevice,t=e.source>-1?e.source.toString():e.sources[0];Object(Dt.a)(()=>{this.props.dispatchFetchDeviceDetails(),this.props.dispatchFetchDeviceChannels(),this.props.dispatchFetchEPGCountries(),this.props.onDeviceSourceSelect(t),this.props.onClearDeviceScanPrefs()})}componentWillReceiveProps(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})}componentDidUpdate(e,t){this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||Object(Dt.a)(()=>{this.props.dispatchFetchDeviceChannels()})}componentWillUnmount(){this.props.channelScanActivity&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)}render(){const{dispatchFetchDeviceDetails:e,dispatchFetchDeviceChannels:t,dispatchFetchEPGCountries:a,dispatchCancelScanDeviceChannels:n,...i}=this.props;return y.a.createElement(ace,{isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels,...i})}}var ice=Object(v.b)((function(){return Object(he.a)(ile,hle,mle(),(e,t,a)=>{const n=e.selectedDevice,i=n.sources.reduce((e,t)=>{switch(t){case"0":e.push({[t]:Object(Ce.default)("Antenna")});break;case"1":e.push({[t]:Object(Ce.default)("Cable")})}return e},[]),{scanPrefs:r,scanNetworks:s,hasScannedChannels:o}=e,{selectedCountry:l,countries:c}=e.epgSettings,d=c.length>0,u=l?l.code:"",p=c.reduce((e,t)=>(e.push({[t.code]:t.title}),e),[]);return{selectedDevice:n,setupErrorMessage:t,isChannelsPending:n.isChannelsPending,sourceOptions:i,countriesPopulated:d,selectedCountryCode:u,countryOptions:p,scanPrefs:r,scanNetworks:s,hasScannedChannels:o,channelScanActivity:a}})}),(function(e,t){const{serverEntityID:a}=t;return{dispatchFetchDeviceDetails(){e(nle.p({serverEntityID:a}))},dispatchFetchDeviceChannels(){e(nle.o({serverEntityID:a}))},dispatchFetchEPGCountries(){e(sle({serverEntityID:a}))},dispatchCancelScanDeviceChannels(t){e(nle.c({serverEntityID:a,deviceID:t}))},onDeviceSourceSelect(t){e(nle.A({serverEntityID:a,source:t}))},onScanDeviceChannels(t={}){e(nle.y({serverEntityID:a,...t}))},onCountrySelect(t){e(lle({serverEntityID:a,countryCode:t}))},onClearDeviceScanPrefs(){e(nle.h({serverEntityID:a}))}}}))(nce),rce=a("1DJO"),sce=a("DrhB"),oce=a.n(sce);class lce extends g.Component{constructor(e,t){super(e,t),this.onShowDeviceAddressPress=()=>{this.setState({showManualAddress:!this.state.showManualAddress})},this.onDeviceAddressChange=e=>{this.setState({manualDeviceAddress:e})},this.onAddDevicePress=()=>{this.props.onAddDevice(this.state.manualDeviceAddress)},this.state={showManualAddress:!1,manualDeviceAddress:""}}render(){const{serverEntityID:e,selectedDevice:t,setupErrorMessage:a,addDevicePending:n,devices:i,onSelectDevice:r,onModalClose:s}=this.props,{showManualAddress:o,manualDeviceAddress:l}=this.state,c=i.length>0;return y.a.createElement(gle,{errorMessage:a,onModalClose:s},y.a.createElement(qw.a,null,c?y.a.createElement("div",null,Object(Ce.default)("We found hardware we recognize!")):null,c?null:y.a.createElement("div",null,Object(Ce.default)("Looking for compatible devices...")),y.a.createElement("div",{className:oce.a.manualDeviceButtonContainer},y.a.createElement(Tq.a,{kind:ao.d,direction:o?lc.c:lc.a,isSelected:!1,onPress:this.onShowDeviceAddressPress},Object(Ce.default)("Don't see your HDHomeRun device? Enter its network address manually"))),y.a.createElement("div",{className:oce.a.manualDeviceContainer},o?y.a.createElement("div",null,y.a.createElement(I9.a,null,y.a.createElement(E9.a,null,Object(Ce.default)("HDHomeRun Device Address")),y.a.createElement(JJ.a,{type:"text",name:"manualDeviceInput",className:oce.a.manualDeviceInput,value:this.state.manualDeviceAddress,placeholder:Object(Ce.default)("IP address or hostname"),onChange:this.onDeviceAddressChange}),y.a.createElement(bL.a,{className:oce.a.addDeviceButton,kind:ao.d,size:cc.a,isDisabled:!l,isSpinning:n,onPress:this.onAddDevicePress},Object(Ce.default)("Connect")))):null),c?null:y.a.createElement("div",{className:oce.a.spinnerContainer},y.a.createElement(HO.a,null)),c?y.a.createElement("div",null,y.a.createElement("div",{className:oce.a.deviceCount},1===i.length?Object(Ce.default)("1 device found"):Object(Ce.default)("{deviceCount} devices found",{deviceCount:i.length})),y.a.createElement(XD.a,{className:oce.a.devices,scrollDirection:iv.a},i.map(a=>{const n=t&&t.key===a.key;return y.a.createElement(Rle,{key:a.key,className:oce.a.device,serverEntityID:e,deviceID:a.key,isSelectable:!0,isSelected:n,includeUri:!0,onSelectDevice:r,...a})}))):null),y.a.createElement(vle,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:s},Object(Ce.default)("Cancel"))),y.a.createElement(Xw.a,null,y.a.createElement(Sle,{isDisabled:!t}))))}}var cce=lce;const dce=Object(he.a)(e=>e.ui.dvrSettingsUI.dvrSetup.devices,e=>M.a.filter(e,e=>!e.parentID&&e.status===rce.b.ALIVE));class uce extends g.Component{constructor(e){super(e),this._discoverDevices=()=>{this.props.dispatchDiscoverDevices()},this._discoverTimeoutID=null,this.discoverDelay=2e3}componentDidMount(){Object(Dt.a)(()=>{this.props.dispatchFetchDevices()}),this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay)}componentDidUpdate(e){!this.props.isDiscoveringDevices&&e.isDiscoveringDevices&&(this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay))}componentWillUnmount(){this._discoverTimeoutID&&window.clearTimeout(this._discoverTimeoutID)}render(){const{dispatchDiscoverDevices:e,dispatchFetchDevices:t,...a}=this.props;return y.a.createElement(cce,{...a})}}var pce=Object(v.b)((function(){return Object(he.a)(ile,hle,dce,(e,t,a)=>{const{isDiscoveringDevices:n,selectedDevice:i,addDevicePending:r}=e;return{isDiscoveringDevices:n,selectedDevice:i,setupErrorMessage:t,addDevicePending:r,devices:a}})}),(function(e,t){const{serverEntityID:a}=t;return{dispatchDiscoverDevices(){e(Object(nle.j)({serverEntityID:a}))},dispatchFetchDevices(){e(Object(nle.q)({serverEntityID:a}))},onAddDevice(t){e(Object(nle.b)({serverEntityID:a,uri:t}))},onSelectDevice(t){e(Object(nle.z)({serverEntityID:a,deviceID:t}))}}}))(uce),mce=a("4+bI"),hce=a.n(mce);const gce=parseInt(yu.a.dvrSetupImageWidth,10);var yce=function(e){const{serverEntityID:t,dvrID:a,make:n,model:i,thumb:r,onModalClose:s}=e;return y.a.createElement(gle,{title:Object(Ce.default)("Unsupported Tuner"),onModalClose:s},y.a.createElement(qw.a,{className:hce.a.unsupportedDeviceBody,scrollDirection:iv.b},y.a.createElement("div",{className:hce.a.imageContainer},y.a.createElement(wle,{serverEntityID:t,make:n,model:i,thumb:r,width:gce,height:100}),y.a.createElement("div",{className:hce.a.makeModelContainer},y.a.createElement("div",null,n),y.a.createElement("div",null,i))),y.a.createElement("div",{className:hce.a.info},Object(Ce.default)("Community Supported Tuners opens up your Plex account to access a larger variety of DVR tuners, many of which have been tested and are supported by the community. If your tuner hasn't been recognized by Plex DVR and you're up for a little adventure, this will allow you to use unsupported tuners that have not been tested by Plex.")),y.a.createElement("div",{className:hce.a.info},y.a.createElement(LT.a,{message:Object(Ce.default)("We recommend you review our {openLink}Community Supported Tuners{closeLink} article to learn about limitations, compatibility, and how to get involved."),tags:[{open:"openLink",close:"closeLink",component:jI.a,kind:ao.d,to:up.b,target:"_blank"}]}))),y.a.createElement(vle,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:s},Object(Ce.default)("Cancel"))),y.a.createElement(Xw.a,null,y.a.createElement(Sle,{dvrID:a,label:Object(Ce.default)("Enable Unsupported Tuner")}))))};var fce=Object(v.b)((function(){return Object(he.a)(ile,e=>{const{make:t,model:a,thumb:n}=e.selectedDevice;return{make:t,model:a,thumb:n}})}))(yce);var bce=function(){return Object(he.a)((e,{dvrID:t})=>t,Object(AI.a)(),ile,(e,t,a)=>e?M.a.find(t,t=>t.type===Ms.n&&parseInt(t.Context.dvrID,10)===e):M.a.find(t,{uuid:a.epgDownloadActivityID}))},vce=a("9U8V"),Ice=a.n(vce);function Sce(e){const{server:t,provider:a,sourceDirectory:n,setupErrorMessage:i,epgDownloadActivityID:r,progress:s,message:o,onModalClose:l}=e;let c;return a&&(c=Object(dD.a)(dD.c.GUIDE,t,a,n)),y.a.createElement(gle,{errorMessage:i,onModalClose:l},y.a.createElement(qw.a,null,y.a.createElement("div",{className:Ice.a.message},y.a.createElement("div",null,Object(Ce.default)("Setup complete!")),y.a.createElement("div",null,Object(Ce.default)("You can now find your Guide and Recordings in the sidebar under \"Live TV & DVR\". While we're grabbing the guide data, you can start browsing; it will update automatically as we download what's on."))),r?y.a.createElement("div",null,y.a.createElement("div",{className:Ice.a.spinnerContainer},y.a.createElement(Kw,{size:90,progress:s}),y.a.createElement("div",{className:Ice.a.spinnerMessage},o))):null),y.a.createElement(Zw.a,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:l},Object(Ce.default)("Close")),y.a.createElement(Ih.a,{kind:ao.d,size:cc.b,to:c,isDisabled:!a},Object(Ce.default)("View Guide")))))}Sce.defaultProps={progress:0,message:""};var Ece=Sce;var Oce=Object(v.b)((function(){return Object(he.a)(ile,hle,Object(RI.a)(),Object(he.a)(TT(),ile,Lt.a,(e,{selectedDVR:t},a)=>{if(t&&e){for(let n=0;n<e.length;n++){const i=a[e[n]];if(i.identifier===t.epgIdentifier)return i}return null}}),bce(),(e,t,a,n,i)=>{const{progress:r,subtitle:s}=i||{},o=Object(lo.a)(n);return{server:a,provider:n,sourceDirectory:o&&o.directories&&o.directories.find(e=>e.hubKey&&!e.key),setupErrorMessage:t,epgDownloadActivityID:e.epgDownloadActivityID,progress:r,message:s}})}))((function(e){return y.a.createElement(Ece,{...e})})),Mce=a("mYof"),Cce=a.n(Mce);function jce({setupErrorMessage:e,progress:t,onModalClose:a}){return y.a.createElement(gle,{errorMessage:e,onModalClose:a},y.a.createElement(qw.a,null,y.a.createElement("div",{className:Cce.a.message},y.a.createElement("div",null,Object(Ce.default)("We're finding the best guide for your channels and location.")),y.a.createElement("div",null,Object(Ce.default)("This should only take a few moments."))),y.a.createElement("div",{className:Cce.a.spinnerContainer},y.a.createElement(Kw,{size:90,progress:t}))),y.a.createElement(vle,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:a},Object(Ce.default)("Cancel")))))}jce.defaultProps={progress:0};var Dce=jce;const Pce={findBestEPGLineup:nle.s};class Tce extends g.Component{componentWillMount(){this._populate(this.props)}_populate(e){Object(Dt.a)(()=>{e.findBestEPGLineup({serverEntityID:e.serverEntityID})})}render(){return y.a.createElement(Dce,{...this.props})}}var wce=Object(v.b)((function(){return Object(he.a)(ile,hle,Object(AI.a)(),(e,t,a)=>{const n=M.a.find(a,{uuid:e.epgLineupActivityID}),{progress:i}=n||{};return{setupErrorMessage:t,progress:i}})}),Pce)(Tce);class Nce extends g.Component{constructor(e,t){super(e,t),this.onPostalCodeChange=e=>{this.setState({postalCode:e},()=>{this.props.onPostalCodeChange(e)})},this.state={postalCode:""}}componentWillReceiveProps(e){this.state.postalCode!==e.postalCode&&this.setState({postalCode:e.postalCode})}focusInput(e){e&&b.a.findDOMNode(e).focus()}render(){const e=this.props.postalCodeExample,t=this.state.postalCode;return y.a.createElement(JJ.a,{name:"postalCodeInput",placeholder:"e.g. "+e,value:t,ref:this.focusInput,onChange:this.onPostalCodeChange})}}var xce=Nce;class Ace extends g.Component{constructor(e,t){super(e,t),this._fetchEPGLineups=()=>{this.props.fetchEPGLineups({serverEntityID:this.props.serverEntityID})},this.onPostalCodeChange=e=>{this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID),Object(Dt.a)(()=>{this.props.setEPGPostalCode({serverEntityID:this.props.serverEntityID,postalCode:e}),""!==e.trim()&&(this._postalCodeTimeoutID=window.setTimeout(this._fetchEPGLineups,200))})},this._postalCodeTimeoutID=null}componentWillUnmount(){this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID)}render(){return y.a.createElement(xce,{onPostalCodeChange:this.onPostalCodeChange,...this.props})}}var Lce=Object(v.b)((function(e){return{postalCode:e.ui.dvrSettingsUI.dvrSetup.epgSettings.postalCode}}),r)(Ace),kce=a("F3Cg"),Rce=a.n(kce);class zce extends g.Component{constructor(e,t){super(e,t),this.onShowXMLTVEntryPress=()=>{this.setState({showXMLTVEntry:!this.state.showXMLTVEntry})},this.onLanguageSelect=e=>{this.props.onLanguageSelect(e)},this.onRegionSelect=e=>{this.props.onRegionSelect(e)},this.onXMLTVPathChange=e=>{this.setState({xmlTVPath:e},()=>{this.props.onXMLTVProgramGuideChange(e,this.state.programGuideTitle)})},this.onProgramGuideTitleChange=e=>{this.setState({programGuideTitle:e},()=>{this.props.onXMLTVProgramGuideChange(this.state.xmlTVPath,e)})},this.state={showXMLTVEntry:!1,xmlTVPath:"",programGuideTitle:Object(Ce.default)("My Guide")}}render(){const{serverEntityID:e,platform:t,setupErrorMessage:a,isFetching:n,selectedLanguageCode:i,selectedRegionCode:r,languageOptions:s=[],regionOptions:o=[],languagesPopulated:l,regionsPopulated:c,canContinue:d,postalCodeExample:u,onSubmit:p,onModalClose:m}=this.props,{showXMLTVEntry:h,xmlTVPath:g,programGuideTitle:f}=this.state,b=l,v=!(!l||!u),I=!(!l||!c),S=[{"":Object(Ce.default)("Select Language")},...s],E=[{"":Object(Ce.default)("Select Region")},...o],O="Windows"===t?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return y.a.createElement(H9.b,{className:Rce.a.form,onSubmit:p},y.a.createElement(gle,{errorMessage:a,onModalClose:m},y.a.createElement(qw.a,null,y.a.createElement("div",{className:Rce.a.message},y.a.createElement("div",null,Object(Ce.default)("To download an electronic guide we need to know your location.")),y.a.createElement(jI.a,{kind:ao.d,onPress:this.onShowXMLTVEntryPress},h?Object(Ce.default)("Don't use XMLTV? Click here to select your location instead."):Object(Ce.default)("Have an XMLTV guide on your server? Click here to use that instead."))),h?y.a.createElement("div",null,l?y.a.createElement(I9.a,null,y.a.createElement(E9.a,null,Object(Ce.default)("Language")),y.a.createElement(XJ.a,{name:"languageSelect",values:S,value:i,onChange:this.onLanguageSelect})):null,y.a.createElement(I9.a,null,y.a.createElement(E9.a,null,Object(Ce.default)("XMLTV Guide")),y.a.createElement(JJ.a,{name:"xmltvPath",placeholder:O,value:g,onChange:this.onXMLTVPathChange})),y.a.createElement(I9.a,null,y.a.createElement(E9.a,null,Object(Ce.default)("Guide Title")),y.a.createElement(JJ.a,{name:"programGuideTitle",value:f,onChange:this.onProgramGuideTitleChange}))):null,h?null:y.a.createElement("div",null,b?y.a.createElement(I9.a,null,y.a.createElement(E9.a,null,Object(Ce.default)("Language")),y.a.createElement(XJ.a,{name:"languageSelect",values:S,value:i,onChange:this.onLanguageSelect})):null,v?y.a.createElement(I9.a,null,y.a.createElement(E9.a,null,Object(Ce.default)("Postal Code")),y.a.createElement(Lce,{serverEntityID:e,postalCodeExample:u}),n?y.a.createElement(HO.a,{className:Rce.a.fetchingSpinner}):null):null,I?y.a.createElement(I9.a,null,y.a.createElement(E9.a,null,Object(Ce.default)("Region")),y.a.createElement(XJ.a,{className:Rce.a.regionInput,name:"regionSelect",values:E,value:r,onChange:this.onRegionSelect}),n?y.a.createElement(HO.a,{className:Rce.a.fetchingSpinner}):null):null)),y.a.createElement(vle,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:m},Object(Ce.default)("Cancel"))),y.a.createElement(Xw.a,null,y.a.createElement(Ole,null),y.a.createElement(Ih.a,{type:"submit",kind:ao.d,size:cc.b,isDisabled:!d||n},Object(Ce.default)("Continue"))))))}}var Uce=zce;const Vce={dvrSetupNextStep:nle.l,selectEPGLineup:nle.B,...r};class Bce extends g.Component{constructor(){super(...arguments),this.onLanguageSelect=e=>{this.props.selectEPGLanguage({serverEntityID:this.props.serverEntityID,languageCode:e})},this.onRegionSelect=e=>{this.props.selectEPGRegion({serverEntityID:this.props.serverEntityID,regionKey:e})},this.onSubmit=()=>{this.props.dvrSetupNextStep()},this.onXMLTVProgramGuideChange=(e,t)=>{if(!e||!t)return void this.props.selectEPGLineup({lineupUUID:null});const a=`lineup://tv.plex.providers.epg.xmltv/${rse(e)}#${encodeURIComponent(t)}`;this.props.selectEPGLineup({lineupUUID:a})}}componentWillMount(){this._populate(this.props)}_populate(e){Object(Dt.a)(()=>{const t=e.serverEntityID;e.fetchEPGLanguages({serverEntityID:t}),e.selectEPGLineup({lineupUUID:null})})}render(){return y.a.createElement(Uce,{onLanguageSelect:this.onLanguageSelect,onRegionSelect:this.onRegionSelect,onPostalCodeChange:this.onPostalCodeChange,onXMLTVProgramGuideChange:this.onXMLTVProgramGuideChange,onSubmit:this.onSubmit,...this.props})}}var Fce=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),ile,hle,(e,t,a)=>{const{selectedLineupUUID:n,epgSettings:i}=t,{isFetching:r,selectedCountry:s,selectedLanguage:o,selectedRegion:l,languages:c,regions:d,lineupGroup:u}=i,p=s&&1===s.flavor?s.example:null,m=o?o.code:"",h=l?l.key:"",g=c.length>0,y=d.length>0,f=c.reduce((e,t)=>(e.push({[t.code]:t.title}),e),[]),b=d.reduce((e,t)=>(e.push({[t.key]:t.title}),e),[]);return{platform:e.platform,setupErrorMessage:a,selectedLineupUUID:n,selectedLanguageCode:m,selectedRegionCode:h,languagesPopulated:g,regionsPopulated:y,languageOptions:f,regionOptions:b,isFetching:r,postalCodeExample:p,canContinue:!(!u.lineups.length&&!n||!m)}})}),Vce)(Bce);var Hce=function(){return Object(he.a)(e=>e.ui.dvrSettingsUI,(e,{dvrID:t})=>t,(e,t)=>{const a=e.dvrs;return M.a.find(a,{key:t})})};var _ce=function(){return Object(he.a)((e,{deviceID:t})=>t,Hce(),(e,t)=>{if(t)return M.a.find(t.devices,{key:e})})};function Wce(){return Object(bO.a)(Object(he.a)(ile,_ce(),(e,t)=>{const a=t?t.channels:e.selectedDevice.channels,n=t?t.channelMappings:e.channelMappings,i=e.lineupChannels,r=M.a.pluck(a,"key"),s=M.a.pluck(n,"deviceIdentifier"),o=r.concat(s);return M.a.uniq(o).map(e=>{const t=M.a.find(a,{key:e}),r=M.a.findWhere(n,{deviceIdentifier:e}),s=i.find(e=>r&&e.key&&e.key===r.channelKey||r&&e.identifier&&e.identifier===r.lineupIdentifier),{name:o="",identifier:l="",drm:c=!1,signalStrength:d,signalQuality:u,hd:p=!1}=t||{};return{key:e,name:o,deviceIdentifier:l,enabled:!(!t||c||!r||!r.enabled),drm:c,isChannelMissing:!t,channelKey:r&&r.channelKey||s&&s.key,lineupIdentifier:r&&r.lineupIdentifier||s&&s.identifier,signalStrength:d,signalQuality:u,isDeviceChannelHD:p,isLineupChannelHD:!!s&&s.hd}}).sort((e,t)=>Object(AO.a)(e.deviceIdentifier,t.deviceIdentifier))}),e=>e)}var Qce=function(e){const t=`${e.identifier} ${e.callSign}`;return e.title?`${t} (${e.title})`:t};var Gce=Object(he.a)(ile,e=>e.lineupChannels);const Kce=Object(he.a)(Gce,e=>e.slice().sort((e,t)=>Object(AO.a)(e.identifier,t.identifier)).reduce((e,t)=>{const a=Qce(t),n=JSON.stringify({channelKey:t.key,lineupIdentifier:t.identifier});return e.concat({[n]:a})},[{"":Object(Ce.default)("Select Channel")}]));var Yce=Object(bO.a)(Kce,e=>e),qce=a("tmXh"),Zce=a.n(qce);var Xce=function(){return y.a.createElement(DC.a,{className:Zce.a.resolution},"HD")},Jce=a("z2YV"),$ce=a.n(Jce);class ede extends g.Component{constructor(e,t){super(e,t),this.onSelectPress=e=>{this.setState({showSelectOptions:!0})},this.onEnabledChange=e=>{this.setState({enabled:e},()=>{this.props.onChange({enabled:e,channelKey:this.state.channelKey,lineupIdentifier:this.state.lineupIdentifier})})},this.onLineupChannelChange=e=>{const{channelKey:t,lineupIdentifier:a}=JSON.parse(e||{});this.setState({channelKey:t,lineupIdentifier:a},()=>{this.props.onChange({enabled:this.state.enabled,channelKey:t,lineupIdentifier:a})})},this.state={enabled:e.initialValue.enabled,channelKey:e.initialValue.channelKey,lineupIdentifier:e.initialValue.lineupIdentifier,showSelectOptions:!1}}componentWillReceiveProps(e){const{enabled:t,lineupIdentifier:a}=this.state,{enabled:n,lineupIdentifier:i}=e.value;t===n&&a===i||this.setState(this.props.value)}shouldComponentUpdate(e,t){return t.enabled!==this.state.enabled||(t.channelKey!==this.state.channelKey||(t.lineupIdentifier!==this.state.lineupIdentifier||(t.showSelectOptions!==this.state.showSelectOptions||(e.deviceIdentifier!==this.props.deviceIdentifier||(e.channelName!==this.props.channelName||(e.initialValue.enabled!==this.props.initialValue.enabled||(e.initialValue.lineupIdentifier!==this.props.initialValue.lineupIdentifier||(e.initialValue.channelKey!==this.props.initialValue.channelKey||(e.value.enabled!==this.props.value.enabled||(e.value.lineupIdentifier!==this.props.value.lineupIdentifier||(e.value.channelKey!==this.props.value.channelKey||e.lineupChannels!==this.props.lineupChannels)))))))))))}render(){const{name:e,deviceIdentifier:t,channelName:a,drm:n,signalStrength:i,isDeviceChannelHD:r,isLineupChannelHD:s,isChannelMissing:o,showResolution:l,lineupChannels:c,lineupChannelOptions:d}=this.props,{enabled:u,channelKey:p,lineupIdentifier:m}=this.state;if(o)return null;const h=c.find(e=>p&&m?e.key===p&&e.identifier===m:p?e.key===p:m?e.identifier===m:void 0),g=h?Qce(h):null,f=JSON.stringify({channelKey:p,lineupIdentifier:m});return y.a.createElement("div",{className:$ce.a.channelMapping},y.a.createElement("div",{className:$ce.a.deviceInfo},y.a.createElement("div",{className:$ce.a.channelEnabled},n?null:y.a.createElement(v9.a,{name:e+"Check",value:u,onChange:this.onEnabledChange})),y.a.createElement("label",{className:Pe()($ce.a.deviceIdentifier,!u&&$ce.a.mappingDisabled),htmlFor:e+"Check"},t),y.a.createElement("div",{className:Pe()($ce.a.channelName,!u&&$ce.a.mappingDisabled)},a),y.a.createElement(_le,{className:$ce.a.signalStrength,signalStrength:i})),n?y.a.createElement("div",{className:$ce.a.drmChannel},y.a.createElement(DC.a,{className:$ce.a.drmChannelBadge},Object(Ce.default)("Protected"))):y.a.createElement("div",{className:$ce.a.epgChannel},y.a.createElement(XJ.a,{name:e+"Select",value:f,values:this.state.showSelectOptions?d:[{[f]:u?g||Object(Ce.default)("Select Channel"):g}],size:cc.c,isDisabled:!u,onMouseDown:this.onSelectPress,onTouchStart:this.onSelectPress,onChange:this.onLineupChannelChange}),l?y.a.createElement("div",{className:$ce.a.resolutionContainer},r||s?y.a.createElement(Xce,null):null):null))}}var tde=Object(O9.a)(ede),ade=a("vXsA"),nde=a.n(ade);var ide=function(e){const{showSignalStrength:t,allChannelMappingsEnabled:a,allChannelMappingsDisabled:n,onAllChannelMappingsEnabledChange:i}=e;let r=null;return a?r=!0:n&&(r=!1),y.a.createElement("div",{className:nde.a.container},y.a.createElement("div",{className:nde.a.deviceChannelsContainer},y.a.createElement(v9.a,{name:"toggleAll",value:r,onChange:i}),y.a.createElement("div",{className:nde.a.deviceChannelsPadding}),y.a.createElement("div",{className:nde.a.deviceChannels},Object(Ce.default)("Device Channels")),t?y.a.createElement("div",{className:nde.a.signalStrength},Object(Ce.default)("Strength")):null),y.a.createElement("div",{className:nde.a.guideChannels},Object(Ce.default)("Guide Channels")))};var rde=function(e){var t;return(t=class extends g.Component{constructor(e,t){super(e,t),this.onFormStateChange=e=>{let t=!0,a=!0;Object.keys(e).forEach(n=>{e[n].value.enabled?a=!1:t=!1}),this.setState({formState:e,allChannelMappingsEnabled:t,allChannelMappingsDisabled:a})},this.onAllChannelMappingsEnabledChange=e=>{this.setState(t=>{const a={};return Object.keys(t.formState).forEach(n=>{const i=t.formState[n].value;i.enable===e?a[n]=t.formState[n]:a[n]={...t.formState[n],value:{enabled:e,lineupIdentifier:i.lineupIdentifier}}}),{formState:a,allChannelMappingsEnabled:e,allChannelMappingsDisabled:!e}})},this.state={formState:{},allChannelMappingsEnabled:!1,allChannelMappingsDisabled:!1}}render(){const{allChannelMappingsEnabled:t,allChannelMappingsDisabled:a}=this.state;return y.a.createElement(e,{formState:this.state.formState,allChannelMappingsEnabled:t,allChannelMappingsDisabled:a,onFormStateChange:this.onFormStateChange,onAllChannelMappingsEnabledChange:this.onAllChannelMappingsEnabledChange,...this.props})}}).displayName=`DeviceChannelMappingsForm(${Object(yO.a)(e)})`,t.WrappedComponent=e,t},sde=a("/sof"),ode=a.n(sde);var lde=rde((function(e){const{dvrID:t,setupErrorMessage:a,selectedLineupUUID:n,availableLineups:i,lineupChannels:r,lineupChannelOptions:s,channelMappings:o,isChannelMappingsPending:l,isLineupChannelsPending:c,isSavingDVR:d,channelMappingsErrorMessage:u,formState:p,allChannelMappingsEnabled:m,allChannelMappingsDisabled:h,onAllChannelMappingsEnabledChange:g,onFormStateChange:f,onLineupSelect:b,onModalClose:v,onSubmit:I}=e,S=l||c,E=!!i.length,O=[{"":Object(Ce.default)("Select Guide")},...i],M=n?decodeURIComponent(n.match(/#(.+?)$/)[1]):void 0;let C=!1,j=!1;for(let e=0;e<o.length&&(!C||!j);e++){const t=o[e];null==t.signalQuality&&null==t.signalStrength||(C=!0),(t.isDeviceChannelHD||t.isLineupChannelHD)&&(j=!0)}return y.a.createElement(H9.b,{className:ode.a.form,formState:p,onChange:f,onSubmit:I},y.a.createElement(gle,{errorMessage:a,onModalClose:v},u?y.a.createElement(qw.a,{className:ode.a.channelMappingsBody,scrollDirection:iv.b},y.a.createElement("div",{className:ode.a.centeredContainer},u)):null,u?null:y.a.createElement(qw.a,{className:ode.a.channelMappingsBody,scrollDirection:iv.b},E?y.a.createElement("div",null,y.a.createElement("div",{className:ode.a.programGuideLabel},Object(Ce.default)("Guide")),y.a.createElement("div",{className:ode.a.programGuideSelectContainer},y.a.createElement(XJ.a,{name:"programGuide",values:O,value:n,onChange:b}))):null,E?null:y.a.createElement("div",{className:ode.a.programGuideTitle},M),S?y.a.createElement("div",{className:ode.a.centeredContainer},y.a.createElement(HO.a,{label:Object(Ce.default)("Loading channel mappings")})):null,!S&&n?y.a.createElement(XD.a,{className:ode.a.scroller,autoScroll:!0},y.a.createElement(ide,{showSignalStrength:C,allChannelMappingsEnabled:m,allChannelMappingsDisabled:h,onAllChannelMappingsEnabledChange:g}),o.map(e=>{const{key:t,deviceIdentifier:a,name:n,enabled:i,channelKey:o,lineupIdentifier:l,drm:c,signalStrength:d,signalQuality:u,isDeviceChannelHD:p,isLineupChannelHD:m,isChannelMissing:h}=e;return y.a.createElement(tde,{key:t,name:t,initialValue:{enabled:i,channelKey:o,lineupIdentifier:l},deviceIdentifier:a,channelName:n,drm:c,signalStrength:u||d,isDeviceChannelHD:p,isLineupChannelHD:m,isChannelMissing:h,showResolution:j,lineupChannels:r,lineupChannelOptions:s})})):null),y.a.createElement(vle,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:v},Object(Ce.default)("Cancel"))),y.a.createElement(Xw.a,null,y.a.createElement(Ole,{dvrID:t}),y.a.createElement(bL.a,{type:"submit",kind:ao.d,size:cc.b,isSpinning:d},Object(Ce.default)("Continue"))))))}));function cde(e,t){if(e){const t=Rn.a.parseXML(e.responseText);if(t.message)return t.message}else{if(!t)return;{const e=Rn.a.parseXML(t.responseText);if(e.message)return e.message}}return Object(Ce.default)("Unable to load channel mappings")}const dde={fetchLineupChannels:nle.r,fetchChannelMap:nle.n,selectEPGLineup:nle.B,clearChannelMapError:nle.d,saveDVR:nle.v,addDVRDevice:nle.a};class ude extends g.Component{constructor(){super(...arguments),this.onLineupSelect=e=>{const{serverEntityID:t,selectedDevice:a}=this.props;e&&(this.props.selectEPGLineup({serverEntityID:t,lineupUUID:e}),this.props.fetchLineupChannels({serverEntityID:t,lineupUUID:e}),this.props.fetchChannelMap({serverEntityID:t,deviceUUID:a.uuid,lineupUUID:e,forceEnabled:!0}))},this.onAddDeviceSubmit=e=>{const{serverEntityID:t,dvrID:a,selectedDevice:n}=this.props;this.props.addDVRDevice({serverEntityID:t,dvrID:a,deviceID:n.key,data:e})},this.onSaveDVRSubmit=e=>{const{serverEntityID:t,selectedDevice:a}=this.props;this.props.saveDVR({serverEntityID:t,deviceID:a.key,data:e})}}componentWillMount(){this._populate(this.props)}componentWillUnmount(){this.props.clearChannelMapError()}_populate(e){const t=e.serverEntityID,a=e.selectedDevice.uuid,n=e.selectedLineupUUID;n&&Object(Dt.a)(()=>{e.fetchLineupChannels({serverEntityID:t,lineupUUID:n}),e.fetchChannelMap({serverEntityID:t,deviceUUID:a,lineupUUID:n,forceEnabled:!0})})}render(){const e=this.props.dvrID;return y.a.createElement(lde,{onLineupSelect:this.onLineupSelect,onSubmit:e?this.onAddDeviceSubmit:this.onSaveDVRSubmit,...this.props})}}var pde=Object(v.b)((function(){return Object(he.a)(ile,hle,Gce,Yce,Wce(),(e,t,a,n,i)=>{const{selectedDevice:r,selectedLineupUUID:s,isChannelMappingsPending:o,isLineupChannelsPending:l,channelMappingsError:c,lineupChannelsError:d,isSavingDVR:u}=e;return{setupErrorMessage:t,selectedDevice:r,selectedLineupUUID:s,availableLineups:M.a.reduce(e.epgSettings.lineupGroup.lineups,(e,t)=>(e.push({[t.uuid]:t.title}),e),[]),lineupChannels:a,lineupChannelOptions:n,channelMappings:i,isChannelMappingsPending:o,isLineupChannelsPending:l,isSavingDVR:u,channelMappingsErrorMessage:cde(c,d)}})}),dde)(ude);const mde={clearDVRSetup:nle.g};class hde extends g.Component{componentWillUnmount(){this.props.clearDVRSetup()}render(){const{step:e,...t}=this.props;switch(e){case PS.b.DEVICE:return y.a.createElement(pce,{...t});case PS.b.UNSUPPORTED_DEVICE:return y.a.createElement(fce,{...t});case PS.b.DEVICE_CHANNELS:return y.a.createElement(ice,{...t});case PS.b.EPG:return y.a.createElement(Fce,{...t});case PS.b.EPG_MAPPING:return y.a.createElement(wce,{...t});case PS.b.CHANNEL_MAPPING:return y.a.createElement(pde,{...t});case PS.b.EPG_DOWNLOAD:return y.a.createElement(Oce,{...t})}}}var gde=Object(v.b)((function(){return Object(he.a)(ile,e=>({step:e.step}))}),mde)(hde),yde=a("mqLr"),fde=a.n(yde);class bde extends g.Component{constructor(){super(...arguments),this.onModalClose=()=>{Object(E.c)("metrics").trackClick({...this.props.metricsProperties,page:It.N,action:Gi.t}),this.props.onModalClose()}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,dvrID:t,isOpen:a,metricsProperties:n}=this.props;return y.a.createElement(Yw.a,{className:fde.a.modal,isOpen:a,metricsPage:It.N,metricsProperties:n,preventCloseOnBackdropPress:!0,onModalClose:this.onModalClose},y.a.createElement(gde,{serverEntityID:e,dvrID:t,onModalClose:this.onModalClose}))}}var vde=bde;const Ide={context:aS.SETTINGS};class Sde extends g.Component{constructor(e,t){super(e,t),this.onCreateDVRPress=()=>{this.setState({isDVRSetupModalOpen:!0})},this.onDVRSetupModalClose=()=>{this.setState({isDVRSetupModalOpen:!1}),this.props.onModalClose&&this.props.onModalClose()},this.state={isDVRSetupModalOpen:e.isModalOpen}}render(){const{className:e,dvrID:t,serverEntityID:a,machineIdentifier:n,providerIdentifier:i,isDvrsPending:r,isV4DVRSetupEnabled:s,hasDVRFeature:o,hasLiveTVSetupFeature:l,dvrsError:c,children:d}=this.props,{isDVRSetupModalOpen:u}=this.state,p=!r&&!t;return y.a.createElement("div",{className:e},d?d({serverEntityID:a,hasDVRFeature:o,hasLiveTVSetupFeature:l,noDVRs:p,dvrsError:c,onOpen:this.onCreateDVRPress}):null,s?y.a.createElement(ale,{machineIdentifier:n,providerIdentifier:i,dvrID:Object(Hre.a)(t),metricsContext:Ide.context,isOpen:u,onModalClose:this.onDVRSetupModalClose}):y.a.createElement(vde,{serverEntityID:a,metricsProperties:Ide,isOpen:u,onModalClose:this.onDVRSetupModalClose}))}}Sde.defaultProps={isModalOpen:!1};var Ede=Sde;const Ode={dispatchInitDVRSettingsUI:wS,dispatchClearDVRSettingsUI:NS};class Mde extends g.Component{componentDidMount(){Object(Dt.a)(()=>{this.props.dispatchInitDVRSettingsUI({serverEntityID:this.props.serverEntityID})})}componentWillUnmount(){this.props.dispatchClearDVRSettingsUI()}render(){const{dispatchInitDVRSettingsUI:e,dispatchClearDVRSettingsUI:t,...a}=this.props;return this.props.isUIPopulated?y.a.createElement(Ede,{...a}):null}}var Cde=Object(v.b)((function(){return Object(he.a)(e=>e.ui.dvrSettingsUI,Object(RI.a)(),Object(be.a)(ve.l),Lt.a,Bre,(e,t,a,n,i)=>{var r;const{isDvrsPending:s,dvrs:o,dvrsError:l,isUIPopulated:c}=e,d=t.providers.map(e=>n[e]).find(Fre.a);return{machineIdentifier:t.machineIdentifier,providerIdentifier:null==d?void 0:d.identifier,isUIPopulated:c,isDvrsPending:s,dvrID:null==(r=null==o?void 0:o[0])?void 0:r.key,hasDVRFeature:!!t.ownerFeatures&&t.ownerFeatures.indexOf("dvr")>-1,hasLiveTVSetupFeature:a,isV4DVRSetupEnabled:i,dvrsError:l}})}),Ode)(Mde),jde=a("Xo9w"),Dde=a("Tp3C"),Pde=a.n(Dde);var Tde=function(e){const{channelMappings:t,lineupChannels:a,lineupChannelOptions:n,showSignalStrength:i,channelScanActivity:r,scanPrefs:s,scanNetworks:o,allChannelMappingsEnabled:l,allChannelMappingsDisabled:c,onAllChannelMappingsEnabledChange:d}=e,u=t.some(e=>e.isDeviceChannelHD||e.isLineupChannelHD);return r?y.a.createElement("div",{className:Pde.a.progressContainer},y.a.createElement(Kw,{size:90,progress:r.progress})):s.length?y.a.createElement(XD.a,{className:Pde.a.scroller,autoScroll:!0},y.a.createElement(Vle,{prefs:s})):o.length?y.a.createElement(zle,{networks:o}):t.length?y.a.createElement(XD.a,{className:Pde.a.scroller,autoScroll:!0},y.a.createElement(ide,{showSignalStrength:i,allChannelMappingsEnabled:l,allChannelMappingsDisabled:c,onAllChannelMappingsEnabledChange:d}),t.map(e=>{const{key:t,deviceIdentifier:i,name:r,enabled:s,channelKey:o,lineupIdentifier:l,drm:c,signalStrength:d,signalQuality:p,isDeviceChannelHD:m,isLineupChannelHD:h,isChannelMissing:g}=e;return y.a.createElement(tde,{key:t,name:t,initialValue:{enabled:s,channelKey:o,lineupIdentifier:l},deviceIdentifier:i,channelName:r,drm:c,signalStrength:p||d,isChannelMissing:g,showResolution:u,isDeviceChannelHD:m,isLineupChannelHD:h,lineupChannels:a,lineupChannelOptions:n})})):null},wde=a("ugHo"),Nde=a.n(wde);class xde extends g.Component{constructor(){super(...arguments),this.onScanDeviceChannelsButtonPress=()=>{const{scanPrefs:e,scanNetworks:t,channelScanActivity:a,onScanDeviceChannels:n,onCancelScanDeviceChannels:i}=this.props;e.length||t.length||(a?i():n(this.props.country))},this.onSubmit=e=>{const{scanPrefs:t,scanNetworks:a,onSubmit:n}=this.props;if(t.length||a.length){const t=this.props.scanPrefs.length?{prefs:e}:e;this.props.onScanDeviceChannels(this.props.country,t)}else n(e)}}render(){const{channelMappings:e,lineupChannels:t,lineupChannelOptions:a,isChannelMappingsPending:n,isLineupChannelsPending:i,isDeviceChannelsPending:r,channelMappingsError:s,lineupChannelsError:o,deviceChannelsError:l,isChannelMappingsSaving:c,channelMappingsSaveError:d,formState:u,allChannelMappingsEnabled:p,allChannelMappingsDisabled:m,isCancellingChannelScan:h,scanPrefs:g,scanNetworks:f,channelScanActivity:b,onAllChannelMappingsEnabledChange:v,onFormStateChange:I,onModalClose:S}=this.props,E=b&&!h,O=s||o||l,M=!E&&(n||i||r),C=b?parseInt(b.Response.channels,10):0;let j;j=1===C?Object(Ce.default)("Scanning channels. 1 channel found."):C>1?Object(Ce.default)("Scanning channels. {channelCount} channels found.",{channelCount:C}):Object(Ce.default)("Scanning channels. No channels found.");const D=!(!g.length&&!f.length),P=e.some(e=>null!=e.signalQuality||null!=e.signalStrength),T=P?Object(Ce.default)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup. Signal strength is stored at the time of scanning.'):Object(Ce.default)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup.');return O?y.a.createElement(jde.a,{message:Object(Ce.default)("Unable to load channel mappings"),onModalClose:S}):y.a.createElement(H9.b,{className:Nde.a.form,formState:u,onChange:I,onSubmit:this.onSubmit},y.a.createElement(eN.a,{onModalClose:S},y.a.createElement(Jw.a,null,Object(Ce.default)("Manage Channels")),M?y.a.createElement(qw.a,null,y.a.createElement("div",{className:Nde.a.centeredContainer},y.a.createElement(HO.a,null))):null,!M&&d?y.a.createElement("div",null,y.a.createElement(OL.a,{errorMessage:Object(BJ.a)(d,Object(Ce.default)("There was a problem saving your changes. Please try again."))})):null,M?null:y.a.createElement(qw.a,{className:b?void 0:Nde.a.manageChannelsBody,scrollDirection:b?iv.c:iv.b},y.a.createElement("div",{className:Nde.a.scanChannelsContainer},y.a.createElement("div",{className:Nde.a.scanChannelsMessage},b?j:T),y.a.createElement("div",null,y.a.createElement(bL.a,{type:D?"submit":"button",size:cc.b,isSpinning:h,isDisabled:h,onPress:this.onScanDeviceChannelsButtonPress},E?Object(Ce.default)("Stop scanning"):Object(Ce.default)("Scan channels")))),y.a.createElement(Tde,{channelMappings:e,lineupChannels:t,lineupChannelOptions:a,showSignalStrength:P,channelScanActivity:b,scanPrefs:g,scanNetworks:f,allChannelMappingsEnabled:p,allChannelMappingsDisabled:m,onAllChannelMappingsEnabledChange:v})),y.a.createElement(Zw.a,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:S},Object(Ce.default)("Cancel")),y.a.createElement(bL.a,{type:"submit",kind:ao.d,size:cc.b,isDisabled:M||!!b,isSpinning:c},Object(Ce.default)("Save"))))))}}xde.defaultProps={scanPrefs:[],scanNetworks:[]};var Ade=rde(xde);class Lde extends g.Component{constructor(e,t){super(e,t),this.onCancelScanDeviceChannels=()=>{this.setState({isCancellingChannelScan:!0}),this.props.dispatchCancelScanDeviceChannels(this.props.deviceID)},this.state={isCancellingChannelScan:!!e.channelScanActivity}}componentDidMount(){const{lineupUUID:e,dispatchClearDeviceScanPrefs:t,dispatchSelectDevice:a,dispatchFetchLineupChannels:n,dispatchFetchDeviceChannels:i}=this.props;Object(Dt.a)(()=>{t(),a(),n(e),i()})}componentWillReceiveProps(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})}componentDidUpdate(e,t){e.isChannelMappingsSaving&&!this.props.isChannelMappingsSaving&&null==this.props.channelMappingsSaveError&&this.props.onModalClose(),this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||Object(Dt.a)(()=>{this.props.dispatchFetchDeviceChannels()})}componentWillUnmount(){const{serverEntityID:e,dvrID:t,deviceID:a,channelScanActivity:n}=this.props;n&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels({serverEntityID:e,dvrID:t,deviceID:a})}render(){const{dispatchSelectDevice:e,dispatchFetchLineupChannels:t,dispatchFetchDeviceChannels:a,dispatchFetchChannelMap:n,dispatchCancelScanDeviceChannels:i,dispatchClearDeviceScanPrefs:r,...s}=this.props;return y.a.createElement(Ade,{isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels,...s})}}var kde=Object(v.b)((function(){return Object(he.a)(Hce(),_ce(),Wce(),mle(),ile,Gce,Yce,(e,t,a,n,i,r,s)=>{const{country:o,lineup:l}=e,{isChannelMappingsPending:c,isLineupChannelsPending:d,channelMappingsError:u,lineupChannelsError:p,isChannelMappingsSaving:m,channelMappingsSaveError:h,scanPrefs:g,scanNetworks:y}=i;return{country:o,lineupUUID:e.lineup,lineupTitle:l,channelMappings:a,lineupChannels:r,lineupChannelOptions:s,isChannelMappingsPending:c,isLineupChannelsPending:d,isDeviceChannelsPending:t.isChannelsPending,channelMappingsError:u,lineupChannelsError:p,isChannelMappingsSaving:m,channelMappingsSaveError:h,deviceChannelsError:t.channelsError,scanPrefs:g,scanNetworks:y,channelScanActivity:n}})}),(function(e,t){const{serverEntityID:a,dvrID:n,deviceID:i}=t;return{dispatchSelectDevice(){e(nle.p({serverEntityID:a,dvrID:n,deviceID:i}))},dispatchFetchLineupChannels(t){e(nle.r({serverEntityID:a,lineupUUID:t}))},dispatchFetchDeviceChannels(){e(nle.o({serverEntityID:a,dvrID:n,deviceID:i}))},dispatchFetchChannelMap(){e(nle.n({serverEntityID:a}))},dispatchCancelScanDeviceChannels(){e(nle.c({serverEntityID:a,deviceID:i}))},dispatchClearDeviceScanPrefs(){e(nle.h({serverEntityID:a}))},onScanDeviceChannels(t,r={}){e(nle.y({serverEntityID:a,dvrID:n,deviceID:i,country:t,...r}))},onSubmit(t){Object(Dt.a)(()=>{e(nle.u({serverEntityID:a,dvrID:n,deviceID:i,data:t}))})},onDismissSaveError(){Object(Dt.a)(()=>{e(nle.e())})}}}))(Lde);var Rde=function(e){const{serverEntityID:t,dvrID:a,deviceID:n,metricsProperties:i,isOpen:r,onModalClose:s}=e;return y.a.createElement(Yw.a,{metricsPage:It.J,metricsProperties:i,isOpen:r,preventCloseOnBackdropPress:!0,onModalClose:s},y.a.createElement(kde,{serverEntityID:t,dvrID:a,deviceID:n,onModalClose:s}))};class zde extends g.Component{constructor(){super(...arguments),this.onModalClose=()=>{this.props.clearDVRSetup({serverEntityID:this.props.serverEntityID}),this.props.onModalClose()}}render(){return y.a.createElement(Rde,{...this.props,onModalClose:this.onModalClose})}}var Ude=Object(v.b)((function(){return Object(he.a)(Hce(),_ce(),(e,t)=>({dvrID:e.key,deviceID:t.key}))}),{clearDVRSetup:nle.g})(zde),Vde=a("Ryf4"),Bde=a.n(Vde);class Fde extends g.Component{componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){const{serverEntityID:e,model:t,uri:a,thumb:n,prefs:i,isSaving:r,saveError:s,onSubmit:o,onModalClose:l}=this.props;return y.a.createElement(H9.b,{className:Bde.a.form,onSubmit:o},y.a.createElement(eN.a,{onModalClose:l},y.a.createElement(Jw.a,null,Object(Ce.default)("Device Settings")),s?y.a.createElement(OL.a,{errorMessage:Object(BJ.a)(s,Object(Ce.default)("There was a problem saving your changes. Please try again."))}):null,y.a.createElement(qw.a,null,y.a.createElement("div",{className:Bde.a.container},y.a.createElement(wle,{className:Bde.a.deviceImage,serverEntityID:e,model:t,thumb:n,width:150,height:150}),y.a.createElement("div",{className:Bde.a.info},y.a.createElement("div",{className:Bde.a.model},t),y.a.createElement("div",null,a),y.a.createElement("div",{className:Bde.a.settings},i.map(e=>{const{id:t}=e;return y.a.createElement(Ule.a,{key:t,...e})}))))),y.a.createElement(Zw.a,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:l},Object(Ce.default)("Cancel")),y.a.createElement(bL.a,{type:"submit",isSpinning:r,kind:ao.d,size:cc.b},Object(Ce.default)("Save"))))))}}var Hde=Fde;class _de extends g.Component{constructor(){super(...arguments),this.onSubmit=e=>{const{serverEntityID:t,dvrID:a,deviceID:n}=this.props;Object(Dt.a)(()=>{this.props.saveDeviceSettings({serverEntityID:t,dvrID:a,deviceID:n,prefs:e})})},this.onModalClose=()=>{const{dvrID:e,deviceID:t}=this.props;this.props.clearDeviceSettingsSaveError({dvrID:e,deviceID:t}),this.props.onModalClose()}}render(){return y.a.createElement(Hde,{...this.props,onSubmit:this.onSubmit,onModalClose:this.onModalClose})}}var Wde=Object(v.b)((function(){return Object(he.a)((e,{dvrID:t})=>t,_ce(),(e,t)=>{const{key:a,model:n,uri:i,prefs:r,thumb:s,isSaving:o,saveError:l}=t;return{dvrID:e,deviceID:a,model:n,uri:i,prefs:r,thumb:s,isSaving:o,saveError:l}})}),{saveDeviceSettings:nle.x,clearDeviceSettingsSaveError:nle.i})(_de);var Qde=function(e){const{isOpen:t,metricsProperties:a,onModalClose:n,...i}=e;return y.a.createElement(Yw.a,{isOpen:t,metricsPage:It.H,metricsProperties:a,onModalClose:n},y.a.createElement(Wde,{onModalClose:n,...i}))},Gde=a("K/Mj"),Kde=a.n(Gde);const Yde={context:aS.SETTINGS};class qde extends g.Component{constructor(e,t){super(e,t),this.onManageChannelsPress=()=>{this.setState({isManageChannelsModalOpen:!0})},this.onManageChannelsModalClose=()=>{this.setState({isManageChannelsModalOpen:!1})},this.onDeviceSettingsPress=()=>{this.setState({isDeviceSettingsModalOpen:!0})},this.onDeviceSettingsModalClose=()=>{this.setState({isDeviceSettingsModalOpen:!1})},this.state={isManageChannelsModalOpen:!1,isDeviceSettingsModalOpen:!1}}render(){const{serverEntityID:e,dvrID:t,deviceID:a,model:n,uri:i,thumb:r,tunerCount:s,channelCount:o,unsupported:l,activeTunerCount:c,channelMappings:d,hasPrefs:u,status:p,canRemoveDevice:m,onRemoveDevicePress:h}=this.props,g=p===rce.b.DEAD,f=d.filter(e=>e.enabled).length;let b;return b=o?1===o?Object(Ce.default)("1 channel"):Object(Ce.default)("{channelCount} channels",{channelCount:o}):Object(Ce.default)("No channels"),y.a.createElement("div",{className:Kde.a.device},y.a.createElement(wle,{serverEntityID:e,model:n,thumb:r,width:100,height:100}),y.a.createElement("div",{className:Kde.a.details},y.a.createElement("div",{className:Kde.a.modelContainer},y.a.createElement("div",{className:Kde.a.model},n),i?y.a.createElement(y.a.Fragment,null,y.a.createElement(Hi.b,{className:Kde.a.separator}),y.a.createElement(Nle,{className:Kde.a.uri,uri:i})):null,l?y.a.createElement(jle,null):null),g?y.a.createElement("div",{className:Kde.a.deviceWarning},y.a.createElement("div",{className:Kde.a.deviceWarningIconContainer},y.a.createElement(je.a,null)),Object(Ce.default)("Device not found. Ensure your device is powered on and connected to your network.")):y.a.createElement("div",{className:Kde.a.info},y.a.createElement("div",null,1===s?Object(Ce.default)("1 tuner"):Object(Ce.default)("{tunerCount} tuners",{tunerCount:s}),c?y.a.createElement(y.a.Fragment,null,y.a.createElement(Hi.b,{className:Kde.a.separator}),Object(Ce.default)("{activeTunerCount} in use now",{activeTunerCount:c})):null),y.a.createElement("div",null,b,y.a.createElement(Hi.b,{className:Kde.a.separator}),y.a.createElement(jI.a,{kind:ao.d,onPress:this.onManageChannelsPress},Object(Ce.default)("{enabledChannelsCount} enabled",{enabledChannelsCount:f}))),u?y.a.createElement(jI.a,{className:Kde.a.deviceSettingsButton,kind:ao.d,onPress:this.onDeviceSettingsPress},y.a.createElement(os.a,{className:Kde.a.deviceSettingsIcon,"aria-label":Object(Ce.default)("Device Settings")}),Object(Ce.default)("Device Settings")):null)),m?y.a.createElement("div",{className:Kde.a.removeDeviceContainer},y.a.createElement(jI.a,{className:Kde.a.removeDevice,onPress:h},y.a.createElement(Ql.a,{"aria-label":Object(Ce.default)("Remove Device")}))):null,y.a.createElement(Ude,{serverEntityID:e,dvrID:t,deviceID:a,metricsProperties:Yde,isOpen:this.state.isManageChannelsModalOpen,onModalClose:this.onManageChannelsModalClose}),y.a.createElement(Qde,{serverEntityID:e,dvrID:t,deviceID:a,metricsProperties:Yde,isOpen:this.state.isDeviceSettingsModalOpen,onModalClose:this.onDeviceSettingsModalClose}))}}var Zde=qde;const Xde={fetchDeviceChannels:nle.o,removeDVRDevice:nle.t};class Jde extends g.Component{constructor(){super(...arguments),this.onRemoveDevicePress=()=>{const{serverEntityID:e,dvrID:t,deviceID:a}=this.props;this.props.removeDVRDevice({serverEntityID:e,dvrID:t,deviceID:a})}}componentWillMount(){const{serverEntityID:e,dvrID:t,deviceID:a}=this.props;Object(Dt.a)(()=>{this.props.fetchDeviceChannels({serverEntityID:e,dvrID:t,deviceID:a})})}render(){return y.a.createElement(Zde,{onRemoveDevicePress:this.onRemoveDevicePress,...this.props})}}var $de=Object(v.b)((function(){return Object(he.a)(_ce(),Object(AI.a)(),(e,t)=>{const a=t.reduce((t,a)=>{const n=a.Context&&a.Context.transcode_session;return a.type!==Ms.d||parseInt(a.Context.deviceID,10)!==e.key||n&&t.some(e=>e.Context.transcode_session===n)||t.push(a),t},[]);return{hasPrefs:!(!e.prefs||!e.prefs.length),channelCount:e.channels.length,activeTunerCount:a.length}})}),Xde)(Jde),eue=a("r8pT"),tue=a.n(eue);class aue extends g.Component{componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){const{prefs:e,isSaving:t,saveError:a,onSubmit:n,onModalClose:i}=this.props;return y.a.createElement(H9.b,{className:tue.a.form,onSubmit:n},y.a.createElement(eN.a,{onModalClose:i},y.a.createElement(Jw.a,null,Object(Ce.default)("DVR Settings")),a?y.a.createElement(OL.a,{errorMessage:Object(BJ.a)(a,Object(Ce.default)("There was a problem saving your changes. Please try again."))}):null,y.a.createElement(qw.a,null,e.map(e=>{const{id:t}=e;return y.a.createElement(Ule.a,{key:t,...e})})),y.a.createElement(Zw.a,null,y.a.createElement(Xw.a,null,y.a.createElement(Ih.a,{kind:ao.c,size:cc.b,onPress:i},Object(Ce.default)("Cancel")),y.a.createElement(bL.a,{type:"submit",isSpinning:t,kind:ao.d,size:cc.b},Object(Ce.default)("Save"))))))}}var nue=aue;class iue extends g.Component{constructor(){super(...arguments),this.onSubmit=e=>{const{serverEntityID:t,dvrID:a}=this.props;Object(Dt.a)(()=>{this.props.saveDVRSettings({serverEntityID:t,dvrID:a,prefs:e})})},this.onModalClose=()=>{this.props.clearDVRSettingsSaveError({dvrID:this.props.dvrID}),this.props.onModalClose()}}render(){return y.a.createElement(nue,{...this.props,onSubmit:this.onSubmit,onModalClose:this.onModalClose})}}var rue=Object(v.b)((function(){return Object(he.a)(Hce(),e=>{const{prefs:t,isSaving:a,saveError:n}=e;return{prefs:t.filter(e=>!e.hidden),isSaving:a,saveError:n}})}),{saveDVRSettings:nle.w,clearDVRSettingsSaveError:nle.f})(iue);var sue=function(e){const{isOpen:t,metricsProperties:a,onModalClose:n,...i}=e;return y.a.createElement(Yw.a,{isOpen:t,metricsPage:It.M,metricsProperties:a,onModalClose:n},y.a.createElement(rue,{onModalClose:n,...i}))},oue=a("QlLa"),lue=a.n(oue);const cue={context:aS.SETTINGS};class due extends g.Component{constructor(e,t){super(e,t),this.onRemoveDVRPress=()=>{this.setState({isRemoveDVRModalOpen:!0})},this.onRemoveDVRConfirm=()=>{this.setState({isRemoveDVRModalOpen:!1}),this.props.onRemoveDVR()},this.onRemoveDVRCancel=()=>{this.setState({isRemoveDVRModalOpen:!1})},this.onDVRSettingsPress=()=>{this.setState({isDVRSettingsModalOpen:!0})},this.onDVRSettingsModalClose=()=>{this.setState({isDVRSettingsModalOpen:!1})},this.onAddDevicePress=()=>{this.setState({isAddDeviceModalOpen:!0})},this.onModalClose=()=>{this.setState({isAddDeviceModalOpen:!1})},this.state={isRemoveDVRModalOpen:!1,isDVRSettingsModalOpen:!1,isAddDeviceModalOpen:!1}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,dvrID:a,machineIdentifier:n,providerIdentifier:i,lineupTitle:r,devices:s,epgDownloadActivity:o,hasPrefs:l,hasDVRFeature:c,hasLiveTVSetupFeature:d,hasFreeLiveTVDVRSettings:u,isV4DVRSetupEnabled:p,onReloadGuidePress:m,onCancelReloadGuidePress:h}=this.props,{isRemoveDVRModalOpen:g,isDVRSettingsModalOpen:f}=this.state,b=(c||d&&u)&&l;return y.a.createElement("div",{className:lue.a.dvr},t?y.a.createElement(jh,{className:lue.a.banner,serverEntityID:e,providerEntityID:t,showButton:!1}):null,y.a.createElement("div",{className:lue.a.header},y.a.createElement("div",{className:lue.a.name},Object(Ce.default)("DVR"),y.a.createElement(Hi.b,{className:lue.a.separator}),r),y.a.createElement(jI.a,{className:lue.a.deleteLink,kind:ao.d,onPress:this.onRemoveDVRPress},Object(Ce.default)("Delete DVR"))),y.a.createElement("div",{className:lue.a.actions},y.a.createElement("div",null,o?y.a.createElement(jI.a,{kind:ao.c,title:Object(Ce.default)("Cancel refresh"),onPress:h},y.a.createElement(Ql.a,{className:lue.a.actionIcon}),o.title," (",o.progress,"%)",y.a.createElement(Hi.b,{className:lue.a.separator}),o.subtitle):y.a.createElement(jI.a,{kind:ao.d,onPress:m},y.a.createElement(uz.a,{className:lue.a.actionIcon}),Object(Ce.default)("Refresh Guide"))),b?y.a.createElement("div",null,y.a.createElement(jI.a,{kind:ao.d,onPress:this.onDVRSettingsPress},y.a.createElement(os.a,{className:lue.a.actionIcon,"aria-label":Object(Ce.default)("DVR Settings")}),Object(Ce.default)("DVR Settings"))):null),y.a.createElement("div",{className:lue.a.devices},s.map(t=>y.a.createElement($de,{key:t.key,serverEntityID:e,dvrID:a,deviceID:t.key,canRemoveDevice:s.length>1,model:t.model,uri:t.uri,unsupported:t.unsupported,channelMappings:t.channelMappings,tunerCount:t.tuners,status:t.status,thumb:t.thumb}))),y.a.createElement(jI.a,{kind:ao.d,onPress:this.onAddDevicePress},y.a.createElement(Df.a,{className:lue.a.addDeviceIcon}),Object(Ce.default)("Add Device")),y.a.createElement(Xc.a,{isOpen:g,metricsPage:It.y,title:Object(Ce.default)("Delete DVR"),message:Object(Ce.default)("Deleting your DVR will remove the Guide, and all scheduled recordings will be suspended. Programming you've previously recorded will remain in your library."),confirmLabel:Object(Ce.default)("Delete"),kind:ao.a,onConfirm:this.onRemoveDVRConfirm,onCancel:this.onRemoveDVRCancel}),y.a.createElement(sue,{isOpen:f,serverEntityID:e,dvrID:a,metricsProperties:cue,onModalClose:this.onDVRSettingsModalClose}),p?y.a.createElement(ale,{machineIdentifier:n,providerIdentifier:i,dvrID:Object(Hre.a)(a),metricsContext:cue.context,isOpen:this.state.isAddDeviceModalOpen,onModalClose:this.onModalClose}):y.a.createElement(vde,{serverEntityID:e,dvrID:a,metricsProperties:cue,isOpen:this.state.isAddDeviceModalOpen,onModalClose:this.onModalClose}))}}var uue=due;const pue=Object(he.c)({machineIdentifier:Object(he.a)(vh.b,e=>e.machineIdentifier),providerIdentifier:Object(he.a)(Object(RI.a)(),Lt.a,(e,t)=>{const a=e.providers.find(e=>Object(Fre.a)(t[e]));return null==a?void 0:a.identifier}),providerEntityID:Object(he.a)(Object(RI.a)(),Lt.a,(e,t)=>{const a=e.providers.map(e=>t[e]).find(Fre.a);return null==a?void 0:a.entityID}),epgDownloadActivity:bce(),hasPrefs:Object(he.a)(Hce(),e=>!!e.prefs),hasFreeLiveTVDVRSettings:Object(he.a)(vh.b,e=>Object(oo.a)(e.version,so.a.freeLiveTVDVRSettings)),isV4DVRSetupEnabled:Bre});var mue=Object(v.b)(pue,(function(e,t){const{serverEntityID:a,dvrID:n}=t;return{onRemoveDVR(){e(AS({serverEntityID:a,dvrID:n}))},onReloadGuidePress(){e(LS({serverEntityID:a,dvrID:n}))},onCancelReloadGuidePress(){e(kS({serverEntityID:a,dvrID:n}))}}}))(uue);var hue=function(e){const{serverEntityID:t,isDvrsPending:a,dvrsError:n,dvrs:i,hasDVRFeature:r,hasLiveTVSetupFeature:s}=e;return n?y.a.createElement(KG,{title:Object(Ce.default)("Unable to load DVRs")}):a?y.a.createElement(HO.a,{label:Object(Ce.default)("Loading DVRs")}):y.a.createElement("div",null,i.map(e=>y.a.createElement(mue,{key:e.key,dvrID:e.key,serverEntityID:t,lineupTitle:e.lineupTitle,devices:e.devices,hasDVRFeature:r,hasLiveTVSetupFeature:s})))};var gue=Object(v.b)((function(e){const{isDvrsPending:t,dvrsError:a,dvrs:n}=e.ui.dvrSettingsUI;return{isDvrsPending:t,dvrsError:a,dvrs:n}}))(hue),yue=a("9gax"),fue=a.n(yue);var bue=function(e){const{serverEntityID:t}=e;return y.a.createElement(Cde,{className:fue.a.container,serverEntityID:t},({noDVRs:e,hasDVRFeature:a,hasLiveTVSetupFeature:n,dvrsError:i,onOpen:r})=>y.a.createElement("div",null,e&&!i?y.a.createElement(xre,{iconComponent:Vre,title:Object(Ce.default)("Introducing Live TV & DVR"),text:Object(Ce.default)("With Plex Pass and a digital tuner, you can record over-the-air broadcast TV and watch your favorite shows, movies, news, and sports on any device, anywhere in the world. Cut the cord and love TV again."),moreInfo:y.a.createElement(LT.a,{message:Object(Ce.default)("To get started recording TV, connect a tuner device to your network. Here's a {openLinkSupported}list of supported devices{closeLinkSupported}. However, some tuners not officially supported {openLinkUnsupported}work as well{closeLinkUnsupported}!"),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:jI.a,kind:ao.d,to:up.k,target:"_blank"},{open:"openLinkUnsupported",close:"closeLinkUnsupported",component:jI.a,kind:ao.d,to:up.b,target:"_blank"}]})},a||n?y.a.createElement(Ih.a,{kind:ao.d,size:cc.a,onPress:r},Object(Ce.default)("Set Up Plex DVR")):y.a.createElement(zre,{serverEntityID:t,origin:Cre.d,modalMetricsProperties:{context:"dvrSetup"}})):null,a||n?y.a.createElement(gue,{serverEntityID:t,hasDVRFeature:a,hasLiveTVSetupFeature:n}):null))};var vue=XE.a.extend({name:"DeprecatedPluginModel",context:["server","channel"],idAttribute:"key",url(){return this.id?this.id:this.identifierUrl(this.get("identifier"))},identifierUrl:e=>`/:/plugins/${e}/root`,syncedAttrs:{key:QE.a.string,identifier:QE.a.string,type:QE.a.string,name:QE.a.string,title1:QE.a.string,title2:QE.a.string,message:QE.a.string,summary:QE.a.string,thumb:QE.a.string,art:QE.a.string,prefsKey:QE.a.string,searchKey:QE.a.string,installed:QE.a.boolean,noCache:QE.a.boolean,allowSync:QE.a.boolean,hasPrefs:QE.a.boolean,hasStoreServices:QE.a.boolean,share:QE.a.boolean,lastAccessedAt:QE.a.integer},syncedRelations:{metadataList:{relationClass:GE.default,attrs(e){return{containerKey:e.key?e.key:this.identifierUrl(e.identifier)}},options(e){return{channel:this,skipCache:!0}}}},derivedAttrs:{title(){return this.get("name")||this.get("title2")||this.get("title1")}},augmentResponseText:(e,t)=>t===qP.c?Object(XP.b)(e,{includeDirectories:!0}):e,augmentResponse(e){if(this.has("key")&&(e.key=this.get("key")),"none"===e.key&&delete e.key,e.key){const t=e.key.match(/^\/(\w+)\//);t&&(e.type=t[1])}e.title&&(e.name=e.title);const t=Rn.a.parseArray(e.Metadata);for(let a=t.length-1;a>=0;a--){const n=t[a];if(n.settings||n.search){e[n.settings?"prefsKey":"searchKey"]=n.key,t.splice(a,1)}}return e.Metadata=t,e.metadataList=e,e}});var Iue=CS.a.extend({name:"DeprecatedPluginCollection",context:["server","channel"],model:vue,url(){return this.containerKey},comparator:e=>e.get("title").toLowerCase(),filterByType(e){const t=this.filter(t=>t.get("type")===e);return this.clone(t)}});var Sue=XE.a.extend({mixins:[KE.a],name:"DeprecatedPluginListModel",context:["server"],idAttribute:"key",collectionName:"channels",url(){const e=this.get("key"),t=e||j.default.join(["/channels",this.get("subset")]);return this.getPaginatedUrl(t)},sessionAttrs:{key:QE.a.string,subset:QE.a.oneOf("all","recentlyViewed"),currentPageStart:QE.a.integer,currentPageSize:QE.a.integer,populatedRange:QE.a.object},syncedAttrs:{totalSize:QE.a.integer,viewGroup:QE.a.string,title1:QE.a.string,title2:QE.a.string},syncedRelations:{channels:{relationClass:Iue,rootPropertyName:"Directory",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({subset:"all",populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()}}),Eue=a("/k80"),Oue=a.n(Eue),Mue=a("uUkn"),Cue=a.n(Mue);var jue=Iie.a.extend({name:"DeprecatedPluginSettingsModal",className:"channel-settings-modal modal fade",template:Cue.a,ui:{submitBtn:".submit-btn"},events:M.a.extend({"change input[name]":"onInputChange","change select[name]":"onInputChange","submit #channel-settings-form":"onSubmit"},Iie.a.prototype.events),initialize:function(){Iie.a.prototype.initialize.apply(this,arguments),this.changes={}},serializeData:function(){const e=this.model.get("title")||this.model.get("name");return{escapedTitle:M.a.escape(e||"Preferences..."),settings:this.collection.toJSON()}},onInputChange:function(e){const t=e.currentTarget;let a=t.value;"checkbox"===t.type&&(a=t.checked),this.changes[t.name]=a},onSubmit:function(e){if(e.preventDefault(),M.a.isEmpty(this.changes))return void this.hide();const t=this.ui.submitBtn;if(t.hasClass("active"))return;t.addClass("active");const a=this.collection.first(),n=a.getSaveParams(this.changes),i=M.a.result(this.collection,"url"),r=j.default.join([i,"/set"],n),s=h.a.ajax(a.server.getXHROptions(r));s.done(()=>{this.hide()}),s.fail(()=>{$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem saving these settings.")})}),s.always(()=>{t.removeClass("active")})}}),Due=a("s1Aa"),Pue=a.n(Due);var Tue=p.a.ItemView.extend({tagName:"li",className:"poster-item media-tile-list-item channel",template:Pue.a,ui:{poster:".media-poster"},events:{"click .settings-btn":"onSettingsClick","click .uninstall-btn":"onUninstallClick"},initialize:function(e){this.image=new Mee.a({model:this.model,type:"channel",width:150}),this.shared=this.model.server.get("shared")},serializeData:function(){return{item:this.model.toJSON(),shared:this.shared}},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"type",autohide:!0,formatter:e=>"video"===e?Object(Ce.default)("Video"):"music"===e?Object(Ce.default)("Music"):"photos"===e?Object(Ce.default)("Photo"):Object(Ce.default)("Utility")}},onRender:function(){this.image.setElement(this.ui.poster)},onClose:function(){this.image.close()},onSettingsClick:function(e){if(e.preventDefault(),this.$el.hasClass("active"))return;this.$el.addClass("active");const t=new Z7.a([],{server:this.model.server,url:this.model.id+"/:/prefs"}),a=t.fetch();a.done(()=>{$.a.trigger("show:modal",new jue({model:this.model,collection:t}))}),a.always(()=>{this.$el.removeClass("active")})},onUninstallClick:function(e){if(e.preventDefault(),this.$el.hasClass("active"))return;this.$el.addClass("active");const t=See.a.execute("uninstallChannel",{channel:this.model});t.done(()=>{this.model.trigger("destroy",this.model,this.model.collection)}),t.always(()=>{this.$el.removeClass("active")})}});var wue=lee.a.extend({tagName:"ul",className:"tile-list media-tile-list channel-tile-list",itemView:Tue});var Nue=p.a.Layout.extend({className:"container",template:Oue.a,ui:{navLinks:".nav a"},regions:{list:".channels-container"},events:{"click .nav a":"onNavClick","click .all-btn":"onAllClick","click .video-btn":"onVideoClick","click .music-btn":"onMusicClick","click .photo-btn":"onPhotoClick"},initialize:function({deprecatedPlugins:e}){(0,Object(E.c)("appStore").dispatch)(Object(aa.a)({allowLightPreset:!1})),this.collection=e.get("channels"),this.videoCollection=this.collection.filterByType("video"),this.musicCollection=this.collection.filterByType("music"),this.photoCollection=this.collection.filterByType("photos")},serializeData:function(){return{serverID:this.collection.server.id,allCount:this.collection.length,hasInstalledChannels:this.collection.length>0,videoCount:this.videoCollection.length,musicCount:this.musicCollection.length,photoCount:this.photoCollection.length}},onRender:function(){this.list.show(new wue({collection:this.collection}))},onNavClick:function(e){this.ui.navLinks.removeClass("selected"),h()(e.currentTarget).addClass("selected")},onAllClick:function(e){e.preventDefault(),this.list.show(new wue({collection:this.collection}))},onVideoClick:function(e){e.preventDefault(),this.list.show(new wue({collection:this.videoCollection}))},onMusicClick:function(e){e.preventDefault(),this.list.show(new wue({collection:this.musicCollection}))},onPhotoClick:function(e){e.preventDefault(),this.list.show(new wue({collection:this.photoCollection}))}});class xue extends g.Component{componentDidMount(){const e=this.props.view;this._view=new e(this.props.viewOptions),this._view.render(),this._el.appendChild(this._view.el),this._view.triggerMethod("show")}shouldComponentUpdate(){return!1}componentWillUnmount(){this._view.close&&this._view.close()}render(){return y.a.createElement("div",{className:this.props.className,ref:e=>this._el=e})}}var Aue=xue;var Lue=function(e){const{serverEntityID:t}=e,[a,n]=Object(g.useState)({deprecatedPlugins:null,isDeprecatedPluginsPending:!0,deprecatedPluginsError:!1});return O3(()=>{var e;const a=null==(e=Object(E.c)("appModel").get("entities").get("servers").get(t))?void 0:e.get("model"),i=new Sue({},{server:a});i.fetch().then(()=>{n({deprecatedPlugins:i,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!1})},()=>{n({deprecatedPlugins:null,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!0})})}),a.isDeprecatedPluginsPending?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):a.deprecatedPluginsError?y.a.createElement(Kk.a,{title:Object(Ce.default)("Plugins are not available.")}):y.a.createElement(Aue,{view:Nue,viewOptions:{deprecatedPlugins:a.deprecatedPlugins}})};var kue=J.a.extend({maximumDelay:30,initialize({callback:e,logFormat:t}){this._serversBeingRetried={},this.callback=e,this.logFormat=t},start(e){this._serversBeingRetried[e.cid]||this.supportsRetry(e)&&(this._serversBeingRetried[e.cid]={server:e,attempt:1},this._scheduleRetry(e))},stop(e){const t=this._serversBeingRetried[e.cid];t&&(window.clearTimeout(t.timeout),delete this._serversBeingRetried[e.cid])},stopAll(){M.a.each(this._serversBeingRetried,(e,t)=>{window.clearTimeout(e.timeout),delete this._serversBeingRetried[t]})},supportsRetry:e=>!0,_scheduleRetry(e){const t=this._serversBeingRetried[e.cid],a=2*Math.min(this.maximumDelay/2,t.attempt);Object(C.a)(this.logFormat,e.get("debugName"),a),t.timeout=window.setTimeout(()=>{this.callback(e),t.attempt++,this._scheduleRetry(e)},1e3*a)}});var Rue=kue.extend({mixins:[ee.a],initialize({appModel:e}){kue.prototype.initialize.apply(this,arguments),this.appModel=e,this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},supportsRetry:e=>!0,onPrimaryServerChange(e,t){t&&!t.get("hasEventConnection")&&(this.stop(t),this.start(t))}});var zue=J.a.extend({mixins:[ee.a],initialize(e){this.name=e.name||"ServerEventManager",this.appModel=e.appModel,this.servers=e.servers||this.appModel.get("servers"),this.isValidServer=e.isValidServer,this.supportsLongPolling=e.supportsLongPolling,this.allowMultipleConnections=e.allowMultipleConnections,this.allowAppendingHeaders=e.allowAppendingHeaders,this.ServerEventConnection=e.ServerEventConnection,this.connections={},this._serverRetryManager=new e.ServerRetryManager({appModel:this.appModel,callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying server events connection for %s in %s seconds"})},start(){this.allowMultipleConnections?this.listenTo(this.servers,{"change:isResolved":this.onServerResolvedChange,"change:isRejected":this.onServerRejectedChange,remove:this.onServerRemove,reset:this.onServersReset}):this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},stop(){this.stopListening(),this._serverRetryManager.stopAll(),this.disconnectAll(),this.connections={}},tryConnectServer(e){const t=this.connections[e.id];this.isValidServer(e)&&!t&&(S.a.hasWebSocket||this.supportsLongPolling?this.connect({server:e}).then(null,()=>{this._serverRetryManager.start(e)}):e.trigger("socket:websocket",{error:!0}))},connect(e){const t=e.server;let a=this.connections[t.id];a||(a=new this.ServerEventConnection({server:t,appendHeaders:this.allowAppendingHeaders}),this.connections[t.id]=a,this.listenTo(a,{open:this.onOpen,close:this.onClose,error:this.onClose}));const n=a.open(),i=a.socket?a.socket.url:a.pollUrl;return Object(C.a)(`[${this.name}] Opening server event connection to ${t.get("debugName")} at ${i}`),n},disconnectAll(){M.a.each(this.connections,e=>{this.disconnect({connection:e})})},disconnect(e){let t=e.connection;if(t||(t=this.connections[e.server.id]),t){const e=t.socket?t.socket.url:t.pollUrl,a=t.server;Object(C.a)(`[${this.name}] Closing server event connection to ${a.get("debugName")} at ${e}`),this.stopListening(t),this._serverRetryManager.stop(t.server),t.close(),delete this.connections[t.server.id]}},retryServerConnections:function(e){this.isValidServer(e)&&e.get("isResolved")&&this.connect({server:e})},onPrimaryServerChange(e,t){this.disconnectAll(),t&&this.tryConnectServer(t)},onServerResolvedChange(e,t){t&&this.tryConnectServer(e)},onServerRejectedChange(e,t){t&&this.disconnect({server:e})},onServerRemove(e){const t=this.connections[e.id];if(t&&(this.disconnect({connection:t}),e.get("isMerged")&&t)){const t=this.servers.get(e.id);this.connect({server:t})}},onServersReset(e,t){const a=t.previousModels;M.a.each(a,t=>{e.contains(t)||this.disconnect({server:t})})},onOpen(e){const t=this.connections[e.id],a=t.socket?t.socket.url:t.pollUrl;C.a.info(`[${this.name}] Opened server event connection to ${e.get("debugName")} at ${a}`),this._serverRetryManager.stop(e)},onClose(e){C.a.warn(`[${this.name}] Unexpectedly closed server event connection to ${e.get("debugName")}`),this._serverRetryManager.start(e)}}),Uue=a("Se/U");function Vue(e,t,a){if(!t)return null;const n=new Date(t);if(!Object(Uue.a)(n))return-1;const i=n.getTime();let r,s=0,o=e.length-1;for(;s<=o;){r=Math.floor((s+o)/2);const t=e[r],n=e[r+1],l=new Date(t.time).getTime();if(!n)return i>l?r:r+1;if(i===l)return a<r?r:r+1;const c=new Date(n.time).getTime();if(i>l&&i<c)return r+1;i>l?s=r+1:i<l&&(o=r-1)}return Math.max(0,r)}var Bue=a("LPPQ");function Fue(e){return Object(Bue.a)(e,"MMM dd, yyyy HH:mm:ss.SSS",new Date)}const Hue="ui/serverLogPageActions/clearLog",_ue="ui/serverLogPageActions/toggleRaw",Wue=Object(yo.a)("ui/serverLogPageActions/changeTextFilter"),Que=Object(yo.a)("ui/serverLogPageActions/changeTimeFilter"),Gue=Object(yo.a)("ui/serverLogPageActions/clearFilter"),Kue=Object(yo.a)("ui/serverLogPageActions/addLogLine"),Yue=Object(yo.a)("ui/serverLogPageActions/resetLogLevels"),que=Object(yo.a)("ui/serverLogPageActions/toggleLogLevel"),Zue=Object(yo.a)(Hue),Xue=Object(yo.a)("ui/serverLogPageActions/loadLogfile"),Jue=Object(yo.a)("ui/serverLogPageActions/toggleTimeFilter"),$ue=Object(yo.a)(_ue),epe=Object(yo.a)("ui/serverLogPageActions/highlightLine");function tpe(e,t,a){t.all||(t.all=[]),e.index=t.all.length;return ipe(e,{filter:a.get("filter"),timeFilterStart:a.get("timeFilterStart"),timeFilterEnd:a.get("timeFilterEnd"),logLevels:a.get("logLevels")})?t.filtered&&t.filtered.push(e):t.filtered||(t.filtered=t.all.slice(0)),t.all.push(e),t}function ape(e){return e.get("ui").get("serverLogPage")}function npe(e){return e.split(/\s+/).map(e=>new RegExp(Object(U.a)(e),"i"))}function ipe(e,t){const{filter:a,timeFilterStart:n,timeFilterStartIndex:i,timeFilterEnd:r,timeFilterEndIndex:s,logLevels:o}=t;if(!(!o.length||-1!==o.indexOf(e.level)))return!1;if(n||null!=i||r||null!=s){let t,a,o;if(null!=i&&null!=s||(t=Fue(e.time),null==i&&(a=n&&Fue(n)),null==s&&(o=r&&Fue(r))),null!=i&&i>e.index||null!=s&&s<e.index||a&&Object(GT.a)(a,t)||o&&Object(aP.a)(o,t))return!1}if(!a)return!0;return(t.regexps||npe(a)).every(t=>t.test(e.message)||t.test(e.thread))}function rpe(e){const t=e.get("filter"),a=e.get("timeFilterStart"),n=e.get("timeFilterEnd"),i=e.get("logLevels"),r=e._unfilteredLogLines,s=Vue(r,a,-1/0);const o=function(e,t){return Vue(e,t,1/0)}(r,n),l=function(e,t){const a=npe(t.filter);return e.filter(e=>ipe(e,{...t,regexps:a}))}(r,{logLevels:i,filter:t,timeFilterStart:a,timeFilterStartIndex:-1===s?null:s,timeFilterEndIndex:-1===o?null:o,timeFilterEnd:n});e.set({logLines:l,unfilteredLogLinesCount:r.length,isTimeFilterStartValid:-1!==s,isTimeFilterEndValid:-1!==o})}const spe=/^([^[]+)\[([^\]]+)]\s+([^\s]+)\s+-\s+(.*)/,ope={ERROR:0,WARN:1,INFO:2,DEBUG:3,VERBOSE:4};function lpe(e){if(!e)return null;const t=e.match(spe),[,a,n,i,r]=t;return{time:a.trim(),thread:n.trim(),level:ope[i],message:r.trim()}}var cpe=Object(MS.a)({"ui/serverLogPageActions/addLogLine"(e,t){const{message:a}=t,n=ape(e);n._unfilteredLogLines||(n._unfilteredLogLines=[]);const i=n.get("logLines").length!==n._unfilteredLogLines.length,r=i?n.get("logLines"):null,s=i?r.length:null,o=tpe(a,{all:n._unfilteredLogLines.slice(0),filtered:r},n);o.filtered&&o.filtered.length!==s&&(o.filtered=o.filtered.slice(0)),n._unfilteredLogLines=o.all,n.set({unfilteredLogLinesCount:o.all.length,logLines:o.filtered||o.all})},"ui/serverLogPageActions/changeTextFilter"(e,t){const a=ape(e),{filter:n}=t;a.set({filter:n}),rpe(a)},"ui/serverLogPageActions/changeTimeFilter"(e,t){const a=ape(e),{timeFilterStart:n,timeFilterEnd:i}=t;a.set({showTimeFilter:!(!n&&!i),timeFilterStart:n,timeFilterEnd:i}),rpe(a)},"ui/serverLogPageActions/clearFilter"(e){const t=ape(e);t.set({filter:"",timeFilterStart:"",timeFilterEnd:"",logLevels:[]}),rpe(t)},"ui/serverLogPageActions/resetLogLevels"(e){const t=ape(e);t.set({logLevels:[]}),rpe(t)},"ui/serverLogPageActions/toggleLogLevel"(e,t){const a=ape(e),n=a.get("logLevels"),i=n.slice(0),r=n.indexOf(t.logLevel);-1===r?i.push(t.logLevel):i.splice(r,1),a.set({logLevels:i}),rpe(a)},[Hue](e){const t=ape(e);t.set({logLines:[],unfilteredLogLinesCount:0,highlightedLineIndex:null,showRawText:!1}),t._unfilteredLogLines=[]},"ui/serverLogPageActions/loadLogfile"(e,t){const{result:a}=t,n=ape(e);let i={all:[]};n.set({logLines:[],unfilteredLogLinesCount:0});try{a.split(/\n+/).map(lpe).forEach(e=>{e&&(i=tpe(e,i,n))}),n._unfilteredLogLines=i.all,n.set({unfilteredLogLinesCount:i.all.length,logLines:i.filtered||i.all})}catch(e){}},"ui/serverLogPageActions/toggleTimeFilter"(e){const t=ape(e),a=t.get("showTimeFilter");t.set({timeFilterStart:"",timeFilterEnd:"",showTimeFilter:!a}),rpe(t)},[_ue](e){const t=ape(e);t.set("showRawText",!t.get("showRawText"))},"ui/serverLogPageActions/highlightLine"(e,t){ape(e).set("highlightedLineIndex",t.index)}}),dpe=a("ftj1");const upe="available",ppe="done",mpe="downloaded",hpe="downloading",gpe="error",ype="installing",fpe="none",bpe="notify";var vpe=function(e,t){return(-1===t.indexOf(e.type)?[]:function(e){switch(e.type){case"preference":return e.Setting;case"timeline":return e.TimelineEntry;case"status":return e.StatusNotification;case"progress":return e.ProgressNotification;case"playing":return e.PlaySessionStateNotification;case"syncState":return e.SyncStateNotification;case"backgroundGeneratorState":return e.BackgroundGeneratorStateNotification;case"versionState":return e.VersionStateNotification;case"backgroundProcessingQueue":return e.BackgroundProcessingQueueEventNotification;case"transcodeSession.start":case"transcodeSession.update":case"transcodeSession.end":return e.TranscodeSession;case"update.statechange":return e.AutoUpdateNotification;case"reachability":return e.ReachabilityNotification;case"account":return e.AccountUpdateNotification;case"activity":return e.ActivityNotification;case"grabber.device":return e.MediaGrabberDeviceNotification;case"provider.change":return e.MediaProviderNotification;case"provider.content.change":return e.MediaProviderContentNotification;case"log":return e.LogSentNotification;case"provider.subscription.change":return e.MediaProviderSubscriptionNotification;case"clientDecision":return e.ClientDecisionRequestEventNotification}}(e))||[]};var Ipe=J.a.extend({mixins:ee.a,url(){const e=this.server.get("activeConnection");if(!e)return;const t=e.id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{connection:new dpe.a({uri:t}),appendToken:!0,appendHeaders:this.appendHeaders})},initialize(e){M.a.bindAll(this,"onOpen","onClose","onError","onMessage","getMessageTypes"),this.server=e.server,this.appendHeaders=e.appendHeaders||!1},open(){this.socket&&this.close(),this._deferred=h.a.Deferred();const e=M.a.result(this,"url");return e?(this.socket=new window.WebSocket(e),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onerror=this.onError,this.socket.onmessage=this.onMessage,this._deferred.promise()):this._deferred.reject().promise()},close(){this.socket&&(this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null,this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject())},testConnection(){if(!this.server.get("connected"))return;const e=this.server.get("desktop").get("update");e&&e.get("state")===ype&&this.server.set("connected",null),this.server.trigger("error:connection",this.server)},onOpen(e){const t=E.c("appStore"),a=this.server.entityID();a&&t.dispatch(Object($I.s)({serverEntityID:a,event:e})),this.server.trigger("socket:websocket",{opened:!0}),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e)},onClose(e){this.close();const t=E.c("appStore"),a=this.server.entityID();a&&t.dispatch(Object($I.r)({serverEntityID:a,event:e})),this.server.trigger("socket:websocket",{closed:!0}),this.trigger("close",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onError(e){this.close(),this.server.trigger("socket:websocket",{error:!0}),this.trigger("error",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onMessage(e){let t;try{t=JSON.parse(e.data)}catch(t){return void C.a.warn("[Connections] Error formatting message:\n%s",e.data)}const a=!!t._elementType,n=a?M.a.first(t._children):t.NotificationContainer;if(n){const e=this[a?t.type:n.type];let i;i=a?Array.isArray(n)?n:[n]:vpe(n,this.getMessageTypes()),i.forEach(t=>{try{this.trigger("message",t)}catch(e){C.a.error("[Connections] Error when triggering",t,e),z.a(e,{extra:{message:t}})}if(M.a.isFunction(e))try{e.call(this,t)}catch(e){C.a.error("[Connections] Error when handling",t,e),z.a(e,{extra:{message:t}})}})}}});const Spe=["log"];var Epe=Ipe.extend({name:"MediaServerLogEventConnection",url(){const e=this.server.get("activeConnection").id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{params:{filters:"log"},connection:new dpe.a({uri:e}),appendToken:!0})},getMessageTypes:()=>Spe,log(e){Object(E.c)("appStore").dispatch(Kue({message:e,serverEntityID:this.server.entityID()}))}}),Ope=a("IV3D"),Mpe=a.n(Ope);var Cpe=function({children:e,...t}){return y.a.createElement("div",{className:Mpe.a.pageHeader,...t},e)};var jpe=[4,3,2,1,0];var Dpe=function(e){switch(e){case 0:return Object(Ce.default)("Error");case 1:return Object(Ce.default)("Warning");case 2:return Object(Ce.default)("Info");case 3:return Object(Ce.default)("Debug");case 4:return Object(Ce.default)("Verbose");default:return Object(Ce.default)("Unknown")}};class Ppe extends g.Component{constructor(e,t){super(e,t),this.onMenuPress=()=>{this.setState(e=>({isMenuOpen:!e.isMenuOpen}))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.onAllPress=()=>{this.props.onResetLogLevels()},this.onLogLevelSelect=e=>{this.props.onToggleLogLevel(e)},this._buttonID=Object(gf.a)(),this.state={isMenuOpen:!1}}render(){const{logLevels:e}=this.props,{isMenuOpen:t}=this.state;let a;return a=e.length?1===e.length?Dpe(e[0]):Object(Ce.default)("Custom"):Object(Ce.default)("All"),y.a.createElement(y.a.Fragment,null,y.a.createElement(cD.a,{id:this._buttonID,hasMenu:!0,isMenuOpen:t,onPress:this.onMenuPress},a),y.a.createElement(Xs.a,{target:this._buttonID,isOpen:t,size:cc.a,onMenuClose:this.onMenuClose},y.a.createElement(uc.a,{key:"all",isSelected:!e.length,onPress:this.onAllPress},Object(Ce.default)("All")),y.a.createElement($s.a,null),jpe.map((t,a)=>y.a.createElement(uc.a,{key:a,value:t,isSelected:-1!==e.indexOf(t),onSelect:this.onLogLevelSelect},Dpe(t)))))}}var Tpe=Ppe;const wpe=Object(he.a)(e=>e.ui.serverLogPage.logLevels,e=>({logLevels:e}));var Npe=Object(v.b)(wpe,(function(e,t){const{serverEntityID:a}=t;return{onResetLogLevels(){e(Yue({serverEntityID:a}))},onToggleLogLevel(t){e(que({serverEntityID:a,logLevel:t}))}}}))(Tpe);function xpe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-circle-backslash-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["g",void 0].concat([y.a.createElement.apply(y.a,["path",{d:"M280 518C148.56 518 42 411.44 42 280S148.56 42 280 42s238 106.56 238 238-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196S388.25 84 280 84 84 171.75 84 280s87.75 196 196 196"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"M157.246 125.568l277.186 277.186-31.678 31.678-277.186-277.186"}].concat([]))]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}xpe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Ape=xpe;function Lpe(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-timer-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M364 84h-56v29.99c1.22.173 2.437.36 3.653.558 8.207 1.334 16.33 3.195 24.298 5.567 8.232 2.452 16.3 5.45 24.137 8.966 9.732 4.368 19.104 9.535 27.995 15.428 9.163 6.073 17.813 12.915 25.836 20.428 8.158 7.64 15.666 15.974 22.414 24.884 6.66 8.792 12.578 18.144 17.668 27.928 4.312 8.29 8.03 16.89 11.11 25.713 3.058 8.765 5.487 17.747 7.264 26.856C474.794 282.723 476 295.36 476 308c0 8.956-.604 17.91-1.818 26.785-1.35 9.864-3.456 19.624-6.297 29.166-2.904 9.754-6.576 19.277-10.968 28.457-5.02 10.496-10.983 20.54-17.784 29.982-6.88 9.547-14.615 18.477-23.084 26.648-8.758 8.45-18.297 16.087-28.46 22.78-10.073 6.632-20.757 12.334-31.878 17-12.24 5.137-25.002 9.015-38.028 11.556-12.2 2.38-24.622 3.586-37.05 3.625-12.443.038-24.89-1.09-37.117-3.395-13.052-2.462-25.848-6.263-38.126-11.327-11.153-4.6-21.876-10.24-31.992-16.815-10.205-6.63-19.79-14.213-28.598-22.61-8.517-8.12-16.305-17.003-23.24-26.51-6.857-9.397-12.877-19.403-17.96-29.865-4.446-9.148-8.174-18.643-11.137-28.372-2.897-9.516-5.062-19.254-6.474-29.1C84.66 326.732 84 317.365 84 308c0-12.028 1.09-24.054 3.283-35.88 1.657-8.94 3.94-17.765 6.83-26.385 2.974-8.87 6.59-17.524 10.804-25.874 5.062-10.025 10.99-19.613 17.69-28.627 6.67-8.97 14.103-17.37 22.193-25.085 8.096-7.72 16.85-14.75 26.136-20.985 9.017-6.055 18.538-11.36 28.434-15.838 7.823-3.54 15.88-6.56 24.102-9.036 7.958-2.398 16.07-4.283 24.27-5.643 1.416-.235 2.836-.455 4.258-.658V84h-56V56h168v28m-83.5 70h-1c-2.815.014-5.627.094-8.436.254-5.51.315-11.005.924-16.45 1.827-12.92 2.144-25.556 5.957-37.505 11.32-7.786 3.493-15.277 7.64-22.376 12.374-6.938 4.628-13.5 9.82-19.604 15.502-6.326 5.89-12.16 12.307-17.42 19.166-5.18 6.754-9.802 13.936-13.8 21.452-3.513 6.607-6.542 13.47-9.052 20.52-2.385 6.7-4.3 13.568-5.727 20.535-2.09 10.21-3.13 20.63-3.13 31.05 0 7.212.496 14.425 1.497 21.568 1.06 7.573 2.69 15.067 4.872 22.397 2.276 7.648 5.156 15.117 8.6 22.316 4.013 8.388 8.79 16.407 14.247 23.935 5.436 7.5 11.547 14.508 18.23 20.92 7.247 6.95 15.167 13.195 23.617 18.615 7.583 4.864 15.592 9.06 23.91 12.522 9.61 4 19.63 7.01 29.854 8.97C260.436 461.085 270.218 462 280 462s19.564-.915 29.172-2.758c10.223-1.96 20.243-4.97 29.855-8.97 8.888-3.7 17.424-8.238 25.464-13.533 7.87-5.182 15.263-11.084 22.062-17.606 6.573-6.304 12.59-13.187 17.96-20.545 5.57-7.636 10.44-15.783 14.518-24.31 3.444-7.198 6.324-14.666 8.6-22.315 2.183-7.33 3.812-14.823 4.873-22.397 1-7.143 1.497-14.356 1.497-21.568 0-10.42-1.04-20.84-3.13-31.052-1.46-7.12-3.428-14.136-5.886-20.976-2.48-6.895-5.455-13.61-8.895-20.08-4.143-7.787-8.957-15.217-14.367-22.184-5.016-6.46-10.544-12.525-16.515-18.116-6.425-6.018-13.363-11.49-20.716-16.33-6.868-4.523-14.098-8.496-21.6-11.863-11.95-5.363-24.585-9.176-37.506-11.32-5.445-.902-10.94-1.51-16.45-1.826-2.81-.16-5.62-.24-8.435-.253M252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.77 0 66.27 14.115 89.078 36.922L252 336"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Lpe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var kpe=Lpe,Rpe=a("jy+L"),zpe=a.n(Rpe);class Upe extends g.Component{constructor(e,t){super(e,t),this.onTextFilterChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({filter:e},()=>{this._timeoutID=window.setTimeout(()=>{this._timeoutID=null,this.props.onTextFilterChange(this.state.filter)},200)})},this.state={filter:e.filter,filterFromStore:e.filter}}static getDerivedStateFromProps(e,t){return e.filter!==t.filterFromStore?{filter:e.filter,filterFromStore:e.filter}:null}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{filter:e}=this.state;return y.a.createElement(JJ.a,{className:zpe.a.input,size:cc.a,name:"filter",initialValue:e,value:e,placeholder:Object(Ce.default)("Filter logs"),onChange:this.onTextFilterChange})}}var Vpe=Upe,Bpe=a("wTIs"),Fpe=a.n(Bpe);class Hpe extends g.Component{constructor(e,t){super(e,t),this._flushValues=()=>{this._timeoutID=window.setTimeout(()=>{this._timeoutID=null,this.props.onTimeFilterChange(this.state.timeFilterStart,this.state.timeFilterEnd)},200)},this.onFilterStartChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterStart:e},this._flushValues)},this.onFilterEndChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterEnd:e},this._flushValues)},this.state={timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}}static getDerivedStateFromProps(e,t){return e.timeFilterStart!==t.timeFilterStartFromStore||e.timeFilterEnd!==t.timeFilterEndFromStore?{timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}:null}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{isTimeFilterStartValid:e,isTimeFilterEndValid:t}=this.props,{timeFilterStart:a,timeFilterEnd:n}=this.state;return y.a.createElement("div",{className:Fpe.a.container},y.a.createElement(JJ.a,{className:Fpe.a.input,size:cc.a,name:"timeFilterStart",hasError:!e,initialValue:a,value:a,placeholder:"Jun 15, 2018 09:00:00",onChange:this.onFilterStartChange}),y.a.createElement("span",{className:Fpe.a.separator},Object(Ce.default)("to")),y.a.createElement(JJ.a,{className:Fpe.a.input,size:cc.a,name:"timeFilterEnd",hasError:!t,initialValue:n,value:n,placeholder:"Jun 15, 2018 09:01:00",onChange:this.onFilterEndChange}))}}var _pe=Hpe,Wpe=a("Y103"),Qpe=a.n(Wpe);class Gpe extends g.Component{render(){const{filter:e,timeFilterStart:t,timeFilterEnd:a,isTimeFilterStartValid:n,isTimeFilterEndValid:i,showTimeFilter:r,showRawText:s,title:o,unfilteredLogLinesCount:l,logLines:c,onTextFilterChange:d,onTimeFilterChange:u,onToggleTimeFilter:p,onToggleRaw:m,onClearLog:h}=this.props,g=l-c.length;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Cpe,null,y.a.createElement(ik.a,null,o,y.a.createElement(Hi.b,null),Object(Ce.default)("Plex Media Server Logs"),g>0?y.a.createElement("span",{className:Qpe.a.controlsHiddenLinesCount},y.a.createElement(Hi.b,null),Object(Ce.default)("{hiddenLinesCount} items hidden by filters",{hiddenLinesCount:g})):null),y.a.createElement(WA,null,y.a.createElement(Npe,null),y.a.createElement(Vpe,{filter:e,onTextFilterChange:d}),y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Time Filter"),isSelected:r,onPress:p},y.a.createElement(kpe,null)),y.a.createElement(jI.a,{className:Qpe.a.rawButton,isSelected:s,onPress:m},Object(Ce.default)("Raw")),y.a.createElement(Mv.a,{tooltip:Object(Ce.default)("Clear Logs"),onPress:h},y.a.createElement(Ape,null)))),r?y.a.createElement(_pe,{timeFilterStart:t,timeFilterEnd:a,isTimeFilterStartValid:n,isTimeFilterEndValid:i,onTimeFilterChange:u}):null)}}var Kpe=Gpe;const Ype=Object(he.a)(e=>e.ui.serverLogPage,e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,isTimeFilterStartValid:e.isTimeFilterStartValid,isTimeFilterEndValid:e.isTimeFilterEndValid,showTimeFilter:e.showTimeFilter,showRawText:e.showRawText,logLines:e.logLines,unfilteredLogLinesCount:e.unfilteredLogLinesCount}));var qpe=Object(v.b)(Ype,(function(e,t){const{serverEntityID:a}=t;return{onTextFilterChange(t){Object(Dt.a)(()=>{e(Wue({serverEntityID:a,filter:t}))})},onTimeFilterChange(t,n){Object(Dt.a)(()=>{e(Que({serverEntityID:a,timeFilterStart:t,timeFilterEnd:n}))})},onToggleTimeFilter(){e(Jue({serverEntityID:a}))},onToggleRaw(){e($ue())},onClearLog(){e(Zue({serverEntityID:a}))}}}))(Kpe),Zpe=a("kJQh"),Xpe=a.n(Zpe);var Jpe=function(e){const{index:t,level:a,message:n,thread:i,time:r,isHighlighted:s,onLogLinePress:o}=e,l=Object(KO.a)(e),c=Object(g.useCallback)(e=>{o({index:t,time:r,thread:i,level:a,message:n})},[t,r,i,a,n,o]),d=function(e){return[Xpe.a.levelError,Xpe.a.levelWarning,Xpe.a.levelInfo,Xpe.a.levelDebug,Xpe.a.levelVerbose][e]||Xpe.a.levelUnknown}(a);return y.a.createElement("div",{style:l.style},y.a.createElement(jI.a,{className:Pe()(d,s&&Xpe.a.isHighlighted),tabIndex:t,onPress:c},y.a.createElement("span",{className:Xpe.a.fieldTime},r),y.a.createElement("span",{className:Xpe.a.fieldThread},"[",i,"]"),y.a.createElement("span",{className:Xpe.a.fieldMessage},n)))};var $pe=Object(v.b)((function(){return Object(he.a)(e=>e.ui.serverLogPage.highlightedLineIndex,(e,{index:t})=>t,(e,t)=>({isHighlighted:e===t}))}))(Jpe);var eme=function(e,t){const a=e.replace(new RegExp("\\s?"+Object(U.a)(t)),"").trim();return a.length?`${t} ${a}`:t},tme=a("OtNE"),ame=a.n(tme);function nme(e){return[ame.a.containerError,ame.a.containerWarning,ame.a.containerInfo,ame.a.containerDebug,ame.a.containerVerbose][e]||ame.a.containerUnknown}function ime(e){return[ame.a.levelError,ame.a.levelWarning,ame.a.levelInfo][e]}class rme extends g.Component{constructor(e,t){super(e,t),this.onClosePress=e=>{this.props.onClose()},this.onShowContextPress=e=>{this.props.onJumpToContext(Math.max(this.props.index-10,0))},this.onFilterFromPress=()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.time,timeFilterEnd:this.props.timeFilterEnd})},this.onFilterToPress=()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.timeFilterStart,timeFilterEnd:this.props.time})},this.onThreadPress=()=>{this.props.onTextFilterChange({filter:eme(this.props.filter,this.props.thread)})},this.onTimeMenuPress=()=>{this.setState({isTimeMenuOpen:!this.state.isTimeMenuOpen})},this.onTimeMenuClose=()=>{this.setState({isTimeMenuOpen:!1})},this.onKeyDown=e=>{e.keyCode===Tl.e&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())},this._timeMenuButtonID=Object(gf.a)(),this.state={isTimeMenuOpen:!1}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}render(){const{level:e,time:t,thread:a,message:n}=this.props,{isTimeMenuOpen:i}=this.state;return y.a.createElement(XD.a,{className:nme(e),autoScroll:!0},y.a.createElement(jI.a,{className:ame.a.closeButton,"aria-label":Object(Ce.default)("Close"),onPress:this.onClosePress},y.a.createElement(Ql.a,null)),y.a.createElement("p",null,y.a.createElement("span",{className:ame.a.label},Object(Ce.default)("Time")),y.a.createElement(jI.a,{kind:ao.d,id:this._timeMenuButtonID,onPress:this.onTimeMenuPress},t,y.a.createElement(oc.a,{kind:ao.d,direction:i?lc.c:lc.a})),y.a.createElement(Xs.a,{size:cc.a,isOpen:i,target:this._timeMenuButtonID,onMenuClose:this.onTimeMenuClose},y.a.createElement(Js.a,{onPress:this.onFilterFromPress},Object(Ce.default)("Filter from this time")),y.a.createElement(Js.a,{onPress:this.onFilterToPress},Object(Ce.default)("Filter to this time")))),y.a.createElement("p",null,y.a.createElement("span",{className:ame.a.label},Object(Ce.default)("Level")),y.a.createElement("span",{className:ime(e)},Dpe(e))),y.a.createElement("p",null,y.a.createElement("span",{className:ame.a.label},Object(Ce.default)("Thread")),y.a.createElement(jI.a,{kind:ao.d,onPress:this.onThreadPress},a)),y.a.createElement("p",null,y.a.createElement("span",{className:ame.a.label},Object(Ce.default)("Message")),n),y.a.createElement("div",{className:ame.a.action},y.a.createElement(Ih.a,{onPress:this.onShowContextPress},Object(Ce.default)("Clear Filters and Jump to Context"))))}}var sme=rme;class ome extends g.Component{shouldComponentUpdate(e){return e.filter!==this.props.filter||e.logLevels!==this.props.logLevels}render(){const{className:e,lines:t}=this.props;return y.a.createElement(XD.a,{className:e},y.a.createElement("pre",null,t.reduce((e,t)=>e+=`${t.time} [${t.thread}] ${Dpe(t.level)} — ${t.message}\n`,"")))}}var lme=ome,cme=a("6Nac"),dme=a.n(cme);const ume=Object(JZ.a)(26,10,{outerPaddingTop:10,outerPaddingBottom:10});function pme(e){return!!(e.filter||e.timeFilterStart||e.timeFilterEnd||e.logLevels.length)}class mme extends g.Component{constructor(e,t){super(e,t),this.onScroll=()=>{const e=this._scrollerRef.current;e.scrollTop+e.clientHeight>=e.scrollHeight?this.setState({isSticky:!0,scrollIndex:null}):e.scrollTop<this._lastScrollTop&&this.setState({isSticky:!1}),this._lastScrollTop=e.scrollTop},this.onJumpToContext=e=>{pme(this.props)?this.setState({isSticky:!1,scrollIndexAfterFilterChange:e,selectedLogLine:null},()=>{this.props.onClearFilter()}):this.setState({isSticky:!1,scrollIndex:e,selectedLogLine:null})},this.onTextFilterChange=(...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTextFilterChange(...e)},this.onTimeFilterChange=(...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTimeFilterChange(...e)},this.onLogLinePress=e=>{this.setState({selectedLogLine:e}),this.props.onHighlightLine(e)},this.onModalClose=e=>{this.setState({selectedLogLine:null})},this.onJumpToLatestPress=()=>{this.setState({isSticky:!0})},this.renderLogLine=e=>y.a.createElement($pe,{...e,onLogLinePress:this.onLogLinePress}),this.state={isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null},this._scrollerRef=y.a.createRef()}static getDerivedStateFromProps(e,t){return null==t.scrollIndexAfterFilterChange||pme(e)?e.showRawText&&(!t.isSticky||t.scrollIndex||t.selectedLogLine)?{isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null}:null:{isSticky:!1,scrollIndex:t.scrollIndexAfterFilterChange,scrollIndexAfterFilterChange:null}}render(){const{filter:e,timeFilterStart:t,timeFilterEnd:a,logLevels:n,showRawText:i,logLines:r}=this.props,{isSticky:s,scrollIndex:o,selectedLogLine:l}=this.state,c=!!l,d=c||i;return y.a.createElement(y.a.Fragment,null,i?y.a.createElement(lme,{className:dme.a.rawTextScroller,filter:e,logLevels:n,lines:r}):null,y.a.createElement(BO.a,{className:d?dme.a.hiddenPageContent:dme.a.pageContent,scrollerClassName:dme.a.pageContentScroller,smoothScroll:!1,keyPropName:"index",items:r,size:r.length,layout:ume,cellRenderer:this.renderLogLine,scrollIndex:s?r.length-1:o,ref:this._scrollerRef,onScroll:this.onScroll}),y.a.createElement(jI.a,{className:s?dme.a.jumpLinkHidden:dme.a.jumpLinkVisible,onPress:this.onJumpToLatestPress},Object(Ce.default)("Jump to latest")),c?y.a.createElement(sme,{...l,filter:e,timeFilterStart:t,timeFilterEnd:a,onJumpToContext:this.onJumpToContext,onTextFilterChange:this.onTextFilterChange,onTimeFilterChange:this.onTimeFilterChange,onClose:this.onModalClose}):null)}}var hme=mme;const gme=Object(he.a)(e=>e.ui.serverLogPage,e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,logLevels:e.logLevels,showRawText:e.showRawText,logLines:e.logLines}));var yme=Object(v.b)(gme,(function(e,t){const{serverEntityID:a}=t;return{onTextFilterChange(...t){e(Wue(...t))},onTimeFilterChange(...t){e(Que(...t))},onHighlightLine(t){e(epe(t))},onClearFilter(){e(Gue({serverEntityID:a}))}}}))(hme),fme=a("S686"),bme=a.n(fme);function vme(e){const t=e.dataTransfer.items,a=t[0];return""!==a.type||"file"!==a.kind?2:t.length>1?1:void 0}class Ime extends g.Component{constructor(e,t){super(e,t),this.onDragOver=e=>{this.setState({isDraggingFile:!0,fileDragError:vme(e)}),e.preventDefault()},this.onDragLeave=()=>{this.setState({isDraggingFile:!1,fileDragError:null})},this.onDrop=e=>{e.preventDefault();if(vme(e))return void this.setState({isDraggingFile:!1,fileDragError:null});this.setState({isDroppingFile:!0});const t=e.dataTransfer.files[0],a=new window.FileReader;a.onload=()=>{this.setState({title:t.name,isDraggingFile:!1,isDroppingFile:!1}),this.props.onDrop({result:a.result})},a.readAsText(t)},this.state={title:e.title,isDraggingFile:!1,isDroppingFile:!1,fileDragError:null}}render(){const{metricsPage:e,metricsPane:t}=this.props,{title:a,isDraggingFile:n,isDroppingFile:i,fileDragError:r}=this.state,s=n&&!i&&(1===r&&Object(Ce.default)("Only one file at a time")||2===r&&Object(Ce.default)("Only log files are allowed")||Object(Ce.default)("Load log file"));return y.a.createElement(UO.a,{metricsPage:e,metricsProperties:{pane:t},scrollDirection:iv.b,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},y.a.createElement(qpe,{title:a}),y.a.createElement(yme,null),n?y.a.createElement("div",{className:bme.a.dropFileOverlay},r?y.a.createElement(Ape,{className:bme.a.icon}):null,s,i?y.a.createElement(HO.a,null):null):null)}}var Sme=Ime;const Eme={dispatchClearLog:Zue,dispatchLoadLogFile:Xue};class Ome extends g.Component{constructor(e,t){super(e,t),this.onDrop=(...e)=>{this._stopServerEventManager(),this.props.dispatchLoadLogFile(...e)};const a=Object(E.c)("appModel");this._serverEventManager=new zue({name:"MediaServerLogEventManager",appModel:a,isValidServer:t=>t.entityID()===e.serverEntityID,supportsLongPolling:!1,ServerEventConnection:Epe,ServerRetryManager:Rue})}componentDidMount(){this.props.dispatchClearLog(),this._serverEventManager.start();Object(E.c)("appModel").get("servers").forEach(e=>{const t=e.get("isResolved");t&&this._serverEventManager.onServerResolvedChange(e,t)})}componentWillUnmount(){this._stopServerEventManager()}_stopServerEventManager(){this._isServerEventManagerStopped||(this._serverEventManager.stop(),this.props.dispatchClearLog(),this._isServerEventManagerStopped=!0)}render(){return y.a.createElement(Sme,{onDrop:this.onDrop,...this.props})}}var Mme=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),e=>({title:e.friendlyName}))}),Eme)(Ome);function Cme(e){return Object(he.a)(Object(RI.a)(),t=>{if(!t||!t.activeConnection)return null;const a=t.activeConnection.uri,n=t.accessToken?{"X-Plex-Token":t.accessToken}:{};return j.default.join([a,e],n)})}var jme=a("fxyv"),Dme=a("fhkX"),Pme=a.n(Dme);class Tme extends g.Component{static getDerivedStateFromProps(e,t){const a=e.isCleanBundlesInProgress!==t.isCleanBundlesInProgress,n=e.isOptimizeDatabaseInProgress!==t.isOptimizeDatabaseInProgress;if(!a&&!n)return null;const i={};return a&&(i.isCleanBundlesInProgress=e.isCleanBundlesInProgress,i.isCleanBundlesComplete=t.isCleanBundlesInProgress&&!e.isCleanBundlesInProgress),n&&(i.isOptimizeDatabaseInProgress=e.isOptimizeDatabaseInProgress,i.isOptimizeDatabaseComplete=t.isOptimizeDatabaseInProgress&&!e.isOptimizeDatabaseInProgress),i}constructor(e,t){super(e,t),this.state={isCleanBundlesInProgress:!1,isOptimizeDatabaseInProgress:!1,isCleanBundlesComplete:!1,isOptimizeDatabaseComplete:!1}}render(){const{machineIdentifier:e,downloadDatabasesUrl:t,downloadLogsUrl:a,cleanBundlesError:n,optimizeDatabaseError:i,isCleanBundlesInProgress:r,isOptimizeDatabaseInProgress:s,showDownloadDatabases:o,showDownloadLogs:l,onCleanBundlesPress:c,onOptimizeDatabasePress:d}=this.props,{isCleanBundlesComplete:u,isOptimizeDatabaseComplete:p}=this.state;return y.a.createElement("div",null,y.a.createElement("div",{className:Pme.a.troubleshootingSection},y.a.createElement("div",{className:Pme.a.buttonContainer},y.a.createElement(jme.a,{className:Pme.a.button,isSpinning:s,onPress:d},Object(Ce.default)("Optimize Database")),p&&!i?y.a.createElement("div",{className:Pme.a.buttonStatusSuccess},y.a.createElement(ns.a,null),y.a.createElement("div",{className:Pme.a.textStatus},Object(Ce.default)("Optimize database complete"))):null,p&&i?y.a.createElement("div",{className:Pme.a.buttonStatusError},y.a.createElement(Ql.a,null),y.a.createElement("div",{className:Pme.a.textStatus},i)):null),y.a.createElement("div",{className:Pme.a.description},Object(Ce.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."))),y.a.createElement("div",{className:Pme.a.troubleshootingSection},y.a.createElement("div",{className:Pme.a.buttonContainer},y.a.createElement(jme.a,{className:Pme.a.button,isSpinning:r,onPress:c},Object(Ce.default)("Clean Bundles")),u&&!n?y.a.createElement("div",{className:Pme.a.buttonStatusSuccess},y.a.createElement(ns.a,null),y.a.createElement("div",null,Object(Ce.default)("Bundles cleaned"))):null,u&&n?y.a.createElement("div",{className:Pme.a.buttonStatusError},y.a.createElement(Ql.a,null),y.a.createElement("div",null,n)):null),y.a.createElement("div",{className:Pme.a.description},y.a.createElement(LT.a,{className:Pme.a.description,message:Object(Ce.default)('Poster images and other metadata for items in your library are kept in "bundle" packages. When you remove items from your library, these bundles aren’t immediately removed. Removing them can reduce the size of your install. By default, your server will automatically clean up old bundles once a week as part of {openScheduledTass}Scheduled Tasks{closeScheduledTass}.'),tags:[{open:"openScheduledTass",close:"closeScheduledTass",component:jI.a,kind:ao.d,to:Object(lm.a)(e,"settings","butler")}]}))),l||o?y.a.createElement("div",{className:Pme.a.troubleshootingSection},y.a.createElement("div",{className:Pme.a.buttonContainer},l?y.a.createElement(Ih.a,{className:Pme.a.button,to:a,target:"_self"},Object(Ce.default)("Download Logs")):null,o?y.a.createElement(Ih.a,{className:Pme.a.button,to:t,target:"_self"},Object(Ce.default)("Download Database")):null),y.a.createElement("div",{className:Pme.a.description},Object(Ce.default)("The Plex Media Server logs and database can be helpful to developers and forum community members in diagnosing server issues."))):null,y.a.createElement("div",{className:Pme.a.description},y.a.createElement(LT.a,{className:Pme.a.description,message:Object(Ce.default)("You can find additional documentation, guides and FAQs as well as our friendly Community Forums among our {openSupportLink}support resources{closeSupportLink}."),tags:[{open:"openSupportLink",close:"closeSupportLink",component:jI.a,kind:ao.d,to:up.l,target:"_blank"}]})))}}var wme=Tme;const Nme={dispatchCleanBundles:OS.d,dispatchOptimizeDatabase:OS.h};class xme extends g.Component{constructor(){super(...arguments),this.onCleanBundlesPress=()=>{this.props.dispatchCleanBundles({serverEntityID:this.props.serverEntityID,hideAlerts:!0})},this.onOptimizeDatabasePress=()=>{this.props.dispatchOptimizeDatabase({serverEntityID:this.props.serverEntityID,hideAlerts:!0})}}render(){const{dispatchCleanBundles:e,dispatchOptimizeDatabase:t,...a}=this.props;return y.a.createElement(wme,{onCleanBundlesPress:this.onCleanBundlesPress,onOptimizeDatabasePress:this.onOptimizeDatabasePress,...a})}}var Ame=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),Cme("/diagnostics/databases"),Cme("/diagnostics/logs"),kI.a(),kI.c(),(e,t,a,n,i)=>{const r=e.diagnostics;return{machineIdentifier:e.machineIdentifier,downloadDatabasesUrl:t,downloadLogsUrl:a,cleanBundlesError:e.desktop.cleanBundlesError,optimizeDatabaseError:e.desktop.optimizeDatabaseError,isCleanBundlesInProgress:!!n,isOptimizeDatabaseInProgress:!!i,showDownloadDatabases:!(!t||!r||-1===r.indexOf("databases")),showDownloadLogs:!(!a||!r||-1===r.indexOf("logs"))}})}),Nme)(xme);function Lme(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-status-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m458.541 390l-71.708 143.416-2.724 4.438c-1.15 1.3-2.192 2.705-3.45 3.9-2.527 2.399-5.452 4.34-8.645 5.735-1.591.696-3.29 1.109-4.934 1.664-1.716.261-3.432.523-5.148.785-4.604-.104-5.84.169-10.313-1.132-3.345-.974-6.496-2.523-9.31-4.577-2.814-2.055-5.249-4.584-7.195-7.475-2.601-3.863-2.718-5.124-4.218-9.478l-96.634-386.535-86.172 229.793-2.235 4.682c-2.66 3.738-3.128 4.909-6.699 7.872-2.672 2.217-5.708 3.953-8.974 5.131-1.626.587-3.31 1.034-5.014 1.332-1.703.298-3.445.299-5.168.449l-120 0 0-60 99.21 0 112.7-300.534 2.359-4.891c1.068-1.462 2.007-3.027 3.203-4.386 2.401-2.73 5.278-5.001 8.491-6.702 3.213-1.701 6.708-2.804 10.315-3.255 3.608-.451 7.267-.243 10.8.615 1.759.427 3.486 1.016 5.14 1.754 3.32 1.48 6.343 3.552 8.923 6.114 2.579 2.562 4.672 5.571 6.175 8.881.748 1.648 1.192 3.419 1.788 5.128l100.331 401.324 43.732-87.464 2.448-4.059c2.706-3.207 3.231-4.214 6.646-6.719 2.557-1.874 5.394-3.331 8.407-4.318 1.501-.491 3.047-.865 4.607-1.114 1.56-.248 3.15-.249 4.725-.374l120 0 0 60-101.459 0"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Lme.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var kme=Lme;var Rme=function(e){const{isActive:t}=e;return t?y.a.createElement(kme,null):null};var zme=XE.a.extend({context:["server"],url:"/myplex/account",responseType:qP.a,sessionAttrs:{remoteAccessState:QE.a.oneOf("connecting","disconnecting","unreachable","ok","")},syncedAttrs:{username:QE.a.string,mappingState:QE.a.oneOf("unknown","waiting","failed","mapped"),mappingError:QE.a.oneOf("badauth","unreachable","myplexgone","publisherror","doublenat","jumboframes",""),signInState:QE.a.oneOf("none","unknown","invalid","ok"),publicAddress:QE.a.string,publicPort:QE.a.integer,privateAddress:QE.a.string,privatePort:QE.a.integer,subscriptionActive:QE.a.boolean,subscriptionState:QE.a.string},derivedAttrs:{signedIn(){return"ok"===this.get("signInState")},isWaiting(){const e=this.get("remoteAccessState");return"connecting"===e||"disconnecting"===e}},defaults:{signedIn:!1,mappingState:null,mappingError:null,signInState:null,publicAddress:null,publicPort:null,privateAddress:null,privatePort:null},isNew(){return!this.get("signedIn")},augmentResponse(e){let t=e.MyPlex;t||(C.a.warn("[Account] Failed to get reachable information for account - received "+JSON.stringify(e)),t={});const a="ok"===t.signInState;a||(t.username=null);const n=!a||t.mappingError,i=!n&&"mapped"===t.mappingState;return n?t.remoteAccessState="unreachable":i&&(t.remoteAccessState="ok"),t}}),Ume=a("DDT0"),Vme=a.n(Ume);const Bme={connecting:y.a.createElement(iH,{className:Vme.a.unknown}),disconnecting:y.a.createElement(iH,{className:Vme.a.unknown}),unreachable:y.a.createElement(Sh.a,{className:Vme.a.error}),ok:y.a.createElement(ns.a,{className:Vme.a.ok})};var Fme=function(e){const{remoteAccessState:t}=e;return Bme[t]||null},Hme=a("vd0/"),_me=a.n(Hme);var Wme=function(e){const{isClaimed:t}=e;return t?null:y.a.createElement(je.a,{className:_me.a.icon})};function Qme(e){return!e.isShared}function Gme(e){return!!e.desktop.isSettingsPopulated}function Kme(e,t){return t>0}function Yme(e){return e.desktop.backgroundTranscodeJobs.length>0}function qme(e){const t=e.desktop.cloudAccount;return t&&t.remoteAccessState}var Zme=[{key:"status",title:()=>Object(Ce.default)("Status"),isVisible:!0,metricsPage:It.sb,metricsPanePrefix:"",groups:[{key:"server-dashboard",title:()=>Object(Ce.default)("Dashboard"),isVisible:Qme,createStatusIndicator:(e,t)=>y.a.createElement(Rme,{isActive:Kme(0,t)})},{key:"alerts",title:()=>Object(Ce.default)("Alerts"),isVisible:Qme},{key:"sync",title:()=>Object(Ce.default)("Sync"),isVisible:function(e,t){return!function(e,t){return!!e.features.find(e=>e.uuid===t)}(t,ve.d)}},{key:"conversion",title:()=>Object(Ce.default)("Conversions"),isVisible:Qme,createStatusIndicator:e=>y.a.createElement(Rme,{isActive:Yme(e)})}]},{key:"settings",title:()=>Object(Ce.default)("Settings"),isVisible:Qme,metricsPage:It.kb,metricsPanePrefix:"server:",groups:[{key:"general",title:()=>Object(Ce.default)("General"),isVisible:Gme,createStatusIndicator:e=>y.a.createElement(Wme,{isClaimed:!!e.isClaimed})},{key:"remoteAccess",title:()=>Object(Ce.default)("Remote Access"),isVisible:e=>Gme(e),createStatusIndicator:e=>y.a.createElement(Fme,{remoteAccessState:qme(e)})},{key:"agents",title:()=>Object(Ce.default)("Agents"),isVisible:Gme},{key:"library",title:()=>Object(Ce.default)("Library")},{key:"channels",title:()=>Object(Ce.default)("Plugins"),isVisible:Gme},{key:"network",title:()=>Object(Ce.default)("Network")},{key:"transcoder",title:()=>Object(Ce.default)("Transcoder")},{key:"languages",title:()=>Object(Ce.default)("Languages"),isVisible:Gme},{key:"dlna",title:()=>Object(Ce.default)("DLNA")},{key:"butler",title:()=>Object(Ce.default)("Scheduled Tasks")},{key:"extras",title:()=>Object(Ce.default)("Extras")}]},{key:"manage",title:()=>Object(Ce.default)("Manage"),isVisible:!0,groups:[{key:"libraries",title:()=>Object(Ce.default)("Libraries"),isVisible:Qme,metricsPage:It.kb,metricsPane:"server:libraries",paneComponent:function({machineIdentifier:e,providerIdentifier:t}){const a=Object(v.d)(Qt(e,t)),n=Object(v.d)(Zt(e)),i=Object(v.d)(Wt(e,t)),r=Object(g.useMemo)(()=>a.filter(({key:e,hubKey:t,type:a})=>e&&t&&a),[a]),s=nre({server:n,provider:i}),o=Object(v.d)(are(n)),l=Object(g.useCallback)(()=>{s(OS.a({redirect:!1}))},[s]),c=Object(g.useCallback)(()=>{s(OS.n())},[s]),d=Object(g.useCallback)(()=>{s(OS.c())},[s]);return y.a.createElement($t,{machineIdentifier:e,providerIdentifier:t},y.a.createElement("div",{className:Mre.a.header},y.a.createElement("div",{className:Mre.a.libraryCount},1===r.length?Object(Ce.default)("1 library"):Object(Ce.default)("{1} libraries",r.length)),y.a.createElement(ba,{className:Mre.a.button,size:_e.Small,onPress:l},Object(Ce.default)("Add Library")),o?y.a.createElement(ba,{className:Mre.a.button,size:_e.Small,onPress:d},Object(Ce.default)("Cancel Scan")):y.a.createElement(ba,{className:Mre.a.button,size:_e.Small,onPress:c},Object(Ce.default)("Scan Library Files"))),r.map((e,t)=>y.a.createElement(Ere,{key:t,index:t,contentDirectory:e})))}},{key:"versions",title:()=>Object(Ce.default)("Optimized Versions"),isVisible:e=>Qme(e)&&Gme(e),metricsPage:It.sb,metricsPane:"versions"},{key:"dvr",title:()=>Object(Ce.default)("Live TV & DVR"),isVisible:e=>Qme(e)&&e.livetv>=1&&Gme(e),metricsPage:It.kb,metricsPane:"server:dvr",paneComponent:bue},{key:"help",title:()=>Object(Ce.default)("Troubleshooting"),isVisible:e=>Qme(e)&&Gme(e),metricsPage:It.kb,metricsPane:"server:help",paneComponent:Ame},{key:"console",title:()=>Object(Ce.default)("Console"),isVisible:e=>Qme(e)&&function(e){const t=e.diagnostics;return!(!t||-1===t.indexOf("streaminglogs"))}(e),metricsPage:It.kb,metricsPane:"server:console",pageComponent:Mme},{key:"plugins",title:()=>Object(Ce.default)("Plugins"),isVisible:function(e){return e.allowChannelAccess},metricsPage:It.kb,metricsPane:"server:plugins",paneComponent:Lue}]}];function Xme(){return Object(he.a)(Object(he.a)(Object(RI.a)(),e=>e?e.desktop.settings:[]),e=>e.reduce((e,t)=>(!t.group||e.includes(t.group)||t.hidden||e.push(t.group),e),[]))}function Jme(e,t,a){return!0===e||M.a.isFunction(e)&&e(t,a)}function $me(){return Object(he.a)(Object(RI.a)(),tre(),AU.a,Xme(),(e,t,a,n)=>!e||e.isUnavailable?[]:Zme.reduce((i,r)=>{if(!Jme(r.isVisible,e,a))return i;const s=r.groups.reduce((i,s)=>((Jme(s.isVisible,e,a)||!1!==s.isVisible&&n.includes(s.key))&&i.push({key:s.key,title:s.title(),statusIndicator:s.createStatusIndicator&&s.createStatusIndicator(e,t),pageComponent:s.pageComponent,paneComponent:s.paneComponent,route:Object(lm.a)(e.machineIdentifier,r.key,s.key)}),i),[]);return s.length>0&&i.push({key:r.key,title:r.title(),groups:s}),i},[]))}function ehe(e,t){const a=M.a.findWhere(Zme,{key:e}),n=M.a.findWhere(a.groups,{key:t});return n.metricsPage?{metricsPage:n.metricsPage,metricsPane:n.metricsPane}:{metricsPage:a.metricsPage,metricsPane:a.metricsPanePrefix+n.key}}function the(e,t){const{download:a,initialState:n,isChecking:i=!0}=t,r={download:a?"1":"0"},s=j.default.join("/updater/check",r),o=e.getXHROptions(s,{type:"PUT"}),l=e.get("desktop").get("update"),c={isChecking:i};null!=n&&(c.state=n),l.set(c),h.a.ajax(o).then(null,()=>{l.set({isChecking:!1,state:gpe})})}function ahe(e,t){const a=j.default.join(["/updater/apply"],t),n=e.getXHROptions(a,{type:"PUT"});return h.a.ajax(n)}function nhe(e){const t=e.get("desktop").get("update");ahe(e).then(()=>{t.set("state",ype),e.set("isInstallingServerUpdate",!0)},()=>{t.set("state",gpe),e.set("isInstallingServerUpdate",!1)})}function ihe(e,t,a,n){const i=e.get("deviceSettings").get("dismissedServerUpdateVersions");t(Object(ta.B)({dismissedServerUpdateVersions:{...i,[a.get("machineIdentifier")]:n}}))}const rhe=Object(yo.a)("serverUpdate/fetchServerUpdateStatus"),she=Object(yo.a)("serverUpdate/checkForServerUpdate"),ohe=Object(yo.a)("serverUpdate/dismissServerUpdate"),lhe=Object(yo.a)("serverUpdate/downloadServerUpdate"),che=Object(yo.a)("serverUpdate/installServerUpdate"),dhe={"serverUpdate/fetchServerUpdateStatus"(e,t){const a=Object(GI.m)(e,t),n=Object(GI.l)(e,t).get("update");a.get("isFullOwnedServer")&&a.get("updater")&&!a.get("isOutOfDate")&&!n.get("isChecking")&&(n.set({isChecking:!0}),n.fetch().then(()=>{const e=n.get("state");the(a,{isChecking:e===ppe||e===gpe||e===fpe})},()=>{n.set({isChecking:!1})}))},"serverUpdate/checkForServerUpdate"(e,t){const{download:a,initialState:n}=t;the(Object(GI.m)(e,t),{download:a,initialState:n})},"serverUpdate/dismissServerUpdate"(e,t,a){const n=Object(GI.m)(e,t);Object(GI.l)(e,t).get("update").get("canInstall")?ahe(n,{skip:1}).then(()=>{a(rhe(t))},()=>{ihe(e,a,n,t.version)}):ihe(e,a,n,t.version)},"serverUpdate/downloadServerUpdate"(e,t){the(Object(GI.m)(e,t),{download:!0,initialState:hpe})},"serverUpdate/installServerUpdate"(e,t){const a=Object(GI.m)(e,t);if(a.get("activeConnection").get("isLoopback"))nhe(a);else{const e=new zee.a({title:Object(Ce.default)("Remote Installation"),confirmLabel:Object(Ce.default)("Continue"),cancelLabel:Object(Ce.default)("Cancel"),message:Object(Ce.default)("The installer may display dialogs that require input. Make sure you have desktop access to the computer running Plex Media Server before continuing.")});$.a.trigger("show:modal",e),e.promise.then(()=>nhe(a))}}};var uhe=a("0rei"),phe=a("6ek3"),mhe=a.n(phe),hhe=p.a.ItemView.extend({tagName:"li",template:mhe.a,bindings:{a:{modelAttribute:"selected",manual:!0,formatter:function(e){this.$el.toggleClass("active",!!e)}}}}),ghe=lee.a.extend({tagName:"ul",className:"agents-nav nav nav-pills nav-pills-sm",itemView:hhe}),yhe=a("Dz/n"),fhe=a("wIEn"),bhe=a.n(fhe),vhe=Iie.a.extend({name:"agentInfoModal",className:"agent-info-modal modal fade",template:bhe.a,regions:{icon:".agent-icon-container"},serializeData:function(){return{agent:this.model.toJSON(),attribution:this.model.get("attribution").get("content")}},onRender:function(){Iie.a.prototype.onRender.apply(this,arguments),this.icon.show(new yhe.a({model:this.model,url:"/system/agents/attribution/image?identifier="+this.model.id,className:"agent-icon",width:100,height:100}))}}),Ihe=a("08Kf"),She=a.n(Ihe),Ehe=p.a.ItemView.extend({tagName:"li",className:"card card-sortable",template:She.a,events:{"change input[type=checkbox]":"onEnabledChange","click .settings-btn":"onSettingsClick","click .info-btn":"onInfoClick"},initialize:function(){this.attribution=this.model.get("attribution"),this.attribution.fetch()},bindings:{".info-btn":{model:"attribution",modelAttribute:"content",manual:!0,autohide:!0},".settings-btn":{modelAttribute:"hasPrefs",manual:!0,autohide:!0}},onEnabledChange:function(e){this.model.set("enabled",e.target.checked)},onSettingsClick:function(e){e.preventDefault();var t=new Z7.a([],{server:this.model.server,url:"/:/plugins/"+this.model.id+"/prefs"});t.fetch().done(M.a.bind((function(){$.a.trigger("show:modal",new jue({model:this.model,collection:t}))}),this))},onInfoClick:function(e){e.preventDefault(),$.a.trigger("show:modal",new vhe({model:this.model}))}}),Ohe=lee.a.extend({tagName:"ul",className:"list contributor-list",itemView:Ehe,events:{"change input[type=checkbox]":"save",update:"save"},save:function(){var e=[];this.$(":checked").each((function(t){e.push(this.name)})),this.trigger("save",e.join(","))},onRender:function(){this.sortable=new Iee.a(this.$el[0],{draggable:".card-sortable",animation:200})},onClose:function(){this.sortable.destroy()}}),Mhe=a("+E9k"),Che=a.n(Mhe),jhe=p.a.Layout.extend({template:Che.a,ui:{agentLabel:".agent-label",typeNavItems:".agent-types-nav li",agentNavItems:".agents-nav li"},regions:{agentsList:".agents-list-container",contributorsList:".contributors-list-container"},events:{"click .agent-types-nav a":"onAgentTypeClick","click .agents-nav a":"onAgentClick"},initialize:function(){this.bindAllWhenRendered("onAgentsReset","onContributorsReset"),this.agentTypes=[],this.agentTypes.push(Object(wo.getMetadataType)(wo.MOVIE)),this.agentTypes.push(Object(wo.getMetadataType)(wo.SHOW)),this.agentTypes.push(Object(wo.getMetadataType)(wo.ARTIST)),this.agentTypes.push(Object(wo.getMetadataType)(wo.ALBUM)),this.agentTypes.push(Object(wo.getMetadataType)(wo.PHOTO)),this.currentType=M.a.first(this.agentTypes),this.populateAgents()},serializeData:function(){return{currentType:this.currentType,agentTypes:this.agentTypes}},populateAgents:function(){var e=new uhe.a([],{server:this.model,mediaTypeID:this.currentType.id});e.populate({reset:!0}).then(()=>{var t=e.filter(e=>e.get("identifier")!==VI.g&&e.get("identifier")!==VI.f&&e.get("identifier")!==VI.i);this.agents=e.clone(t),this.onAgentsReset()})},selectAgent:function(e){this.currentAgent&&this.currentAgent.set("selected",!1),this.currentAgent=e,e.set("selected",!0),this.ui.agentLabel.text(e.get("name")),this.additionalAgents=new uhe.a([],{server:this.model,mediaTypeID:this.currentType.id,relatedAgentID:e.id}),this.contributors=new uhe.a([],{server:this.model,mediaTypeID:this.currentType.id,primaryAgentID:e.id}),this.contributorsList.show(new Ohe({collection:this.contributors})),this.listenTo(this.contributorsList.currentView,"save",this.onContributorsSave),this.populateContributors()},populateContributors:function(){var e=[];e.push(this.additionalAgents.populate({reset:!0})),e.push(this.contributors.populate({reset:!0})),h.a.when.apply(h.a,e).done(M.a.bind(this.onContributorsReset,this))},onAgentsReset:function(){if(this.agentsList.show(new ghe({collection:this.agents})),this.agents.length){var e=this.agents.findWhere({selected:!0})||this.agents.first();this.selectAgent(e)}},onContributorsReset:function(){var e=M.a.bind((function(e){return e.id===this.currentAgent.id?(e.set("isPrimary",!0),!0):!!this.contributors.get(e.id)}),this);this.contributors.reset(this.additionalAgents.filter(e))},onAgentTypeClick:function(e){e.preventDefault();var t=h()(e.currentTarget),a=t.data("type");this.currentType=Object(wo.getMetadataType)(a),this.populateAgents(),this.ui.typeNavItems.removeClass("active"),t.parent("li").addClass("active")},onAgentClick:function(e){e.preventDefault();var t=h()(e.target).data("identifier"),a=this.agents.get(t);a&&this.selectAgent(a)},onContributorsSave:function(e){this.currentAgent.url="system/agents/"+this.currentAgent.id+"/config/"+this.currentType.id,this.currentAgent.save({order:e}).done(M.a.bind((function(){this.additionalAgents.fetch({silent:!0}),this.contributors.fetch({silent:!0})}),this))}}),Dhe=a("NQww"),Phe=a.n(Dhe),The=p.a.Layout.extend({className:"form-group",template:Phe.a,isDisabled:!0,isActive:!1,ui:{submitBtn:".submit-btn",message:".form-message"},events:{"change #server-settings-form input[name]":"onInputChange","input #server-settings-form input[type=text]":"onInputChange","change #server-settings-form select[name]":"onInputChange","submit #server-settings-form":"onSubmit"},initialize:function(e){this.changes=e.changes},serializeData:function(){return M.a.where(this.collection.toJSON(),{group:this.options.group,hidden:!1})},enable:function(){this.isDisabled=!1,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},updateModel:function(e,t){var a=this.collection.get(e);if(a)return a.set("value",t)},onRender:function(){M.a.isEmpty(this.changes)||this.enable()},onInputChange:function(e){var t=e.currentTarget,a=t.name,n=t.value,i=t.value;a&&("checkbox"===t.type&&((i=t.checked)||(n="0")),this.updateModel(a,i)&&(this.changes[t.name]=n,this.enable()))},onSubmit:function(e){e.preventDefault(),this.trigger("save")},onBeforeSave:function(){this.isActive=!0,this.ui.submitBtn.addClass("active")},onAfterSave:function(e){this.isActive=!1,this.ui.submitBtn.removeClass("active"),e?(this.isDisabled=!0,this.ui.submitBtn.addClass("disabled"),this.ui.message.removeClass("has-error"),this.ui.message.text(Object(Ce.default)("Your changes have been saved."))):(this.ui.message.addClass("has-error"),this.ui.message.text(Object(Ce.default)("Your changes could not be saved.")))}}),whe=The.extend({prefix:"channel.",serializeData:function(){var e=The.prototype.serializeData.apply(this,arguments),t=this.options.channelSettings.toJSON();return M.a.each(t,(function(e){e.id=this.prefix+e.id}),this),e.unshift.apply(e,t),e},updateModel:function(e,t){var a=The.prototype.updateModel.apply(this,arguments);if(a)return a;var n=e.replace(this.prefix,""),i=this.options.channelSettings.get(n);return i?i.set("value",t):void 0}});var Nhe=function(){return Object(he.a)(Object(RI.a)(),e=>e?e.desktop.cloudAccount:null)};var xhe=function(){return Object(he.a)(Object(RI.a)(),Nhe(),(e,t)=>!!(e&&e.isClaimed&&t&&t.signedIn))};var Ahe=function(e){return e.ui.authCodeExchange};var Lhe=function(e){const t=e&&e.responseJSON,a=!t&&e&&e.responseText&&Rn.a.parseXML(e.responseText),n=t&&t.errors||a&&a.error;return n?Array.isArray(n)?n:[n]:[]};const khe="subscription";function Rhe(e,t){switch(t){case khe:switch(e){case"1003":return Object(Ce.default)("Subscriptions have been temporarily disabled: too many failed attempts. Please try again later.")}}switch(e){case"1001":return Object(Ce.default)("The username or password is incorrect");case"1003":return Object(Ce.default)("Sign in has been temporarily disabled: too many failed attempts. Please try again later.");case"1010-login":return Object(Ce.default)("Login is required");case"1010-password":return Object(Ce.default)("Password is required");case"1010-email":return Object(Ce.default)("Email is required");case"1011-username":return Object(Ce.default)("Username has already been taken");case"1011-email":return Object(Ce.default)("Email has already been taken");case"1028":return Object(Ce.default)("Invalid verification code");case"1029":return Object(Ce.default)("Please enter the verification code");case"1030":return Object(Ce.default)("This account only allows signing in with an email address");case"1031":return Object(Ce.default)("The username or password is incorrect. Repeated attempts may temporarily disable sign in.");case"1032-password":return Object(Ce.default)("Password must be at least 8 characters");case"1033-password":return Object(Ce.default)("Password is too weak");case"1034-password":return Object(Ce.default)("Password must be different from username or email address");case"1035-email":return Object(Ce.default)("Email is not a valid email address");case"1036-username":return Object(Ce.default)("Username must not be an email address");case"1037-username":return Object(Ce.default)("Username contains invalid characters");case"1038-pin":return Object(Ce.default)("Pin must be 4 digits");case"1039-passwordConfirmation":return Object(Ce.default)("Confirm Password must match Password");case"1040":case"1044":return Object(Ce.default)("Invalid Password")}}function zhe(e,t){if(!e)return;const a=String(e.code);return Rhe(`${e.code}-${e.field}`,t)||Rhe(a,t)||e.message||Object(Ce.default)("An unknown error occurred")}function Uhe(e){const t=e&&e[0];return t?M.a.isObject(t)?zhe(t):t:Object(Ce.default)("There was a problem signing in to Plex.")}var Vhe=function(e,t){const a=h.a.Deferred(),n=window.setTimeout(()=>{a.reject()},t);return e.then(a.resolve,a.reject).always(()=>{window.clearTimeout(n)}),a.promise()};function Bhe(e){return!!e.get("shortVersion")&&Object(oo.a)(e.get("shortVersion"),so.a.mediaProvidersServerRoot)}function Fhe(e,t){const a=e.get("cloudServer").get("resources"),n={clientIdentifier:t.get("machineIdentifier")};return function(e,t={}){let a=Math.floor(Math.max(t.times||0,0));const n=Math.floor(Math.max(t.delay||0,0));t.cancel&&t.cancel.always(()=>{a=-1});const i=h.a.Deferred();let r;return t.maxDuration&&(r=window.setTimeout(()=>{i.reject("maxDuration")},t.maxDuration)),function t(){a<0||e().done((function(){r&&window.clearTimeout(r),i.resolve(...arguments)})).fail((function(){a-=1,a<0?(r&&window.clearTimeout(r),i.reject(...arguments)):"pending"===i.state()&&window.setTimeout(t,n)}))}(),i.promise()}(()=>a.fetch().then(()=>a.findWhere(n)?h.a.Deferred().resolve().promise():h.a.Deferred().reject().promise()),{times:30,delay:1e3})}var Hhe=function(e,t,a,n){const i=e.get("user"),r=e.get("cloudServer");return i.get("anonymous")?h.a.Deferred().reject().promise():h.a.ajax(r.getXHROptions("/api/claim/token",{headers:{"X-Plex-Token":a}})).promise().then(e=>Rn.a.parseXML(e).token).then(e=>h.a.ajax(t.getXHROptions(j.default.join("/myplex/claim",{token:e}),{type:"POST"}))).then(()=>Fhe(e,t)).then(()=>{let e;return Bhe(t)&&(e=t.getXHROptions("/media/providers")),t.fetch(e)}).then(()=>function(e,t,a){const n=h.a.Deferred();return e.get("primaryServer")===t?n.resolve():(e.once("change:primaryServer",n.resolve),a()),Vhe(n.promise(),2e3)}(e,t,n)).then(()=>{const e=i.get("email"),a=t.get("desktop").get("cloudAccount");t.set({myPlexSigninState:zU.b,myPlexUsername:e}),a.set({signedIn:!0,username:e})})};var _he=function(e){return e.get("ui").get("authCodeExchange")};var Whe=function(e){return e.destroy({timeout:0}).promise().done(()=>{e.server.set({accessToken:void 0,myPlexSigninState:zU.a,myPlexSubscription:!1}),e.restoreDefaults()})};var Qhe=function(e){const t=e.get("cloudServer");return h.a.ajax(t.getXHROptions("/api/v2/pins",{method:"POST",dataType:"json",data:{strong:!0}})).then(e=>e)};const Ghe=Object(yo.a)("server/claim/claimServer"),Khe=Object(yo.a)("server/claim/signInThenClaimServer"),Yhe=Object(yo.a)("server/claim/signOutServer"),qhe=Object(yo.a)("server/claim/createPIN");function Zhe(e,t,a){const{authToken:n}=t,i=Object(GI.m)(e,t),r=_he(e);r.set({errorMessage:null,isBusy:!0});const s=Object(E.c)("metrics");return Hhe(e,i,n,()=>{a(Object(ta.s)({machineIdentifier:i.id,metricsProperties:{context:aS.SETTINGS}}))}).done(()=>{s.trackEvent({event:bD.a,interaction:!0})}).fail(()=>{s.trackEvent({event:bD.b,interaction:!1}),r.set({errorMessage:Object(Ce.default)("There was a problem claiming this server."),isBusy:!1})})}const Xhe={"server/claim/claimServer"(e,t,a){Zhe(e,t,a).then(()=>{_he(e).set({errorMessage:null,isBusy:!1})})},"server/claim/signInThenClaimServer"(e,t,a){(function(e,t){const a=e.get("user"),{authToken:n}=t;return h.a.ajax(a.server.getXHROptions(M.a.result(a,"url"),{headers:{"X-Plex-Token":n}})).then(e=>a.signIn(e,{}))})(e,t).then(()=>Zhe(e,t,a)).then(()=>{_he(e).set({errorMessage:null,isBusy:!1})}).fail(t=>{const a=Lhe(t);$.a.trigger("show:alert",{message:Uhe(a)});_he(e).set({errorMessage:Object(Ce.default)("There was a problem claiming this server."),isBusy:!1})})},"server/claim/signOutServer"(e,t,a){const n=Object(GI.m)(e,t).get("desktop").get("cloudAccount"),i=_he(e);i.set({errorMessage:null,isBusy:!0}),Whe(n).done(()=>{i.set({errorMessage:null,isBusy:!1})}).fail(()=>{i.set({errorMessage:Object(Ce.default)("There was a problem signing the server out."),isBusy:!1})})},"server/claim/createPIN"(e,t,a){const n=Qhe(e),i=_he(e);n.then(e=>{i.set({pinID:e.id,code:e.code,isBusy:!0})}),n.fail(()=>{i.set({fatalErrorMessage:Object(Ce.default)("An error occurred"),isBusy:!1})})}};var Jhe=a("AKFi"),$he=a.n(Jhe);var ege=function(e){const{serverEntityID:t,avatarUrl:a}=e;return y.a.createElement("div",{className:$he.a.avatar},a?null:y.a.createElement(je.a,{className:$he.a.icon}),y.a.createElement(Q0.a,{serverEntityID:t,url:a,width:60,height:60}))};const tge=Object(he.a)(AU.a,e=>({avatarUrl:e.isSignedIn?e.thumb:null}));var age=Object(v.b)(tge)(ege),nge=a("z9Hc"),ige=a.n(nge);var rge=function(e){const{isSigningOut:t,username:a,serverEntityID:n,onSignOutPress:i}=e;return y.a.createElement("div",{className:ige.a.container},y.a.createElement(age,{serverEntityID:n}),y.a.createElement("div",{className:ige.a.message},y.a.createElement("div",{className:ige.a.messageHeader},Object(Ce.default)("Server signed in as")),y.a.createElement("div",{className:ige.a.messageDetails},a)),y.a.createElement(bL.a,{className:ige.a.button,kind:ao.c,size:cc.b,isSpinning:t,onPress:i},Object(Ce.default)("Sign Out")))};const sge=Object(he.a)(Ahe,e=>e.isBusy);const oge={dispatchSignOutServer:Yhe};class lge extends g.Component{constructor(){super(...arguments),this.onSignOutPress=e=>{this.props.dispatchSignOutServer({serverEntityID:this.props.serverEntityID})}}render(){const{dispatchSignOutServer:e,...t}=this.props;return y.a.createElement(rge,{...t,onSignOutPress:this.onSignOutPress})}}var cge=Object(v.b)((function(){return Object(he.a)(sge,Object(he.a)(Nhe(),e=>e&&e.username||null),(e,t)=>({isSigningOut:e,username:t}))}),oge)(lge),dge=a("ApK9");var uge=function(){return window!==window.top};var pge=function(){return Object(dge.a)()||uge()},mge=a("aIE1"),hge=a.n(mge);var gge=function(e){return y.a.createElement(bL.a,{className:hge.a.button,kind:ao.c,size:cc.b,target:"_blank",...e},Object(Ce.default)("Claim Server"))};const yge=Object(he.a)(Object(kt.a)("authToken"),e=>({authToken:e})),fge={dispatchClaimServer:Ghe};class bge extends g.Component{constructor(){super(...arguments),this.onClaimServerPress=()=>{this.props.dispatchClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}}render(){const{isBusy:e,isDisabled:t}=this.props;return y.a.createElement(gge,{isSpinning:e,isDisabled:t,onPress:this.onClaimServerPress})}}var vge=Object(v.b)(yge,fge)(bge);var Ige=function(e,t){const a=e.get("cloudServer");return h.a.ajax(a.getXHROptions("/api/v2/pins/"+t,{dataType:"json"})).promise().then(e=>e)};var Sge=function(){return function(e,t,a){const{pinID:n}=t,i=_he(e);function r(){const t=i.get("pinID");n===t&&Ige(e,n).then(({authToken:e})=>{e?i.set({authToken:e}):s()}).fail(e=>{i.set({code:null,pinID:null,isBusy:!1,fatalErrorMessage:e&&404===e.status?null:Object(Ce.default)("An error occurred")})})}function s(){window.setTimeout(r,2e3)}s()}};const Ege=Object(yo.a)("user/authCodeExchange/readStoredPIN"),Oge=Object(yo.a)("user/authCodeExchange/preloadPIN"),Mge=Object(yo.a)("user/authCodeExchange/resetAuthCodeExchange"),Cge=Object(yo.a)("user/authCodeExchange/beginPolling"),jge=Object(yo.a)("user/authCodeExchange/stopPolling"),Dge=Object(yo.a)("user/authCodeExchange/skipSignIn");function Pge(e,t){const a=_he(e);return a.set({isBusy:!0}),Qhe(e).then(({id:e,code:n,expiresIn:i})=>{const r=window.setTimeout(()=>{t(jge())},1e3*i);a.set({code:n,pinID:e,pinTimeout:r,isBusy:!1})}).fail(()=>{a.set({fatalErrorMessage:Object(Ce.default)("An error occurred"),isBusy:!1})})}const Tge={"user/authCodeExchange/resetAuthCodeExchange"(e,t,a){const n=_he(e);Object(Dt.a)(()=>{n.set({code:null,pinID:null,authToken:null,errorMessage:null})})},"user/authCodeExchange/readStoredPIN"(e,t,a){const n=_he(e),i=n.get("pinIDInitial"),r=(i?h.a.Deferred().resolve(i).promise():h.a.Deferred().reject().promise()).then(()=>Ige(e,i).fail(()=>{n.set({errorMessage:Object(Ce.default)("There was an error signing in")})})).then(({authToken:e})=>e?h.a.Deferred().resolve(e).promise():(n.set({errorMessage:Object(Ce.default)("There was an error signing in")}),h.a.Deferred().reject().promise())).then(e=>{n.set({authToken:e})});t.shouldCreatePIN&&r.fail(()=>Pge(e,a))},"user/authCodeExchange/preloadPIN"(e,t,a){_he(e).set({isBusy:!0,code:null,pinID:null}),Pge(e,a)},"user/authCodeExchange/beginPolling":Sge(),"user/authCodeExchange/stopPolling"(e,t,a){const n=_he(e),i=n.get("pinTimeout");i&&window.clearTimeout(i),n.set({pinID:null,pinTimeout:null,code:null})},"user/authCodeExchange/skipSignIn"(e,t,a){e.set({skipSignIn:!0})}},wge={dispatchRedirectToUrl:HI.j};class Nge extends g.Component{componentDidMount(){const{to:e,replace:t}=this.props;this.props.dispatchRedirectToUrl({url:e,replace:t})}render(){return null}}Nge.propTypes={to:Qn.a.string.isRequired,replace:Qn.a.bool,dispatchRedirectToUrl:Qn.a.func.isRequired};var xge=Object(v.b)(null,wge)(Nge),Age=a("ffMF");var Lge=function e(t){return function(e,t=M.a.identity){return Object.keys(e).forEach(a=>{e[a]=t(e[a])}),e}(function(e,t=M.a.identity){return Object.keys(e).forEach(a=>{t(e[a])||delete e[a]}),e}(t),t=>M.a.isObject(t)?e(t):t)},kge=a("P24g");var Rge=function(e,t){const{base:a,searchParams:n,hashPath:i,hashParams:r}=G(e),s=Object(F.a)(r);return`${a}${n}#${i}?${Object(kge.a)({...s,...t})}`};function zge(e,t){let[,a]=e.match(/(^[^#]+)?/);return a=a||"",`${a}${t}`}var Uge=a("ZAgb");var Vge=function(){return Object(he.a)((e,{signUp:t})=>t,(e,{email:t})=>t,(e,{providerID:t})=>t,(e,{userAuthToken:t})=>t,(e,{code:t})=>t,(e,{pinID:t})=>t,(e,{errorMessage:t})=>t,e=>e.clientID,Ke,Age.a,(e,t,a,n,i,r,s,o,l,c)=>{const d=function(e){const{user:t,...a}=e.context||{};return Lge({...a})}(Object(E.c)("metrics").toJSON());if(e){const{base:e}=G(window.location.href),t={forwardUrl:e,twop:"1",context:d};return c&&(t.lang=c),l.anonymous&&(t.guestToken=l.authToken),j.default.join(["https://www.plex.tv","sign-up/"],t)}{const e={clientID:o,context:d};if(!pge()){const t=r?Rge(window.location.href,{pinID:r}):window.location.href;e.forwardUrl=t,Object(I.f)(Uge.a.location.pathname,{path:_k.a.serverSetup})&&(e.skipSignInUrl=zge(window.location.href,j.default.join(["#!/setup"],{forwardUrl:t})))}return i&&(e.code=i),a&&(e.provider=a),t&&(e.email=t),n&&(e.authToken=n),s&&(e.error=s),c&&(e.language=c),l.anonymous&&(e.guestToken=l.authToken),j.default.join(["https://app.plex.tv/auth",j.default.join(["#!/"],e)])}})};var Bge=Object(v.b)((function(){return Object(he.a)(Vge(),e=>({serviceAuthUrl:e}))}),{})((function(e){const{component:t,serviceAuthUrl:a,...n}=e;return y.a.createElement(t,{to:a,...n})}));const Fge={dispatchReadStoredPIN:Ege,dispatchCreatePIN:qhe,dispatchSignInThenClaimServer:Khe};class Hge extends g.Component{constructor(){super(...arguments),this.onClaimServerPress=()=>{this.props.dispatchCreatePIN()}}componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!1})}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}render(){const{isBusy:e,isDisabled:t,pinID:a,code:n}=this.props;return a?y.a.createElement(Bge,{component:xge,code:n,pinID:a}):y.a.createElement(gge,{isSpinning:e,isDisabled:t,onPress:this.onClaimServerPress})}}var _ge=Object(v.b)(Ahe,Fge)(Hge);const Wge={dispatchPreloadPIN:Oge,dispatchBeginPolling:Cge,dispatchStopPolling:jge,dispatchSignInThenClaimServer:Khe};class Qge extends g.Component{constructor(){super(...arguments),this.onClaimServerPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const{code:e,pinID:t,isBusy:a,isDisabled:n}=this.props;return!(a||this.props.code)?y.a.createElement(LT.a,{message:Object(Ce.default)("Server claiming timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:jI.a,kind:ao.d,onPress:this.onStillTherePress}]}):y.a.createElement(Bge,{component:gge,code:e,pinID:t,isSpinning:a,isDisabled:n||!t,onPress:this.onClaimServerPress})}}var Gge=Object(v.b)(Ahe,Wge)(Qge),Kge=a("9pnm"),Yge=a.n(Kge);var qge=function(e){const{serverEntityID:t,isBusy:a,isAnonymousUser:n,isUserRestricted:i,ClaimServerButtonConnectorComponent:r}=e;return y.a.createElement("div",{className:Yge.a.container},y.a.createElement(ege,{serverEntityID:t}),n?y.a.createElement("div",{className:Yge.a.message},y.a.createElement("div",{className:Yge.a.messageHeader},Object(Ce.default)("This server is unclaimed and not secure")),y.a.createElement("div",{className:Yge.a.messageDetails},Object(Ce.default)("You need to sign in to claim this server."))):null,i?y.a.createElement("div",{className:Yge.a.message},y.a.createElement("div",{className:Yge.a.messageHeader},Object(Ce.default)("This server is unclaimed and not secure")),y.a.createElement("div",{className:Yge.a.messageDetails},Object(Ce.default)("You are signed in as a managed user.")),y.a.createElement("div",{className:Yge.a.messageDetails},Object(Ce.default)("Switch to a full user account to claim this server."))):null,n||i?null:y.a.createElement("div",{className:Yge.a.message},y.a.createElement("div",{className:Yge.a.messageHeader},Object(Ce.default)("This server is unclaimed and not secure")),y.a.createElement("div",{className:Yge.a.messageDetails},Object(Ce.default)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe."))),y.a.createElement(r,{serverEntityID:t,isBusy:a,isDisabled:n||i}))};const Zge={dispatchClaimServer:Ghe},Xge={SIGNED_IN_BUTTON:vge,SIGNED_OUT_POLL_BUTTON:Gge,SIGNED_OUT_LAUNCH_BUTTON:_ge};class Jge extends g.Component{render(){const{serverEntityID:e,componentType:t,isBusy:a,isAnonymousUser:n,isUserRestricted:i}=this.props;return y.a.createElement(qge,{serverEntityID:e,isBusy:a,isAnonymousUser:n,isUserRestricted:i,ClaimServerButtonConnectorComponent:Xge[t]})}}var $ge=Object(v.b)((function(){return Object(he.a)(Ahe,Ot.a,Object(kt.a)("isSignedIn"),Object(kt.a)("restricted"),(e,t,a,n)=>{let i;return i=a?"SIGNED_IN_BUTTON":pge()?"SIGNED_OUT_POLL_BUTTON":"SIGNED_OUT_LAUNCH_BUTTON",{componentType:i,isUserRestricted:!!n,isAnonymousUser:t,...e}})}),Zge)(Jge);var eye=Object(v.b)((function(){return Object(he.a)(xhe(),e=>({isServerClaimed:e}))}))((function(e){const{isServerClaimed:t,...a}=e;return t?y.a.createElement(cge,{...a}):y.a.createElement($ge,{...a})}));var tye=oee.extend({template:()=>"",mountReact(){const e=Object(E.c)("appStore"),t=this.model.entityID();b.a.render(y.a.createElement(v.a,{store:e},y.a.createElement(eye,{serverEntityID:t})),this.el)}}),aye=a("IRZJ"),nye=a("o8wu"),iye=a.n(nye);function rye(e){return e?e.split("\n"):[]}var sye=Iie.a.extend({name:"releaseNotesModal",template:iye.a,serializeData:function(){var e=this.model.toJSON();return e.escapedVersion=M.a.escape(e.version.replace(/-.*/gi,"")),e.added=rye(e.added),e.fixed=rye(e.fixed),e}}),oye=a("Ynln"),lye=a.n(oye);const cye={...s,CHECKING:"checking"};var dye=p.a.ItemView.extend({tagName:"span",className:"check-for-updates-container",template:lye.a,ui:{checkForUpdatesBtn:".check-for-updates-btn",downloadUpdatesContainer:".downloading-updates-container",downloadProgressContainer:".downloading-progress-container",downloadProgressLabel:".downloading-progress-label",updateProgressLabel:".downloading-updates-label",updateErrorMessage:".update-error-message",installManualLink:".install-manual-link"},modelEvents:{"change:isChecking":"onIsCheckingChange","change:state":"onStateChange","change:progress":"onProgressChange"},events:{"click .check-for-updates-btn":"onCheckForUpdatesClick","click .available-updates-btn":"onDownloadUpdatesClick","click .install-updates-btn":"onInstallUpdatesClick","click .install-manual-link":"onInstallManualClick","click .release-notes-btn":"onInfoClick"},initialize:function(){E.c("appStore").dispatch(rhe({serverEntityID:this.model.server.entityID()}))},serializeData:function(){return{canCheckForUpdate:this.canCheckForUpdate(this.model)}},checkForUpdates:function(e={}){E.c("appStore").dispatch(she({serverEntityID:this.model.server.entityID(),download:e.download,initialState:e.initialState}))},dismissUpdates:function(){E.c("appStore").dispatch(ohe({serverEntityID:this.model.server.entityID(),version:Object(aye.a)(this.model.get("version"))}))},downloadUpdates:function(){E.c("appStore").dispatch(lhe({serverEntityID:this.model.server.entityID()}))},installUpdates:function(){E.c("appStore").dispatch(che({serverEntityID:this.model.server.entityID()}))},waitForInstall:function(){this.onWaitingForInstallCheck(),this.listenTo(this.model.server,"change:isConnected",this.onServerConnectedChange)},setCurrentViewState:function(e){this.$el.removeClass(this.currentViewState),this.currentViewState=e,this.$el.addClass(this.currentViewState)},showUpdateState:function(){var e=this.model.get("state");this.model.previous("state")===ype&&this.stopListening(this.model.server,"change:isConnected",this.onServerConnectedChange);var t=e;this.model.get("canInstall")||e!==upe?this.model.get("isChecking")&&(t=cye.CHECKING):t=cye.NOTIFY,this.setCurrentViewState(t);var a=!(!this.model.get("added")&&!this.model.get("fixed"));if(this.$el.toggleClass("has-release-notes",a),t===cye.INSTALLING)this.waitForInstall();else if(t===cye.ERROR||t===cye.NOTIFY){var n;this.model.get("error")?(n=this.model.get("error"),this.ui.installManualLink.addClass("hidden")):this.model.get("canInstall")?(n=Object(Ce.default)("Something went wrong."),this.ui.installManualLink.removeClass("hidden")):(n=Object(Ce.default)("An update is available."),this.ui.installManualLink.removeClass("hidden"));var i=E.c("appModel").get("user").server,r=this.model.get("downloadURL")||i.get("appsUrl");this.ui.installManualLink.attr("href",r),this.ui.updateErrorMessage.text(n)}},canCheckForUpdate:function(e){const t=e.get("state");return!e.get("isChecking")&&(t===ppe||t===gpe||t===fpe)},onViewStateChange:function(e){this.isRendered&&(this.showUpdateState(),this.ui.checkForUpdatesBtn.toggleClass("active",!this.canCheckForUpdate(e)))},onRender:function(){this.showUpdateState()},onIsCheckingChange:function(e){this.onViewStateChange(e)},onStateChange:function(e){this.onViewStateChange(e)},onProgressChange:function(e,t){M.a.isNumber(t)?(this.ui.downloadUpdatesContainer.css({"background-size":t+"% 100%"}),this.ui.downloadProgressContainer.removeClass("hidden"),this.ui.downloadProgressLabel.text(t)):this.ui.downloadProgressContainer.addClass("hidden")},onServerConnectedChange:function(e,t){t?this.checkForUpdates():this._waitingTimeoutID&&(this._waitingTimeoutID=window.clearTimeout(this._waitingTimeoutID))},onWaitingForInstallCheck:function(){var e=this.model.server;if(e.get("isConnected")&&this.model.get("state")===ype){var t=e.getXHROptions("/updater/check",{type:"PUT"});h.a.ajax(t).promise().always(()=>{this._waitingTimeoutID=window.setTimeout(this.onWaitingForInstallCheck.bind(this),2e3)})}},onCheckForUpdatesClick:function(e){e.preventDefault(),this.ui.checkForUpdatesBtn.isDisabled()||(this.ui.checkForUpdatesBtn.addClass("active"),this.checkForUpdates({download:!0}))},onDownloadUpdatesClick:function(e){e.preventDefault(),this.downloadUpdates()},onInstallUpdatesClick:function(e){e.preventDefault(),this.installUpdates()},onInstallManualClick:function(){this.dismissUpdates()},onInfoClick:function(e){e.preventDefault(),$.a.trigger("show:modal",new sye({model:this.model}))}}),uye=a("YWAx"),pye=a.n(uye),mye=The.extend({template:pye.a,regions:{signIn:".sign-in-region",update:".update-region"},serializeData:function(){var e=The.prototype.serializeData.apply(this,arguments),t=M.a.findWhere(e,{id:"FriendlyName"});return t&&(t.placeholder=this.model.get("friendlyName")),e},bindings:{".version":{modelAttribute:"shortVersion",formatter:function(e){return Object(Ce.default)("Version {1}",e)}}},onRender:function(){The.prototype.onRender.apply(this,arguments),this.signIn.show(new tye({model:this.model})),this.model.get("updater")&&this.update.show(new dye({model:this.model.get("desktop").get("update"),collection:this.collection}))}});var hye=The.extend({prefix:"account.",serializeData:function(){const e=this.options.account,t=[],a=$J.d.map(e=>({value:e,label:$J.b[e]}));return t.push({id:this.prefix+"autoSelectAudio",label:Object(Ce.default)("Automatically select audio and subtitle tracks"),summary:Object(Ce.default)("Automatically select audio and subtitle tracks in your preferred language when possible."),default:!1,value:e.get("autoSelectAudio"),type:"bool",group:"account.language",advanced:!1,hidden:!1}),t.push({id:this.prefix+"defaultAudioLanguage",label:Object(Ce.default)("Prefer audio tracks in"),default:"en",value:e.get("defaultAudioLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:a}),t.push({id:this.prefix+"subtitleMode",label:Object(Ce.default)("Subtitle mode"),default:1,value:parseInt(e.get("subtitleMode"),10),type:"int",group:"account.language",advanced:!1,hidden:!1,enumValues:[{value:0,label:Object(Ce.default)("Manually selected")},{value:1,label:Object(Ce.default)("Shown with foreign audio")},{value:2,label:Object(Ce.default)("Always enabled")}]}),t.push({id:this.prefix+"defaultSubtitleLanguage",label:Object(Ce.default)("Prefer subtitles in"),default:"en",value:e.get("defaultSubtitleLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:a}),t},updateModel:function(e,t){const a=The.prototype.updateModel.apply(this,arguments);if(a)return a;const n=e.replace(this.prefix,""),i=this.options.account;return i.has(n)?i.set(n,t):void 0}}),gye=a("Xznh"),yye=a.n(gye),fye=The.extend({className:"remote-access-container",template:yye.a,ui:{manualPortMappingMode:"#ManualPortMappingMode",manualPortMappingPort:"#ManualPortMappingPort",wanTotalMaxUploadRate:"#WanTotalMaxUploadRate",uploadContainer:".remote-access-upload-container",submitBtn:".submit-btn",message:".form-message"},events:{"change .remote-access-error-container input[id]":"onErrorInputChange","click .sign-in-link":"onSignInClick","click .remote-access-enable-btn":"onEnableClick","click .retry-btn":"onRetryClick","click .remote-access-disable-btn":"onDisableClick","change input[name=WanTotalMaxUploadRate]":"onTotalRateChange","keyup input[name=WanTotalMaxUploadRate]":"onTotalRateChange","change select[name=WanPerStreamMaxUploadRate]":"onPerStreamRateChange","submit #remote-access-upload-form":"onUploadFormSubmit"},initialize:function(e){this.cloudAccount=e.cloudAccount,this.changes=e.changes,this.listenTo(this.cloudAccount,{"change:signInState":this.render,"change:remoteAccessState":this.render})},serializeData:function(){var e=this.collection.get("PublishServerOnPlexOnlineKey"),t=this.collection.get("ManualPortMappingMode"),a=this.collection.get("ManualPortMappingPort"),n=this.collection.get("WanTotalMaxUploadRate"),i=this.collection.get("WanPerStreamMaxUploadRate"),r=this.cloudAccount.toJSON(),s=!e.get("value"),o=!r.signedIn,l=s||o;const c=!(!r.privateAddress||null==r.privatePort),d=!(!r.publicAddress||null==r.publicPort);var u={forceAdvanced:!s&&!!r.mappingError,isDisabled:s,isSignedOut:o,isUnavailable:l,canEditPort:!l&&t&&t.get("value"),hasPrivateAddress:c,hasPublicAddress:d,cloudAccount:r,hasMappingSettings:!(!t||!a),hasUploadLimitSettings:!(!n||!i),mappingModeSetting:t?t.toJSON():null,mappingPortSetting:a?a.toJSON():null,uploadSettings:[]};return n&&(u.totalRateSettingID=n.id,u.totalRateSettingValue=n.get("value")/1e3),i&&u.uploadSettings.push(i.toJSON()),u},enable:function(){},enableUploadForm:function(){this.isDisabled=!1,this.ui.message.text(""),this.ui.message.removeClass("has-error"),this.ui.submitBtn.removeClass("disabled")},updateUploadSetting:function(e,t){e&&(this.updateModel(e,t)&&(this.changes[e]=t,this.enable()))},connect:function(){return See.a.execute("connectServer",{cloudAccount:this.cloudAccount,value:!0})},disconnect:function(){return See.a.execute("connectServer",{cloudAccount:this.cloudAccount,value:!1})},reconnect:function(){return See.a.execute("reconnectServer",{cloudAccount:this.cloudAccount})},saveChanges:function(){if(M.a.isEmpty(this.changes))return h.a.Deferred().resolve().promise();var e=this.collection.first().save(this.changes);return e.done(M.a.bind((function(){this.changes={}}),this)),e},onErrorInputChange:function(e){The.prototype.onInputChange.apply(this,arguments),this.ui.manualPortMappingPort.prop("disabled",!this.ui.manualPortMappingMode.prop("checked"))},onSignInClick:function(e){e.preventDefault(),Object(see.a)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"settings",settingsGroup:"general"})},onEnableClick:function(e){e.preventDefault(),this.connect()},onDisableClick:function(e){e.preventDefault(),this.disconnect()},onRetryClick:function(e){e.preventDefault(),this.cloudAccount.set("remoteAccessState","connecting"),this.saveChanges().always(M.a.bind(this.reconnect,this))},onTotalRateChange:function(e){var t=e.currentTarget,a=parseFloat(t.value,10),n=M.a.isNaN(a)?0:Math.max(a,0);this.updateUploadSetting(t.name,1e3*n),this.enableUploadForm()},onPerStreamRateChange:function(e){var t=e.currentTarget;this.updateUploadSetting(t.name,t.value),this.enableUploadForm()},onUploadFormSubmit:function(e){e.preventDefault(),this.trigger("save");var t=this.collection.get("WanTotalMaxUploadRate").get("value"),a=!t;this.ui.wanTotalMaxUploadRate.val(t/1e3),this.ui.uploadContainer.toggleClass("show-warning",a)}}),bye=a("Pfwo"),vye=a.n(bye),Iye=p.a.ItemView.extend({className:"loading",template:vye.a,initialize:function(e){e&&e.inline&&this.$el.addClass("loading-inline")}}),Sye=a("apI8"),Eye=a.n(Sye),Oye=p.a.ItemView.extend({template:Eye.a}),Mye=a("pNb9"),Cye={PENDING:"pending",FAILED:"failed",COMPLETE:"complete",failureCodes:{INVALID_PATH:"invalidPath",DISK_FULL:"diskFull",DISK_UNWRITABLE:"diskUnwritable"}},jye=a("fLiA");var Dye=yhe.a.extend({background:!0,setup:function(e){this.model=e.model,e.noPlaceholder||(this.placeholderClass=Oee.a.playlist);const t=Object(jye.a)(),a={width:Math.round((e.width||e.height||256)*t),height:Math.round((e.height||e.width||256)*t),rows:e.rows||2,cols:e.columns||2,border:e.border||0,media:e.media||"thumb",repeat:e.unique?0:1},n=this.model.get("composite");n&&(this.url=this.model.server.resolveUrl(j.default.join(n,a),{appendToken:!0}))}}),Pye=a("XmHA");const Tye=["Bytes","KB","MB","GB","TB"];var wye=function(e,t){if(e=parseInt(e,10),t=t||1,M.a.isNaN(e))return"";if(0===e)return"0 Bytes";const a=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,a)).toFixed(t)+" "+Tye[a]},Nye={PENDING:"pending",ERROR:"error",PROCESSED:"processed",contexts:{OK:"ok",FILE_UNAVAILABLE:"sourceFileUnavailable",METADATA_ERROR:"sourceFileMetadataError",PROFILE_ERROR:"clientProfileError",IO_ERROR:"ioError",TRANSCODER_ERROR:"transcoderError",UNKNOWN_ERROR:"unknownError",ANALYSIS_ERROR:"mediaAnalysisError",DOWNLOAD_FAILED:"downloadFailed",CANNOT_TRANSCODE:"cannotTranscode"}},xye=a("ngbI"),Aye=a.n(xye),Lye=p.a.Layout.extend({tagName:"li",className:"striped-list-item version-generator-metadata-list-item",template:Aye.a,ui:{poster:".media-poster"},regions:{statusRegion:".conversion-status-region"},events:{"click .enable-btn":"onEnableClick","click .retry-btn":"onRetryClick"},modelEvents:{"change:processingState":"onProcessingStateChange"},initialize:function(e){this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.type=this.model.get("type"),this.image=new Mee.a({model:this.model,type:"movie",height:60,modelAttribute:"episode"===this.type?"grandparentThumb":"thumb"})},bindings:{".generator-metadata-title":{modelAttribute:"title",formatter:function(e){return this.model.get("grandparentTitle")||this.model.get("parentTitle")||e}},".generator-metadata-episode-index":{modelAttribute:"index",autohide:!0,formatter:function(e){if("episode"===this.type)return Object(Gr.a)({seasonIndex:this.model.get("parentIndex"),episodeIndex:e,date:this.model.get("originallyAvailableAt"),noLeadingZero:!0,separator:" · "})}},".generator-metadata-year":{modelAttribute:"year",autohide:!0,formatter:function(e){if("movie"===this.type)return e}},".conversion-status-failed-message":{modelAttribute:"processingStateContext",formatter:function(e){return this.getErrorMessage(e)}}},getErrorMessage:function(e){var t=Nye.contexts;switch(e){case t.FILE_UNAVAILABLE:return Object(Ce.default)("File unavailable");case t.METADATA_ERROR:return Object(Ce.default)("Invalid metadata");case t.PROFILE_ERROR:return Object(Ce.default)("Invalid profile");case t.ANALYSIS_ERROR:return Object(Ce.default)("Unable to analyze")}return Object(Ce.default)("Unable to convert")},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new Aee({model:this.model,generator:this.generator,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting,initialState:this.model.get("processingState"),initialErrorMessage:this.getErrorMessage(this.model.get("processingStateContext"))}))},onClose:function(){this.image.close()},onProcessingStateChange:function(e,t){this.statusRegion.currentView&&this.statusRegion.currentView.enterState(t)},onEnableClick:function(e){e.preventDefault(),See.a.execute("enableVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})},onRetryClick:function(e){e.preventDefault(),See.a.execute("reprocessVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})}}),kye=lee.a.extend({tagName:"ul",className:"list version-generator-metadata-list",itemView:Lye}),Rye=a("5+Nd"),zye=a.n(Rye),Uye=Iie.a.extend({mixins:[te.a],name:"versionGeneratorMetadataModal",className:"version-generator-metadata-modal modal fade",template:zye.a,pageSize:20,scrollThreshold:50,ui:{body:".modal-body",loading:".loading",errorMessage:".error-message"},regions:{listRegion:".list-region"},initialize:function(e){this.status=this.model.get("status"),this.listModel=e.listModel,this.collection=this.listModel.get("metadataItems"),this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.handleScroll=M.a.throttle(this.whenRendered(this.onScroll),100)},states:{base:{},loading:{onEnter:function(){this.ui.loading.removeClass("hidden")},onExit:function(){this.ui.loading.addClass("hidden")}},error:{onEnter:function(){this.ui.errorMessage.removeClass("hidden")},onExit:function(){this.ui.errorMessage.addClass("hidden")}}},bindings:{".generator-title":{modelAttribute:"title"},".generator-items-count":{model:"status",modelAttribute:"itemsCount",formatter:function(e){return 1===e?Object(Ce.default)("{1} item",e):Object(Ce.default)("{1} items",e)}},".generator-total-size":{model:"status",modelAttribute:"totalSize",formatter:function(e){return e?wye(e):Object(Ce.default)("0 files")}},".generator-failure-container":{model:"status",modelAttribute:"failure",manual:!0,autohide:function(e){return!!e}},".generator-failure-message":{model:"status",modelAttribute:"failure",formatter:function(e){return e}}},populatePage:function(){this.enterState("loading");var e=this.listModel.populateRange({start:0,end:this.listModel.get("populatedRange").end+this.pageSize});return e.done(this.whenRendered((function(){this.enterState("base")}))),e.fail(this.whenRendered((function(){this.enterState("error")}))),e},onRender:function(){Iie.a.prototype.onRender.apply(this,arguments),this.ui.body.on("scroll",this.handleScroll),this.model.fetch(),this.populatePage(),this.listRegion.show(new kye({collection:this.collection,itemViewOptions:{generator:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onClose:function(){this.ui.body.off("scroll",this.handleScroll),this.collection.reset()},onScroll:function(){"error"!==this.currentState&&(this.ui.body.prop("scrollHeight")-this.ui.body.innerHeight()-this.ui.body.scrollTop()<this.scrollThreshold&&this.listModel.get("populatedRange").end<this.listModel.get("totalSize")&&this.populatePage())}}),Vye=a("9jA7"),Bye=a.n(Vye),Fye=p.a.ItemView.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:Bye.a,ui:{poster:".media-poster",status:".generator-status"},events:{"click .playlist-inner-item":"onClick","click .retry-btn":"onRetryClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},attributes:function(){return{"data-generator-id":this.model.id}},initialize:function(e){this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.status=this.model.get("status");this.compositeImage=new Dye({model:this.model,width:Mye.a.getPosterWidth("movie",60),height:60,rows:1,columns:1}),this.listenTo(this.transcodeJobs,"reset add remove",this.onTranscodeJobsChange)},resetState:function(){var e=["converting",Cye.PENDING,Cye.COMPLETE,Cye.FAILED];this.ui.status.removeClass(e.join(" "))},getState:function(e){return this.transcodeJobs.findWhere({generatorID:this.model.id})?"converting":e.get("itemsFailedCount")>0?Cye.FAILED:e.get("state")},bindings:{".generator-title":{modelAttribute:"title"},".generator-target":{modelAttribute:"target"},".generator-status":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,formatter:function(e,t){this.resetState(),t.addClass(this.getState(this.status))}},".generator-status-failed-message":{model:"status",modelAttribute:"itemsFailedCount",formatter:function(e){return 1===e?Object(Ce.default)("1 failed item"):Object(Ce.default)("{1} failed items",e)}},".retry-btn":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,autohide:function(e){return this.getState(this.status)===Cye.FAILED}}},onRender:function(){this.compositeImage.setElement(this.ui.poster)},onClose:function(){this.compositeImage.close()},onTranscodeJobsChange:function(){var e=this.getState(this.status);this.resetState(),this.ui.status.addClass(e)},onClick:function(e){e.preventDefault(),$.a.trigger("show:modal",new Uye({model:this.model,listModel:this.model.get("children"),transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onRetryClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),See.a.execute("reprocessVersionGenerator",{generator:this.model})},onEditClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),$.a.trigger("show:modal",new Pye.a({model:this.model}))},onDeleteClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),See.a.execute("deleteVersionGenerator",{generator:this.model})}}),Hye=lee.a.extend({tagName:"ol",className:"list media-list playlist-items",itemView:Fye,emptyView:Oye,sorted:!0,onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new Iee.a(this.el,{onUpdate:M.a.bind(this.onItemMove,this),handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2})},onClose:function(){this.sortable&&this.sortable.destroy()},onItemMove:function(e){var t=h()(e.item).data("generator-id"),a=h()(e.item).prev().data("generator-id");this.collection.parent.moveItem(t,a)}}),_ye=a("hvMQ"),Wye=a.n(_ye),Qye=p.a.ItemView.extend({template:Wye.a,serializeData:function(){return{isTranscoderRequired:!this.model.get("transcoderVideo"),isUpgradeRequired:!this.model.supports("streamReady"),escapedMinServerVersion:M.a.escape(so.a.streamReady)}}}),Gye=a("HJfd"),Kye=a.n(Gye),Yye=The.extend({mixins:[te.a],className:"versions-container",template:Kye.a,ui:{message:".versions-status-message"},regions:{listRegion:".background-processing-list-region"},events:{"click .delete-all-btn":"onDeleteAllVersionsClick","click .status-conversion-btn":"onStatusConversionClick"},initialize:function(e){this.pausedSetting=this.collection.get("BackgroundQueueIdlePaused"),this.playlists=new J7.a([],{server:this.model,allowInCache:!0}),this.transcodeJobs=this.model.get("desktop").get("backgroundTranscodeJobs")},initialState:"loading",states:{loading:{nextState:"list",onEnter:function(){var e=this.model.supports("streamReady"),t=this.model.get("transcoderVideo");if(this.listRegion.show(new Iye({inline:!0})),e&&t){var a=h.a.when(this.playlists.populate(),this.transcodeJobs.fetch());(a=a.then(M.a.bind((function(){return this.playlist=this.playlists.first(),this.playlist?(this.generators=this.playlist.get("children"),this.generators.fetch()):h.a.Deferred().reject().promise()}),this))).done(this.whenRendered((function(){this.enterNextState()}))),a.fail(this.whenRendered((function(){this.enterState("error")})))}else this.enterState("error")}},list:{onEnter:function(){this.toggleMessage(),this.listenTo(this.generators,"reset add remove",this.toggleMessage),this.listRegion.show(new Hye({collection:this.generators,itemViewOptions:{transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onExit:function(){this.stopListening(this.generators)}},error:{onEnter:function(){this.listRegion.show(new Qye({model:this.model}))}}},toggleMessage:function(){this.ui.message.toggleClass("hidden",!this.generators.length)},onRender:function(){this.enterNextState()},onDeleteAllVersionsClick:function(e){e.preventDefault(),See.a.execute("deleteAllVersionGenerators",{server:this.model}).then(M.a.bind((function(){return this.generators.fetch()}),this))},onStatusConversionClick:function(e){e.preventDefault(),Object(see.a)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"status",settingsGroup:"conversion"})}}),qye=a("Xrwt"),Zye=a.n(qye),Xye=p.a.Layout.extend({className:"server-settings-container",template:Zye.a,remoteAccessDecorators:{connecting:"unknown",disconnecting:"unknown",unreachable:"error",ok:"success"},regions:{serverDropdown:".filter-bar",nav:".nav-region",pane:".pane-region"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick"},panes:{general:{constructor:mye,group:"general",title:"General",isVisible:!0},remoteAccess:{constructor:fye,group:"remoteAccess",title:"Remote Access",isVisible:!0},versions:{constructor:Yye,group:"versions",title:"Optimized Versions",isVisible:!0},agents:{constructor:jhe,group:"agents",title:"Agents",isVisible:!0},library:{constructor:The,group:"library",title:"Library"},channels:{constructor:whe,group:"channels",title:"Plugins",isVisible:!0},network:{constructor:The,group:"network",title:"Network"},transcoder:{constructor:The,group:"transcoder",title:"Transcoder"},languages:{constructor:hye,group:"account.language",title:"Languages",isVisible:!0},dlna:{constructor:The,group:"dlna",title:"DLNA"},butler:{constructor:The,group:"butler",title:"Scheduled Tasks"},extras:{constructor:The,group:"extras",title:"Extras"}},initialize:function(e){this.defaultGroup=e.group||"general",this.account=e.account,this.cloudAccount=e.cloudAccount,this.channelSettings=e.channelSettings,this.tempSettings=this.collection.cloneDeep(),this.tempAccount=this.account.clone(),this.tempChannelSettings=this.channelSettings.cloneDeep(),this.changes={};var t=Object(E.c)("appModel").get("user").get("experienceSettings").get("showAdvancedSettings");if(this.$el.toggleClass("show-advanced",t),this.initGroups(),this.model.supports("reachability")){var a=M.a.extend(this.model.getXHROptions("/myplex/refreshReachability"),{type:"PUT"});h.a.ajax(a)}this.listenTo($.a,"shortcut:save",this.saveChanges),this.listenTo(this.collection,"change:value",this.onSettingValueChange)},initGroups:function(){var e=M.a.keys(this.panes);const t=M.a.unique(this.collection.filter(e=>e.get("group")&&!e.get("hidden")).map(e=>e.get("group")));this.groups=new yee.c.Collection,e.forEach(e=>{const a=this.panes[e],n=a.isVisible;(!0===n||!1!==n&&M.a.contains(t,e))&&this.addGroup(e,a)}),M.a.each(t,(function(t){if(!M.a.contains(e,t)){var a={constructor:The,group:t,title:t};this.panes[t]=a,this.addGroup(t,a)}}),this)},addGroup:function(e,t){var a=M.a.omit(t,"constructor");a.id=e,this.groups.add(a)},showPane:function(e){if(this.currentPane){if(this.currentPane.isActive)return this.currentPane;this.stopListening(this.currentPane),this.flushChanges()}var t=this.panes[e];t&&this.groups.get(e)||Object(see.a)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"settings",settingsGroup:"general"});var a=new(0,t.constructor)({model:this.model,collection:this.tempSettings,account:this.tempAccount,cloudAccount:this.cloudAccount,channelSettings:this.tempChannelSettings,group:t.group,changes:this.changes});return this.currentPane=a,this.pane.show(a),this.listenTo(this.currentPane,"save",this.saveChanges),a},flushChanges:function(){this.currentPane.changes&&M.a.extend(this.changes,this.currentPane.changes)},saveChanges:function(){if(this.flushChanges(),!this.currentPane.isDisabled&&!this.currentPane.isActive){this.currentPane.triggerMethod("before:save");var e=[],t=this.getPrefixedChanges("channel."),a=this.getPrefixedChanges("account.");if(!M.a.isEmpty(t)){var n=this.channelSettings.first().getSaveParams(t),i=M.a.result(this.channelSettings,"url"),r=j.default.join([i,"/set"],n);e.push(h.a.ajax(this.model.getXHROptions(r)))}M.a.isEmpty(a)||e.push(this.account.save(a)),M.a.isEmpty(this.changes)||e.push(this.collection.first().save(this.changes));var s=h.a.when.apply(h.a,e);s.done(M.a.bind((function(){var e=M.a.keys(this.changes);M.a.each(e,(function(e){var t=this.tempSettings.get(e);this.collection.get(e).set("value",t.get("value")),"ButlerUpdateChannel"===e&&this.onButlerUpdateChannelChange()}),this),this.changes={},this.currentPane&&(this.currentPane.changes&&(this.currentPane.changes={}),this.currentPane.triggerMethod("after:save",!0))}),this)),s.fail(M.a.bind((function(){this.currentPane&&this.currentPane.triggerMethod("after:save",!1)}),this))}},getPrefixedChanges:function(e){var t={};return M.a.each(this.changes,(function(a,n){0===n.lastIndexOf(e,0)&&(t[n.substring(e.length)]=a,delete this.changes[n])}),this),t},onRender:function(){this.showPane(this.defaultGroup)},onClose:function(){this.currentPane=null},onSettingValueChange:function(e,t){this.tempSettings.get(e.id).set("value",t)},onServerConnectedChange:function(e,t){t&&(this.stopListening(e,"change:connected",this.onServerConnectedChange),Object(E.c)("appModel").set("primaryServer",e))},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");Object(E.c)("appStore").dispatch(Object(xy.l)({showAdvancedSettings:!t})),this.$el.toggleClass("show-advanced",!t)},onButlerUpdateChannelChange:function(){var e=this.collection.get("ButlerTaskCheckForUpdates");e&&e.get("value")&&Object(E.c)("appStore").dispatch(she({serverEntityID:this.model.entityID(),download:!1}))}}),Jye=a("qOmw"),$ye=a("jEhb"),efe=a("aRTZ");var tfe=function(e){const{friendlyName:t,sourceTitle:a,settingsTitle:n,isShared:i}=e,r={friendlyName:t,sourceTitle:a,isShared:i},s=CI(r),o=MI(r),l=s&&o?`${s} (${o})`:s;return y.a.createElement(p9,null,l,y.a.createElement(Hi.b,null),n)};var afe=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),Object(he.a)((e,{settingsSection:t})=>t,(e,{settingsGroup:t})=>t,(e,t)=>{const a=M.a.findWhere(Zme,{key:e});return M.a.findWhere(a.groups,{key:t}).title()}),(e,t)=>({friendlyName:e?e.friendlyName:"",sourceTitle:e?e.sourceTitle:"",isShared:!(!e||!e.isShared),settingsTitle:t}))}))(tfe);var nfe=function(e){const{serverEntityID:t,providerEntityID:a,machineIdentifier:n,providerIdentifier:i,viewDataErrorMessage:r,isViewDataPending:s,isInstallingServerUpdate:o,isUnavailable:l,isUnauthorized:c,isSettingAccessible:d,isSettingsPending:u,settingsSection:p,settingsGroup:m,pageComponent:h,paneComponent:g,contentView:f,...b}=e;return o?y.a.createElement(efe.a,{serverEntityID:t}):s?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):l?y.a.createElement($ye.a,{serverEntityID:e.serverEntityID}):c?y.a.createElement(Jye.a,null):r?y.a.createElement(Kk.a,{title:r}):d?h?y.a.createElement(h,{serverEntityID:t,...ehe(p,m)}):y.a.createElement(l9,{...ehe(p,m)},y.a.createElement(afe,{serverEntityID:t,settingsSection:p,settingsGroup:m}),g?y.a.createElement(g,{serverEntityID:t,providerEntityID:a,machineIdentifier:n,providerIdentifier:i}):y.a.createElement(Aue,{view:f||Xye,viewOptions:b})):u?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):y.a.createElement(Kk.a,{title:Object(Ce.default)("There was an unexpected error loading the settings")})};var ife=Object(v.b)((function(){return Object(he.a)((e,{settingsSection:t})=>t,(e,{settingsGroup:t})=>t,$me(),Object(RI.a)(),bh.b,(e,t,a,n,i)=>{const r=function(e,t,a){const n=e.find(e=>e.key===t);return n?n.groups.find(e=>e.key===a):null}(a,e,t);return{machineIdentifier:n&&n.machineIdentifier,providerIdentifier:i&&i.identifier,isInstallingServerUpdate:!(!n||!n.isInstallingServerUpdate),isUnavailable:!(!n||!n.isUnavailable),isUnauthorized:!(!n||!n.isUnauthorized),isSettingAccessible:!!r,isSettingsPending:!(!n||!n.desktop.isSettingsPending),pageComponent:r&&r.pageComponent,paneComponent:r&&r.paneComponent}})}))(nfe);var rfe=Object(Kt.a)(Ft.a,e=>e.filter(e=>e.isPrimaryEligible));var sfe=Object(he.a)(rfe,Object(be.a)(ve.d),(e,t)=>e.reduce((e,a)=>{const n=a.allowSync&&!t;return a.isShared&&!n||a.isOutOfDate||e.push(a.entityID),e},[]));var ofe=Object(bO.a)(Object(he.a)(Ft.a,e=>e.filter(e=>(e.isFullOwnedServer||e.isShared)&&e.isConnected)),e=>e),lfe=a("HjAS"),cfe=a.n(lfe);function dfe(e){const{className:t,children:a}=e;return y.a.createElement("div",{className:t},a)}dfe.defaultProps={className:cfe.a.sidebarContainer};var ufe=dfe,pfe=a("7f9p"),mfe=a.n(pfe);function hfe(e){const{className:t}=e;return y.a.createElement(XD.a,{className:t,autoScroll:!0,...e})}hfe.defaultProps={className:mfe.a.scroller};var gfe=hfe;function yfe(e,t){return e&&t?`${t} (${e})`:t||e}var ffe=function(e){const t=e.activeConnection;let a,n=!1;return e.isConnected&&t?a=e.isOutOfDate?Object(Ce.default)("Needs Update"):t.relay?Object(Ce.default)("Indirect"):t.isPrivate?Object(Ce.default)("Nearby"):Object(Ce.default)("Remote"):e.isRelayed?a=Object(Ce.default)("Indirect"):e.isUnavailable?a=Object(Ce.default)("Unavailable"):e.isUnauthorized?a=Object(Ce.default)("Unauthorized"):(n=!0,a=Object(Ce.default)("Connecting")),{isConnecting:n,status:a}},bfe=a("rUJk"),vfe=a.n(bfe);class Ife extends g.Component{shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{children:e,className:t,friendlyNameClassName:a,detailsClassName:n,to:i,isDisabled:r,isSelected:s,identifier:o,title:l,details:c,onPress:d}=this.props;return y.a.createElement(Js.a,{className:Pe()(t,vfe.a.serverMenuItem,s&&vfe.a.selectedServerMenuItem),"data-qa-id":"serverMenuItem--"+o,to:i,isDisabled:r,onPress:d},y.a.createElement("div",{className:vfe.a.serverMenuItemContainer},y.a.createElement("div",{className:vfe.a.serverMenuTitle},y.a.createElement("div",{className:a},l),y.a.createElement("div",{className:n},c)),y.a.createElement("div",{className:vfe.a.serverMenuIconContainer},s?y.a.createElement(ns.a,{className:Pe()(vfe.a.serverMenuIcon,vfe.a.selectedIcon),"aria-label":Object(Ce.default)("Selected")}):null,e)))}}Ife.defaultProps={friendlyNameClassName:vfe.a.serverMenuFriendlyName,detailsClassName:vfe.a.serverMenuDetails};var Sfe=Ife,Efe=a("H6oa"),Ofe=a.n(Efe);var Mfe=function(e){const{className:t,isFullOwnedServer:a,isInstallingServerUpdate:n,isUnavailable:i,isSettingsPending:r}=e;return n||a&&r&&!i?y.a.createElement("div",{className:t},y.a.createElement(HO.a,{className:Ofe.a.spinner,size:cc.c})):y.a.createElement(Tae,{...e})},Cfe=a("Jdyf"),jfe=a.n(Cfe);var Dfe=function(e){const{isSelected:t,activeConnection:a,isConnected:n,isShared:i,isUnavailable:r,isSecure:s,isRelayed:o,machineIdentifier:l,friendlyName:c,sourceTitle:d,isFullOwnedServer:u,isInstallingServerUpdate:p,isSettingsPending:m,settingsSection:h,settingsGroup:g}=e,f={activeConnection:a,friendlyName:c,sourceTitle:d,isFullOwnedServer:u,isShared:i,isConnected:n,isRelayed:o,isUnavailable:r},{isConnecting:b,status:v}=ffe(f),I=yfe(MI(f),v),S=u&&m||b||r;return y.a.createElement(Sfe,{className:Pe()(S&&jfe.a.disabled),friendlyNameClassName:jfe.a.friendlyName,detailsClassName:jfe.a.details,to:Object(lm.a)(l,h||"settings",g||"general"),isDisabled:b,isSelected:t,identifier:l,title:CI(f),details:I},y.a.createElement(Mfe,{className:jfe.a.icon,isFullOwnedServer:u,isInstallingServerUpdate:p,isSettingsPending:m,isUnavailable:r,isRelayed:o,isSecure:s,isConnected:n}))};var Pfe=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,activeConnection:e.activeConnection,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isShared:e.isShared,isUnavailable:e.isUnavailable,isSecure:e.isSecure,isRelayed:e.isRelayed,isSettingsPending:e.desktop.isSettingsPending}))}))(Dfe),Tfe=a("M0a6"),wfe=a.n(Tfe);const Nfe=5*parseInt(yu.a.serverMenuItemHeight,10),xfe={className:wfe.a.serverMenuScroller,scrollDirection:iv.c,autoScroll:!0};var Afe=function(e){const{target:t,serverEntityIDs:a,selectedServerEntityID:n,settingsSection:i,settingsGroup:r,isOpen:s,onMenuClose:o}=e;return y.a.createElement(Xs.a,{className:wfe.a.serverMenu,target:t,isOpen:s,scrollerProps:xfe,maxHeight:Nfe,onMenuClose:o},a.map(e=>y.a.createElement(Pfe,{key:e,serverEntityID:e,isSelected:e===n,settingsSection:i,settingsGroup:r})))},Lfe=a("HPx8"),kfe=a.n(Lfe);function Rfe(e){const{className:t,secondaryTitleClassName:a,id:n,isLoading:i,isMenuOpen:r,isDisabled:s,isSelected:o,primaryTitle:l,secondaryTitle:c,children:d,spinnerComponent:u,onPress:p}=e;return y.a.createElement(jI.a,{id:n,className:Pe()(t,s&&kfe.a.isDisabled),"aria-haspopup":!s,"data-qa-id":"serverMenuButton",isSelected:o,isDisabled:s,onPress:p},y.a.createElement("div",{className:kfe.a.sidebarMenuButtonContainer},y.a.createElement("span",{className:kfe.a.sidebarMenuTitle},y.a.createElement("span",{className:kfe.a.sidebarMenuPrimaryTitleContainer},y.a.createElement("span",{className:kfe.a.sidebarMenuPrimaryTitle},l),s?null:y.a.createElement(oc.a,{direction:r?lc.c:lc.a,isSelected:o})),c?y.a.createElement("span",{className:a},c):null),i?y.a.createElement(u,{size:cc.c,className:kfe.a.sidebarMenuSpinner}):d))}Rfe.defaultProps={className:kfe.a.sidebarMenuButton,secondaryTitleClassName:kfe.a.sidebarMenuSecondaryTitle,isMenuOpen:!1,isSelected:!0,isDisabled:!1,isLoading:!1,spinnerComponent:Uw.a};var zfe=Rfe;var Ufe=function(e){return y.a.createElement(zfe,{spinnerComponent:HO.a,...e})},Vfe=a("61dU"),Bfe=a.n(Vfe);var Ffe=function(e){const{id:t,friendlyName:a,sourceTitle:n,isFullOwnedServer:i,isShared:r,isConnected:s,isInstallingServerUpdate:o,isSelected:l,isUnavailable:c,isSecure:d,isSettingsPending:u,isRelayed:p,isMenuOpen:m,onPress:h}=e,g={friendlyName:a,sourceTitle:n,isShared:r},f=yfe(MI(g),p?Object(Ce.default)("Indirect"):null);return y.a.createElement(Ufe,{className:Bfe.a.button,secondaryTitleClassName:Bfe.a.secondaryTitle,id:t,isMenuOpen:m,primaryTitle:CI(g),secondaryTitle:f,isSelected:l,onPress:h},y.a.createElement(Mfe,{className:Bfe.a.icon,isFullOwnedServer:i,isInstallingServerUpdate:o,isSettingsPending:u,isUnavailable:c,isRelayed:p,isSecure:d,isConnected:s}))};var Hfe=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isShared:e.isShared,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.desktop.isSettingsPending,isSecure:e.isSecure,isRelayed:e.isRelayed,sourceTitle:e.sourceTitle}))}))(Ffe);var _fe=a("S+WG"),Wfe=a.n(_fe);function Qfe(e){const{className:t,children:a,iconClassName:n,titleClassName:i,iconSrc:r,iconComponent:s,iconNode:o,title:l,showSpinner:c,...d}=e;let u;return r?u=y.a.createElement("img",{className:Wfe.a.iconImg,src:r}):s?u=y.a.createElement(s,null):o&&(u=o),y.a.createElement(jI.a,{className:t,...d},y.a.createElement("div",{className:Wfe.a.container},y.a.createElement("div",{className:n},c?y.a.createElement(Uw.a,{className:Wfe.a.spinner}):u),l?y.a.createElement("div",{className:i},l):null,function(e){const t=[];return y.a.Children.forEach(e,e=>{y.a.isValidElement(e)&&t.push(e)}),t}(a).length?y.a.createElement("div",{className:Wfe.a.children},a):null))}Qfe.defaultProps={className:Wfe.a.sidebarLink,iconClassName:Wfe.a.icon,titleClassName:Wfe.a.title};var Gfe=Qfe,Kfe=a("sn/B"),Yfe=a.n(Kfe);function qfe({className:e,children:t}){return y.a.createElement("div",{className:e},t)}qfe.defaultProps={className:Yfe.a.sidebarListItem};var Zfe=qfe;var Xfe=function(e){return y.a.createElement(Zfe,null,y.a.createElement(Gfe,{...e}))},Jfe=a("MIt9"),$fe=a.n(Jfe);var ebe=function({message:e,children:t}){return y.a.createElement("div",null,y.a.createElement("p",{className:$fe.a.sidebarMessage},e),t)},tbe=a("R5U7"),abe=a("x04c");function nbe(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-unlock-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m280 160c-.02-7.756.721-15.486 2.2-23.072 1.088-5.577 2.576-11.076 4.449-16.441 1.885-5.402 4.161-10.668 6.801-15.743 3.116-5.991 6.74-11.716 10.817-17.099 4.132-5.455 8.728-10.557 13.723-15.235 4.912-4.6 10.208-8.789 15.818-12.507 5.443-3.608 11.181-6.772 17.14-9.446 9.443-4.237 19.436-7.236 29.653-8.897 4.12-.67 8.275-1.124 12.442-1.362 2.181-.125 4.365-.187 6.55-.197.387-.001.775 0 1.163.001 2.183.018 4.365.087 6.544.218 4.164.251 8.316.718 12.431 1.401 10.208 1.693 20.188 4.721 29.615 8.986 6.059 2.742 11.888 5.99 17.409 9.697 5.686 3.818 11.044 8.122 16.001 12.848 4.953 4.722 9.504 9.866 13.587 15.358 4.103 5.519 7.732 11.389 10.831 17.527 2.581 5.113 4.794 10.411 6.615 15.841 1.769 5.278 3.167 10.68 4.182 16.154 1.342 7.242 2.012 14.609 1.987 21.968l-59.984 0 .006-.197c-.015-4.685-.564-9.366-1.661-13.92-1.309-5.431-3.394-10.668-6.165-15.518-3.266-5.718-7.478-10.89-12.403-15.261-4.517-4.009-9.633-7.341-15.137-9.831-4.624-2.092-9.514-3.584-14.518-4.43-2.184-.37-4.388-.617-6.599-.743-1.106-.063-2.212-.094-3.319-.1-.394 0-.788.002-1.183.008-1.165.02-2.329.07-3.492.155-2.199.16-4.389.441-6.558.843-4.921.912-9.722 2.451-14.257 4.57-5.472 2.557-10.548 5.95-15.017 10.012-4.873 4.429-9.022 9.651-12.219 15.408-2.715 4.888-4.736 10.156-5.979 15.608-.985 4.326-1.478 8.761-1.492 13.197l.007.199 0 80 60.012 0 0 280-360 0 0-280 240 0 0-80m-40 280l0-45.359c11.952-6.92 20-19.848 20-34.641 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40 0 14.793 8.048 27.721 20 34.641l0 45.359 40 0"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}nbe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var ibe=nbe;class rbe extends g.Component{constructor(e,t){super(e,t),this.onRemoveServerPress=e=>{this.setState({isRemoveModalOpen:!0})},this.onRemoveConfirm=()=>{this.setState({isRemoveModalOpen:!1}),this.props.onDeleteServerConfirm(this.props.machineIdentifier)},this.onRemoveCancel=()=>{this.setState({isRemoveModalOpen:!1})},this.onAllowInsecureConnectionPress=e=>{this.setState({isAllowInsecureConnectionModalOpen:!0})},this.onAllowInsecureConnectionCancel=e=>{this.setState({isAllowInsecureConnectionModalOpen:!1})},this.state={isRemoveModalOpen:!1,isAllowInsecureConnectionModalOpen:!1}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,friendlyName:t,presence:a,isPending:n,isBundled:i,isCloudServerResourcesPending:r,isFullServer:s,isFullOwnedServer:o,isInstallingServerUpdate:l,httpsRequired:c,hasHttpsConnections:d,hasFallbackConnections:u,onTryAgainPress:p}=this.props,{isRemoveModalOpen:m,isAllowInsecureConnectionModalOpen:h}=this.state;let g,f,b,v,I,S;if(l)f=!1,b=!1,v=!1,I=!1,S=Object(Ce.default)('Once the server "{serverName}" has finished installing the update, Plex will automatically try to reconnect to this server.',{serverName:t});else{const e={isFullServer:s,presence:a,httpsRequired:c,hasHttpsConnections:d,hasFallbackConnections:u};g=Object(abe.b)(e),f=Object(abe.a)(e),b=g||f,v=!b,I=o&&!i,S=b?Object(Ce.default)('Unable to connect to "{serverName}" securely.',{serverName:t}):Object(Ce.default)('The server "{serverName}" is unreachable. Make sure it\'s running, double check your network, and try again.',{serverName:t})}const E=r||n,O=E?Object(Ce.default)("Connecting"):Object(Ce.default)("Try again");return y.a.createElement(ebe,{message:S},y.a.createElement(Xfe,{iconComponent:uz.a,title:O,showSpinner:E,isDisabled:E,onPress:p}),f?y.a.createElement(y.a.Fragment,null,y.a.createElement(Xfe,{iconComponent:ibe,title:Object(Ce.default)("Allow insecure connection"),onPress:this.onAllowInsecureConnectionPress}),y.a.createElement(tbe.a,{serverEntityID:e,isOpen:h,onModalClose:this.onAllowInsecureConnectionCancel})):null,b?y.a.createElement(Xfe,{to:up.i,target:"_blank",iconComponent:iH,title:Object(Ce.default)("Learn more")}):null,v?y.a.createElement(Xfe,{to:"https://help.plex.tv/noserver",target:"_blank",iconComponent:iH,title:Object(Ce.default)("Where is my server?")}):null,I?y.a.createElement(y.a.Fragment,null,y.a.createElement(Xfe,{iconComponent:Ql.a,title:Object(Ce.default)("Remove server"),onPress:this.onRemoveServerPress}),y.a.createElement(Xc.a,{isOpen:m,metricsPage:It.m,kind:ao.a,title:Object(Ce.default)("Remove {serverName}",{serverName:t}),message:Object(Ce.default)("If this server is restarted, it will automatically be added to your account again."),confirmLabel:Object(Ce.default)("Remove"),onConfirm:this.onRemoveConfirm,onCancel:this.onRemoveCancel})):null)}}var sbe=rbe;var obe=Object(BI.a)((function(){return Object(he.a)(Gk,Object(RI.a)(),(e,t)=>({machineIdentifier:t.machineIdentifier,friendlyName:t.friendlyName,presence:t.presence,isPending:t.isPending,isFullServer:t.isFullServer,isFullOwnedServer:t.isFullOwnedServer,isInstallingServerUpdate:t.isInstallingServerUpdate,isBundled:t.isBundled,isCloudServerResourcesPending:e.isResourcesPending,httpsRequired:t.httpsRequired,hasHttpsConnections:t.hasHttpsConnections,hasFallbackConnections:t.hasFallbackConnections}))}),(function(e,t){const a={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onDeleteServerConfirm(){e(OS.e(a))},onTryAgainPress(){e(Object(HI.b)()),e($I.A(a))}}}))(sbe),lbe=a("vSud"),cbe=a.n(lbe);function dbe(e){const{className:t,headerContainerClassName:a,headerClassName:n,children:i,title:r,icon:s,onRef:o}=e;return y.a.createElement("div",{className:t,role:"navigation",ref:o},y.a.createElement("div",{className:a},y.a.createElement("div",{className:n,role:"header"},r),s?y.a.createElement("div",{className:cbe.a.sidebarListHeaderIcon},s):null),i)}dbe.defaultProps={headerContainerClassName:cbe.a.sidebarListHeaderContainer,headerClassName:cbe.a.sidebarListHeader};var ube=dbe,pbe=a("X8Qt"),mbe=a.n(pbe);var hbe=function(e){return y.a.createElement(ube,{headerClassName:mbe.a.header,...e})},gbe=a("zQVR"),ybe=a.n(gbe);var fbe=function(e){const{className:t,children:a,selectableKey:n,selectedKey:i,to:r,title:s}=e,o=i&&i===n;let l;return/^#/.test(r)||(l=uge()?"_blank":"_self"),y.a.createElement(Xfe,{key:n,className:t,target:l,to:r,iconClassName:o?ybe.a.selectedIcon:ybe.a.icon,title:s,isSelected:o},a)};var bbe=function(e){const{serverEntityID:t,machineIdentifier:a,selectedKey:n,isShared:i,isInstallingServerUpdate:r,isUnavailable:s,isSettingsPending:o,settingsSections:l}=e;return r||s?y.a.createElement(obe,{serverEntityID:t}):o?null:l.map((e,t)=>{if(i&&1===e.groups.length){const i=e.groups[0];return y.a.createElement(fbe,{key:t,selectableKey:ree(a,e.key,i.key),selectedKey:n,title:i.title,to:i.route})}return y.a.createElement(hbe,{key:t,title:e.title},e.groups.map((i,r)=>y.a.createElement(fbe,{key:`${t}${r}`,selectableKey:ree(a,e.key,i.key),selectedKey:n,title:i.title,to:i.route},i.statusIndicator)))})};const vbe={dispatchPopulateSettings:OS.j};class Ibe extends g.Component{componentDidMount(){this._populate()}componentDidUpdate(e){e.serverEntityID!==this.props.serverEntityID&&this._populate()}_populate(){const{serverEntityID:e,isConnected:t,isFullOwnedServer:a,dispatchPopulateSettings:n}=this.props;t&&a&&n({serverEntityID:e})}render(){const{isConnected:e,isFullOwnedServer:t,dispatchPopulateSettings:a,...n}=this.props;return y.a.createElement(bbe,{...n})}}var Sbe=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),$me(),(e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isShared:e.isShared,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.isFullOwnedServer&&e.desktop.isSettingsPending,isFullOwnedServer:e.isFullOwnedServer,settingsSections:t}))}),vbe)(Ibe);var Ebe=Object(he.a)(fe.a,e=>!1),Obe=a("46B2"),Mbe=a.n(Obe);var Cbe=function(e){const{shouldShowWarning:t,...a}=e;return y.a.createElement(fbe,{...a},t?y.a.createElement(je.a,{className:Mbe.a.alertIcon}):null)};const jbe=Object(he.a)(Ebe,e=>({shouldShowWarning:e}));var Dbe=Object(v.b)(jbe)(Cbe);class Pbe extends g.Component{constructor(e,t){super(e,t),this.onMeasure=()=>{this.setState({isMeasured:!0})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e},()=>{na.a.set("SettingsSidebarScrollTop",e)})},this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})};const a=na.a.get("SettingsSidebarScrollTop");this.state={isMeasured:!1,scrollTop:a||0,isMenuOpen:!1},this._serverMenuButtonID=Object(gf.a)()}render(){const{manageableServerEntityIDs:e,serverMenuServerEntityID:t,selectedKey:a,isUserSignedIn:n,isUserAnonymous:i,isUserUnrestricted:r,isServerMenuServerEntityIDSelected:s,showAdvancedSettings:o,showQualitySettings:l,showDownloadQualitySettings:c,userTitle:d,settingsSection:u,settingsGroup:p}=this.props,{scrollTop:m,isMenuOpen:h}=this.state,g=iee();return y.a.createElement(HG.a,{page:It.lb,isDelegated:!0},y.a.createElement(VO.a,{ignorePosition:!0,ignoreWidth:!0,onMeasure:this.onMeasure},y.a.createElement(ufe,null,this.state.isMeasured?y.a.createElement(gfe,{smoothScroll:!1,scrollTop:m,onScrollPositionChange:this.onScrollPositionChange},y.a.createElement("div",{className:Mbe.a.sidebarContent},n?y.a.createElement(hbe,{title:d||Object(Ce.default)("Settings")},y.a.createElement(fbe,{selectableKey:"account",selectedKey:a,to:"#!/settings/account",title:Object(Ce.default)("Account")}),r&&!i?y.a.createElement(fbe,{selectableKey:"online-media-sources",selectedKey:a,to:"#!/settings/online-media-sources",title:Object(Ce.default)("Online Media Sources")}):null,r&&!i?y.a.createElement(fbe,{selectableKey:"devices",selectedKey:a,to:"#!/settings/devices",title:Object(Ce.default)("Authorized Devices")}):null,r&&!i?y.a.createElement(fbe,{selectableKey:"webhooks",selectedKey:a,to:"#!/settings/webhooks",title:Object(Ce.default)("Webhooks")}):null,n&&!i?y.a.createElement(fbe,{selectableKey:"users-sharing",selectedKey:a,to:"#!/settings/users-sharing",title:Object(Ce.default)("Users & Sharing")}):null):null,y.a.createElement(hbe,{title:V.a.prop("X-Plex-Product"),selectableKey:g,selectedKey:a},y.a.createElement(Dbe,{selectableKey:iee("general"),selectedKey:a,to:"#!/settings/web/general",title:Object(Ce.default)("General")}),l?y.a.createElement(fbe,{selectableKey:iee("quality"),selectedKey:a,to:"#!/settings/web/quality",title:Object(Ce.default)("Quality")}):null,o?y.a.createElement(fbe,{selectableKey:iee("debug"),selectedKey:a,to:"#!/settings/web/debug",title:Object(Ce.default)("Debug")}):null,y.a.createElement(fbe,{selectableKey:iee("player"),selectedKey:a,to:"#!/settings/web/player",title:Object(Ce.default)("Player")}),c?y.a.createElement(fbe,{selectableKey:iee("downloads"),selectedKey:a,to:"#!/settings/web/downloads",title:Object(Ce.default)("Downloads")}):null),t?y.a.createElement(y.a.Fragment,null,y.a.createElement(Hfe,{id:this._serverMenuButtonID,serverEntityID:t,isMenuOpen:h,isSelected:s,onPress:this.onMenuButtonPress}),y.a.createElement(Afe,{target:this._serverMenuButtonID,serverEntityIDs:e,selectedServerEntityID:t,isOpen:h,settingsSection:u,settingsGroup:p,onMenuClose:this.onMenuClose}),y.a.createElement(Sbe,{serverEntityID:t,selectedKey:a})):null)):null)))}}var Tbe=Pbe;const wbe=Object(he.a)(ofe,e=>e.length>0);var Nbe=Object(v.b)((function(){return Object(he.a)((e,{selectedServerEntityID:t})=>t,e=>e.primaryServer,e=>e.user.experienceSettings.showAdvancedSettings,Object(be.a)(ve.d),AU.a,sfe,wbe,(e,t,a,n,i,r,s)=>{const o=function(e,t,a){return a.includes(e)?e:a.includes(t)?t:a?a[0]:null}(e,t,r);return{serverMenuServerEntityID:o,manageableServerEntityIDs:r,isUserSignedIn:i.isSignedIn,isUserAnonymous:i.anonymous,isUserUnrestricted:!i.restricted,isServerMenuServerEntityIDSelected:o===e,showAdvancedSettings:a,showQualitySettings:s,showDownloadQualitySettings:X.a.allowSyncDownload&&n,userTitle:i.title}})}))(Tbe);var xbe=oee.extend({initialize(e){const{serverID:t,settingsSection:a,settingsGroup:n}=e,i=E.c("appModel"),r=i.get("servers");this.options={settingsSection:a,settingsGroup:n,machineIdentifier:t,isViewDataPending:!0},r.findServer(t).done(this.whenRendered(t=>(Object(Dt.a)(),i.set("primaryServer",t),t.get("isConnected")?!t.get("isShared")||t.get("allowSync")&&!i.get("user").get("features").get(ve.d)?void(!t.get("isShared")||!t.get("allowSync")||"status"===a&&"sync"===n?"settings"===a||"manage"===a?this.initializeServerSettingsView(t,e):"status"===a&&"alerts"===n?this.initializeAlertsView(t):"status"===a&&"conversion"===n?this.initializeConversionView(t):"status"===a&&"sync"===n?this.initializeSyncView(t,e):"status"===a&&"server-dashboard"===n?this.initializeServerDashboardView(t):(this.options.isViewDataPending=!1,this.render()):Object(see.a)("serverSettingsStatusSync",{machineIdentifier:t.id})):(Object.assign(this.options,{viewDataErrorMessage:Object(Ce.default)("You do not have access to this server"),isViewDataPending:!1}),void this.render()):(this.options.isViewDataPending=!t.get("isUnavailable")&&!t.get("isUnauthorized"),void this.render())))).fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ce.default)("The server you're trying to access doesn't seem to exist."),isViewDataPending:!1}),this.render()}))},initializeServerSettingsView(e){const t=this.options.settingsGroup,a=e.get("desktop"),n=a.get("settings"),i=new q7({key:"/accounts/1"},{server:e}),r=a.get("cloudAccount"),s=new Z7.a([],{server:e,url:"/system/:/prefs"}),o=h.a.when(n.fetch(),i.fetch(),r.fetch(),s.fetch());o.done(this.whenRendered(()=>{Object.assign(this.options,{model:e,collection:n,account:i,cloudAccount:r,channelSettings:s,subset:"server",group:t,isViewDataPending:!1}),this.render()})),o.fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ce.default)("Server settings are unavailable."),isViewDataPending:!1}),this.render()}))},initializeAlertsView(e){const t=e.get("desktop");Object.assign(this.options,{model:e,collection:t.get("alerts"),subset:"alerts",contentView:gee,isViewDataPending:!1}),this.render()},initializeConversionView(e){const t=e.get("desktop");this.options.contentView=Wee;const a=new nee([],{server:e,allowInCache:!0}),n=t.get("backgroundTranscodeJobs"),i=new J7.a([],{server:e,allowInCache:!0});let r,s;const o=h.a.when(a.populate(),n.fetch(),t.get("settings").fetch(),i.populate()).then(()=>{r=a.first();const e=i.first();return r&&e?(s=e.get("children"),h.a.when(r.fetch(),s.fetch())):h.a.Deferred().reject().promise()});o.done(this.whenRendered(()=>{Object.assign(this.options,{model:e,playQueue:r,transcodeJobs:n,generators:s,subset:"conversion",isViewDataPending:!1}),this.render()})),o.fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ce.default)("The conversion queue is unavailable."),isViewDataPending:!1}),this.render()}))},initializeSyncView(e,t){const{deviceID:a}=t;Object.assign(this.options,{contentView:ere});const n=E.c("appModel").get("user").get("desktop").get("devices"),i=n.populate();i.done(this.whenRendered(()=>{const t=n.filterSyncDevices(),i=a?t.get(a):null;Object.assign(this.options,{model:e,collection:t,selectedDevice:i,subset:"sync",isViewDataPending:!1}),this.render()})),i.fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ce.default)("Sync status is unavailable."),isViewDataPending:!1}),this.render()}))},initializeServerDashboardView(e){Object.assign(this.options,{server:e,subset:"server-dashboard",contentView:pie,isViewDataPending:!1}),this.render()},component(e){const{machineIdentifier:t,settingsSection:a,settingsGroup:n,sidebarKey:i,...r}=e,s=Object(jt.a)(fo.n,t),o=i||ree(t,a,n);return y.a.createElement(pe,null,y.a.createElement(Nbe,{selectedKey:o,settingsSection:a,settingsGroup:n,selectedServerEntityID:s}),y.a.createElement(ife,{serverEntityID:s,providerEntityID:X7(s),settingsSection:a,settingsGroup:n,...r}))}});function Abe(e){const{children:t,isWaitingForServers:a,isAnyServerAuthenticated:n,isWaitingForCloudServer:i,isCloudServerUnauthorized:r,isCloudServerConnected:s,isCloudServerUnavailable:o,isCloudServerDownForMaintenance:l,hasAttemptedSignIn:c,isUserLocked:d,isUserFeaturesPopulated:u,isUserFeaturesError:p,onPopulateUserFeatures:m}=e,h=Object(I.g)(),f=!!Object(I.j)({path:[_k.a.account,_k.a.announcements,_k.a.devices,_k.a.webhooks,_k.a.onlineMediaSources,_k.a.userSharingSettings,_k.a.usersSharing,_k.a.serverSettingsStatusSync],exact:!0}),[b,v]=Object(g.useState)(p||u),S=(c||o)&&!d,E=S&&s,O=u||p||b||o,M=!a&&!n&&!l&&!o&&S||f&&r;if(Object(g.useEffect)(()=>{if(E){const e=window.setTimeout(()=>v(!0),5e3);return()=>window.clearTimeout(e)}},[E]),Object(g.useEffect)(()=>{E&&m()},[E,m]),O3(()=>{h.push(_k.a.login)},M),n&&O&&S&&(!f||s))return t;if(!i&&(f||!a&&!n)){if(l)return y.a.createElement(Yk,null);if(o)return y.a.createElement(Xk,null)}return y.a.createElement(Re,null,y.a.createElement(Ge,null))}Abe.defaultProps={isAccountRequired:!1};var Lbe=Abe;const kbe=Object(he.a)(e=>e.downloads,e=>!!e&&(!e.isSubscriptionsPopulated&&!e.subscriptionsError)),Rbe=Object(he.a)(e=>e.downloads,e=>!!(e&&e.subscriptions&&e.subscriptions.length>0)),zbe=Object(he.a)(Ft.a,e=>e.some(e=>e.isCloud&&e.isResolved||!e.isCloud&&e.isConnected)),Ube=Object(he.a)(e=>e.isWaitingForServers,kbe,zbe,Rbe,AU.a,Gk,(e,t,a,n,i,r)=>({isWaitingForServers:e||t,isAnyServerAuthenticated:a||n,isWaitingForCloudServer:!r.isResolved&&!r.isRejected,isCloudServerUnauthorized:r.isUnauthorized,isCloudServerConnected:r.isConnected,isCloudServerUnavailable:r.isUnavailable,isCloudServerDownForMaintenance:r.isDownForMaintenance,hasAttemptedSignIn:i.hasAttemptedSignIn,isUserLocked:i.isLocked,isUserFeaturesPopulated:i.isFeaturesPopulated,isUserFeaturesError:!!i.featuresError})),Vbe={onPopulateUserFeatures:xy.j};var Bbe=Object(v.b)(Ube,Vbe)(Lbe);function Fbe(){const{machineIdentifier:e,deviceID:t}=Object(I.i)(),a=Object(VE.a)("ServerSettingsSyncView",e);return y.a.createElement(Bbe,null,y.a.createElement(Aue,{key:a,view:xbe,viewOptions:{settingsSection:"status",settingsGroup:"sync",serverID:e,deviceID:t}}))}function Hbe(){const{machineIdentifier:e,settingsSection:t,settingsGroup:a}=Object(I.i)(),n=Object(v.d)(Zt(e)),i=Object(VE.a)("ServerSettingsView",e,t,a,n.connectionTestResult);return y.a.createElement(Bbe,null,y.a.createElement(Aue,{key:i,view:xbe,viewOptions:{settingsSection:t,settingsGroup:a,serverID:e}}))}var _be=a("GTkx"),Wbe=a.n(_be);function Qbe(e){return y.a.createElement(pe,{...e})}Qbe.defaultProps={className:Wbe.a.container};var Gbe=Qbe;var Kbe=function(e){return e.get("desktop").get("settings").populate().then(e=>e.get("AcceptedEULA").save({AcceptedEULA:!0}))},Ybe=a("HXOB");const qbe=Object(yo.a)("user/signIn/signInWithAuthToken");const Zbe={"user/signIn/signInWithAuthToken"(e,t,a){const{authToken:n,onSignInSuccess:i}=t,r=e.get("user");r.get("isSignedIn")&&r.get("authToken")!==n?See.a.execute("resetUser").then(()=>Ybe.a.set("myPlexAccessToken",n)).then(()=>window.location.reload()):function(e,{authToken:t,onSignInSuccess:a}){const n=e.get("cloudServer"),i=e.get("user");h.a.ajax(n.getXHROptions(M.a.result(i,"url"),{headers:{"X-Plex-Token":t}})).then(e=>i.signIn(e)).then(()=>{a&&a()}).fail(e=>{const t=Lhe(e);$.a.trigger("show:alert",{message:Uhe(t)})})}(e,{authToken:n,onSignInSuccess:i})}};var Xbe=a("ivj2"),Jbe=a.n(Xbe);var $be=function(){return y.a.createElement("div",{className:Jbe.a.plexImageContainer},y.a.createElement("div",{className:Jbe.a.plexImage}))},eve=a("t3yN"),tve=a.n(eve);function ave(e){const{component:t,...a}=e;return y.a.createElement(t,{className:tve.a.section,...a})}ave.defaultProps={component:"div"};var nve=ave,ive=a("xHnD"),rve=a.n(ive);var sve=function(e){return y.a.createElement(nve,null,y.a.createElement("div",{className:rve.a.header},Object(Ce.default)("You must be signed in for Plex to work properly. If you are not signed in…")),y.a.createElement("ul",{className:rve.a.list},y.a.createElement("li",{className:rve.a.item},Object(Ce.default)("Any connections between your media server and players WILL NOT BE SECURE")),y.a.createElement("li",{className:rve.a.item},Object(Ce.default)("You may experience degraded streaming performance")),y.a.createElement("li",{className:rve.a.item},Object(Ce.default)("It will be more difficult, and sometimes impossible, to find your server and discover players")),y.a.createElement("li",{className:rve.a.item},Object(Ce.default)("You will not be able to access your media server from outside your home")),y.a.createElement("li",{className:rve.a.item},Object(Ce.default)("You will not be able to access content and many features provided by Plex"))))},ove=a("66mf"),lve=a.n(ove);class cve extends g.Component{constructor(e,t){super(e,t),this.onSwitchToSkipSignInPress=()=>{this.setState({isSkipSignInVisible:!0})},this.onStillTherePress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onStillTherePress()},this.onSignInPress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onSignInPress()},this.state={isSkipSignInVisible:!1}}render(){const{to:e,code:t,signUp:a,isBusy:n,onSkipSignInPress:i}=this.props,r=!(n||t),s=!r,o=this.state.isSkipSignInVisible,l=Object(I.f)(Uge.a.location.pathname,{path:_k.a.serverSetup});return y.a.createElement(XD.a,{className:lve.a.page,autoScroll:!0},l&&!o?y.a.createElement(jI.a,{className:lve.a.switchToSkipSignInLink,kind:ao.d,onPress:this.onSwitchToSkipSignInPress},Object(Ce.default)("What's this?")):null,y.a.createElement($be,null),y.a.createElement("div",{className:lve.a.container},o?y.a.createElement(sve,null):null,y.a.createElement("div",{className:lve.a.section},s?y.a.createElement(jme.a,{className:lve.a.button,kind:ao.d,size:cc.a,to:e,target:"_blank",type:"submit",isSpinning:!t,onPress:this.onSignInPress},a?Object(Ce.default)("Sign up"):Object(Ce.default)("Sign in")):null,r?y.a.createElement(jI.a,{kind:ao.d,onPress:this.onStillTherePress},Object(Ce.default)("Are you still there?")):null)),o?y.a.createElement(jI.a,{className:lve.a.addendumLink,kind:ao.d,onPress:i},Object(Ce.default)("Skip and accept limited functionality")):null)}}var dve=cve;const uve={dispatchPreloadPIN:Oge,dispatchBeginPolling:Cge,dispatchStopPolling:jge,dispatchSkipSignIn:Dge};class pve extends g.Component{constructor(){super(...arguments),this.onSignInPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()},this.onSkipSignInPress=()=>{this.props.dispatchSkipSignIn()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const{dispatchPreloadPIN:e,dispatchBeginPolling:t,dispatchStopPolling:a,dispatchSkipSignIn:n,...i}=this.props;return y.a.createElement(Bge,{component:dve,onSignInPress:this.onSignInPress,onStillTherePress:this.onStillTherePress,onSkipSignInPress:this.onSkipSignInPress,...i})}}var mve=Object(v.b)(Ahe,uve)(pve);const hve={dispatchReadStoredPIN:Ege};class gve extends g.Component{componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!0})}render(){const{pinID:e,dispatchReadStoredPIN:t,...a}=this.props;return e?y.a.createElement(Bge,{component:xge,replace:!0,pinID:e,...a}):y.a.createElement(qk.a,null,y.a.createElement(HO.a,null))}}var yve=Object(v.b)(Ahe,hve)(gve);const fve={dispatchResetAuthCodeExchange:Mge,dispatchSignInWithAuthToken:qbe};class bve extends g.Component{componentDidMount(){this.props.dispatchResetAuthCodeExchange()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInWithAuthToken({authToken:this.props.authToken,onSignInSuccess:this.props.signUp?()=>Object(see.a)("home"):null})}render(){const{providerID:e,errorMessage:t,fatalErrorMessage:a,signUp:n,isPollClient:i,dispatchResetAuthCodeExchange:r,dispatchSignInWithAuthToken:s,...o}=this.props;return a?y.a.createElement(Yk,null):e?y.a.createElement(Bge,{component:xge,providerID:e,signUp:n,replace:!0,...o}):i?y.a.createElement(mve,{signUp:n,...o}):y.a.createElement(yve,{signUp:n})}}var vve=Object(v.b)((function(){return Object(he.a)(Ahe,e=>({isPollClient:pge(),...e}))}),fve)(bve);var Ive=oee.extend({component:e=>y.a.createElement(pe,null,y.a.createElement(vve,{signUp:e.signUp}))}),Sve=a("dpdm"),Eve=a.n(Sve),Ove=p.a.ItemView.extend({className:"setup-basic-container",template:Eve.a,ui:{modalContainer:".modal-container",connectCheckbox:"#connect",publishServerCheckbox:"#PublishServerOnPlexOnlineKey",submitBtn:".submit-btn",nextBtn:".next-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-basic-form":"onSubmit","change #PublishServerOnPlexOnlineKey":"onPublishSettingChange"},initialize:function(){M.a.bindAll(this,"onPlexPassModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.model.isVersionOrNewer("0.9.15.5")?this.changes={PublishServerOnPlexOnlineKey:1}:this.changes={FirstRun:0,PublishServerOnPlexOnlineKey:1};var e=this.model.get("superToken");e&&(this.changes.PlexOnlineToken=e);var t=Object(E.c)("appModel").get("user").get("hasPlexSubscription");this.isPlexPassModalOpen=!this.model.get("isDesktop")&&!t},serializeData:function(){var e=this.model.toJSON(),t=this.collection.get("FriendlyName"),a=this.collection.get("PublishServerOnPlexOnlineKey");return{server:e,friendlyNameSetting:t?t.toJSON():null,publishSetting:a?a.toJSON():null}},mountReact:function(){b.a.render(y.a.createElement(v.a,{store:Object(E.c)("appStore")},y.a.createElement(Jc.a,{origin:Cre.g,metricsProperties:{context:aS.SETUP_WIZARD,firstRun:!0},isOpen:this.isPlexPassModalOpen,onModalClose:this.onPlexPassModalClose})),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&b.a.unmountComponentAtNode(this.ui.modalContainer[0])},submit:function(){var e=this.ui.submitBtn;if(!e.hasClass("active")){e.addClass("active"),Object(E.c)("metrics").trackClick({action:Gi.X,page:It.mb,pane:"name",firstRun:!0,value:this.ui.publishServerCheckbox.is(":checked")});var t=this.save();(t=t.done(()=>{this.ui.nextBtn.click()})).always((function(){e.removeClass("active")}))}},save(){return this.saveChanges().then(()=>this.claimServer())},saveChanges(){return(M.a.isEmpty(this.changes)?h.a.Deferred().resolve().promise():this.collection.first().save(this.changes)).then(null,()=>{$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem saving these settings.")})})},claimServer(){const e=Object(E.c)("appModel"),t=e.get("cloudServer");return this.model.supports("claimServer")&&!this.model.get("isClaimed")&&!this.model.get("superToken")&&!e.get("user").get("anonymous")?Object(H.a)(t.populate().then(()=>See.a.execute("signInServer",{claim:!0,cloudAccount:this.model.get("desktop").get("cloudAccount")}).then(null,()=>{$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem claiming this server.")})}))):h.a.Deferred().resolve().promise()},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,a=t.value;"checkbox"===t.type&&(a=t.checked?1:0),this.changes[t.id]=a},onSubmit:function(e){e.preventDefault(),this.submit()},onPlexPassModalClose:function(){this.isPlexPassModalOpen=!1,this.mountReact()}}),Mve=a("0v4y"),Cve=a("vEnl"),jve=a.n(Cve),Dve=p.a.ItemView.extend({className:"setup-complete-container",template:jve.a,ui:{modalContainer:".modal-container",submitBtn:".submit-btn",doneBtn:".done-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-complete-form":"onSubmit"},initialize:function(){M.a.bindAll(this,"onDVRSetupModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.changes={},this.isDVRSetupModalOpen=!1;var e=E.c("appModel").get("user");e.get("isSignedIn")?e.fetch().done(this.whenRendered(()=>{this.ui.submitBtn.removeClass("active")})):this.once("attached",()=>{this.ui.submitBtn.removeClass("active")})},serializeData:function(){var e=this.collection.get("collectUsageData");return{devicesImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQ4IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDU0OCAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5Hcm91cDwvdGl0bGU+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0xOTYgMTczdjEzSDgxdi0xNCIvPjxtYXNrIGlkPSJqIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik02LjUyMiAxNzNDMi45MiAxNzMgMCAxNzAuNjMxIDAgMTY3LjcxVjUuMjlDMCAyLjM3IDIuOTIgMCA2LjUyMiAwaDI2Mi45NTZDMjczLjA4IDAgMjc2IDIuMzY5IDI3NiA1LjI5djE2Mi40MmMwIDIuOTIxLTIuOTIgNS4yOS02LjUyMiA1LjI5SDYuNTIyeiIgaWQ9ImIiLz48bWFzayBpZD0iayIgeD0iMCIgeT0iMCIgd2lkdGg9IjI3NiIgaGVpZ2h0PSIxNzMiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2IiLz48L21hc2s+PHBhdGggaWQ9ImMiIGQ9Ik0xMyAxNjAuMTg1aDI0OS45MVYxM0gxM3oiLz48bWFzayBpZD0ibCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0OS45MTEiIGhlaWdodD0iMTQ3LjE4NSIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cmVjdCBpZD0iZCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIHJ4PSI2Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxOTIiIGhlaWdodD0iMTQwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNkIi8+PC9tYXNrPjxwYXRoIGlkPSJlIiBkPSJNMjAgMTFoMTUydjExOEgyMHoiLz48bWFzayBpZD0ibiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE1MiIgaGVpZ2h0PSIxMTgiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2UiLz48L21hc2s+PGNpcmNsZSBpZD0iZiIgY3g9IjEyIiBjeT0iNzAiIHI9IjYiLz48bWFzayBpZD0ibyIgeD0iMCIgeT0iMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMCAxOGg3MnY4NEgweiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iODQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2ciLz48L21hc2s+PGNpcmNsZSBpZD0iaCIgY3g9IjM2IiBjeT0iMTA5IiByPSI1Ii8+PG1hc2sgaWQ9InEiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjaCIvPjwvbWFzaz48cmVjdCBpZD0iaSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNpIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3MiA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI2opIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjaykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNsKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDIyMCkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNkIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2UiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZiIvPjxjaXJjbGUgZmlsbD0iI0JCQiIgY3g9IjE4MCIgY3k9IjcwIiByPSIyIi8+PHBhdGggZmlsbD0iI0Y4QUQxOCIgZD0iTTk0LjU4IDEwMkg3NmwyMC42NDUtMzAuOTY4TDc2IDM4aDE4LjU4bDIwLjY0NiAzMy4wMzJ6Ii8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwKSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3ApIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcSkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjwvZz48L3N2Zz4=",collectUsageDataSetting:e?e.toJSON():null}},mountReact:function(){b.a.render(y.a.createElement("div",null,this.isDVRSetupModalOpen?y.a.createElement(v.a,{store:E.c("appStore")},y.a.createElement(Cde,{serverEntityID:this.model.entityID(),isModalOpen:this.isDVRSetupModalOpen,onModalClose:this.onDVRSetupModalClose})):null),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&b.a.unmountComponentAtNode(this.ui.modalContainer[0])},fetchDVRs:function(){const e=h.a.Deferred();return new Mve.a([],{server:this.model}).fetch().then(t=>{t.filter(e=>!e.get("parentID")&&e.get("status")===rce.b.ALIVE).length?e.resolve():e.reject()},()=>{e.reject()}),e.promise()},submit:function(){var e=this.ui.submitBtn;e.hasClass("active")||(e.addClass("active"),this.save().always(this.whenRendered((function(){this.ui.doneBtn.click(),e.removeClass("active")}))))},save:function(){this.saved=!0,M.a.has(this.changes,"collectUsageData")&&!this.changes.collectUsageData&&E.c("metrics").trackClick({action:Gi.L,page:It.mb,pane:"complete",firstRun:!0});const e=this.collection.first().save(this.changes),t=this.model.get("sections").filter(e=>e.isNew()).map(e=>e.save()),a=h.a.when(e,Object(RU.a)(t));return a.fail(()=>{$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem saving these settings.")})}),a},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.saved||this.save(),this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,a=t.value;"checkbox"===t.type&&(a=t.checked?1:0),this.changes[t.id]=a},onSubmit:function(e){e.preventDefault(),this.submit()},onDVRSetupModalClose:function(){this.isDVRSetupModalOpen=!1,this.ui.submitBtn.removeClass("active"),this.mountReact()}}),Pve=a("c7MW"),Tve=a.n(Pve),wve=p.a.ItemView.extend({className:"setup-error-container",template:Tve.a}),Nve=a("sPMf"),xve=a.n(Nve);var Ave=p.a.ItemView.extend({className:"setup-intro-container",template:xve.a,serializeData:()=>({computerImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODEwIiBoZWlnaHQ9IjIzMCIgdmlld0JveD0iMCAwIDgxMCAyMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTVMg4oaSIENvbXB1dGVyPC90aXRsZT48ZGVmcz48cGF0aCBkPSJNMTU5LjU5NSAyMDcuNDc3Yy0uNDk0LTIuNDctMi42NS05LjczMi0zLjM0Ny0yMS40NDRIOTkuMzZjLS42OTggMTEuNzEyLTIuODUzIDE4Ljk3NC0zLjM0NiAyMS40NDQtLjk3NiA0Ljg4LTQuNzkgOC44MjktMTIuMDQgMTEuMDU5LTUuOTEyIDEuODE5LTUuMTU4IDEwLjY5MyAxLjY3NCAxMC42OTNoODQuMzE0YzYuODMxIDAgNy41ODctOC44NzMgMS42NzMtMTAuNjkzLTcuMjUtMi4yMy0xMS4wNjQtNi4xNzgtMTIuMDQtMTEuMDU5eiIgaWQ9ImEiLz48bWFzayBpZD0iZCIgeD0iMCIgeT0iMCIgd2lkdGg9Ijk1LjYzMyIgaGVpZ2h0PSI0My4xOTYiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTI1NiAxNDcuNXYzMS41NjRjMCA1LjUyNy00LjQ3IDEwLjAwOC05Ljk5NiAxMC4wMDhIOS45OTZjLTUuNTIgMC05Ljk5Ni00LjQ3Ni05Ljk5Ni0xMC4wMDhWMTAuMDAzQzAgNC40OCA0LjQ3IDAgOS45OTYgMGgyMzYuMDA4QzI1MS41MjQgMCAyNTYgNC40ODUgMjU2IDEwLjAwM1YxNDcuNXoiIGlkPSJiIi8+PG1hc2sgaWQ9ImUiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNTYiIGhlaWdodD0iMTg5LjA3MiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48Y2lyY2xlIGlkPSJjIiBjeD0iMTEwIiBjeT0iMTEwIiByPSIxMTAiLz48bWFzayBpZD0iZiIgeD0iMCIgeT0iMCIgd2lkdGg9IjIyMCIgaGVpZ2h0PSIyMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2MiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTUzKSIgc3Ryb2tlPSIjQkJCIj48dXNlIG1hc2s9InVybCgjZCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2EiLz48dXNlIG1hc2s9InVybCgjZSkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCNmKSIgc3Ryb2tlLXdpZHRoPSI4IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMTIuMTM0IDE3OS42NjdINzIuMTFsNDQuMzEtNjkuMDU2LTQ0LjMxLTY5LjA1NWg0MC4wMjNsNDQuMzEgNjkuMDU1eiIvPjwvZz48ZyBmaWxsPSIjQkJCIj48cGF0aCBkPSJNNTA0LjUgMTE1bC0xNCAxMy41di0yN3pNNDc5IDExOGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnoiLz48L2c+PC9nPjwvc3ZnPg==",mediaImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzE1IiBoZWlnaHQ9IjE0OSIgdmlld0JveD0iMCAwIDcxNSAxNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5NRURJQSBJQ09OUzwvdGl0bGU+PGRlZnM+PHBhdGggZD0iTTU3Ljg5NyAwSDEwLjAwOEM0LjQ4MiAwIDAgNC40ODEgMCAxMC4wMDh2NS41MDVMNTcuODk3IDB6bTU2Ljc3NiAwaDMuODljNS41MjcgMCAxMC4wMDggNC40ODIgMTAuMDA4IDEwLjAwOHY0MS44NkwxMTQuNjczIDB6bTEzLjg5OCAxMTQuMTY4djQuMzk1YzAgNS41MjctNC40ODEgMTAuMDA4LTEwLjAwOCAxMC4wMDhINzQuODE4bDUzLjc1My0xNC40MDN6TTE2LjAyIDEyOC41NzFoLTYuMDFDNC40OCAxMjguNTcxIDAgMTI0LjA5IDAgMTE4LjU2M1Y2OC43ODlsMTYuMDE5IDU5Ljc4MnoiIGlkPSJhIi8+PG1hc2sgaWQ9ImoiIHg9Ii0yIiB5PSItMiIgd2lkdGg9IjEzMi41NzEiIGhlaWdodD0iMTMyLjU3MSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTS0yLTJoMTMyLjU3MXYxMzIuNTcxSC0yeiIvPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHJlY3QgaWQ9ImIiIHdpZHRoPSIxMjguNTcxIiBoZWlnaHQ9IjEyOC41NzEiIHJ4PSIxMCIvPjxtYXNrIGlkPSJrIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTI4LjU3MSIgaGVpZ2h0PSIxMjguNTcxIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNiIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS43ODIgMjYuNTkyVjgzLjk5Yy0zLjI3OS0xLjAzNC03LjIzNC0xLjE2LTExLjI2Ny0uMTAzLTguNzY3IDIuMjk3LTE0LjQ4OCA5LjI2LTEyLjc3IDE1LjUzNSAxLjcxOCA2LjI3NiAxMC4yMjYgOS41MDUgMTguOTk1IDcuMTk3IDguMTAxLTIuMTE2IDE0LjcxLTguMjE3IDE0LjE1LTE0LjA3NmwuMDQxLTQxLjcxOCA0MC4zODYtNS4zODV2MzMuMTY1Yy0zLjI4LTEuMDM0LTcuMjM1LTEuMTYtMTEuMjY4LS4xMDItOC43NjYgMi4yOTYtMTQuNDg4IDkuMjU5LTEyLjc3IDE1LjUzNXMxMC4yMjYgOS41MDQgMTguOTk1IDcuMTk2YzguMTAxLTIuMTE2IDE0LjcxMS04LjIxNyAxNC4xNTEtMTQuMDc1IDAtMTQuNzk1LjA0LTY1Ljk1LjA0LTY1Ljk1bC01OC42ODMgNS4zODR6IiBpZD0iYyIvPjxtYXNrIGlkPSJsIiB4PSIwIiB5PSIwIiB3aWR0aD0iODMuMDI1IiBoZWlnaHQ9Ijg2LjE1NiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cGF0aCBkPSJNNjYuMTEzIDkuNTk1bC00MC43MDUtMy41NmE4Ljg0NSA4Ljg0NSAwIDAgMC05LjU4NiA4LjA0bC0uMzkgNC40NTcgNTAuNjgtOC45Mzd6bTU1LjczNCA0Ljg3N2w1LjQ3NS40NzljNC44NjguNDI1IDguNDcgNC43MTcgOC4wNDQgOS41ODNsLTMuODk1IDQ0LjUxOC05LjYyNC01NC41OHptNC4yMDEgMTE2LjU2bC0uNDcgNS4zODNhOC44NDUgOC44NDUgMCAwIDEtOS41ODYgOC4wNGwtNDQuMTYtMy44NjMgNTQuMjE2LTkuNTZ6bS0xMDQuNTkgNS4xNTNsLTcuMzgtLjY0NWMtNC44NjgtLjQyNi04LjQ3LTQuNzE4LTguMDQ0LTkuNTg0bDQuNTE3LTUxLjYyNSAxMC45MDYgNjEuODU0eiIgaWQ9ImQiLz48bWFzayBpZD0ibSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTMzLjQiIGhlaWdodD0iMTQyLjQ5Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCA0aDEzMy40djE0Mi40OUg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggZD0iTS42MDcgOS4wMTVBOC44NDUgOC44NDUgMCAwIDEgOS40NTUuMTY5SDExMS43NmM0Ljg4NyAwIDguODQ4IDMuOTYxIDguODQ4IDguODQ2djExMi4zMDhhOC44NDUgOC44NDUgMCAwIDEtOC44NDggOC44NDZIOS40NTVjLTQuODg2IDAtOC44NDgtMy45NjItOC44NDgtOC44NDZWOS4wMTV6IiBpZD0iZSIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEzMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48cGF0aCBpZD0iZiIgZD0iTTE0LjYzNiAxNC4xOTdoOTAuNjQ3djgyLjAxNEgxNC42MzZ6Ii8+PG1hc2sgaWQ9Im8iIHg9IjAiIHk9IjAiIHdpZHRoPSI5MC42NDciIGhlaWdodD0iODIuMDE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMTQuNjM2IDY1Ljk5NmwzMC4yMTYtMjMuNzQxIDIzLjc0IDI2Ljk3OCAxNC4wMy0xMC43OTEgMjIuNjYxIDIwLjUwNHYxNy4yNjZIMTQuNjM2eiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iOTAuNjQ3IiBoZWlnaHQ9IjUzLjk1NyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48cGF0aCBkPSJNNjMuOTcyIDguNjgxTDIyLjEyIDUuMDE5YTUgNSAwIDAgMC01LjQyIDQuNTM5bC0uNjYzIDcuNTc1IDQ3LjkzNS04LjQ1MnptNDcuODg1IDQuMTlsMTAuODcyLjk1YTUuMDA0IDUuMDA0IDAgMCAxIDQuNTQ5IDUuNDExbC00Ljc0MiA1NC4yLTEwLjY3OS02MC41NjJ6bTUuMzkxIDEyMC45OThsLS42NTEgNy40NDdhNSA1IDAgMCAxLTUuNDIgNC41MzlsLTQxLjM3NC0zLjYyIDQ3LjQ0NS04LjM2NnptLTk2LjA0MiA0LjExNGwtMTAuNjM4LS45M2E1LjAwNCA1LjAwNCAwIDAgMS00LjU0OS01LjQxMWw0LjY2Ni01My4zMjcgMTAuNTIgNTkuNjY4eiIgaWQ9ImgiLz48bWFzayBpZD0icSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTI1LjI5NyIgaGVpZ2h0PSIxNDQuODc0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCAzaDEyNS4yOTd2MTQ0Ljg3NEg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2giLz48L21hc2s+PHBhdGggZD0iTTExIDEzLjk5NEE1IDUgMCAwIDEgMTYuMDAzIDloMTAwLjk5NEE1LjAwNCA1LjAwNCAwIDAgMSAxMjIgMTMuOTk0djEyMi41NWE1LjAwMSA1LjAwMSAwIDAgMS01IDQuOTkzSDE2Yy0yLjc2MSAwLTUtMi4yNDQtNS00Ljk5M1YxMy45OTR6IiBpZD0iaSIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTExIiBoZWlnaHQ9IjEzMi41MzciIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgc3Ryb2tlPSIjRDhGRjk1IiBzdHJva2Utd2lkdGg9IjQiPjx1c2UgbWFzaz0idXJsKCNqKSIgeGxpbms6aHJlZj0iI2EiIHRyYW5zZm9ybT0icm90YXRlKDUgMjQxLjM5NiA2NjczLjYwNykiLz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNDEwLjE1IC0zMjI4LjA3KSI+PHVzZSBtYXNrPSJ1cmwoI2spIiB4bGluazpocmVmPSIjYiIvPjx1c2UgbWFzaz0idXJsKCNsKSIgeGxpbms6aHJlZj0iI2MiLz48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3OSAtMSkiIHN0cm9rZT0iI0ZGQTBERSIgc3Ryb2tlLXdpZHRoPSI0Ij48dXNlIG1hc2s9InVybCgjbSkiIHhsaW5rOmhyZWY9IiNkIi8+PGcgdHJhbnNmb3JtPSJyb3RhdGUoLTEwIDEyMi42NSA3LjEzNSkiPjx1c2UgbWFzaz0idXJsKCNuKSIgeGxpbms6aHJlZj0iI2UiLz48dXNlIG1hc2s9InVybCgjbykiIHhsaW5rOmhyZWY9IiNmIi8+PHVzZSBtYXNrPSJ1cmwoI3ApIiB4bGluazpocmVmPSIjZyIvPjwvZz48L2c+PGcgc3Ryb2tlPSIjQTRFMkZGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSAtMSkiPjx1c2UgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjaCIvPjx1c2UgbWFzaz0idXJsKCNyKSIgc3Ryb2tlLXdpZHRoPSI0IiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNjYuNSA3NS4yNjkpIiB4bGluazpocmVmPSIjaSIvPjxwYXRoIHN0cm9rZS13aWR0aD0iMiIgZD0iTTExLjgyMyAzMS4wNTNsOS43OS0xLjcyNyAxLjcyNSA5Ljc5LTkuNzg5IDEuNzI2ek0xNS45OTQgNTQuNzFsOS43OS0xLjcyNSAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yMC4xNjYgNzguMzY4bDkuNzktMS43MjcgMS43MjUgOS43OS05Ljc4OSAxLjcyNXpNMjQuMzM3IDEwMi4wMjZsOS43OS0xLjcyNiAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yOC41MSAxMjUuNjgybDkuNzg4LTEuNzI2IDEuNzI2IDkuNzktOS43ODkgMS43MjV6TTkzLjQgMTYuNjY5bDkuNzktMS43MjYgMS43MjUgOS43ODktOS43ODggMS43MjZ6TTk3LjU3MyA0MC4zMjZsOS43ODktMS43MjYgMS43MjYgOS43OS05Ljc5IDEuNzI1ek0xMDEuNzQzIDYzLjk4NGw5Ljc5LTEuNzI2IDEuNzI2IDkuNzg4LTkuNzkgMS43Mjd6TTEwNS45MTQgODcuNjRsOS43OS0xLjcyNSAxLjcyNSA5Ljc4OS05Ljc4OSAxLjcyNnpNMTEwLjA4NiAxMTEuMjk5bDkuNzktMS43MjcgMS43MjYgOS43OS05Ljc5IDEuNzI2ek0zMS43MTYgMzIuNjU5bDUyLjIxLTkuMjA2IDcuMTkxIDQwLjc4OC01Mi4yMSA5LjIwNnpNNDEuNDk3IDg4LjEzMmw1Mi4yMS05LjIwNiA3LjE5MSA0MC43ODgtNTIuMjEgOS4yMDZ6Ii8+PC9nPjwvZz48L3N2Zz4=",playImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTQ1IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDk0NSAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTEFZIE1FRElBIElDT05TPC90aXRsZT48ZGVmcz48cGF0aCBpZD0iYSIgZD0iTTE5NiAxNzJ2MTRIODF2LTE0Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTUiIGhlaWdodD0iMTQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTYuNTIyIDE3M0MyLjkyIDE3MyAwIDE3MC42MzEgMCAxNjcuNzFWNS4yOUMwIDIuMzcgMi45MiAwIDYuNTIyIDBoMjYyLjk1NkMyNzMuMDggMCAyNzYgMi4zNjkgMjc2IDUuMjl2MTYyLjQyYzAgMi45MjEtMi45MiA1LjI5LTYuNTIyIDUuMjlINi41MjJ6IiBpZD0iYiIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjc2IiBoZWlnaHQ9IjE3MyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48cGF0aCBpZD0iYyIgZD0iTTEzIDE2MC4xODVoMjQ5LjkxVjEzSDEzeiIvPjxtYXNrIGlkPSJvIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQ5LjkxMSIgaGVpZ2h0PSIxNDcuMTg1IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNjIi8+PC9tYXNrPjxyZWN0IGlkPSJkIiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE0MCIgcng9IjYiLz48bWFzayBpZD0icCIgeD0iMCIgeT0iMCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggaWQ9ImUiIGQ9Ik0yMCAxMWgxNTJ2MTE4SDIweiIvPjxtYXNrIGlkPSJxIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTUyIiBoZWlnaHQ9IjExOCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48Y2lyY2xlIGlkPSJmIiBjeD0iMTIiIGN5PSI3MCIgcj0iNiIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2YiLz48L21hc2s+PHBhdGggaWQ9ImciIGQ9Ik0wIDE4aDcydjg0SDB6Ii8+PG1hc2sgaWQ9InMiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSI4NCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48Y2lyY2xlIGlkPSJoIiBjeD0iMzYiIGN5PSIxMDkiIHI9IjUiLz48bWFzayBpZD0idCIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNoIi8+PC9tYXNrPjxyZWN0IGlkPSJpIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiByeD0iOC40Ii8+PG1hc2sgaWQ9InUiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PHBhdGggZD0iTTE1OS41OTUgMjA3LjQ3N2MtLjQ5NC0yLjQ3LTIuNjUtOS43MzItMy4zNDctMjEuNDQ0SDk5LjM2Yy0uNjk4IDExLjcxMi0yLjg1MyAxOC45NzQtMy4zNDYgMjEuNDQ0LS45NzYgNC44OC00Ljc5IDguODI5LTEyLjA0IDExLjA1OS01LjkxMiAxLjgxOS01LjE1OCAxMC42OTMgMS42NzQgMTAuNjkzaDg0LjMxNGM2LjgzMSAwIDcuNTg3LTguODczIDEuNjczLTEwLjY5My03LjI1LTIuMjMtMTEuMDY0LTYuMTc4LTEyLjA0LTExLjA1OXoiIGlkPSJqIi8+PG1hc2sgaWQ9InYiIHg9IjAiIHk9IjAiIHdpZHRoPSI5NS42MzMiIGhlaWdodD0iNDMuMTk2IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNqIi8+PC9tYXNrPjxwYXRoIGQ9Ik0yNTYgMTQ3LjV2MzEuNTY0YzAgNS41MjctNC40NyAxMC4wMDgtOS45OTYgMTAuMDA4SDkuOTk2Yy01LjUyIDAtOS45OTYtNC40NzYtOS45OTYtMTAuMDA4VjEwLjAwM0MwIDQuNDggNC40NyAwIDkuOTk2IDBoMjM2LjAwOEMyNTEuNTI0IDAgMjU2IDQuNDg1IDI1NiAxMC4wMDNWMTQ3LjV6IiBpZD0iayIvPjxtYXNrIGlkPSJ3IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjU2IiBoZWlnaHQ9IjE4OS4wNzIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2siLz48L21hc2s+PGNpcmNsZSBpZD0ibCIgY3g9IjU1IiBjeT0iNTUiIHI9IjU1Ii8+PG1hc2sgaWQ9IngiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTAiIGhlaWdodD0iMTEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNsIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OSA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTcgMjIwKSI+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2QiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZSIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNmIi8+PGNpcmNsZSBmaWxsPSIjQkJCIiBjeD0iMTgwIiBjeT0iNzAiIHI9IjIiLz48cGF0aCBmaWxsPSIjRjhBRDE4IiBkPSJNOTQuNTggMTAySDc2bDIwLjY0NS0zMC45NjhMNzYgMzhoMTguNThsMjAuNjQ2IDMzLjAzMnoiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDU3KSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3MpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdCkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3UpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjxnIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zMzAuNTk4IDE4My4yNTRDMzQxLjM1NSAxNzIuNDEgMzQ4IDE1Ny40ODEgMzQ4IDE0MWMwLTE2LjcyMy02Ljg0MS0zMS44NDgtMTcuODc4LTQyLjcyOCIvPjxwYXRoIGQ9Ik0zMTkuOTg4IDE3Mi42NUMzMjguMDMzIDE2NC41MiAzMzMgMTUzLjM0IDMzMyAxNDFjMC0xMi41MjMtNS4xMTUtMjMuODUxLTEzLjM3LTMyLjAxTTMwOS41MDIgMTYxLjkyQTI5LjkwMiAyOS45MDIgMCAwIDAgMzE4IDE0MWMwLTguMzc2LTMuNDMzLTE1Ljk1MS04Ljk2OS0yMS4zOTQiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA2NSkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3YpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNqIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2siLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzMgMjEpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCN4KSIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjbCIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik01Ni4zODIgODkuMzc1SDM2LjMzOUw1OC41MyA1NSAzNi4zNCAyMC42MjVoMjAuMDQzTDc4LjU3MiA1NXoiLz48L2c+PC9nPjwvZz48L3N2Zz4="})}),Lve=a("TxKk"),kve=a("yCP3"),Rve=a.n(kve),zve={artist:"music",movie:"film",photo:"picture",show:"display"},Uve=p.a.ItemView.extend({tagName:"li",className:"card-tile-list-single-item",template:Rve.a,events:{"click .edit-section-btn":"onEditClick","click .delete-section-btn":"onDeleteClick"},serializeData:function(){var e=this.model.server,t=this.model.toJSON(),a=t.locations&&t.locations[0],n=t.locations?t.locations.length:0;return{section:t,serverID:e.id,icon:zve[t.type],path:a.path,more:n-1}},bindings:{".section-title":{modelAttribute:"title"}},onEditClick:function(e){e.preventDefault();const t=this.model,a=new oS.a({model:t,server:t.server,isDefaultSection:t.isNew()});t.isNew()&&a.promise.always(()=>{t.trigger("destroy",t,t.collection)}),$.a.trigger("show:modal",a)},onDeleteClick:function(e){e.preventDefault();const t=this.model;t.isNew()?t.trigger("destroy",t,t.collection):See.a.execute("deleteSection",{section:t})}}),Vve=lee.a.extend({tagName:"ul",className:"list card-tile-list",itemView:Uve}),Bve=a("/GUN"),Fve=a.n(Bve),Hve=p.a.Layout.extend({className:"setup-library-container",template:Fve.a,regions:{list:".setup-section-list-container"},events:{"click .add-section-btn":"onAddSectionClick"},metricsValue:function(){return this.collection.size()},initialize:function(e){const t=this.model,a=t.get("sections"),n=new Lve.a([],{server:t,url:"/services/defaultLibraries"});this.collection=a,this.model.supports("defaultSections")&&e.isFirstVisitToSubset&&h.a.when(n.populate(),a.populate()).done(()=>{a.length||n.forEach(e=>{e.collection=a,a.add(e)})})},onRender:function(){this.list.show(new Vve({collection:this.collection}))},onAddSectionClick:function(e){e.preventDefault(),$.a.trigger("show:modal",new oS.a({server:this.model}))}}),_ve=a("VTB1"),Wve=a.n(_ve),Qve=p.a.ItemView.extend({className:"setup-loading-container",template:Wve.a}),Gve=a("h5wC"),Kve=a.n(Gve);var Yve={setupIntro:"intro",setupError:"error",setupBasic:"name",setupLibrary:"library",setupComplete:"complete"},qve=[VI.a,VI.k,VI.b],Zve=p.a.Layout.extend({className:"container",template:Kve.a,maxAttempts:120,ui:{header:".setup-header"},regions:{container:".setup-container"},events:{"click .segment-btn":"onNavClick","click .next-btn":"onNavClick","click .done-btn":"onDoneClick"},onlyAfterRender:["onAgentsSuccess","onAgentsFail","onUpdatesComplete"],initialize:function(e){M.a.bindAll(this,"start","onAgentsSuccess","onAgentsFail","onUpdatesComplete","onSkipSignInChange"),(0,Object(E.c)("appStore").dispatch)(Object(aa.a)({allowLightPreset:!1})),this.subset=e.subset||"setupIntro",this.attempts=0,this._visitedSubsets={},C.a.info("Starting the setup wizard");const t=Object(E.c)("appModel");this.model=Object(GI.m)(t,e),this.listenTo(t,"change:skipSignIn",this.onSkipSignInChange)},serializeData:function(){return{subset:this.subset}},renderSubset:function(){if(this.model.get("shared"))return void this.navigate("setupError");const e=Object(E.c)("appModel"),t=e.get("user").server,a=t.populate();a.done(this.whenRendered(()=>{this.navigate("setupIntro")})),a.fail(()=>{e.get("primaryServer").get("desktop").get("settings").fetch().then(e=>!0===e.get("AcceptedEULA").get("value")?h.a.Deferred().resolve():h.a.Deferred().reject()).then(this.whenRendered(()=>{this.navigate("setupIntro")})).fail(this.whenRendered(()=>{const a=e.get("skipSignIn"),n=t.get("isUnavailable");this.navigate(a||n?"setupIntro":"setupSignIn")}))})},start:function(){if(this.attempts>=this.maxAttempts)return C.a.error("Failed to start the setup wizard after "+this.attempts+" attempts"),void this.navigate("setupError");this.attempts++;var e=this.model.get("startState");if(e)Object(C.a)("Waiting for server to start ("+e+")"),this.model.fetch().done(M.a.delay(this.start,500));else{var t=new uhe.a([],{server:this.model}).fetch({timeout:0});t.done(this.onAgentsSuccess),t.fail(this.onAgentsFail)}},navigate:function(e){var t="setupIntro"===e,a="setupSignIn"===e,n="setupLoading"===e,i=function(e){return{setupSignIn:Ive,setupIntro:Ave,setupLoading:Qve,setupError:wve,setupBasic:Ove,setupLibrary:Hve,setupComplete:Dve}[e]}(e),r=Yve[e];this.previousSubset=this.subset,this.subset=e,r&&Object(E.c)("metrics").trackView({page:It.mb,pane:r,firstRun:!0});const s=!this._visitedSubsets[e];this._visitedSubsets[e]=!0;const o=new i({model:this.model,isFirstRun:!0,isFirstVisitToSubset:s});this.container.show(o),this.ui.header.toggleClass("hidden",t||a),this.$el.addClass(e),this.previousSubset!==e&&this.$el.removeClass(this.previousSubset),n&&this.start()},onRender:function(){this.renderSubset()},onAgentsSuccess:function(e){Object(C.a)("Looking for a core agent");const t=qve.find(t=>e.get(t));t?(Object(C.a)(t+" found"),Kbe(this.model),See.a.execute("updateChannel",{server:this.model,silent:!0}).always(this.onUpdatesComplete)):(C.a.error("No core agents found"),this.navigate("setupError"))},onAgentsFail:function(){C.a.warn("Unable to request agents"),M.a.delay(this.start,500)},onUpdatesComplete:function(){this.navigate("setupBasic")},onNavClick:function(e){e.preventDefault();var t=h()(e.currentTarget),a=t.data("subset");t.hasClass("segment-btn")&&"setupBasic"===this.subset&&this.container.currentView?(e.preventDefault(),this.container.currentView.submit()):this.navigate(a)},onDoneClick:function(e){e.preventDefault(),Object(E.c)("metrics").trackClick({page:It.mb,action:Gi.n,firstRun:!0}),Object(see.a)("home")},onSkipSignInChange(){this.renderSubset()}});function Xve(){return Object(he.a)(Object(RI.a)(),e=>e&&e.desktop)}var Jve=function(e){const{isSettingsPopulated:t,settingsError:a,hasAcceptedEULA:n,isAcceptedEULASaving:i,onPopulateSettings:r,onAcceptEULA:s,onSkipSignIn:o}=e;return O3(()=>{r()}),O3(()=>{s()},t&&!n),O3(()=>{o()},n&&!i),a?y.a.createElement(Kk.a,{title:Object(Ce.default)("Media server not found"),description:Object(Ce.default)("The server you're trying to access doesn't seem to exist.")}):y.a.createElement(qk.a,null,y.a.createElement(HO.a,null))};var $ve=Object(v.b)((function(){return Object(he.a)(Xve(),e=>{const t=e.settings.find(e=>"AcceptedEULA"===e.id);return{isSettingsPopulated:e.isSettingsPopulated,settingsError:e.settingsError,hasAcceptedEULA:!(!t||!t.value),isAcceptedEULASaving:!(!t||!t.isSaving)}})}),(function(e,t){const{serverEntityID:a,forwardUrl:n}=t;return{onPopulateSettings(){e(Object(OS.j)({serverEntityID:a}))},onAcceptEULA(){e(Object(OS.l)({serverEntityID:a,setting:{id:"AcceptedEULA",value:!0}}))},onSkipSignIn(){Object(E.c)("metrics").trackClick({page:It.pb,action:Gi.jb,firstRun:!0}),e(Object(HI.j)({url:n}))}}}))(Jve);var eIe=function(e){const{serverEntityID:t,isWaitingForPrimaryServer:a}=e,n=Object(Me.a)(),i=Object(Qk.a)(n.forwardUrl);return t?y.a.createElement(tR.a,{serverEntityID:t,hideUnclaimedPage:!0},i?y.a.createElement($ve,{serverEntityID:t,forwardUrl:i}):y.a.createElement(Aue,{key:Object(VE.a)("SetupPage",t),className:D1e,view:Zve,viewOptions:{serverEntityID:t,subset:"setupBasic"}})):a?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):y.a.createElement(Kk.a,{title:Object(Ce.default)("Media server not found"),description:Object(Ce.default)("The server you're trying to access doesn't seem to exist.")})};var tIe=Object(v.b)((function(){return Object(he.a)((e,{serverEntityID:t})=>t,e=>e.primaryServer,e=>e.isWaitingForPrimaryServer,Gk,(e,t,a)=>({serverEntityID:e||t,isWaitingForPrimaryServer:a}))}))(eIe);function aIe(){const e=Wk(),t=Object(jt.a)(fo.n,e.machineIdentifier);return y.a.createElement(Gbe,null,y.a.createElement(Bbe,null,y.a.createElement(tIe,{serverEntityID:t})))}var nIe=a("05C2"),iIe=a.n(nIe);function rIe(e,t){const a=t?t.split("\n"):[];return a.length>0?y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:iIe.a.listTitle},e),y.a.createElement("ul",null,a.map((e,t)=>y.a.createElement("li",{key:t},e)))):null}var sIe=function(e){const{version:t,added:a,fixed:n,isOpen:i,onClose:r}=e;return y.a.createElement(Yw.a,{metricsPage:It.hb,isOpen:i,onModalClose:r},y.a.createElement(eN.a,{onModalClose:r},y.a.createElement(Jw.a,null,Object(Ce.default)("{product} Release Notes",{product:"Plex Media Server"})),y.a.createElement(qw.a,null,y.a.createElement("div",{className:iIe.a.version},Object(Ce.default)("Version {version}",{version:t})),rIe(Object(Ce.default)("New"),a),rIe(Object(Ce.default)("Fixes"),n))))},oIe=a("8UJ8"),lIe=a.n(oIe);var cIe=function({progress:e}){return y.a.createElement("div",{className:lIe.a.progress},y.a.createElement("div",{className:lIe.a.emptyBar}),y.a.createElement("div",{className:lIe.a.bar,style:{transform:`translate3d(-${100-e}%, 0, 0)`}}))},dIe=a("004c"),uIe=a.n(dIe);var pIe=function(e){const{serverEntityID:t,friendlyName:a,state:n,error:i,progress:r,availableVersion:s,currentVersion:o,downloadURL:l,added:c,fixed:d,onDismissServerUpdate:u,onInstallServerUpdate:p,onDownloadServerUpdate:m,onRedirectToHome:h}=e,f=n===fpe||n===ppe,b=Object(sE.a)(),v=Object(g.useCallback)(()=>{u(s)},[s,u]);if(O3(()=>{h()},f),f)return null;if(n===ype)return y.a.createElement(efe.a,{serverEntityID:t});const I=Object(Ce.default)("Update available for {product}",{product:"Plex Media Server"});let S=Object(Ce.default)('You are currently running version {currentVersion} on the server "{friendlyName}". Version {availableVersion} is now available.',{availableVersion:s,currentVersion:o,friendlyName:a});return n===bpe&&(S=S+" "+Object(Ce.default)("This update will need to be installed manually after download.")),n===gpe?y.a.createElement(qk.a,{iconSrc:sR.a,title:I,description:i||Object(Ce.default)("Something went wrong, please try again later.")}):y.a.createElement(qk.a,{iconSrc:sR.a,title:Object(Ce.default)("Update available for {product}",{product:"Plex Media Server"}),description:c||d?y.a.createElement(LT.a,{message:S+" "+Object(Ce.default)("{openLink}Show release notes{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:jI.a,onPress:b.onOpen,kind:ao.d}]}):S},n===upe?y.a.createElement("div",{className:uIe.a.actionContainer},y.a.createElement(Ih.a,{kind:ao.d,size:cc.a,onPress:m},Object(Ce.default)("Download now"))):null,n===hpe?y.a.createElement("div",{className:uIe.a.actionContainer},y.a.createElement("div",null,Object(Ce.default)("Downloading Update ({progress}%)",{progress:r})),isNaN(r)?null:y.a.createElement("div",{className:uIe.a.progressContainer},y.a.createElement(cIe,{progress:r}))):null,n===mpe?y.a.createElement("div",{className:uIe.a.actionContainer},y.a.createElement(Ih.a,{kind:ao.d,size:cc.a,onPress:p},Object(Ce.default)("Install now"))):null,n===bpe?y.a.createElement("div",{className:uIe.a.actionContainer},y.a.createElement(Ih.a,{kind:ao.d,size:cc.a,target:"_blank",to:l,onPress:v},Object(Ce.default)("Download now"))):null,n!==hpe&&n!==mpe?y.a.createElement($v.a,null,y.a.createElement(jI.a,{className:uIe.a.link,kind:ao.d,size:cc.c,to:"#",onPress:v},Object(Ce.default)("Skip this version"))):null,y.a.createElement(sIe,{isOpen:b.isOpen,version:s,added:c,fixed:d,onClose:b.onClose}))};var mIe=Object(v.b)((function(){return Object(he.a)(vh.b,Gk,Xve(),(e,t,a)=>{const n=a.update;return{serverEntityID:e.entityID,friendlyName:e.friendlyName,state:n.state,error:n.error,progress:n.progress,availableVersion:Object(aye.a)(n.version),currentVersion:Object(aye.a)(e.version),downloadURL:n.downloadURL||t.appsUrl,added:n.added,fixed:n.fixed}})}),(function(e,t){const{serverEntityID:a}=t;return{onDismissServerUpdate(t){e(ohe({serverEntityID:a,version:t}))},onInstallServerUpdate(){e(che({serverEntityID:a}))},onDownloadServerUpdate(){e(lhe({serverEntityID:a}))},onRedirectToHome(){e(Object(HI.i)({route:"home"}))}}}))(pIe);function hIe(){const{machineIdentifier:e}=Wk(),t=Object(jt.a)(wt.SERVER,e);return y.a.createElement(tR.a,{serverEntityID:t},y.a.createElement(mIe,{serverEntityID:t}))}var gIe=Object(he.a)(Am.a,e=>e.transientServer,(e,t)=>e[t]);var yIe=Object(he.a)(e=>e.ui.prePlayPage.metadataItem,DO.a,(e,t)=>{const a=t[e]||{};return!(!a||!a.isPreFetched)});const fIe=vO(B4,(function(e){const t=e.ui.prePlayPage;return{providerEntityID:t.providerEntityID,metadataKey:t.metadataKey}}),(function(e,t){e(OG({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e(PG()),e(TG())}));var bIe=Object(v.b)((function(){return Object(he.a)(e=>e.ui.prePlayPage,yIe,Hx.a,ge.a,(e,t,a,n)=>{const{metadataItem:i,descendantList:r,isMetadataItemPending:s,metadataItemError:o}=e,l=!s&&!!o;return{metadataItemEntityID:i,metadataListEntityID:r,showSpinner:s&&!t,showError:l,showNotFoundError:l&&404===o.status,activeSelectionType:a.activeSelectionType,columnAdjustment:n.columnAdjustment}})}))(fIe);var vIe=function(e){return e.serverEntityID&&e.providerEntityID?y.a.createElement(bIe,{...e}):y.a.createElement(Kk.a,{title:Object(Ce.default)("No longer available"),description:Object(Ce.default)("Details can only be mirrored temporarily while casting")},y.a.createElement(jI.a,{to:"#",kind:ao.d},Object(Ce.default)("Go Home")))};const IIe=Object(v.b)((function(){return Object(he.a)((e,{providerIdentifier:t})=>t,Lt.a,gIe,(e,t,a)=>{if(a){const n=a.providers;for(let i=0,r=n.length;i<r;i++){const r=t[n[i]];if(r.identifier===e)return{serverEntityID:a.entityID,providerEntityID:r.entityID}}}return{}})}))(vIe);IIe.propTypes={...IIe.propTypes,providerIdentifier:Qn.a.string.isRequired};var SIe=IIe;function EIe(){const{providerIdentifier:e}=Wk(),t=Object(Me.a)(),a=Object(Qk.a)(t.key);return y.a.createElement(SIe,{providerIdentifier:e,metadataKey:a})}var OIe=a("0MtW"),MIe=a("hIt6"),CIe=a.n(MIe);function jIe(){return y.a.createElement(Aue,{key:"UserSelectModal",className:CIe.a.darkModalBackdrop,view:OIe.a,viewOptions:{isForced:!0,backdrop:!1}})}var DIe=a("KoQh"),PIe=a("1yLW"),TIe=a("T3Bu"),wIe=a("IqAM"),NIe=a("7EDZ"),xIe=a("agT0"),AIe=a("o760"),LIe=a("AKSZ"),kIe=a("WXPl"),RIe=a("80CF"),zIe=a("/Os2");const UIe="userSharingSettingsPage",VIe="ui/userSharingSettingsPage/addToHome",BIe=Object(yo.a)("ui/userSharingSettingsPage/resetUserSharingSettingsPage"),FIe=Object(yo.a)("ui/userSharingSettingsPage/fetchFilterOptionsTags"),HIe=Object(yo.a)("ui/userSharingSettingsPage/setFriendRestrictions"),_Ie=Object(yo.a)("ui/userSharingSettingsPage/updateManagedUserProfile"),WIe=Object(yo.a)("ui/userSharingSettingsPage/dismissFriendError"),QIe=Object(yo.a)("ui/userSharingSettingsPage/fetchSharedSources"),GIe=Object(yo.a)("ui/userSharingSettingsPage/populateSharedItem"),KIe=Object(yo.a)("ui/userSharingSettingsPage/deleteSharedItem"),YIe=Object(yo.a)("ui/userSharingSettingsPage/fetchServerOverviews"),qIe=Object(yo.a)("ui/userSharingSettingsPage/fetchServerShares"),ZIe=Object(yo.a)("ui/userSharingSettingsPage/saveLibraryShares"),XIe=Object(yo.a)("ui/userSharingSettingsPage/dismissSharingError"),JIe=Object(yo.a)("ui/userSharingSettingsPage/removeServerShare"),$Ie=Object(yo.a)("ui/userSharingSettingsPage/dismissRemoveServerShareError"),eSe=Object(yo.a)(VIe);function tSe(e){return e.get("ui").get("userSharingSettingsPage")}function aSe(e,t,a){return e.map(e=>{if(e.origin!==t)return e;const n=e.sharedItems.filter(e=>e.id!==a);return{...e,sharedItems:n}})}const nSe=Object(MS.a)({"ui/userSharingSettingsPage/resetUserSharingSettingsPage"(e){const t=tSe(e);A.a.abortAll(UIe),t.restoreDefaults()},"ui/userSharingSettingsPage/fetchFilterOptionsTags"(e,t={}){const a=tSe(e),{serverEntityIDs:n}=t,i=n.map(t=>Object(TS.k)(e,{serverEntityID:t}));A.a.abortAll(UIe),Object(Dt.a)(()=>{a.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})}),Object(kIe.a)(i,UIe).done(e=>{a.set({filterOptionsTags:e,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0})})},"ui/userSharingSettingsPage/setFriendRestrictions"(e,t,a){const n=tSe(e),i=e.get("cloudServer"),{friendEntityID:r,restrictions:s}=t,{restrictionProfileIdentifier:o}=s,l=Object(TS.a)(e,{friendEntityID:r}),c=Object(TS.l)(e);Object(Dt.a)(()=>{n.set({isUpdatingFriend:!0,updateFriendError:null})});let d;if(!!o){const e={userId:l.id};o!==xIe.b&&(e.restrictionProfile=o);const t=i.getXHROptions("/api/v2/home/users/restricted/profile",{type:"POST",contentType:"application/json",data:JSON.stringify(e),scope:UIe});d=h.a.ajax(t).then(()=>{const e=c.get("homeUsers").find(e=>e.id===l.id),t=o===xIe.b?"":o;return l.fetch().then(()=>{e.set("restrictionProfile",t)})})}else{const e=Object(RIe.a)(s);d=l.save(e)}d.then(()=>{n.set({isUpdatingFriend:!1})},()=>{n.set({isUpdatingFriend:!1,updateFriendError:Object(Ce.default)("Failed to update")})})},"ui/userSharingSettingsPage/updateManagedUserProfile"(e,t,a){const n=tSe(e),i=e.get("cloudServer"),r=e.get("user").get("homeUsers"),{friendEntityID:s,username:o,avatar:l}=t,c=Object(TS.a)(e,{friendEntityID:s});let d;if(Object(Dt.a)(()=>{n.set({isUpdatingFriend:!0,updateFriendError:null})}),o){if(o.trim()===c.get("title"))return void n.set({isUpdatingFriend:!1});if(!!r.findWhere({title:o.trim()}))return void n.set({isUpdatingFriend:!1,updateFriendError:Object(Ce.default)("A Home user already exists with this name")});const e={friendlyName:o.trim()},t=i.getXHROptions("/api/v2/home/users/restricted/"+c.id,{type:"POST",contentType:"application/json",data:JSON.stringify(e),scope:UIe});d=h.a.ajax(t)}else l&&(d=Object(zIe.a)(l,c.id));d.then(()=>{n.set({isUpdatingFriend:!1}),r.fetch(),a(Object(VS.o)()),a(Object(VS.m)())},()=>{n.set({isUpdatingFriend:!1,updateFriendError:Object(Ce.default)("Failed to update")})})},"ui/userSharingSettingsPage/dismissFriendError"(e,t,a){tSe(e).set({updateFriendError:null})},"ui/userSharingSettingsPage/fetchSharedSources"(e,t,a){const n=tSe(e),i=e.get("cloudServer");Object(Dt.a)(()=>{n.set({isSharedSourcesPopulating:!0,isSharedSourcesPopulated:!1,sharedSourcesError:null})});const r=j.default.join("/api/v2/shared_sources/owned",{invitedId:t.userID,includeItems:!0}),s=j.default.join("/api/v2/shared_sources/received",{ownerId:t.userID,includeItems:!0}),o=i.getXHROptions(r,{type:"GET",dataType:"json",scope:UIe}),l=i.getXHROptions(s,{type:"GET",dataType:"json",scope:UIe});h.a.when(h.a.ajax(o),h.a.ajax(l)).then((e,t)=>{n.set({ownedSharedSources:e[0],receivedSharedSources:t[0],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!0})},()=>{n.set({isSharedSourcesPopulating:!1,sharedSourcesError:Object(Ce.default)("Failed to fetch shared items.")})})},"ui/userSharingSettingsPage/populateSharedItem"(e,t,a){const{serverIdentifier:n,providerIdentifier:i,key:r}=Object(Ia.a)(t.uri),s=e.get("servers").get(n),o=s&&s.get("providers").get(i);if(o&&o.get("isPopulated")){new _I.a({key:r},{server:s,provider:o}).populate()}},"ui/userSharingSettingsPage/deleteSharedItem"(e,t,a){const n=tSe(e),i=e.get("cloudServer"),{id:r,origin:s,isOwnedItem:o}=t;n.set("deleteSharedItemID",r);const l=i.getXHROptions("/api/v2/shared_items/"+r,{method:"DELETE",dataType:"json",scope:UIe});h.a.ajax(l).then(()=>{const e={deleteSharedItemID:null};if(o){const t=aSe(n.get("ownedSharedSources"),s,r);e.ownedSharedSources=t}else{const t=aSe(n.get("receivedSharedSources"),s,r);e.receivedSharedSources=t}n.set(e)},()=>{a(Object(eS.d)({type:"error",message:Object(Ce.default)("There was a problem removing this shared item.")})),n.set("deleteSharedItemID",null)})},"ui/userSharingSettingsPage/fetchServerOverviews"(e,t={}){const a=tSe(e),{serverEntityIDs:n}=t;Object(Dt.a)(()=>{a.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})}),Object(TIe.a)(n).then(e=>{a.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})})},"ui/userSharingSettingsPage/fetchServerShares"(e,t={}){const a=tSe(e),n=Object(TS.a)(e,t);A.a.abortAll(UIe),Object(Dt.a)(()=>{a.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})}),Object(wIe.a)(n,UIe).done(()=>{a.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})}).fail(()=>{a.set({isServerSharesPopulating:!1,serverSharesError:Object(Ce.default)("Failed to load shares.")})})},"ui/userSharingSettingsPage/saveLibraryShares"(e,t={},a){const n=tSe(e),i=e.get("user");Object(Dt.a)(()=>{n.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})});const{friendEntityID:r,machineIdentifier:s,selectedLibrarySectionIDs:o,isAllLibrariesSelected:l}=t,c=Object(TS.a)(e,{friendEntityID:r}),d=c.get("serverShares"),u=d.findWhere({machineIdentifier:s}),p=!u,m=!l&&0===o.length,h=l?[]:o;let g;if(p){const e=new LIe.a({machineIdentifier:s});g=Object(NIe.a)({user:i,friend:c,serverShare:e,librarySectionIDs:h,isNewFriend:!1,isNewServerShare:!0})}else g=m?u.destroy({wait:!0}):Object(NIe.a)({user:i,friend:c,serverShare:u,librarySectionIDs:h,isNewFriend:!1,isNewServerShare:!1});g.done(e=>{p&&d.add(new LIe.a(e,{server:i.server,parse:!0})),n.set({isSharingPending:!1,isSharingCompleted:!0})}).fail(e=>{n.set({isSharingPending:!1,sharingError:Object(BJ.a)(e,null,"status")||Object(Ce.default)("Failed to update server shares.")})}).always(()=>{Object(wIe.a)(c,UIe)})},"ui/userSharingSettingsPage/dismissSharingError"(e,t,a){tSe(e).set({sharingError:null})},"ui/userSharingSettingsPage/removeServerShare"(e,t,a){const n=tSe(e);Object(Dt.a)(()=>{n.set({isRemoveServerSharePending:!0,isRemoveServerShareCompleted:!1,removeServerShareError:null})});const{friendEntityID:i,machineIdentifier:r}=t,s=Object(TS.a)(e,{friendEntityID:i});s.get("serverShares").findWhere({machineIdentifier:r}).destroy({wait:!0}).done(()=>{n.set({isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!0})}).fail(e=>{n.set({isRemoveServerSharePending:!1,removeServerShareError:Object(BJ.a)(e,null,"status")||Object(Ce.default)("Failed to remove server share.")})}).always(()=>{Object(wIe.a)(s,UIe)})},"ui/userSharingSettingsPage/dismissRemoveServerShareError"(e,t,a){tSe(e).set({removeServerShareError:null})},[VIe](e,t,a){const n=tSe(e),i=e.get("user"),r=Object(TS.a)(e,t);Object(Dt.a)(()=>{n.set({isUpdatingFriend:!0,updateFriendError:null})});new AIe.a({username:r.get("username")},{server:i.server}).save().done(()=>{n.set({isUpdatingFriend:!1}),a(Object(VS.o)()),a(Object(VS.r)()),a(Object(VS.M)())}).fail(e=>{n.set({isUpdatingFriend:!1,updateFriendError:Object(BJ.a)(e,Object(Ce.default)("Failed to add to Plex Home"),"status")})})}});var iSe=a("R14s"),rSe=a.n(iSe);var sSe=function(e){return y.a.createElement("div",{className:rSe.a.spinnerContainer},y.a.createElement(HO.a,null))};function oSe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-to-home-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M240.8 504H28V336h44.8v123.2H196V308h168v151.2h123.2V298.557L280 91.357l-66.322 66.321L182 126l98-98 252 252v224H319.2V352.8h-78.4V504zM134.4 190.4H224v44.8h-89.6v89.6H89.6v-89.6H0v-44.8h89.6v-89.6h44.8v89.6z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}oSe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var lSe=oSe;function cSe(e){if(!e)return Object(Ce.default)("Username is required")}function dSe(e){if(!e)return Object(Ce.default)("Email address is required")}function uSe(e){if(!e)return Object(Ce.default)("Password is required")}function pSe(e){if(!e)return Object(Ce.default)("Password confirmation is required")}function mSe(e){if(!e)return Object(Ce.default)("Current password is required")}function hSe(e){return e&&e.length<8?Object(Ce.default)("Password must be at least 8 characters"):e&&e.length>128?Object(Ce.default)("Password must be no longer than 128 characters"):void 0}function gSe(e,t){if(e!==t.password.value)return Object(Ce.default)("Passwords must match")}function ySe(e){if(!e)return Object(Ce.default)("Verification code is required")}function fSe(e){if(!e)return Object(Ce.default)("URL is required")}var bSe=a("XH5U");function vSe(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-max-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m560 0l0 560-560 0 0-560 560 0m-420 280c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}vSe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var ISe=vSe;function SSe(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-min-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m476 84l0 392-392 0 0-392 392 0m-336 196c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}SSe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var ESe=SSe,OSe=a("6MR1"),MSe=a.n(OSe);class CSe extends g.Component{constructor(e,t){super(e,t),this.setCanvasRef=e=>{this.canvas=e},this.onMouseDown=e=>{e.preventDefault(),this.startAvatarDrag(e.clientX,e.clientY)},this.onTouchStart=e=>{e.preventDefault();const t=e.touches.item(0);t&&this.startAvatarDrag(t.clientX,t.clientY,!0)},this.onTouchMove=e=>{const t=e.touches.item(0);t&&this.dragAvatar(t.clientX,t.clientY)},this.onMouseMove=e=>{this.dragAvatar(e.clientX,e.clientY)},this.onMouseUp=()=>{this.stopAvatarDrag()},this.onTouchEnd=()=>{this.stopAvatarDrag()},this.onFileDrop=e=>{let t;if(e.preventDefault(),this.setState({isOverDropTarget:!1}),this.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?t=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){const e=new window.FileReader;e.onload=e=>this.loadImage(e.target.result),e.readAsDataURL(t)}},this.onDragEnter=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter++,this.setOverDropTargetState()},this.onDragLeave=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter--,this.setOverDropTargetState()},this.onSliderChange=({steppedValue:e})=>{this.setState(t=>{const{offsetX:a,offsetY:n}=t,i=this.initialWidth*e,r=this.initialHeight*e,s=(this.imageWidth-i)/2,o=(this.imageHeight-r)/2,l=this.props.width-i,c=this.props.height-r,d=Math.max(l,Math.min(a+s,0)),u=Math.max(c,Math.min(n+o,0));return{...t,scale:e,offsetX:d,offsetY:u}},()=>this.props.onChange(this.getImageDataUrl()))},this.state={drag:!1,dragX:0,dragY:0,minScale:.1,maxScale:1,scale:.1,offsetX:0,offsetY:0,isOverDropTarget:!1},this.dropTargetEnteredCounter=0}componentDidMount(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop),this.paint(),this.loadImage(this.props.url,!0)}componentWillReceiveProps(e){this.props.url!==e.url&&this.loadImage(e.url)}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentDidUpdate(){this.paint()}componentWillUnmount(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop),this.stopListeningForDrag()}listenForDrag(e){e?(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchcancel",this.onTouchEnd),document.addEventListener("touchend",this.onTouchEnd)):(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}stopListeningForDrag(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchcancel",this.onTouchEnd),document.removeEventListener("touchend",this.onTouchEnd)}startAvatarDrag(e,t,a){this.listenForDrag(a),this.setState({drag:!0,dragX:e,dragY:t})}dragAvatar(e,t){this.state.drag&&this.setState(a=>{const{offsetX:n,offsetY:i,dragX:r,dragY:s}=a,o=this.props.width-this.imageWidth,l=this.props.height-this.imageHeight,c=Math.max(o,Math.min(n+(e-r),0)),d=Math.max(l,Math.min(i+(t-s),0));return{...a,dragX:e,dragY:t,offsetX:c,offsetY:d}})}stopAvatarDrag(){this.stopListeningForDrag(),this.setState({drag:!1},()=>this.props.onChange(this.getImageDataUrl()))}loadImage(e,t,a=this.props){const n=new window.Image;n.onload=()=>this.onImageLoad(n,t),/^https?:\/\//.test(e)&&n.setAttribute("crossOrigin","anonymous");let i=e;if(0!==e.indexOf("data:")){const t=Object(jye.a)(),n={width:Math.round(a.width*t),height:Math.round(a.height*t),minSize:1},r=e.indexOf("?");r>-1?(i=j.default.join(e.substring(0,r),n),i+=-1===i.indexOf("?")?"?":"&",i+=e.substring(r+1)):i=j.default.join(i,n)}n.src=i}paint(){const{width:e,height:t}=this.props,a=this.canvas.getContext("2d");a.clearRect(0,0,e,t),this.image&&this.drawImage(a);const n=document.createElement("canvas"),i=n.getContext("2d");n.width=e,n.height=t,i.fillStyle="rgba(0,0,0,0.6)",i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="destination-out",i.arc(e/2,t/2,e/2,0,2*Math.PI),i.fill(),a.drawImage(n,0,0)}drawImage(e){this.imageWidth=this.initialWidth*this.state.scale,this.imageHeight=this.initialHeight*this.state.scale,e.drawImage(this.image,this.state.offsetX,this.state.offsetY,this.imageWidth,this.imageHeight)}getImageDataUrl(){const e=document.createElement("canvas"),t=e.getContext("2d");return e.height=this.props.height,e.width=this.props.width,this.drawImage(t),e.toDataURL()}setOverDropTargetState(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})}onImageLoad(e,t){this.image=e,this.initialWidth=Math.max(this.props.width,e.width),this.initialHeight=Math.max(this.props.height,e.height);const a=e.width>e.height?e.height:e.width,n=a>this.props.width?this.props.width/a:1,i=a<=this.props.width?2:1;this.setState({drag:!1,dragX:0,dragY:0,minScale:n,maxScale:i,scale:n,offsetX:0,offsetY:0},t?null:()=>this.props.onChange(this.getImageDataUrl()))}onWindowDrop(e=window.event){e.preventDefault()}onWindowDragOver(e=window.event){e.preventDefault()}onDragStart(e=window.event){e.dataTransfer.effectAllowed="copyMove"}onDragOver(e=window.event){e.dataTransfer.dropEffect="copy"}render(){const{isOverDropTarget:e}=this.state;return y.a.createElement("div",{className:MSe.a.avatarContainer,onDrop:this.onFileDrop,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter},y.a.createElement("div",{className:MSe.a.avatarPane},y.a.createElement("canvas",{className:e?MSe.a.isOverDropTarget:"",width:this.props.width,height:this.props.height,ref:this.setCanvasRef,onTouchStart:this.onTouchStart,onMouseDown:this.onMouseDown}),y.a.createElement("div",{className:MSe.a.sliderContainer},y.a.createElement("span",{className:MSe.a.sliderEnd},y.a.createElement(ESe,null)),y.a.createElement("span",{className:MSe.a.sliderWrapper},y.a.createElement(nr.a,{className:MSe.a.slider,min:this.state.minScale,max:this.state.maxScale,step:.1,value:this.state.scale,onChange:this.onSliderChange})),y.a.createElement("span",{className:MSe.a.sliderEnd},y.a.createElement(ISe,null)))),y.a.createElement("div",{className:MSe.a.avatarTextPane},y.a.createElement("p",null,y.a.createElement(EL,{accept:"image/*",buttonText:Object(Ce.default)("Choose Photo"),onChange:this.onFileDrop})),y.a.createElement("p",{className:MSe.a.help},Object(Ce.default)("You can scale your photo using the slider below, and adjust the crop by dragging it within the circle."))))}}CSe.defaultProps={height:200,width:200,onChange(){}};var jSe=Object(O9.a)(CSe);var DSe=Object(v.b)((function(){return Object(he.a)(Object(bSe.a)(),e=>({url:e}))}))(jSe),PSe=a("L4oE"),TSe=a.n(PSe);const wSe={isUsernameOpen:!1,isPhotoOpen:!1};var NSe=function(e){const{cloudServerEntityID:t,friend:a,isGuest:n,isAllFriendsPending:i,isUpdatingFriend:r,updateFriendError:s,onSubmit:o,onErrorDismiss:l}=e,{entityID:c,title:d,thumb:u}=a,[p,m]=Object(g.useState)(wSe),h=Object(Or.a)(i);Object(g.useEffect)(()=>{!h||i||s||m(M.a.mapObject(p,()=>!1))},[h,i,s,p]);const f=Object(g.useCallback)(e=>t=>{t.preventDefault(),s&&l({friendEntityID:c});const a=M.a.mapObject(p,(t,a)=>a===e&&!p[e]);m(a)},[p,m,c,s,l]),b=Object(g.useCallback)((e,t)=>({title:e,isOpen:p[t],onSubmit:e=>{o({...e,friendEntityID:c})},isUpdating:r||i,onTogglePress:f(t)}),[p,f,c,i,r,o]),v=Object(g.useCallback)(()=>{s&&l()},[s,l]);return y.a.createElement(l9,{className:TSe.a.content,metricsPage:It.zb,metricsPane:"profile"},n?null:y.a.createElement(l7,{...b(Object(Ce.default)("Username"),"isUsernameOpen"),closedNode:d},y.a.createElement(fL.b,{labelText:Object(Ce.default)("Username"),name:"username",initialValue:d,errors:s?[s]:[],validations:[cSe],onChange:v})),y.a.createElement(l7,{...b(Object(Ce.default)("Photo"),"isPhotoOpen"),closedNode:y.a.createElement(Q0.a,{serverEntityID:t,url:u,width:80,height:80})},y.a.createElement(DSe,{serverEntityID:t,name:"avatar",width:180,height:180,initialValue:u,url:u})))};const xSe={onSubmit:_Ie,onErrorDismiss:WIe};var ASe=Object(v.b)((function(){return Object(he.a)(e=>e.ui.userSharingSettingsPage,Gk,Object(kt.a)("isAllFriendsPending"),(e,t,a)=>({cloudServerEntityID:t.entityID,isAllFriendsPending:a,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError}))}),xSe)(NSe),LSe=a("zvYS");function kSe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-ban-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M169.704 446.864C201.322 467.804 239.237 480 280 480c110.457 0 200-89.543 200-200 0-40.763-12.195-78.678-33.136-110.296l-277.16 277.16zm-56.568-56.568l277.16-277.16C358.678 92.196 320.763 80 280 80 169.543 80 80 169.543 80 280c0 40.763 12.195 78.678 33.136 110.296zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}kSe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var RSe=kSe,zSe=a("pyTO"),USe=a("SZP6"),VSe=a("MOdi"),BSe=a("0139"),FSe=a("+2qD");function HSe(e){const{[VSe.a]:t,[VSe.b]:a,[VSe.d]:n,[VSe.c]:i}=e;if(!(t||a||n||i))return Object(Ce.default)("No restrictions");const r=[t,n].reduce((e,t)=>t?e.concat(t.split(",")):e,[]).join(", "),s=[a,i].reduce((e,t)=>t?e.concat(t.split(",")):e,[]).join(", "),o=r.length>0,l=s.length>0;return o&&!l?Object(Ce.default)("Allow only {tags}",{tags:r}):!o&&l?Object(Ce.default)("Exclude only {tags}",{tags:s}):y.a.createElement(y.a.Fragment,null,y.a.createElement("div",null,Object(Ce.default)("Allow only {tags}",{tags:r})),y.a.createElement("div",null,Object(Ce.default)("Exclude {tags}",{tags:s})))}function _Se(e){const{label:t,metadataType:a,contentRatingsName:n,excludeContentRatingsName:i,labelsName:r,excludeLabelsName:s,filters:o,tagsProps:l,...c}=e,d=Object(FSe.a)(o,VSe.a,VSe.b),u=Object(FSe.a)(o,VSe.d,VSe.c);return y.a.createElement(l7,{...c,closedNode:HSe(o)},y.a.createElement(E9.a,null,t),n?y.a.createElement(BSe.a,{...l,name:n,metadataType:a,tagType:VSe.a,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange}):null,i?y.a.createElement(BSe.a,{...l,name:i,metadataType:a,tagType:VSe.b,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange}):null,y.a.createElement(BSe.a,{...l,name:r,metadataType:a,tagType:VSe.d,initialValue:u.initialAllowTags,excludedTags:u.excludeTags,onChange:u.onAllowTagsChange}),y.a.createElement(BSe.a,{...l,name:s,metadataType:a,tagType:VSe.c,initialValue:u.initialExcludeTags,excludedTags:u.allowTags,onChange:u.onExcludeTagsChange}))}var WSe=a("sNLJ"),QSe=a.n(WSe);const GSe={isRestrictionProfileOpen:!1,isAllowSyncOpen:!1,isAllowCameraUploadOpen:!1,isAllowLiveTVOpen:!1,isMovieTagsOpen:!1,isTelevisionTagsOpen:!1,isMusicTagsOpen:!1};function KSe(e){return xIe.d(e||xIe.b).title}function YSe(e,t){return e?zSe.a.options[t]():t===zSe.a.TV_ONLY?Object(Ce.default)("Enabled"):Object(Ce.default)("Disabled")}function qSe(e){return parseInt(e,10)}var ZSe=function(e){const{friend:t,restrictionProfile:a,filterOptionsTags:n,isFilterOptionsTagsPopulating:i,isFilterOptionsTagsPopulated:r,isUpdatingFriend:s,updateFriendError:o,hasPlexPass:l,isGuest:c,canShowRestrictions:d,canShareTuners:u,canShareDVR:p,onSubmit:m,onErrorDismiss:h}=e,{entityID:f,restricted:b,filterMovies:v,filterTelevision:I,filterMusic:S,allowSync:E,allowCameraUpload:O,allowTuners:C}=t,[j,D]=Object(g.useState)(GSe),P=Object(Or.a)(s);Object(g.useEffect)(()=>{!P||s||o||D(M.a.mapObject(j,()=>!1))},[P,s,o,j]);const T=Object(g.useCallback)(e=>t=>{t.preventDefault(),o&&h({friendEntityID:f});const a=M.a.mapObject(j,(t,a)=>a===e&&!j[e]);D(a)},[j,D,f,o,h]),w=Object(g.useCallback)((e,t)=>({title:e,isOpen:j[t],onSubmit:e=>{m({friendEntityID:f,restrictions:e})},isUpdating:s,errorMessage:o,onTogglePress:T(t)}),[j,T,f,s,o,m]),N={filterOptionsTags:n,isFilterOptionsTagsPopulating:i,isFilterOptionsTagsPopulated:r},x=d&&!a;return y.a.createElement(l9,{className:QSe.a.content,metricsPage:It.zb,metricsPane:"restrictions"},b&&!c?y.a.createElement(l7,{...w(Object(Ce.default)("Restriction Profile"),"isRestrictionProfileOpen"),closedNode:KSe(a)},y.a.createElement(USe.a,{name:"restrictionProfileIdentifier",initialValue:a||xIe.b,hasPlexPass:l})):null,d?y.a.createElement(l7,{...w(Object(Ce.default)("Allow Sync and Download"),"isAllowSyncOpen"),closedNode:E?Object(Ce.default)("Enabled"):Object(Ce.default)("Disabled")},y.a.createElement(m9.a,{name:"allowSync",initialValue:E,labelText:Object(Ce.default)("Allow Sync and Download"),checkboxText:Object(Ce.default)("Allow this user to sync or download content from your server")})):null,d?y.a.createElement(l7,{...w(Object(Ce.default)("Allow Camera Upload"),"isAllowCameraUploadOpen"),closedNode:O?Object(Ce.default)("Enabled"):Object(Ce.default)("Disabled")},y.a.createElement(m9.a,{name:"allowCameraUpload",initialValue:O,labelText:Object(Ce.default)("Allow Camera Upload"),checkboxText:Object(Ce.default)("Allow this user to upload media to your server")})):null,u?y.a.createElement(l7,{...w(p?Object(Ce.default)("Live TV & DVR Access"):Object(Ce.default)("Allow access to Live TV"),"isAllowLiveTVOpen"),closedNode:YSe(p,C)},p?y.a.createElement(h9.a,{name:"allowTuners",initialValue:C,value:zSe.a.values[C],values:zSe.a.values,transformValue:qSe,labelText:Object(Ce.default)("Live TV & DVR Access"),helpText:Object(Ce.default)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings")}):y.a.createElement(m9.a,{name:"allowTuners",initialValue:C,checkedValue:1,uncheckedValue:0,labelText:Object(Ce.default)("Allow access to Live TV"),checkboxText:Object(Ce.default)("Enabling this option will allow this user to access Live TV streams.")})):null,x?y.a.createElement(y.a.Fragment,null,y.a.createElement(_Se,{...w(Bq.g.get(Bq.b).title,"isMovieTagsOpen"),label:Bq.g.get(Bq.b).title,metadataType:wo.MOVIE,contentRatingsName:"moviesContentRatings",excludeContentRatingsName:"moviesExcludeContentRatings",labelsName:"moviesLabels",excludeLabelsName:"moviesExcludeLabels",filters:v,tagsProps:N}),y.a.createElement(_Se,{...w(Bq.g.get(Bq.e).title,"isTelevisionTagsOpen"),label:Bq.g.get(Bq.e).title,metadataType:wo.SHOW,contentRatingsName:"televisionContentRatings",excludeContentRatingsName:"televisionExcludeContentRatings",labelsName:"televisionLabels",excludeLabelsName:"televisionExcludeLabels",filters:I,tagsProps:N}),y.a.createElement(_Se,{...w(Bq.g.get(Bq.c).title,"isMusicTagsOpen"),label:Bq.g.get(Bq.c).title,metadataType:wo.ARTIST,labelsName:"musicLabels",excludeLabelsName:"musicExcludeLabels",filters:S,tagsProps:N})):null,d?null:y.a.createElement(xre,{iconComponent:RSe,title:Object(Ce.default)("Sharing Restrictions"),text:Object(Ce.default)("Upgrade to a Plex Pass to get more control over the media you share."),moreInfo:y.a.createElement(LT.a,{message:Object(Ce.default)("See our {openLinkSupported}support article{closeLinkSupported} for more information."),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:jI.a,kind:ao.d,to:up.j,target:"_blank"}]})},y.a.createElement(Lre,{origin:Cre.i,modalMetricsProperties:{context:aS.USERS_AND_SHARING}})))};const XSe=Object(be.a)(ve.c),JSe=Object(be.a)(ve.C),$Se=Object(be.a)(ve.b);const eEe={dispatchFetchFilterOptionsTags:FIe,onSubmit:HIe,onErrorDismiss:WIe};var tEe=Object(v.b)((function(){return Object(he.a)(e=>e.ui.userSharingSettingsPage,(e,{friend:t})=>t,LSe.a,XSe,JSe,$Se,Object(he.a)((e,{friend:t})=>t,DIe.a,(e,t)=>Object.values(t).find(t=>t.id===e.id)),Object(kt.a)("hasPlexPass"),(e,t,a,n,i,r,s,o)=>{const l=i||t.home;return{serverEntityIDs:a,restrictionProfile:s?s.restrictionProfile:null,filterOptionsTags:e.filterOptionsTags,isFilterOptionsTagsPopulating:e.isFilterOptionsTagsPopulating,isFilterOptionsTagsPopulated:e.isFilterOptionsTagsPopulated,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError,hasPlexPass:o,isGuest:!!s&&s.guest,canShowRestrictions:n,canShareTuners:l,canShareDVR:l&&r}})}),eEe)((function(e){const{serverEntityIDs:t,dispatchFetchFilterOptionsTags:a,...n}=e;return Object(g.useEffect)(()=>{a({serverEntityIDs:t})},[t,a]),y.a.createElement(ZSe,{...n})})),aEe=a("MCZW"),nEe=a("ZrFU"),iEe=a.n(nEe);var rEe=function({serverShare:e}){const{name:t,libraries:a}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(E9.a,null,t),a.map(e=>y.a.createElement("div",{key:e.id,className:iEe.a.library},e.title)))};function sEe(e){const{libraries:t,sharingSettings:a,allLibraries:n}=e,i=n?Object(Ce.default)("All libraries"):t.map(e=>e.title).join(", "),r=[];return a.allowSync&&r.push(Object(Ce.default)("Sync Allowed")),a.allowCameraUpload&&r.push(Object(Ce.default)("Camera Upload Allowed")),0!==a.allowTuners&&r.push(1===a.allowTuners?Object(Ce.default)("Live TV Allowed"):Object(Ce.default)("Live TV and DVR allowed")),y.a.createElement(y.a.Fragment,null,y.a.createElement("div",null,i),r.length>0?y.a.createElement("div",null,r.join(", ")):null)}var oEe=function(e){const{friend:t,serverShares:a,isRemoveServerSharePending:n,isRemoveServerShareCompleted:i,removeServerShareError:r,onSubmit:s,onErrorDismiss:o}=e,l=Object(g.useMemo)(()=>a.reduce((e,t)=>(e[t.machineIdentifier]=!1,e),{}),[a]),[c,d]=Object(g.useState)(l),[u,p]=Object(g.useState)(!1),[m,h]=Object(g.useState)(null),f=Object(Or.a)(i);Object(g.useEffect)(()=>{f||!i||r||d(M.a.mapObject(c,()=>!1))},[c,f,i,r]);const b=Object(g.useCallback)(()=>{p(!1)},[p]),v=Object(g.useCallback)(()=>{s({friendEntityID:t.entityID,machineIdentifier:m}),p(!1)},[t,m,p,s]),I=Object(g.useCallback)(e=>t=>{t.preventDefault(),r&&o();const a=M.a.mapObject(c,(t,a)=>a===e&&!c[e]);d(a)},[c,d,r,o]),S=Object(g.useCallback)((e,t)=>({title:e,isOpen:c[t],onSubmit:()=>{h(t),p(!0)},isUpdating:n,errorMessage:r,onTogglePress:I(t)}),[c,n,r,I]);return y.a.createElement(y.a.Fragment,null,a.map(e=>{const{machineIdentifier:t,name:a}=e;return y.a.createElement(l7,{...S(a,t),key:t,closedNode:sEe(e),buttonKind:ao.a,buttonText:Object(Ce.default)("Leave Server"),showButtonEnabled:!0},y.a.createElement(rEe,{key:t,serverShare:e}))}),y.a.createElement(Xc.a,{isOpen:u,metricsPage:It.zb,kind:ao.a,title:Object(Ce.default)("Leave shared server"),message:Object(Ce.default)("Are you sure you want to leave this shared server?"),confirmLabel:Object(Ce.default)("Leave Server"),onConfirm:v,onCancel:b}))};const lEe=Object(he.a)(e=>e.ui.userSharingSettingsPage,e=>{const{isRemoveServerSharePending:t,isRemoveServerShareCompleted:a,removeServerShareError:n}=e;return{isRemoveServerSharePending:t&&!n,isRemoveServerShareCompleted:a,removeServerShareError:n}}),cEe={onSubmit:JIe,onErrorDismiss:$Ie};var dEe=Object(v.b)(lEe,cEe)(oEe),uEe=a("GWGF"),pEe=a("cTZx"),mEe=a.n(pEe);var hEe=Object(O9.a)((function(e){return y.a.createElement(v9.a,{className:mEe.a.input,...e})})),gEe=a("ccYj"),yEe=a.n(gEe);var fEe=function(e){const{serverOverview:t,serverShare:a}=e,{machineIdentifier:n,name:i,sections:r}=t,[s,o]=Object(g.useState)(!(!a||!a.allLibraries)),l=Object(g.useCallback)(()=>{o(!s)},[s]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(E9.a,null,i),r.length>0?y.a.createElement(hEe,{name:JSON.stringify({[uEe.a]:n}),checkboxText:Object(Ce.default)("All Libraries"),initialValue:s,onChange:l}):null,0===r.length?y.a.createElement("div",{className:yEe.a.emptyMessage},Object(Ce.default)("No libraries")):null,s?null:r.map(e=>{const{id:t,title:n}=e,i=!!(a&&a.libraries&&a.libraries.find(e=>e.id===t));return y.a.createElement(hEe,{key:t,name:JSON.stringify({[uEe.b]:t}),checkboxText:n,initialValue:i})}))};function bEe(e){return e?e.allLibraries?Object(Ce.default)("All libraries"):e.libraries.map(e=>e.title).join(", "):Object(Ce.default)("No shared libraries")}var vEe=function(e){const{friend:t,serverOverviews:a,isSharingPending:n,isSharingCompleted:i,sharingError:r,onSubmit:s,onErrorDismiss:o}=e,l=Object(g.useMemo)(()=>a.reduce((e,t)=>(e[t.machineIdentifier]=!1,e),{}),[a]),[c,d]=Object(g.useState)(l),u=Object(Or.a)(i);Object(g.useEffect)(()=>{u||!i||r||d(M.a.mapObject(c,()=>!1))},[c,u,i,r]);const p=Object(g.useCallback)(e=>t=>{t.preventDefault(),r&&o();const a=M.a.mapObject(c,(t,a)=>a===e&&!c[e]);d(a)},[c,d,r,o]),m=Object(g.useCallback)(e=>a=>{const n=Object.keys(a).reduce((e,t)=>{const n=a[t],i=JSON.parse(t);return n&&i.hasOwnProperty(uEe.b)&&e.selectedLibrarySectionIDs.push(i[uEe.b]),n&&i.hasOwnProperty(uEe.a)&&(e.isAllLibrariesSelected=!0),e},{friendEntityID:t.entityID,machineIdentifier:e,selectedLibrarySectionIDs:[],isAllLibrariesSelected:!1});s(n)},[t,s]),h=Object(g.useCallback)((e,t)=>({title:e,isOpen:c[t],onSubmit:m(t),isUpdating:n,errorMessage:r,onTogglePress:p(t)}),[c,m,p,n,r]);return a.map(e=>{const{name:a,machineIdentifier:n}=e,i=t.serverShares.find(e=>e.machineIdentifier===n);return y.a.createElement(l7,{...h(a,n),key:n,closedNode:bEe(i)},y.a.createElement(fEe,{key:n,serverOverview:e,serverShare:i}))})};const IEe=Object(he.a)(e=>e.ui.userSharingSettingsPage,e=>{const{isSharingPending:t,isSharingCompleted:a,sharingError:n}=e;return{isSharingPending:t&&!n,isSharingCompleted:a,sharingError:n}}),SEe={onSubmit:ZIe,onErrorDismiss:XIe};var EEe=Object(v.b)(IEe,SEe)(vEe),OEe=a("9JDX"),MEe=a.n(OEe);var CEe=function({children:e}){return y.a.createElement("h2",{className:MEe.a.header},e)};var jEe=function(e){const{friend:t,serverOverviews:a,isRestricted:n,isLoading:i,showList:r,errorMessage:s}=e,o=Object(g.useMemo)(()=>t.serverShares.filter(e=>!e.owned&&!e.pending),[t]);return s?y.a.createElement(Kk.a,{title:Object(Ce.default)("There was an unexpected error"),description:s}):y.a.createElement(l9,{metricsPage:It.zb,metricsPane:"sharedLibraries"},i?y.a.createElement(sSe,null):null,r?y.a.createElement(y.a.Fragment,null,n?null:y.a.createElement(CEe,null,Object(Ce.default)("Shared with {username}",{username:t.title})),n?null:y.a.createElement(EEe,{friend:t,serverOverviews:a}),o.length>0?y.a.createElement(CEe,null,Object(Ce.default)("Shared with you")):null,o.length>0?y.a.createElement(dEe,{friend:t,serverShares:o}):null):null)};const DEe=Object(he.a)(e=>e.ui.userSharingSettingsPage,aEe.a,Object(kt.a)("restricted"),(e,t,a)=>{const{serverOverviews:n,isServerOverviewsPopulating:i,isServerOverviewsPopulated:r,isServerSharesPopulating:s,isServerSharesPopulated:o,serverSharesError:l}=e;return{sharingEligibleServerEntityIDs:t,serverOverviews:n,isRestricted:a,isLoading:(i||s)&&!l,showList:r&&o,errorMessage:l}}),PEe={dispatchFetchServerOverviews:YIe,dispatchFetchServerShares:qIe};var TEe=Object(v.b)(DEe,PEe)((function(e){const{friend:t,sharingEligibleServerEntityIDs:a,dispatchFetchServerOverviews:n,dispatchFetchServerShares:i,...r}=e,s=t.entityID;return Object(g.useEffect)(()=>{n({serverEntityIDs:a})},[a,n]),Object(g.useEffect)(()=>{i({friendEntityID:s})},[s,i]),y.a.createElement(jEe,{...r,friend:t})}));var wEe=a("OelS"),NEe=a("eLO8"),xEe=a.n(NEe);var AEe=function(e){const{serverEntityID:t,providerEntityID:a,cellIndex:n,id:i,origin:r,serverName:s,type:o,playlistType:l,title:c,parentTitle:d,grandparentTitle:u,leafCount:p,duration:m,imageWidth:h,imageHeight:f,imageUrl:b,isOwnedItem:v,isDeleting:I,showDelete:S,onDeleteSharedItem:E}=e,O=Object(KO.a)(e),[M,C]=Object(g.useState)(!1),j=Object(Or.a)(I),D=Object(g.useCallback)(()=>{C(!0)},[]),P=Object(g.useCallback)(()=>{E({id:i,origin:r,isOwnedItem:v})},[i,r,v,E]),T=Object(g.useCallback)(()=>{C(!1)},[]);Object(g.useEffect)(()=>{j&&!I&&C(!1)},[j,I]);const w=function(e,t,a){const n=a||t;return n?`${n} · ${e}`:e}(c,d,u),N=wo.getMetadataType(o).title,x=v?Object(Ce.default)("Are you sure you want to stop sharing this item? The user will no longer be able to access it on {serverName}.",{serverName:s}):Object(Ce.default)("Are you sure you want to remove this shared item? You will no longer be able to access it on {serverName}.",{serverName:s});return y.a.createElement("div",{className:Pe()(n%2?xEe.a.alternateItem:xEe.a.item,M&&xEe.a.isDeleteConfirmModalOpen),style:O.style},y.a.createElement("div",{className:xEe.a.posterContainer},y.a.createElement("div",{className:xEe.a.poster,style:{width:h,height:f}},y.a.createElement($O.a,{serverEntityID:t,providerEntityID:a,type:o,url:O.isPlaceholder?null:b,width:h,height:f}))),y.a.createElement("div",{className:xEe.a.summaryContainer},y.a.createElement("div",{className:xEe.a.titleContainer},y.a.createElement("div",{className:xEe.a.title},w),y.a.createElement("div",{className:xEe.a.subtitle},N,p||o===wo.TRACK&&m?y.a.createElement(Hi.b,{className:xEe.a.separator}):null,p?function(e,t,a){if(t)return z0(t,a);let n;if(e===wo.SHOW)n=wo.EPISODE;else{const t=wo.getChildType(e);t&&(n=t.typeString)}return T_(n,a)}(o,l,p):null,o===wo.TRACK&&m?Cn(m):null),y.a.createElement("div",{className:xEe.a.subtitle},s)),y.a.createElement("div",{className:xEe.a.actions},S?y.a.createElement(jI.a,{"data-qa-id":"sharedItemDeleteButton",className:xEe.a.deleteButton,tabIndex:"0","aria-label":Object(Ce.default)("Remove {title}",{title:w}),onPress:D},y.a.createElement(Ql.a,{className:xEe.a.icon})):null)),y.a.createElement(Xc.a,{kind:ao.a,title:Object(Ce.default)("Remove {title}",{title:w}),message:x,confirmLabel:v?Object(Ce.default)("Stop Sharing"):Object(Ce.default)("Remove"),isOpen:M,isConfirmButtonSpinning:I,metricsPage:It.zb,onConfirm:P,onCancel:T}))};const LEe={dispatchPopulateSharedItem:GIe,onDeleteSharedItem:KIe};var kEe=Object(v.b)((function(){return Object(he.a)((e,{id:t})=>t,(e,{type:t})=>t,(e,{title:t})=>t,e=>e.ui.userSharingSettingsPage.deleteSharedItemID,Object(he.a)((e,{uri:t})=>t,Am.a,DO.a,(e,t,a)=>{const{key:n,serverIdentifier:i}=Object(Ia.a)(e),r=Object.keys(t).find(e=>t[e].machineIdentifier===i),s=Object.keys(a).find(e=>{const t=a[e];return t.key===n&&t.serverEntityID===r});return a[s]}),Object(he.a)((e,{uri:t})=>t,wU.a,(e,t)=>{const{serverIdentifier:a}=Object(Ia.a)(e),n=t.find(e=>e.server.machineIdentifier===a);return!!(n&&n.provider&&n.provider.isPopulated)}),(e,t,a,n,i={},r)=>{const s=function(e,t){const{subtype:a}=e,n=Object(wEe.a)(t,a,XO.r);return Object(P_.a)(n,null,t,a,e,XO.r)}(i,t);return{serverEntityID:i.serverEntityID,providerEntityID:i.providerEntityID,isItemProviderPopulated:r,grandparentKey:i.grandparentKey,parentTitle:i.parentTitle,grandparentTitle:i.grandparentTitle,type:t,playlistType:i.playlistType,index:i.index,title:i.title||a,leafCount:i.leafCount,duration:i.duration,isDeleting:e===n,showDelete:!n,imageWidth:s.width,imageHeight:s.height,imageUrl:s.url}})}),LEe)((function(e){const{uri:t,isItemProviderPopulated:a,dispatchPopulateSharedItem:n,...i}=e;return Object(g.useEffect)(()=>{a&&n({uri:t})},[t,a,n]),y.a.createElement(AEe,{...i})}));const REe=Object(JZ.a)(120);function zEe(e){return t=>y.a.createElement(kEe,{isOwnedItem:e,...t})}var UEe=function(e){const{isOwnedItem:t,...a}=e;return y.a.createElement(rA.a,{...a,keyPropName:"id",layout:REe,cellRenderer:zEe(t)})},VEe=a("lEPh"),BEe=a.n(VEe);function FEe(e){return e.reduce((e,t)=>[...e,...t.sharedItems.map(e=>({...e,origin:t.origin,serverName:t.name}))],[])}var HEe=function(e){const{userTitle:t,isRestrictedUser:a,isRestrictedFriend:n,ownedSharedSources:i,receivedSharedSources:r,isPopulated:s,isLoading:o,errorMessage:l}=e,[c,d]=Object(g.useState)(0),[u,p]=Object(g.useState)(0),[m,h]=Object(g.useState)({isContentMeasured:!1}),f=Object(g.useMemo)(()=>FEe(i),[i]),b=Object(g.useMemo)(()=>FEe(r),[r]),v=Object(g.useCallback)(e=>{d(e.scrollTop)},[]),I=Object(g.useCallback)(({width:e,height:t})=>{h({isContentMeasured:!0,contentWidth:e,contentHeight:t})},[]),S=Object(g.useCallback)(({height:e})=>{p(e)},[]);if(l)return y.a.createElement(Kk.a,{title:Object(Ce.default)("There was an unexpected error"),description:l});const E=!o&&m.isContentMeasured,O=s&&!a,M=s&&!n;return y.a.createElement(l9,{metricsPage:It.zb,metricsPane:"sharedMedia",scrollTop:c,onScrollPositionChange:v},o?y.a.createElement(sSe,null):null,y.a.createElement(VO.a,{className:BEe.a.container,onMeasure:I},E?y.a.createElement(y.a.Fragment,null,O?y.a.createElement(CEe,null,Object(Ce.default)("Shared with {userTitle}",{userTitle:t})):null,O&&0===f.length?y.a.createElement("div",{className:BEe.a.message},Object(Ce.default)("You haven't shared anything yet.")):null,O&&f.length>0?y.a.createElement(VO.a,{ignoreWidth:!1,ignorePosition:!1,onMeasure:S},y.a.createElement(UEe,{items:f,size:f.length,viewportWidth:m.contentWidth,viewportHeight:m.contentHeight,scrollTop:c,isOwnedItem:!0})):null,M?y.a.createElement(CEe,null,Object(Ce.default)("Shared with you")):null,M&&0===b.length?y.a.createElement("div",{className:BEe.a.message},Object(Ce.default)("This user hasn't shared anything with you yet.")):null,M&&b.length>0?y.a.createElement(UEe,{items:b,size:b.length,viewportWidth:m.contentWidth,viewportHeight:m.contentHeight,scrollTop:c-u,isOwnedItem:!1}):null):null))};const _Ee={dispatchFetchSharedSources:QIe};var WEe=Object(v.b)((function(){return Object(he.a)(e=>e.ui.userSharingSettingsPage,(e,{friend:t})=>t,Object(kt.a)("restricted"),(e,t,a)=>{const{ownedSharedSources:n,receivedSharedSources:i,isSharedSourcesPopulating:r,isSharedSourcesPopulated:s,sharedSourcesError:o}=e;return{userID:t.id,userTitle:t.title,ownedSharedSources:n,receivedSharedSources:i,isRestrictedUser:a,isRestrictedFriend:t.restricted,isPopulating:r,isPopulated:s,isLoading:r&&!o,errorMessage:o}})}),_Ee)((function(e){const{userID:t,isPopulating:a,isPopulated:n,dispatchFetchSharedSources:i,...r}=e;return Object(g.useEffect)(()=>{a||n||i({userID:t})},[t,a,n,i]),y.a.createElement(HEe,{...r,isPopulated:n})})),QEe=a("08AQ"),GEe=a.n(QEe);const KEe={sharedLibraries:TEe,sharedMedia:WEe,profile:ASe,restrictions:tEe};var YEe=function(e){const{serverEntityID:t,friend:a,isGuest:n,isUpdatingFriend:i,isPending:r,isPopulated:s,showAddToHome:o,showProfile:l,showRestrictions:c,hasError:d,dispatchAddToHome:u}=e,p=Object(Or.a)(i),[m,h]=Object(g.useState)("sharedLibraries"),[f,b]=Object(g.useState)(!1),v=Object(g.useCallback)(e=>{h(e)},[]),I=Object(g.useCallback)(()=>b(!0),[]),S=Object(g.useCallback)(()=>u({friendEntityID:a.entityID}),[a,u]),E=Object(g.useCallback)(()=>b(!1),[]);Object(g.useEffect)(()=>{p&&!i&&b(!1)},[p,i,b]);const O=Object(g.useMemo)(()=>function(e,t,a){const n=[{id:"sharedLibraries",title:Object(Ce.default)("Shared Libraries"),isSelected:"sharedLibraries"===e},{id:"sharedMedia",title:Object(Ce.default)("Shared Media"),isSelected:"sharedMedia"===e}];return t&&n.push({id:"profile",title:Object(Ce.default)("Profile"),isSelected:"profile"===e}),a&&n.push({id:"restrictions",title:Object(Ce.default)("Restrictions"),isSelected:"restrictions"===e}),n}(m,l,c),[m,l,c]),M=KEe[m];return y.a.createElement(UO.a,{metricsPage:It.a,metricsProperties:{pane:"users-sharing"},scrollDirection:iv.b},!d&&r?y.a.createElement(sSe,null):null,!d&&s?y.a.createElement(Jm,{className:GEe.a.pageHeader},y.a.createElement(zv,{className:GEe.a.pageHeaderLeft},y.a.createElement(Q0.a,{className:GEe.a.avatar,serverEntityID:t,url:a.thumb,width:60,height:60}),y.a.createElement("div",{className:GEe.a.username},a.title)),y.a.createElement(AD,{tabs:O,hideSingleTabs:!1,onPress:v}),y.a.createElement(Uv.a,{className:GEe.a.pageHeaderRight},o?y.a.createElement(ZO.a,{className:GEe.a.addToHomeIcon,iconComponent:lSe,title:Object(Ce.default)("Add to Plex Home"),onPress:I}):null)):null,!d&&s?y.a.createElement(M,{friend:a,isGuest:n}):null,d?y.a.createElement(KG,{title:Object(Ce.default)("An error occurred loading this user"),description:Object(Ce.default)("Please try again")},y.a.createElement(jI.a,{to:"#!/settings/users-sharing",kind:ao.d},Object(Ce.default)("Go Back"))):null,y.a.createElement(Xc.a,{isOpen:f,metricsPage:It.e,title:Object(Ce.default)("Add to Plex Home"),message:y.a.createElement("div",{className:GEe.a.confirmMessageContainer},y.a.createElement(Sh.a,{className:GEe.a.confirmWarning}),y.a.createElement("div",{className:GEe.a.confirmMessage},Object(Ce.default)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")),y.a.createElement("div",{className:GEe.a.confirmMessage},Object(Ce.default)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership."))),confirmLabel:Object(Ce.default)("Confirm"),kind:ao.a,isConfirmButtonSpinning:i,onConfirm:S,onCancel:E}))};const qEe=Object(he.a)(e=>e.ui.userSharingSettingsPage,e=>e.cloudServer,(e,{userID:t})=>t,AU.a,PIe.a,H0.a,DIe.a,Object(kt.a)("hasPlexPass"),(e,t,a,n,i,r,s,o)=>{const l=Object.keys(r).find(e=>r[e].id===a),c=Object.keys(s).find(e=>s[e].id===a),d=n.isAllFriendsPopulated,u=r[l],p=s[c],m=!!i.sentInvites.find(e=>parseInt(e.id,10)===u.id&&e.home);return{serverEntityID:t,friend:u,isGuest:!!p&&p.guest,isUpdatingFriend:e.isUpdatingFriend,isPending:n.isAllFriendsPending&&!d,isPopulated:d,hasError:!!n.allFriendsError||d&&!l,showAddToHome:o&&!(u&&u.home)&&!m,showProfile:!!p&&p.restricted,showRestrictions:!n.restricted}}),ZEe={dispatchResetUserSharingSettingsPage:BIe,dispatchPopulateAllFriends:VS.u,dispatchPopulateHomeUsers:VS.v,dispatchAddToHome:eSe};var XEe=Object(v.b)(qEe,ZEe)((function(e){const{dispatchResetUserSharingSettingsPage:t,dispatchPopulateAllFriends:a,dispatchPopulateHomeUsers:n,...i}=e;return Object(g.useEffect)(()=>{Object(Dt.a)(a)},[a]),Object(g.useEffect)(()=>{Object(Dt.a)(n)},[n]),Object(g.useEffect)(()=>t,[t]),y.a.createElement(YEe,{...i})}));function JEe(){const{userID:e}=Object(I.i)();return y.a.createElement(XEe,{userID:parseInt(e,10)})}const $Ee=[{key:"general",title:()=>Object(Ce.default)("General")},{key:"quality",title:()=>Object(Ce.default)("Quality")},{key:"debug",title:()=>Object(Ce.default)("Debug"),isAdvanced:!0},{key:"player",title:()=>Object(Ce.default)("Player")},{key:"downloads",title:()=>Object(Ce.default)("Downloads")}];var eOe=a("2Xys"),tOe=a("ZpxE"),aOe=a("xx2m"),nOe=a("jLR9"),iOe=a("BBrP");const rOe=[1,2,3,4],sOe=(Qn.a.oneOf(rOe),QE.a.oneOf(...rOe)),oOe={WHITE:"#ffffff",YELLOW:"#ffee00",BLACK:"#000000",CYAN:"#00ffff",BLUE:"#0000ff",GREEN:"#00ff00",MAGENTA:"#ee00ee",RED:"#ff0000",GREY:"#808080"};oOe.settings=[{value:oOe.WHITE,title:"White"},{value:oOe.YELLOW,title:"Yellow"},{value:oOe.BLACK,title:"Black"},{value:oOe.CYAN,title:"Cyan"},{value:oOe.BLUE,title:"Blue"},{value:oOe.GREEN,title:"Green"},{value:oOe.MAGENTA,title:"Magenta"},{value:oOe.RED,title:"Red"},{value:oOe.GREY,title:"Grey"}],oOe.ALL=[oOe.WHITE,oOe.YELLOW,oOe.BLACK,oOe.CYAN,oOe.BLUE,oOe.GREEN,oOe.MAGENTA,oOe.RED,oOe.GREY];var lOe=oOe;const cOe={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"};cOe.settings=[{value:cOe.TOP,title:"Top"},{value:cOe.MIDDLE,title:"Middle"},{value:cOe.BOTTOM,title:"Bottom"}],cOe.ALL=[cOe.TOP,cOe.MIDDLE,cOe.BOTTOM];var dOe=cOe;const uOe={TINY:50,SMALL:75,NORMAL:100,LARGE:125,HUGE:200};uOe.settings=[{value:uOe.TINY,title:"Tiny"},{value:uOe.SMALL,title:"Small"},{value:uOe.NORMAL,title:"Normal"},{value:uOe.LARGE,title:"Large"},{value:uOe.HUGE,title:"Huge"}],uOe.ALL=[uOe.TINY,uOe.SMALL,uOe.NORMAL,uOe.LARGE,uOe.HUGE];var pOe=uOe,mOe=a("XaBv"),hOe=a("7J7q");function gOe(){return!Object(dge.a)()}var yOe=a("VzrX"),fOe=a("vb9Q"),bOe=a("NciQ");function vOe(){const e=Object.keys(bOe.a.getLanguages()).map(e=>({value:e,title:Object(fOe.a)(e)}));return e.sort((e,t)=>e.title.localeCompare(t.title)),e}var IOe=function(e,t){const{base:a,searchParams:n,hashPath:i,hashParams:r}=G(e),s=Object(F.a)(n);return`${a}?${Object(kge.a)({...s,...t})}${(i||r?"#":"")+i+r}`},SOe=a("5exe"),EOe=a("whaC");const OOe={amp:"&",apos:"'","#x27":"'","#x2F":"/","#39":"'","#47":"/",lt:"<",gt:">",nbsp:" ",quot:'"'};function MOe(e){let t=e;return Object.keys(OOe).forEach(e=>{t=t.replace(new RegExp(Object(U.a)(`&${e};`),"g"),OOe[e])}),t}var COe=XE.a.extend({sessionAttrs:{protocol:QE.a.string.isRequired,protocolCapabilities:QE.a.array.isRequired},syncedAttrs:{friendlyName:QE.a.string.isRequired,capabilities:QE.a.array,volume:QE.a.integer.isRequired},defaults:{protocol:JM.a,protocolCapabilities:["timeline","playback","mirror","playqueues","provider-playback"],volume:100},augmentResponse:e=>({...e,friendlyName:MOe(e.friendlyName)})});const jOe=Object(yo.a)("ui/player/remoteCastPlayer/changeCastApiAvailability"),DOe=Object(yo.a)("ui/player/remoteCastPlayer/requestCastSession"),POe=Object(yo.a)("ui/player/remoteCastPlayer/changeRemoteCastPlayer"),TOe={"ui/player/remoteCastPlayer/changeCastApiAvailability"(e,t){e.set({castApiAvailability:t})},"ui/player/remoteCastPlayer/requestCastSession"(e){Object(E.c)("remoteCastPlayerManager").requestSession()},"ui/player/remoteCastPlayer/changeRemoteCastPlayer"(e,t){const a=e.get("ui"),n=a.get("audioVideoPlayer"),i=a.get("photoPlayer"),r=a.get("romPlayer");if(r.get("isOpen")&&r.set({hasError:!0,errorMessage:Object(Ce.default)("Games are unsupported when connected to a remote player.")}),n.get("isOpen")){const e=n.get("isWatchTogether")?{hasError:!0,errorMessage:Object(Ce.default)("Watch Together is not currently supported when connected to a remote player.")}:{confirmLocalToRemote:2,isPaused:!0};n.set(e)}i.get("isOpen")&&i.set({confirmLocalToRemote:2,isPaused:!0}),e.set("remotePlayer",new COe(t,{parse:!0}))}},wOe="auto",NOe="2.0",xOe="2.1",AOe="3.1",LOe="5.1",kOe="7.1",ROe="ac3",zOe="dts",UOe="dts-hd",VOe="eac3",BOe="truehd";var FOe={0:{channelLayouts:Object.values(o),passthroughCodecs:[],transcodeToAC3:!1},2:{channelLayouts:Object.values(o),passthroughCodecs:Object.values(l),transcodeToAC3:!1},1:{channelLayouts:[NOe],passthroughCodecs:[ROe,zOe],transcodeToAC3:!0}};var HOe={PRODUCTION:"9AC194DC",QA:"4289C4E0",NINJA:"EB90125F",CUSTOM:"custom"};HOe.settings=[{value:HOe.PRODUCTION,title:"Production"},{value:HOe.QA,title:"QA"},{value:HOe.NINJA,title:"Ninja"},{value:HOe.CUSTOM,title:"Custom"}];var _Oe=HOe;var WOe={musicSettings:[{value:Tie.a.ORIGINAL,title:()=>Object(Ce.default)("Original")},{value:3,title:()=>Object(Ce.default)("High (320 Kbps)")},{value:2,title:()=>Object(Ce.default)("Medium (192 Kbps)")},{value:1,title:()=>Object(Ce.default)("Low (128 Kbps)")}],videoSettings:[{value:Tie.a.ORIGINAL,title:()=>Object(Ce.default)("Original")},{value:12,title:()=>Object(Ce.default)("High (20 Mbps, 1080p)")},{value:8,title:()=>Object(Ce.default)("Medium (4 Mbps, 720p)")},{value:5,title:()=>Object(Ce.default)("Low (1.5 Mbps, 480p)")}]};function QOe(e){var t;const{name:a,description:n}=(null==(t=e.toJSON)?void 0:t.call(e))||e;return"auto"===a?Object(Ce.default)("Auto select device"):n}var GOe=a("P5aE"),KOe=a.n(GOe),YOe=[{value:0,title:"None"},{value:1,title:"1"},{value:2,title:"2"},{value:3,title:"3"},{value:4,title:"4"},{value:5,title:"5"}];function qOe(e){const t=[{title:Object(Ce.default)("Auto"),value:wOe},{title:Object(Ce.default)("2.0 (Stereo)"),value:NOe},{title:Object(Ce.default)("2.1"),value:xOe},{title:Object(Ce.default)("3.1"),value:AOe},{title:Object(Ce.default)("5.1"),value:LOe},{title:Object(Ce.default)("7.1"),value:kOe}],a=[{title:Object(Ce.default)("Passthrough {codec}",{codec:"Dolby Digital"}),value:ROe},{title:Object(Ce.default)("Passthrough {codec}",{codec:"Dolby Digital Plus"}),value:VOe},{title:Object(Ce.default)("Passthrough {codec}",{codec:"DTS"}),value:zOe},{title:Object(Ce.default)("Passthrough {codec}",{codec:"DTS-HD"}),value:UOe},{title:Object(Ce.default)("Passthrough {codec}",{codec:"Dolby TrueHD"}),value:BOe}];return{kind:e,channelLayoutSettings:t.filter(t=>FOe[e].channelLayouts.includes(t.value)),passthroughCodecSettings:a.filter(t=>FOe[e].passthroughCodecs.includes(t.value)),transcodeToAC3Setting:{title:Object(Ce.default)("Transcode to AC3"),value:FOe[e].transcodeToAC3}}}var ZOe=p.a.ItemView.extend({className:"web-settings-container",template:KOe.a,ui:{chromecastCustomGroup:"#chromecast-custom-group",customHomeStreamingSettings:".custom-home-streaming-settings",recommendedHomeStreamingSettings:".recommended-home-streaming-settings",toggleSyncBtn:".toggle-sync-btn",resetCustomizationBtn:".reset-customization-btn",restoreBtn:".restore-btn",submitBtn:".submit-btn",message:".form-message",audioDeviceName:".audio-device-name",audioDevicesFieldSets:".audio-device-fields",audioDeviceKindSelects:".audio-device-kind",audioDeviceKindFieldSets:".audio-device-kind-fields"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick","click .reload-securely-btn":"onReloadSecurelyClick","click .settings-nav a":"onSettingsGroupClick","change .audio-device-name":"onAudioDeviceChange","change .audio-device-kind":"onAudioDeviceKindChange","change #chromecastAppID":"onChromecastAppIDChange","change #useHomeStreamingRecommendedSettings":"onUseHomeStreamingRecommendedSettingsChange","change input[id]":"onInputChange","input input[type=text]":"onInputChange","change select[id]":"onInputChange","click .toggle-sync-btn":"onToggleSync","click .reset-customization-btn":"onResetCustomization","click .restore-btn":"onRestore","click .reset-reminders-btn":"onResetReminders","submit #web-settings-form":"onSubmit"},onlyAfterRender:["saveChanges","displayHomeStreamingSettings"],initialize:function(e){this.changes={};var t=Object(E.c)("appModel"),a=t.get("user"),n=a.get("experienceSettings");this.model=t.get("deviceSettings"),this.settingsGroup=e.settingsGroup,this.listenTo(a,"change:signedIn",this.onSignedInChange),this.listenTo(t,"change:primaryServer",this.render),this.listenTo($.a,"shortcut:save",this.saveChanges);const i=t.get("deviceSettings").get("audioDevices");i&&this.listenTo(i,"change",this.onAudioDevicesChange);var r=n.get("showAdvancedSettings");if(this.$el.toggleClass("show-advanced",r),this.displayHomeStreamingSettings(n.get("useHomeStreamingRecommendedSettings")),"general"===this.settingsGroup){Object(E.c)("appStore").dispatch(Object(ta.B)({hasDismissedInsecureHostedAppWarning:!0}))}},serializeData:function(){var e=[{value:"h:mma",title:Object(Ce.default)("12 Hour")},{value:"HH:mm",title:Object(Ce.default)("24 Hour")}],t=this.model.toJSON(),a=Object(E.c)("appModel"),n=Object(GI.o)(a),i=n.get("experienceSettings").toJSON(),r=n.isNinja(),s=n.get("restricted"),o=n.get("isSignedIn")&&X.a.allowSyncSettings&&!i.isRemoteSchemaVersionNewer,l=n.get("isSignedIn")&&X.a.allowSyncSettings&&i.isRemoteSchemaVersionNewer,c=gOe(),d=_M.prop("video"),u=Object(hOe.b)(),p=n.isNinja()?"4.53.0-12fba3f":"4.53.0",m=M.a.escape(V.a.prop("X-Plex-Product"));return Object(hOe.b)()&&(p=V.a.prop("X-Plex-Version")),{...this.serializePlatformData(),deviceSettings:t,experienceSettings:i,canPlayAdaptiveBitrate:c,hasSubtitleBurnLevel:!u,canDebugAds:n.isEmployee(),canDebugAdaptiveBitrate:c&&r,isAnonymous:n.get("anonymous"),isRestricted:s,isSyncSettingsAllowed:o,isSyncSettingsRestrictedBySchemaVersion:l,isHybridPlatform:u,isNinja:r,isQtDesktop:Object(hOe.b)(),version:p,languages:vOe(),debugLevels:nOe.a.settings,debugAdKinds:aOe.a.settings,subtitlesBurnLevels:mOe.a.settings,chromecastAppIDs:_Oe.settings,availableQualities:aC.a.getAvailableQualities({lowestQualityIndex:d.lowestQualityIndex}).reverse(),subtitleColors:lOe.settings,subtitlePositions:dOe.settings,subtitleSizes:pOe.settings,musicDownloadQualityLevels:WOe.musicSettings,videoDownloadQualityLevels:WOe.videoSettings,httpFallbackOptions:S.a.isHostedHttps?null:iOe.a.settings,alertIcon:Object(yOe.a)(je.a),showReloadSecurely:!1,extrasPrefixCounts:YOe,timeFormats:e,generalSettingsRoute:"#!/settings/web/general",escapedProductName:m,hasV4DirectoryFeature:n.get("features").get(ve.E),hasV4DVRSetupFeature:n.get("features").get(ve.F),normalizeDownmixedVolume:i.audioBoost===tOe.b}},serializePlatformData(){if(!Object(hOe.b)())return{};const e=this.model.get("player.audioDevice");return{audioDevices:this.model.get("audioDevices").filter(e=>e.get("present")).map(t=>{const a={...t.toJSON(),cid:t.cid,isSelected:t.get("name")===e,title:QOe(t)};return"auto"!==t.get("name")&&(a.kinds=[{title:Object(Ce.default)("Basic"),value:0},{title:Object(Ce.default)("Optical S/PDIF"),value:1},{title:Object(Ce.default)("HDMI"),value:2}],a.capabilities=[qOe(0),qOe(1),qOe(2)]),a}),keepOnTopSettings:[{title:Object(Ce.default)("Never"),value:0},{title:Object(Ce.default)("During playback"),value:1},{title:Object(Ce.default)("Always"),value:2}],refreshRateSwitchingDelaySettings:[{title:"None",value:0},{title:"1 Second",value:1e3},{title:"3 Seconds",value:3e3},{title:"5 Seconds",value:5e3}]}},saveChanges:function(){const e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,a=this.ui.restoreBtn,n=this.ui.submitBtn,i=this.ui.message;if(n.isDisabled())return;i.text(""),i.removeClass("has-error"),e.addClass("disabled"),t.addClass("disabled"),a.addClass("disabled"),n.addClass("active");const r=!!this.changes.language,s=!1===this.changes.shouldSaveLastSourcePivots,o=!(!this.changes.chromecastAppID&&!this.changes.chromecastCustomAppID),l=this.tryInterceptAudioDeviceChanges(this.changes).then(e=>this.interceptNormalizedDownmixedVolumeChange(e)).then(e=>this.saveSettings(e));l.done(M.a.bind((function(){const e=Object(E.c)("appStore");this.changes={},s&&e.dispatch(Object(ta.t)()),o&&e.dispatch(jOe(4)),r?e.dispatch(bm.actions.languageChanged()):(n.addClass("disabled"),i.text(Object(Ce.default)("Your changes have been saved.")))}),this)),l.fail(M.a.bind((function(){const e=Object(E.c)("appModel").get("user"),t=Object(EOe.a)(e)?Object(Ce.default)("Unable to sync these changes with other devices at this time. Plex will automatically retry later."):Object(Ce.default)("Your changes could not be saved.");i.addClass("has-error"),i.text(t)}),this)),l.always(M.a.bind((function(){r||(e.removeClass("disabled"),t.removeClass("disabled"),a.removeClass("disabled"),n.removeClass("active"))}),this))},toggleSync:function(){const e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,a=this.ui.submitBtn,n=this.ui.message;if(e.isDisabled())return;n.text("");const i=this.getToggleSyncConfirmModal();i.promise.then(()=>(e.addClass("active"),t.addClass("disabled"),a.addClass("disabled"),this.toggleShouldSyncSettings().then(()=>{this.changes={},this.render(),i.hide()},()=>{n.text(Object(Ce.default)("An error occurred, could not load settings from your Plex profile.")),e.removeClass("active"),t.removeClass("disabled"),a.removeClass("disabled"),i.hide()}))),$.a.trigger("show:modal",i)},resetCustomization:function(){const e=this.ui.resetCustomizationBtn,t=this.ui.toggleSyncBtn,a=this.ui.submitBtn,n=this.ui.message;if(e.isDisabled())return;n.text("");const i=this.getResetCustomizationConfirmModal();i.promise.then(()=>{e.addClass("active"),t.addClass("disabled"),a.addClass("disabled"),Object(E.c)("appStore").dispatch(Object(VS.N)()),i.hide()}),$.a.trigger("show:modal",i)},restoreDefaults:function(){const e=this.ui.restoreBtn,t=this.ui.submitBtn,a=this.ui.message;if(e.isDisabled())return;a.text("");const n=this.getRestoreDefaultsConfirmModal();n.promise.then(()=>(e.addClass("active"),t.addClass("disabled"),this.restoreDefaultSettings().then(()=>{this.changes={},this.render(),n.hide()},()=>{a.text(Object(Ce.default)("An error occurred, defaults have not been restored.")),e.removeClass("active"),t.removeClass("disabled"),n.hide()}))),$.a.trigger("show:modal",n)},getToggleSyncConfirmModal:function(){const e=Object(E.c)("appModel").get("deviceSettings").get("shouldSyncSettings"),t=e?Object(Ce.default)("Turn off settings sync"):Object(Ce.default)("Turn on settings sync"),a=V.a.prop("X-Plex-Product"),n=e?Object(Ce.default)("Changes to {productName} settings and customization will no longer synchronize with other {productName} instances.",{productName:a}):Object(Ce.default)("{productName} settings and customization will now be used on other {productName} instances.",{productName:a});return new zee.a({title:t,message:n,confirmLabel:t,cancelLabel:Object(Ce.default)("Cancel"),async:!0})},getResetCustomizationConfirmModal:function(){const e=Object(Ce.default)("Reset customization");return new zee.a({title:e,message:Object(Ce.default)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:e,cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0})},getRestoreDefaultsConfirmModal:function(){const e=Object(E.c)("appModel").get("user"),t=Object(EOe.a)(e),a=Object(Ce.default)("Restore defaults"),n=V.a.prop("X-Plex-Product"),i=t?Object(Ce.default)("All {productName} settings and customization will be reset and restored to their default state. This will affect other {productName} instances.",{productName:n}):Object(Ce.default)("All {productName} settings and customization will be reset and restored to their default state. Other {productName} instances will not be affected.",{productName:n});return new zee.a({title:a,message:i,confirmLabel:a,cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0})},waitForAttribute:function(e,t,a){var n=h.a.Deferred(),i="change:"+t;return e.on(i,(function t(r,s){s===a&&(e.off(i,t),n.resolve())})),n.promise()},tryInterceptAudioDeviceChanges:function(e){return Object(hOe.b)()?this.interceptAudioDeviceChanges(e):h.a.Deferred().resolve(e).promise()},interceptAudioDeviceChanges:function(e){const t=Object(E.c)("appModel").get("deviceSettings"),a=t.get("audioDevices"),n=e["player.audioDevice"],i=new Set;for(const t in e)/^ignore/.test(t)&&(i.add(document.getElementById(t).dataset.cid),delete e[t]);if(i.forEach(e=>{const t=a.get(e),n=this.getAudioDeviceSettingsFromForm(e);t&&n&&(Object(C.a)(`[Settings] Updating ${t.get("description")} (${t.get("name")}): ${JSON.stringify(n)}`),t.set(n))}),i.size||n){const i=a.get(n||t.get("player.audioDevice"));if(i)if(i.get("present")){const t={"player.audioDevice":i.get("name"),"player.audioChannelLayout":i.get("channelLayout"),"player.audioPassthroughCodecs":i.get("passthroughCodecs"),"player.transcodeToAC3Enabled":i.get("transcodeToAC3")};Object.assign(e,t),Object(C.a)(`[Settings] Audio device changes ${i.get("description")} (${i.get("name")}): ${JSON.stringify(t)}`)}else C.a.error(`[Settings] Expected device ${i.get("description")} (${i.get("name")}) is absent. Changes saved but refusing to select absent device.`);else C.a.error("[Settings] Expected audio device missing.")}return h.a.Deferred().resolve(e).promise()},getAudioDeviceFields:function(e){return this.ui.audioDevicesFieldSets.toArray().find(t=>t.dataset.cid===e)},getAudioDeviceKindSelect:function(e){return this.ui.audioDeviceKindSelects.toArray().find(t=>t.dataset.cid===e)},getAudioDeviceKindFields:function(e,t){return this.ui.audioDeviceKindFieldSets.toArray().find(a=>a.dataset.cid===e&&a.dataset.kind===t)},getAudioDeviceSettingsFromForm:function(e){const t=this.getAudioDeviceKindSelect(e);if(!t)return null;const a=this.getAudioDeviceKindFields(e,t.value),n={channelLayout:a.querySelector("[name=channelLayout]").value,kind:parseInt(t.value,10),passthroughCodecs:[],transcodeToAC3:a.querySelector("[name=transcodeToAC3]").checked};for(const e of a.querySelectorAll("[name=passthroughCodecs]"))e.checked&&n.passthroughCodecs.push(e.value);return n},interceptNormalizedDownmixedVolumeChange:function(e){const{normalizeDownmixedVolume:t}=e;return null!=t&&(delete e.normalizeDownmixedVolume,e.audioBoost=t?tOe.b:tOe.c),h.a.Deferred().resolve(e).promise()},saveSettings:function(e){var t=[],a=Object(E.c)("appModel"),n=[{model:a.get("deviceSettings"),actionCreator:ta.B},{model:a.get("user").get("experienceSettings"),actionCreator:xy.l}].reduce((e,{model:a,actionCreator:n})=>{var i={},r={};for(var s in e){var o,l=e[s];if(a.hasAttr(s)){const e=Object.getPrototypeOf(a),t=e.syncedAttrs[s]||e.sessionAttrs[s];"string"==typeof l&&t===QE.a.integer&&(l=Object(eOe.a)(l)),o=i}else o=r;o[s]=l}return Object.keys(i).length&&t.push(this.saveSettingUsingActionCreator(i,a,n)),r},e);return Object.keys(n).length&&t.push(this.model.save(n)),t.length?h.a.when(...t):h.a.Deferred().resolve().promise()},toggleShouldSyncSettings:function(){const e=Object(E.c)("appModel").get("deviceSettings"),t=Object(E.c)("appModel").get("user").get("experienceSettings"),a=e.get("shouldSyncSettings");return this.saveSettingUsingActionCreator({shouldSyncSettings:!a},e,ta.B).then(()=>this.saveSettingUsingActionCreator({},t,xy.l))},restoreDefaultSettings:function(){const e=[],t=Object(E.c)("appModel");return[{model:t.get("deviceSettings"),actionCreator:HI.k},{model:t.get("user").get("experienceSettings"),actionCreator:VS.G}].forEach(({model:t,actionCreator:a})=>{e.push(this.saveSettingUsingActionCreator({},t,a))}),h.a.when(...e)},saveSettingUsingActionCreator:function(e,t,a){if(!t.has("isSaving"))return Object(E.c)("appStore").dispatch(a(e)),h.a.Deferred().resolve().promise();var n=t.get("isSaving"),i=this.waitForAttribute(t,"isSaving",!1);return i=i.then(()=>n?this.saveSettingUsingActionCreator(e,t,a):t.get("saveError")?h.a.Deferred().reject().promise():h.a.Deferred().resolve().promise()),n||window.setTimeout(()=>{Object(E.c)("appStore").dispatch(a(e))},0),i},displayHomeStreamingSettings:function(e){this.ui.customHomeStreamingSettings.toggleClass("hidden",e),this.ui.recommendedHomeStreamingSettings.toggleClass("hidden",!e)},onRender:function(){this.$("#"+this.settingsGroup+"-web-group").addClass("active"),this.$("#"+this.settingsGroup+"-web-group-footer").addClass("active")},onSignedInChange:function(e,t){null!=t&&this.render()},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");this.$el.toggleClass("show-advanced",!t),t&&"debug"===this.settingsGroup&&(window.location.hash="#!/settings/web/general"),Object(E.c)("appStore").dispatch(Object(xy.l)({showAdvancedSettings:!t}))},onReloadSecurelyClick(e){window.location=IOe(Object(SOe.a)(window.location.href,"https:"),{secure:1})},onSettingsGroupClick:function(e){e.preventDefault();var t=h()(e.currentTarget),a=t.attr("href");this.$(".settings-group").removeClass("active"),this.$(a).addClass("active"),this.$(".nav a").removeClass("selected"),t.addClass("selected")},onChromecastAppIDChange:function(e){var t=e.currentTarget.value===_Oe.CUSTOM;this.ui.chromecastCustomGroup.toggleClass("hidden",!t)},onUseHomeStreamingRecommendedSettingsChange:function(e){this.displayHomeStreamingSettings(!!e.currentTarget.checked)},onInputChange:function(e){var t=h()(e.currentTarget),a=e.currentTarget,n=a.value;"checkbox"===a.type&&(n=t.prop("checked")),"int"===t.data("type")&&(n=parseInt(n,10)),this.changes[a.id]=n,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},onAudioDevicesChange:function(e){const t=this.ui.audioDeviceName[0],a=t.querySelector(`option[value=${e.cid}]`);a&&(a.disabled=!e.get("present"),a.disabled&&a.selected&&(t.selectedIndex=0,this.onAudioDeviceChange({target:t})))},onAudioDeviceChange:function(e){this.ui.audioDevicesFieldSets.each((t,a)=>{a.classList.toggle("hidden",e.target.value!==a.dataset.cid)})},onAudioDeviceKindChange:function(e){const{cid:t}=e.target.dataset,a=e.target.value;this.ui.audioDeviceKindFieldSets.each((e,n)=>{n.classList.toggle("hidden",n.dataset.cid!==t||n.dataset.kind!==a)})},onToggleSync:function(e){e.preventDefault(),this.toggleSync()},onResetCustomization:function(e){e.preventDefault(),this.resetCustomization()},onRestore:function(e){e.preventDefault(),this.restoreDefaults()},onResetReminders:function(e){e.preventDefault(),Object(E.c)("appStore").dispatch(Object(VS.E)())},onSubmit:function(e){e.preventDefault(),this.saveChanges()}});var XOe=function(e){const{settingsSubset:t,title:a,showSpinner:n,isSettingsSubsetAllowed:i,isSignedIn:r,onPopulateHomeUsers:s}=e,o=Object(I.g)();return Object(g.useEffect)(()=>{i||Object(see.a)("webSettings",{settingsSubset:"general"})},[o,i]),Object(g.useEffect)(()=>{r&&Object(Dt.a)(s)},[r,s]),n?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):y.a.createElement(y.a.Fragment,null,y.a.createElement(Nbe,{selectedKey:"web-client--settings--"+t}),y.a.createElement(l9,{metricsPage:It.kb,metricsPane:"web:"+t},y.a.createElement(p9,null,V.a.prop("X-Plex-Product"),y.a.createElement(Hi.b,null),a()),y.a.createElement(Aue,{key:Object(VE.a)("WebSettingsView","web",t),view:ZOe,viewOptions:{subset:"web",settingsGroup:t}})))};const JOe={onPopulateHomeUsers:VS.v};var $Oe=Object(v.b)((function(){return Object(he.a)((e,{settingsSubset:t})=>t,Gk,AU.a,PIe.a,(e,t,a,n)=>{const i=(r=e,$Ee.find(e=>e.key===r));var r;const s=i&&(a.experienceSettings.showAdvancedSettings||!i.isAdvanced),o=t.isPending&&t.connectionTestResult===zU.c.PENDING,l=!t.isResolved&&!t.isRejected||t.isResolved&&(!n.isHomeUsersPopulated&&!n.homeUsersError||!!n.homeUsersError&&n.isHomeUsersPending);return{showSpinner:!s||o||l,settingsSubset:e,title:i&&i.title,isSettingsSubsetAllowed:s,isSignedIn:a.isSignedIn}})}),JOe)(XOe);function eMe(){const{settingsSubset:e}=Object(I.i)();return y.a.createElement($Oe,{settingsSubset:e})}var tMe=a("QPyl"),aMe=a("7MiL"),nMe=a.n(aMe),iMe=p.a.ItemView.extend({template:nMe.a,initialize:function(){var e=E.c("appModel");this.listenTo(e,"change:primaryServer",this.render),this.listenTo(e.get("user"),"change:signedIn",this.render)},serializeData:function(){var e=E.c("appModel"),t=e.get("user"),a=e.get("primaryServer"),n={host:window.location.host,userAgent:window.navigator.userAgent,browser:tMe.a,user:t.toJSON(),hasPlexSubscription:t.get("hasPlexSubscription"),cloudServer:t.server.toJSON(),cloudServerUrl:t.server.url()};return a&&(n.primaryServer=a.toJSON(),n.primaryServerUrl=a.url()),n}}),rMe=a("8lLI"),sMe=a.n(rMe),oMe=p.a.ItemView.extend({className:"logs-container",template:sMe.a,ui:{textarea:"textarea"},collectionEvents:{add:"onAdd"},onlyAfterRender:["onAdd"],initialize:function(){this.collection=Object(E.c)("logs")},serializeData:function(){return{logs:this.collection.toJSONString()}},onAdd:function(e,t){this.ui.textarea.text(this.collection.toJSONString())}});var lMe=Object(he.a)(PIe.a,e=>e.announcements);var cMe=Object(he.a)(lMe,e=>e.filter(e=>!e.read));var dMe=Object(he.a)(Ft.a,e=>e.filter(e=>!e.isCloud&&!e.isEmbedded&&!!e.friendlyName));var uMe=Object(he.a)(PIe.a,e=>e.invites);var pMe=function(e){const{isOpen:t,errorMessage:a,onModalClose:n}=e,i=[a||Object(Ce.default)("There was an unexpected error."),Object(Ce.default)("Please visit our forums if you continue to experience problems.")];return y.a.createElement(Yw.a,{size:cc.c,isOpen:t,metricsPage:It.O,onModalClose:n},y.a.createElement(eN.a,{onModalClose:n},y.a.createElement(Jw.a,null,Object(Ce.default)("There was an unexpected error")),y.a.createElement(qw.a,null,i.join(" "),y.a.createElement("br",null),y.a.createElement(jI.a,{to:up.c,target:"_self",kind:ao.d,onPress:n},Object(Ce.default)("Go to Forums"))),y.a.createElement(Zw.a,null,y.a.createElement(Ih.a,{className:BV.a.button,"data-autofocus":!0,kind:ao.d,onPress:n},Object(Ce.default)("Okay")))))},mMe=a("6DgY"),hMe=a.n(mMe);var gMe=function(){const e=Object(sE.a)(),t=Object(Ce.default)("An unexpected error is impacting the navigation bar");return y.a.createElement("div",{className:hMe.a.container},y.a.createElement(Dm.a,{component:jI.a,tooltip:t,tooltipAttachment:Pm.a,"aria-label":t,onPress:e.onOpen},y.a.createElement(je.a,{className:hMe.a.icon})),y.a.createElement(pMe,{isOpen:e.isOpen,errorMessage:t+".",onModalClose:e.onClose}))};function yMe(){return Object(he.a)(Lt.a,UB("providerEntityID"),(e,t)=>e[t])}var fMe=function(){return Object(he.a)(yMe(),e=>Object(Jr.a)(e.identifier,e.providerIdentifier))};var bMe=function(e){return e.castApiAvailability};var vMe=function(){return Object(he.a)(bMe,fMe(),Es.a,(e,t,a)=>Object(nC.a)({protocol:JM.a,providerIdentifier:t,userFeaturesByUUID:a})?e:1)};var IMe=function(){return(e,t)=>t.playerType?vMe()(e,t):bMe(e,t)};var SMe=Object(he.a)(PIe.a,({cloudCompanions:e})=>e);var EMe=Object(he.a)(SMe,e=>e.reduce((e,{cloudPlayers:t})=>e.concat(t),[]));var OMe=Object(he.a)(e=>e.companionServer,Am.a,(e,t)=>t[e]);var MMe=Object(he.a)(OMe,e=>e?e.desktop.players:[]);var CMe=Object(he.a)(MMe,EMe,(e,t)=>e.concat(t));var jMe=function(){return Object(he.a)(fMe(),Es.a,CMe,(e,t,a)=>a.filter(({protocol:a,protocolCapabilities:n})=>Object(nC.a)({protocol:a,protocolCapabilities:n,providerIdentifier:e,userFeaturesByUUID:t})))};var DMe=function(){return(e,t)=>t.playerType?jMe()(e,t):CMe(e,t)};var PMe=Object(he.a)(SMe,Gk,(e,t)=>e.filter(({identifier:e})=>e.includes("sonos")).map(e=>{const a=j.default.join(e.linkURL,{"X-Plex-Token":t.accessToken,next:window.location.href});return{title:e?e.title:"Sonos",state:e?e.linkState:"untested",url:a}}));var TMe=Object(he.a)(OMe,e=>e?e.desktop.neighborhoodDevices:[]);var wMe=Object(he.a)(TMe,e=>!!e.find(({uuid:e})=>e.includes("RINCON")));function NMe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-off-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M0 84v98c14.294 0 28.252 1.372 42 3.346V126h476v308H290.654c1.974 13.748 3.346 27.706 3.346 42h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}NMe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var xMe=NMe;function AMe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-on-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M0 84v98c162.372 0 294 131.628 294 294h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}AMe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var LMe=AMe;var kMe=function(e){const{isOpen:t,onClose:a}=e;return y.a.createElement(Yw.a,{isOpen:t,metricsPage:It.d,size:cc.c,onModalClose:a},y.a.createElement(eN.a,{onModalClose:a},y.a.createElement(Jw.a,null,Object(Ce.default)("Chromecast unavailable")),y.a.createElement(qw.a,null,y.a.createElement(LT.a,{message:Object(Ce.default)("Casting to Chromecast requires a secure connection to the Plex Web app. Please visit {openLink}https://app.plex.tv{closeLink} and try again."),tags:[{open:"openLink",close:"closeLink",component:jI.a,to:"https://app.plex.tv/desktop"+window.location.hash,kind:ao.d}]}))))};class RMe extends g.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onPlayerSelect(this.props.playerIdentifier),this.props.onPress(e)}}render(){return y.a.createElement(Js.a,{onPress:this.onPress},this.props.children)}}var zMe=RMe,UMe=a("IlPc"),VMe=a.n(UMe);class BMe extends g.Component{constructor(e,t){super(e,t),this.onCastPress=e=>{this.props.onCastPress(e),this.props.onMenuClose(e)},this.onCastMissingPress=e=>{this.setState({isCastMissingModalOpen:!0})},this.onCastMissingModalClose=()=>{this.setState({isCastMissingModalOpen:!1},()=>{this.props.onMenuClose()})},this.onSonosUpsellPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.onDisconnectPress=e=>{this.props.onDisconnectPress(e),this.props.onMenuClose(e)},this.state={isCastMissingModalOpen:!1,isPlexPassModalOpen:!1}}render(){const{castApiAvailability:e,castAppTitle:t,sonosLinks:a,isRemotePlayer:n,remotePlayerName:i,remotePlayerProduct:r,players:s,onMenuClose:o,onPlayerSelect:l}=this.props,{isCastMissingModalOpen:c,isPlexPassModalOpen:d}=this.state,u=a.filter(({state:e})=>"able"===e),p=!n&&2===e,m=!n&&3===e,h=!n&&u.length,g=!n&&a.length&&a.every(({state:e})=>"unable"===e),f=p||m||h||g,b=!n&&!!s.length,v=!(n||p||m||b);return y.a.createElement("div",null,n?[y.a.createElement("div",{key:"name",className:VMe.a.remotePlayerName},i),y.a.createElement("div",{key:"product",className:VMe.a.remoteProduct},r),y.a.createElement(Js.a,{key:"disconnect",onPress:this.onDisconnectPress},y.a.createElement(RSe,{className:VMe.a.disconnectIcon,"aria-label":Object(Ce.default)("Disconnect")}),Object(Ce.default)("Disconnect"))]:null,p?y.a.createElement(Js.a,{key:"cast",onPress:this.onCastPress},t?Object(Ce.default)("Cast ({title})...",{title:t}):Object(Ce.default)("Cast...")):null,m?y.a.createElement(y.a.Fragment,null,y.a.createElement(kMe,{isOpen:c,onClose:this.onCastMissingModalClose}),y.a.createElement(Js.a,{key:"cast",onPress:this.onCastMissingPress},Object(Ce.default)("Cast..."))):null,null,h?u.map(e=>y.a.createElement(Js.a,{key:e.url,to:e.url},y.a.createElement("div",null,e.title,"..."),y.a.createElement("div",{className:VMe.a.menuItemSubtitle},Object(Ce.default)("Link your Sonos account")))):null,g?y.a.createElement(Js.a,{key:"sonosUpsell",onPress:this.onSonosUpsellPress},y.a.createElement("div",null,"Sonos..."),y.a.createElement("div",{className:VMe.a.menuItemSubtitle},Object(Ce.default)("Upgrade to a Plex Pass"))):null,f&&b?y.a.createElement($s.a,{key:"separator"}):null,b?s.map(({playerIdentifier:e,friendlyName:t,product:a})=>y.a.createElement(zMe,{key:e,playerIdentifier:e,onPress:o,onPlayerSelect:l},y.a.createElement("div",null,t),y.a.createElement("div",{className:VMe.a.remotePlayerProduct},a))):null,v?y.a.createElement("div",{className:VMe.a.emptyMessage},Object(Ce.default)("No players found")):null,y.a.createElement(Jc.a,{origin:Cre.h,isOpen:d,onModalClose:this.onPlexPassModalClose}))}}var FMe=BMe;class HMe extends g.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState((e,t)=>({isMenuOpen:!e.isMenuOpen}),()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)})},this.state={isMenuOpen:!1},this._menuButtonID=Object(gf.a)()}componentDidUpdate(e,t){this.state.isMenuOpen&&!t.isMenuOpen&&this.props.onDiscoverPlayers()}render(){const{className:e,iconClassName:t,iconComponent:a,isRemotePlayer:n,castApiAvailability:i,castAppTitle:r,sonosLinks:s,hasCompanionServer:o,remotePlayerName:l,remotePlayerProduct:c,players:d,onPlayerSelect:u,onCastPress:p,onDisconnectPress:m}=this.props,h=2===i;return y.a.createElement(y.a.Fragment,null,y.a.createElement(a,{className:e,iconClassName:t,id:this._menuButtonID,ariaLabel:Object(Ce.default)("Select Player"),title:this.state.isMenuOpen?null:Object(Ce.default)("Select Player"),iconComponent:n?LMe:xMe,isDisabled:!h&&!o,isSelected:n,onPress:this.onPress}),y.a.createElement(Xs.a,{target:this._menuButtonID,isOpen:this.state.isMenuOpen,size:cc.a,onMenuClose:this.onMenuClose},y.a.createElement(FMe,{castApiAvailability:i,castAppTitle:r,sonosLinks:s,isRemotePlayer:n,remotePlayerName:l,remotePlayerProduct:c,players:d,onPlayerSelect:u,onCastPress:p,onDisconnectPress:m,onMenuClose:this.onMenuClose})))}}HMe.defaultProps={iconComponent:ZO.a};var _Me=HMe;const WMe=()=>{};var QMe=Object(v.b)((function(){return Object(he.a)(IMe(),BM,DMe(),PMe,wMe,e=>e.companionServer,WMe,(e,t,a,n,i,r,s)=>({castApiAvailability:e,castAppTitle:s,sonosLinks:i?n:[],hasCompanionServer:!!r,isRemotePlayer:!!t,remotePlayerName:t&&t.friendlyName,remotePlayerProduct:t&&t.product,players:a}))}),(function(e){return{onDiscoverPlayers(t){e(yC())},onPlayerSelect(e){Object(E.c)("remotePlexPlayerManager").requestSession(e)},onCastPress(t){e(DOe())},onDisconnectPress(t){e(bC())}}}))(_Me),GMe=a("2ewr"),KMe=a.n(GMe);function YMe(e){const{className:t,tooltipClassName:a,tooltipFocusedClassName:n,labelClassName:i,iconClassName:r,iconComponent:s,alertIconClassName:o,alertIconComponent:l,title:c,ariaLabel:d,label:u,iconProps:p,...m}=e,h=c||d;return y.a.createElement(Dm.a,{className:t,tooltipClassName:a,tooltipFocusedClassName:n,component:jI.a,tooltip:c,"aria-label":h,...m},y.a.createElement(s,{className:r,...p}),l?y.a.createElement(l,{className:o}):null,u?y.a.createElement("span",{className:i},u):null)}YMe.defaultProps={className:KMe.a.button,iconClassName:KMe.a.icon,alertIconClassName:KMe.a.alertIcon,tooltipClassName:KMe.a.tooltip,tooltipFocusedClassName:KMe.a.tooltipTriggerHasFocus};var qMe=YMe;function ZMe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-settings-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M294 378l56-56 142.027 116.204a14 14 0 0 1 1.034 20.735l-62.122 62.122a14.001 14.001 0 0 1-20.735-1.034L294 378zm-.589-167.411C284.832 193.57 280 174.345 280 154c0-69.541 56.459-126 126-126 35.996 0 68.486 15.127 91.456 39.365L364 103.124l30.746 114.746 134.142-35.943C516.169 238.048 465.945 280 406 280c-20.345 0-39.57-4.832-56.589-13.411L103.799 512.201c-10.935 10.935-28.663 10.935-39.598 0l-16.402-16.402c-10.935-10.935-10.935-28.663 0-39.598l245.612-245.612zM84 168L28 84l28-28 84 56v28l84 84-28 28-84-84H84z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}ZMe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var XMe=ZMe,JMe=a("Auv6"),$Me=a.n(JMe);var eCe=function(e){const{shouldShowAlertDot:t}=e;return y.a.createElement(qMe,{className:$Me.a.button,to:"#!/settings/web/general",iconComponent:XMe,alertIconComponent:t?NH:null,title:Object(Ce.default)("Settings")})};const tCe=Object(he.a)(Ebe,e=>({shouldShowAlertDot:e}));var aCe=Object(v.b)(tCe)(eCe),nCe=a("FSRn"),iCe=a.n(nCe);function rCe(e){const{children:t,className:a,...n}=e;return y.a.createElement(jI.a,{...n,className:a},t)}rCe.defaultProps={className:iCe.a.button};var sCe=rCe,oCe=a("FYiy"),lCe=a.n(oCe);var cCe=function(){const e=Object(I.g)(),t=Object(g.useCallback)(()=>{e.push(_k.a.login)},[e]);return y.a.createElement(sCe,{className:lCe.a.signInButton,"data-qa-id":"signInButton",onPress:t},Object(Ce.default)("Sign In"))};var dCe=function(){const e=Object(I.g)(),t=Object(g.useCallback)(()=>{e.push(_k.a.signUp)},[e]);return y.a.createElement(sCe,{"data-qa-id":"signUpButton",onPress:t},Object(Ce.default)("Sign Up"))};function uCe(e,t,a){const{isCloud:n,isFullOwnedServer:i,serverFriendlyName:r,serverSourceTitle:s,providerSourceTitle:o}=e,{ownedSources:l,sharedSources:c}=t,d=Object.keys(l).length,u=Object.keys(c).length;if(n)return d>0||u>0?o:void 0;if(i)return d>1?r:void 0;const p=c[s];return(p?p.length:0)>1?a?r:`${s} • ${r}`:d>0||u>1?s:void 0}var pCe=a("L4fs");function mCe(e,t){const a=Object(lo.a)(e);return a&&a.directories?a.directories.find(e=>e.id===t):null}function hCe(){return Object(he.a)(UI,AU.a,Ft.a,Gk,Lt.a,e=>!e.user.isFullUser,(e,t,a,n,i,r)=>{const s=[];return e.forEach(e=>{if(e.isHidden)return;const r=function(e,t){return e.find(e=>e.machineIdentifier===t)}(a,e.machineIdentifier),o=function(e,t,a,n){if(!e)return null;const i=(e.isCloud?a:e.providers).find(e=>{const a=t[e];return a&&a.identifier===n});return t[i]}(r,i,t.providers,e.providerIdentifier),l=mCe(o,e.directoryID),c=Object(OI.a)(o,l);if(c)s.push(EI({sourceType:c.key,sourceServer:r,sourceProvider:o,sourceDirectory:l}));else{const a=function(e,t,a,n){return e?e.isCloud?e.connectionTestResult!==zU.c.UNAVAILABLE&&!n.isProvidersPopulated&&!n.providersError||t&&!t.isPopulated&&!t.error:e.connectionTestResult===zU.c.PENDING:a.isResourcesPending}(r,o,n,t);s.push({...e,serverEntityID:r&&r.entityID,providerEntityID:o&&o.entityID,isUnavailable:!a,isProviderReady:o?o.isPopulated||null!=o.error:!a})}}),function(e,t){const a=Object(pCe.a)(e);return e.map(e=>({...e,titleDetail:uCe(e,a,t)}))}(s,r)})}var gCe=Object(he.a)(Object(kt.a)("providers"),Lt.a,(e,t)=>e?e.map(e=>t[e]):[]);var yCe=Object(he.a)(Gk,Object(kt.a)("isProvidersPopulated"),Object(kt.a)("providersError"),gCe,(e,t,a,n)=>{if(e.isRejected)return!0;const i=(t||!!a)&&n.every(e=>e.isPopulated||!!e.error);return e.isResourcesPopulated&&i}),fCe=a("WlSR"),bCe=a.n(fCe);class vCe extends g.Component{constructor(e){super(e),this.focusInput=()=>{this._input.focus()},this.onClick=e=>{this.focusInput(),this.props.onClick()},this.onFocus=()=>{this.setState({isFocused:!0})},this.onBlur=()=>{this.setState({isFocused:!1})},this.onChange=e=>{const t=e.target.value;this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:t},()=>{this.props.onChange(t),""!==t.trim()&&(this.searchTimeout=window.setTimeout(this.props.onSearch,200))})},this.onClearPress=e=>{e.stopPropagation(),this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:""},()=>{this.props.onChange(""),this.focusInput()})},this.onRef=e=>{const{onRef:t}=this.props;this._input=e,t&&t(e)},this.state={isFocused:!1,query:e.query},this.searchTimeout=null}componentWillReceiveProps(e){this.state.query!==e.query&&this.setState({query:e.query})}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentWillUnmount(){this.searchTimeout&&window.clearTimeout(this.searchTimeout)}render(){const{closeIcon:e,searchIcon:t}=this.props,{isFocused:a,query:n}=this.state;return y.a.createElement("div",{className:Pe()(bCe.a.container,a&&bCe.a.focused),onClick:this.onClick},y.a.createElement(t,{className:bCe.a.searchIcon}),y.a.createElement("input",{"data-qa-id":"quickSearchInput",className:bCe.a.searchInput,value:n,type:"text",autoComplete:"off",spellCheck:"false",ref:this.onRef,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),n.length>0?y.a.createElement(jI.a,{onPress:this.onClearPress},y.a.createElement(e,{className:bCe.a.closeIcon})):null)}}vCe.defaultProps={query:"",onClick:Qn.a.func};var ICe=vCe;class SCe extends g.Component{constructor(){super(...arguments),this.focusInput=()=>{this._input.focus()},this.onRef=e=>{this._input=e}}componentDidMount(){$.a.on("shortcut:search",this.focusInput)}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentWillUnmount(){$.a.off("shortcut:search",this.focusInput)}render(){return y.a.createElement(ICe,{...this.props,closeIcon:wv,searchIcon:_d.a,onRef:this.onRef})}}var ECe=SCe,OCe=a("IjFk"),MCe=a.n(OCe);function CCe(e){const{className:t,isSelected:a,text:n,url:i,onLinkPress:r,onLinkFocus:s,...o}=e;return y.a.createElement(jI.a,{className:Pe()(t,a&&MCe.a.isPlaceholderSelected),tabIndex:"1",title:n,to:i,onPress:r,onFocus:s,...o},n)}CCe.defaultProps={className:MCe.a.placeholder};var jCe=CCe;var DCe=function(e){const{query:t,isSelected:a,onLinkPress:n,onLinkFocus:i}=e,r=encodeURIComponent(t);return y.a.createElement(jCe,{isSelected:a,text:Object(Ce.default)("Search all sources..."),url:"#!/search?query="+r,onLinkPress:n,onLinkFocus:i})};const PCe={resetQuickSearch:Tt.resetQuickSearch,selectQuickSearchResult:Tt.selectQuickSearchResult};class TCe extends g.Component{constructor(){super(...arguments),this.onLinkPress=e=>{this.props.resetQuickSearch(),Dl.a()},this.onLinkFocus=e=>{this.props.selectQuickSearchResult({searchResultEntityID:null})}}render(){return y.a.createElement(DCe,{onLinkPress:this.onLinkPress,onLinkFocus:this.onLinkFocus,...this.props})}}var wCe=Object(v.b)(Object(he.a)(e=>e.ui.quickSearch,e=>({query:e.query,isSelected:!e.selectedResultEntityID})),PCe)(TCe),NCe=a("QF2Q"),xCe=a.n(NCe);var ACe=function(e){const{children:t,title:a}=e;return y.a.createElement("div",null,y.a.createElement("h5",{className:xCe.a.hubTitle,"data-qa-id":"quickSearchHub"},a),t)},LCe=a("LS/l");var kCe=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({leafCount:e.leafCount}))}))(uF),RCe=a("k+R5"),zCe=a.n(RCe);function UCe(e){const{className:t,playButtonClassName:a,playCircleClassName:n,serverEntityID:i,providerEntityID:r,imageWidth:s,imageHeight:o,imageUrl:l,title:c,isLiveTVItem:d,recordLink:u,onRecordPress:p,onPlayPress:m}=e;return y.a.createElement(JO.a,{className:t,serverEntityID:i,providerEntityID:r,component:$O.a,width:s,height:o,url:l},d?y.a.createElement(IM.a,{className:zCe.a.recordButton,"data-qa-id":"metadataPosterRecordButton",circleClassName:zCe.a.recordCircle,tabIndex:"-1",title:c,to:u,onPress:p}):y.a.createElement(vM.a,{className:a,"data-qa-id":"metadataPosterPlayButton",circleClassName:n,tabIndex:"-1",title:c,onPress:m}))}UCe.defaultProps={className:zCe.a.card,playButtonClassName:zCe.a.playButton,playCircleClassName:zCe.a.playCircle,isLiveTVItem:!1};var VCe=UCe,BCe=a("a88H"),FCe=a.n(BCe);function HCe(e){return y.a.createElement(VCe,{...e})}HCe.defaultProps={className:FCe.a.card};var _Ce=HCe,WCe=a("r+/Q"),QCe=a.n(WCe);var GCe=function(e){return y.a.createElement(Zq,{className:QCe.a.card,...e})},KCe=a("1H5i"),YCe=a.n(KCe);var qCe=function(e){const{className:t,component:a,isSecondary:n,...i}=e;return y.a.createElement("div",{className:Pe()(t,YCe.a.title,n&&YCe.a.isSecondary)},y.a.createElement(a,{tabIndex:"-1",...i}))};var ZCe=function({className:e,tag:t}){return y.a.createElement("span",{className:e},t)};var XCe=Object(v.b)((function(){return Object(he.a)(SF(),(e={})=>({tag:e.tagItem&&e.tagItem.tag}))}))((function(e){return y.a.createElement(ZCe,{...e})})),JCe=a("wRTI"),$Ce=a.n(JCe);function eje(e,t,a){return a?function(e,t){switch(t){case"news":switch(e){case"clip":return[RB.a,yB]}}switch(e){case"movie":return[RB.a,gM];case"show":return[RB.a,gF];case"episode":return[RB.a,dM];case"artist":return[RB.a,CB];case"album":return[RB.a,uB];case"track":return[RB.a,vF];case"photo":case"photoalbum":case"clip":return[RB.a,ZB];case"playlist":return[RB.a,kCe];case"collection":return[RB.a,kB];default:return[RB.a,CF]}}(e,t):[XCe,CF]}class tje extends g.Component{constructor(e){super(e),this.onItemPress=e=>{e.stopPropagation(),this.state.isActionsMenuOpen&&this.props.onLinkPress()},this.onItemFocus=e=>{this.props.onResultFocus(this.props.searchResultEntityID)},this.onPlayPress=e=>{e.stopPropagation(),this.props.onPlayPress(this.props.searchResultEntityID)},this.onLinkPress=e=>{e.stopPropagation(),this.props.onLinkPress()},this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentWillUpdate(e,t){if(e.isSelected!==this.props.isSelected&&e.isSelected){const e=b.a.findDOMNode(this);this.props.onScrollIntoView({scrollTop:e.offsetTop})}}render(){const{serverEntityID:e,providerEntityID:t,searchResultEntityID:a,metadataItemEntityID:n,server:i,provider:r,isSelected:s,isMetadataItem:o,imageWidth:l,imageHeight:c,imageUrl:d,resultRoute:u,metadataKey:p,metadataTitle:m,metadataType:h,metadataSubtype:g,tag:f,tagTypeString:b,librarySectionType:v,reasonTitle:I}=this.props,{isActionsMenuOpen:S}=this.state,E=o?h:b,O=o?g:null,M=r.protocols.livetv;return y.a.createElement(jI.a,{component:"div","data-qa-id":"quickSearchItemButton",className:Pe()($Ce.a.button,(s||S)&&$Ce.a.selected),onPress:this.onItemPress,onFocus:this.onItemFocus},y.a.createElement(jI.a,{className:$Ce.a.underlay,"data-qa-id":"quickSearchItemLink",tabIndex:"1",title:o?m:f,to:u,onPress:u?this.onLinkPress:this.onPlayPress}),y.a.createElement("div",{className:$Ce.a.overlay},y.a.createElement("div",{className:$Ce.a.imageContainer},o?y.a.createElement(_Ce,{serverEntityID:e,providerEntityID:t,imageWidth:l,imageHeight:c,imageUrl:d,title:m,type:h,isLiveTVItem:M,recordLink:Object(Ka.a)(i,r,p,{record:1}),onRecordPress:this.onLinkPress,onPlayPress:this.onPlayPress}):y.a.createElement(GCe,{serverEntityID:e,providerEntityID:t,imageWidth:l,imageHeight:c,imageUrl:d,title:f,tag:f,tagType:b,librarySectionType:v})),y.a.createElement("div",{className:$Ce.a.titles,"data-qa-id":"quickSearchTitleContainer"},eje(E,O,o).map((i,r)=>{const s=r>0,o=s&&!!I;return y.a.createElement(qCe,{key:r,className:s?null:$Ce.a.title,serverEntityID:e,providerEntityID:t,searchResultEntityID:a,metadataItemEntityID:n,component:o?CF:i,isSecondary:s,onPress:this.onLinkPress})})),o&&!M?y.a.createElement(w_.a,{"data-qa-id":"quickSearchMoreButton",className:$Ce.a.moreButton,iconClassName:$Ce.a.moreIcon,tabIndex:"-1",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,showPlayTrailer:!1,showPlayPlexMix:!1,showQueuePlexMix:!1,showPlayMusicVideo:!1,showEdit:!1,showRefresh:!1,showAnalyze:!1,showFixMatch:!1,showMatch:!1,showUnmatch:!1,showSplitApart:!1,showSync:!1,showOptimize:!1,showDownload:!1,showDelete:!1,showDeleteVersion:!1,isMenuOpen:S,onMenuOpenChange:this.onActionsMenuOpenChange}):null))}}tje.defaultProps={isMetadataItem:!1};var aje=tje;const nje={resetQuickSearch:Tt.resetQuickSearch,selectQuickSearchResult:Tt.selectQuickSearchResult,playQuickSearchResult:Tt.playQuickSearchResult,...Fs};class ije extends g.Component{constructor(){super(...arguments),this.onLinkPress=()=>{const{serverEntityID:e}=this.props;this.props.resetQuickSearch({serverEntityID:e}),Dl.a()},this.onResultFocus=e=>{Object(Dt.a)(()=>{this.props.selectQuickSearchResult({searchResultEntityID:e})})},this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:a}=this.props;this.props.playQuickSearchResult({serverEntityID:t,providerEntityID:a,searchResultEntityID:e})}}render(){return y.a.createElement(aje,{...this.props,onLinkPress:this.onLinkPress,onResultFocus:this.onResultFocus,onPlayPress:this.onPlayPress})}}var rje=Object(v.b)((function(){return Object(he.a)((e,{metricsContext:t})=>t,vh.b,bh.b,SF(),Object(YO.a)(),Ee,(e,t,a,n={},i,r)=>{let s={server:t,provider:a,reasonID:n.reasonID,reasonTitle:n.reasonTitle};if(i){const n=Object(eM.d)(i.type,i.subtype)===eM.b?28:36,r=Object(P_.a)(n,null,i.type,i.subtype,i,XO.o),o=EF(a,i.librarySectionKey);s={metadataKey:i.key,metadataTitle:i.title,metadataType:i.type,metadataSubtype:i.subtype,typeString:i.type,imageWidth:r.width,imageHeight:r.height,imageUrl:r.url,resultRoute:Object(LCe.a)(t,a,i,{context:e,legacy:i.type===wo.PHOTO_ALBUM?1:void 0},o),...s}}else{const i=n.tagItem||{},o=wF.a.get(i.tagType),l=o&&o.typeString,c=Object(P_.a)(36,null,l,null,i,XO.o),d=EF(a,i.librarySectionID),u={filters:i.filter?i.filter:`${l}=${i.id}`,filterLabel:i.tag,context:e},p=r?Object(ng.a)(t,a,d,{key:i.key,pageType:St.b.List,context:e}):Object(OF.a)(t,a,d,u);s={tag:i.tag,tagType:i.tagType,tagTypeString:l,librarySectionType:i.librarySectionType,imageWidth:c.width,imageHeight:c.height,imageUrl:c.url,resultRoute:p,...s}}return s})}),nje,yL.a)(ije);var sje=Object(v.b)((function(){return Object(he.a)(SF(),({metadataItem:e})=>({metadataItemEntityID:e,isMetadataItem:!!e}))}))((function({component:e,...t}){return y.a.createElement(e,{...t})}));class oje extends g.Component{shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{title:e,selectedResultEntityID:t,metadataResults:a,tagResults:n,...i}=this.props;return y.a.createElement(ACe,{title:e},a.concat(n).map((e,a)=>y.a.createElement(sje,{key:e,searchResultEntityID:e,component:rje,isSelected:t===e,...i})))}}var lje=oje,cje=a("Ms8g"),dje=a.n(cje);function uje(e){const{isLoading:t,hubs:a,...n}=e;return t?y.a.createElement("div",{className:dje.a.spinnerContainer},y.a.createElement(HO.a,{className:dje.a.spinner})):a.length?y.a.createElement("div",null,a.map(e=>y.a.createElement(lje,{key:e.hubIdentifier,title:e.title,metadataResults:e.metadataResults,tagResults:e.tagResults,metricsContext:e.context,...n}))):y.a.createElement("div",{className:dje.a.noResults},Object(Ce.default)("No Results"))}var pje=function(e){const{searchTitle:t,isSearchPending:a,isSearchPopulated:n,...i}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:dje.a.title,"aria-label":"heading","aria-level":"4"},t),y.a.createElement(uje,{isLoading:a&&!e.hubs.length,...i}))};var mje=Object(v.b)((function(){return Object(he.a)(e=>e.ui.quickSearch,e=>({selectedResultEntityID:e.selectedResultEntityID}))}))((function(e){return y.a.createElement(pje,{...e})})),hje=a("pWth"),gje=a.n(hje);var yje=function(e){const{searches:t,onScrollIntoView:a}=e;return y.a.createElement(y.a.Fragment,null,t&&t.length?t.map(e=>y.a.createElement(mje,{...e,key:e.providerEntityID,onScrollIntoView:a})):y.a.createElement("div",{className:gje.a.noSources},Object(Ce.default)("No pinned sources to search.")))};const fje=Object(he.a)(e=>e.ui.quickSearch,e=>({searches:e.searches}));var bje=Object(v.b)(e=>fje(e))(yje),vje=a("eSZy"),Ije=a.n(vje);class Sje extends g.Component{constructor(e){super(e),this.onWindowResize=()=>{this.setState({maxHeight:this.getMaxHeight()})},this.state={maxHeight:this.getMaxHeight()}}componentDidMount(){window.addEventListener("resize",this.onWindowResize)}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}getMaxHeight(){return window.innerHeight-150}render(){const{forwardedRef:e,className:t,scrollTop:a,onScrollIntoView:n,onScrollPositionChange:i}=this.props;return y.a.createElement(HG.a,{page:It.gb},y.a.createElement(XD.a,{className:Pe()(Ije.a.container,t),style:this.state,scrollTop:a,ref:e,onScrollPositionChange:i},y.a.createElement(wCe,null),y.a.createElement(bje,{onScrollIntoView:n})))}}var Eje=y.a.forwardRef((e,t)=>y.a.createElement(Sje,{...e,forwardedRef:t})),Oje=a("mEyC"),Mje=a.n(Oje);const Cje=parseInt(yu.a.searchResultHeight,10);class jje extends g.Component{constructor(e,t){super(e,t),this.onScrollIntoView=({scrollTop:e})=>{const t=this._resultsRef.current.clientHeight+this.state.scrollTop,a=e+Cje>t||e<this.state.scrollTop;this.setState({scrollTop:a?e:this.state.scrollTop})},this.onWindowPress=e=>{if(!this.state.isOpen)return;const t=this._searchRef.current;t&&t.contains(e.target)||this.setState({isOpen:!1})},this.onKeyDown=e=>{const{isOpen:t}=this.state;switch(e.keyCode){case Tl.c:case Tl.k:t&&(e.stopPropagation(),e.preventDefault(),e.keyCode===Tl.k?this.props.selectQuickSearchResult({offset:-1}):this.props.selectQuickSearchResult({offset:1}),this.isTabScoped&&(Dl.c(),this.isTabScoped=!1));break;case Tl.d:if(t){const{platformID:t}=tMe.a,a="osx"===t?e.metaKey:e.ctrlKey,n=e.shiftKey;Dl.a(),this.isTabScoped=!1,a?n?this.props.playQuickSearchResult({options:{shuffle:!0}}):this.props.playQuickSearchResult():this.props.navigateQuickSearchResult()}break;case Tl.e:e.nativeEvent.stopImmediatePropagation(),this.isTabScoped&&(Dl.c(),this.isTabScoped=!1),t?this.setState({isOpen:!1}):this.props.changeQuickSearchQuery("");break;case Tl.j:if(t){if(!this.isTabScoped){const e=this._resultsRef.current;Dl.f(e),this.isTabScoped=!0}Dl.e(e)}}},this.onInputClick=e=>{this.isTabScoped&&(Dl.c(),this.isTabScoped=!1),this.state.isOpen||""===this.props.query||this.setState({isOpen:!0})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onSearch=()=>{Object(Dt.a)(()=>{this.props.fetchQuickSearch()})},this.onInputChange=e=>{Object(Dt.a)(()=>{this.props.changeQuickSearchQuery(e)})},this._searchRef=y.a.createRef(),this._resultsRef=y.a.createRef(),this.isTabScoped=!1,this.state={scrollTop:0,isOpen:!1}}componentWillMount(){this._listenForPress()}componentWillReceiveProps(e,t){const{selectedResultEntityID:a,query:n}=e,i=this.props.query!==n,r=n.trim().length,s=this.state.isOpen;r&&!s&&i?this.setState({isOpen:!0}):!r&&s&&(this.setState({isOpen:!1}),this.isTabScoped&&(Dl.b(),this.isTabScoped=!1)),null==a&&this.setState({scrollTop:0})}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentWillUnmount(){this._stopListeningForPress()}_listenForPress(){window.addEventListener("mouseup",this.onWindowPress),window.addEventListener("touchend",this.onWindowPress)}_stopListeningForPress(){window.removeEventListener("mouseup",this.onWindowPress),window.removeEventListener("touchend",this.onWindowPress)}render(){const{query:e}=this.props;return y.a.createElement("div",{className:Pe()(Mje.a.container),ref:this._searchRef,onKeyDown:this.onKeyDown},y.a.createElement(ECe,{query:e,onChange:this.onInputChange,onSearch:this.onSearch,onClick:this.onInputClick}),this.state.isOpen?y.a.createElement(Eje,{scrollTop:this.state.scrollTop,ref:this._resultsRef,onScrollIntoView:this.onScrollIntoView,onScrollPositionChange:this.onScrollPositionChange}):null)}}var Dje=jje;const Pje=Object(he.a)(e=>e.ui.quickSearch.providerEntityID,Lt.a,(e,t)=>t[e]),Tje=Object(he.a)(e=>e.ui.quickSearch.serverEntityID,Am.a,(e,t)=>t[e]),wje=Object(he.a)(e=>e.ui.quickSearch.directoryID,Pje,(e,t)=>{if(!t)return;if(qr.l(t.providerIdentifier,qr.c)){return Object(lo.a)(t).directories.find(e=>!!e.hubKey)}if(!e)return;const a=Object(lo.a)(t);if(!a)return;return a.directories.find(t=>t.id?t.id===e:t.key==="/library/sections/"+e)}),Nje=Object(he.a)(Tje,Pje,wje,(e,t,a)=>{let n;if(e&&t&&a){const i=Object(OI.a)(t,a);i&&(n=EI({sourceType:i.key,sourceServer:e,sourceProvider:t,sourceDirectory:a}))}return n}),xje=Object(Kt.a)(Object(he.a)(hCe(),Nje,(e,t)=>(t?[t,...e]:e).map(e=>({isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer,title:e.title,serverSourceTitle:e.serverSourceTitle,serverFriendlyName:e.serverFriendlyName,providerSourceTitle:e.providerSourceTitle,machineIdentifier:e.machineIdentifier,providerIdentifier:e.providerIdentifier,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,directoryID:e.directoryID}))),e=>e),Aje=Object(he.a)(xje,Lt.a,Bs.b,(e,t,a)=>e.filter(e=>{const n=t[e.providerEntityID],i=n&&n.features.find(e=>e.type===nS.o);return i&&Object(No.a)(a,i)}));const Lje={...Tt};class kje extends g.Component{componentWillMount(){this._populate()}componentWillReceiveProps(e){const t=e.searchSources!==this.props.searchSources,a=e.providerEntityID!==this.props.providerEntityID;(e.hasInitialSources!==this.props.hasInitialSources||t||a)&&this._populate(e)}_populate(e=this.props){const{searchSources:t,hasInitialSources:a}=e;a&&t&&t.length&&Object(Dt.a)(()=>{e.initQuickSearch({searchSources:t})})}render(){return y.a.createElement(Dje,{...this.props})}}var Rje=Object(v.b)((function(){return Object(he.a)(e=>e.ui.quickSearch,Aje,yCe,(e,t,a)=>({hasInitialSources:a,searchSources:t,providerEntityID:e.providerEntityID,query:e.query,selectedResultEntityID:e.selectedResultEntityID}))}),Lje)(kje);function zje(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-back-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M56 280l224 224V322h224v-84H280V56z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}zje.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Uje=zje;function Vje(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-fullscreen-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Vje.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Bje=Vje;function Fje(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-menu-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M28 420h504v62.222H28V420zm0-171.333h504v62.222H28v-62.222zM28 78h504v62.222H28V78z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Fje.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Hje=Fje;function _je(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-windowed-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}_je.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Wje=_je,Qje=a("T8us"),Gje=a.n(Qje);function Kje(e){return M.a.reduce(e,(function(e,t,a){var n=function e(t){var a=t.match(/(.+) (.+)/);if(a)return e(a[1]).concat({plain:!0,s:"then"}).concat(e(a[2]));var n=t.match(/(.+)\+(\S+)/);if(n)return e(n[1]).concat({plain:!0,s:"+"}).concat(e(n[2]));return[{s:M.a.reduce([[/command/,"⌘"],[/up/,"↑"],[/down/,"↓"],[/left/,"←"],[/right/,"→"]],(function(e,t){return e.replace(t[0],t[1])}),t)}]}(t);if(0===a)return e.concat(n);var i=n.length>1;return e.concat({plain:!0,split:i,s:"or"},n)}),[])}var Yje=Iie.a.extend({name:"keyboardShortcutsModal",className:"keyboard-shortcuts-modal modal fade",template:Gje.a,orderedGroups:[{group:"navigation",label:"Navigation"},{group:"actions",label:"Actions"},{group:"player",label:"Player"}],initialize:function(e){Iie.a.prototype.initialize.apply(this,arguments),this.shortcuts=e.shortcuts},serializeData:function(){var e={};return M.a.each(this.shortcuts,(function(t){var a=t.group;("function"!=typeof t.isSupported||t.isSupported())&&(e[a]||(e[a]=[]),e[a].push(this.humanizeShortcut(t)))}),this),{groups:M.a.map(this.orderedGroups,(function(t){var a=M.a.clone(t);return a.shortcuts=e[t.group],a}),this)}},humanizeShortcut:function(e){return(e=M.a.clone(e)).keys=Kje(e.keys),e.label=e.label(),e}}),qje=a("tt2x"),Zje=a.n(qje);function Xje(e){const{children:t,badgeClassName:a,badgeLabel:n,badgeKind:i,...r}=e;return y.a.createElement(Js.a,{...r},t,y.a.createElement(DC.a,{className:a,kind:i},n))}Xje.defaultProps={className:Zje.a.badgeMenuItem,badgeClassName:Zje.a.badge,badgeKind:ao.d};var Jje=Xje;var $je=function(e){const{isOpen:t,target:a,options:n,username:i,isSignedIn:r,isAnonymousUser:s,isFullUser:o,announcementsCount:l,friendInvitesCount:c,appsURL:d,isCloudServerConnected:u,onUsersAndSharingPress:p,onSwitchUserPress:m,onSignInPress:h,onSignOutPress:g,onKeyboardShortcutPress:f,onMenuClose:b}=e,v=u&&(!r||s),I=r&&o&&!s;return y.a.createElement(Xs.a,{isOpen:t,target:a,options:n,onMenuClose:b},i?y.a.createElement(ro.a,null,i):null,r?y.a.createElement(Js.a,{to:"#!/settings/account",onPress:b},Object(Ce.default)("Account")):null,r&&!s?y.a.createElement(Jje,{badgeLabel:c>0?c:null,onPress:Object(to.a)(b,p)},Object(Ce.default)("Users & Sharing")):null,r?y.a.createElement($s.a,null):null,r&&o&&!s?y.a.createElement(Jje,{to:"#!/announcements",badgeLabel:l>0?l:null,onPress:b},Object(Ce.default)("Announcements")):null,u?y.a.createElement(Js.a,{to:d,target:"_self",onPress:b},Object(Ce.default)("Get Plex Apps")):null,u?y.a.createElement(Js.a,{to:up.l,target:"_self",onPress:b},Object(Ce.default)("Help")):null,y.a.createElement(Js.a,{onPress:Object(to.a)(b,f)},Object(Ce.default)("Keyboard Shortcuts")),y.a.createElement($s.a,null),s?null:y.a.createElement(Js.a,{onPress:Object(to.a)(b,m)},Object(Ce.default)("Switch User...")),v?y.a.createElement(Js.a,{onPress:Object(to.a)(b,h)},Object(Ce.default)("Sign In")):null,I?y.a.createElement(Js.a,{onPress:Object(to.a)(b,g)},Object(Ce.default)("Sign Out")):null)};var eDe=Object(v.b)((function(){return Object(he.a)(AU.a,Gk,cMe,uMe,(e,t,a,n)=>({username:e.title,isSignedIn:e.signedIn,isRestricted:e.isRestricted,isCloudServerConnected:t.isConnected,isAnonymousUser:!!e.anonymous,isFullUser:e.isFullUser,announcementsCount:a.length,friendInvitesCount:n.length,appsURL:t?t.appsUrl:"https://plex.tv/downloads"}))}),(function(e,t){return{onSwitchUserPress(t){window.setTimeout(()=>{e(Object(xy.i)())})},onUsersAndSharingPress(e){e.preventDefault(),Object(see.a)("usersSharing")},onSignInPress(e){e.preventDefault(),Object(see.a)("login")},onSignOutPress(e){e.preventDefault(),Object(see.a)("logout")},onKeyboardShortcutPress(e){e.preventDefault();const t=Object(E.c)("keyboardShortcuts");$.a.trigger("show:modal",new Yje({shortcuts:t.shortcuts}))}}}))($je),tDe=a("xwJx"),aDe=a.n(tDe);class nDe extends g.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=Object(gf.a)()}render(){const{className:e,tooltipClassName:t,tooltipFocusedClassName:a,serverEntityID:n,userThumb:i,badgeCount:r}=this.props;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Dm.a,{className:e,tooltipClassName:t,tooltipFocusedClassName:a,id:this._buttonID,component:Tq.a,isSelected:!1,tooltip:this.state.isMenuOpen?null:Object(Ce.default)("Account"),direction:this.state.isMenuOpen?lc.c:lc.a,onPress:this.onButtonPress},y.a.createElement("div",{className:aDe.a.avatarContainer},y.a.createElement("div",{className:Pe()(aDe.a.overlay,this.state.isMenuOpen&&aDe.a.isMenuOpen)}),y.a.createElement(Q0.a,{serverEntityID:n,width:30,height:30,url:i})),y.a.createElement(DC.a,{className:aDe.a.badge,kind:ao.d},r>0?r:null)),y.a.createElement(eDe,{isOpen:this.state.isMenuOpen,target:this._buttonID,onMenuClose:this.onMenuClose}))}}nDe.defaultProps={className:aDe.a.button,tooltipClassName:aDe.a.tooltip,tooltipFocusedClassName:aDe.a.tooltipTriggerHasFocus};var iDe=nDe,rDe=a("b3Ir"),sDe=a("loC3");function oDe(e,t,a){const n=function(e){const t=e.desktop&&e.desktop.update;if(t&&(t.state===upe||t.state===mpe||t.state===hpe||t.state===bpe))return Object(aye.a)(t.version)}(e);return!!(e.isConnected&&e.isFullOwnedServer&&n&&n!==a&&n!==t[e.machineIdentifier])}var lDe=a("FAcX");var cDe=Object(he.a)(fe.a,e=>e.dismissedServerUpdateVersions);var dDe=Object(he.a)(fe.a,e=>e.serverUpdateDismissedVersion);var uDe={[Ms.m]:!0,[Ms.n]:!0,[Ms.d]:!0,[Ms.c]:!0,[Ms.b]:!0,[Ms.a]:!0,[Ms.l]:!0,[Ms.e]:!0,[Ms.h]:!0,[Ms.g]:!0,[Ms.i]:!0,[Ms.j]:!0,[Ms.k]:!0,[Ms.q]:!0},pDe=a("3GOe"),mDe=a.n(pDe);var hDe=function(e){const{className:t}=e;return y.a.createElement("div",{className:t},y.a.createElement("img",{className:mDe.a.img,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjQgMEMzNy4yNDU5IDAgNDggMTAuNzU0MSA0OCAyNEM0OCAzNy4yNDU5IDM3LjI0NTkgNDggMjQgNDhDMTAuNzU0MSA0OCAwIDM3LjI0NTkgMCAyNEMwIDEwLjc1NDEgMTAuNzU0MSAwIDI0IDBaIiBmaWxsPSIjRTVBMDBEIi8+CiAgPHBhdGggZD0iTTI0IDhMOCAyNUgyMVY0MEgyN1YyNUg0MEwyNCA4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="}))},gDe=a("Wi4N"),yDe=a.n(gDe);var fDe=function(e){const{title:t,subtitle:a,progress:n,isPostProcessing:i}=e;return y.a.createElement("div",{className:yDe.a.splitButton},y.a.createElement("span",{className:yDe.a.activityTitleContainer},y.a.createElement("span",{className:yDe.a.activityTitle,title:t},t,a?":":null),a?y.a.createElement("span",{className:yDe.a.activitySubtitle,title:a},a):null),y.a.createElement("span",null,null==n||i?y.a.createElement(HO.a,{size:cc.c}):y.a.createElement(Vw.a,{progress:n,size:18,lineWidth:2,showProgressText:!1})))},bDe=a("yG8u"),vDe=a.n(bDe);function IDe(e){const{labelClassName:t,to:a,label:n,indicator:i,onPress:r}=e;return y.a.createElement(Js.a,{className:vDe.a.splitButton,to:a,onPress:r},y.a.createElement("span",{className:t},n),i?y.a.createElement("span",{className:vDe.a.statusButtonIndicator},i):null)}var SDe=function(e){const{friendlyName:t,machineIdentifier:a,sessionsCount:n,backgroundTranscodeJobs:i,activities:r,libraries:s,showLegacyLibraryScanning:o,showUpdateAvailable:l,onMenuClose:c}=e,d=encodeURIComponent(a);return y.a.createElement("div",{className:vDe.a.statusContainer},y.a.createElement("div",{className:vDe.a.statusTitle},t),y.a.createElement(IDe,{to:`#!/settings/server/${d}/status/server-dashboard`,label:Object(Ce.default)("Dashboard"),indicator:n?""+n:null,onPress:c}),i.length?y.a.createElement(IDe,{to:`#!/settings/server/${d}/status/conversion`,label:Object(Ce.default)("Conversions"),indicator:""+i.length,onPress:c}):null,r.length?r.map(e=>{const{uuid:t,type:a,title:n,subtitle:i,progress:r,Context:s={}}=e;return uDe[a]?y.a.createElement(fDe,{key:t,title:n,subtitle:i,progress:r,isPostProcessing:s.status===Lw.c}):null}):null,o&&s.length?s.map(e=>{const{uuid:t,title:a}=e;return y.a.createElement(fDe,{key:t,title:Object(Ce.default)("Scanning library files"),subtitle:a})}):null,l?y.a.createElement(IDe,{labelClassName:vDe.a.primaryLabel,to:`#!/server/${d}/update`,label:Object(Ce.default)("Server Update Available"),indicator:y.a.createElement(hDe,{className:vDe.a.alertIndicator}),onPress:c}):null)};function EDe(){return Object(he.a)(Object(he.a)(Xve(),e=>e.libraries?e.libraries:[]),rDe.a,(e,t)=>e.reduce((e,a)=>{const n=t[a];return n.refreshing&&e.push(n),e},[]))}var ODe=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),tre(),Object(he.a)(Xve(),e=>e.backgroundTranscodeJobs?e.backgroundTranscodeJobs:[]),Object(he.a)(Xve(),e=>e.activities?e.activities:[]),EDe(),cDe,dDe,(e,t,a,n,i,r,s)=>({friendlyName:e.friendlyName,machineIdentifier:e.machineIdentifier,sessionsCount:t,backgroundTranscodeJobs:a,activities:n,libraries:i,showLegacyLibraryScanning:!Object(oo.a)(e.version,so.a.libraryUpdateActivity),showUpdateAvailable:oDe(e,r,s)}))}))(SDe),MDe=a("paCu"),CDe=a.n(MDe);var jDe=function(e){const{activities:t,onMenuClose:a}=e;return t.length?y.a.createElement("div",{className:CDe.a.statusContainer},y.a.createElement("div",{className:CDe.a.statusTitle},y.a.createElement(jI.a,{to:hE(),onPress:a},Object(Ce.default)("Downloads"))),t.map(e=>{const{uuid:t,title:a,subtitle:n,progress:i,Context:r={}}=e;return y.a.createElement(fDe,{key:t,title:a,subtitle:n,progress:i,isPostProcessing:r.status===Lw.c})})):null};var DDe=Object(v.b)((function(){return Object(he.a)(Xve(),e=>({activities:e&&e.activities?e.activities.filter(e=>uDe[e.type]):[]}))}))(jDe),PDe=a("dCCs"),TDe=a.n(PDe);const wDe={placement:"bottom-end"};var NDe=function(e){const{isOpen:t,target:a,embeddedServerEntityID:n,ownedServerEntityIDs:i,onMenuClose:r}=e;return y.a.createElement(Xs.a,{className:TDe.a.menu,isOpen:t,target:a,options:wDe,onMenuClose:r},i.map(e=>y.a.createElement(ODe,{key:e,serverEntityID:e,onMenuClose:r})),n?y.a.createElement(DDe,{key:n,serverEntityID:n,onMenuClose:r}):null)};function xDe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-activity-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M248.175 179.16l-61.448 163.858A20 20 0 0 1 168 355.996H84v-40h70.14l79.133-211.019c6.892-18.376 33.37-16.868 38.13 2.172l70.887 283.544 31.821-63.641A20 20 0 0 1 392 315.996h84v40h-71.64L353.89 456.938c-8.304 16.608-32.788 13.92-37.292-4.093l-68.422-273.686z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}xDe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var ADe=xDe,LDe=a("VjkR"),kDe=a.n(LDe);function RDe(e){const{className:t,iconComponent:a,isActive:n}=e;return y.a.createElement("span",{className:t},n?y.a.createElement(HO.a,{className:kDe.a.activityIndicator}):null,y.a.createElement(a,{className:kDe.a.icon}))}RDe.defaultProps={className:kDe.a.iconContainer,iconClassName:kDe.a.icon,iconComponent:ADe};var zDe=RDe,UDe=a("BTFm"),VDe=a.n(UDe);class BDe extends g.Component{constructor(e,t){super(e,t),this.onActivityPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=Object(gf.a)()}componentDidUpdate(e){this.props.isDisabled&&!e.isDisabled&&this.state.isMenuOpen&&this.onMenuClose()}render(){const{className:e,isDisabled:t,iconClassName:a,labelClassName:n,showActivityButton:i,embeddedServerEntityID:r,ownedServerEntityIDs:s,hasSessions:o,hasConversions:l,hasActivities:c,hasAvailableServerUpdate:d,hasLibraryRefreshing:u,activityButtonCount:p}=this.props;if(!i)return null;const m=o||l,h=c||u,g=!p&&d;return y.a.createElement(y.a.Fragment,null,y.a.createElement(qMe,{id:this._buttonID,isDisabled:t,className:Pe()(e,m&&VDe.a.isHighlighted),iconClassName:a,labelClassName:n,iconProps:{isActive:h},iconComponent:zDe,alertIconClassName:VDe.a.alertIcon,alertIconComponent:g?hDe:null,ariaLabel:Object(Ce.default)("Activity"),title:this.state.isMenuOpen?null:Object(Ce.default)("Activity"),label:p?String(p):null,onPress:this.onActivityPress}),y.a.createElement(NDe,{isOpen:this.state.isMenuOpen,target:this._buttonID,embeddedServerEntityID:r,ownedServerEntityIDs:s,onMenuClose:this.onMenuClose}))}}BDe.defaultProps={iconClassName:VDe.a.activityIcon,labelClassName:VDe.a.label};var FDe=BDe;const HDe={sessionsCount:0,backgroundTranscodeJobsCount:0,activitiesCount:0};function _De(e,t){return e.reduce((e,a)=>{const{backgroundTranscodeJobs:n=[],activities:i=[]}=a.desktop,r=t[a.machineIdentifier],s=null==r?void 0:r.sessionKeys.length,o=n.length,l=i.filter(e=>!!uDe[e.type]).length;return s>0&&(e.sessionsCount+=s),o>0&&(e.backgroundTranscodeJobsCount+=o),l>0&&(e.activitiesCount+=l),e},{...HDe})}const WDe=Object(he.a)(sDe.a,e=>e.v4.core.serverNowPlayingSessions,(e,t)=>_De(e,t)),QDe=Object(he.a)(ZF.a,e=>e.v4.core.serverNowPlayingSessions,(e,t)=>e?_De([e],t):HDe),GDe=Object(he.a)(WDe,QDe,(e,t)=>({activitiesCount:e.activitiesCount+t.activitiesCount,backgroundTranscodeJobsCount:e.backgroundTranscodeJobsCount+t.backgroundTranscodeJobsCount,sessionsCount:e.sessionsCount+t.sessionsCount})),KDe=Object(he.a)(sDe.a,rDe.a,(e,t)=>e.reduce((e,a)=>{const{libraries:n}=a.desktop;return e+=n.filter(e=>{const a=t[e];return!!a&&a.refreshing}).length},0)),YDe=Object(he.a)(sDe.a,cDe,dDe,(e,t,a)=>e.some(e=>oDe(e,t,a)));var qDe=Object(v.b)((function(){return Object(he.a)((e,{isDisabled:t})=>t,lDe.a,LSe.a,GDe,KDe,YDe,(e,t,a,n,i,r)=>{const s=a.length>0;let o=s;return t&&(o=!0,e=e||!s&&n.sessionsCount+n.backgroundTranscodeJobsCount+n.activitiesCount===0),{isDisabled:e,embeddedServerEntityID:t,ownedServerEntityIDs:a,showActivityButton:o,hasSessions:n.sessionsCount>0,hasConversions:n.backgroundTranscodeJobsCount>0,hasActivities:n.activitiesCount>0,hasAvailableServerUpdate:r,hasLibraryRefreshing:i>0,activityButtonCount:n.sessionsCount+n.backgroundTranscodeJobsCount}})}))(FDe);class ZDe extends g.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{this.setState({isPlexPassModalOpen:!0})},this.onModalClose=e=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){return y.a.createElement(y.a.Fragment,null,y.a.createElement(sCe,{onPress:this.onButtonPress},Object(Ce.default)("Go Premium")),y.a.createElement(Jc.a,{origin:Cre.f,metricsProperties:{context:aS.NAV_BAR},isOpen:this.state.isPlexPassModalOpen,onModalClose:this.onModalClose}))}}var XDe=ZDe,JDe=a("1d8V"),$De=a.n(JDe);var ePe=function(e){const{serverEntityID:t,hasHistory:a,hasHomeButton:n,userThumb:i,badgeCount:r,canEnterFullscreen:s,canExitFullscreen:o,isAnonymousUser:l,canGoPremium:c,canNavigateHistory:d,canToggleSidebar:u,isSidebarCollapsed:p,shouldRender:m,onBackPress:h,onEnterFullscreen:f,onExitFullscreen:b,onToggleCollapsedSidebar:v}=e,I=Object(g.useCallback)(()=>{v(!p)},[p,v]);return m?y.a.createElement("div",{className:$De.a.container},y.a.createElement("div",{className:$De.a.left},u?y.a.createElement(qMe,{className:$De.a.button,iconComponent:Hje,title:p?Object(Ce.default)("Expand"):Object(Ce.default)("Collapse"),onPress:I}):null,n?y.a.createElement(qMe,{className:$De.a.button,to:"#",iconComponent:fV,title:Object(Ce.default)("Home")}):null,y.a.createElement(jI.a,{to:"#",className:$De.a.plexLogo}),d?y.a.createElement(qMe,{className:$De.a.button,iconComponent:Uje,title:Object(Ce.default)("Back"),isDisabled:!a,onPress:h}):null,y.a.createElement(Rje,null)),y.a.createElement("div",{className:$De.a.right},c?y.a.createElement(XDe,null):null,l?y.a.createElement(y.a.Fragment,null,y.a.createElement(cCe,null),y.a.createElement(dCe,null)):null,c||l?y.a.createElement("div",{className:$De.a.buttonSeparator}):null,o?y.a.createElement(qMe,{className:$De.a.button,iconComponent:Wje,title:Object(Ce.default)("Exit Full Screen"),onPress:b}):null,s?y.a.createElement(qMe,{className:$De.a.button,iconComponent:Bje,title:Object(Ce.default)("Enter Full Screen"),onPress:f}):null,s||o?y.a.createElement("div",{className:$De.a.buttonSeparator}):null,y.a.createElement(qDe,{className:$De.a.button}),y.a.createElement(aCe,null),y.a.createElement(QMe,{className:$De.a.button,iconComponent:qMe}),y.a.createElement(iDe,{className:$De.a.accountButton,serverEntityID:t,userThumb:l?null:i,badgeCount:r}))):null};const tPe=Object(hOe.a)()||Object(hOe.b)(),aPe=Object(he.a)(e=>e.isFullscreen,e=>e),nPe=Object(he.a)(ge.a,e=>e.isSidebarCollapsed),iPe=Object(he.a)(e=>e.downloads&&e.downloads.subscriptions,e=>!!e&&e.length>0),rPe=Object(he.a)(dMe,e=>e.some(e=>e.isConnected));const sPe=Object(v.b)((function(){return Object(he.a)(e=>e.history,(e,{route:t})=>t,AU.a,cMe,uMe,aPe,nPe,Object(he.a)(AU.a,Gk,iPe,rPe,(e,t,a,n)=>!(e.isLocked||!t)&&(t.isResolved||a||n)),(e,t,a,n,i,r,s,o)=>{const l=Object(jt.a)(fo.n,tC.a),c=/#!\/settings/.test(t),d=Object(hOe.b)()&&Object(E.c)("fullscreenManager").hasFullscreen;return{serverEntityID:l,hasHistory:e.length>1,hasHomeButton:c,userThumb:a.thumb,badgeCount:n.length+i.length,isFullscreen:r,isSidebarCollapsed:s,isAnonymousUser:!!a.anonymous,canGoPremium:a.canGoPremium,canEnterFullscreen:d&&!r,canExitFullscreen:d&&r,canNavigateHistory:tPe,canToggleSidebar:!c,shouldRender:o}})}),(function(e,t){return{onBackPress(t){e(Object(ta.w)())},onEnterFullscreen(e){Object(E.c)("fullscreenManager").enter()},onExitFullscreen(e){Object(E.c)("fullscreenManager").exit()},onToggleCollapsedSidebar(t){Object(Dt.a)(()=>{e(Object(xy.l)({isSidebarCollapsed:t}))})}}}))(ePe);class oPe extends g.Component{constructor(e){super(e),this.onHashChange=()=>{this.setState({route:window.location.hash})},this.state={hasError:!1,route:window.location.hash}}static getDerivedStateFromError(){return{hasError:!0}}componentDidMount(){window.addEventListener("hashchange",this.onHashChange,!1)}componentWillUnmount(){window.removeEventListener("hashchange",this.onHashChange,!1)}componentDidCatch(e){C.a.error(e)}render(){return this.state.hasError?y.a.createElement(gMe,null):y.a.createElement(sPe,{route:this.state.route})}}var lPe=oPe;var cPe=function(e){const{isCloudServerAvailable:t,isCloudServerResolved:a,isCloudServerRejected:n,isCloudServerDownForMaintenance:i,isAnonymousUser:r,dispatchPopulateCloudServer:s}=e,o=Object(Or.a)(t),l=!0===t||!1===t,c=!0!==o&&!1!==o;return O3(()=>{s()}),Object(g.useEffect)(()=>{c&&l&&s()},[c,l,s]),a?r?y.a.createElement(vve,null):y.a.createElement(I.a,{to:_k.a.home[0]}):n&&l?t?y.a.createElement(vve,null):i?y.a.createElement(Yk,null):y.a.createElement(Xk,null):y.a.createElement(Re,null,y.a.createElement(Ge,null))};const dPe=Object(he.a)(Gk,Ot.a,(e,t)=>({isWaitingForCloudServer:!e.isResolved&&!e.isRejected,isCloudServerAvailable:e.available,isCloudServerResolved:e.isResolved,isCloudServerRejected:e.isRejected,isCloudServerPending:e.isPending,isAnonymousUser:t})),uPe={dispatchPopulateCloudServer:HI.f};var pPe=Object(v.b)(dPe,uPe)(cPe);var mPe=Object(he.a)(ge.a,e=>e.lastSourcePivots),hPe=a("duQd");const gPe=/^\/library\/sections\/(\w+)(\/all)?$/;const yPe={dispatchNavigate:ta.v};class fPe extends g.Component{componentDidMount(){this._maybeRedirect(this.props)}componentDidUpdate(e){this._maybeRedirect(this.props)}_maybeRedirect(e){this._hasRedirected||this.props.isSourceDirectoryNotFound||(e.dispatchNavigate({pathname:e.tabRoute,prependHashBang:!0,replace:!0}),this._hasRedirected=!0)}render(){const{isSourceDirectoryNotFound:e}=this.props;return e?y.a.createElement(QP.a,null):y.a.createElement(qk.a,null,y.a.createElement(HO.a,null))}}var bPe=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),Object(xI.a)(),NO(),Object(he.a)(Object(RI.a)(),Object(xI.a)(),NO(),mPe,(e,t,a,n)=>{if(!a)return;let i=n[Object(VE.a)(e.machineIdentifier,t.identifier,a.id)];return gPe.test(i)&&(i=Object(hPe.a)(a.id,a.type)),a.pivots.find(e=>e.key===i)}),pD.a,(e,t,a,n,i)=>{if(!a)return{isSourceDirectoryNotFound:!0};let r;a.pivots&&(r=n||a.pivots[0]);return{tabRoute:fD(e,t,a,r,i[mD(e,t,a,r)])}})}),yPe)(fPe);var vPe=a("AoyP"),IPe=a.n(vPe);var SPe=function(){const e=Object(I.g)(),t=Object(g.useCallback)(()=>{e.push(_k.a.signUp)},[e]);return y.a.createElement(qk.a,{title:Object(Ce.default)("Sign up for a free account to continue"),description:Object(Ce.default)("Some benefits to a Plex account:")},y.a.createElement("div",{className:IPe.a.container},y.a.createElement("div",{className:IPe.a.panel},y.a.createElement(tI,{className:IPe.a.panelIcon}),y.a.createElement("div",{className:IPe.a.panelTitle},Object(Ce.default)("One App, Any Device")),y.a.createElement("div",{className:IPe.a.panelDescription},Object(Ce.default)("Pick up whatever you were watching exactly where you left off on any device"))),y.a.createElement("div",{className:IPe.a.panel},y.a.createElement(aI.a,{className:IPe.a.panelIcon}),y.a.createElement("div",{className:IPe.a.panelTitle},Object(Ce.default)("Save Your Favorites")),y.a.createElement("div",{className:IPe.a.panelDescription},Object(Ce.default)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),y.a.createElement("div",{className:IPe.a.panel},y.a.createElement(iI,{className:IPe.a.panelIcon}),y.a.createElement("div",{className:IPe.a.panelTitle},Object(Ce.default)("Parental Controls")),y.a.createElement("div",{className:IPe.a.panelDescription},Object(Ce.default)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),y.a.createElement($v.a,null,y.a.createElement(Ih.a,{kind:ao.d,size:cc.a,onPress:t},Object(Ce.default)("Sign Up"))))};var EPe=function(e){const{serverEntityID:t,providerEntityID:a,pivot:n,sourceDirectory:i,directoryKey:r,isNotFound:s,showPlexAccountUpsell:o,isPending:l,children:c}=e;return l?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):s?y.a.createElement(QP.a,null):o?y.a.createElement(Qx,{serverEntityID:t,providerEntityID:a,pivot:n,sourceDirectory:i,directoryKey:r,scrollDirection:iv.b},y.a.createElement(SPe,null)):c};function OPe(e,t){return!e&&!t||M.a.isEqual(e,t)}const MPe={dispatchSavePivotParams:ta.D};class CPe extends g.Component{componentDidMount(){const{sourceDirectory:e,pivot:t,shouldSaveParams:a}=this.props;e&&t&&a&&this._savePivotDefaultParams(this.props)}componentDidUpdate(e){const{sourceDirectory:t,pivot:a,shouldSaveParams:n,params:i}=this.props;t&&a&&n&&!OPe(e.params,i)&&this._savePivotDefaultParams(this.props)}_savePivotDefaultParams(e){const{serverEntityID:t,providerEntityID:a,sourceDirectory:n,pivot:i,params:r,savedPivotParams:s,dispatchSavePivotParams:o}=e;i&&!OPe(r,s)&&o({serverEntityID:t,providerEntityID:a,directoryID:n.id,pivotKey:i.key,params:r})}render(){const{serverEntityID:e,providerEntityID:t,pivot:a,sourceDirectory:n,directoryKey:i,isNotFound:r,isPlexAccountRequired:s,isPending:o,children:l}=this.props;return y.a.createElement(EPe,{serverEntityID:e,providerEntityID:t,pivot:a,sourceDirectory:n,directoryKey:i,showPlexAccountUpsell:s,isNotFound:r,isPending:o},l)}}var jPe=Object(v.b)((function(){return Object(he.a)((e,{sourceDirectoryID:t})=>t,NO(),Rx(),Object(he.a)(Object(RI.a)(),Object(xI.a)(),NO(),Rx(),pD.a,(e,t,a,n,i)=>a&&n&&i?i[mD(e,t,a,n)]:null),Object(he.a)(Object(RI.a)(),e=>e.isProvidersPending),Ot.a,(e,t,a,n,i,r)=>({sourceDirectoryID:e,sourceDirectory:t,pivot:a,savedPivotParams:n,isNotFound:!(!e||t),isPlexAccountRequired:!!a&&Pt(a.requires,r),isPending:!!i}))}),MPe)(CPe);const DPe={[dD.c.SHARED_ITEMS]:"/library/shared/all"};function PPe(e={},t){return DPe[e.key]||t}function TPe({hubKey:e}){const[t,a]=Jt(),n=Object(Ct.a)({serverIdentifier:t.machineIdentifier,providerIdentifier:a.providerIdentifier,key:e});return y.a.createElement(ca,{allowBackgroundPreset:!0,scrollDirection:Ie.None},y.a.createElement(UE,null),y.a.createElement(Nh,{sourceURI:n}))}var wPe=Object(v.b)((function(){return Object(he.a)(vh.b,bh.b,(e,t)=>({machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier}))}))((function(e){const{machineIdentifier:t,providerIdentifier:a,serverEntityID:n,providerEntityID:i,...r}=e;return y.a.createElement($t,{machineIdentifier:t,providerIdentifier:a},y.a.createElement(TPe,{...r}))}));function NPe(e){const t=!!(e.size||e.totalSize||e.more);return"directory"!==e.type&&t}var xPe=a("4JMt");const APe=Object(yo.a)("INIT_DISCOVER_PAGE"),LPe=Object(yo.a)("FETCH_HUBS"),kPe=Object(yo.a)("FETCH_PROMOTED_HUBS");Object(yo.a)("POPULATE_PROMOTED_HUBS");function RPe(e){return e.get("ui").get("discoverPage")}const zPe=Object(MS.a)({INIT_DISCOVER_PAGE(e,t){const a=RPe(e),n=Object(TS.k)(e,t),i=Object(TS.h)(e,t),{providerEntityID:r,hubKey:s}=t;if(r===a.get("providerEntityID")&&s===a.get("hubKey"))return;const o=new vG.default([],{server:n,provider:i,hubKey:s,count:16,includeMeta:!0,includeEmpty:!0,includeTypeFirst:!0,includeFeaturedTags:!0,includeRecentChannels:!0,...Object(WU.a)(e),excludes:["playlists"]}),l=new vG.default([],{server:e.get("cloudServer"),url:"https://services.provider.plex.tv/home/hubs",deferred:!0,includeMeta:!0});a.restoreDefaults({providerEntityID:r,hubKey:s,hubs:o,promotedHubs:l})},FETCH_HUBS(e,t){const a=RPe(e);a.set("isHubsPending",!0);const n=a.get("hubs"),i=n.provider.getXHROptions(n.url(),{dataType:"json"});h.a.ajax(i).then(e=>{const t=e.MediaContainer;n.reset(t,{parse:!0}),a.set({isHubsPending:!1,isHubsPopulated:!0,hubsError:null,hubsTitle:t.title})},(e,t)=>{a.set({isHubsPending:!1,hubsError:Object(rS.a)(t)})})},FETCH_PROMOTED_HUBS(e,t){const a=RPe(e),n=a.get("promotedHubs");a.set("isPromotedHubsPending",!0);const i=n.server.getXHROptions(n.url,{includeMeta:1,dataType:"json"});h.a.ajax(i).then(t=>{const{MediaContainer:{Hub:i=[]}={}}=t;i.forEach((t,i)=>{const{source:r}=t,s=fH(r);if(!s)return void C.a.error(`Hub source "${r}" not in correct format.`);const o=Object(TS.q)(e,s);if(!o)return void C.a.error(`Server with entity id "${o.serverEntityID}" not found.`);const l=Object(TS.p)(e,s);if(!l)return void C.a.error(`Provider with entity id "${s.providerEntityID}" not found.`);const c=new xPe.a(t,{server:o,provider:l,parse:!0});n.add(c);const d=Object(GI.o)(e);a.set({isPromotedHubsPending:!1,isPromotedHubsPopulated:!0,promotedHubsError:null,knownPromotedHubCloudProviderIDs:d.get("providers").map(e=>e.entityID())})})},(e,t)=>{a.set({isPromotedHubsPending:!1,promotedHubsError:Object(rS.a)(t)})})},POPULATE_PROMOTED_HUBS(e,t,a){RPe(e).get("isPromotedHubsPopulated")||a(kPe(t))},[eS.a](e,t,a){const n=RPe(e).get("hubs");!n||t.metadataItemEntityID||t.containerKeyPattern||Object(GU.a)({actionCreator:Zb.j,dispatch:a,hubs:n,serverModel:Object(TS.k)(e,t)})}});var UPe=Object(he.a)(fz,e=>e.ui.discoverPage.hubs,(e,t=[])=>!!t.find(t=>e[t].style===bH.d));class VPe extends g.Component{constructor(){super(...arguments),this._repopulateProgramGuide=()=>{const{dispatchFetchProviders:e,dispatchRepopulatePage:t}=this.props;e(),t(),this._setRepopulateTimeout()}}componentDidMount(){this._setRepopulateTimeout()}componentDidUpdate(){this._setRepopulateTimeout()}componentWillUnmount(){this._clearRepopulateTimeout()}_setRepopulateTimeout(){this.props.isRefreshing&&(this._clearRepopulateTimeout(),this._repopulateTimeoutID=window.setTimeout(this._repopulateProgramGuide,15e3))}_clearRepopulateTimeout(){this._repopulateTimeoutID&&window.clearTimeout(this._repopulateTimeoutID)}render(){return null}}VPe.propTypes={serverEntityID:Qn.a.string.isRequired,providerEntityID:Qn.a.string.isRequired,isRefreshing:Qn.a.bool,dispatchFetchProviders:Qn.a.func.isRequired,dispatchRepopulatePage:Qn.a.func.isRequired};var BPe=Object(v.b)((function(){return Object(he.a)(LI(),e=>({isRefreshing:!!e}))}),(function(e,t){const{serverEntityID:a}=t;return{dispatchFetchProviders(){e(Object($I.u)({serverEntityID:a}))},dispatchRepopulatePage(){e(Object(eS.c)({serverEntityID:a}))}}}))(VPe),FPe=a("Na6n"),HPe=a("9XR6"),_Pe=a.n(HPe);var WPe=function(e){const{providerIdentifier:t}=e;return qr.l(t,qr.f)?y.a.createElement("div",{className:_Pe.a.container},y.a.createElement("div",{className:_Pe.a.text},y.a.createElement("div",{className:_Pe.a.logo,"aria-label":Object(Ce.default)("TIDAL")}),y.a.createElement("div",{className:_Pe.a.body},Object(Ce.default)("Preview 60 million streaming tracks, thousands of music videos and more.")),y.a.createElement(FPe.a,{metricsProperties:{pane:"tidalBanner"},action:Gi.qb},y.a.createElement(jI.a,{to:up.n,kind:ao.b,target:"_blank"},Object(Ce.default)("Learn more at plex.tv"))))):null};var QPe=function(e){const{serverEntityID:t,providerEntityID:a,provider:n,sourceDirectory:i,hubKey:r,hubsTitle:s,showAddToCatalog:o,showEPGActivity:l}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(kE.a,null,s?y.a.createElement(zv,null,y.a.createElement(TI,{title:s,detail:n.sourceTitle})):y.a.createElement(GD,{serverEntityID:t,providerEntityID:a,sourceDirectory:i,hubKey:r}),i&&!s?y.a.createElement(LD,{serverEntityID:t,providerEntityID:a,sourceDirectory:i,directoryKey:r}):null,y.a.createElement(uD.a,null,o?y.a.createElement(lz,null,y.a.createElement(WL,{providerEntityID:a})):null,o?y.a.createElement(rz,null):null,y.a.createElement(uL,null))),l?y.a.createElement(Jm,null,y.a.createElement(Uv.a,null,y.a.createElement(qD,{serverEntityID:t,providerEntityID:a}))):null)};var GPe=Object(v.b)((function(){return Object(he.a)(Bs.b,bh.b,LI(),(e,t,a)=>{const n=t.features.actions.addToCatalog;return{provider:t,showAddToCatalog:!!n&&Object(No.a)(e,n),showEPGActivity:!!a}})}))(QPe);var KPe=a("HU9O"),YPe=a.n(KPe);var qPe=function(e){const{machineIdentifier:t,isCloud:a,isFullOwnedServer:n,isPending:i,error:r,onRepopulate:s}=e;if(i)return y.a.createElement(_O.a,null,y.a.createElement(HO.a,null));if(r)return y.a.createElement(GO.a,{title:a?Object(Ce.default)("There was an unexpected error loading this page"):Object(Ce.default)("There was an unexpected error loading this library")},y.a.createElement(jI.a,{kind:ao.d,onPress:s},Object(Ce.default)("Retry")));const o=n?Object(Ce.default)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null;return y.a.createElement(_O.a,{title:a?Object(Ce.default)("This page is currently empty"):Object(Ce.default)("This library is currently empty"),description:o},o?null:y.a.createElement("div",{className:YPe.a.emptyDescription}),n?y.a.createElement(Ih.a,{className:YPe.a.manageLibraries,kind:ao.d,to:Object(lm.a)(t,"manage","libraries")},Object(Ce.default)("Manage libraries")):null,y.a.createElement(jI.a,{kind:ao.d,onPress:s},Object(Ce.default)("Retry")))};var ZPe=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),e=>({machineIdentifier:e.machineIdentifier,isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer}))}))(qPe);var XPe=function(e){const{serverEntityID:t,providerEntityID:a,isPending:n,error:i}=e;return n?y.a.createElement(_O.a,null,y.a.createElement(HO.a,null)):i?y.a.createElement(GO.a,{title:Object(Ce.default)("There was an unexpected error loading the Guide")}):y.a.createElement(QO,{serverEntityID:t,providerEntityID:a})};var JPe=Object(he.a)(AU.a,e=>e.subscriptions||[]),$Pe=a("W7j1"),eTe=a("AQch");var tTe=Object(he.a)(JPe,e=>{const t=e.find(e=>e.type===eTe.c)||{};return t.state===$Pe.a||t.state===$Pe.e}),aTe=a("8pg1"),nTe=a.n(aTe);var iTe=function(e){const{isPending:t,hasTidal:a}=e;return t?y.a.createElement(_O.a,null,y.a.createElement(HO.a,null)):a?y.a.createElement(KG,{title:Object(Ce.default)("Account not linked"),description:Object(Ce.default)("Ensure your Plex account is linked to TIDAL.")},y.a.createElement(jI.a,{to:up.f,kind:ao.d},Object(Ce.default)("Learn more"))):y.a.createElement(_O.a,{iconComponent:_b,iconClassName:nTe.a.logo,title:Object(Ce.default)("TIDAL + Plex = music to your ears!"),description:Object(Ce.default)("Need some jams? Add TIDAL streaming music to Plex and get access to 60 million of the highest quality tracks, hundreds of thousands of music videos, awesome premium Plex music features, and seamless integration with your own collection. Sign up today to start a FREE trial!")},y.a.createElement(FPe.a,{action:Gi.qb},y.a.createElement(jI.a,{to:up.n,kind:ao.d,target:"_blank"},Object(Ce.default)("Learn more"))))};var rTe=Object(v.b)((function(){return Object(he.a)(tTe,e=>({hasTidal:e}))}))(iTe);var sTe=function(e){const{providerIdentifier:t,sourceDirectory:a,...n}=e;return qr.l(t,qr.c)?y.a.createElement(XPe,{...n}):a&&"tidal"===a.id?y.a.createElement(rTe,{...n}):y.a.createElement(ZPe,{...n})},oTe=a("obfZ"),lTe=a.n(oTe);class cTe extends g.Component{componentDidMount(){this.props.onProviderChange(this.props.providerIdentifier)}componentDidUpdate(e){this.props.providerIdentifier!==e.providerIdentifier&&this.props.onProviderChange(this.props.providerIdentifier)}componentWillUnmount(){this.props.onProviderChange(null)}render(){const{serverEntityID:e,providerEntityID:t,providerIdentifier:a,providerMetricsIdentifier:n,isProgramGuide:i,isAutoHomeHubsEnabled:r,sourceDirectory:s,activeSelectionType:o,hubEntityIDs:l,isHubsPending:c,hubsError:d,hubsTitle:u,isEmpty:p,hubKey:m,showUpsell:h,onRepopulate:g}=this.props;return y.a.createElement(UO.a,{metricsPage:It.rb,metricsProperties:{identifier:n,mode:"hub",type:s&&s.type},allowBackgroundLightPreset:!0,scrollDirection:iv.b},o?y.a.createElement(xk,{serverEntityID:e,providerEntityID:t}):y.a.createElement(GPe,{serverEntityID:e,providerEntityID:t,sourceDirectory:s,hubKey:m,hubsTitle:u}),y.a.createElement(VT,{innerClassName:lTe.a.discoverPageContent},h?y.a.createElement(WPe,{providerIdentifier:a}):null,i?y.a.createElement(jh,{serverEntityID:e,providerEntityID:t}):null,y.a.createElement("div",{className:lTe.a.discoverPageList},p||c?y.a.createElement(sTe,{serverEntityID:e,providerEntityID:t,providerIdentifier:a,sourceDirectory:s,isPending:c,error:d,onRepopulate:g}):y.a.createElement(hZ,{directoryKey:m,serverEntityID:e,providerEntityID:t,hubEntityIDs:l,sourceDirectory:s,allowHomeHubIndicator:!r,allowPersistentHomeHubStatus:!r,allowToggleHomeHub:!r}))),i?y.a.createElement(BPe,{serverEntityID:e,providerEntityID:t}):null)}}var dTe=cTe;const uTe=Object(he.a)(fz,e=>e.ui.discoverPage.hubs,(function(e,t=[]){let a=t.length;for(;a-- >0;){if(NPe(e[t[a]]))return!1}return!0}));const pTe=vO(dTe,(function(e){const t=e.ui.discoverPage;return{providerEntityID:t.providerEntityID,hubKey:t.hubKey}}),(function(e,t){e(APe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,hubKey:t.hubKey,sourceDirectory:t.sourceDirectory})),e(LPe({options:{onlyTransient:!0}}))}));var mTe=Object(v.b)((function(){return Object(he.a)(Object(xI.a)(),e=>e.ui.discoverPage,uTe,UPe,Hx.a,ye,(e,t,a,n,i,r)=>{const s=t.hubs||[],o=qr.l(e.identifier,qr.c);return{providerIdentifier:e.identifier,providerMetricsIdentifier:e.metricsIdentifier,isProgramGuide:o,isAutoHomeHubsEnabled:r,hubEntityIDs:s,isHubsPending:t.isHubsPending,hubsError:t.hubsError,hubsTitle:t.hubsTitle,isEmpty:a,showUpsell:n,activeSelectionType:i.activeSelectionType}})}),(function(e,t){return{onProviderChange(a){let n;const i=qr.l(a,qr.d);if(t.sourceDirectory&&(n=t.sourceDirectory.id),!n&&i&&t.hubKey){const e=t.hubKey.match(/\w+\/\w+\/(\d+)/);e&&([,n]=e)}e(Object(Tt.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:a,directoryID:n}))}}}))(pTe);var hTe=a("HQmg"),gTe=a("JHYu"),yTe=a("aCX2"),fTe=a("M8A8"),bTe=a("jnX0");var vTe=XE.a.extend({name:"QueryLimitModel",rootPropertyName:"Limit",syncedAttrs:{limit:QE.a.integer,unit:QE.a.string}});var ITe=CS.a.extend({name:"QueryLimitCollection",model:vTe}),STe=a("uNiD");var ETe=XE.a.extend({name:"QueryParseModel",context:["server"],url(){return this.get("key")},sessionAttrs:{key:QE.a.string},syncedAttrs:{type:QE.a.string},syncedRelations:{rule:{relationClass:STe.a,rootPropertyName:"Rule",deferred:!0},limits:{relationClass:ITe,rootPropertyName:"Limit",deferred:!0}}});const OTe="ui/libraryPage/initLibraryPage",MTe="ui/libraryPage/clearLibraryPageErrors",CTe="ui/libraryPage/initLibraryPageMetadataList",jTe="ui/libraryPage/initLibraryPageSupportingLists",DTe="ui/libraryPage/fetchLibraryDetails",PTe="ui/libraryPage/populateLibraryDetails",TTe="ui/libraryPage/fetchLibraryFirstCharacters",wTe="ui/libraryPage/populateLibraryFirstCharacters",NTe="ui/libraryPage/fetchQueryParse",xTe="ui/libraryPage/populateQueryParse",ATe="ui/libraryPage/selectLibraryFilter",LTe="ui/libraryPage/deselectLibraryFilter",kTe="ui/libraryPage/fetchLibraryFilterOptions",RTe="ui/libraryPage/populateLibraryFilterOptions",zTe="ui/libraryPage/searchLibraryFilterOptions",UTe="ui/libraryPage/selectLibraryTableColumn",VTe="ui/libraryPage/deselectLibraryTableColumn",BTe="ui/libraryPage/updateSmartPlaylist",FTe="ui/libraryPage/navigatePlaylist",HTe=Object(yo.a)(OTe),_Te=Object(yo.a)(MTe),WTe=Object(yo.a)(CTe),QTe=Object(yo.a)(jTe),GTe=Object(yo.a)(DTe),KTe=Object(yo.a)(PTe),YTe=Object(yo.a)(TTe),qTe=Object(yo.a)(wTe),ZTe=Object(yo.a)(NTe),XTe=Object(yo.a)(xTe),JTe=Object(yo.a)(ATe),$Te=Object(yo.a)(LTe),ewe=Object(yo.a)(kTe),twe=Object(yo.a)(RTe),awe=Object(yo.a)(zTe),nwe=Object(yo.a)(UTe),iwe=Object(yo.a)(VTe),rwe=Object(yo.a)(BTe),swe=Object(yo.a)(FTe);function owe(e){return e.get("ui").get("libraryPage")}const lwe={[OTe](e,t){const a=owe(e),n=a.get("details"),i=Object(TS.k)(e,t),r=Object(TS.h)(e,t),{providerEntityID:s,libraryKey:o,directoryKey:l}=t;if(!o&&s===a.get("providerEntityID")&&l===a.get("directoryKey"))return;if(!o)return void a.restoreDefaults({isDetailsPending:!1,isDetailsPopulated:!0,detailsError:null,directoryKey:l,providerEntityID:s});if(s===a.get("providerEntityID")&&o===a.get("libraryKey"))return;const c={providerEntityID:s,libraryKey:o,directoryKey:l};n&&n.get("libraryKey")===o?(c.details=n,c.isDetailsPending=a.get("isDetailsPending"),c.isDetailsPopulated=a.get("isDetailsPopulated"),c.detailsError=a.get("detailsError")):c.details=new yTe.a({key:o},{server:i,provider:r,includeAdvanced:!0}),a.restoreDefaults(c)},[MTe](e,t){owe(e).set({isUpdatePlaylistPending:!0,updatePlaylistError:null})},[CTe](e,t){const a=owe(e),n=Object(TS.k)(e,t),i=Object(TS.h)(e,t),r=a.get("metadataList"),{containerKey:s}=t;if(r&&s===r.get("containerKey"))return;if(r)return void r.set({containerKey:s});const o=Object(SG.a)(e,ve.a),l=new GE.default({entityKey:"libraryPageMetadataList",containerKey:s},{server:n,provider:i,includeCollections:i.get("isLibraryProvider")?1:0,includeExternalMedia:o,includeAdvanced:1,includeMeta:1});a.set({metadataList:l})},[jTe](e,t){const a=owe(e),n=Object(TS.k)(e,t),i=Object(TS.h)(e,t),r=a.get("firstCharacters"),s=a.get("queryParse"),{firstCharacterKey:o,queryParseKey:l,customFilter:c}=t,d={},u=Object(SG.a)(e,ve.a);let p;if(o&&(p=j.default.join(o,{includeCollections:1,includeExternalMedia:u})),o&&!r||r&&r.url!==p){const e=new gTe.a([],{server:n,provider:i,url:p});d.firstCharacters=e,d.isFirstCharactersPending=!1,d.isFirstCharactersPopulated=!1,d.firstCharactersError=null}!c||s&&s.get("key")===l||(d.queryParse=new ETe({key:l},{server:n}),d.isQueryParsePending=!0,d.isQueryParsePopulated=!1,d.queryParseError=null),Object.keys(d).length&&a.set(d)},[DTe]:Object(WI.a)({key:"details",getModel:owe}),[PTe]:Object(QI.a)({key:"details",fetchActionCreator:GTe,getModel:owe}),[TTe]:Object(WI.a)({key:"firstCharacters",getModel:owe}),[wTe]:Object(QI.a)({key:"firstCharacters",fetchActionCreator:YTe,getModel:owe}),[NTe]:Object(WI.a)({key:"queryParse",getModel:owe}),[xTe]:Object(QI.a)({key:"queryParse",fetchActionCreator:ZTe,getModel:owe}),[eS.a](e,t,a){const{metadataItemEntityID:n,containerKeyPattern:i}=t;if(n)return;const r=Object(TS.k)(e,t),s=owe(e),o=s.get("metadataList");o&&o.server===r&&(i&&!o.get("containerKey").match(i)||(a(Object(Zb.j)({metadataListEntityID:o.entityID()})),s.get("firstCharacters")&&a(YTe())))},[ATe](e,t){const a=owe(e),n=a.get("selectedFilterOptions"),i=Object(TS.k)(e,t),r=Object(TS.h)(e,t),{key:s}=t,o={selectedFilterKey:s},l=Object(SG.a)(e,ve.a)?j.default.join(s,{includeExternalMedia:1}):s;n&&n.url===s||(o.selectedFilterOptions=new hTe.a([],{server:i,provider:r,url:l}),o.isSelectedFilterOptionsPending=!0,o.isSelectedFilterOptionsPopulated=!1,o.selectedFilterOptionsError=null),a.set(o)},[LTe](e){owe(e).set({selectedFilterKey:void 0,selectedFilterOptions:void 0,filterOptionQuery:""})},[kTe]:Object(WI.a)({key:"selectedFilterOptions",getModel:owe}),[RTe]:Object(QI.a)({key:"selectedFilterOptions",fetchActionCreator:ewe,getModel:owe}),[zTe](e,t){owe(e).set("filterOptionQuery",t)},[UTe](e,t,a){const{type:n,subtype:i,activeTableColumns:r,key:s}=t;if(-1!==M.a.findIndex(r,e=>e.key===s))return;const o=QA(n,i),l=e.get("user").get("experienceSettings").get("libraryTableColumns"),c=r.map(e=>e.key).concat(s);a(Object(xy.l)({libraryTableColumns:{...l,[o]:c}}))},[VTe](e,t,a){const{type:n,subtype:i,activeTableColumns:r,key:s}=t;if(r.length<=1)return;const o=M.a.findIndex(r,e=>e.key===s);if(-1===o)return;const l=QA(n,i),c=e.get("user").get("experienceSettings").get("libraryTableColumns"),d=r.slice(0,o).concat(r.slice(o+1)).map(e=>e.key);a(Object(xy.l)({libraryTableColumns:{...c,[l]:d}}))},[BTe](e,t,a){const n=owe(e),i=Object(TS.h)(e,t),r=n.get("metadataList"),{playlistID:s}=t,{uri:o}=Object(fTe.a)({providerModel:i,itemProviderModel:i,metadataListModel:r});n.set({isUpdatePlaylistPending:!0,updatePlaylistError:null}),Object(bTe.a)({playlistID:s,uri:o,providerModel:i}).then(()=>a(swe(t)),e=>{n.set("updatePlaylistError",Object(rS.a)(e))}).always(()=>{n.set("isUpdatePlaylistPending",!1)})},[FTe](e,t,a){const n=owe(e),i=Object(TS.k)(e,t),r=Object(TS.h)(e,t),s=n.get("metadataList"),{playlistID:o}=t,l=s.get("firstItemType");if(!l)return;const c=Object(wo.getLeafType)(l).mediaType,d=Object(Ka.a)(i.toJSON(),r.toJSON(),j.default.join(["/playlists",o]),{},c);a(Object(ta.v)({pathname:d}))}};function cwe(e){return Object(he.a)((e,{libraryKey:t})=>t,(e,{activeFilters:t})=>t,(e,{activeSort:t})=>t,(e,{activeLimit:t})=>t,(e,{selectedType:t})=>t,(e,{sourceDirectory:t})=>t,(t,a,n,i,r,s)=>{const o={filters:a,sort:n,limit:i};return r&&r.key?MO([r.key.replace("/all?",`/${e}?`)],o):t?MO([t,e],o):void 0})}function dwe(){return Object(he.a)((e,{activeSort:t})=>t,$G(),(e,t)=>{if(!t)return;const a=e&&M.a.first(e.split(":"));let n=M.a.find(t.sorts,t=>!!t.active||(e?t.key===a||t.descKey===e:t.isDefault));return n||(n=M.a.first(t.sorts)),n})}var uwe=a("unCS");function pwe(){return Object(he.a)(Object(uwe.a)(),e=>e.some(e=>e.refreshing))}var mwe=a("uEtx"),hwe=a.n(mwe);function gwe(e){const{isAscending:t,...a}=e,n=t?Ly.a:Ay.a;return y.a.createElement(n,{"aria-label":t?Object(Ce.default)("Ascending"):Object(Ce.default)("Descending"),...a})}gwe.defaultProps={className:hwe.a.sortDirectionIcon,isAscending:!0};var ywe=gwe,fwe=a("KzEB"),bwe=a.n(fwe);function vwe(e){const{children:t,...a}=e;return y.a.createElement("div",{...a},t)}vwe.defaultProps={className:bwe.a.tableHeader};var Iwe=vwe,Swe=a("N6Bl"),Ewe=a.n(Swe);function Owe(e){const{className:t,activeClassName:a,children:n,isActive:i,...r}=e,s=i?a:t;return y.a.createElement("div",{className:s,...r},n)}Owe.defaultProps={className:Ewe.a.tableHeaderCell,activeClassName:Ewe.a.activeTableHeaderCell};var Mwe=Owe,Cwe=a("mZ//"),jwe=a.n(Cwe);function Dwe(e){const{children:t,...a}=e;return y.a.createElement(jI.a,{...a},t)}Dwe.defaultProps={className:jwe.a.tableHeaderLink};var Pwe=Dwe,Twe=a("oArg"),wwe=a.n(Twe);function Nwe(e){const{children:t,...a}=e;return y.a.createElement("div",{...a},t)}Nwe.defaultProps={className:wwe.a.tableHeaderTitle};var xwe=Nwe;class Awe extends g.Component{constructor(){super(...arguments),this.onPress=e=>{(this.props.isSelected?this.props.onColumnDeselect:this.props.onColumnSelect)(this.props.columnKey),this.props.onMenuClose()}}render(){const{children:e,isSelected:t}=this.props;return y.a.createElement(uc.a,{isSelected:t,onPress:this.onPress},e)}}var Lwe=Awe,kwe=a("ulDd"),Rwe=a.n(kwe);class zwe extends g.Component{constructor(e,t){super(e,t),this.onChangeColumnsPress=e=>{this.setState({isColumnsMenuOpen:!this.state.isColumnsMenuOpen})},this.onColumnsMenuClose=()=>{this.setState({isColumnsMenuOpen:!1})},this.state={isColumnsMenuOpen:!1},this._columnsButtonID=Object(gf.a)()}render(){const{activeTableColumnsByKey:e,allTableColumns:t,typeKey:a,listType:n,activeFilters:i,activeFilterLabel:r,activeSort:s,customFilter:o,selectedSort:l,isDisabled:c,onColumnSelect:d,onColumnDeselect:u}=this.props,{isColumnsMenuOpen:p}=this.state;return y.a.createElement(Iwe,{"data-qa-id":"metadataTableHeader"},y.a.createElement("div",{className:Rwe.a.playCell}),t.map(({style:t,title:d,ascKey:u,descKey:p,key:m})=>{if(!e[m])return null;const h=s===u||s===p||l.key===u,g=s?s===u:l.key===u;return c?y.a.createElement("div",{key:m,style:t,className:Rwe.a.tableHeader},y.a.createElement(Mwe,null,y.a.createElement(xwe,null,d(n)))):y.a.createElement(Pwe,{key:m,style:t,to:Object(fP.a)({typeKey:a,filters:i,filterLabel:r,sort:g?p:u,customFilter:o})},y.a.createElement(Mwe,{isActive:h},y.a.createElement(xwe,null,d(n)),h?y.a.createElement(ywe,{isAscending:!g}):null))}),y.a.createElement("div",{className:Rwe.a.actionsCell},y.a.createElement(jI.a,{id:this._columnsButtonID,className:Rwe.a.columnsButton,"aria-label":Object(Ce.default)("Change Columns"),"aria-haspopup":!0,onPress:this.onChangeColumnsPress},y.a.createElement(Dd.a,null)),y.a.createElement(Xs.a,{target:this._columnsButtonID,isOpen:p,onMenuClose:this.onColumnsMenuClose},t.map(t=>y.a.createElement(Lwe,{key:t.key,columnKey:t.key,isSelected:!!e[t.key],onColumnSelect:d,onColumnDeselect:u,onMenuClose:this.onColumnsMenuClose},t.title(n))))))}}var Uwe=zwe;function Vwe(e=[],t){const a=e.reduce((e,t)=>(e[t.key]=t,e),{});return t.map(e=>{const t=a[e.ascKey];return t?{...e,title:a=>t.title||e.title(a)}:e})}const Bwe={dispatchSelectLibraryTableColumn:nwe,dispatchDeselectLibraryTableColumn:iwe};class Fwe extends g.Component{constructor(){super(...arguments),this.onColumnSelect=e=>{this.props.dispatchSelectLibraryTableColumn({type:this.props.listType,subtype:this.props.listSubtype,activeTableColumns:this.props.activeTableColumns,key:e})},this.onColumnDeselect=e=>{this.props.dispatchDeselectLibraryTableColumn({type:this.props.listType,subtype:this.props.listSubtype,activeTableColumns:this.props.activeTableColumns,key:e})}}render(){const{dispatchSelectLibraryTableColumn:e,dispatchDeselectLibraryTableColumn:t,activeTableColumns:a,...n}=this.props;return y.a.createElement(Uwe,{...n,onColumnSelect:this.onColumnSelect,onColumnDeselect:this.onColumnDeselect})}}var Hwe=Object(v.b)((function(){return Object(he.a)((e,{listType:t})=>t,(e,{isFolder:t})=>t,mY(),$G(),(e,t,a,n)=>{const i=t?dY(e):uY(n.sorts),r=a.reduce((e,t)=>(e[t.key]=t,e),{});return{allTableColumns:Vwe(n.sorts,i),activeTableColumnsByKey:r,activeTableColumns:a}})}),Bwe)(Fwe),_we=a("vQY0"),Wwe=a.n(_we);var Qwe=function(e){return y.a.createElement(QP.a,{className:Wwe.a.innerEmptyPage,contentClassName:Wwe.a.innerEmptyPageContent,scrollDirection:iv.b,...e})},Gwe=a("reQb"),Kwe=a.n(Gwe);var Ywe=function(e){const t=function({sourceDirectory:e,hint:t,error:a}){if(e&&"tidal"===e.id){const e={iconComponent:_b,iconClassName:Kwe.a.tidal,title:Object(Ce.default)("TIDAL + Plex = music to your ears!"),link:up.n,linkText:Object(Ce.default)("Learn more"),linkTarget:"_blank",linkAction:Gi.qb};if(406===a&&t){if(t.includes("saved"))return{...e,description:Object(Ce.default)("With a TIDAL subscription you can add Albums, artists, tracks and videos to My TIDAL to keep track of your favorite music.")};if(t.includes("playlists"))return{...e,description:Object(Ce.default)("Once you have a TIDAL subscription you can add music to My TIDAL Playlists and keep the party going.")}}}if(404===a)return{title:Object(Ce.default)("You must be lost"),description:Object(Ce.default)("We can't find the page you're looking for"),link:"#",linkText:Object(Ce.default)("Go Home")}}(e);if(t){const{link:e,linkText:a,linkTarget:n,linkAction:i,...r}=t,s=y.a.createElement(jI.a,{to:e,kind:ao.d,target:n},a);return y.a.createElement(KG,{...r},i?y.a.createElement(FPe.a,{action:i},s):s)}return y.a.createElement(GO.a,{title:e.defaultTitle},e.children)},qwe=a("ETPs"),Zwe=a("C5pU");var Xwe=Object(he.a)(JG,e=>e.reduce((e,t)=>(e.push.apply(e,t.fields),e),[]));var Jwe=Object(he.a)(e=>e.ui.libraryPage.details,XG,(e,t)=>{const a=t&&t.meta;return a&&a.fieldTypes.length?a.fieldTypes:e?e.fieldTypes:void 0}),$we=a("Qb9m"),eNe=a.n($we);function tNe({children:e,...t}){return y.a.createElement("div",{...t},e)}tNe.defaultProps={className:eNe.a.group};var aNe=tNe,nNe=a("buLI"),iNe=a("Zev7"),rNe=a.n(iNe);function sNe({className:e,name:t,labelText:a,showErrors:n,errors:i}){return y.a.createElement(nNe.a,{className:e,showErrors:n,errors:i,name:t,labelText:a})}sNe.defaultProps={className:rNe.a.label};var oNe=sNe,lNe=a("EMYl"),cNe=a("YxVA"),dNe=a.n(cNe);function uNe({inputClassName:e,name:t,labelText:a,showErrors:n,errors:i,leftLabel:r,...s}){return y.a.createElement(aNe,null,r?y.a.createElement(oNe,{hasError:n,errors:i,name:t,labelText:a}):null,y.a.createElement(lNe.a,{className:e,name:t,hasError:n,...s}),r?null:y.a.createElement(oNe,{hasError:n,errors:i,name:t,labelText:a}))}uNe.defaultProps={inputClassName:dNe.a.input,leftLabel:!0};var pNe=Object(O9.a)(uNe);var mNe=function(e){return qwe.d===e||qwe.f===e};var hNe=Object(he.a)(Jwe,e=>e.reduce((e,t)=>{if(t.type===Zwe.b){const a=t.operators.filter(({key:e})=>e!==qwe.b&&e!==qwe.h);a.push({key:qwe.d,title:Object(Ce.default)("in the last")},{key:qwe.f,title:Object(Ce.default)("in not the last")}),e[t.type]=a}else e[t.type]=t.operators;return e},{})),gNe=a("jqFQ"),yNe=a("l+2V");const fNe=[/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],bNe=Object(yNe.createAutoCorrectedDatePipe)("yyyy-mm-dd");function vNe(e){return y.a.createElement(A9,{mask:fNe,pipe:bNe,keepCharPositions:!0,placeholder:"yyyy-mm-dd",...e})}vNe.defaultProps={placeholderChar:" ",guide:!1};var INe=vNe,SNe=a("OOzj"),ENe=a.n(SNe);const ONe=/^([0-9]+)?([a-zA-Z]+)?$/;class MNe extends g.Component{constructor(e,t){super(e,t),this.onValueChange=e=>{this.setState({inputValue:e},()=>{this.props.onChange(`${e}${this.state.selectedUnit}`)})},this.onUnitChange=e=>{this.setState({selectedUnit:e},()=>{this.props.onChange(`${this.state.inputValue}${e}`)})},this.state=this.getStateFromProps(e)}componentWillReceiveProps(e){this.props.value!==e.value&&this.setState(this.getStateFromProps(e))}getStateFromProps(e){const[t]=e.units,[,a="",n=Object.keys(t)[0]]=e.value.match(ONe)||[];return{inputValue:a,selectedUnit:n}}render(){const{textInputClassName:e,selectInputClassName:t,units:a,size:n}=this.props;return y.a.createElement("span",{className:ENe.a.inputs},y.a.createElement(JJ.a,{name:"unitValue",className:e,type:"number",value:this.state.inputValue,size:n,onChange:this.onValueChange}),y.a.createElement(XJ.a,{name:"unit",className:t,value:this.state.selectedUnit,values:a,size:n,onChange:this.onUnitChange}))}}var CNe=MNe;function jNe(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-add-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h103.6v-103.6h44.8v103.6h103.6v44.8h-103.6v103.6h-44.8v-103.6h-103.6v-44.8"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}jNe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var DNe=jNe;function PNe(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-remove-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h252v44.8h-252v-44.8"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}PNe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var TNe=PNe,wNe=a("Zi5A"),NNe=a.n(wNe);class xNe extends g.Component{constructor(){super(...arguments),this.onRemovePress=()=>{this.props.onRemove(this.props.index)}}render(){const{tag:e,index:t,tagCount:a,isDisabled:n,getTagDisplayValue:i}=this.props;return y.a.createElement("span",{className:NNe.a.container},y.a.createElement("span",{className:NNe.a.tag},n?null:y.a.createElement(jI.a,{className:NNe.a.remove,"aria-label":Object(Ce.default)("Remove Tag"),onPress:this.onRemovePress},y.a.createElement(Ql.a,null)),y.a.createElement("span",null,i(e))),y.a.createElement("span",{className:NNe.a.or},t!==a-1?Object(Ce.default)("or"):null))}}var ANe=xNe,LNe=a("URkQ"),kNe=a.n(LNe);const RNe=[qwe.b,qwe.h],zNe=[qwe.a,qwe.g],UNe={integer:/^\d+$/};function VNe(e){const{selectedField:t,filter:a,selectedFilterOptions:n,suggestionsFilter:i,renderSuggestion:r,shouldRenderSuggestions:s,getSuggestionValue:o,getTagValue:l,getTagDisplayValue:c,makeTag:d,makeTagFromSuggestion:u,onSuggestionSelected:p,onSuggestionsFetchRequested:m,onSuggestionsClearRequested:h,onValueChange:g,onTagValueChange:f}=e;return t?t.type===Zwe.a?null:t.subType===Zwe.c?y.a.createElement(XJ.a,{className:kNe.a.selectInput,name:"value",size:cc.c,values:[{"-1":Object(Ce.default)("Empty")},{2:"★"},{4:"★★"},{6:"★★★"},{8:"★★★★"},{10:"★★★★★"}],value:a.value[0]?a.value[0].value:"",onChange:g}):t.type===Zwe.b&&mNe(a.operator)?y.a.createElement(CNe,{textInputClassName:kNe.a.unitTextInput,selectInputClassName:kNe.a.selectInput,name:"value",size:cc.c,units:[{s:Object(Ce.default)("Seconds")},{m:Object(Ce.default)("Minutes")},{h:Object(Ce.default)("Hours")},{d:Object(Ce.default)("Days")},{w:Object(Ce.default)("Weeks")},{mon:Object(Ce.default)("Months")},{y:Object(Ce.default)("Years")}],value:a.value[0]?a.value[0].value:"",onChange:g}):t.type===Zwe.b?y.a.createElement(INe,{className:kNe.a.textInput,name:"value",size:cc.c,value:a.value[0]?a.value[0].value:"",onChange:g}):y.a.createElement(gNe.a,{className:kNe.a.tagsInput,value:a.value,suggestions:n,suggestionsFilter:i,renderSuggestion:r,shouldRenderSuggestions:s,getSuggestionValue:o,getTagValue:l,getTagDisplayValue:c,makeTag:d,makeTagFromSuggestion:u,tagComponent:ANe,validationRegex:UNe[t.type],onSuggestionSelected:p,onSuggestionsFetchRequested:m,onSuggestionsClearRequested:h,onChange:f}):null}class BNe extends g.Component{constructor(){super(...arguments),this.shouldRenderSuggestions=e=>{const{selectedFilter:t,selectedField:{type:a},value:{operator:n}}=this.props;return!!t&&(a===Zwe.d&&zNe.indexOf(n)>-1||a!==Zwe.d&&RNe.indexOf(n)>-1)},this.onFieldChange=e=>{const{fieldKeyTypes:t}=this.props,{defaultOperator:a,type:n,subType:i}=t[e],r=[];n===Zwe.a&&r.push({value:1}),i===Zwe.c&&r.push({value:"-1"}),e!==this.props.value.key&&this.props.onChange({key:e,operator:a,value:r})},this.onOperatorChange=e=>{const{selectedField:t}=this.props;let a;a=t.type===Zwe.b&&mNe(e)&&mNe(this.props.value.operator)||!mNe(e)&&!mNe(this.props.value.operator)?this.props.value.value:[],this.props.onChange({...this.props.value,value:a,operator:e})},this.onTagValueChange=e=>{this.props.onChange({...this.props.value,value:Array.isArray(e)?e:[e]})},this.onValueChange=e=>{this.props.onChange({...this.props.value,value:[{value:e}]})},this.onRemovePress=()=>{this.props.onRemovePress(this.props.index)},this.onAddPress=()=>{this.props.onAddPress(this.props.index)}}getSuggestionValue(e){return e}getTagValue(e){return e.value}getTagDisplayValue(e){return e.valueTitle||e.value}makeTag(e){return{value:encodeURIComponent(e),valueTitle:e}}makeTagFromSuggestion(e){return{value:e.value,valueTitle:e.title}}suggestionsFilter(e,t){return e.title.toLowerCase().indexOf(t.toLowerCase())>-1}renderSuggestion(e){return e.title}render(){const{isRemoveDisabled:e,value:t,operatorValues:a,fieldValues:n,selectedField:i,selectedFilterOptions:r,onSuggestionsFetchRequested:s,onSuggestionsClearRequested:o}=this.props;return y.a.createElement("div",{className:kNe.a.container},y.a.createElement("div",{className:kNe.a.rules},y.a.createElement("div",{className:kNe.a.rule},y.a.createElement(XJ.a,{className:kNe.a.selectInput,name:"filter",size:cc.c,values:n,value:t.key,onChange:this.onFieldChange})),y.a.createElement("div",{className:kNe.a.rule},y.a.createElement(XJ.a,{className:kNe.a.selectInput,name:"operator",size:cc.c,values:a,value:t.operator,onChange:this.onOperatorChange})),y.a.createElement("div",{className:kNe.a.value},y.a.createElement(VNe,{selectedField:i,filter:t,selectedFilterOptions:r,suggestionsFilter:this.suggestionsFilter,renderSuggestion:this.renderSuggestion,shouldRenderSuggestions:this.shouldRenderSuggestions,getSuggestionValue:this.getSuggestionValue,getTagValue:this.getTagValue,getTagDisplayValue:this.getTagDisplayValue,makeTag:this.makeTag,makeTagFromSuggestion:this.makeTagFromSuggestion,tagComponent:ANe,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:s,onSuggestionsClearRequested:o,onTagValueChange:this.onTagValueChange,onValueChange:this.onValueChange})),y.a.createElement("div",{className:kNe.a.buttons},y.a.createElement(jI.a,{className:e?kNe.a.iconButtonDisabled:kNe.a.iconButton,"aria-label":Object(Ce.default)("Remove Filter"),isDisabled:e,onPress:this.onRemovePress},y.a.createElement(TNe,null)),y.a.createElement(jI.a,{className:kNe.a.iconButton,"aria-label":Object(Ce.default)("Add Filter"),onPress:this.onAddPress},y.a.createElement(DNe,null)))))}}BNe.defaultProps={isRemoveDisabled:!1,isAddEnabled:!0,onRemovePress(){},onAddPress(){}};var FNe=BNe;const HNe=new RegExp(`(${["duration","mediaSize","mediaBitrate","show.writer","show.producer","show.director"].join("|")})$`);const _Ne={dispatchSelectLibraryFilter:JTe,dispatchPopulateLibraryFilterOptions:twe,dispatchDeselectLibraryFilter:$Te,dispatchSearchLibraryFilterOptions:awe};class WNe extends g.Component{constructor(){super(...arguments),this.onSuggestionsFetchRequested=()=>{this.props.selectedFilter&&(this.props.dispatchSelectLibraryFilter({serverEntityID:this.props.serverEntityID,key:this.props.selectedFilter.key}),this.props.dispatchPopulateLibraryFilterOptions())},this.onSuggestionsClearRequested=()=>{this.props.selectedFilterOptions&&Object(Dt.a)(()=>{this.props.dispatchDeselectLibraryFilter()})}}render(){const{dispatchSelectLibraryFilter:e,dispatchPopulateLibraryFilterOptions:t,dispatchDeselectLibraryFilter:a,dispatchSearchLibraryFilterOptions:n,...i}=this.props;return y.a.createElement(FNe,{...i,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested})}}var QNe=Object(O9.a)(Object(v.b)((function(){return Object(he.a)((e,{value:t})=>t.key,JG,Xwe,hNe,e=>e.ui.libraryPage.selectedFilterOptions,(e,t,a,n,i)=>{let r,s;const o=[],l={};for(let t=0;t<a.length;t++){const i=a[t],{key:s,title:c,type:d,subType:u}=i;i.key===e&&(r=i),l[s]={type:d,subType:u,defaultOperator:n[d][0].key},HNe.test(s)||o.push({[s]:c})}if(r){let e,[a,n]=r.key.split(".");if(n||(n=a,a=null),a){const{id:n}=Object(wo.getMetadataType)(a);e=M.a.find(t,e=>{const t=Object(wo.getMetadataType)(e.type);return!!t&&t.id===n})}else e=t[0];e&&(s=M.a.find(e.filters,e=>e.filter===n))}return{selectedField:r,fieldValues:o,selectedFilter:s,selectedFilterOptions:i,operatorValues:(r?n[r.type]:[]).map(e=>({[e.key]:e.title})),fieldKeyTypes:l}})}),_Ne)(WNe));var GNe=function(e){const t=Object(sE.a)(),[a,n]=Object(g.useState)(!1),{className:i,serverEntityID:r,providerEntityID:s,metadataListEntityID:o,showUpdate:l,onUpdatePress:c}=e,d=Object(g.useCallback)(()=>{n(!1),t.onOpen()},[t]),u=Object(g.useCallback)(()=>{n(!0),t.onOpen()},[t]),p=l?c:u,m=l?Object(Ce.default)("Save"):Object(Ce.default)("Save As...");return y.a.createElement(y.a.Fragment,null,y.a.createElement(bf,{className:i,kind:ao.d,label:m,menuSize:cc.a,onPress:p},y.a.createElement(QL.a,{serverEntityID:r,providerEntityID:s,metadataListEntityID:o,showAddToPlaylist:!0,showAddToSmartPlaylist:!0,onAddToPlaylistPress:d,onAddToSmartPlaylistPress:u})),y.a.createElement(xL.a,{serverEntityID:r,providerEntityID:s,metadataListEntityID:o,smart:a,isOpen:t.isOpen,onModalClose:t.onClose}))},KNe=a("2OOI"),YNe=a.n(KNe);const qNe=Object(O9.a)(v9.a);function ZNe(e){const{defaultField:t,defaultFieldType:{type:a,operators:n}}=e,i=[];return a===oD.a&&i.push({value:1}),{key:t.key,value:i,operator:n[0].key,id:M.a.uniqueId()}}function XNe(e){return(e.activeFilters.length?e.activeFilters:[ZNe(e)]).map(e=>({...e,id:M.a.uniqueId(e.key)}))}class JNe extends g.Component{constructor(e,t){super(e,t),this.onFormSubmit=e=>{const{activeFilters:t}=this.state,{allTypeFieldsByKey:a,typeKey:n,activeSort:i}=this.props,r=t.map(t=>{const{key:n,value:i,operator:r}=e[t.id],s=i.map(e=>M.a.isString(e)?e:e.value);let o;const l=a[n];if(l&&l.type===Zwe.b&&!mNe(r)){const e=Object(tM.a)(s[0]?s[0].replace(/-+$/,""):new Date,"yyyy-MM-dd");o=[Object(Uue.a)(e)?Object(Tn.a)(e):Object(Tn.a)(new Date)]}else o=s;return{key:n,operator:r,value:o}}).filter(e=>e.value.length);let s;e.enableLimit&&""!==e.limit&&(s=e.limit),window.location.hash=Object(fP.a)({typeKey:n,filters:r,sort:i,limit:s,customFilter:!0})},this.onAddPress=e=>{const t=[...this.state.activeFilters];t.splice(e+1,0,ZNe(this.props)),this.setState({activeFilters:t})},this.onRemovePress=e=>{const t=[...this.state.activeFilters];t.splice(e,1),this.setState({activeFilters:t})},this.state={activeFilters:e.activeFilters?XNe(e):[]}}componentWillReceiveProps(e){this.setState({activeFilters:XNe(e)})}render(){const{activeFilters:e}=this.state,{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,activeLimit:i,isQueryParsePopulated:r,queryParseError:s,showUpdate:o,updateError:l,onUpdatePress:c}=this.props;if(!r)return y.a.createElement("div",{className:YNe.a.loadingContainer},s?Object(Ce.default)("There was an error trying to load the filters. Reload the page and try again"):y.a.createElement(HO.a,null));const d=!!i;return y.a.createElement(H9.b,{className:YNe.a.container,onSubmit:this.onFormSubmit},e.map((a,n)=>y.a.createElement(QNe,{key:a.id,serverEntityID:t,name:a.id,index:n,initialValue:a,isRemoveDisabled:e.length<2,onRemovePress:this.onRemovePress,onAddPress:this.onAddPress})),y.a.createElement("div",{className:YNe.a.footer},y.a.createElement("div",{className:YNe.a.settings},y.a.createElement(qNe,{className:YNe.a.checkInput,size:cc.c,name:"enableLimit",checkboxText:Object(Ce.default)("Limit to"),initialValue:d}),y.a.createElement(pNe,{inputClassName:YNe.a.numberInput,size:cc.c,name:"limit",initialValue:d?i:"",leftLabel:!1,labelText:Object(Ce.default)("items")})),y.a.createElement("div",{className:YNe.a.buttons},l?y.a.createElement("span",{className:YNe.a.error},Object(Ce.default)("There was a problem saving the playlist")):null,y.a.createElement(Ih.a,{type:"submit"},Object(Ce.default)("Apply")),y.a.createElement(GNe,{className:YNe.a.saveButton,serverEntityID:t,providerEntityID:a,metadataListEntityID:n,showUpdate:o,onUpdatePress:c}))))}}var $Ne=JNe;const exe=/^-([0-9]+)([a-zA-Z]+)$/;function txe(e,t){const{field:a,type:n,fieldTitle:i,valueTitle:r}=e,s=null==n?a:`${n}.${a}`,o=t[s];let l,c;return(e.operator===qwe.c||e.operator===qwe.e)&&exe.test(e.value)&&o&&o.type===Zwe.b?(l=e.operator+"-",c=e.value.substr(1)):o&&o.type===Zwe.b?(l=e.operator,c=Object(tM.a)(Object(Za.a)(e.value),"yyyy-MM-dd")):(l=e.operator,c=e.value),{key:s,keyTitle:i,operator:l,value:[{value:decodeURIComponent(c),valueTitle:r?decodeURIComponent(r):void 0}]}}const axe=Object(he.a)(Xwe,e=>e.reduce((e,t)=>(e[t.key]=t,e),{})),nxe=Object(he.a)(e=>e.ui.libraryPage.queryParse,axe,(e={},t)=>e.rule?function e(t,a,n){const i=[];if("composite"===a.type&&"and"===a.operator){if(a.rules){const r=a.rules.reduce((a,i)=>(a.push.apply(a,e(t,i,n)),a),[]);i.push.apply(i,r)}}else if("composite"===a.type&&"or"===a.operator){const e=a.rules.reduce((e,t)=>{const a=txe(t,n);return e.key=a.key,e.keyTitle=a.keyTitle,e.operator=a.operator,null==e.value&&(e.value=[]),e.value.push.apply(e.value,a.value),e},{});i.push(e)}else i.push(txe(a,n));return i}(e.type,e.rule,t):[]),ixe=Object(he.a)(bh.b,JG,Jwe,axe,nxe,e=>e.ui.libraryPage.queryParse.key,e=>e.ui.libraryPage.queryParseError,e=>e.ui.libraryPage.isQueryParsePopulated,(e,{playlistID:t})=>t,e=>e.ui.libraryPage.updatePlaylistError,e=>e.ui.libraryPage.isUpdatePlaylistPending,(e,t,a,n,i,r,s,o,l,c,d)=>{const[u]=t,[p]=u.fields,m=M.a.find(a,e=>e.type===p.type);return{supportsQueryParser:!!e.features.queryParser,activeFilters:i,allTypeFieldsByKey:n,queryParseKey:r,queryParseError:s,isQueryParsePopulated:o,defaultField:p,defaultFieldType:m,showUpdate:!!l,updateError:c,isUpdating:d}}),rxe={dispatchPopulateQueryParse:XTe,dispatchUpdateSmartPlaylist:rwe};class sxe extends g.Component{constructor(){super(...arguments),this.onUpdatePress=()=>{this.props.dispatchUpdateSmartPlaylist({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,playlistID:this.props.playlistID})}}componentDidMount(){this.props.supportsQueryParser&&this.props.dispatchPopulateQueryParse()}componentWillReceiveProps(e){this.props.queryParseKey!==e.queryParseKey&&this.props.dispatchPopulateQueryParse()}render(){const{dispatchPopulateQueryParse:e,dispatchUpdateSmartPlaylist:t,supportsQueryParser:a,...n}=this.props;return a?y.a.createElement($Ne,{onUpdatePress:this.onUpdatePress,...n}):null}}var oxe=Object(v.b)(ixe,rxe)(sxe);var lxe=function(e){const{types:t,selectedType:a,libraryRoute:n,activeSort:i,activeLimit:r,activeFilters:s,customFilter:o,onMenuClose:l,...c}=e;if(!(t&&t.length>0))return null;const d=t.reduce((e,t)=>(t.type!==wo.FOLDER?e.types.push(t):e.folder.push(t),e),{types:[],folder:[]});return y.a.createElement(Xs.a,{...c,onMenuClose:l},d.types.map(({key:e,type:t,title:l})=>y.a.createElement(uc.a,{key:e,to:Object(fP.a)({typeKey:e,filters:o?s:void 0,sort:o?i:void 0,limit:o?r:void 0,customFilter:o},n),isSelected:a.key===e},l)),d.folder.length>0?y.a.createElement($s.a,null):null,d.folder.length>0?d.folder.map(({key:e,type:t,title:i})=>y.a.createElement(uc.a,{key:e,to:Object(fP.a)({typeKey:e,folderKey:e,save:1},n),isSelected:a.key===e,onPress:l},i)):null)};class cxe extends g.Component{constructor(e,t){super(e,t),this.onTypesMenuButtonPress=e=>{this.setState({isTypesMenuOpen:!this.state.isTypesMenuOpen})},this.onTypesMenuClose=()=>{this.setState({isTypesMenuOpen:!1})},this.state={isTypesMenuOpen:!1},this._typesMenuButtonID=Object(gf.a)()}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:a,pivot:n,directoryKey:i,folderTitle:r,parentFolderTitle:s,parentRoute:o,size:l,listType:c,listContext:d,listStyle:u,metadataTypes:p,selectedType:m,allListStyles:h}=this.props,{isTypesMenuOpen:g}=this.state;return y.a.createElement(y.a.Fragment,null,y.a.createElement(kE.a,null,y.a.createElement(GD,{serverEntityID:e,providerEntityID:t,sourceDirectory:a}),n?y.a.createElement(LD,{serverEntityID:e,providerEntityID:t,sourceDirectory:a,directoryKey:i}):null,y.a.createElement(uD.a,null,y.a.createElement(uL,{listType:c,listContext:d,selectedListStyle:u,allListStyles:h}))),y.a.createElement(Jm,null,y.a.createElement(Uv.a,null,y.a.createElement(cD.a,{id:this._typesMenuButtonID,hasMenu:!0,isMenuOpen:g,onPress:this.onTypesMenuButtonPress},(null==m?void 0:m.title)||Object(Ce.default)("Folders")),y.a.createElement(lxe,{target:this._typesMenuButtonID,isOpen:g,types:p,selectedType:m,activeFilters:[],onMenuClose:this.onTypesMenuClose}),o?y.a.createElement(cD.a,{hasMenu:!1,to:o},s||a.title):null,y.a.createElement(cD.a,null,r),y.a.createElement(Gb.a,null,l))))}}var dxe=cxe;var uxe=Object(v.b)((function(){return Object(he.a)((e,{listType:t})=>t,Object(xI.a)(),JG,$G(),Object(jO.a)(),Object(he.a)((e,{sourceDirectory:t})=>t,(e,{pivot:t})=>t,(e,{folderKey:t})=>t,(e,{folderTitle:t})=>t,(e,{parentFolderKey:t})=>t,(e,{parentFolderTitle:t})=>t,Object(RI.a)(),Object(xI.a)(),(e,t,a,n,i,r,s,o)=>{const l={key:t?t.key:e.key,folderKey:i,folderTitle:r};if(!i){const t=e.key+"/folder";if(t===a)return null;l.folderKey=t,l.folderTitle=e.title}return Object(ng.a)(s,o,e,l)}),(e,t,a,n,i,r)=>{const s=A2(e,null,XO.e,t);return{parentRoute:r,size:i.totalSize||i.metadataItems.length,metadataTypes:a,selectedType:n,allListStyles:s}})}))(dxe),pxe=a("BSWJ"),mxe=a.n(pxe);var hxe=function(){return y.a.createElement(_O.a,{iconClassName:mxe.a.icon,iconComponent:dm,title:Object(Ce.default)("Watchlist"),description:Object(Ce.default)("You can add movies and shows to your Watchlist to catch up on later. Once you finish watching an item in the list, or mark it as watched it will automatically be removed from the list.")})};var gxe=function(e){const{serverEntityID:t,providerEntityID:a,providerIdentifier:n,error:i,typeKey:r,activeFilters:s,activeSort:o,pivot:l,listType:c,listTitle:d,isFolder:u,isLibraryRefreshing:p}=e,m=qr.l(n,qr.c),h="vod.watchlist"===(null==l?void 0:l.id),g=Gx.a[c];return i?y.a.createElement(GO.a,{title:Object(Ce.default)("There was an unexpected error loading this library")}):M.a.isEmpty(s)?m?y.a.createElement(QO,{serverEntityID:t,providerEntityID:a}):p?y.a.createElement(_O.a,{iconComponent:g,title:Object(Ce.default)("Libraries are currently being updated"),description:Object(Ce.default)("Hang tight while we look for your content")}):h?y.a.createElement(hxe,null):y.a.createElement(_O.a,{iconComponent:g,title:u?Object(Ce.default)("There are no items in this folder"):Object(Ce.default)("There are no items in {listTitle}",{listTitle:d})}):y.a.createElement(_O.a,{iconComponent:g,title:Object(Ce.default)("The active filter has no matches"),description:Object(Ce.default)("Use the menu above to change the active filter")},y.a.createElement(jI.a,{to:Object(fP.a)({typeKey:r,sort:o}),kind:ao.d},Object(Ce.default)("Clear filter")))};var yxe=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,sourceDirectory:i,containerKey:r,containerTitle:s,activeSort:o,listType:l,listSubtype:c,columnAdjustment:d,...u}=e,p=aH(l,e.listContext,{activeSort:o,subtype:c,providerEntityID:a}),m=XO.b;return y.a.createElement(BO.a,{listType:l,listContext:m,layout:EX(l,c,m,d,p.length),cellRenderer:f_({serverEntityID:t,providerEntityID:a,metadataListEntityID:n,sourceDirectory:i,containerKey:r,containerTitle:s,listType:l,listContext:m,titleComponents:p}),...u})};var fxe=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,containerTitle:r,listType:s,listContext:o,...l}=e;return y.a.createElement(BO.a,{listType:s,listContext:o,layout:hX,cellRenderer:SA({serverEntityID:t,providerEntityID:a,metadataListEntityID:n,listType:s,listContext:o,containerKey:i,containerTitle:r},pX),...l})};var bxe=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,containerTitle:r,listType:s,listContext:o,...l}=e;return y.a.createElement(BO.a,{listType:s,listContext:o,layout:CX,cellRenderer:SA({serverEntityID:t,providerEntityID:a,metadataListEntityID:n,listType:s,listContext:o,containerKey:i,containerTitle:r},F_),...l})};var vxe=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,containerTitle:r,listType:s,listSubtype:o,listContext:l,typeKey:c,isFolder:d,activeSort:u,selectedSort:p,...m}=e;return y.a.createElement(BO.a,{layout:PX,cellRenderer:SA({serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,containerTitle:r,listType:s,listSubtype:o,listContext:l,typeKey:c,isFolder:d,activeSort:u,selectedSort:p},wY),...m})};var Ixe=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,containerTitle:r,containerDisplayFields:s,activeSort:o,listType:l,listSubtype:c,listContext:d,columnAdjustment:u,...p}=e,m=aH(l,d,{providerEntityID:a,subtype:c,activeSort:o});return y.a.createElement(BO.a,{listType:l,listContext:d,layout:EX(l,c,d,u,m.length),cellRenderer:SA({serverEntityID:t,providerEntityID:a,metadataListEntityID:n,listType:l,listSubtype:c,listContext:d,titleComponents:m,containerKey:i,containerTitle:r,displayFieldDefinitions:s},K_),...p})},Sxe=a("fZKy"),Exe=a.n(Sxe);var Oxe=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,cellIndex:r,metadataKey:s,type:o,title:l,route:c,isDirectory:d,showLink:u,showActions:p,imageWidth:m,imageHeight:h,imageUrl:f}=e,b=Object(KO.a)(e),[v,I]=Object(g.useState)(!1);return y.a.createElement("div",{className:Pe()(r%2?Exe.a.alternateItem:Exe.a.item,v&&Exe.a.isActionsMenuOpen),style:b.style},u?y.a.createElement(jI.a,{className:Exe.a.underlay,to:c,"aria-label":l}):null,y.a.createElement("div",{className:Exe.a.overlay},y.a.createElement("div",{className:Exe.a.posterContainer},b.isPlaceholder?y.a.createElement(uA.a,{imageWidth:m,imageHeight:h}):y.a.createElement(dA.a,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:wo.MIXED,listContext:XO.r,metadataKey:s,type:o,imageWidth:m,imageHeight:h,imageUrl:f,isFolder:!1,showOverlay:!d,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1})),y.a.createElement("div",{className:Exe.a.summaryContainer},y.a.createElement("div",{className:Exe.a.titleContainer},y.a.createElement("div",{className:Exe.a.title},l)),y.a.createElement("div",{className:Exe.a.type},function(e,t){const a=wo.getMetadataType(e).title;return t?Object(Ce.default)("{typeTitle} Library",{typeTitle:a}):a}(o,d))),p?y.a.createElement("div",{className:Exe.a.actions},y.a.createElement(w_.a,{"data-qa-id":"sharedItemSummaryMoreButton",className:Exe.a.moreButton,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,containerKey:i,listType:wo.MIXED,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:v,onMenuOpenChange:I})):null))},Mxe=a("q3pM"),Cxe=a.n(Mxe);var jxe=function(e){const{cellIndex:t,imageWidth:a,imageHeight:n}=e,i=Object(KO.a)(e);return y.a.createElement("div",{className:t%2?Cxe.a.alternateLoadingItem:Cxe.a.loadingItem,style:i.style},y.a.createElement("div",{className:Cxe.a.posterContainer},y.a.createElement(uA.a,{imageWidth:a,imageHeight:n})),Object(Ce.default)("Loading..."))};var Dxe=Object(BI.a)((function(){return Object(he.a)(vh.b,bh.b,TO(),Object(YO.a)(),j_(),Object(pM.a)(),(e,t,a,n={},i,r)=>{const s=!!n.directory,o=function(e,t){const{type:a,subtype:n}=e,i=Object(wEe.a)(a,n,t);return Object(P_.a)(i,null,a,n,e,t)}(n,XO.r);let l=r;if(s){const i=function(e,t){return e.find(e=>!!hD(e,t))}(a,n.key);l=Object(ng.a)(e,t,i)}return{metadataKey:n.key,type:i,title:Object(fg.a)(n),selectionID:n.entityID,route:l,isDirectory:s,showLink:!!l,showActions:!s,imageWidth:o.width,imageHeight:o.height,imageUrl:o.url}})}))((function(e){return e.metadataKey?y.a.createElement(Oxe,{...e}):y.a.createElement(jxe,{...e})}));var Pxe=function(e){const{serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i,...r}=e;return y.a.createElement(BO.a,{layout:CX,cellRenderer:SA({serverEntityID:t,providerEntityID:a,metadataListEntityID:n,containerKey:i},Dxe),...r})},Txe=a("cpNh"),wxe=a.n(Txe);function Nxe(e){const{children:t,serverEntityID:a,providerEntityID:n,metadataListEntityID:i,sourceDirectory:r,containerKey:s,containerTitle:o,containerDisplayFields:l,listTitle:c,listType:d,listSubtype:u,listContext:p,listStyle:m,typeKey:h,activeSort:g,selectedSort:f,isDirectoryList:b,isFolder:v,metadataItemEntityIDs:I,totalSize:S,populatedRange:E,firstItemType:O,firstItemSubtype:M,isPending:C,isPopulated:j,error:D,columnAdjustment:P,hasGutter:T,onPageRequest:w,onListScrollIndexChange:N,onListUpdate:x,onMeasure:A,scrollIndex:L}=e,k=S||I.length;if(j&&k){const e=d||O,c=u||M,S=function(e,t){if(e)return yxe;switch(t){case YA:return vxe;case ZA:return bxe;case qA:return fxe;case JA:return Pxe;default:return Ixe}}(b,m||A2(e,c,It.T)[0]);return y.a.createElement(S,{className:wxe.a.metadataListPageContent,scrollerClassName:Pe()(wxe.a.metadataListScroller,T&&wxe.a.hasGutter),serverEntityID:a,providerEntityID:n,metadataListEntityID:i,sourceDirectory:r,containerKey:s,containerTitle:o,containerDisplayFields:l,listType:e,listSubtype:c,listContext:p,typeKey:h,isFolder:v,activeSort:g,selectedSort:f,scrollIndex:L,scrollPositionStorageKey:"MetadataListPageContent",keyPropName:"metadataItemEntityID",items:I,itemsOffset:E.start,size:k,columnAdjustment:P,onPageRequest:w,onListScrollIndexChange:N,onListUpdate:x,onMeasure:A},t)}if(C)return y.a.createElement(VT,null,y.a.createElement(_O.a,null,y.a.createElement(HO.a,null)));if(D){const e=c?Object(Ce.default)("There was an unexpected error loading {listTitle}",{listTitle:c}):Object(Ce.default)("There was an unexpected error loading this list");return y.a.createElement(VT,null,y.a.createElement(Ywe,{sourceDirectory:r,hint:s,error:D.status,defaultTitle:e}))}return y.a.createElement(VT,null,y.a.createElement(_O.a,{title:Object(Ce.default)("Nothing to see here"),description:c?Object(Ce.default)("There are no items in {listTitle}",{listTitle:c}):Object(Ce.default)("There are no items in this list")}))}Nxe.defaultProps={listContext:XO.e};var xxe=Nxe;var Axe=Object(v.b)((function(){return Object(he.a)(Object(jO.a)(),e=>{var t;return{containerDisplayFields:null==(t=e.meta)?void 0:t.DisplayFields}})}))(xxe);var Lxe=function(e){const{serverEntityID:t,providerEntityID:a,providerIdentifier:n,metadataItemEntityIDs:i,totalSize:r,isPending:s,isPopulated:o,error:l,typeKey:c,activeFilters:d,activeSort:u,pivot:p,listType:m,listTitle:h,isFolder:g,isLibraryRefreshing:f}=e,b=r||i.length;return s||o&&b?y.a.createElement(Axe,{...e}):y.a.createElement(VT,null,y.a.createElement(gxe,{serverEntityID:t,providerEntityID:a,providerIdentifier:n,error:l,typeKey:c,activeFilters:d,activeSort:u,pivot:p,listType:m,listTitle:h,isFolder:g,isLibraryRefreshing:f}))};var kxe=(e,t)=>{const[a,n]=e.split("."),i=n?a:t,r=n||a;return i&&i!==wo.MOVIE?`${i}.${r}`:r};var Rxe=function(){return Object(he.a)((e,{listType:t})=>t,(e,{activeFilters:t})=>t,$G(),(e,t,a)=>{const n=[];for(const i of t){const t=kxe(i.key,e);a.fields.find(e=>e.key===t)&&n.push({...i,key:t})}return n})};var zxe=a("upXi"),Uxe=a.n(zxe);var Vxe=function(e){const{className:t,style:a,typeKey:n,activeFilters:i,activeSort:r,selectedFilter:s,filterOptions:o,filterOptionQuery:l,showError:c,showSearchInput:d,onFilterDeselect:u,onSearch:p}=e,m=s.filter;return y.a.createElement("div",{className:t,style:a,"data-qa-id":"secondFiltersList"},y.a.createElement("div",{className:Uxe.a.header,"data-qa-id":"filterHeader"},y.a.createElement("div",{className:Uxe.a.headerTitle},y.a.createElement(jI.a,{"data-qa-id":"previousFilters",onPress:u},y.a.createElement(zu,{className:Uxe.a.backIcon,"aria-label":Object(Ce.default)("Back")})),y.a.createElement("span",{className:Uxe.a.filterText},s.title)),d?y.a.createElement(JJ.a,{className:Uxe.a.searchInput,name:"filterOptionQuery",placeholder:Object(Ce.default)("Filter {filterTitle}",{filterTitle:s.title}),value:l,onChange:p}):null),y.a.createElement($s.a,null),y.a.createElement(XD.a,{className:d?Uxe.a.filterOptionsWithSearchScroller:Uxe.a.filterOptionsScroller,autoScroll:!0},c?y.a.createElement("div",{className:Uxe.a.emptyText},Object(Ce.default)("Unable to load options")):null,c||o.length?null:y.a.createElement("div",{className:Uxe.a.emptyText},Object(Ce.default)("No options")),o.map(({value:e,title:t,isSelected:a})=>y.a.createElement(uc.a,{key:e,className:Uxe.a.filterOptionMenuItem,to:Object(fP.a)({typeKey:n,filters:a?IP(i,m,e):bP(i,m,{value:e,type:oD.b}),filterLabel:a?void 0:t,sort:r}),isSelected:a},t))))},Bxe=a("xjMz"),Fxe=a.n(Bxe);const Hxe={scrollDirection:iv.b};class _xe extends g.Component{constructor(e,t){super(e,t),this.onFiltersListMeasure=({height:e})=>{this.setState({isMeasured:!0,filterOptionsHeight:Math.max(e,this.props.minHeight)})},this.state={isMeasured:!1,filterOptionsHeight:"auto"}}render(){const{target:e,isOpen:t,typeKey:a,activeFilters:n,activeFilterLabel:i,activeSort:r,filters:s,selectedFilter:o,filterOptions:l,filterOptionQuery:c,showSpinner:d,showError:u,showSearchInput:p,showCustomFilter:m,onFilterSelect:h,onFilterDeselect:g,onSearch:f,onMenuClose:b}=this.props,{isMeasured:v,filterOptionsHeight:I}=this.state,S=!!o&&!d&&v;return y.a.createElement(Xs.a,{target:e,isOpen:t,size:cc.a,scrollerProps:Hxe,onMenuClose:Object(to.a)(g,b)},y.a.createElement(VO.a,{className:Pe()(Fxe.a.panesContainer,S&&Fxe.a.showFilterOptions),ignoreWidth:!0,ignorePosition:!0,ignoreTransforms:!0,onMeasure:this.onFiltersListMeasure},y.a.createElement(PP,{className:Fxe.a.filtersPane,typeKey:a,activeFilters:n,activeFilterLabel:i,activeSort:r,filters:s,selectedFilter:o,showSpinner:d,showCustomFilter:m,onFilterSelect:h}),S?y.a.createElement(Vxe,{className:Fxe.a.filterOptionsPane,style:{height:I},typeKey:a,activeFilters:n,activeSort:r,selectedFilter:o,filterOptions:l,filterOptionQuery:c,showError:u,showSearchInput:p,onFilterDeselect:g,onSearch:f}):null))}}_xe.defaultProps={minHeight:385};var Wxe=_xe;class Qxe extends g.Component{constructor(){super(...arguments),this.onFilterSelect=e=>{this.props.selectLibraryFilter({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,key:e}),this.props.fetchLibraryFilterOptions()},this.onFilterDeselect=()=>{this.props.deselectLibraryFilter()},this.onSearch=e=>{this.props.searchLibraryFilterOptions(e)}}render(){return y.a.createElement(Wxe,{onFilterSelect:this.onFilterSelect,onFilterDeselect:this.onFilterDeselect,onSearch:this.onSearch,...this.props})}}var Gxe=Object(v.b)((function(){return Object(he.a)((e,{activeFilters:t})=>t,(e,{selectedType:t})=>t,e=>e.ui.libraryPage,Object(he.a)((e,{activeFilters:t})=>t,(e,{selectedType:t})=>t,e=>e.ui.libraryPage.selectedFilterKey,e=>e.ui.libraryPage.filterOptionQuery,e=>e.ui.libraryPage.selectedFilterOptions,(e,t,a,n,i=[])=>{const r=t&&t.filters,s=M.a.findWhere(r,{key:a});let o=i;if(n){const e=n.trim().toLowerCase();o=o.filter(t=>t.title.toLowerCase().indexOf(e)>-1)}if(s){const t=e.filter(e=>e.key===s.filter),a=o.reduce((e,a)=>{const n=vP(t,a.value);return(n?e.selected:e.unselected).push({...a,isSelected:n}),e},{selected:[],unselected:[]});o=a.selected.concat(a.unselected)}return o}),(e,t,a,n)=>{const{selectedFilterKey:i,filterOptionQuery:r,selectedFilterOptions:s=[],isSelectedFilterOptionsPopulated:o,selectedFilterOptionsError:l}=a,c=t&&t.filters;return{filters:c,selectedFilter:i&&M.a.findWhere(c,{key:i}),filterOptions:n,filterOptionQuery:r,showSpinner:!o&&!l,showError:!!l,showSearchInput:s.length>12}})}),c)(Qxe),Kxe=a("0jfG");const{ASCENDING:Yxe,DESCENDING:qxe}=Kxe.a.directions;var Zxe=function(e){const{typeKey:t,activeFilters:a,activeFilterLabel:n,activeSort:i,activeLimit:r,sorts:s,selectedSort:o,customFilter:l,onMenuClose:c,...d}=e;return y.a.createElement(Xs.a,{...d,onMenuClose:c},s.map(({key:e,descKey:s,defaultDirection:d,title:u})=>{const p=o.key===e;let m=d;p&&(m=o.activeDirection?o.activeDirection===qxe?Yxe:qxe:i?i===s?Yxe:qxe:d===Yxe?qxe:Yxe);const h=m===qxe;return y.a.createElement(uc.a,{key:e,to:Object(fP.a)({typeKey:t,filters:a,filterLabel:n,sort:h?s:e,limit:l?r:null,customFilter:l}),isSelected:p,iconComponent:h?Ay.a:Ly.a,selectedIconAriaLabel:h?Object(Ce.default)("Ascending"):Object(Ce.default)("Descending"),onPress:c},u)}))},Xxe=a("tRnC"),Jxe=a.n(Xxe);class $xe extends g.Component{constructor(e,t){super(e,t),this.onFiltersMenuButtonPress=e=>{this.setState({isFiltersMenuOpen:!this.state.isFiltersMenuOpen})},this.onFiltersMenuClose=()=>{this.setState({isFiltersMenuOpen:!1})},this.onTypesMenuButtonPress=e=>{this.setState({isTypesMenuOpen:!this.state.isTypesMenuOpen})},this.onTypesMenuClose=()=>{this.setState({isTypesMenuOpen:!1})},this.onSortsMenuButtonPress=e=>{this.setState({isSortsMenuOpen:!this.state.isSortsMenuOpen})},this.onSortsMenuClose=()=>{this.setState({isSortsMenuOpen:!1})},this.state={isFiltersMenuOpen:!1,isTypesMenuOpen:!1,isSortsMenuOpen:!1},this._filtersMenuButtonID=Object(gf.a)(),this._sortsMenuButtonID=Object(gf.a)(),this._typesMenuButtonID=Object(gf.a)()}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,provider:n,pivot:i,sourceDirectory:r,directoryKey:s,listType:o,listSubtype:l,listContext:c,listStyle:d,listTitle:u,typeKey:p,activeFilters:m,activeFilterLabel:h,activeSort:g,activeLimit:f,activeAdvancedFilters:b,metadataTypes:v,selectedType:I,selectedSort:S,selectedFilterTitle:E,customFilter:O,playlistTitle:M,totalSize:C,showSortsMenu:j,canBuildAdvancedFilter:D,allListStyles:P}=this.props,{isFiltersMenuOpen:T,isTypesMenuOpen:w,isSortsMenuOpen:N}=this.state,x=O||m.length>0,A=!!I&&I.filters.length>0&&!O,L=!!I&&v.length>1,k=!!(j&&S&&I.sorts.length>1),R=A?E:M||u,z=D?Object(fP.a)({typeKey:p,filters:b,sort:g,limit:f,customFilter:!0}):"";return y.a.createElement(y.a.Fragment,null,y.a.createElement(kE.a,null,y.a.createElement(GD,{serverEntityID:e,providerEntityID:t,sourceDirectory:r}),i?y.a.createElement(LD,{serverEntityID:e,providerEntityID:t,sourceDirectory:r,directoryKey:s}):null,y.a.createElement(uD.a,null,y.a.createElement(uL,{listType:o,listSubtype:l,listContext:c,selectedListStyle:d,allListStyles:P}))),y.a.createElement(Jm,null,y.a.createElement(zv,null,x?y.a.createElement(Pv,null,y.a.createElement(Mv.a,{className:Jxe.a.resetButton,tooltip:Object(Ce.default)("Clear Filter"),to:Object(fP.a)({typeKey:p,sort:g})},y.a.createElement(wv,null))):null,R?y.a.createElement(cD.a,{id:this._filtersMenuButtonID,hasMenu:A,isMenuOpen:T,onPress:this.onFiltersMenuButtonPress},R):null,A?y.a.createElement(Gxe,{serverEntityID:e,providerEntityID:t,target:this._filtersMenuButtonID,isOpen:T,typeKey:p,activeFilters:m,activeFilterLabel:h,activeSort:g,selectedType:I,showCustomFilter:!!n.features.queryParser,onMenuClose:this.onFiltersMenuClose}):null,L?y.a.createElement(cD.a,{id:this._typesMenuButtonID,hasMenu:v.length>1,isMenuOpen:w,onPress:this.onTypesMenuButtonPress},I.title):null,L?y.a.createElement(lxe,{target:this._typesMenuButtonID,isOpen:w,types:v,activeFilters:m,activeSort:g,activeLimit:f,customFilter:O,selectedType:I,onMenuClose:this.onTypesMenuClose}):null,k?y.a.createElement(cD.a,{id:this._sortsMenuButtonID,hasMenu:!0,isMenuOpen:N,onPress:this.onSortsMenuButtonPress},Object(Ce.default)("By {sortTitle}",{sortTitle:S.title})):null,k?y.a.createElement(Zxe,{target:this._sortsMenuButtonID,isOpen:N,typeKey:p,activeFilters:m,activeFilterLabel:h,activeSort:g,activeLimit:f,customFilter:O,sorts:I.sorts,selectedSort:S,onMenuClose:this.onSortsMenuClose}):null,y.a.createElement(Gb.a,null,C)),y.a.createElement(WA,null,y.a.createElement(tk,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,listType:o,selectedType:I,showAddToSmartPlaylist:!D,customFilterRoute:z}))))}}$xe.defaultProps={showSortsMenu:!0};var eAe=$xe;var tAe=Object(v.b)((function(){return Object(he.a)((e,{listType:t})=>t,(e,{listSubtype:t})=>t,(e,{listContext:t})=>t,(e,{listStyle:t})=>t,(e,{activeFilters:t})=>t,(e,{activeTitle:t})=>t,(e,{pivot:t})=>t,bh.b,JG,Object(jO.a)(),$G(),Object(he.a)((e,{activeFilters:t})=>t,(e,{activeFilterLabel:t})=>t,$G(),(e,t,a)=>{if(M.a.isEmpty(e)||!a)return Object(Ce.default)("All");const n=[],i=e.reduce((e,t)=>((t.type===oD.a?e.boolean:e.other).push(t),e),{boolean:[],other:[]}),r=i.boolean,s=i.other;if(1===r.length){const e=r[0],t=M.a.findWhere(a.filters,{filter:e.key,filterType:oD.a});t&&n.push(t.title)}return 1===s.length&&t&&n.push(t),n.length?n.join(" "):Object(Ce.default)("Filtered")}),dwe(),Rxe(),(e,t,a,n,i,r,s,o,l,c,d,u,p,m)=>{const h=A2(e,t,a,o);return{provider:o,metadataTypes:l,canBuildAdvancedFilter:m.length===i.length,activeAdvancedFilters:m,selectedType:d,selectedSort:p,selectedFilterTitle:u,listTitle:r||s&&s.title,listType:e,listContext:a,listStyle:n,allListStyles:h,totalSize:c.totalSize}})}))(eAe);function aAe(e,t){return e&&e.length&&t>0?M.a.sortBy(function(e,t){const a=[M.a.first(e),M.a.last(e)],n=M.a.sortBy(e,"size").reverse();return M.a.union(a,n).slice(0,t)}(e,t),"position"):[]}var nAe=a("nqj8"),iAe=a.n(nAe);class rAe extends g.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onPress(this.props.scrollIndex)}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){return y.a.createElement(jI.a,{className:iAe.a.character,"data-qa-id":"jumpBarCharacter",onPress:this.onPress},this.props.title)}}var sAe=rAe,oAe=a("m5q2"),lAe=a.n(oAe);const cAe=parseInt(yu.a.jumpBarCharacterHeight,10);var dAe=function(e){const{firstCharacters:t,viewportHeight:a,onJumpBarItemPress:n}=e,i={height:a+"px"},r=aAe(t,Math.floor(a/cAe));return y.a.createElement("div",{className:lAe.a.jumpBar,style:i},r.map((e,t)=>y.a.createElement(sAe,{key:t,...e,onPress:n})))};function uAe(e){let t=0;return e.map((e,a)=>{const n={...e,position:a,scrollIndex:t};return t+=e.size,n})}var pAe=Object(v.b)((function(){return Object(he.a)(vh.b,(e,{activeSort:t})=>t,e=>e.ui.libraryPage.firstCharacters,(e,t,a=[])=>({firstCharacters:uAe(e.version&&!Object(oo.a)(e.version,so.a.firstCharacterKeySortDirection)&&/titleSort:desc/i.test(t)?a.slice().reverse():a)}))}))(dAe);class mAe extends g.Component{constructor(e,t){super(e,t),this.onListScrollIndexChange=e=>{this.setState({scrollIndex:e})},this.onListUpdate=e=>{const{listStyle:{height:t}}=e;this.setState({listHeight:t})},this.onMeasure=({height:e})=>{this.setState({viewportHeight:e})},this.onJumpBarItemPress=e=>{this.setState({scrollIndex:e})};const{listHeight:a,scrollIndex:n,viewportHeight:i}=e;this.state={listHeight:a,scrollIndex:n,viewportHeight:i}}componentDidMount(){const{librarySectionID:e,providerIdentifier:t,onLibraryChange:a}=this.props;a(t,e)}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:a,onLibraryChange:n}=this.props;(a!==e.providerIdentifier||t&&t!==e.librarySectionID)&&n(a,t)}componentWillUnmount(){this.props.onLibraryChange(null,null)}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,metadataItemEntityIDs:n,sourceDirectory:i,pivot:r,containerKey:s,containerDisplayFields:o,directoryKey:l,providerIdentifier:c,providerMetricsIdentifier:d,libraryError:u,isProgramGuide:p,showLibrarySpinner:m,showLibraryNotFound:h,selectedSort:g,listTitle:f,listType:b,listSubtype:v,listContext:I,listStyle:S,firstItemType:E,firstItemSubtype:O,activeSelectionType:M,typeKey:C,activeType:j,activeFilters:D,activeFilterLabel:P,activeSort:T,activeLimit:w,activeTitle:N,customFilter:x,folderKey:A,folderTitle:L,parentFolderKey:k,parentFolderTitle:R,playlistID:z,playlistTitle:U,populatedRange:V,columnAdjustment:B,hasQueryParse:F,isDirectoryList:H,isLibraryRefreshing:_,isPending:W,isPopulated:Q,totalSize:G,firstCharacterCount:K,metricsContext:Y,onPageRequest:q}=this.props,{listHeight:Z,scrollIndex:X,viewportHeight:J}=this.state,$=/titleSort/i.test(g.key),ee=Math.max(Z,1),te=!A&&$&&K>=5&&J/ee<=.25,ae=S===YA,ne=!M&&!!A,ie=!M&&!A,re={serverEntityID:e,providerEntityID:t,pivot:r,sourceDirectory:i,directoryKey:ne?A:l,scrollDirection:iv.b},se={metricsPage:It.rb,metricsProperties:{identifier:d,mode:"list",type:A?lA.f:b,customFilter:x,style:S},allowBackgroundLightPreset:!0,scrollDirection:iv.b},oe=r?zO(It.P,r.context):Y;if(m)return y.a.createElement(RO.a,{metricsContext:oe},y.a.createElement(UO.a,{...se},y.a.createElement(Qx,{...re,showSecondHeader:!0},y.a.createElement(_O.a,null,y.a.createElement(HO.a,null)))));if(h)return y.a.createElement(RO.a,{metricsContext:oe},y.a.createElement(UO.a,{...se},y.a.createElement(Qx,{...re},y.a.createElement(Qwe,null))));if(u){const e=x||D.length>0||!!T||!!w||!!C;return y.a.createElement(RO.a,{metricsContext:oe},y.a.createElement(UO.a,{...se},y.a.createElement(Qx,{...re},y.a.createElement(Ywe,{sourceDirectory:i,hint:l,error:u.status,defaultTitle:Object(Ce.default)("There was an unexpected error loading this library")},e?y.a.createElement(jI.a,{to:Object(fP.a)({}),kind:ao.d},Object(Ce.default)("Retry")):null))))}return y.a.createElement(RO.a,{metricsContext:oe},y.a.createElement(UO.a,{...se},M?y.a.createElement(xk,{serverEntityID:e,providerEntityID:t}):null,ne?y.a.createElement(uxe,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,pivot:r,sourceDirectory:i,directoryKey:l,typeKey:C,listType:b,listSubtype:v,listContext:I,listStyle:S,folderKey:A,folderTitle:L,parentFolderKey:k,parentFolderTitle:R}):null,ie?y.a.createElement(tAe,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,pivot:r,sourceDirectory:i,directoryKey:l,listType:b,listSubtype:v,listContext:I,listStyle:S,typeKey:C,activeType:j,activeTitle:N,activeFilters:D,activeFilterLabel:P,activeSort:T,customFilter:x,playlistTitle:U,showSortsMenu:!ae}):null,y.a.createElement(jh,{serverEntityID:e,providerEntityID:t}),x&&F?y.a.createElement(oxe,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,providerIdentifier:c,typeKey:C,activeSort:T,activeLimit:w,selectedSort:g,playlistID:z}):null,ae?y.a.createElement(Hwe,{providerEntityID:t,metadataListEntityID:a,listType:b,listSubtype:v,listContext:I,typeKey:C,activeFilters:D,activeFilterLabel:P,activeSort:T,customFilter:x,selectedSort:g,isFolder:!!A,isDisabled:!!A}):null,y.a.createElement(Lxe,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,metadataItemEntityIDs:n,sourceDirectory:i,containerKey:s,containerTitle:L,containerDisplayFields:o,providerIdentifier:c,hasGutter:te,scrollIndex:X,listTitle:f,listType:b,listSubtype:v,listContext:ae?I:XO.h,listStyle:S,typeKey:C,firstItemType:E,firstItemSubtype:O,activeFilters:D,activeSort:T,selectedSort:g,pivot:r,populatedRange:V,columnAdjustment:B,shouldResetOnUnmount:!0,totalSize:G,isLibraryRefreshing:_,isPending:W,isPopulated:Q,isFolder:!!A,isDirectoryList:H,onPageRequest:q,onListScrollIndexChange:this.onListScrollIndexChange,onListUpdate:this.onListUpdate,onMeasure:this.onMeasure}),te?y.a.createElement(pAe,{serverEntityID:e,activeSort:T,viewportHeight:J,onJumpBarItemPress:this.onJumpBarItemPress}):null,p?y.a.createElement(BPe,{serverEntityID:e,providerEntityID:t}):null))}}mAe.defaultProps={listContext:XO.e,scrollIndex:0,listHeight:0,viewportHeight:0};var hAe=mAe;class gAe extends g.Component{componentDidMount(){const{isDetailsPopulated:e}=this.props;e&&this._populate()}componentDidUpdate(e){const{isDetailsPopulated:t,firstCharacterKey:a,queryParseKey:n}=this.props;!t||a===e.firstCharacterKey&&n===e.queryParseKey||this._populate()}componentWillUnmount(){this.props.dispatchClearErrors()}_populate(){const{serverEntityID:e,providerEntityID:t,firstCharacterKey:a,queryParseKey:n,customFilter:i,dispatchInitLibraryPageSupportingLists:r,dispatchPopulateLibraryFirstCharacters:s}=this.props;(a||n)&&r({serverEntityID:e,providerEntityID:t,firstCharacterKey:a,queryParseKey:n,customFilter:i}),a&&s()}render(){const{dispatchInitLibraryPageSupportingLists:e,dispatchPopulateLibraryFirstCharacters:t,...a}=this.props;return y.a.createElement(hAe,{...a})}}var yAe=Object(BI.a)((function(){return Object(he.a)((e,{librarySectionID:t})=>t,(e,{folderKey:t})=>t,(e,{listContext:t})=>t,(e,{selectedType:t})=>t,(e,{isMetaPopulated:t})=>t,(e,{isChannelsList:t})=>t,(e,{error:t})=>t,e=>e.ui.libraryPage,Object(xI.a)(),Object(he.a)(cwe("firstCharacter"),(e,{selectedType:t})=>t,(e,{libraryKey:t})=>t,(e,{activeFilters:t})=>t,(e,{activeSort:t})=>t,(e,t,a,n,i)=>{if(!a&&t&&t.sorts){const e=t.sorts.find(({active:e})=>!!e),a={filters:n,sort:i};if(e&&e.firstCharacterKey)return MO([e.firstCharacterKey],a)}if(e)return e}),cwe("query/parse"),JG,dwe(),Object(he.a)((e,{sourceDirectory:t})=>t,(e,{pivot:t})=>t,(e,t)=>t?t.title:e?e.title:null),UG,Hx.a,pwe(),(e,t,a,n={},i,r,s,o,l,c,d,u,p={},m,h,g,y)=>{const{metadataList:f,directoryKey:b,firstCharacters:v,details:I,queryParse:S,isDetailsPopulated:E,detailsError:O}=o,M=function(e,t,a,n,i){if(i)return"channels";if(n.match(/^\/playlists/))return lA.k;if(n.match(/^\/library\/sections\/\w+\/collections$/))return lA.c;if(e&&t){if(a){const[e]=t;if(!e)return;const a=Object(wo.getLeafType)(e.type);return a?Object(wo.getLeafType)(a.id).typeString:lA.g}return Object(wo.containsMetadataType)(e.type)?Object(wo.getMetadataType)(e.type).typeString:e.type}}(n,u,t,b,r),C=function(e){if(e)return e.subtype}(n),j=L2(h,a,M,C,l),D=e||I&&I.librarySectionID,P=qr.l(l.identifier,qr.c);return{librarySectionID:D,firstCharacterKey:c,queryParseKey:d,hasQueryParse:!!S,metadataListEntityID:f,providerIdentifier:l.identifier,providerMetricsIdentifier:l.metricsIdentifier,isProgramGuide:P,isDetailsPopulated:E||i,showLibrarySpinner:!(O||s||E&&i&&f),showLibraryNotFound:!!O&&404===O.status,libraryError:O||s,libraryDirectories:I&&I.directories,listTitle:m,listType:M,listSubtype:C,listContext:a,listStyle:j,selectedType:n,selectedSort:p,activeSelectionType:g.activeSelectionType,isLibraryRefreshing:y,firstCharacterCount:v?v.length:0}})}),(function(e,t){return{onLibraryChange(a,n){let i;t.sourceDirectory&&(i=t.sourceDirectory.id),i||(i=n),e(Object(Tt.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:a,directoryID:i}))},dispatchInitLibraryPageSupportingLists(t){e(QTe(t))},dispatchPopulateLibraryFirstCharacters(){e(qTe())},dispatchClearErrors(){e(_Te())}}}))(gAe);const fAe=vO((function(e){return y.a.createElement(q_.a,{component:yAe,initialSize:50,...e})}),(function(e){const t=e.ui.libraryPage;return{providerEntityID:t.providerEntityID,directoryKey:t.directoryKey,libraryKey:t.libraryKey}}),(function(e,t){const{pivot:a={}}=t;e(HTe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:a.libraryKey,directoryKey:t.directoryKey})),e(WTe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,containerKey:t.containerKey})),a.libraryKey&&e(KTe())}));var bAe=Object(v.b)((function(){return Object(he.a)(e=>e.ui.libraryPage,Object(he.a)((e,{folderKey:t})=>t,(e,{directoryKey:t})=>t,(e,{typeKey:t})=>t,(e,{activeType:t})=>t,(e,{activeFilters:t})=>t,(e,{activeSort:t})=>t,(e,{activeLimit:t})=>t,(e,{sourceDirectory:t})=>t,(e,t,a,n,i,r,s,o)=>{if(e)return e;const l={type:n,filters:i,sort:r,limit:s};return MO(o&&o.type===wo.PHOTO||!a?a||t:a,l)}),Object(xI.a)(),$G(),(e,t,a,n)=>{const{details:i,metadataList:r}=e;return{metadataListEntityID:r,librarySectionID:i&&i.librarySectionID,providerIdentifier:a.identifier,containerKey:t,selectedType:n}})}),(function(e,t){return{onLibraryChange(a,n){let i;i=t.sourceDirectory?t.sourceDirectory.id:n,e(Object(Tt.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:a,directoryID:i}))},dispatchInitLibraryPageMetadataList(t){e(WTe(t))},dispatchPopulateLibraryFirstCharacters(){e(qTe())}}}))(fAe);function vAe(e={}){return e.key===dD.c.SHARED_ITEMS?XO.r:XO.e}var IAe=function(e){const{serverEntityID:t,providerEntityID:a,sourceDirectory:n,directoryKey:i,pivot:r,title:s,activeType:o,activeSubtype:l,activeFilters:c,activeFilterLabel:d,activeSort:u,activeLimit:p,pageType:m,customFilter:h,typeKey:g,folderKey:f,folderTitle:b,parentFolderKey:v,parentFolderTitle:I,playlistID:S,playlistTitle:E,canShowV4DirectoryHubsPage:O}=e;return O?y.a.createElement(wPe,{serverEntityID:t,providerEntityID:a,sourceDirectory:n,hubKey:i}):m===bI.a?y.a.createElement(mTe,{serverEntityID:t,providerEntityID:a,sourceDirectory:n,title:s,hubKey:i}):y.a.createElement(bAe,{serverEntityID:t,providerEntityID:a,sourceDirectory:n,directoryKey:PPe(r,i),libraryKey:r&&r.libraryKey,pivot:r,listContext:vAe(r),activeType:o,activeSubtype:l,activeFilters:c,activeFilterLabel:d,activeSort:u,activeLimit:p,activeTitle:s,customFilter:h,typeKey:g,folderKey:f,folderTitle:b||n&&n.title,parentFolderKey:v,parentFolderTitle:I,playlistID:S,playlistTitle:E})};var SAe=Object(v.b)((function(){return Object(he.a)((e,{sourceDirectory:t})=>t,(e,{directoryKey:t})=>t,(e,{pageType:t})=>t,bh.b,(e,t,a,n)=>({canShowV4DirectoryHubsPage:a===bI.a&&qr.l(n.identifier,qr.i)&&e.hubKey!==t}))}))(IAe);function EAe(e){const{serverEntityID:t,providerEntityID:a,machineIdentifier:n,sourceDirectoryID:i,sourceDirectory:r,pivot:s,directoryKey:o,params:l,shouldSaveParams:c,...d}=e;return!(!i||o)?y.a.createElement(bPe,{serverEntityID:t,providerEntityID:a,sourceDirectoryID:i}):y.a.createElement(jPe,{serverEntityID:t,providerEntityID:a,sourceDirectoryID:i,directoryKey:o,params:l,shouldSaveParams:c},y.a.createElement(SAe,{serverEntityID:t,providerEntityID:a,sourceDirectory:r,pivot:s,directoryKey:o,...d}))}EAe.propTypes={serverEntityID:Qn.a.string.isRequired,providerEntityID:Qn.a.string.isRequired,machineIdentifier:Qn.a.string,sourceDirectoryID:Qn.a.string,sourceDirectory:Qn.a.object,pivot:Qn.a.object,directoryKey:Qn.a.string,params:Qn.a.object.isRequired,shouldSaveParams:Qn.a.bool};var OAe=function(e){const{machineIdentifier:t,serverEntityID:a,providerEntityID:n}=e,i=EAe(e);return t===tC.a?y.a.createElement(eR,{providerEntityID:n},i):y.a.createElement(tR.a,{serverEntityID:a},i)};var MAe=Object(v.b)((function(){return Object(he.a)(NO(),Rx(),(e,t)=>({sourceDirectory:e,pivot:t}))}))(OAe);function CAe(){const e=Object(I.h)(),t=Object(Me.a)(),{machineIdentifier:a,providerIdentifier:n}=Wk(),i=Object(jt.a)(wt.SERVER,a),r=Object(jt.a)(wt.PROVIDER,n,i),s=function(e){return{type:e.type,subtype:e.subtype,filters:e.filters,filterLabel:e.filterLabel,sort:e.sort,limit:e.limit,view:e.view,pageType:e.pageType,customFilter:e.customFilter,typeKey:e.typeKey,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,playlistID:e.playlistID,playlistTitle:e.playlistTitle}}(t),o=function(e){return{activeType:e.type,activeSubtype:e.subtype,activeFilters:Object(Mt.a)(e.filters),activeFilterLabel:e.filterLabel,activeSort:e.sort,activeLimit:Object(eOe.a)(e.limit),customFilter:Object(me.a)(e.customFilter),view:e.view,pageType:e.pageType,typeKey:e.typeKey,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,playlistID:e.playlistID,playlistTitle:e.playlistTitle}}(s);return y.a.createElement(RO.a,{metricsContext:Object(Hre.a)(t.context)},t.key||t.source?y.a.createElement(MAe,{key:Object(VE.a)("SourcePageConnector",e.pathname,e.search),serverEntityID:i,providerEntityID:r,machineIdentifier:a,sourceDirectoryID:t.source,directoryKey:t.key,title:t.title,...o,params:s,shouldSaveParams:Object(jQ.a)(t.save)}):y.a.createElement(QP.a,null))}const jAe=Object(yo.a)("ui/accountSettingsPage/updateUserProfile"),DAe=Object(yo.a)("ui/accountSettingsPage/clearUpdateUserProfileError");function PAe(e){return e.get("ui").get("accountSettingsPage")}const TAe={"ui/accountSettingsPage/updateUserProfile"(e,t){const a=function(e){return e.get("user").get("profile")}(e),n=PAe(e);n.set({isUpdatingUserProfile:!0,updateUserProfileError:null}),a.save(t,{type:"PUT",wait:!0}).done(()=>{a.set(t),n.set({isUpdatingUserProfile:!1,updateUserProfileError:null})}).fail(e=>{n.set({isUpdatingUserProfile:!1,updateUserProfileError:zhe(e)})})},"ui/accountSettingsPage/clearUpdateUserProfileError":e=>{PAe(e).set("updateUserProfileError",null)}},wAe={0:{color:"#ff5533",translateFn:()=>Object(Ce.default)("Too weak")},1:{color:"#ee8833",translateFn:()=>Object(Ce.default)("Very weak")},2:{color:"#eebb00",translateFn:()=>Object(Ce.default)("Somewhat weak")},3:{color:"#bbbb33",translateFn:()=>Object(Ce.default)("Somewhat Strong")},4:{color:"#66bb55",translateFn:()=>Object(Ce.default)("Very Strong")}};const NAe=Ote(Object(O9.a)((function({formGroupClassName:e,formLabelClassName:t,formInputClassName:a,name:n,value:i,labelText:r,showErrors:s,errors:o,zxcvbn:l,...c}){const d=l&&""!==i&&!o.length?wAe[l(i).score]:null,u=M.a.last(o);return y.a.createElement(I9.a,{className:e},y.a.createElement(E9.a,{hasError:s,name:n,className:t},r,d&&!s?y.a.createElement("span",null," ","—"," ",y.a.createElement("span",{style:{color:d.color}},d.translateFn())):null,s?" — "+u:null),y.a.createElement(JJ.a,{className:a,name:n,type:"password",value:i,hasError:s,...c}))})),{zxcvbn:()=>a.e(7).then(a.t.bind(null,"WA7+",7)).then(e=>e.default)});NAe.defaultProps={showErrors:!1};var xAe=NAe,AAe=a("URCS"),LAe=a.n(AAe);function kAe({children:e,className:t=LAe.a.sectionHeader}){return y.a.createElement("div",{className:t},e)}var RAe=Object(he.a)(wr,e=>e.twoFactorAuth);const zAe={secret:{secret:void 0,provisioningUri:void 0,isPending:!1,isPopulated:!1,error:null},toggle:{isPending:!1,isPopulated:!1,error:null},recoveryCodes:{isPending:!1,isPopulated:!1,error:null},codes:[]};var UAe=Object(jr.c)({name:"twoFactorAuth",initialState:zAe,reducers:{reset:()=>zAe,createSecretRequested(e,t){Object(hm.c)(e.secret)},createSecretSucceeded(e,{payload:t}){Object(hm.d)(e.secret),e.secret.provisioningUri=t.provisioningUri,e.secret.secret=t.secret},createSecretFailed(e,{payload:t}){Object(hm.b)(e.secret,t.error)},toggleRequested(e,t){Object(hm.c)(e.toggle)},toggleSucceeded(e,{payload:t}){Object(hm.d)(e.toggle),t.enabled&&(e.codes=t.codes)},toggleFailed(e,{payload:t}){Object(hm.b)(e.toggle,t.error)},generateRecoveryCodesRequested(e,t){Object(hm.c)(e.recoveryCodes)},generateRecoveryCodesSucceeded(e,{payload:t}){Object(hm.d)(e.recoveryCodes),e.codes=t.codes},generateRecoveryCodesFailed(e,{payload:t}){Object(hm.b)(e.recoveryCodes,t.error)}}});function VAe(e){var t;if(null==(t=null==e?void 0:e.data)?void 0:t.errors){const t=zhe(e.data.errors[0]);if(t)return t}return Object(Ce.default)("Something went wrong. Please try again in a few minutes.")}var BAe=a("tCBj"),FAe=a.n(BAe);function HAe({isOpen:e,onModalClose:t}){var a;const n=Object(v.c)(),i=Object(v.d)(RAe),r=Object(v.d)(Ke).twoFactorEnabled,s=i.toggle.error,o=Object(g.useCallback)(()=>{n(UAe.actions.reset()),t()},[n,t]);Object(g.useEffect)(()=>{r||o()},[r,o]);const{register:l,handleSubmit:c,errors:d}=Object(fl.b)(),u="required"===(null==(a=d.verificationCode)?void 0:a.type),p=Object(g.useCallback)(({verificationCode:e})=>{n(UAe.actions.toggleRequested({enabled:!1,verificationCode:e}))},[n]);return y.a.createElement(Wl,{isOpen:e,onModalClose:o},y.a.createElement(Yl,{onModalClose:o},y.a.createElement(nc,null,Object(Ce.default)("Disable two-factor authentication")),s?y.a.createElement(Xl,{message:VAe(s)}):null,y.a.createElement("form",{className:FAe.a.modalContent,onSubmit:c(p)},y.a.createElement(od,{innerClassName:FAe.a.innerModalBody},y.a.createElement("div",{className:FAe.a.inputGroup},y.a.createElement(Ef,{name:"verificationCode",hasError:u},Object(Ce.default)("Verification code")),y.a.createElement(Ml,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasFocusOnMount:!0,hasError:u,ref:l({required:!0})}))),y.a.createElement(ec,null,y.a.createElement(dd,null,y.a.createElement(ba,{onPress:o},Object(Ce.default)("Cancel")),y.a.createElement(Il,{isSpinning:i.toggle.isPending,type:"submit",kind:da.Primary},Object(Ce.default)("Disable")))))))}HAe.propTypes={isOpen:Qn.a.bool.isRequired,onModalClose:Qn.a.func.isRequired};var _Ae=a("ABYF"),WAe=a("OiDK"),QAe=a.n(WAe);function GAe({showEnabledMessage:e,codes:t,onAcknowledgeCodes:a}){const n=Object(g.useCallback)(()=>{_Ae.writeText(t.join("\n"))},[t]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(od,{innerClassName:QAe.a.innerModalBody},e?y.a.createElement("span",{className:Pe()(QAe.a.info,QAe.a.strong)},Object(Ce.default)("Two-factor authentication is enabled!")):null,y.a.createElement("span",{className:QAe.a.info},Object(Ce.default)("Use recovery codes when you are unable to generate a verification code via your authenticator app. Store these recovery codes safely.")),y.a.createElement("div",{className:QAe.a.codes},t.map(e=>y.a.createElement("div",{key:e,className:QAe.a.code},e))),y.a.createElement(ba,{onPress:n},Object(Ce.default)("Copy to clipboard"))),y.a.createElement(ec,null,y.a.createElement(dd,null,y.a.createElement(ba,{kind:da.Primary,onPress:a},Object(Ce.default)("Done")))))}var KAe=a("RDBK"),YAe=a.n(KAe);function qAe({onConfirmed:e,onClose:t}){var a;const n=Object(v.c)(),i=Object(v.d)(RAe),r=i.secret.isPopulated,s=i.secret.error,{register:o,handleSubmit:l,errors:c}=Object(fl.b)(),d="required"===(null==(a=c.currentPassword)?void 0:a.type);Object(g.useEffect)(()=>{r&&e()},[r,e]);const u=Object(g.useCallback)(({currentPassword:e})=>{n(UAe.actions.createSecretRequested({password:e}))},[n]);return y.a.createElement(y.a.Fragment,null,s?y.a.createElement(Xl,{message:VAe(s)}):null,y.a.createElement("form",{className:YAe.a.modalContent,onSubmit:l(u)},y.a.createElement(od,{innerClassName:YAe.a.innerModalBody},y.a.createElement("div",{className:YAe.a.inputGroup},y.a.createElement(Ef,{name:"currentPassword",hasError:d},Object(Ce.default)("Password")),y.a.createElement(Ml,{type:"password",name:"currentPassword",defaultValue:"",hasFocusOnMount:!0,hasError:d,ref:o({required:!0})}))),y.a.createElement(ec,null,y.a.createElement(dd,null,y.a.createElement(ba,{onPress:t},Object(Ce.default)("Cancel")),y.a.createElement(Il,{isSpinning:i.secret.isPending,type:"submit",kind:da.Primary},Object(Ce.default)("Continue"))))))}const ZAe=y.a.lazy(()=>a.e(6).then(a.t.bind(null,"D1Df",7)));function XAe({onConfirmed:e,onClose:t}){var a;const n=Object(v.c)(),i=Object(v.d)(RAe),r=i.secret.provisioningUri,s=i.secret.secret,o=i.toggle.isPopulated,l=i.toggle.error;Object(g.useEffect)(()=>{o&&e()},[o,e]);const{register:c,handleSubmit:d,errors:u}=Object(fl.b)(),p="required"===(null==(a=u.verificationCode)?void 0:a.type),m=Object(g.useCallback)(({verificationCode:e})=>{n(UAe.actions.toggleRequested({enabled:!0,verificationCode:e}))},[n]);return y.a.createElement(y.a.Fragment,null,l?y.a.createElement(Xl,{message:VAe(l)}):null,y.a.createElement("form",{className:YAe.a.modalContent,onSubmit:d(m)},y.a.createElement(od,null,y.a.createElement("div",{className:YAe.a.secretContent},y.a.createElement("div",{className:YAe.a.qrCodeContent},y.a.createElement(g.Suspense,{fallback:y.a.createElement("div",{className:YAe.a.qrCodePlaceholder})},r?y.a.createElement(ZAe,{value:r,size:200,includeMargin:!0}):null),s?y.a.createElement("div",{className:YAe.a.textCode},y.a.createElement(Ef,null,Object(Ce.default)("Text code")),y.a.createElement("div",null,s)):null),y.a.createElement("div",{className:YAe.a.verificationCodeContent},y.a.createElement("div",null,Object(Ce.default)("Scan the image with the two-factor authentication app on your phone and enter the verification code. If you can't use a barcode use the text code instead.")),y.a.createElement("div",{className:YAe.a.verificationCodeInput},y.a.createElement(Ef,{name:"verificationCode",hasError:p},Object(Ce.default)("Verification code")),y.a.createElement(Ml,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasFocusOnMount:!0,hasError:p,ref:c({required:!0})}))))),y.a.createElement(ec,null,y.a.createElement(dd,null,y.a.createElement(ba,{onPress:t},Object(Ce.default)("Cancel")),y.a.createElement(Il,{isSpinning:i.toggle.isPending,type:"submit",kind:da.Primary},Object(Ce.default)("Continue"))))))}var JAe,$Ae;function eLe({isOpen:e,onEnableTwoFactorAuthComplete:t,onModalClose:a}){const[n,i]=Object(g.useState)(JAe.Password),r=Object(v.c)(),s=Object(v.d)(RAe);Object(g.useEffect)(()=>{i(JAe.Password)},[e]);const o=Object(g.useCallback)(()=>{r(UAe.actions.reset()),a()},[r,a]),l=Object(g.useCallback)(()=>{i(JAe.Secret)},[i]),c=Object(g.useCallback)(()=>{i(JAe.Codes)},[i]),d=Object(g.useCallback)(()=>{t(),o()},[o,t]);return y.a.createElement(Wl,{isOpen:e,onModalClose:o},y.a.createElement(Yl,{onModalClose:o},y.a.createElement(nc,null,Object(Ce.default)("Enable two-factor authentication")),n===JAe.Password?y.a.createElement(qAe,{onClose:o,onConfirmed:l}):null,n===JAe.Secret?y.a.createElement(XAe,{onClose:o,onConfirmed:c}):null,n===JAe.Codes?y.a.createElement(GAe,{showEnabledMessage:!0,codes:s.codes,onAcknowledgeCodes:d}):null))}($Ae=JAe||(JAe={})).Password="Password",$Ae.Secret="Secret",$Ae.Codes="codes";var tLe=a("w1d1"),aLe=a.n(tLe);function nLe({isOpen:e,onModalClose:t}){var a,n;const i=Object(v.c)(),r=Object(v.d)(RAe),s=r.recoveryCodes.error,o=Object(g.useCallback)(()=>{i(UAe.actions.reset()),t()},[i,t]),{register:l,handleSubmit:c,errors:d}=Object(fl.b)(),u="required"===(null==(a=d.currentPassword)?void 0:a.type),p="required"===(null==(n=d.verificationCode)?void 0:n.type),m=Object(g.useCallback)(({currentPassword:e,verificationCode:t})=>{i(UAe.actions.generateRecoveryCodesRequested({password:e,verificationCode:t}))},[i]);return y.a.createElement(Wl,{isOpen:e,onModalClose:o},y.a.createElement(Yl,{onModalClose:o},y.a.createElement(nc,null,Object(Ce.default)("Generate new recovery codes")),s?y.a.createElement(Xl,{message:VAe(s)}):null,r.recoveryCodes.isPopulated?y.a.createElement(GAe,{codes:r.codes,onAcknowledgeCodes:o}):y.a.createElement("form",{className:aLe.a.modalContent,onSubmit:c(m)},y.a.createElement(od,{innerClassName:aLe.a.innerModalBody},y.a.createElement("div",{className:aLe.a.inputGroup},y.a.createElement(Ef,{name:"currentPassword",hasError:u},Object(Ce.default)("Password")),y.a.createElement(Ml,{type:"password",name:"currentPassword",defaultValue:"",hasFocusOnMount:!0,hasError:u,ref:l({required:!0})})),y.a.createElement("div",{className:aLe.a.inputGroup},y.a.createElement(Ef,{name:"verificationCode",hasError:p},Object(Ce.default)("Verification code")),y.a.createElement(Ml,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasError:p,ref:l({required:!0})}))),y.a.createElement(ec,null,y.a.createElement(dd,null,y.a.createElement(ba,{onPress:o},Object(Ce.default)("Cancel")),y.a.createElement(Il,{isSpinning:r.recoveryCodes.isPending,type:"submit",kind:da.Primary},Object(Ce.default)("Generate codes")))))))}var iLe=a("oucR"),rLe=a.n(iLe);function sLe({onEnableTwoFactorAuthComplete:e}){const t=Object(v.d)(Ke),a=ul(),n=ul(),i=ul();return y.a.createElement(y.a.Fragment,null,y.a.createElement(eLe,{isOpen:a.isOpen,onEnableTwoFactorAuthComplete:e,onModalClose:a.onClose}),y.a.createElement(HAe,{isOpen:n.isOpen,onModalClose:n.onClose}),y.a.createElement(nLe,{isOpen:i.isOpen,onModalClose:i.onClose}),y.a.createElement(kAe,null,Object(Ce.default)("Two-factor authentication")),t.twoFactorEnabled?y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:rLe.a.sectionWrapper},y.a.createElement("div",{className:rLe.a.description},Object(Ce.default)("To disable two-factor authentication you will need your authenticator app or recovery codes.")),y.a.createElement("div",{className:rLe.a.action},y.a.createElement(ba,{kind:da.Primary,size:_e.Medium,onPress:n.onOpen},Object(Ce.default)("Disable")))),y.a.createElement("div",{className:rLe.a.sectionWrapper},y.a.createElement("div",{className:rLe.a.description},Object(Ce.default)("Recovery codes are used in place of generated two-factor authentication codes. Treat them as carefully as you treat your password.")),y.a.createElement("div",{className:rLe.a.action},y.a.createElement(ba,{kind:da.Primary,size:_e.Medium,onPress:i.onOpen},Object(Ce.default)("Generate new recovery codes"))))):y.a.createElement("div",{className:rLe.a.sectionWrapper},y.a.createElement("div",{className:rLe.a.description},Object(Ce.default)("Use an authenticator application on your phone to get two-factor authentication codes when prompted.")),y.a.createElement("div",{className:rLe.a.action},y.a.createElement(ba,{kind:da.Primary,size:_e.Medium,onPress:a.onOpen},Object(Ce.default)("Enable")))))}var oLe=a.p+"desktop/common/img/pp-ticket.a20f24dabb7938a8b8791b62f2f6dc9b.svg",lLe=a("eO7X"),cLe=a.n(lLe);const dLe={path:"/subscription",title:()=>Object(Ce.default)("Subscriptions")},uLe={path:"/users/payments",title:()=>Object(Ce.default)("Payments")},pLe={path:up.e,title:()=>Object(Ce.default)("Other Services")};class mLe extends g.Component{constructor(e,t){super(e,t),this.onPlexPassPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{user:e}=this.props,{isPlexPassModalOpen:t}=this.state,a=uge()?"_blank":"_self",n=function(e){return e.isEmployee?y.a.createElement("span",{className:cLe.a.textBadge},"Employee"):e.isNinja&&!e.isEmployee?y.a.createElement("span",{className:cLe.a.textBadge},"Ninja"):null}(e);return e.hasPlexSubscription||e.canGoPremium||!e.restricted?y.a.createElement(K9,null,y.a.createElement("div",{className:cLe.a.container},y.a.createElement("div",null,e.hasPlexSubscription?y.a.createElement("div",null,y.a.createElement("div",{className:cLe.a.badgeContainer},e.hasPlexPass?y.a.createElement("img",{className:cLe.a.plexPassBadge,src:oLe}):null,n),y.a.createElement("div",null,e.subscriptionDescription)):null,e.canGoPremium?y.a.createElement("div",null,n?y.a.createElement("div",{className:cLe.a.badgeContainer},n):null,y.a.createElement(Ih.a,{kind:ao.d,onPress:this.onPlexPassPress},Object(Ce.default)("Go Premium")),y.a.createElement(Jc.a,{origin:Cre.a,metricsProperties:{context:It.a},isOpen:t,onModalClose:this.onPlexPassModalClose})):null),e.restricted?null:y.a.createElement("div",{className:cLe.a.actionLinksContainer},y.a.createElement(X9,{className:cLe.a.actionLinks},(i=e.hasPlexSubscription,i?[dLe,uLe,pLe]:[uLe,pLe]).map(({path:e,title:t},n)=>y.a.createElement(g.Fragment,{key:n},y.a.createElement(Hi.b,{className:cLe.a.linkSeparator,separator:"·"}),y.a.createElement(jI.a,{kind:ao.d,to:j.default.join(["https://plex.tv",e]),target:a},t()))))))):null;var i}}var hLe=mLe;function gLe(e,t){const a=e.find(e=>e.hasOwnProperty(t));return a?a[t]:""}var yLe=function(e){const{userProfile:t,languageOptions:a,autoSelectSubtitleOptions:n,subtitleAccessibilityOptions:i,subtitleForcedOptions:r}=e,{autoSelectAudio:s,defaultAudioLanguage:o,defaultSubtitleLanguage:l,autoSelectSubtitle:c,defaultSubtitleAccessibility:d,defaultSubtitleForced:u}=t,p=[],m=gLe(a,o);""!==o&&m&&p.push(Object(Ce.default)("{audioLanguage} audio",{audioLanguage:m}));const h=gLe(a,l);let g="";""!==l&&h&&(g=Object(Ce.default)("{subtitleLanguage} subtitles",{subtitleLanguage:h}));const f=gLe(n,c).toLowerCase();let b;g&&f?b=g+" "+f:!g&&f?b=Object(Ce.default)("Subtitles")+" "+f:g&&!f&&(b=g),b&&p.push(b);const v=s?p.join(", "):Object(Ce.default)("Manually Select"),I=[gLe(i,d),gLe(r,u)].join(", ");return y.a.createElement("div",null,v?y.a.createElement("div",null,Object(Ce.default)("Track selection")," ",y.a.createElement(Hi.b,null)," ",v):null,y.a.createElement("div",null,Object(Ce.default)("Searches")," ",y.a.createElement(Hi.b,null)," ",I))},fLe=a("+tcT"),bLe=a.n(fLe);class vLe extends g.Component{constructor(e,t){super(e,t),this.onSubmit=e=>{e.autoSelectSubtitle&&(e.autoSelectSubtitle=parseInt(e.autoSelectSubtitle,10)),e.defaultSubtitleAccessibility&&(e.defaultSubtitleAccessibility=parseInt(e.defaultSubtitleAccessibility,10)),e.defaultSubtitleForced&&(e.defaultSubtitleForced=parseInt(e.defaultSubtitleForced,10)),e.autoSelectAudio||(e.autoSelectSubtitle=0),this.props.onSubmit(e)},this.onFormChange=({autoSelectAudio:e})=>{e.value!==this.state.isAutoSelectAudio&&this.setState({isAutoSelectAudio:e.value})},this.state={isAutoSelectAudio:e.userProfile.autoSelectAudio},this._autoSelectSubtitleOptions=[{0:Object(Ce.default)("Manually selected")},{1:Object(Ce.default)("Shown with foreign audio")},{2:Object(Ce.default)("Always enabled")}],this._subtitleAccessibilityOptions=[{0:Object(Ce.default)("Prefer non-SDH subtitles")},{1:Object(Ce.default)("Prefer SDH subtitles")},{2:Object(Ce.default)("Only show SDH subtitles")},{3:Object(Ce.default)("Only show non-SDH subtitles")}],this._subtitleForcedOptions=[{0:Object(Ce.default)("Prefer non-forced subtitles")},{1:Object(Ce.default)("Prefer forced subtitles")},{2:Object(Ce.default)("Only show forced subtitles")},{3:Object(Ce.default)("Only show non-forced subtitles")}],this._languageOptions=[{"":Object(Ce.default)("Select Language")},...$J.d.filter(e=>2===e.length&&-1===$J.a.indexOf(e)).map(e=>({[e]:$J.b[e]}))]}componentWillReceiveProps(e){e.isOpen!==this.props.isOpen&&this.setState({isAutoSelectAudio:e.userProfile.autoSelectAudio})}render(){const{userProfile:e,...t}=this.props,{isAutoSelectAudio:a}=this.state;return y.a.createElement(l7,{...t,title:Object(Ce.default)("Audio & Subtitle Settings"),closedNode:y.a.createElement(yLe,{userProfile:e,languageOptions:this._languageOptions,autoSelectSubtitleOptions:this._autoSelectSubtitleOptions,subtitleAccessibilityOptions:this._subtitleAccessibilityOptions,subtitleForcedOptions:this._subtitleForcedOptions}),onFormChange:this.onFormChange,onSubmit:this.onSubmit},y.a.createElement(E9.a,null,Object(Ce.default)("Audio & Subtitle Settings")),y.a.createElement("p",{className:bLe.a.description},Object(Ce.default)("These settings determine how Plex will try to select audio and subtitle tracks when playing media in a Plex app while using your account.")),y.a.createElement("p",null,y.a.createElement(jI.a,{kind:ao.d,to:up.a,target:"_blank"},Object(Ce.default)("Learn more"))),y.a.createElement(m9.a,{name:"autoSelectAudio",checkboxText:Object(Ce.default)("Automatically select audio and subtitle tracks"),initialValue:e.autoSelectAudio}),a?y.a.createElement(h9.a,{labelText:Object(Ce.default)("Preferred audio language"),name:"defaultAudioLanguage",initialValue:e.defaultAudioLanguage,values:this._languageOptions}):null,a?y.a.createElement(h9.a,{labelText:Object(Ce.default)("Preferred subtitle language"),name:"defaultSubtitleLanguage",initialValue:e.defaultSubtitleLanguage,values:this._languageOptions}):null,a?y.a.createElement(h9.a,{labelText:Object(Ce.default)("Auto-select subtitle mode"),name:"autoSelectSubtitle",initialValue:e.autoSelectSubtitle,values:this._autoSelectSubtitleOptions}):null,y.a.createElement(h9.a,{labelText:Object(Ce.default)("Subtitles for the Deaf or Hard-of-Hearing (SDH) Searches"),name:"defaultSubtitleAccessibility",initialValue:e.defaultSubtitleAccessibility,values:this._subtitleAccessibilityOptions}),y.a.createElement(h9.a,{labelText:Object(Ce.default)("Forced Subtitle Searches"),name:"defaultSubtitleForced",initialValue:e.defaultSubtitleForced,values:this._subtitleForcedOptions}))}}var ILe=vLe;const SLe=Object(he.a)(Object(kt.a)("profile"),e=>({userProfile:e})),ELe={onSubmit:jAe};var OLe=Object(v.b)(SLe,ELe)(ILe),MLe=a("RryH");const CLe=Object(yo.a)("oauth/fetchOauthProviders"),jLe=Object(yo.a)("oauth/unlinkOauthProvider"),DLe={"oauth/fetchOauthProviders":Object(WI.a)({key:"oauthProviders",getModel:e=>e.get("cloudServer").get("desktop")}),"oauth/unlinkOauthProvider"(e,t,a){const n=e.get("cloudServer"),i=n.get("desktop").get("oauthProviders").findWhere(t);i.set("isUnlinking",!0);const r=n.populate().then(()=>h.a.ajax(n.getXHROptions(t.url,{type:"DELETE"})));Object(MLe.a)(r,1e3).done(()=>{i.set("unlinkError",null)}).fail(e=>{i.set("unlinkError",e)}).always(()=>{a(Object(HI.b)()),a(CLe()),i.set("isUnlinking",!1)})}};var PLe=function(e){return Object(he.a)(Gk,t=>{if(!t)return{};const a=t.desktop;return{oauthProviders:a.oauthProviders.filter(t=>t.usage&&t.usage[e]),isOauthProvidersPending:a.isOauthProvidersPending,isOauthProvidersPopulated:a.isOauthProvidersPopulated,oauthProvidersError:a.oauthProvidersError}})}("federatedAuth");var TLe=function(e,t){const a=zge(window.location.href,t);return j.default.join([e],{origin:a})},wLe=a("3GoL"),NLe=a.n(wLe);const xLe={apple:NLe.a.buttonApple,facebook:NLe.a.buttonFacebook,google:NLe.a.buttonGoogle};class ALe extends g.Component{constructor(e,t){super(e,t),this.onUnlinkPress=e=>{!this.props.hasPassword&&this.props.isLastLinkedAccount?this.setState({isUnlinkOauthProviderModalOpen:!0}):this.props.onCreatePassword(e)},this.onUnlinkCancel=()=>{this.setState({isUnlinkOauthProviderModalOpen:!1})},this.state={isUnlinkOauthProviderModalOpen:!1}}componentWillReceiveProps(e){this.props.isUnlinking&&!e.isUnlinking&&this.setState({isUnlinkOauthProviderModalOpen:!1})}render(){const{to:e,isPollClient:t,isBusy:a,code:n,providerID:i,metricsProperties:r,isDisabled:s,isLastLinkedAccount:o,hasPassword:l,label:c,linked:d,onUnlink:u,onLink:p,onCreatePassword:m,onStillTherePress:h}=this.props,{isUnlinkOauthProviderModalOpen:g}=this.state,f=d,b=!d&&!s,v=!(b||a||n||f),I=f||b||v,S=!l&&o,E=S?this.onUnlinkPress:u;return y.a.createElement("div",{className:d?NLe.a.rowLinked:NLe.a.rowUnlinked},y.a.createElement(Ih.a,{className:xLe[i],isDisabled:s,to:b?e:void 0,target:b&&t?"_blank":void 0,onPress:b?p:E}),d?Object(Ce.default)("Your {oauthProvider} account is linked",{oauthProvider:c}):Object(Ce.default)("Your {oauthProvider} account is not linked",{oauthProvider:c}),I?y.a.createElement("span",{className:NLe.a.separator},"—"):null,f?y.a.createElement(jI.a,{kind:ao.d,isDisabled:s,onPress:E},Object(Ce.default)("Unlink")):null,S?y.a.createElement(Xc.a,{isConfirmButtonSpinning:s,isCancelButtonDisabled:s,isOpen:g,metricsPage:It.B,metricsProperties:r,title:Object(Ce.default)("Unlink {oauthProvider}",{oauthProvider:c}),message:Object(Ce.default)("To unlink, first set a password to use when signing in"),confirmLabel:Object(Ce.default)("Set Password"),kind:ao.a,onConfirm:m,onCancel:this.onUnlinkCancel}):null,b?y.a.createElement(jI.a,{kind:ao.d,to:e,target:t?"_blank":void 0,onPress:p},Object(Ce.default)("Link")):null,v?y.a.createElement(LT.a,{message:Object(Ce.default)("Account linking timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:jI.a,kind:ao.d,onPress:h}]}):null)}}var LLe=ALe;const kLe={dispatchUnlinkOauthProvider:jLe,dispatchPreloadPIN:Oge};class RLe extends g.Component{constructor(){super(...arguments),this.onUnlink=()=>{this.props.dispatchUnlinkOauthProvider({url:this.props.originalUrl})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()}}render(){const{dispatchUnlinkOauthProvider:e,...t}=this.props;return y.a.createElement(Bge,{component:LLe,...t,onUnlink:this.onUnlink,onStillTherePress:this.onStillTherePress})}}var zLe=Object(v.b)((function(){const e=Object(he.a)((e,{url:t})=>t,PLe,(e,t)=>t.oauthProviders.find(t=>t.url===e));return Object(he.a)((e,{url:t})=>({url:t}),(e,{returnUrl:t})=>t,Object(kt.a)("email"),Object(kt.a)("authToken"),e,Ahe,(e,t,a,n,i,r)=>{const{authToken:s,...o}=r,l=!i.linked&&(i.isUnlinking||pge()&&!r.code||r.isBusy);return{...i,isPollClient:pge(),userAuthToken:n,email:a,providerID:i.authName,originalUrl:i.url,url:TLe(i.url,t),metricsProperties:e,isDisabled:l,...o}})}),kLe)(RLe);const ULe={dispatchFetchOauthProviders:CLe,dispatchPreloadPIN:Oge,dispatchStopPolling:jge};class VLe extends g.Component{componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchFetchOauthProviders()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){return null}}VLe.propTypes={isBusy:Qn.a.bool.isRequired,code:Qn.a.string,pinID:Qn.a.number,authToken:Qn.a.string,dispatchFetchOauthProviders:Qn.a.func.isRequired,dispatchPreloadPIN:Qn.a.func.isRequired,dispatchStopPolling:Qn.a.func.isRequired};var BLe=Object(v.b)(Ahe,ULe)(VLe),FLe=a("EWqP"),HLe=a.n(FLe);var _Le=function(e){const{isPollClient:t,returnUrl:a,hasPassword:n,linkedOauthProviders:i,isOauthProvidersPending:r,isOauthProvidersPopulated:s,oauthProvidersError:o,lastLinkedAuthProviderID:l,onCreatePassword:c,onLink:d,...u}=e;let p;return p=r?y.a.createElement("span",{className:HLe.a.dim},Object(Ce.default)("Loading…")):o?y.a.createElement("span",{className:HLe.a.dim},Object(Ce.default)("Error")):i||y.a.createElement("span",{className:HLe.a.dim},Object(Ce.default)("None")),y.a.createElement(l7,{...u,closedNode:p,showButton:!1},y.a.createElement(E9.a,null,Object(Ce.default)("Linked Accounts")),y.a.createElement("div",{className:HLe.a.description},Object(Ce.default)("You can link your Google, Facebook, or Apple account to simplify signing in to Plex."),t?y.a.createElement(BLe,null):null),s&&e.oauthProviders?e.oauthProviders.map(e=>y.a.createElement(zLe,{key:e.url,isUnlinking:r,hasPassword:n,isLastLinkedAccount:l===e.authName,providerID:e.providerID,url:e.url,returnUrl:a,onCreatePassword:c,onLink:d})):null)};const WLe=Object(he.a)(PLe,Ahe,(e,t)=>{const a=e.oauthProviders.filter(e=>e.linked),n=1===a.length?a[0].authName:null;return{linkedOauthProviders:a.map(e=>e.label).join(", "),lastLinkedAuthProviderID:n,returnUrl:window.location.href,isPollClient:pge(),...e,...t}}),QLe={dispatchFetchOauthProviders:CLe,dispatchBeginPolling:Cge};class GLe extends g.Component{constructor(){super(...arguments),this.onLink=()=>{this.props.isPollClient&&this.props.dispatchBeginPolling({pinID:this.props.pinID})}}componentDidMount(){this.props.dispatchFetchOauthProviders()}render(){const{dispatchFetchOauthProviders:e,...t}=this.props;return y.a.createElement(_Le,{onLink:this.onLink,...t})}}var KLe=Object(v.b)(WLe,QLe)(GLe),YLe=a("qGiH"),qLe=a.n(YLe);class ZLe extends g.Component{constructor(e,t){super(e,t),this.createToggleHandler=e=>t=>{null==t||t.preventDefault();const a=this.state[e];this.props.updateUserError&&this.props.onErrorDismiss(),this.setState(M.a.mapObject(this.state,(t,n)=>n===e&&!a))},this.getUserFormSectionProps=(e,t)=>{const a=this.state[t];return{title:e,onTogglePress:this.createToggleHandler(t),isOpen:a,onSubmit:this.props.onSubmit,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError}},this.onCreatePassword=e=>{this.createToggleHandler("isPasswordOpen")(e)},this.onEnableTwoFactorAuthComplete=e=>{this.createToggleHandler("isTwoFactorAuthenticationOpen")(e)},this.onToggleAudioSubtitlesFormSection=e=>{this.createToggleHandler("isSelectAudioOpen")(e)},this.onAccountEmailSubmit=e=>{const t=this.props.user;t.username===t.email?this.props.onSubmit({...e,username:e.email}):this.props.onSubmit(e)},this.state={isUsernameOpen:!1,isEmailOpen:!1,isPasswordOpen:!1,isTwoFactorAuthenticationOpen:!1,isLinkedAccountsOpen:!1,isLocaleOpen:!1,isPhotoOpen:!1,isNewsletterOpen:!1,isExperimentalFeaturesOpen:!1,isSelectAudioOpen:!1}}componentWillReceiveProps(e){const t=this.props.isUpdatingUser&&!e.isUpdatingUser&&!e.updateUserError,a=this.state.isTwoFactorAuthenticationOpen&&this.props.user.twoFactorEnabled&&!e.user.twoFactorEnabled;(t||a)&&this.setState(M.a.mapObject(this.state,()=>!1))}render(){const{serverEntityID:e,user:t,userSettingErrors:a,hasTwoFactorAuthFeature:n}=this.props,i=Object(Ce.default)("System Default"),r=t.anonymous,s=!t.restricted,o=t.username===t.email,l=n&&s&&!r,c=$J.d.map(e=>({[e]:$J.b[e]}));return y.a.createElement(l9,{metricsPage:It.a,metricsPane:"account"},y.a.createElement(p9,null,Object(Ce.default)("Account")),r?null:y.a.createElement(hLe,{user:t}),r?null:y.a.createElement(l7,{...this.getUserFormSectionProps(Object(Ce.default)("Photo"),"isPhotoOpen"),closedNode:y.a.createElement(Q0.a,{serverEntityID:e,url:this.props.user.thumb,width:80,height:80})},y.a.createElement(E9.a,null,Object(Ce.default)("Photo")),y.a.createElement(DSe,{serverEntityID:e,name:"avatar",width:180,height:180,initialValue:this.props.user.thumb,url:this.props.user.thumb})),y.a.createElement(l7,{...this.getUserFormSectionProps(Object(Ce.default)("Language"),"isLocaleOpen"),closedNode:$J.b[t.locale]||i},y.a.createElement(h9.a,{labelText:Object(Ce.default)("Language"),helpText:Object(Ce.default)("This sets the default language for Plex applications that do not provide their own language setting."),name:"locale",initialValue:t.locale,values:[{"":i},...c]})),y.a.createElement(OLe,{isOpen:this.state.isSelectAudioOpen,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError,onTogglePress:this.onToggleAudioSubtitlesFormSection}),s&&!r?y.a.createElement(l7,{...this.getUserFormSectionProps(Object(Ce.default)("Username"),"isUsernameOpen"),closedNode:o?Object(Ce.default)("Not set"):t.username},y.a.createElement(fL.b,{labelText:Object(Ce.default)("Username"),helpText:Object(Ce.default)("Your username will be visible to friends with whom you have shared your server."),name:"username",initialValue:o?"":t.username,errors:a.username,validations:[cSe]}),y.a.createElement(m9.a,{name:"emailOnlyAuth",checkboxText:Object(Ce.default)("Allow username to be used when signing in"),helpText:Object(Ce.default)("Your email address will be required to sign in when username sign-in is not allowed."),initialValue:t.emailOnlyAuth,checkedValue:!1,uncheckedValue:!0})):null,s&&!r?y.a.createElement(l7,{...this.getUserFormSectionProps(Object(Ce.default)("Email Address"),"isEmailOpen"),closedNode:t.email,onSubmit:this.onAccountEmailSubmit},y.a.createElement(fL.b,{labelText:Object(Ce.default)("Email Address"),name:"email",initialValue:t.email,errors:a.email,validations:[dSe]}),y.a.createElement(fL.b,{labelText:Object(Ce.default)("Password"),type:"password",name:"currentPassword",initialValue:"",validations:[uSe]}),t.twoFactorEnabled?y.a.createElement(fL.b,{labelText:Object(Ce.default)("Verification code"),name:"verificationCode",autoComplete:"off",initialValue:"",validations:[ySe]}):null):null,s&&!r?y.a.createElement(l7,{...this.getUserFormSectionProps(Object(Ce.default)("Password"),"isPasswordOpen"),closedNode:t.hasPassword?"**********":Object(Ce.default)("Not set")},y.a.createElement(xAe,{labelText:t.hasPassword?Object(Ce.default)("New Password"):Object(Ce.default)("Choose Password"),name:"password",initialValue:"",errors:a.password,validations:[uSe,hSe]}),y.a.createElement(fL.b,{labelText:t.hasPassword?Object(Ce.default)("Confirm New Password"):Object(Ce.default)("Confirm Password"),type:"password",name:"passwordConfirmation",initialValue:"",validations:[pSe,gSe]}),t.hasPassword?y.a.createElement(fL.b,{labelText:Object(Ce.default)("Current Password"),type:"password",name:"currentPassword",initialValue:"",validations:[mSe]}):null,t.hasPassword&&t.twoFactorEnabled?y.a.createElement(fL.b,{labelText:Object(Ce.default)("Verification code"),name:"verificationCode",autoComplete:"off",initialValue:"",validations:[ySe]}):null,t.hasPassword?y.a.createElement(m9.a,{checkboxText:Object(Ce.default)("Sign out connected devices after password change"),name:"resetDevices",initialValue:!1}):null):null,l&&t.hasPassword?y.a.createElement(l7,{showButton:!1,...this.getUserFormSectionProps(Object(Ce.default)("Two-factor authentication"),"isTwoFactorAuthenticationOpen"),closedNode:t.twoFactorEnabled?Object(Ce.default)("Active"):Object(Ce.default)("Inactive")},y.a.createElement(sLe,{onEnableTwoFactorAuthComplete:this.onEnableTwoFactorAuthComplete})):null,l&&!t.hasPassword?y.a.createElement(K9,null,y.a.createElement(E9.a,null,Object(Ce.default)("Two-factor authentication")),y.a.createElement(i7,{className:qLe.a.sectionDetails},Object(Ce.default)("Inactive"),y.a.createElement(Hi.b,null),y.a.createElement(jI.a,{kind:da.Primary,onPress:this.onCreatePassword},Object(Ce.default)("To use two-factor authentication, first set a password to use when signing in")))):null,s&&!r?y.a.createElement(KLe,{...this.getUserFormSectionProps(Object(Ce.default)("Linked Accounts"),"isLinkedAccountsOpen"),hasPassword:t.hasPassword,onCreatePassword:this.onCreatePassword}):null,s&&!r?y.a.createElement(l7,{...this.getUserFormSectionProps(Object(Ce.default)("Newsletter"),"isNewsletterOpen"),closedNode:t.mailingListActive?Object(Ce.default)("You are currently subscribed"):Object(Ce.default)("You are not subscribed")},y.a.createElement(m9.a,{name:"mailingListActive",initialValue:t.mailingListActive,labelText:Object(Ce.default)("Newsletter"),checkboxText:Object(Ce.default)("Subscribe to our amazing, but infrequent email newsletter")})):null,s&&!r?y.a.createElement(l7,{...this.getUserFormSectionProps(Object(Ce.default)("Experimental Features"),"isExperimentalFeaturesOpen"),closedNode:t.experimentalFeatures?Object(Ce.default)("Enabled"):Object(Ce.default)("Disabled")},y.a.createElement(m9.a,{name:"experimentalFeatures",initialValue:t.experimentalFeatures,labelText:Object(Ce.default)("Experimental Features"),checkboxText:Object(Ce.default)("Enable early access to experimental features still under development")})):null,s?y.a.createElement(K9,null,y.a.createElement(E9.a,null,Object(Ce.default)("Privacy")),y.a.createElement(LT.a,{className:qLe.a.description,message:Object(Ce.default)("Review our {openPolicyLink}Privacy Policy{closePolicyLink} for more information on the data that we collect, how it is used, and understand your {openAdChoicesLink}AdChoices{closeAdChoicesLink}. You can opt out of sending us certain data using your {openPreferencesLink}Privacy Preferences{closePreferencesLink} page."),tags:[{open:"openPolicyLink",close:"closePolicyLink",component:jI.a,kind:ao.d,to:"https://www.plex.tv/about/privacy-legal/",target:"_blank"},{open:"openAdChoicesLink",close:"closeAdChoicesLink",component:jI.a,kind:ao.d,to:"https://www.plex.tv/about/privacy-legal/#adchoices",target:"_blank"},{open:"openPreferencesLink",close:"closePreferencesLink",component:jI.a,kind:ao.d,to:"https://www.plex.tv/about/privacy-legal/privacy-preferences/#opd",target:"_blank"}]})):null,s&&!r?y.a.createElement(K9,null,y.a.createElement(jI.a,{kind:ao.a,to:j.default.join(["https://plex.tv","/users/delete"]),target:"_self"},Object(Ce.default)("Delete your account"))):null)}}var XLe=ZLe;const JLe=Object(he.a)(AU.a,Gk,e=>e.ui.accountSettingsPage,Object(be.a)(ve.D),(e,t,a,n)=>{const i=e.desktop,r=i.updateUserError?zhe(M.a.last(i.updateUserError[M.a.first(Object.keys(i.updateUserError))])):a.updateUserProfileError,s=M.a.mapObject(i.updateUserError,e=>e.map(e=>zhe(e))),o=M.a.pick(e,"username","anonymous","email","emailOnlyAuth","subscriptionDescription","thumb","locked","locale","canGoPremium","hasPlexSubscription","hasPlexPass","hasPassword","twoFactorEnabled","isEmployee","isNinja","mailingListActive","experimentalFeatures","restricted");return{serverEntityID:t.entityID,user:o,isUpdatingUser:i.isUpdatingUser||a.isUpdatingUserProfile,updateUserError:r,userSettingErrors:s,hasTwoFactorAuthFeature:n}}),$Le={dispatchUpdateUser:VS.S,dispatchClearUpdateUserError:VS.g,dispatchClearUpdateUserProfileError:DAe};class eke extends g.Component{constructor(){super(...arguments),this.onErrorDismiss=()=>{this.props.dispatchClearUpdateUserError(),this.props.dispatchClearUpdateUserProfileError()},this.onSubmit=e=>{this.props.dispatchUpdateUser(e)}}render(){const{dispatchUpdateUser:e,dispatchClearUpdateUserError:t,dispatchClearUpdateUserProfileError:a,...n}=this.props;return y.a.createElement(XLe,{...n,onErrorDismiss:this.onErrorDismiss,onSubmit:this.onSubmit,onUserProfileSubmit:this.onUserProfileSubmit})}}var tke=Object(v.b)(JLe,$Le)(eke);function ake(){const{machineIdentifier:e,providerIdentifier:t}=Wk(),a=Object(Me.a)(),n=Object(jt.a)(fo.n,e),i=Object(jt.a)(fo.k,t,n);return y.a.createElement(aR,{machineIdentifier:e,providerIdentifier:t},y.a.createElement(jPe,{serverEntityID:n,providerEntityID:i,sourceDirectoryID:a.source,directoryKey:dD.c.GUIDE},y.a.createElement(WP,{serverEntityID:n,providerEntityID:i,sourceDirectoryID:a.source,directoryKey:dD.c.GUIDE,activeFilters:Object(Mt.a)(a.filters),activeFilterLabel:a.filterLabel})))}var nke=Object(he.a)(Ft.a,e=>e.filter(e=>e.isFullServer&&!!e.friendlyName));var ike=Object(bO.a)(Object(he.a)(nke,e=>e.reduce((e,t)=>{const{entityID:a,machineIdentifier:n}=t;return a&&n&&e.push({entityID:a,machineIdentifier:n}),e},[])),e=>e);function rke(e){return e.user.experienceSettings.homeSettings.preferredServerID}function ske(e){const{sourceServer:t,sourceProvider:a,directories:n}=e;return n?n.reduce((e,n)=>{const i=Object(OI.a)(a,n);if(!i)return e;return(i.key!==SI.a||!(!n.hubKey||n.key))&&e.push(EI({sourceType:i.key,sourceServer:t,sourceProvider:a,sourceDirectory:n})),e},[]):[]}var oke=a("qxsR");class lke extends g.Component{constructor(e,t){super(e,t),this.onChange=e=>{const t=this.store.getState(),a=Object.keys(t).filter(e=>this.props.names.includes(e)),n={...t};a.forEach(t=>{const a=n[t];n[t]={...a,value:e}}),this.store.dispatch(H9.a.replaceState(n))},this.onFormStoreChange=()=>{const{names:e}=this.props;if(!e.length)return;const t=this.store.getState(),a=Object.keys(t).filter(e=>this.props.names.includes(e)),[n]=a,i=t[n].value,r=function(e,t,a){return e.every(e=>{const n=a[e];return!n||n.value===t})}(a,i,t);this.setState({value:r?i:null})},this.store=this.context.formStore,this.state={value:!0}}componentWillMount(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}render(){const{names:e,onChange:t,...a}=this.props;return e.length?y.a.createElement(v9.a,{...a,value:this.state.value,onChange:Object(to.a)(this.onChange,t)}):null}}lke.contextTypes={formStore:oke.a};var cke=lke,dke=a("chwz"),uke=a.n(dke);function pke(e){const{className:t,titleBarClassName:a,titleTextClassName:n,scrollerClassName:i,title:r,rightTitle:s,children:o}=e;return y.a.createElement("div",{className:t},y.a.createElement("div",{className:a},y.a.createElement("span",{className:n},r),s),y.a.createElement(XD.a,{className:i},o))}pke.defaultProps={className:uke.a.container,titleBarClassName:uke.a.titleBar,titleTextClassName:uke.a.titleText,scrollerClassName:uke.a.scroller};var mke=pke,hke=a("sPYG"),gke=a.n(hke);function yke(e){const{step:t,isActive:a,onPress:n}=e;return y.a.createElement(jI.a,{className:a?gke.a.activeStepIcon:gke.a.stepIcon,onPress:function(){n(t)}},t)}function fke(e){const{className:t,actionsClassName:a,stepContainerClassName:n,steps:i,step:r,stepHeadingText:s,stepBodyText:o,stepButtonBackText:l,stepButtonNextText:c,children:d,component:u,onButtonBackPress:p,onButtonNextPress:m,onStepPress:h,...g}=e,f=V.a.prop("X-Plex-Product");return y.a.createElement(u,{className:t,...g},y.a.createElement("div",{className:a},d),y.a.createElement("div",{className:n},y.a.createElement("div",{className:gke.a.stepText},Object(Ce.default)("{productName} Setup",{productName:f}),Array.from(Array(i),(e,t)=>t+1).map(e=>y.a.createElement(yke,{key:e,step:e,isActive:r===e,onPress:h}))),y.a.createElement("h3",{className:gke.a.stepHeading},s),y.a.createElement("p",{className:gke.a.stepBody},o),l?y.a.createElement(Ih.a,{className:gke.a.stepButton,onPress:p},l):null,y.a.createElement(Ih.a,{className:gke.a.stepButton,kind:ao.d,type:"submit",onPress:m},c)))}fke.defaultProps={className:gke.a.container,actionsClassName:gke.a.actions,stepContainerClassName:gke.a.stepContainer,component:function({children:e,...t}){return y.a.createElement("div",{...t},e)},steps:2,step:1};var bke=fke;function vke(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-shared-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{clipRule:"evenodd",d:"M10.286 3.429V8.57H5.143V39.43h37.714V8.57h-5.143V3.43H48V44.57H0V3.43h10.286zM26.57 20.57h10.286L24 33.43 11.143 20.57h10.286V0h5.142v20.571z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}vke.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Ike=vke;function Ske(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-live-dvr-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M400 10h70L351.25 110H546c7.732 0 14 6.268 14 14v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V124c0-7.732 6.268-14 14-14h194.75L90 10h70l120 100L400 10zm100 433V177a7 7 0 0 0-7-7H67a7 7 0 0 0-7 7v266a7 7 0 0 0 7 7h426a7 7 0 0 0 7-7z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Ske.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Eke=Ske;function Oke(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-movies-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M560 40c0-11.038-8.962-20-20-20H20C8.962 20 0 28.962 0 40v480c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V40zM100 468v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 310v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V310c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 78v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 70v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V70c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 158v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Oke.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Mke=Oke;function Cke(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-music-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M199.855 473.52a35.61 35.61 0 0 1 .145 3.222c0 33.115-44.809 68.962-100 80-55.191 11.039-100-6.885-100-40s44.809-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V96.85c0-11.257 8.788-22.154 19.612-24.319L540.388.377C551.212-1.788 560 5.594 560 16.85V392c0 .52-.05 1.028-.145 1.52.096 1.058.145 2.132.145 3.222 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40s44.808-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V124.455l-320 64V472c0 .52-.05 1.028-.145 1.52z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Cke.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var jke=Cke;function Dke(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-news-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M14 560h532c7.732 0 14-6.268 14-14V14c0-7.732-6.268-14-14-14H14C6.268 0 0 6.268 0 14v532c0 7.732 6.268 14 14 14zm46-60v-60h140v60H60zm180 0V360h260v140H240zM60 400V200h140v200H60zm180-80v-40h260v40H240zm0-80v-40h260v40H240zM60 160V60h440v100H60z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Dke.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Pke=Dke;function Tke(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-photos-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M440 120h100c11.038 0 20 8.962 20 20v360c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V140c0-11.038 8.962-20 20-20h100V60c0-11.038 8.962-20 20-20h280c11.038 0 20 8.962 20 20v60zm-160 40c-88.306 0-160 71.694-160 160s71.694 160 160 160 160-71.694 160-160-71.694-160-160-160zm0 80c44.153 0 80 35.847 80 80s-35.847 80-80 80-80-35.847-80-80 35.847-80 80-80z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Tke.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var wke=Tke;function Nke(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-podcasts-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M240 455.992C148.757 437.44 80 356.686 80 260h60c0 77.269 62.732 140 140 140s140-62.732 140-140h60c0 96.686-68.757 177.44-160 195.992V560h-80V455.992zM360 80c0-44.153-35.847-80-80-80s-80 35.847-80 80v180c0 44.153 35.847 80 80 80s80-35.847 80-80V80z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Nke.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var xke=Nke;function Ake(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-shows-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M440 480c0-11.038-8.962-20-20-20H140c-11.038 0-20 8.962-20 20v20c0 11.038 8.962 20 20 20h280c11.038 0 20-8.962 20-20v-20zM540 40H20C8.962 40 0 48.962 0 60v360c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V60c0-11.038-8.962-20-20-20zm-40 70v220c0 5.52-4.48 10-10 10H70c-5.52 0-10-4.48-10-10V110c0-5.52 4.48-10 10-10h420c5.52 0 10 4.48 10 10z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Ake.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Lke=Ake;function kke(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-videos-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M360 320v140c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V100c0-11.038 8.962-20 20-20h320c11.038 0 20 8.962 20 20v140l200-120v320L360 320z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}kke.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Rke=kke;function zke(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-webshows-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M560 74v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V74c0-7.732 6.268-14 14-14h532c7.732 0 14 6.268 14 14zm-360 86v240l200-120-200-120z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}zke.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var Uke=zke;var Vke=function(e){switch(e.sourceType){case SI.g:return y.a.createElement(Bp,null);case SI.c:return y.a.createElement(Mke,null);case SI.j:return y.a.createElement(Lke,null);case SI.d:return y.a.createElement(jke,null);case SI.f:return y.a.createElement(wke,null);case SI.l:return y.a.createElement(Rke,null);case SI.i:return y.a.createElement(Ike,null);case SI.a:return y.a.createElement(Eke,null);case SI.e:return y.a.createElement(Pke,null);case SI.h:return y.a.createElement(xke,null);case SI.m:return y.a.createElement(Uke,null);case SI.b:return y.a.createElement(Up.a,null);case SI.k:return y.a.createElement(iH,null)}return null},Bke=a("8ck4"),Fke=a.n(Bke);var Hke=Object(O9.a)((function(e){const{title:t,sourceType:a,directoryIcon:n,...i}=e;return y.a.createElement("label",{className:Fke.a.sourceItem,htmlFor:i.name},y.a.createElement("span",{className:Fke.a.sourceTitle},y.a.createElement("span",{className:Fke.a.sourceIconContainer},n?y.a.createElement("img",{className:Fke.a.iconImg,src:n}):y.a.createElement(Vke,{sourceType:a})),t),y.a.createElement(v9.a,{inputClassName:Fke.a.input,...i}))})),_ke=a("YFI5"),Wke=a.n(_ke);var Qke=function(e){const{isPending:t,steps:a,sources:n,onSubmit:i,onButtonBackPress:r,onStepPress:s}=e;return t?y.a.createElement(HO.a,null):y.a.createElement(bke,{stepHeadingText:Object(Ce.default)("Customize your Media"),stepBodyText:Object(Ce.default)("Choose what you’d like to have in your sidebar navigation menu. (You’ll always have easy access to everything, so you can make changes and further customize your menu later.)"),stepButtonBackText:a>1?Object(Ce.default)("Go Back"):void 0,stepButtonNextText:Object(Ce.default)("Finish Setup"),step:2,steps:a,component:H9.b,onSubmit:i,onButtonBackPress:r,onStepPress:s},y.a.createElement(mke,{title:Object(Ce.default)("Pinned Sources"),rightTitle:n.length?y.a.createElement(cke,{inputClassName:Wke.a.input,name:"allSources",names:n.map(e=>e.key)}):null},n.map(e=>y.a.createElement(Hke,{key:e.key,name:e.key,title:e.title,sourceType:e.sourceType,directoryIcon:e.directoryIcon,initialValue:!0}))))};const Gke=Object(he.a)(ZW,Lt.a,(e,t)=>(e?e.providers:[]).map(e=>t[e])),Kke=Object(he.a)(gCe,e=>e.filter(e=>!/.*(staging|dev)$/.test(e.identifier)));function Yke(e,t){return t.reduce((t,a)=>{const n=Object(lo.a)(a),i=ske({sourceServer:e,sourceProvider:a,directories:n&&n.directories});return t.push(...i),t},[])}const qke={dispatchSetupSources:VS.L};class Zke extends g.Component{constructor(){super(...arguments),this.onSubmit=e=>{const t=this.props.sources.filter(({key:t})=>e[t]);this.props.dispatchSetupSources({sources:t})}}componentDidUpdate(){this.props.hasCompletedSetup&&this.props.onEndFirstRunExperience(),this.props.isPending||0!==this.props.sources.length||this.props.dispatchSetupSources({sources:[]})}render(){const{isPending:e,sources:t,onEndFirstRunExperience:a,dispatchSetupSources:n,...i}=this.props;return y.a.createElement(Qke,{sources:t,isPending:e||0===t.length,...i,onSubmit:this.onSubmit})}}var Xke=Object(v.b)((function(){return Object(he.a)(ZW,Gke,Gk,Kke,ge.a,(e,t,a,n,i)=>{const r=Yke(e,t),s=Yke(a,n),{sidebarSettings:{hasCompletedSetup:o}}=i;return{isPending:!(!e||e.connectionTestResult!==zU.c.PENDING),sources:[...r,...s],hasCompletedSetup:o}})}),qke)(Zke),Jke=a("gjek"),$ke=a.n(Jke);var eRe=function(e){const{isSelected:t,isUnavailable:a,onPress:n}=e,i=yfe(MI(e),ffe(e).status);return y.a.createElement(jI.a,{className:Pe()($ke.a.serverButton,t&&$ke.a.isSelected,a&&$ke.a.isUnavailable),onPress:n},y.a.createElement("span",{className:$ke.a.titles},y.a.createElement("span",{className:$ke.a.title},CI(e)),y.a.createElement("span",{className:$ke.a.details},i)),t?y.a.createElement(ns.a,{className:$ke.a.serverMenuIcon,"aria-label":Object(Ce.default)("Selected")}):null)};const tRe=Object(v.b)((function(){return gH(Object(RI.a)(),["activeConnection","friendlyName","sourceTitle","isConnected","isOutOfDate","isRelayed","isSecure","isShared","isUnavailable"])}),(function(e,t){return{onPress(){t.onPress({entityID:t.serverEntityID,machineIdentifier:t.machineIdentifier})}}}))(eRe);tRe.propTypes={...tRe.propTypes,machineIdentifier:Qn.a.string.isRequired,serverEntityID:Qn.a.string.isRequired};var aRe=tRe;var nRe=function(e){const{preferredServerIdentifiers:t,serverIdentifiers:a,onSavePreferredServer:n,onButtonNextPress:i,onStepPress:r}=e;return y.a.createElement(bke,{stepHeadingText:Object(Ce.default)("Choose your Preferred Server"),stepBodyText:Object(Ce.default)("It looks like you have access to more than one Plex Media Server. Choose your preferred server, and we’ll use it to build your home screen."),stepButtonNextText:Object(Ce.default)("Continue"),step:1,onButtonNextPress:i,onStepPress:r},y.a.createElement(mke,{title:Object(Ce.default)("Plex Media Servers")},a.map(e=>y.a.createElement(aRe,{key:e.entityID,serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,isSelected:t&&t.machineIdentifier===e.machineIdentifier,onPress:n}))))},iRe=a("rC/d"),rRe=a.n(iRe);function sRe(e,t){return!e&&t.length>0}class oRe extends g.Component{constructor(e,t){super(e,t),this.onNextStepPress=()=>{this.setState(e=>({step:Math.max(2,e.step+1)}))},this.onBackStepPress=()=>{this.setState(e=>({step:Math.min(1,e.step-1)}))},this.onStepPress=e=>{this.setState({step:e})},this.onEndFirstRunExperience=()=>{const{preferredServerIdentifiers:e,onEndFirstRunExperience:t}=this.props;t(e?{preferredServerEntityID:e.entityID,preferredServerInteraction:e.machineIdentifier!==this.state.initialDefaultPreferredServerIdentifier}:{})},this.state={step:1}}componentDidMount(){this.props.onChangeBackground({allowLightPreset:!0}),Object(Dt.a)(()=>{this.props.onResetCustomization()}),this._maybeCallOnSavePreferredServer({...this.props,preferredServerIdentifiers:null})}componentDidUpdate(){this._maybeCallOnSavePreferredServer(this.props)}componentWillUnmount(){this.props.onResetBackground()}_maybeCallOnSavePreferredServer(e){const{isPending:t,preferredServerIdentifiers:a,serverIdentifiers:n,onSavePreferredServer:i}=e;if(t)return;const r=function(e,t){return e?e.machineIdentifier:t.length>0?t[0].machineIdentifier:void 0}(a,n);!this.state.initialDefaultPreferredServerIdentifier&&r&&this.setState({initialDefaultPreferredServerIdentifier:r}),sRe(a,n)&&i({machineIdentifier:r})}render(){const{isPending:e,preferredServerIdentifiers:t,serverIdentifiers:a,onSavePreferredServer:n}=this.props,{step:i}=this.state,r=a.length<2;return e||sRe(t,a)?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):y.a.createElement(XD.a,{className:rRe.a.container},1!==i||r?y.a.createElement(Xke,{steps:r?0:2,onButtonBackPress:this.onBackStepPress,onStepPress:this.onStepPress,onEndFirstRunExperience:this.onEndFirstRunExperience}):y.a.createElement(nRe,{preferredServerIdentifiers:t,serverIdentifiers:a,onButtonNextPress:this.onNextStepPress,onStepPress:this.onStepPress,onSavePreferredServer:n}))}}var lRe=oRe;const cRe={onChangeBackground:aa.a,onResetBackground:aa.c,onSavePreferredServer:VS.f,onEndFirstRunExperience:VS.l,onResetCustomization:VS.F};var dRe=Object(v.b)((function(){return Object(he.a)(yCe,rke,ike,(e,t,a)=>({isPending:!e,preferredServerIdentifiers:t?a.find(e=>e.machineIdentifier===t):void 0,serverIdentifiers:a}))}),cRe)(lRe);var uRe=XE.a.extend({name:"AvailableProviderModel",context:["server"],rootPropertyName:"MediaProvider",syncedAttrs:{identifier:QE.a.string,title:QE.a.string}});var pRe=CS.a.extend({name:"AvailableProvidersCollection",context:["server"],model:uRe,url:"/media/providers?ignore_opt_outs=true"});const mRe=Object(yo.a)("ui/onlineMediaSourcePage/initOnlineMediaSourcesPage"),hRe=Object(yo.a)("ui/onlineMediaSourcePage/fetchAvailableProviders"),gRe=Object(yo.a)("ui/onlineMediaSourcePage/fetchOptOutStatuses"),yRe=Object(yo.a)("ui/onlineMediaSourcePage/updateOptOutStatuses"),fRe=Object(yo.a)("ui/onlineMediaSourcePage/clearOnlineMediaSourcesUpdateError");function bRe(e){return e.get("ui").get("onlineMediaSourcesPage")}function vRe(e,t={},a={}){const n=e.get("cloudServer"),i=e.get("user").get("uuid"),r=j.default.join(["/api/v2/user",i,"settings/opt_outs"],t);return n.getXHROptions(r,{dataType:"json",...a})}const IRe={"ui/onlineMediaSourcePage/initOnlineMediaSourcesPage"(e,t,a){const n=bRe(e),i=e.get("cloudServer");n.restoreDefaults({availableProviders:new pRe([],{server:i})}),a(hRe()),a(gRe())},"ui/onlineMediaSourcePage/fetchAvailableProviders":Object(WI.a)({key:"availableProviders",getModel:bRe}),"ui/onlineMediaSourcePage/fetchOptOutStatuses"(e,t){const a=bRe(e);a.set({isOptOutStatusesPending:!0,optOutStatusesError:null});const n=vRe(e);h.a.ajax(n).then(e=>{a.set({optOutStatuses:e,isOptOutStatusesPending:!1,optOutStatusesError:null})},e=>{a.set({isOptOutStatusesPending:!1,optOutStatusesError:Object(rS.a)(e)})})},"ui/onlineMediaSourcePage/updateOptOutStatuses"(e,t,a){const n=bRe(e);n.set({isUpdatePending:!0,updateError:null});const i=Object.keys(t.optOutStatuses)[0],r=t.optOutStatuses[i],s=vRe(e,{key:i,value:r},{type:"POST"});h.a.ajax(s).then(()=>{const e=n.get("optOutStatuses");n.set({optOutStatuses:{...e,[i]:r},isUpdatePending:!1,updateError:null});Object(E.c)("serviceWorker").sendMessage({type:"CLEAR_CLOUD_MEDIA_PROVIDERS"}).finally(()=>{a(YI())})},e=>{n.set({isUpdatePending:!1,updateError:Object(rS.a)(e)})})},"ui/onlineMediaSourcePage/clearOnlineMediaSourcesUpdateError"(e,t){bRe(e).set("updateError",null)}};class SRe extends g.Component{constructor(e,t){super(e,t),this.createToggleHandler=e=>t=>{t.preventDefault();const a=this.state.openProviderIdentifier===e;this.props.updateError&&this.props.onErrorDismiss(),this.setState({openProviderIdentifier:a?null:e})},this.state={openProviderIdentifier:null}}componentWillReceiveProps(e){const t=this.props.showSpinner&&!e.showSpinner,a=this.props.isUpdatePending&&!e.isUpdatePending&&!e.updateError;(t||a)&&this.setState({openProviderIdentifier:null})}_getOptOutStatus(e){const t=this.props.optOutStatuses,a=qr.l(e,[qr.f,qr.i])?"opt_in":"opt_out_managed";return t[e]?t[e]:a}_getAvailableOptOutOptions(e,t){const a=[{opt_in:Object(Ce.default)("Enabled")},{opt_out:Object(Ce.default)("Disabled")}],n=[...a,{opt_out_managed:Object(Ce.default)("Disabled for Managed Users")}],i=qr.l(e,qr.f)?a:n;return i.find(e=>e[t])?i:[...i,{[t]:t}]}render(){const{isUnauthorized:e,loadSettingsError:t,showSpinner:a,availableProviders:n,isUpdatePending:i,updateError:r,onUpdateStatus:s}=this.props;return e?y.a.createElement(Kk.a,{title:Object(Ce.default)("You're not supposed to be here"),description:Object(Ce.default)("You don't have access to Online Media Sources")}):t?y.a.createElement(Zk.a,{title:Object(Ce.default)("There was an unexpected error loading Online Media Sources")}):a?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):y.a.createElement(l9,{metricsPage:It.a,metricsPane:"onlineMediaSources"},y.a.createElement(p9,null,Object(Ce.default)("Online Media Sources")),n.map(e=>{const t=this._getOptOutStatus(e.identifier),a=this._getAvailableOptOutOptions(e.identifier,t),n=a.find(e=>e[t])[t];return y.a.createElement(l7,{key:e.identifier,closedNode:n,title:e.title,isOpen:this.state.openProviderIdentifier===e.identifier,isUpdating:i,errorMessage:r&&Object(Ce.default)("Unable to save settings"),onTogglePress:this.createToggleHandler(e.identifier),onUpdateStatus:s,onSubmit:s},y.a.createElement(h9.a,{labelText:e.title,helpText:Object(Ce.default)("Disabling {onlineMediaSource} will remove it from all Plex apps signed in with your account.",{onlineMediaSource:e.title}),name:e.identifier,initialValue:t,values:a}))}))}}var ERe=SRe;const ORe=Object(he.a)(e=>e.ui.onlineMediaSourcesPage.availableProviders,Lt.a,(e,t)=>{if(!e||!t)return;const a=Object.values(t);return e.filter(({identifier:e})=>{const t=a.find(t=>t.identifier===e);return!t||t.isPopulated&&Object.values(t.features).some(({type:e})=>e===nS.c)})}),MRe=Object(he.a)(e=>e.ui.onlineMediaSourcesPage,AU.a,ORe,(e,t,a)=>({isUnauthorized:t.restricted,availableProviders:a,optOutStatuses:e.optOutStatuses,isAvailableProvidersPending:e.isAvailableProvidersPending,availableProvidersError:e.availableProvidersError,isOptOutStatusesPending:e.isOptOutStatusesPending,optOutStatusesError:e.optOutStatusesError,isUpdatePending:e.isUpdatePending,updateError:e.updateError})),CRe={dispatchInitOnlineMediaSourcesPage:mRe,dispatchClearOnlineMediaSourcesUpdateError:fRe,dispatchUpdateOptOutStatuses:yRe};class jRe extends g.Component{constructor(){super(...arguments),this.onErrorDismiss=()=>{this.props.dispatchClearOnlineMediaSourcesUpdateError()},this.onUpdateStatus=e=>{this.props.dispatchUpdateOptOutStatuses({optOutStatuses:e})}}componentDidMount(){Object(Dt.a)(()=>{this.props.dispatchInitOnlineMediaSourcesPage()})}render(){const{isUnauthorized:e,isAvailableProvidersPending:t,availableProvidersError:a,isOptOutStatusesPending:n,optOutStatusesError:i,availableProviders:r,optOutStatuses:s,updateError:o,isUpdatePending:l}=this.props;return y.a.createElement(ERe,{isUnauthorized:e,loadSettingsError:!(!a&&!i),showSpinner:t||n,availableProviders:r,optOutStatuses:s,isUpdatePending:l,updateError:o,onErrorDismiss:this.onErrorDismiss,onUpdateStatus:this.onUpdateStatus})}}var DRe=Object(v.b)(MRe,CRe)(jRe);function PRe(){const{machineIdentifier:e,providerIdentifier:t}=Wk(),a=Object(Me.a)(),n=Object(Qk.a)(a.key),i=Object(jt.a)(fo.n,e),r=Object(jt.a)(fo.k,t,i);return y.a.createElement(RO.a,{metricsContext:Object(Qk.a)(a.context)},y.a.createElement(aR,{machineIdentifier:e,providerIdentifier:t},n?y.a.createElement(bIe,{serverEntityID:i,providerEntityID:r,metadataKey:n,record:1===parseInt(Object(Qk.a)(a.record),10),allEpisodes:1===parseInt(Object(Qk.a)(a.allEpisodes),10)}):y.a.createElement(QP.a,null)))}function TRe(){const{machineIdentifier:e,providerIdentifier:t}=Wk(),a=Object(Me.a)(),n=Object(jt.a)(fo.n,e),i=Object(jt.a)(fo.k,t,n);return y.a.createElement(aR,{machineIdentifier:e,providerIdentifier:t},y.a.createElement(jPe,{serverEntityID:n,providerEntityID:i,sourceDirectoryID:a.source,directoryKey:dD.c.RECORDING_SCHEDULE},y.a.createElement(kx,{serverEntityID:n,providerEntityID:i,sourceDirectoryID:a.source,selectedViewType:a.view})))}var wRe=a("1+Vt");const NRe=Object(yo.a)("search/fetchSearchPage"),xRe=Object(yo.a)("search/clearSearchPage");function ARe(e){return e.get("ui").get("searchPage")}const LRe={"search/fetchSearchPage"(e,t,a){const n=ARe(e).get("searches"),{availableProviders:i,query:r,limit:s}=t,o=Object(SG.a)(e,ve.a);Object.keys(i).forEach(t=>{const a=i[t],r=Object(TS.k)(e,{serverEntityID:a.serverEntityID}),s=Object(TS.h)(e,{providerEntityID:t}),l=s.get("features").get(nS.o);l&&!n.get(t)&&n.add(new wRe.a({providerEntityID:t,key:l.get("key")},{server:r,provider:s,includeCollections:!0,includeExternalMedia:o}))}),n.each(e=>{e.populatePromise||(e.set("isSearchPending",!0),e.fetch({data:{query:r,limit:s}}).done(()=>{e.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})}).fail(t=>{e.set({isSearchPending:!1,searchError:Object(rS.a)(t)})}))})},"search/clearSearchPage"(e,t,a){const n=ARe(e);n.get("searches").each(e=>{e.abortPendingPopulate()}),n.restoreDefaults()}};var kRe=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({containerKey:e.skipParent?e.grandparentKey:e.parentKey}))}))(K_),RRe=a("+b+4"),zRe=a.n(RRe);var URe=function(e){const{className:t,serverEntityID:a,providerEntityID:n,searchResultEntityID:i,imageWidth:r,imageHeight:s,imageUrl:o,tag:l,tagType:c,librarySectionType:d,titleComponents:u}=e,p=Object(KO.a)(e),m=wF.a.get(c),h=!!m&&m.isPerson;return y.a.createElement("div",{className:t,style:p.style},y.a.createElement("div",{className:zRe.a.imageContainer},y.a.createElement(Zq,{serverEntityID:a,providerEntityID:n,imageWidth:r,imageHeight:s,imageUrl:o,title:l,tag:l,tagType:c,librarySectionType:d}),y.a.createElement(xF,{className:Pe()(zRe.a.imageLink,h&&zRe.a.isPerson),serverEntityID:a,providerEntityID:n,searchResultEntityID:i})),y.a.createElement("div",{className:zRe.a.titleContainer},u.map((e,t)=>y.a.createElement(XH,{key:t,serverEntityID:a,providerEntityID:n,searchResultEntityID:i,component:e,isSecondary:t>0}))))};var VRe=Object(v.b)((function(){return Object(he.a)((e,{listType:t})=>t,(e,{listSubtype:t})=>t,(e,{listContext:t})=>t,(e,{cellWidth:t})=>t,SF(),(e,t,a,n,i={})=>{const r=i.tagItem,{tag:s,tagType:o,librarySectionType:l}=r,c=Object(P_.a)(n,null,e,t,r,a);return{tag:s,tagType:o,librarySectionType:l,imageWidth:c.width,imageHeight:c.height,imageUrl:c.url}})}))((function(e){return y.a.createElement(URe,{...e})}));var BRe=function({isMetadataItem:e,...t}){return e?y.a.createElement(kRe,{...t,showSelect:!1}):y.a.createElement(VRe,{...t})},FRe=a("fTYo"),HRe=a.n(FRe);var _Re=function(e){const{title:t,sourceTitle:a,hubs:n,columnAdjustment:i,isSearchPending:r,isSearchPopulated:s}=e,o=a?`${t} - ${a}`:t;return y.a.createElement("div",null,y.a.createElement("div",{role:"heading","aria-level":"2",className:HRe.a.providerTitle},o,r?y.a.createElement(HO.a,{className:HRe.a.spinner,size:cc.c}):null),!n.length&&s?y.a.createElement(qk.a,{title:Object(Ce.default)("No Results"),description:Object(Ce.default)("Try a different query")}):n.map(e=>{const t=e.type,a=e.subtype,n=XO.q,r=aH(t,n,{subtype:e.subtype,isSearch:!0,isSearchAll:!0});return y.a.createElement(GH,{...e,key:e.hubIdentifier,listType:t,listContext:n,keyPropName:"searchResultEntityID",size:e.results.length,items:e.results,itemsOffset:0,layout:aB(t,a,n,i,r.length),cellRenderer:(s={listType:t,listContext:n,titleComponents:r},e=>y.a.createElement(sje,{component:BRe,...s,...e}))});var s}))},WRe=a("IsoN"),QRe=a.n(WRe);var GRe=function(e){const{isSearchCapable:t,providers:a,columnAdjustment:n}=e;return t?y.a.createElement(VT,{innerClassName:QRe.a.content},a.map(e=>y.a.createElement(_Re,{key:e.providerEntityID,columnAdjustment:n,...e}))):y.a.createElement(Kk.a,{title:Object(Ce.default)("This server does not support search"),description:Object(Ce.default)("Browse libraries using the sidebar")})};function KRe(){return Object(Kt.a)(Object(he.a)(wU.a,e=>e.reduce((e,{server:t,provider:a})=>t&&a&&t.isConnected?(e[a.entityID]={serverEntityID:t.entityID,identifier:a.identifier,title:a.title,sourceTitle:a.sourceTitle},e):e,{})),e=>e)}const YRe={fetchSearchPage:NRe,clearSearchPage:xRe};class qRe extends g.Component{componentWillMount(){Object(Dt.a)(()=>{this._clear(),this._populate()})}componentWillReceiveProps(e){const t=e.query!==this.props.query,a=e.availableProviders!==this.props.availableProviders;(t||a)&&Object(Dt.a)(()=>{t&&this._clear(e),this._populate(e)})}_clear(e=this.props){e.clearSearchPage()}_populate(e=this.props){e.fetchSearchPage({availableProviders:e.availableProviders,query:e.query,limit:30})}render(){return y.a.createElement(GRe,{...this.props})}}var ZRe=Object(v.b)((function(){return Object(he.a)(KRe(),Object(he.a)(e=>e.ui.searchPage.searches,KRe(),(e,t)=>{const a=e.reduce((e,a)=>{const n=a.providerEntityID,i=t[n];if(!i)return e;let r=e[i.identifier];return r||(r=e[i.identifier]={providerEntityID:n,title:i.title,sourceTitle:i.sourceTitle,isSearchPending:!1,isSearchPopulated:!1,hubs:{}}),a.isSearchPending&&(r.isSearchPending=!0),a.isSearchPopulated&&(r.isSearchPopulated=!0),a.hubs.forEach(e=>{const t=e=>({serverEntityID:i.serverEntityID,providerEntityID:n,searchResultEntityID:e}),a=e.metadataResults.map(t),s=e.tagResults.map(t),o=r.hubs[e.hubIdentifier];o?(o.size+=e.size,o.results=o.results.concat(a,s)):r.hubs[e.hubIdentifier]={hubIdentifier:e.hubIdentifier,size:e.size,type:e.type,title:e.title,results:[].concat(a,s)}}),e},{});return M.a.map(a,e=>({providerEntityID:e.providerEntityID,title:e.title,sourceTitle:e.sourceTitle,isSearchPending:e.isSearchPending,isSearchPopulated:e.isSearchPopulated,hubs:M.a.values(e.hubs)}))}),ge.a,(e,t,a)=>({availableProviders:e,isSearchCapable:!!Object.keys(e).length,columnAdjustment:a.columnAdjustment,providers:t}))}),YRe)(qRe),XRe=a("mzMB"),JRe=a.n(XRe);function $Re({className:e,children:t}){return y.a.createElement("div",{className:e},t)}$Re.defaultProps={className:JRe.a.pageHeaderCenter};var eze=$Re,tze=a("R4w1"),aze=a.n(tze);var nze=function(e){const{isSearchPending:t,query:a}=e;return y.a.createElement(Jm,null,y.a.createElement(ik.a,null,Object(Ce.default)("Search All Sources")),y.a.createElement(eze,null,y.a.createElement("span",null,t?Object(Ce.default)('Searching for "{query}"',{query:a}):Object(Ce.default)('Results for "{query}"',{query:a})),t?y.a.createElement(HO.a,{className:aze.a.spinner,size:cc.c}):null),y.a.createElement(WA,null,y.a.createElement(uL,null)))};var ize=function(e){const{isSearchPending:t}=e,{query:a}=Object(Me.a)();return y.a.createElement(UO.a,{metricsPage:It.jb,allowBackgroundLightPreset:!0,scrollDirection:iv.b},y.a.createElement(nze,{isSearchPending:t,query:a}),y.a.createElement(ZRe,{query:a}))};const rze={clearSearchPage:xRe};class sze extends g.Component{componentWillUnmount(){this.props.clearSearchPage()}render(){return y.a.createElement(ize,{...this.props})}}var oze=Object(v.b)((function(){return Object(he.a)(e=>e.ui.searchPage,e=>({isSearchPending:!!M.a.findWhere(e.searches,{isSearchPending:!0})}))}),rze)(sze),lze=a("/lm6"),cze=a.n(lze),dze=p.a.ItemView.extend({template:cze.a});var uze=function(e,t,a){return null==a&&(a=e+"s"),1===t?e:a},pze=a("+ICQ"),mze=a.n(pze),hze=p.a.ItemView.extend({tagName:"li",className:"card-tile-list-item card-2-col-item",template:mze.a,ui:{icon:".device-icon",syncInfo:".sync-info"},events:{"click .remove-device-btn":"onRemoveClick"},isMediaServer:function(){if(null==this.isServer){var e=this.model.get("product").toLowerCase();this.isServer="plex media server"===e}return this.isServer},bindings:{".device-icon":{modelAttribute:"product",modelListeners:["product","platform"],manual:!0,formatter:function(e,t){var a=Oae(e,this.model.get("platform"));t.attr("src",a)}},".name":{modelAttribute:"name",modelListeners:["name","product"],autohide:!1,formatter:function(e){return e||this.model.get("product")}},".version":{modelAttribute:"productVersion",autohide:!1},".product":{modelAttribute:"product",autohide:!1},".platform":{modelAttribute:"platform",autohide:function(e){return e&&this.isMediaServer()}},".platform-version":{modelAttribute:"platformVersion",autohide:function(e){return e&&this.isMediaServer()}},".device":{modelAttribute:"device",autohide:!1},".last-seen":{modelAttribute:"lastSeenAt",autohide:!0,formatter:function(e,t){return Object(Ja.a)(e)}},".sync-count":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,a=e.get("itemsCompleteCount");return a&&a>0&&(t=[a,uze("item",a)].join(" "),this.ui.syncInfo.removeClass("hidden")),t}}},".sync-size":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,a=e.get("totalSize");return a&&a>0&&(t=["(",wye(a),")"].join("")),t}}}},onRemoveClick:function(e){e.preventDefault(),this.isMediaServer()?See.a.execute("removeServer",{device:this.model}):See.a.execute("removeDevice",{device:this.model})}}),gze=lee.a.extend({tagName:"ul",className:"list card-tile-list",itemView:hze,emptyView:dze}),yze=a("L1nn"),fze=a.n(yze),bze=p.a.Layout.extend({className:"devices-container",template:fze.a,regions:{list:".device-list-container"},events:{"click .dropdown-menu a":"onDeviceTypeDropdownClick","click .nav a":"onDeviceTypeClick"},ui:{filters:".nav a"},deviceTypes:[{id:"all",title:"All",ids:["all"]},{id:"web",title:"Web",ids:["Web Client","Plex Web"]},{id:"pht",title:"HTPC",ids:["Plex Home Theater","Plex for Home Theater","PlexHomeTheater","Plex Media Center","Plex Media Player"]},{id:"desktop",title:"Desktop",ids:["Plex for Mac","Plex for Windows","Plex for Linux"]},{id:"pms",title:"Server",ids:["Plex Media Server"]},{id:"android",title:"Android",ids:["Plex for Android","Android","Plex for Android (Mobile)","Plex for Android (TV)"]},{id:"ios",title:"iOS",ids:["Plex/iOS","Plex for iOS"]},{id:"samsung",title:"Samsung",ids:["Plex for Samsung"]},{id:"google-tv",title:"Google TV",ids:["Google TV"]},{id:"windows",title:"Windows",ids:["Plex for Windows"]},{id:"apple-tv",title:"Apple TV",ids:["Plex-ATV","Plex for Apple TV"]},{id:"windows-phone",title:"Windows Phone",ids:["Plex for Windows Phone"]},{id:"plexbmc",title:"PleXBMC",ids:["PleXBMC"]},{id:"roku",title:"Roku",ids:["Plex for Roku"]},{id:"popcorn-hour",title:"Popcorn Hour",ids:["Plex for Popcorn Hour"]},{id:"playstation",title:"PlayStation",ids:["Plex for PlayStation 4","Plex for PlayStation 5"],platforms:["Mystery 3"]},{id:"xbox",title:"Xbox",ids:["Plex for Xbox","Plex for Xbox One","Plex for Xbox 360"]},{id:"other",title:"Other",ids:[]}],initialize:function(e){const t=Object(E.c)("appModel").get("user"),a=t.get("desktop").get("devices");this.model=t,this.collection=a,this.products=this.collection.products(),this.addOtherIds(),this.filteredDeviceTypes=this.getFilteredDeviceTypes(),this.selectedDeviceType=this.getDeviceType(e.deviceTypeID),this.selectedDevices=this.getSelectedDevices(),Object(see.a)("devices",{deviceTypeID:this.selectedDeviceType.id},!0)},serializeData:function(){return{selectedDeviceType:this.selectedDeviceType,deviceTypes:this.filteredDeviceTypes}},sortDeviceTypes:function(e){return M.a.sortBy(e,(function(e){return"all"===e.id?"":e.title.toLowerCase()}))},getDeviceType:function(e){const t=this.deviceTypes[0];return e&&this.filteredDeviceTypes.find(t=>t.id===e)||t},getSelectedDevices:function(){if("all"===this.selectedDeviceType.id)return this.collection;{const e=this.collection.filterByProducts(this.selectedDeviceType.ids);if(this.selectedDeviceType.platforms){const t=this.collection.filterByPlatforms(this.selectedDeviceType.platforms);e.add(t.models)}return e}},getFilteredDeviceTypes:function(){var e=this.deviceTypes.filter((function(e){return"all"===e.id||M.a.intersection(this.products,e.ids).length>0}),this);return this.sortDeviceTypes(e)},addOtherIds:function(){var e=M.a.flatten(M.a.map(this.deviceTypes,(function(e){return e.ids}))),t=M.a.difference(this.products,e),a=M.a.find(this.deviceTypes,(function(e){return"other"===e.id}));M.a.each(t,(function(e){a.ids.push(e)}))},onRender:function(){this.list.show(new gze({collection:this.selectedDevices}))},onDeviceTypeDropdownClick:function(e){e.preventDefault();const t=h()(e.currentTarget).data("id");this.selectedDeviceType=this.getDeviceType(t),this.selectedDevices=this.getSelectedDevices(),Object(see.a)("devices",{deviceTypeID:this.selectedDeviceType.id},!0),this.render()},onDeviceTypeClick:function(e){e.preventDefault();var t=h()(e.currentTarget),a=t.data("id"),n=this.collection;if(this.ui.filters.removeClass("selected"),t.addClass("selected"),"all"!==a){var i=M.a.findWhere(this.deviceTypes,{id:a});n=this.collection.filterByProducts(i.ids)}this.list.show(new gze({collection:n}))}});var vze=function(){const{deviceTypeID:e}=Object(I.i)(),[t,a]=Object(g.useState)({isDevicesPopulated:!1,devicesError:!1});O3(()=>{Object(E.c)("appModel").get("user").get("desktop").get("devices").fetch().then(()=>{a({isDevicesPopulated:!0,devicesError:!1})},()=>{a({isDevicesPopulated:!1,devicesError:!0})})});const n=!t.isDevicesPopulated&&!t.devicesError,i=!n&&t.devicesError,r=!n&&!i;return y.a.createElement(y.a.Fragment,null,n?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):null,i?y.a.createElement(Kk.a,{title:Object(Ce.default)("Your devices are unavailable. Please try again later.")}):null,r?y.a.createElement(l9,{metricsPage:It.E},y.a.createElement(p9,null,Object(Ce.default)("Authorized Devices")),y.a.createElement(Aue,{view:bze,viewOptions:{deviceTypeID:e}})):null)};function Ize({component:e,selectedKey:t}){return y.a.createElement(pe,null,y.a.createElement(Bbe,null,y.a.createElement(Nbe,{selectedKey:t}),y.a.createElement(e,null)))}class Sze extends g.Component{static getDerivedStateFromProps(e,t){return e.isSignedIn&&!t.isSigningOut?{isSigningOut:!0}:null}constructor(e,t){super(e,t),this.state={isSigningOut:!1}}componentDidMount(){this.state.isSigningOut&&this.props.onSignOut()}componentDidUpdate(e,t){this.state.isSigningOut&&!t.isSigningOut&&this.props.onSignOut()}render(){return y.a.createElement(UO.a,{metricsPage:It.qb},y.a.createElement(VT,null,y.a.createElement(_O.a,null,y.a.createElement(HO.a,null))))}}var Eze=Sze;const Oze=Object(he.a)(AU.a,({isSignedIn:e})=>({isSignedIn:e}));var Mze=Object(v.b)(Oze,(function(e){return{onSignOut(){See.a.execute("signOut").then(()=>{e(Object(HI.i)({route:"login",replace:!0}))})}}}))(Eze);function Cze(){const{machineIdentifier:e,providerIdentifier:t}=Wk(),a=Object(Me.a)(),n=Object(jt.a)(fo.n,e),i=Object(jt.a)(fo.k,t,n);return y.a.createElement(aR,{machineIdentifier:e,providerIdentifier:t},y.a.createElement(jPe,{serverEntityID:n,providerEntityID:i,sourceDirectoryID:a.source,directoryKey:dD.c.TIMELINE},y.a.createElement(Vk,{serverEntityID:n,providerEntityID:i,sourceDirectoryID:a.source,directoryKey:dD.c.TIMELINE,libraryKey:a.key})))}var jze=a("EXeW"),Dze=a.n(jze),Pze=p.a.ItemView.extend({className:"announcement-list-item",template:Dze.a,ui:{thumb:".thumb",unread:".unread"},initialize:function(){this.image=new yhe.a({url:this.model.get("imageUrl")})},onRender:function(){this.image.setElement(this.ui.thumb),this.model.markAsRead()},onClose:function(){this.image.close()}}),Tze=lee.a.extend({className:"list announcement-list",itemView:Pze}),wze=a("6+d7"),Nze=a.n(wze),xze=p.a.Layout.extend({className:"container",template:Nze.a,regions:{list:".announcements-container"},initialize:function(){const e=Object(E.c)("appStore").dispatch,t=Object(E.c)("appModel").get("user");this.collection=t.get("desktop").get("announcements"),e(Object(aa.a)({allowLightPreset:!1}))},onRender:function(){this.list.show(new Tze({collection:this.collection}))}});var Aze=function(){const[e,t]=Object(g.useState)({isAnnouncementsPending:!0,announcementsError:!1});return O3(()=>{Object(GI.n)(Object(E.c)("appModel")).get("announcements").fetch().then(()=>{t({isAnnouncementsPending:!1,announcementsError:!1})},()=>{t({isAnnouncementsPending:!1,announcementsError:!0})})}),e.isAnnouncementsPending?y.a.createElement(qk.a,null,y.a.createElement(HO.a,null)):e.announcementsError?y.a.createElement(Kk.a,{title:Object(Ce.default)("Announcements are not available.")}):y.a.createElement(Aue,{className:D1e,view:xze,viewOptions:{}})};var Lze=Object(he.a)(PIe.a,e=>e.homeDetails),kze=a("tsu6"),Rze=a("doJ2"),zze=a.n(Rze);var Uze=function(e){const{isAccepting:t,onPress:a}=e;return t?y.a.createElement(Uw.a,{className:zze.a.spinner,loadingLabel:Object(Ce.default)("Accepting invite"),size:cc.c}):y.a.createElement(ZO.a,{className:zze.a.button,iconComponent:kze.a,title:Object(Ce.default)("Accept Invite"),onPress:a})},Vze=a("e0vz"),Bze=a.n(Vze);var Fze=function({title:e,onPress:t}){return y.a.createElement(ZO.a,{className:Bze.a.button,iconComponent:Ql.a,title:e,onPress:t})};var Hze=function(e){const{hasOtherHomeUsers:t,isSignedInUserAdmin:a,...n}=e;let i=Object(Ce.default)("The admin of this home will have access to your account. Other users of this home will be able to switch to your account by entering your PIN.");return t&&(i=a?Object(Ce.default)("You are the admin in your current home. If you leave, the remaining users will be removed and managed users will be deleted."):Object(Ce.default)("Are you sure you want to join this home? You will leave your current home.")),y.a.createElement(Xc.a,{...n,kind:ao.a,title:Object(Ce.default)("Join Home"),message:i,confirmLabel:Object(Ce.default)("Join")})};var _ze=function(e){return y.a.createElement(Xc.a,{...e,title:Object(Ce.default)("Reject Invite"),message:Object(Ce.default)("Are you sure you want to reject this invite?"),confirmLabel:Object(Ce.default)("Yes"),cancelLabel:Object(Ce.default)("No")})},Wze=a("P9va"),Qze=a.n(Wze);function Gze(e){const{className:t,children:a,userID:n}=e;return y.a.createElement("div",{className:t},n?y.a.createElement(jI.a,{className:Qze.a.underlay,to:"#!/settings/users-sharing/"+n}):null,a)}Gze.defaultProps={className:Qze.a.row};var Kze=Gze,Yze=a("4vwf"),qze=a.n(Yze);function Zze({className:e,children:t}){return y.a.createElement("div",{className:e},t)}Zze.defaultProps={className:qze.a.container};var Xze=Zze,Jze=a("HCZj"),$ze=a.n(Jze);var eUe=function(e){const{serverEntityID:t,thumb:a}=e;return y.a.createElement("div",{className:$ze.a.container},y.a.createElement(Q0.a,{serverEntityID:t,url:a,width:50,height:50}))};function tUe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-admin-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M120 560h320v-80H120v80zM268.298 78.258C251.923 73.25 240 58.004 240 40c0-22.075 17.923-40 40-40s40 17.925 40 40c0 17.304-11.012 32.058-26.404 37.625L360 280l128.004-96.003A39.81 39.81 0 0 1 480 160c0-22.075 17.925-40 40-40s40 17.925 40 40c0 22.077-17.925 40-40 40a39.85 39.85 0 0 1-14.858-2.855L440 360v80H120v-80L54.858 197.145A39.845 39.845 0 0 1 40 200c-22.077 0-40-17.923-40-40 0-22.075 17.923-40 40-40s40 17.925 40 40c0 9-2.98 17.31-8.004 23.997L200 280l68.298-201.742z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}tUe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var aUe=tUe,nUe=a("qM40"),iUe=a.n(nUe);var rUe=function(e){const{title:t,subtitle:a,restrictionProfile:n,isAdmin:i,isRestricted:r}=e;let s;return r&&(s=n?xIe.d(n).title:Object(Ce.default)("Managed User")),y.a.createElement("div",{className:iUe.a.container},y.a.createElement("div",{className:iUe.a.titleContainer},y.a.createElement("div",{className:iUe.a.title},t),i?y.a.createElement("div",{className:iUe.a.statusContainer},y.a.createElement("div",{className:iUe.a.status},Object(Ce.default)("Admin")),y.a.createElement(aUe,{className:iUe.a.admin})):null,s?y.a.createElement("div",{className:iUe.a.status},s):null),a?y.a.createElement("div",{className:iUe.a.subtitle},y.a.createElement(Hi.b,null),a):null)},sUe=a("qr/E"),oUe=a.n(sUe);function lUe(e){const{serverShares:t}=e;let a=0,n=0;return t.forEach(e=>{e.owned?a+=e.numLibraries:n+=e.numLibraries}),y.a.createElement("div",{className:oUe.a.container},n?y.a.createElement("div",{className:oUe.a.status},1===n?Object(Ce.default)("Shares 1 library with you"):Object(Ce.default)("Shares {libraryCount} libraries with you",{libraryCount:n})):null,a?y.a.createElement("div",{className:oUe.a.status},1===a?Object(Ce.default)("Sharing 1 library with them"):Object(Ce.default)("Sharing {libraryCount} libraries with them",{libraryCount:a})):null)}lUe.defaultProps={serverShares:[]};var cUe=lUe,dUe=a("O6KH"),uUe=a.n(dUe);var pUe=function(e){const{serverEntityID:t,thumb:a,friendlyName:n,home:i,serverShares:r,isAccepting:s,isRemoving:o,hasOtherHomeUsers:l,isSignedInUserAdmin:c,dispatchAcceptInvite:d,dispatchRejectInvite:u}=e,[p,m]=Object(g.useState)(!1),[h,f]=Object(g.useState)(!1),b=Object(g.useCallback)(()=>i?m(!0):d(),[i,d]),v=Object(g.useCallback)(()=>f(!0),[]),I=Object(g.useCallback)(()=>m(!1),[]),S=Object(g.useCallback)(()=>f(!1),[]);return y.a.createElement(Kze,null,y.a.createElement(eUe,{serverEntityID:t,thumb:a}),y.a.createElement(rUe,{title:n,subtitle:i?Object(Ce.default)("Wants you to join their home"):Object(Ce.default)("Wants to share with you")}),i?y.a.createElement("div",{className:uUe.a.homeInvite},Object(Ce.default)("Awaiting your response")):y.a.createElement(cUe,{serverShares:r}),y.a.createElement(Xze,null,y.a.createElement(Uze,{isAccepting:s,onPress:b}),y.a.createElement(Fze,{title:Object(Ce.default)("Reject Invite"),onPress:v})),i?y.a.createElement(Hze,{isOpen:p,metricsPage:It.zb,hasOtherHomeUsers:l,isSignedInUserAdmin:c,onConfirm:d,onCancel:I}):null,y.a.createElement(_ze,{isOpen:h,metricsPage:It.zb,isConfirmButtonSpinning:o,onConfirm:u,onCancel:S}))};var mUe=Object(v.b)(null,(function(e,t){return{dispatchAcceptInvite(){e(Object(VS.b)({inviteID:t.id}))},dispatchRejectInvite(){e(Object(VS.w)({inviteID:t.id}))}}}))(pUe);var hUe=function(e){return y.a.createElement(Xc.a,{...e,title:Object(Ce.default)("Cancel Invite"),message:Object(Ce.default)("Are you sure you want to cancel this invite?"),confirmLabel:Object(Ce.default)("Yes"),cancelLabel:Object(Ce.default)("No")})},gUe=a("n6F1"),yUe=a.n(gUe);var fUe=function(e){const{serverEntityID:t,thumb:a,friendlyName:n,home:i,serverShares:r,isRemoving:s,dispatchCancelInvite:o}=e,[l,c]=Object(g.useState)(!1);return y.a.createElement(Kze,{className:yUe.a.row},y.a.createElement(eUe,{serverEntityID:t,thumb:a}),y.a.createElement(rUe,{title:n,subtitle:Object(Ce.default)("Invite pending")}),i?y.a.createElement("div",{className:yUe.a.homeInvite},y.a.createElement("div",{className:yUe.a.status},Object(Ce.default)("Awaiting their response"))):y.a.createElement(cUe,{serverShares:r}),y.a.createElement(Xze,{className:yUe.a.actions},y.a.createElement(Fze,{title:Object(Ce.default)("Cancel Invite"),onPress:Object(g.useCallback)(()=>c(!0),[])})),y.a.createElement(hUe,{isOpen:l,metricsPage:It.zb,isConfirmButtonSpinning:s,onConfirm:o,onCancel:Object(g.useCallback)(()=>c(!1),[])}))};var bUe=Object(v.b)(null,(function(e,t){return{dispatchCancelInvite(){e(Object(VS.e)({inviteID:t.id}))}}}))(fUe),vUe=a("8cAR"),IUe=a.n(vUe);var SUe=function({title:e,children:t}){return y.a.createElement("div",{className:IUe.a.header},y.a.createElement("div",{className:IUe.a.pageHeaderLeft},e),y.a.createElement("div",{className:IUe.a.pageHeaderRight},t))},EUe=a("GhQZ");function OUe(e){const{title:t,serverShares:a,...n}=e;let i=Object(Ce.default)("Are you sure you want to remove {friendName}?",{friendName:t}),r=0,s=0;a.forEach(e=>{e.owned?r+=e.numLibraries:s+=e.numLibraries});const o=function(e,t,a){return e&&t?a>1?Object(Ce.default)("You are sharing {libraryCount} libraries with each other",{libraryCount:a}):Object(Ce.default)("You are sharing {libraryCount} library with each other",{libraryCount:a}):e?a>1?Object(Ce.default)("You are sharing {libraryCount} libraries with this friend",{libraryCount:a}):Object(Ce.default)("You are sharing {libraryCount} library with this friend",{libraryCount:a}):t?a>1?Object(Ce.default)("This friend is sharing {libraryCount} libraries with you",{libraryCount:a}):Object(Ce.default)("This friend is sharing {libraryCount} library with you",{libraryCount:a}):void 0}(r,s,r+s);return o&&(i+=" "+o),y.a.createElement(Xc.a,{...n,kind:ao.a,title:Object(Ce.default)("Remove Friend"),message:i,confirmLabel:Object(Ce.default)("Remove")})}OUe.defaultProps={serverShares:[]};var MUe=OUe,CUe=a("W/pu"),jUe=a.n(CUe);var DUe=function(e){const{serverEntityID:t,id:a,title:n,thumb:i,serverShares:r,home:s,restricted:o,isRemoving:l,dispatchRemove:c}=e,d=Object(sE.a)(),u=Object(Or.a)(l);return Object(g.useEffect)(()=>{u&&!l&&d.isOpen&&d.onClose()},[u,l,d]),s||o?null:y.a.createElement(Kze,{className:jUe.a.row,userID:a},y.a.createElement(eUe,{serverEntityID:t,thumb:i}),y.a.createElement(rUe,{title:n}),y.a.createElement(cUe,{serverShares:r}),y.a.createElement(Xze,{className:jUe.a.actions},y.a.createElement(Fze,{title:Object(Ce.default)("Remove User"),onPress:d.onOpen})),y.a.createElement(MUe,{isOpen:d.isOpen,metricsPage:It.zb,title:n,serverShares:r,isConfirmButtonSpinning:l,onConfirm:c,onCancel:d.onClose}))};var PUe=Object(v.b)((function(){return Object(he.a)(Object(EUe.a)(),e=>e)}),(function(e,t){return{dispatchRemove(){e(Object(VS.x)({friendEntityID:t.friendEntityID}))}}}))(DUe);function TUe(){return Object(he.a)(DIe.a,(e,t)=>t.homeUserEntityID,(e,t)=>e[t])}var wUe=function(e){const{isSignedInUser:t,isAdmin:a,isRestricted:n,...i}=e;let r=Object(Ce.default)("Remove User"),s=Object(Ce.default)("You will no longer be able to switch to this user."),o=Object(Ce.default)("Remove");return t?(r=Object(Ce.default)("Leave Home"),s=a?Object(Ce.default)("You are the admin in this home. If you leave, the remaining users will be removed and managed users will be deleted."):Object(Ce.default)("Are you sure you want to leave this home?"),o=Object(Ce.default)("Leave")):n&&(s=Object(Ce.default)("Removing a managed user from your home will delete the managed user. Watched status for this user will be lost. This cannot be undone.")),y.a.createElement(Xc.a,{...i,kind:ao.a,title:r,message:s,confirmLabel:o})};function NUe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-locked-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M120 240V120h.01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h40zm180 240v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40zm20-400h-80c-22.077 0-40 17.925-40 40v120h160V120c0-22.075-17.923-40-40-40z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}NUe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var xUe=NUe;function AUe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-unlocked-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M240 80c-22.077 0-40 17.925-40 40h-80 .01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h280V120c0-22.075-17.923-40-40-40h-80zm60 400v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}AUe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var LUe=AUe,kUe=a("H3DA"),RUe=a.n(kUe);function zUe(e){const{isProtected:t,isGuest:a}=e,n=t?xUe:LUe;return y.a.createElement("div",{className:RUe.a.container},y.a.createElement("div",{title:t?Object(Ce.default)("Has PIN"):Object(Ce.default)("No PIN")},a?null:y.a.createElement(n,{className:t?RUe.a.lockedIcon:RUe.a.icon})))}zUe.defaultProps={isProtected:!1,isGuest:!1};var UUe=zUe,VUe=a("Hbfx"),BUe=a.n(VUe);var FUe=function(e){const{serverEntityID:t,id:a,title:n,thumb:i,protected:r,restricted:s,serverShares:o,isSignedInUserAdmin:l,isSignedInUserRestricted:c,isSignedInUser:d,admin:u,guest:p,restrictionProfile:m,hasOtherHomeUsers:h,isRemoving:f,dispatchEditPIN:b,dispatchRemove:v}=e,[I,S]=Object(g.useState)(!1),E=Object(Or.a)(f);Object(g.useEffect)(()=>{E&&!f&&I&&S(!1)},[E,f,I]);const O=Object(g.useCallback)(()=>{S(!0)},[]),M=Object(g.useCallback)(()=>{S(!1)},[]);let C;C=!!l||(c?u:!s);const j=!d&&C,D=l&&!d&&!p,P=d&&!s,T=l&&s&&!p;return y.a.createElement(Kze,{className:BUe.a.row,userID:j?a:null},y.a.createElement(eUe,{serverEntityID:t,thumb:i}),y.a.createElement(rUe,{title:n,restrictionProfile:m,isAdmin:u,isRestricted:s}),y.a.createElement(UUe,{isProtected:r,isGuest:p}),y.a.createElement(cUe,{serverShares:o}),y.a.createElement(Xze,{className:BUe.a.actions},P||T?y.a.createElement(jI.a,{className:BUe.a.editPin,onPress:b},r?Object(Ce.default)("Edit PIN"):Object(Ce.default)("Set PIN")):null,D?y.a.createElement(Fze,{title:Object(Ce.default)("Remove From Plex Home"),onPress:O}):null,d&&h&&!s?y.a.createElement(Fze,{title:Object(Ce.default)("Leave Home"),onPress:O}):null),y.a.createElement(wUe,{isOpen:I,metricsPage:It.zb,isSignedInUser:d,isAdmin:u,isRestricted:s,isConfirmButtonSpinning:f,onConfirm:v,onCancel:M}))};const HUe=Object(he.a)(DIe.a,Object(kt.a)("id"),(e,t)=>{const a=Object.values(e).find(e=>e.id===t);return!(!a||!a.restricted)});var _Ue=Object(v.b)((function(){return Object(he.a)((e,{signedInUserId:t})=>t,HUe,TUe(),Object(he.a)(TUe(),_0.a,H0.a,(e,t,a)=>t.find(t=>a[t].id===e.id)),(e,t,a,n)=>({...a,serverShares:n&&n.serverShares,isSignedInUser:a.id===e,isSignedInUserRestricted:t}))}),(function(e,t){return{dispatchRemove(){e(Object(VS.z)({homeUserEntityID:t.homeUserEntityID}))},dispatchEditPIN(){e(Object(VS.j)({homeUserEntityID:t.homeUserEntityID}))}}}))(FUe),WUe=a("FuJG"),QUe=a.n(WUe);function GUe(e,t){return e.filter(e=>e.home===t)}var KUe=function(e){const{serverEntityID:t,isPending:a,isPopulated:n,allFriendsError:i,allFriends:r,homeDetailsError:s,homeUsersError:o,homeUsers:l,invitesError:c,invites:d,sentInvitesError:u,sentInvites:p,signedInUserId:m,guestEnabled:h,isTogglingGuestUser:f,isSignedInUserAdmin:b,isFullUser:v,hasPlexPass:I,onToggleGuestUser:S}=e,E=GUe(d,!0),O=GUe(d,!1),M=GUe(p,!0),C=GUe(p,!1),j=Object(Me.a)(),D=Rn.a.parseBoolean(j.addManagedUser),[P,T]=Object(g.useState)(D),[w,N]=Object(g.useState)(!1),[x,A]=Object(g.useState)(D),L=Object(g.useCallback)(()=>T(!0),[]),k=Object(g.useCallback)(()=>{T(!0),N(!0)},[]),R=Object(g.useCallback)(()=>{T(!0),A(!0)},[]),z=Object(g.useCallback)(()=>{T(!1),N(!1),A(!1)},[]);let U;if(s?U=Object(Ce.default)("An error occurred retrieving home details. Please try again."):o?U=Object(Ce.default)("An error occurred retrieving home users. Please try again."):i?U=Object(Ce.default)("An error occurred retrieving friends. Please try again."):(c||u)&&(U=Object(Ce.default)("An error occurred retrieving invites. Please try again.")),U)return y.a.createElement(Kk.a,{title:U});const V=n&&v;return y.a.createElement(l9,{metricsPage:It.a,metricsPane:"users-sharing"},y.a.createElement(p9,null,Object(Ce.default)("Users & Sharing")),a&&!n?y.a.createElement(sSe,null):null,n?y.a.createElement("div",{className:QUe.a.homeUsersList},y.a.createElement(SUe,{title:Object(Ce.default)("Home Users")},I&&b?y.a.createElement(Ih.a,{className:QUe.a.button,size:cc.c,onPress:k},Object(Ce.default)("Invite Home User")):null,b?y.a.createElement(bL.a,{className:QUe.a.button,size:cc.c,onPress:R},Object(Ce.default)("Create Managed User")):null,b?y.a.createElement(bL.a,{className:QUe.a.button,size:cc.c,isSpinning:f,isDisabled:f,onPress:S},h?Object(Ce.default)("Disable Guest"):Object(Ce.default)("Enable Guest")):null),E.map(e=>y.a.createElement(mUe,{key:e.id,...e,serverEntityID:t,hasOtherHomeUsers:l.length>1,isSignedInUserAdmin:b})),l.map(e=>y.a.createElement(_Ue,{key:e,serverEntityID:t,homeUserEntityID:e,signedInUserId:m,isSignedInUserAdmin:b,hasOtherHomeUsers:l.length>1})),b&&!I?y.a.createElement("div",{className:QUe.a.upsell},y.a.createElement(LT.a,{className:QUe.a.upsellMessage,message:Object(Ce.default)("Adding other Plex users to your home requires a Plex Pass. {openLink}Learn More{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:jI.a,to:"https://www.plex.tv/plex-pass/",target:"_blank",kind:ao.d}]})):null,M.map(e=>y.a.createElement(bUe,{key:e.id,...e,serverEntityID:t}))):null,V?y.a.createElement(y.a.Fragment,null,y.a.createElement(SUe,{title:Object(Ce.default)("Friends")},y.a.createElement(Ih.a,{className:QUe.a.button,size:cc.c,onPress:L},Object(Ce.default)("Add A Friend"))),O.map(e=>{const a=e.Server?e.Server.map(e=>({...e,owned:!1})):void 0;return y.a.createElement(mUe,{key:e.id,...e,serverEntityID:t,serverShares:a})}),r.map(e=>y.a.createElement(PUe,{key:e,serverEntityID:t,friendEntityID:e})),C.map(e=>{const a=e.Server?e.Server.map(e=>({...e,owned:!0})):[];return y.a.createElement(bUe,{key:e.id,...e,serverEntityID:t,serverShares:a})})):null,y.a.createElement(yd.a,{metricsProperties:{context:aS.USERS_AND_SHARING},serverEntityID:t,isAddingHomeUser:w,isCreatingManagedUser:x,isOpen:P,onModalClose:z}))};const YUe=Object(he.a)(DIe.a,AU.a,(e,t)=>{const a=Object.values(e).find(e=>e.id===t.id);return!(!a||!a.admin)}),qUe=Object(he.a)(e=>e.cloudServer,AU.a,PIe.a,Lze,YUe,Object(kt.a)("hasPlexPass"),(e,t,a,n,i,r)=>({serverEntityID:e,isPending:t.isAllFriendsPending||a.isHomeDetailsPending||a.isHomeUsersPending||a.isInvitesPending||a.isSentInvitesPending,isPopulated:t.isAllFriendsPopulated&&a.isHomeDetailsPopulated&&a.isHomeUsersPopulated&&a.isInvitesPopulated&&a.isSentInvitesPopulated,allFriendsError:t.allFriendsError,allFriends:t.allFriends,homeDetailsError:a.homeDetailsError,homeDetails:a.homeDetails,homeUsersError:a.homeUsersError,homeUsers:a.homeUsers,invitesError:a.invitesError,invites:a.invites,sentInvitesError:a.sentInvitesError,sentInvites:a.sentInvites,signedInUserId:t.id,guestEnabled:n.guestEnabled,isTogglingGuestUser:n.isTogglingGuestUser,isSignedInUserAdmin:i,isFullUser:t.isFullUser,hasPlexPass:r})),ZUe={dispatchFetchAllFriends:VS.m,dispatchFetchHomeDetails:VS.n,dispatchFetchHomeUsers:VS.o,dispatchFetchInvites:VS.p,dispatchFetchSentInvites:VS.r,onToggleGuestUser:VS.Q};class XUe extends g.Component{componentDidMount(){Object(Dt.a)(()=>{this.props.dispatchFetchAllFriends(),this.props.dispatchFetchHomeDetails(),this.props.dispatchFetchHomeUsers(),this.props.dispatchFetchInvites(),this.props.dispatchFetchSentInvites()})}render(){const{dispatchFetchAllFriends:e,dispatchFetchHomeDetails:t,dispatchFetchHomeUsers:a,dispatchFetchInvites:n,dispatchFetchSentInvites:i,...r}=this.props;return y.a.createElement(KUe,{...r})}}var JUe=Object(v.b)(qUe,ZUe)(XUe),$Ue=a("KN9C"),eVe=a.n($Ue);class tVe extends g.Component{constructor(){super(...arguments),this.onTogglePress=e=>{this.props.onToggle(this.props.index)},this.onRemovePress=e=>{this.props.onRemove(this.props.url)},this.onSubmit=e=>{this.props.onSubmit(this.props.url,e.url)}}render(){const{isDirty:e,isOpen:t,isUpdating:a,isRemoving:n,url:i,error:r,onFormChange:s}=this.props,o=a||n;return y.a.createElement(e7,{isOpen:t,closedNode:y.a.createElement("div",null,y.a.createElement(E9.a,{className:eVe.a.label},Object(Ce.default)("URL")),i),errorMessage:zhe(r),onTogglePress:this.onTogglePress},y.a.createElement(H9.b,{onSubmit:this.onSubmit,onChange:s},y.a.createElement(fL.b,{focusOnMount:!0,selectTextOnFocus:!0,labelText:Object(Ce.default)("URL"),isDisabled:o,name:"url",initialValue:i,validations:i?[fSe]:[]}),y.a.createElement("div",{className:eVe.a.buttons},i?y.a.createElement(bL.a,{className:eVe.a.dangerButton,kind:ao.a,isSpinning:n,isDisabled:o,onPress:this.onRemovePress},Object(Ce.default)("Remove")):null,y.a.createElement(bL.a,{className:eVe.a.button,type:"submit",kind:ao.d,isSpinning:a,isDisabled:o||!e},Object(Ce.default)("Save Changes")))))}}var aVe=ML(tVe,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"});var nVe=function(e){const{hasPlexSubscription:t,origin:a,modalMetricsProperties:n}=e;return t?null:y.a.createElement(Lre,{origin:a,modalMetricsProperties:n})};const iVe=Object(he.a)(AU.a,e=>({hasPlexSubscription:!!e&&e.hasPlexSubscription})),rVe=Object(v.b)(iVe)(nVe);rVe.propTypes={...rVe.propTypes};var sVe=rVe;function oVe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",id:"plex-icon-marketing-webhooks"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M6.665 4.166a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm3.334 0a.834.834 0 1 1-1.668 0 .834.834 0 0 1 1.668 0zm3.333 0a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm2.5 22.498l.001-.002a.834.834 0 0 1 0 1.667H4.168a4.17 4.17 0 0 1-4.166-4.166V4.165A4.17 4.17 0 0 1 4.168-.001h26.664a4.17 4.17 0 0 1 4.166 4.166v13.333a.834.834 0 0 1-1.667 0V8.332H1.667v15.833c0 1.378 1.121 2.5 2.5 2.5h11.665zM4.165 1.666a2.502 2.502 0 0 0-2.5 2.5v2.5H33.33v-2.5c0-1.378-1.12-2.5-2.5-2.5H4.166zm35.418 30.03l.002-.002a.83.83 0 0 1 .305 1.136l-2.499 4.33a.821.821 0 0 1-.506.388.85.85 0 0 1-.633-.085l-1.324-.766a8.668 8.668 0 0 1-1.596.921v1.544c0 .46-.373.834-.834.834h-5a.834.834 0 0 1-.833-.834v-1.536a8.862 8.862 0 0 1-1.62-.924l-1.344.77a.836.836 0 0 1-1.136-.306l-2.5-4.33a.834.834 0 0 1 .305-1.138l1.327-.769a7.67 7.67 0 0 1 0-1.861l-1.325-.766a.832.832 0 0 1-.304-1.139l2.5-4.33a.836.836 0 0 1 1.137-.306l1.34.77a9.048 9.048 0 0 1 1.619-.924V20.83c0-.46.373-.834.833-.834h5c.46 0 .834.373.834.834v1.543a8.84 8.84 0 0 1 1.594.92l1.32-.766a.822.822 0 0 1 .634-.085.837.837 0 0 1 .506.389l2.5 4.33a.834.834 0 0 1-.305 1.138l-1.329.769a8.1 8.1 0 0 1 .002 1.86l1.33.768zm-3.22 3.91v.001l1.665-2.884-1.1-.635a.832.832 0 0 1-.401-.874c.075-.406.113-.815.113-1.215 0-.396-.038-.805-.115-1.215a.83.83 0 0 1 .402-.873l1.098-.635-1.666-2.885-1.085.631a.837.837 0 0 1-.96-.089 7.087 7.087 0 0 0-2.108-1.216.833.833 0 0 1-.542-.781v-1.27h-3.333v1.27a.844.844 0 0 1-.541.785c-.808.3-1.564.731-2.129 1.216a.832.832 0 0 1-.956.09l-1.105-.636-1.67 2.888 1.096.635a.835.835 0 0 1 .402.871c-.08.43-.12.83-.12 1.215.002.408.04.815.117 1.215a.832.832 0 0 1-.404.871l-1.096.635 1.669 2.889 1.11-.636a.831.831 0 0 1 .956.09c.565.486 1.321.916 2.126 1.216.327.12.544.432.544.781v1.27h3.333v-1.27c0-.348.217-.66.544-.781a6.962 6.962 0 0 0 2.106-1.216.837.837 0 0 1 .96-.09l1.09.632zm-6.39-9.774a4.17 4.17 0 0 1 4.166 4.166 4.17 4.17 0 0 1-4.166 4.166 4.17 4.17 0 0 1-4.166-4.166 4.17 4.17 0 0 1 4.166-4.166zm0 6.666c1.379 0 2.5-1.122 2.5-2.5 0-1.379-1.121-2.5-2.5-2.5a2.502 2.502 0 0 0-2.5 2.5c0 1.378 1.122 2.5 2.5 2.5z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}oVe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var lVe=oVe,cVe=a("2ZL2"),dVe=a.n(cVe);var uVe=function(e){const{supportPageUrl:t,hasWebhooksFeature:a,addWebHookButton:n}=e;return y.a.createElement("div",{className:dVe.a.infoContainer},y.a.createElement(xre,{iconComponent:lVe,title:Object(Ce.default)("Webhooks"),text:Object(Ce.default)('Hooked on home automation? With a Plex Pass, you can setup "webhooks" - Have Plex dim the lights when you start a movie, or send a tweet after you finish an episode of your favourite TV show.'),moreInfo:y.a.createElement(LT.a,{message:Object(Ce.default)("See our {openLinkDocumentation}documentation{closeLinkDocumentation} for example projects that showcase the power of webhooks."),tags:[{open:"openLinkDocumentation",close:"closeLinkDocumentation",component:jI.a,kind:ao.d,to:t,target:"_blank"}]})},a?n:y.a.createElement(sVe,{origin:Cre.j,modalMetricsProperties:{context:"webhooks"}})))},pVe=a("M1AR"),mVe=a.n(pVe);class hVe extends g.Component{constructor(e,t){super(e,t),this.onToggle=e=>{const t=this.state.openFormSectionIndex===e;this.props.onErrorDismiss(),this.props.onToggle(),this.setState({openFormSectionIndex:t?null:e})},this.onRemove=e=>{this.setState({removeWebhookModalURL:e,isRemoveWebhookModalOpen:!0})},this.onSubmit=(e,t)=>{e===t?(this.setState({openFormSectionIndex:null}),this.props.onToggle()):this.props.onSubmit(e,t)},this.onRemoveWebhookConfirmPress=e=>{const{removeWebhookModalURL:t}=this.state;this.props.onRemove(t)},this.onRemoveWebhookCancelPress=e=>{this.setState({isRemoveWebhookModalOpen:!1})},this.state={openFormSectionIndex:null,isRemoveWebhookModalOpen:!1}}componentWillReceiveProps(e){!e.isRemovingWebhooks&&this.props.isRemovingWebhooks&&this.setState({openFormSectionIndex:null,isRemoveWebhookModalOpen:!1});const t=e.webhooks===this.props.webhooks?-1:M.a.findIndex(e.webhooks,e=>""===e.url),a=-1!==t,n=!e.isUpdatingWebhooks&&!e.updateWebhooksError&&this.props.isUpdatingWebhooks;a?this.setState({openFormSectionIndex:t}):n&&this.setState({openFormSectionIndex:null})}render(){const{isUserRestricted:e,hasWebhooksFeature:t,isWebhooksPending:a,isWebhooksPopulated:n,webhooksError:i,isUpdatingWebhooks:r,isRemovingWebhooks:s,updateWebhooksError:o,webhooks:l,onAddWebhookPress:c}=this.props,{openFormSectionIndex:d,removeWebhookModalURL:u,isRemoveWebhookModalOpen:p}=this.state;if(e)return y.a.createElement(Kk.a,{title:Object(Ce.default)("You're not supposed to be here"),description:Object(Ce.default)("You don't have access to webhooks settings")});if(t&&a)return y.a.createElement(qk.a,null,y.a.createElement(HO.a,null));const m=l&&l.length,h=!t||!m,g=l&&M.a.find(l,e=>""===e.url),f=n&&l&&m<5&&!g,b=y.a.createElement(Ih.a,{kind:ao.d,onPress:c},Object(Ce.default)("Add webhook"));return y.a.createElement(l9,{metricsPage:It.a,metricsPane:"webhooks"},h?y.a.createElement(uVe,{supportPageUrl:up.o,hasWebhooksFeature:t,addWebHookButton:b}):y.a.createElement(y.a.Fragment,null,y.a.createElement(p9,null,Object(Ce.default)("Webhooks")),y.a.createElement("p",null,Object(Ce.default)("Plex Media Server will make requests to these webhooks on various media playback events.")),y.a.createElement("p",null,y.a.createElement(jI.a,{kind:ao.d,to:up.o,target:"_blank"},Object(Ce.default)("Learn more"))),l.map((e,t)=>{const a=d===t;return y.a.createElement(aVe,{key:t,index:t,url:e.url,isOpen:a,isUpdating:a&&r,isRemoving:a&&s,error:a?o:null,onRemove:this.onRemove,onToggle:this.onToggle,onSubmit:this.onSubmit})}),f?y.a.createElement("div",{className:mVe.a.buttons},b):null),i?y.a.createElement("div",{className:mVe.a.error},Object(Ce.default)("An error occurred retrieving webhooks. Please try again.")):null,y.a.createElement(Xc.a,{isConfirmButtonSpinning:s,isCancelButtonDisabled:s,isOpen:p,metricsPage:It.z,title:Object(Ce.default)("Remove Webhook"),message:Object(Ce.default)("Plex will no longer post updates to {url}.",{url:u}),confirmLabel:Object(Ce.default)("Remove"),kind:ao.a,onConfirm:this.onRemoveWebhookConfirmPress,onCancel:this.onRemoveWebhookCancelPress}))}}var gVe=hVe;const yVe=Object(he.a)(PIe.a,Object(be.a)(ve.H),(e,t)=>({isUserRestricted:!!e.restricted,webhooks:e.webhooks,isWebhooksPending:e.isWebhooksPending,isWebhooksPopulated:e.isWebhooksPopulated,webhooksError:e.webhooksError,isUpdatingWebhooks:e.isUpdatingWebhooks,isRemovingWebhooks:e.isRemovingWebhooks,updateWebhooksError:e.updateWebhooksError,hasWebhooksFeature:t})),fVe={dispatchFetchWebhooks:VS.s,onAddWebhookPress:()=>Object(VS.d)(),onErrorDismiss:VS.h,onRemove:e=>Object(VS.A)(e),onSubmit:(e,t)=>Object(VS.D)({oldUrl:e,newUrl:t}),onToggle:()=>Object(VS.A)("")};class bVe extends g.Component{componentDidMount(){this.props.hasWebhooksFeature&&Object(Dt.a)(()=>{this.props.dispatchFetchWebhooks()}),this.props.onErrorDismiss()}render(){const{dispatchFetchWebhooks:e,...t}=this.props;return y.a.createElement(gVe,{...t})}}var vVe=Object(v.b)(yVe,fVe)(bVe),IVe=a("wAGh");var SVe=function(){return UB("playQueue")};var EVe=function(e=0){return Object(he.a)(SVe(),jg.a,(t,a)=>{const n=t?t.playQueueItems:[];if(n.length){const i=t.currentIndex;let r=i+e;t.repeat&&(r=function(e,t,a){return(e+t%a+a)%a}(i,e,t.length));const s=n[r];return s&&a[s]}})};var OVe=function(){return Object(he.a)(UB("currentDecision"),EVe(),(e,t)=>{const a=e;if(a&&a.playQueueItemID===t.playQueueItemID)return a})};var MVe=function(e=0){return Object(he.a)(EVe(e),DO.a,(e,t)=>{if(e&&e.metadataItem)return t[e.metadataItem]})};function CVe(){return Object(Kt.a)(Object(he.a)(Object(he.a)(MVe(),e=>{var t;return null!=(t=null==e?void 0:e.Marker)?t:[]}),Object(be.a)(ve.n),Object(be.a)(ve.o),(e,t,a)=>e.filter(e=>t&&"commercial"===e.type||a&&"intro"===e.type)),e=>e)}function jVe(e=0){return Object(he.a)(EVe(e),DO.a,(e,t)=>{if(e)return t[e.metadataItem]})}var DVe=Object(he.a)(yMe(),e=>!(!e||!qr.l(Object(Jr.a)(e.identifier,e.providerIdentifier),[qr.b,qr.c])));function PVe(){return Object(he.a)(DVe,jVe(),QB(),OVe(),(e,t,a,n)=>{let i;return e?i=a:n&&(i=t.Media[n.mediaIndex]),i||null})}var TVe=a("fArA");const wVe=Object(g.createContext)(),NVe=Object(yo.a)("UPDATE_POSITION_MILLISECONDS"),xVe=Object(yo.a)("RESET_POSITION_MILLISECONDS");function AVe(e,{type:t,payload:a}){switch(t){case"UPDATE_POSITION_MILLISECONDS":return a;case"RESET_POSITION_MILLISECONDS":return 0;default:return e}}var LVe=function(e){var t;const a={dispatchUpdatePositionMilliseconds:NVe,dispatchResetPositionMilliseconds:xVe};return Object(v.b)(null,a,null,{context:wVe})(((t=class extends g.Component{constructor(){super(...arguments),this.onPositionMillisecondsChange=e=>{this.props.dispatchUpdatePositionMilliseconds(e)}}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}componentWillUnmount(){this.props.dispatchResetPositionMilliseconds()}render(){const{dispatchUpdatePositionMilliseconds:t,dispatchResetPositionMilliseconds:a,...n}=this.props;return y.a.createElement(e,{...n,onPositionMillisecondsChange:this.onPositionMillisecondsChange})}}).displayName=`PositionMillisecondsMonitor(${Object(yO.a)(e)})`,t.WrappedComponent=e,t.propTypes={dispatchUpdatePositionMilliseconds:Qn.a.func.isRequired,dispatchResetPositionMilliseconds:Qn.a.func.isRequired},t))};function kVe(){return Object(he.a)(BM,UB("playbackSpeed"),MVe(),(e,t,a)=>e?1:t||a&&a.playbackSpeed||1)}function RVe(e){const t=e.remotePlayer;return t?t.volume:Object(E.c)("selectLocalVolume")(e)}var zVe=function(e){if(!e)return{};const t=e.captureBuffer,a={liveTVSessionSubscriptionKey:e.key,liveTVSessionChannelIdentifier:e.channelIdentifier,liveTVSessionCurrentPosition:e.currentPosition,liveTVSessionStartedAt:e.startedAt};if(t){const n=t.startedAt,i=e.startedAt,r=n||i;Object.assign(a,{liveTVPositionSeconds:e.currentPosition-r,liveTVSessionSeekRangeStartedAt:t.startedAt,liveTVSessionSeekStartSeconds:t.seekStartSeconds,liveTVSessionSeekEndSeconds:t.seekEndSeconds})}return a},UVe=a("QNOv");var VVe=function(e=0){return Object(he.a)(EVe(e),DO.a,Lt.a,(e,t,a)=>{if(!e||!e.metadataItem)return;const n=t[e.metadataItem];return n&&a[n.providerEntityID]})};var BVe=function(){return Object(he.a)(UB("mediaIndex"),EVe(),DO.a,(e=0,t,a)=>{if(!t||!t.metadataItem)return;const{Media:n}=a[t.metadataItem];return n[e]})};var FVe=function(){return Object(he.a)(UB("partIndex"),BVe(),(e=0,t)=>{if(t)return t.Part[e]})};var HVe=function(){return Object(he.a)(FVe(),e=>{if(!e)return{videoStreams:[],selectedVideoStream:null,audioStreams:[],selectedAudioStream:null,subtitlesStreams:[],selectedSubtitlesStream:null};const t=rC.a.get("video").id,a=rC.a.get("audio").id,n=rC.a.get("subtitles").id,i=e.Stream.filter(e=>e.streamType===t),r=e.Stream.filter(e=>e.streamType===a),s=e.Stream.filter(e=>e.streamType===n),o=i[0],l=r.find(e=>e.selected),c=s.find(e=>e.selected);return{videoStreams:i,selectedVideoStream:o,audioStreams:r,selectedAudioStream:l,subtitlesStreams:s,selectedSubtitlesStream:c}})};function _Ve(){return Object(he.a)(DVe,jVe(),WB(),(e,t,a)=>e?a:t)}var WVe=function(){return Object(he.a)(Object(E.c)("selectRemoteQuality"),e=>{let t=aC.a.getQualityByIndex(e).bitrate;return null==t&&(t=2e5),1e3*t})};var QVe=function(){return Object(he.a)(UB("serverEntityID"),OVe(),Am.a,(e,t,a)=>t&&t.transcodeServerEntityID?a[t.transcodeServerEntityID]:e?a[e]:void 0)},GVe=a("qNzc"),KVe=a("jvu3"),YVe=a("P0vZ"),qVe=a.n(YVe);class ZVe extends g.Component{constructor(e,t){super(e,t),this._mediaComponent=Object(E.c)("mediaComponent")}render(){const{isDecisionPending:e,isDecisionDirectPlay:t,isDecisionDirectStreamAudio:a,isDecisionDirectStreamVideo:n,isLibraryProvider:i,hasStreamProtocol:r,isPaused:s,isAdVisible:o,decisionUrl:l,decisionProtocol:c,decisionError:d,decisionDrm:u,decisionCertificate:p,decisionLicense:m,media:h,mediaType:f,mediaSubtype:b,placement:v,shouldCoverWhenDecisionPending:I,...S}=this.props;if(e)return I?y.a.createElement("div",{className:qVe.a.isDecisionPending}):null;const E=this._mediaComponent.getComponent({drm:u,protocol:c,isDirectPlay:t,isDirectStreamAudio:a,isDirectStreamVideo:n,isLibraryProvider:i,hasStreamProtocol:r,media:h}),O=f===_s.a?KVe.b:v;return y.a.createElement(g.Suspense,{fallback:null},y.a.createElement(E,{...S,key:l,src:l,paused:s||o,placement:O,media:h,mediaType:f,mediaSubtype:b,drm:u,license:m,certificate:p,isDecisionDirectPlay:t,isDecisionDirectStreamAudio:a,isDecisionDirectStreamVideo:n}))}}var XVe=ZVe;function JVe(e){const{playerType:t,mediaType:a,mediaSubtype:n,durationSeconds:i,minSecondsForPostPlay:r}=e;return a===_s.e&&n!==Co.MUSIC_VIDEO&&t===Oe.a&&i>=r}const $Ve={dispatchMakeDecision:UVe.a,dispatchMakeNextDecision:UVe.b,dispatchRemoveDecision:UVe.d,dispatchRetryDecision:UVe.e,dispatchUpdatePlayerDuration:IVe.O,dispatchUpdatePlayerPosition:IVe.Q,dispatchUpdatePlayerSeekRange:IVe.R,dispatchUpdatePlayerBuffering:IVe.N,dispatchPause:IVe.s,dispatchPlay:IVe.t,dispatchUpdatePlayerError:IVe.P,dispatchSendTimeline:IVe.x,dispatchTickPlayer:IVe.E,dispatchShowPostPlay:XM.H,dispatchPlayNextItem:XM.y,dispatchEndPlayback:Ze.p,dispatchSetMetricsPlayer:Ze.u,dispatchUpdateMediaDimensions:IVe.M,dispatchUpdateCanPlayThrough:IVe.L};class eBe extends g.Component{constructor(e,t){super(e,t),this.onDurationMillisecondsChange=e=>{this.props.dispatchUpdatePlayerDuration({playerType:this.props.playerType,durationMilliseconds:e})},this.onPositionMillisecondsChange=e=>{const{playerType:t,dispatchUpdatePlayerPosition:a,onPositionMillisecondsChange:n}=this.props,i=Math.floor(e/1e3);n&&n(e),i!==this.props.positionSeconds&&a({playerType:t,positionSeconds:i})},this.onTick=e=>{const{metadataItemEntityID:t,liveTVSessionEntityID:a,mediaItemID:n,playerType:i,dispatchTickPlayer:r}=this.props;t&&n&&r({metadataItemEntityID:t,liveTVSessionEntityID:a,mediaItemID:n,playerType:i,secondsElapsed:e})},this.onBufferingChange=e=>{this.props.dispatchUpdatePlayerBuffering({playerType:this.props.playerType,isBuffering:e})},this.onPause=()=>{this.props.isAdVisible||this.props.dispatchPause({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onPlay=()=>{this.props.isAdVisible||this.props.dispatchPlay({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onStreamChange=()=>{const{playerType:e,playQueueItemEntityID:t,positionSeconds:a,liveTVPositionSeconds:n,qualityIndex:i,decisionMediaIndex:r,decisionPartIndex:s,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;l({playerType:e,playQueueItemEntityID:t}),o({playerType:e,playQueueItemEntityID:t,mediaIndex:r,partIndex:s,qualityIndex:i,options:{offset:null!=n?1e3*n:1e3*a}})},this.onMetricsPlayerChange=e=>{const{playerType:t,dispatchSetMetricsPlayer:a}=this.props;a({playerType:t,metricsPlayer:e})},this.onError=(e={})=>{const{code:t,category:a,message:n}=e,{playerType:i,isDecisionDirectPlay:r,isDecisionDirectStreamVideo:s,isDecisionDirectStreamAudio:o,canTranscodeServerTranscode:l,dispatchUpdatePlayerError:c}=this.props;r&&l?(C.a.warn("[Player] Direct Play failed, but server can transcode. Attempting to fallback to either Direct Stream or transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1})):s&&l?(C.a.warn("[Player] Direct Stream failed, but server can transcode. Attempting to fallback to video transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0}})):o&&l?(C.a.warn("[Player] Video transcode failed. Attempting to fallback to video and audio transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0,directStreamAudio:0}})):(this.onPause(),c({playerType:i,errorCode:t,errorCategory:a,errorMessage:n}))},this.onEnd=()=>{const{playerType:e,playQueueItemEntityID:t,qualityIndex:a,repeatOne:n,repeatAll:i,isLastPlayQueueItem:r,totalCount:s,decisionMediaIndex:o,decisionPartIndex:l,decisionPartCount:c,dispatchMakeDecision:d,dispatchRemoveDecision:u,dispatchShowPostPlay:p,dispatchPlayNextItem:m,dispatchEndPlayback:h}=this.props,g=n||i&&1===s;l+1<c?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:a,mediaIndex:o,partIndex:l+1,options:{offset:0}})):g?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:a,mediaIndex:o,partIndex:0,options:{offset:0}})):!r||i?JVe(this.props)?p({playerType:e}):m({playerType:e,isApplicationInitiated:!0}):h({playerType:e})},this.onIntrinsicDimensions=({width:e,height:t})=>{const{playerType:a,dispatchUpdateMediaDimensions:n}=this.props;Object(C.a)(`[Player] Media resized: ${e}x${t} (${e/t})`),n({playerType:a,width:e,height:t})},this.onCanPlayThrough=e=>{const{playerType:t,dispatchUpdateCanPlayThrough:a}=this.props;a({playerType:t,canPlayThrough:e})},this._hasRefreshedPlayQueue=!1,this._shouldStopOnUnmount=!1}componentDidMount(){this._itemStarting(this.props),this.props.mediaType===_s.c&&this._itemProgressing(this.props)}componentDidUpdate(e){const{playQueueItemEntityID:t,mediaItemID:a,playerType:n,mediaType:i,isDecisionPending:r,isPaused:s,isBuffering:o,hasError:l,positionSeconds:c,durationSeconds:d,preFetchSeconds:u,qualityIndex:p,dispatchMakeNextDecision:m,liveTVPositionSeconds:h,isLiveTV:g}=this.props,y=e.mediaItemID,f=g?!(!a||!y||a===y):t!==e.playQueueItemEntityID,b=r!==e.isDecisionPending,v=p!==e.qualityIndex,I=s!==e.isPaused,S=o!==e.isBuffering,E=l!==e.hasError,O=d!==e.durationSeconds;if(!v||f||b){if(f)return this._hasRefreshedPlayQueue=!1,this._hasPreFetched=!1,this._itemStopping(e,{removeDecision:!g}),this._itemStarting(this.props),void(i===_s.c&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!0}),this._hasRefreshedPlayQueue=!0));!this._hasPreFetched&&d>0&&d-c<u&&!JVe(this.props)&&(this._hasPreFetched=!0,m({playerType:n})),!b&&(!this._hasRefreshedPlayQueue||I||S||E||O)&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!this._hasRefreshedPlayQueue}),this._hasRefreshedPlayQueue=!0)}else{const e=null!=h?1e3*h:1e3*c;this._itemRestarting(this.props,{offset:e})}}componentWillUnmount(){!this.props.shouldSuppressStopOnUnmount&&this._shouldStopOnUnmount&&this._itemStopping(this.props,{continuing:!1}),this.props.onPositionMillisecondsChange&&this.props.onPositionMillisecondsChange(0)}_itemStarting(e){const{mediaType:t,playerType:a,playQueueItemEntityID:n,qualityIndex:i}=e;t!==_s.c&&e.dispatchMakeDecision({playerType:a,playQueueItemEntityID:n,qualityIndex:i})}_itemRestarting(e,t={}){const{mediaType:a,playerType:n}=e;a!==_s.c&&e.dispatchRetryDecision({playerType:n,decisionOptions:t})}_itemProgressing(e,{shouldRefreshPlayQueue:t=!1}={}){const{playerType:a,mediaType:n,providerEntityID:i,playQueueItemEntityID:r,metadataItemEntityID:s,mediaItemID:o,playbackTime:l,positionSeconds:c,durationSeconds:d,isPaused:u,decisionMediaIndex:p,decisionPartIndex:m,decisionPartCount:h,dispatchSendTimeline:g,liveTVSessionEntityID:y}=e,f=n===_s.c,b=u&&!f?GVe.c:GVe.d;g({playerType:a,providerEntityID:i,playQueueItemEntityID:r,metadataItemEntityID:s,liveTVSessionEntityID:y,mediaItemID:o,shouldRefreshPlayQueue:t,options:f?{state:b}:{playbackSessionID:e.playbackSessionID,playbackTime:l,positionSeconds:c,durationSeconds:d,mediaIndex:p,partIndex:m,partCount:h}}),this._shouldStopOnUnmount=!0}_itemStopping(e,{continuing:t=!0,removeDecision:a=!0}={}){e.dispatchSendTimeline({playerType:e.playerType,providerEntityID:e.providerEntityID,playQueueItemEntityID:e.playQueueItemEntityID,metadataItemEntityID:e.metadataItemEntityID,liveTVSessionEntityID:e.liveTVSessionEntityID,mediaItemID:e.mediaItemID,options:{state:GVe.e,continuing:t,playbackSessionID:e.playbackSessionID,playbackTime:e.playbackTime,positionSeconds:e.positionSeconds,durationSeconds:e.durationSeconds,mediaIndex:e.decisionMediaIndex,partIndex:e.decisionPartIndex,partCount:e.decisionPartCount}}),a&&e.mediaType!==_s.c&&e.dispatchRemoveDecision({playerType:e.playerType,playQueueItemEntityID:e.playQueueItemEntityID}),this._shouldStopOnUnmount=!1}render(){const{preFetchSeconds:e,minSecondsForPostPlay:t,repeatOne:a,repeatAll:n,totalCount:i,isLastPlayQueueItem:r,isAdVisible:s,shouldSuppressStopOnUnmount:o,canTranscodeServerTranscode:l,qualityIndex:c,decisionMediaIndex:d,decisionPartIndex:u,decisionPartCount:p,dispatchMakeDecision:m,dispatchRemoveDecision:h,dispatchUpdatePlayerDuration:g,dispatchUpdatePlayerPosition:f,dispatchUpdatePlayerSeekRange:b,dispatchUpdatePlayerBuffering:v,dispatchPause:I,dispatchUpdatePlayerError:S,dispatchTickPlayer:E,dispatchShowPostPlay:O,dispatchPlayNextItem:M,dispatchEndPlayback:C,dispatchSetMetricsPlayer:j,dispatchUpdateMediaDimensions:D,dispatchUpdateCanPlayThrough:P,...T}=this.props;return s&&!X.a.allowAdsOverMedia?null:y.a.createElement(XVe,{...T,isAdVisible:s,onMetricsPlayerChange:this.onMetricsPlayerChange,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onTick:this.onTick,onBufferingChange:this.onBufferingChange,onStreamChange:this.onStreamChange,onError:this.onError,onEnd:this.onEnd,onPause:this.onPause,onPlay:this.onPlay,onIntrinsicDimensions:this.onIntrinsicDimensions,onCanPlayThrough:this.onCanPlayThrough})}}eBe.defaultProps={preFetchSeconds:10,minSecondsForPostPlay:300,shouldSuppressStopOnUnmount:!1};var tBe=Object(v.b)((function(){return Object(he.a)(VVe(),zB(),OVe(),QVe(),EVe(),EVe(1),_Ve(),PVe(),HVe(),BB(),WVe(),(e,t,a,n,i,r,s,o,l,c,d)=>{const u=t.playQueue,p=u.playQueueSelectedItemOffset,m=i.entityID,h=!r||p+1===u.length,g={providerEntityID:t.providerEntityID,mediaItemID:null==o?void 0:o.id,metadataItemEntityID:null==s?void 0:s.entityID,playQueueItemEntityID:m,liveTVSessionEntityID:null==c?void 0:c.entityID,isDecisionPending:!a,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,repeatOne:t.repeatOne,repeatAll:t.repeatAll,totalCount:u.length,isLastPlayQueueItem:h,playbackTime:t.itemPlaybackTime,positionSeconds:t.positionSeconds,durationSeconds:t.durationSeconds,playbackSessionID:t.playbackSessionID,lastSeekPositionSeconds:t.lastSeekPositionSeconds,videoStreams:l.videoStreams,videoStream:l.selectedVideoStream,audioStreams:l.audioStreams,audioStream:l.selectedAudioStream,subtitlesStreams:l.subtitlesStreams,subtitleStream:l.selectedSubtitlesStream,isStreamChangeInProgress:null==s?void 0:s.isStreamChangeInProgress,bufferingDetectionLimit:X.a.bufferingDetectionLimit};if(c){const e=3===t.confirmLocalToRemote;Object.assign(g,zVe(c),{shouldSuppressStopOnUnmount:e,isLiveTV:!0})}return a&&(g.decisionMediaIndex=a.mediaIndex,g.decisionPartIndex=a.partIndex,g.decisionPartCount=a.partCount,g.decisionUrl=a.url,g.decisionProtocol=a.protocol,g.decisionError=a.error,g.isDecisionDirectPlay=a.isDirectPlay,g.isDecisionDirectStreamVideo=a.canDirectStreamVideo,g.isDecisionDirectStreamAudio=a.canDirectStreamAudio,g.canTranscodeServerTranscode=!n.isCloud&&Object(oo.a)(n.version,so.a.decisionEndpoint),a.playbackSessionID&&(g.playbackSessionID=a.playbackSessionID),g.hasBurnedSubtitles=l.selectedSubtitlesStream&&l.selectedSubtitlesStream.id!==eC.a&&!a.subtitlesUrl,g.decisionDrm=a.drm,g.decisionLicense=a.license,g.decisionCertificate=a.certificate),!g.isDecisionDirectPlay||"dash"!==g.decisionProtocol&&"hls"!==g.decisionProtocol||(g.bufferingGoal=10,g.defaultBandwidthEstimate=d),e&&(g.isLibraryProvider=e.isLibraryProvider,g.hasStreamProtocol=e.protocols.includes("stream")),g})}),$Ve,(function(e,t,a){return{...a,...e,...t}}))(eBe);var aBe=Object(v.b)((function(){return Object(he.a)(UB("qualityIndex"),ge.a,RVe,kVe(),Object(he.a)((e,{mediaType:t})=>t,UB("openState"),(e,t)=>e===_s.e&&t===$M.a),(e,t,a,n,i)=>({qualityIndex:e,subtitleSize:t.subtitleSize,volume:a,playbackSpeed:n,shouldCoverWhenDecisionPending:i}))}))(tBe);var nBe=LVe((function(e){return y.a.createElement(aBe,{...e,type:"audio",allowRecycleElement:!0})}));var iBe=function(e,t){return Object(bO.a)(Object(he.a)(e=>e.ui,(e,{playerType:t})=>t,(a,n=t)=>{const i=n+"Player";return a[i]?M.a.pick(a[i],e):{}}),e=>e)};function rBe(){return Object(he.a)(Am.a,UB("serverEntityID"),(e,t)=>e[t])}var sBe=a("ZTgP"),oBe=a("Jig8"),lBe=a("Sp9s");var cBe=a("E4nB"),dBe=a("LdBX");function uBe(e,t){let a=e/t;return a=Math.round(a),a*=t,a}function pBe(e){if(null==e)return;const t=Math.round(e/1e3);let a;return a=t>=3600?300:60,uBe(t,a)}const mBe="cast",hBe="failed",gBe="completed",yBe="stopped",fBe="skipped",bBe="quality",vBe="streams";const IBe={dispatchSetPlayerItemPlaybackTime:IVe.y,dispatchSetPlayerSessionPlaybackTime:IVe.z};class SBe extends g.Component{constructor(e,t){super(e,t),this.onTickTimeout=()=>{this.flushPlaybackTimes(),this.setTickTimeout(this.props)},this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0,this.hasError=!1,this.hasEnded=!1,this.hasStopped=!1,this._tickTimeout=null}componentDidMount(){this.update()}componentDidUpdate(e){this.update(e)}componentWillUnmount(){this.hasStopped=!0,this.trackItemEnd(),this.trackSessionEnd(),this.clearTickTimeout()}clearTickTimeout(){this._tickTimeout&&(this._tickTimeout=window.clearTimeout(this._tickTimeout))}setTickTimeout(e){e.isPlaying&&(this.clearTickTimeout(),this.itemPlaybackTimestamp=Date.now(),this._tickTimeout=window.setTimeout(this.onTickTimeout,1e3))}update(e={}){const{itemID:t,decision:a,isRemotePlayer:n,isAdVisible:i,isPlaying:r,hasError:s,metricsType:o,metricsPlayer:l}=this.props,{isPlaying:c}=e;if(r&&!c?this.setTickTimeout(this.props):!r&&c&&this.clearTickTimeout(),n)return void(e.isRemotePlayer||(this.trackItemEnd(),this.trackSessionEnd()));!this.hasError&&s&&(this.hasError=!0,this.trackFailure()),this.itemID&&(this.itemID===t?this.updateCurrentItem():this.trackItemEnd());const d=!this.itemID&&!this.hasError&&t&&l&&(a||o===wo.PHOTO);d&&i&&!r&&!this.sessionAdPlaybackStartTime&&(this.sessionAdPlaybackStartTime=Date.now()),d&&r&&this.trackItemStart()}updateCurrentItem(){const{decision:e,isPlaying:t,hasEnded:a}=this.props;if(t?(this.itemPlaybackTimestamp||(this.itemPlaybackTimestamp=Date.now()),this.hasEnded=a):this.flushPlaybackTimes(),this.itemDecision&&e&&this.itemDecision!==e){let t;if(this.itemDecision.qualityIndex!==e.qualityIndex?t=bBe:this.itemDecision.partIndex===e.partIndex&&(t=vBe),t){const e=this.itemMetricsProperties.offset;this.trackItemRestart(t),this.itemMetricsProperties.offset=e}}}getItemMetricsProperties(){const e={serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,identifier:this.props.metricsIdentifier,page:this.props.metricsPage,contextTuple:this.props.metricsContextTuple,setting:this.props.metricsSetting,auto:this.props.metricsAutoPlay,protocol:this.props.metricsProtocol,offset:this.props.metricsOffset,container:this.props.metricsContainer,duration:this.props.metricsDuration,bitrate:this.props.metricsBitrate,origin:this.props.metricsOrigin,audioCodec:this.props.metricsAudioCodec,audioDecision:this.props.metricsAudioDecision,videoCodec:this.props.metricsVideoCodec,videoDecision:this.props.metricsVideoDecision,subtitleFormat:this.props.metricsSubtitleFormat,subtitleDecision:this.props.metricsSubtitleDecision,player:this.props.metricsPlayer,mode:this.props.metricsMode};return this.props.isLiveTV&&this.props.isCloudServer&&(e.guid=this.props.metricsGUID,e.group=this.props.metricsGroup,e.title=this.props.metricsTitle,e.publishedAt=this.props.metricsPublishedAt,e.containedId=this.props.metricsContainerID),e}flushPlaybackTimes(){if(!this.itemPlaybackTimestamp)return;const e=Date.now()-this.itemPlaybackTimestamp;this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds+=e,this.sessionPlaybackMilliseconds+=e,this.setPlayerItemPlaybackTime(),this.setPlayerSessionPlaybackTime(),Object(E.c)("metrics").addPlaybackTime(e)}trackItemStart(){this.itemID=this.props.itemID,this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),this.itemPlaybackTimestamp=Date.now(),this.itemPlaybackMilliseconds=0,this.sessionPlaybackCount+=1,this.hasEnded=this.props.hasEnded,this.hasError=this.props.hasError;const e=this.props.playbackStartTime,t={...this.itemMetricsProperties};if(e>0&&1===this.sessionPlaybackCount){const a=this.sessionAdPlaybackStartTime||Date.now();t.latency=a-e}this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),Object(E.c)("metrics").trackEvent({event:bD.m,interaction:!0,properties:t}),Object(E.c)("metrics").incrementPlaybackCount(),this.setTickTimeout(this.props)}trackItemRestart(e){this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),Object(E.c)("metrics").trackEvent({event:bD.l,interaction:!0,properties:{...this.itemMetricsProperties,reason:e}})}trackItemEnd(){if(!this.itemID)return;let e;this.flushPlaybackTimes(),this.clearTickTimeout(),e=this.props.isRemotePlayer?mBe:this.hasError?hBe:this.hasEnded?gBe:this.hasStopped?yBe:fBe;const t={...this.itemMetricsProperties,playbackTime:pBe(this.itemPlaybackMilliseconds),status:e};this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),Object(E.c)("metrics").trackEvent({event:bD.k,interaction:!0,properties:t}),this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.hasError=!1,this.hasEnded=!1}trackSessionEnd(){this.sessionPlaybackCount&&(this.flushPlaybackTimes(),Object(E.c)("metrics").trackEvent({event:bD.n,interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,playbackCount:this.sessionPlaybackCount,playbackTime:pBe(this.sessionPlaybackMilliseconds)}}),this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0)}trackFailure(){Object(E.c)("metrics").trackEvent({event:bD.j,interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,container:this.props.metricsContainer,type:this.props.metricsType,error:this.props.errorCode,mode:this.props.metricsMode}})}setPlayerItemPlaybackTime(){this.props.dispatchSetPlayerItemPlaybackTime({playbackTime:this.itemPlaybackMilliseconds,playerType:this.props.playerType})}setPlayerSessionPlaybackTime(){this.props.dispatchSetPlayerSessionPlaybackTime({playbackTime:this.sessionPlaybackMilliseconds,playerType:this.props.playerType})}render(){return null}}SBe.propTypes={serverEntityID:Qn.a.string,providerEntityID:Qn.a.string,itemID:Qn.a.string,playerType:Qn.a.string.isRequired,isRemotePlayer:Qn.a.bool,isAdVisible:Qn.a.bool,isLiveTV:Qn.a.bool,isCloudServer:Qn.a.bool,decision:Qn.a.object,isPlaying:Qn.a.bool,hasEnded:Qn.a.bool,hasError:Qn.a.bool,errorCode:Qn.a.string,playbackStartTime:Qn.a.number.isRequired,syncplaySessionRoomID:Qn.a.string,metricsServerType:Qn.a.string,metricsConnectionType:Qn.a.string,metricsType:Qn.a.string,metricsIdentifier:Qn.a.string,metricsPage:Qn.a.string,metricsContextTuple:Qn.a.array,metricsSetting:Qn.a.string,metricsAutoPlay:Qn.a.bool,metricsProtocol:Qn.a.string,metricsOffset:Qn.a.number,metricsContainer:Qn.a.string,metricsDuration:Qn.a.number,metricsBitrate:Qn.a.number,metricsOrigin:Qn.a.string,metricsAudioCodec:Qn.a.string,metricsAudioDecision:Qn.a.string,metricsVideoCodec:Qn.a.string,metricsVideoDecision:Qn.a.string,metricsSubtitleFormat:Qn.a.string,metricsSubtitleDecision:Qn.a.string,metricsPlayer:Qn.a.string,metricsMode:Qn.a.oneOf(Object.values(sBe)),metricsGUID:Qn.a.string,metricsTitle:Qn.a.string,metricsPublishedAt:Qn.a.number,metricsContainerID:Qn.a.string,metricsGroup:Qn.a.string,dispatchSetPlayerItemPlaybackTime:Qn.a.func.isRequired,dispatchSetPlayerSessionPlaybackTime:Qn.a.func.isRequired},SBe.defaultProps={metricsPage:It.W};var EBe=Object(v.b)((function(){return Object(he.a)(DVe,yMe(),rBe(),_Ve(),PVe(),OVe(),EVe(),Object(he.a)((e,{isAdVisible:t})=>t,iBe(["confirmRemoteToLocal","isPostPlayVisible","isMediaLoading","isBuffering","isPaused","hasError"]),_Ve(),OVe(),(e,t,a,n)=>!(!a||a.type!==wo.PHOTO)||!(!n||e||t.confirmRemoteToLocal||t.isPostPlayVisible||t.isMediaLoading||t.isBuffering||t.isPaused||t.hasError)),Object(he.a)(FB(),UB("positionSeconds"),_Ve(),PVe(),OVe(),(e,t,a,n,i)=>{if(e){if(!n)return!1;const{beginsAt:t,endsAt:a}=n;return e>a-.9*(a-t)}if(a&&a.type===wo.PHOTO)return!0;if(i){const e=n&&n.Part[i.partIndex];if(n&&n.duration&&e)return Object(lBe.a)(n,e,1e3*t)>.9*n.duration}return!1}),UB("syncplaySessionRoomID"),UB("hasError"),UB("errorCode"),UB("metricsPage"),UB("metricsContextTuple"),UB("metricsAutoPlay"),UB("metricsPlayer"),UB("metricsSetting"),UB("playbackStartTime"),(e,t,a,n,i,r,s,o,l,c,d,u,p,m,h,g,y,f)=>{const b={decision:r,isPlaying:o,isLiveTV:e,hasEnded:l,hasError:d,errorCode:u,metricsPage:p,metricsContextTuple:m,metricsAutoPlay:h,metricsPlayer:g,metricsSetting:y,playbackStartTime:f,syncplaySessionRoomID:c};if(a&&(b.isCloudServer=a.isCloud,b.metricsServerType=Object(dBe.a)(a),b.metricsConnectionType=Object(cBe.a)(a.activeConnection)),n&&(b.metricsType=n.type,b.metricsIdentifier=n.identifier,e&&(b.metricsGUID=n.ratingKey,b.metricsTitle=n.type===wo.EPISODE?n.grandparentTitle:n.title,b.metricsPublishedAt=i.beginsAt,b.metricsContainerID=i.channelIdentifier,b.metricsGroup=i.channelShortTitle),n.type===wo.PHOTO&&(b.metricsPlayer=oBe.b,n.Media.length&&(b.metricsContainer=n.Media[0].container)),n.type===wo.GAME&&(b.metricsPlayer=oBe.b)),b.itemID=e?null==i?void 0:i.id:null==s?void 0:s.playQueueItemID,t&&!b.metricsIdentifier&&(b.metricsIdentifier=t.identifier),r){const e=function(e){const t={};return e.isDirectPlay?(t.videoDecision="direct",t.audioDecision="direct",t.subtitleDecision="direct"):(t.videoDecision=e.canDirectStreamVideo?"copy":"transcode",t.audioDecision=e.canDirectStreamAudio?"copy":"transcode",t.subtitleDecision=e.useSoftSubtitles?"copy":"transcode"),t}(r),t=i&&i.Part[r.partIndex];let a;n&&(a=wo.getMetadataType(n.type).mediaType);const s=rC.a.get("video").id,o=t&&M.a.findWhere(t.Stream,{streamType:s}),l=rC.a.get("audio").id,c=t&&M.a.findWhere(t.Stream,{streamType:l,selected:!0}),d=rC.a.get("subtitles").id,u=t&&M.a.findWhere(t.Stream,{streamType:d,selected:!0});b.metricsProtocol=r.protocol,b.metricsOffset=r.positionSeconds,r.drm&&(b.metricsMode=r.drm),i&&(b.metricsContainer=i.container,b.metricsDuration=pBe(i.duration||n.duration),b.metricsBitrate=function(e){if(null==e)return;let t;return t=e>=10240?512:e>=1024?256:e>=512?128:e>=256?64:32,uBe(e,t)}(i.bitrate),b.metricsOrigin=i.origin),a===_s.e&&(b.metricsVideoCodec=o&&o.codec||"unknown",b.metricsVideoDecision=e.videoDecision,u&&u.id!==eC.a&&(b.metricsSubtitleFormat=u&&u.codec||"unknown",b.metricsSubtitleDecision=e.subtitleDecision)),a!==_s.e&&a!==_s.a||(b.metricsAudioCodec=c&&c.codec||"unknown",b.metricsAudioDecision=e.audioDecision)}return n&&n.type===wo.GAME&&n.Platform.length&&(b.metricsContainer=n.Platform[0].tag),b})}),IBe)(SBe);class OBe extends g.Component{constructor(e,t){super(e,t),this._screenSaverManager=Object(E.a)("screenSaverManager")?Object(E.c)("screenSaverManager"):null}componentDidMount(){this._toggleScreenSaver(this.props.isEnabled)}componentDidUpdate(e){e.isEnabled!==this.props.isEnabled&&this._toggleScreenSaver(this.props.isEnabled)}componentWillUnmount(){this._toggleScreenSaver(!0)}_toggleScreenSaver(e){this._screenSaverManager&&this._screenSaverManager.toggle(e)}render(){return null}}OBe.propTypes={isEnabled:Qn.a.bool.isRequired};var MBe=Object(v.b)((function(){return Object(he.a)(iBe(["isOpen","isPaused","openState"]),({isOpen:e,isPaused:t,openState:a})=>{const n=a===$M.a;return{isEnabled:!e||!n||t}})}))(OBe);class CBe extends g.Component{constructor(){super(...arguments),this.onResize=e=>{this.timeoutID=window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(this.onResizeTimeout,this.props.resizeDelay)},this.onResizeTimeout=()=>{this.props.onScreenSizeChange({width:window.innerWidth,height:window.innerHeight})}}componentDidMount(){window.addEventListener("resize",this.onResize),this.onResizeTimeout()}componentWillUnmount(){window.removeEventListener("resize",this.onResize),this.timeoutID=window.clearTimeout(this.timeoutID)}render(){return null}}CBe.propTypes={resizeDelay:Qn.a.number,onScreenSizeChange:Qn.a.func.isRequired},CBe.defaultProps={resizeDelay:100};var jBe=CBe;const DBe=Object(yo.a)("ui/advertisingNoticeModal/setAdConsent"),PBe=Object(yo.a)("ui/advertisingNoticeModal/resetAdConsent"),TBe=Object(yo.a)("ui/advertisingNoticeModal/trackAdConsentAction"),wBe={"ui/advertisingNoticeModal/setAdConsent"(e,t){const a=e.get("user"),n=e.get("ui").get("advertisingNoticeModal");Object(Dt.a)(()=>{n.set({isSaving:!0})});const i=j.default.join(["/api/v2/user",a.get("uuid"),"settings/consent"]),r=a.server.getXHROptions(i,{type:"PUT",data:{consent:t.consent}});let s=h.a.ajax(r);s=s.then(()=>a.fetch()),s.then(()=>{n.set({isSaving:!1,isSaved:!0})},e=>{n.set({isSaving:!1,isSaved:!0});const i=Math.round(Date.now()/1e3);a.set({adsConsent:t.consent,adsConsentSetAt:i,adsConsentReminderAt:i+86400})})},"ui/advertisingNoticeModal/resetAdConsent"(e){e.get("ui").get("advertisingNoticeModal").restoreDefaults()},"ui/advertisingNoticeModal/trackAdConsentAction"(e,{advertisingNoticePayload:t,action:a}){const n=GI.j(e,t),i={page:It.f,action:a,identifier:n.get("identifier")};if(t.metadataItemEntityID){const a=GI.f(e,t);i.type=a.get("type")}Object(E.c)("metrics").trackClick(i)}};var NBe=a("DYor"),xBe=a.n(NBe);var ABe=function(e){const{isOpen:t,isSaving:a,isSaved:n,onContinue:i,onCancel:r,onSaveComplete:s}=e,o=a||n,[l,c]=Object(g.useState)(!1),d=Object(g.useCallback)(()=>{c(!0),i(!0)},[i]),u=Object(g.useCallback)(()=>{c(!1),i(!1)},[i]);return Object(g.useEffect)(()=>{n&&s(l)},[l,n,s]),y.a.createElement(Yw.a,{size:cc.c,isOpen:t,metricsPage:It.c,onModalClose:r},y.a.createElement(eN.a,{onModalClose:r},y.a.createElement(Jw.a,null,Object(Ce.default)("Consent")),y.a.createElement(qw.a,null,y.a.createElement("div",{className:xBe.a.message},Object(Ce.default)("Plex is able to provide free-to-watch movies and shows by displaying a modest number of ads before and during playback. While it is not possible to opt out of these ads, we can provide you the best and most relevant advertising experience if you agree to the terms below.")),y.a.createElement(LT.a,{className:xBe.a.consentMessage,component:"div",message:Object(Ce.default)("I consent to Plex sharing the advertising identifiers on my devices with Plex's advertising partners. This data is used to deliver the advertising that supports content you may access through Plex on all devices on which you have Plex installed. To learn how to withdraw consent, visit our {openLinkPrivacyPolicyUrl}privacy policy{closeLinkPrivacyPolicyUrl}."),tags:[{open:"openLinkPrivacyPolicyUrl",close:"closeLinkPrivacyPolicyUrl",component:jI.a,kind:ao.d,to:up.h,target:"_blank"}]})),y.a.createElement(Zw.a,null,y.a.createElement(Xw.a,null,y.a.createElement(FPe.a,{metricsProperties:{page:It.c},action:Gi.s},y.a.createElement(bL.a,{className:xBe.a.confirmButton,isSpinning:o&&!l,onPress:u},Object(Ce.default)("I Do Not Agree"))),y.a.createElement(FPe.a,{metricsProperties:{page:It.c},action:Gi.g},y.a.createElement(bL.a,{className:xBe.a.confirmButton,"data-autofocus":!0,kind:ao.d,isSpinning:o&&l,onPress:d},Object(Ce.default)("I Agree")))))))};var LBe=Object(v.b)((function(){return Object(he.a)(e=>e.ui.advertisingNoticeModal,Object(he.a)((e,{advertisingNoticePayload:t})=>t,DO.a,(e,t)=>{if(e.metadataItemEntityID)return t[e.metadataItemEntityID]}),(e,t)=>({...e,metadatItemType:t&&t.type}))}),(function(e,{playerType:t,advertisingNoticePayload:a}){return{onContinue(t){e(DBe({consent:t}))},onCancel(){e(TBe({advertisingNoticePayload:a,action:Gi.j})),e(Object(Ze.t)({playerType:t}))},onSaveComplete(n){e(TBe({advertisingNoticePayload:a,action:n?Gi.g:Gi.s})),e(Object(Ze.x)({...a,playerType:t,confirmAdvertisingNotice:!0})),e(PBe())}}}))(ABe);function kBe(){return Object(he.a)(FB(),Object(he.a)(BB(),DO.a,(e,t)=>e&&(e.timeline||e.grabOperation)?e.timeline?e.timeline.map(e=>t[e]):[t[e.grabOperation.metadataItem]]:[]),(e,t)=>{if(null!=e)for(let a=0;a<t.length;a++){const n=t[a];for(let t=0;t<n.Media.length;t++){const a=n.Media[t],{beginsAt:i,endsAt:r}=a;if(i<=e&&r>e)return n}}})}function RBe(e,t){const a=Math.max(e,t),n=Date.now()-1e3*a;return On(n)}class zBe extends g.Component{constructor(e,t){super(e,t),this.updateTimeAgo=()=>{const{captureBufferStartedAt:e,mediaItemBeginsAt:t}=this.props,a=6e4-1e3*(new Date).getSeconds(),n=RBe(e,t);n!==this.state.timeAgo&&this.setState({timeAgo:n}),this._updateTimeAgoTimeout=window.setTimeout(this.updateTimeAgo,a)},this.onConfirm=e=>{const{serverEntityID:t,providerEntityID:a,onConfirm:n}=this.props;n({serverEntityID:t,providerEntityID:a,offset:e})},this._updateTimeAgoTimeout=null,this.state={timeAgo:RBe(e.captureBufferStartedAt,e.mediaItemBeginsAt)}}componentDidMount(){this.props.mediaItemBeginsAt||this.onConfirm(),this.updateTimeAgo()}componentWillUnmount(){this._updateTimeAgoTimeout&&window.clearTimeout(this._updateTimeAgoTimeout)}render(){const{isOpen:e,captureBufferStartedAt:t,mediaItemBeginsAt:a,onModalClose:n}=this.props,{timeAgo:i}=this.state;return t?y.a.createElement(Eo.a,{isOpen:e,metricsPage:It.Q,title:Object(Ce.default)("Join Session in Progress"),onItemSelect:this.onConfirm,onCancel:n},y.a.createElement(Oo.a,{value:1e3*Math.max(a-t,0)},Object(Ce.default)("Watch from start (started {timeAgo} ago)",{timeAgo:i})),y.a.createElement(Oo.a,{value:null},Object(Ce.default)("Watch Live"))):null}}var UBe=zBe;var VBe=Object(v.b)((function(){return Object(he.a)(zB(),BB(),Object(he.a)(FB(),kBe(),BB(),(e,t,a)=>{if(null!=e&&t&&a)return t.Media.find(t=>{const{beginsAt:n,endsAt:i,channelIdentifier:r}=t;return n<=e&&i>e&&a.channelIdentifier===r})}),(e,t,a)=>{const{serverEntityID:n,providerEntityID:i}=e,r={serverEntityID:n,providerEntityID:i};if(t&&t.captureBuffer){const e=t.captureBuffer.startedAt;r.captureBufferStartedAt=e}return a?r.mediaItemBeginsAt=a.beginsAt:t&&t.grabOperation&&(r.mediaItemBeginsAt=t.grabOperation.mediaItem.beginsAt),r})}),(function(e,{playerType:t}){return{onConfirm(a){e(Object(Hs.d)({...a,playerType:t}))},onModalClose(){e(Object(Hs.a)({playerType:t}))}}}))(UBe);var BBe=Object(he.a)(BM,e=>e?e.friendlyName:null);var FBe=function(e){const{isOpen:t,playerName:a,onConfirm:n,onCancel:i}=e;return y.a.createElement(Xc.a,{isOpen:t,metricsPage:It.r,title:Object(Ce.default)("Continue Playback"),message:Object(Ce.default)("Would you like to continue playback on {playerName}?",{playerName:a}),confirmLabel:Object(Ce.default)("Yes"),cancelLabel:Object(Ce.default)("No"),onConfirm:n,onCancel:i})};const HBe={dispatchCancelLocalToRemote:IC,dispatchConfirmLocalToRemote:EC,dispatchCloseLocalToRemote:SC};var _Be=Object(v.b)((function(){return Object(he.a)(BBe,UB("confirmLocalToRemote"),(e,t)=>({playerName:e,confirmLocalToRemote:t}))}),HBe)((function(e){const{playerType:t,confirmLocalToRemote:a,dispatchCancelLocalToRemote:n,dispatchCloseLocalToRemote:i,dispatchConfirmLocalToRemote:r,...s}=e;Object(g.useEffect)(()=>{3===a&&i({playerType:t})},[a,t,i]);const o=Object(g.useCallback)(()=>{n({playerType:t})},[t,n]),l=Object(g.useCallback)(()=>{r({playerType:t})},[t,r]);return y.a.createElement(FBe,{...s,onCancel:o,onConfirm:l})})),WBe=a("MfK7"),QBe=a("IbVa"),GBe=a.n(QBe);var KBe=function(e){const{title:t,image:a,copy:n,footer:i,isOpen:r,onModalDismiss:s}=e,o=Array.isArray(n)?n:[n];return y.a.createElement(Yw.a,{className:GBe.a.modal,isOpen:r,metricsPage:It.Cb,onModalClose:s},y.a.createElement(eN.a,{onModalClose:s},y.a.createElement(Jw.a,{className:GBe.a.modalHeader},Object(Ce.default)("What's New?")),y.a.createElement(qw.a,{innerClassName:GBe.a.innerModalBody},y.a.createElement(WBe.a,{containerClassName:GBe.a.image,component:at.a,src:a}),y.a.createElement("div",{className:GBe.a.copyContainer},y.a.createElement("p",{className:GBe.a.title},t),o.map((e,t)=>y.a.createElement("p",{key:t,className:GBe.a.copy},e)))),y.a.createElement(Zw.a,{className:GBe.a.modalFooter},y.a.createElement(Ih.a,{className:GBe.a.okButton,kind:ao.d,onPress:s},Object(Ce.default)("Got it!")),i?y.a.createElement("p",{className:GBe.a.footer},i):null)))},YBe=a.p+"desktop/common/img/banners/banner-news-sunset.dfe051b6ed1f3a59a1f6bfe5b7210ae0.jpg";var qBe=function(e){const{isOpen:t,onModalDismiss:a}=e;return y.a.createElement(KBe,{title:Object(Ce.default)("This Just In: News is moving "),image:YBe,copy:Object(Ce.default)("Beginning March 31st, Plex News is moving to Live TV so that you can stream channels with the news and information that matters to you, 24/7."),footer:Object(Ce.default)("From March 31st the News section will be removed from Plex"),isOpen:t,onModalDismiss:a})};var ZBe=Object(v.b)(null,(function(e,{confirmNewsSunsetPayload:t}){return{onModalDismiss(){e(Object(xy.l)({hasDismissedNewsSunsetBanner:!0})),e(Object(Ze.x)({...t,confirmNewsSunset:!0}))}}}))(qBe);var XBe=function(e){const{isOpen:t,viewOffset:a,duration:n,playerType:i,onConfirm:r,onCancel:s}=e,o=i===Oe.c,l=(n-a)/1e3,c=l>0;return y.a.createElement(Eo.a,{isOpen:t,metricsPage:It.ib,title:o?Object(Ce.default)("Resume Game"):Object(Ce.default)("Resume Playback"),onItemSelect:r,onCancel:s},y.a.createElement(Oo.a,{value:a,autoFocus:!0},o?Object(Ce.default)("Resume (played {time})",{time:Cn(a)}):y.a.createElement(y.a.Fragment,null,Object(Ce.default)("Resume from {time}",{time:Object(Rg.a)(a)}),c?y.a.createElement(Hi.b,null):null,c?jn(l):null)),y.a.createElement(Oo.a,{value:0},o?Object(Ce.default)("Restart"):Object(Ce.default)("Start from the beginning")))};var JBe=Object(v.b)((function(){return Object(he.a)((e,{confirmOffsetPayload:t})=>t,DO.a,(e,t)=>{let a;if(e){a=t[e.metadataItemEntityID]}return a?{viewOffset:a.viewOffset,duration:a.duration}:{}})}),(function(e,{playerType:t,confirmOffsetPayload:a}){return{onConfirm(t){e(Ze.x({...a,confirmPlayback:!0,confirmOffset:!0,startOffsetMilliseconds:t}))},onCancel(){e(Ze.t({playerType:t}))}}}))(XBe);var $Be=function(e){const{isOpen:t,onConfirm:a,onCancel:n}=e;return y.a.createElement(Xc.a,{isOpen:t,metricsPage:It.v,title:Object(Ce.default)("Play Now"),message:Object(Ce.default)("This will clear changes made to the queue and play the selection instead."),confirmLabel:Object(Ce.default)("Play"),onConfirm:a,onCancel:n})};var eFe=Object(v.b)(null,(function(e,{playerType:t,confirmPlaybackPayload:a}){return{onConfirm(){e(Ze.x({...a,confirmPlayback:!0}))},onCancel(){e(Ze.n({playerType:t}))}}}))($Be),tFe=a("x181"),aFe=a("osxg"),nFe=a("UnFr");var iFe=Qn.a.shape({metricsContext:Qn.a.oneOf(Object.values(aS)).isRequired,type:Qn.a.oneOf(Object.values(nFe)).isRequired});function rFe(e){const{isOpen:t,metricsPage:a,onDismiss:n,upsellPayload:i,subscribeUrl:r,onSubscribe:s}=e,o=Object(g.useCallback)(()=>{n(),s&&s()},[n,s]);return y.a.createElement(Yw.a,{size:cc.c,isOpen:t,metricsPage:a,onModalClose:n},y.a.createElement(eN.a,{onModalClose:n},i.type===nFe.TONE_MAPPING?y.a.createElement(Jw.a,null,Object(Ce.default)("HDR Conversion")):null,i.type===nFe.TONE_MAPPING?y.a.createElement(qw.a,null,y.a.createElement("p",null,Object(Ce.default)("This video needs to be converted for playback and contains High Dynamic Range (HDR) content. Colors will appear distorted on this device.")),y.a.createElement("p",null,Object(Ce.default)('With a Plex Pass, you can preview the new "HDR tone mapping" feature to correct colors during conversion!'))):null,y.a.createElement(Zw.a,null,y.a.createElement(Xw.a,null,y.a.createElement(FPe.a,{context:i.metricsContext,action:Gi.t},y.a.createElement(Ih.a,{onPress:n},Object(Ce.default)("OK"))),y.a.createElement(FPe.a,{context:i.metricsContext,action:Gi.lb},y.a.createElement(Ih.a,{"data-autofocus":!0,to:r,target:"_blank",kind:ao.d,onPress:o},Object(Ce.default)("Get a Plex Pass")))))))}rFe.defaultProps={metricsPage:It.D,subscribeUrl:j.default.join(["https://www.plex.tv","/plex-pass"])};var sFe=rFe;const oFe=Object(v.b)(null,(function(e,t){const{upsellPayload:a,onDismiss:n}=t;return{onDismiss(){const i=Object(aFe.a)(tFe.b,a.type);e(Object(VS.J)({id:i})),n&&n(t)}}}))(sFe);oFe.propTypes={...oFe.propTypes,upsellPayload:iFe.isRequired,onDismiss:Qn.a.func};var lFe=oFe;const cFe=Object(v.b)(null,(function(e,t){const{playerType:a}=t;return{onDismiss(){e(Object(Ze.o)({playerType:a}))}}}))(lFe);cFe.propTypes={...cFe.propTypes,playerType:Qn.a.oneOf([Oe.a,Oe.b,Oe.c]).isRequired};var dFe=cFe;var uFe=function(e){const{isOpen:t,onConfirm:a,onCancel:n}=e;return y.a.createElement(Xc.a,{isOpen:t,metricsPage:It.w,title:Object(Ce.default)("Continue Playback"),message:Object(Ce.default)("Would you like to continue playback here?"),confirmLabel:Object(Ce.default)("Yes"),cancelLabel:Object(Ce.default)("No"),onConfirm:a,onCancel:n})};var pFe=Object(v.b)(null,(function(e,{playerType:t}){return{onConfirm(){e(vC({playerType:t}))},onCancel(){e(Object(Ze.p)({playerType:t}))}}}))(uFe);var mFe=function(e){if(null==e)return"";const t=Object(En.c)(e),a=24*t.days*60,n=60*t.hours,i=t.minutes+n+a,r=t.seconds;return i&&r?Object(Ce.default)("{1} min {2} sec",i,r):i?Object(Ce.default)("{1} min",i):r>0?Object(Ce.default)("{1} sec",r):""};function hFe(e){const t=Math.floor(Date.now()/1e3);return e.reduce((e,{mediaItem:a})=>{const{beginsAt:n,startOffsetSeconds:i=0}=a,r=n-i;return r>t&&(!e||r<e)?r:e},0)}function gFe(e){return Math.max(0,e-Math.floor(Date.now()/1e3))}class yFe extends g.Component{constructor(e,t){super(e,t),this._tick=()=>{this.setState({endSeconds:gFe(this.state.endsAt)}),this._setTickTimeout()},this._tickTimeout=null;const a=hFe(e.conflicts);this.state={endsAt:a,endSeconds:gFe(a)}}componentDidMount(){this._setTickTimeout()}componentDidUpdate(e,t){const{conflicts:a,onModalClose:n}=this.props;e.conflicts!==a&&this._updateEndSeconds(),t.endSeconds>0&&0===this.state.endSeconds&&n({showError:!0})}componentWillUnmount(){this._tickTimeout&&window.clearTimeout(this._tickTimeout)}_setTickTimeout(){this.state.endSeconds&&(this._tickTimeout=window.setTimeout(this._tick,1e3))}_updateEndSeconds(){const e=hFe(this.props.conflicts);this.setState({endsAt:e,endSeconds:gFe(e)})}render(){const{endSeconds:e}=this.state,t=mFe(1e3*e);return y.a.createElement("span",null,Object(Ce.default)("This live TV session will end in: {formattedMinutesSeconds}",{formattedMinutesSeconds:t}))}}var fFe=yFe,bFe=a("4kAM"),vFe=a.n(bFe);function IFe(e,t,a,n){const i=e===wo.EPISODE?a:t;return n?Object(Ce.default)("Stop watching {openSpan}{title}{closeSpan} and continue",{title:i}):Object(Ce.default)("Stop recording {openSpan}{title}{closeSpan} and continue",{title:i})}var SFe=function(e){const{serverEntityID:t,type:a,title:n,grandparentTitle:i,thumb:r,grandparentThumb:s,isRolling:o,onCancelConflictPress:l}=e;return y.a.createElement(jI.a,{className:vFe.a.conflict,onPress:l},y.a.createElement(ot.a,{className:vFe.a.thumbnail,serverEntityID:t,url:r||s,width:53,height:80,component:at.a}),y.a.createElement("div",{className:vFe.a.title},y.a.createElement(LT.a,{message:IFe(a,n,i,o),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:vFe.a.titleHighlight}]})))};var EFe=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),e=>({type:e.type,title:e.title,grandparentTitle:e.grandparentTitle,thumb:e.thumb,grandparentThumb:e.grandparentThumb}))}),(function(e,t){const{playerType:a,grabOperationKey:n}=t;return{onCancelConflictPress(){e(Object(Hs.b)({playerType:a,grabOperationKey:n}))}}}))(SFe),OFe=a("NRWW"),MFe=a.n(OFe);var CFe=function(e){const{serverEntityID:t,hasSubscribeFeature:a,isPlayerOpen:n,playerType:i,isConflictCancelling:r,conflicts:s,error:o,onModalClose:l}=e,c=function(e,t){return e?t?Object(Ce.default)("A recording is scheduled to start in a few minutes and all tuners are currently in use. Please select from one of the actions below. Selecting OK or taking no action will end this live viewing session once the recording starts."):Object(Ce.default)("All tuners are in use. Please ask the server owner to free up a tuner to continue watching Live TV."):t?Object(Ce.default)("Please select from one of the actions below."):Object(Ce.default)("All tuners are in use. Please ask the server owner to free up a tuner to watch Live TV.")}(n,a);return y.a.createElement(eN.a,{onModalClose:l},y.a.createElement(Jw.a,{className:MFe.a.modalHeader},Object(Ce.default)("All Tuners are Currently in Use")),o?y.a.createElement(jde.a,{kind:ao.a,message:Object(Ce.default)("There was an error trying to cancel the selected item, please try again")}):null,y.a.createElement(qw.a,{innerClassName:MFe.a.innerModalBody},y.a.createElement("div",{className:MFe.a.message},c),a?y.a.createElement("div",{className:MFe.a.conflicts},s.map(e=>y.a.createElement(EFe,{key:e.key,serverEntityID:t,grabOperationKey:e.key,metadataItemEntityID:e.metadataItem,playerType:i,isRolling:e.rolling,isPlayerOpen:n}))):null),y.a.createElement(Zw.a,null,y.a.createElement("div",{className:MFe.a.footerMessage},n?y.a.createElement(fFe,{conflicts:s,onModalClose:l}):null),y.a.createElement(Xw.a,null,y.a.createElement(bL.a,{isSpinning:r,kind:ao.d,onPress:l},n||!a?Object(Ce.default)("OK"):Object(Ce.default)("Cancel")))))};var jFe=function(e){const{isOpen:t,isPlayerOpen:a,playerType:n,serverEntityID:i,hasSubscribeFeature:r,conflicts:s,isConflictCancelling:o,onModalClose:l}=e;return y.a.createElement(Yw.a,{size:cc.c,isOpen:t,metricsPage:It.R,onModalClose:l},y.a.createElement(CFe,{isPlayerOpen:a,playerType:n,serverEntityID:i,hasSubscribeFeature:r,conflicts:s,isConflictCancelling:o,onModalClose:l}))};var DFe=Object(v.b)((function(){return Object(he.a)(zB(),yMe(),BB(),(e,t,a)=>{const n={serverEntityID:e.serverEntityID,hasSubscribeFeature:!!t.features.find(({type:e})=>"subscribe"===e),error:e.cancelConflictError,isConflictCancelling:e.isConflictCancelling};return a&&(n.conflicts=a.grabOperation.conflicts),n})}),(function(e,t){const{isPlayerOpen:a,playerType:n}=t;return{onModalClose({showError:t=!1}={}){e(a?Object(Hs.e)({playerType:n,showError:t}):Object(Hs.c)({playerType:n}))}}}))(jFe),PFe=a("1eqe"),TFe=a("m432"),wFe=a.n(TFe);function NFe(e){const{errorCode:t,errorMessage:a,title:n}=e;if(t===PFe.b)return y.a.createElement(LT.a,{message:Object(Ce.default)("This browser can not play DRM-protected content over an insecure connection. Please try {openLink}https://app.plex.tv{closeLink} instead."),tags:[{open:"openLink",close:"closeLink",component:jI.a,kind:ao.d,to:up.p}]});if(t===PFe.a)return Object(Ce.default)("An error occurred trying to play this item. Please enable DRM support in your browser then try again.");return a||(n?Object(Ce.default)('An error occurred trying to play "{title}".',{title:n}):Object(Ce.default)("An error occurred trying to play this item."))}var xFe=function(e){const{isOpen:t,showSkipButton:a,showRetryButton:n,errorCode:i,errorCategory:r,onSkipPress:s,onRetryPress:o,onModalClose:l}=e;return y.a.createElement(Yw.a,{isOpen:t,metricsPage:It.X,size:cc.c,onModalClose:l},y.a.createElement(eN.a,{onModalClose:l},y.a.createElement(Jw.a,{className:wFe.a.modalHeader},Object(Ce.default)("Playback Error")),y.a.createElement(qw.a,null,y.a.createElement(NFe,{...e}),null!=i?y.a.createElement("p",{className:wFe.a.errorCode},Object(Ce.default)("Error code: {errorCode}",{errorCode:i}),r?` (${r})`:null):null),a||n?y.a.createElement(Zw.a,null,y.a.createElement(Xw.a,null,a?y.a.createElement(Ih.a,{onPress:s},Object(Ce.default)("Skip")):null,n?y.a.createElement(Ih.a,{kind:ao.d,onPress:o},Object(Ce.default)("Retry")):null)):null))};var AFe=Object(v.b)((function(){return Object(he.a)(zB(),jVe(),FVe(),OVe(),(e,{mediaType:t})=>t,(e,{isRemotePlayer:t})=>t,(e,t,a,n,i,r)=>{const{playQueue:s,repeatAll:o,errorCode:l,errorCategory:c,isWatchTogether:d}=e,u=a&&a.entityID,p=s&&s.currentIndex,m=function(e,t,a,n){if(!e||!t)return a;const i=t&&t.Media[e.mediaIndex],r=i&&i.source?i.source:t.source;if(!r)return a;const s=Object(Ia.a)(r);return qr.l(s.providerIdentifier,qr.f)&&"h4"===n?Object(Ce.default)("An error occurred trying to play this item. Please make sure content from TIDAL is not already playing on another device."):a}(n,t,e.errorMessage,l),h={playQueueItemEntityID:u,showSkipButton:!!s&&(p<s.playQueueItems.length-1||o),showRetryButton:!!s&&i!==_s.c&&!r&&!d,errorMessage:m,errorCode:l,errorCategory:c};return t&&(h.title=t.title),h})}),(function(e,t){const a={playerType:t.playerType};return{onModalClose(){e(Object(Ze.p)(a))},onSkipPress(t){e(Object(XM.y)(a))},onRetryPress(t){e(Object(IVe.r)(a)),e(Object(UVe.e)(a))}}}))(xFe);function LFe(e,t){return{src:j.default.join(e,{width:t,height:t,minSize:1}),sizes:`${t}x${t}`,type:"image/jpeg"}}function kFe({metadataItem:e,player:t,transcodeURL:a}){return Object(g.useEffect)(()=>{const n=(null==e?void 0:e.type)===wo.GAME,i=e&&qr.l(Object(Ia.a)(e.source).providerIdentifier,[qr.c,qr.b]),r=!!e&&!n&&!i;window.navigator.mediaSession.playbackState=r?function(e){return(null==e?void 0:e.isPaused)||(null==e?void 0:e.isBuffering)?(null==e?void 0:e.isPaused)?"paused":"none":"playing"}(t):void 0,window.navigator.mediaSession.metadata=r?new window.MediaMetadata({title:e.title,artist:e.originalTitle||e.grandparentTitle,album:e.parentTitle,artwork:a?[LFe(a,96),LFe(a,128),LFe(a,192),LFe(a,256),LFe(a,512)]:void 0}):null},[e,t,a]),Object(g.useEffect)(()=>()=>{window.navigator.mediaSession.metadata=null,window.navigator.mediaSession.playbackState="none"},[]),null}var RFe=Object(v.b)((function(){return Object(he.a)(zB(),jVe(),(e,t)=>({metadataItem:t,player:e,url:t?Object(P_.b)(t.type,t.subtype,t):void 0,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID}))}))(Object(v.b)(()=>Object(he.a)(Object(bSe.a)(),e=>({transcodeURL:e})))(({metadataItem:e,player:t,transcodeURL:a,url:n,serverEntityID:i,providerEntityID:r})=>y.a.createElement(kFe,{url:n,serverEntityID:i,providerEntityID:r,metadataItem:e,player:t,transcodeURL:a})));function zFe(){return Object(he.a)(e=>e.ui.audioVideoPlayer.openState,e=>e.ui.photoPlayer.openState,e=>e.ui.romPlayer.openState,(e,{playerType:t})=>t,(e,t,a,n)=>function(e){const{playerType:t,audioVideoOpenState:a,photoOpenState:n,romOpenState:i}=e,r=t===Oe.a&&!!a,s=t===Oe.b&&!!n;if(t===Oe.c&&!!i)return!1;let o=0,l=0;return a===$M.b?o+=1:a===$M.a&&(o+=2),n===$M.b?l+=1:n===$M.a&&(l+=2),r&&o>=l||s&&l>o}({audioVideoOpenState:e,photoOpenState:t,romOpenState:a,playerType:n}))}const UFe={dispatchPlayPreviousItem:XM.z,dispatchStepBack:IVe.C,dispatchSkipBack:IVe.A,dispatchTogglePlayPause:IVe.F,dispatchPlay:IVe.t,dispatchPause:IVe.s,dispatchSkipForward:IVe.B,dispatchStepForward:IVe.D,dispatchPlayNextItem:XM.y,dispatchChangeVolume:IVe.q,dispatchEndPlayback:Ze.p};class VFe extends g.Component{constructor(e,t){super(e,t),this.onPreviousShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem({playerType:this.props.playerType})},this.onStepBackShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onSkipBackShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onPlayPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchTogglePlayPause({playerType:this.props.playerType})},this.onPlayShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPlay({playerType:this.props.playerType})},this.onPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPause({playerType:this.props.playerType})},this.onSkipForwardShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onStepForwardShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onNextShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem({playerType:this.props.playerType})},this.onVolumeChange=e=>{this.props.dispatchChangeVolume({volume:e,playerType:this.props.playerType})},this.onVolumeIncrease=()=>{this.onVolumeChange(Math.min(this.props.volume+10,100))},this.onVolumeDecrease=()=>{this.onVolumeChange(Math.max(this.props.volume-10,0))},this.onCloseShortcut=()=>{this.setState({isCloseConfirmModalOpen:!0})},this.onCloseConfirmPress=e=>{this.props.dispatchEndPlayback({playerType:this.props.playerType})},this.onCloseCancelPress=e=>{this.setState({isCloseConfirmModalOpen:!1})},this.onToggleFullscreenShortcut=()=>{this.props.onToggleFullscreenShortcut()},this.state={isCloseConfirmModalOpen:!1}}componentDidMount(){this.props.allowShortcuts&&this._startListening()}componentDidUpdate(e){const{allowShortcuts:t}=this.props;t&&!e.allowShortcuts?this._startListening():!t&&e.allowShortcuts&&this._stopListening()}componentWillUnmount(){this.props.allowShortcuts&&this._stopListening()}_startListening(){const{isCurrentMediaTypePausable:e,isCurrentMediaTypeSkippable:t}=this.props;S.a.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",e?this.onPlayShortcut:null),window.navigator.mediaSession.setActionHandler("pause",e?this.onPauseShortcut:null),window.navigator.mediaSession.setActionHandler("previoustrack",t?this.onPreviousShortcut:null),window.navigator.mediaSession.setActionHandler("nexttrack",t?this.onNextShortcut:null),window.navigator.mediaSession.setActionHandler("stop",this.onCloseShortcut)),$.a.on({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}_stopListening(){S.a.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("previoustrack",null),window.navigator.mediaSession.setActionHandler("nexttrack",null),window.navigator.mediaSession.setActionHandler("stop",null)),$.a.off({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}render(){return y.a.createElement(Xc.a,{isOpen:this.state.isCloseConfirmModalOpen,metricsPage:It.j,title:Object(Ce.default)("Stop Playback"),message:Object(Ce.default)("Closing the player will stop playback. Any changes to the queue will be lost."),onConfirm:this.onCloseConfirmPress,onCancel:this.onCloseCancelPress})}}var BFe=Object(v.b)((function(){return Object(he.a)(zFe(),jVe(),Object(he.a)(EVe(),e=>{let t;if(e){const a=Object(wo.getMetadataType)(e.type);t=a&&a.mediaType}return t}),(e,{isAdVisible:t})=>t,RVe,(e,t,a,n,i)=>{const r=t&&qr.l(Object(Ia.a)(t.source).providerIdentifier,[qr.c,qr.b]),s=t&&Object(Ia.a)(t.source).serverIdentifier===tC.a,o=r&&s;return{allowShortcuts:e,isCurrentMediaTypePausable:!o,isCurrentMediaTypeSkippable:!n&&!r,isCurrentMediaTypeSeekable:!(n||o||a!==_s.a&&a!==_s.e),volume:i}})}),UFe)(VFe);class FFe extends g.Component{constructor(e,t){super(e,t),this.title=document.title}componentDidMount(){this._updateWindowTitle()}componentDidUpdate(){this._updateWindowTitle()}componentWillUnmount(){document.title=this.title}_updateWindowTitle(){const{type:e,title:t,originalTitle:a,grandparentTitle:n,index:i,parentIndex:r,originallyAvailableAt:s,isPaused:o}=this.props;if(!t||!e)return;let l;if(e===wo.EPISODE){l=`${n} - ${Object(Gr.a)({seasonIndex:r,episodeIndex:i,date:s,noLeadingZero:!0,separator:" · "})}`}else if(e===wo.TRACK){const e=a||n;l=e?`${e} - ${t}`:t}else l=t;o||(l="▶ "+l),document.title=l}render(){return null}}FFe.propTypes={type:Qn.a.string,title:Qn.a.string,originalTitle:Qn.a.string,grandparentTitle:Qn.a.string,index:Qn.a.number,parentIndex:Qn.a.number,originallyAvailableAt:Qn.a.string,isPaused:Qn.a.bool};var HFe=Object(v.b)((function(){return Object(he.a)(zB(),jVe(),(e,t)=>t?{type:t.type,title:t.title,originalTitle:t.originalTitle,grandparentTitle:t.grandparentTitle,index:t.index,parentIndex:t.parentIndex,originallyAvailableAt:t.originallyAvailableAt,isPaused:e.isPaused}:{})}))(FFe);function _Fe(e){const{component:t,...a}=e;return y.a.createElement(g.Suspense,{fallback:null},y.a.createElement(t,{...a,type:"video",allowRecycleElement:!0}))}_Fe.defaultProps={component:aBe};const WFe=_Fe;var QFe=LVe(_Fe);function GFe(e){const t=document.getElementById("plex").classList;e?t.add("show-video-player"):t.remove("show-video-player")}var KFe=a("1n32"),YFe=a.n(KFe);const qFe=parseInt(yu.a.playerControlsPosterHeight,10),ZFe=parseInt(yu.a.playerControlsLandscapePosterWidth,10),XFe=parseInt(yu.a.playerControlsNarrowBreakpoint,10),JFe=parseInt(yu.a.playerControlsPosterLeftGutter,10),$Fe=parseInt(yu.a.playerControlsPosterBottomGutter,10),eHe=parseInt(yu.a.playerControlsNarrowPosterBottomGutter,10);class tHe extends g.Component{constructor(e,t){super(e,t),this.updateAdState=()=>{var e;const{ad:t}=this.state,{isOpen:a,onUpdateCurrentAd:n}=this.props;if(n){n(t&&a?{adDisplayIndex:t.displayIndex,adDisplayTotal:t.displayTotal,adDurationSeconds:t.duration,adPositionSeconds:Math.floor(this.state.adPositionMilliseconds/1e3),adState:GVe.d,adTimeOffsetSeconds:null!=(e=null==t?void 0:t.timeOffset)?e:null}:{adDisplayIndex:null,adDisplayTotal:null,adDurationSeconds:null,adPositionSeconds:null,adState:null,adTimeOffsetSeconds:null})}},this.onAdPositionMillisecondsChange=e=>{this.setState({adPositionMilliseconds:e})},this.onAdChange=e=>{this.setState({ad:e,adPositionMilliseconds:0,hasRequestedAds:!0})},this.onScreenSizeChange=({width:e})=>{const t=e<=XFe;t!==this.state.isNarrowLayout&&this.setState({isNarrowLayout:t})},this.onSeekBarInteractionStart=()=>{this.setState({isSeeking:!0})},this.onSeekBarInteractionEnd=()=>{this.setState({isSeeking:!1})},this.onUpdateBufferedRanges=e=>{const{onUpdateBufferedRanges:t}=this.props;t&&t(e)},this.state={ad:null,adPositionMilliseconds:0,isNarrowLayout:!1,seekEndMilliseconds:0,seekStartMilliseconds:0},this.positionMillisecondsStore=Object(TVe.createStore)(AVe,0)}static getDerivedStateFromProps(e,t){const a={vast:e.vast,isRemotePlayer:e.isRemotePlayer};return t.vast===a.vast&&t.isRemotePlayer===a.isRemotePlayer||(a.hasRequestedAds=!1,a.ad=null,a.adPositionMilliseconds=0),a}componentDidMount(){GFe(this.props.showBackgroundVideoPlayer)}componentDidUpdate(e,t){if(e.showBackgroundVideoPlayer!==this.props.showBackgroundVideoPlayer&&GFe(this.props.showBackgroundVideoPlayer),e.isOpen&&!this.props.isOpen)this.updateAdState();else if(t.ad!==this.state.ad)this.updateAdState();else if(t.ad===this.state.ad&&t.adPositionMilliseconds!==this.state.adPositionMilliseconds){Math.floor(this.state.adPositionMilliseconds/1e3)!==this.props.adPositionSeconds&&this.updateAdState()}}componentWillUnmount(){GFe(!1)}render(){var e,t;const{adState:a,adPositionSeconds:n,adDurationSeconds:i,playerType:r,isOpen:s,isMiniPlayer:o,isRemotePlayer:l,isPlayQueueLoading:c,isPostPlayVisible:d,isFullscreen:u,isVideo:p,isGame:m,hasError:h,hasConflicts:g,confirmLiveTVPlayback:f,showBackgroundVideoPlayer:b,currentMediaType:I,currentMediaSubtype:O,confirmPlaybackPayload:M,confirmOffsetPayload:C,confirmNewsSunsetPayload:j,advertisingNoticePayload:D,confirmRemoteToLocal:P,confirmLocalToRemote:T,confirmPlayerUpsellPayload:w,vast:N,mediaComponent:x,mediaHeight:A,mediaPlacement:L,mediaWidth:k,playerComponent:R,bufferedRanges:z,machineIdentifier:U,providerIdentifier:V,gameInputDevices:B,gamePlatformTag:F,gamePreventDefault:H,onToggleFullscreen:_}=this.props,{ad:W,adPositionMilliseconds:Q,hasRequestedAds:G,seekStartMilliseconds:K,seekEndMilliseconds:Y,isNarrowLayout:q,isSeeking:Z}=this.state;if(!s)return h?y.a.createElement(AFe,{isOpen:!0,isRemotePlayer:l,mediaType:I,playerType:r}):g?y.a.createElement(DFe,{isOpen:!0,isPlayerOpen:s,playerType:r}):f?y.a.createElement(VBe,{isOpen:!0,isPlayerOpen:s,playerType:r}):null;const X=(p||m)&&o?{edgeGutterX:JFe,edgeGutterY:q?eHe:$Fe,height:qFe,placement:KVe.a,width:ZFe}:{height:A,placement:L,width:k},J=a===GVe.d,$=!!N&&!G,ee=null!=(t=null==(e=z[z.length-1])?void 0:e.endSeconds)?t:0;return y.a.createElement($t,{machineIdentifier:U,providerIdentifier:V},y.a.createElement(v.a,{store:this.positionMillisecondsStore,context:wVe},y.a.createElement(HG.a,{page:It.W},y.a.createElement("div",{className:Pe()(o?YFe.a.miniPlayerContainer:YFe.a.fullPlayerContainer,!b&&!o&&YFe.a.fullPlayerContainerBackground)},M?y.a.createElement(eFe,{isOpen:!0,playerType:r,confirmPlaybackPayload:M}):null,w?y.a.createElement(dFe,{isOpen:!0,playerType:r,upsellPayload:w}):null,D?y.a.createElement(LBe,{isOpen:!0,playerType:r,advertisingNoticePayload:D}):null,C?y.a.createElement(JBe,{isOpen:!0,playerType:r,confirmOffsetPayload:C}):null,j?y.a.createElement(ZBe,{isOpen:!0,playerType:r,confirmNewsSunsetPayload:j}):null,P?y.a.createElement(pFe,{isOpen:!0,playerType:r}):null,1!==T?y.a.createElement(_Be,{isOpen:!0,playerType:r}):null,h?y.a.createElement(AFe,{isOpen:!0,isRemotePlayer:l,mediaType:I,playerType:r}):null,g?y.a.createElement(DFe,{isOpen:!0,isPlayerOpen:s,playerType:r}):null,$||d||c||l&&1===T||P?null:y.a.createElement(x,{...X,gameInputDevices:B,gamePlatformTag:F,gamePreventDefault:H,playerType:r,mediaType:I,mediaSubtype:O,isNarrowLayout:q,isStackedAbove:o,isAdVisible:J,onBufferChange:this.onUpdateBufferedRanges}),!N||l||P||h?null:y.a.createElement(WFe,{...X,ad:W,playerType:r,isMiniPlayer:o,isFullscreen:u,isIdle:!!Z,component:Object(E.c)("adPlayerComponent").getComponent(),isStackedAbove:o,isNarrowLayout:q,positionSeconds:Math.round(Q/1e3),url:N.url,statusOverlayClassName:YFe.a.adPlayerDisplayIndexContainer,onAdChange:this.onAdChange,onPositionMillisecondsChange:this.onAdPositionMillisecondsChange}),y.a.createElement(R,{...this.props,...X,ad:W,isAdVisible:J,isNarrowLayout:q,seekStartMilliseconds:K,seekEndMilliseconds:Y,bufferStartMilliseconds:0,bufferEndMilliseconds:1e3*ee,adPositionMilliseconds:l?1e3*n:Q,adDurationMilliseconds:1e3*i,onSeekBarInteractionStart:this.onSeekBarInteractionStart,onSeekBarInteractionEnd:this.onSeekBarInteractionEnd}),y.a.createElement(BFe,{isAdVisible:J,playerType:r,onToggleFullscreenShortcut:_}),S.a.hasMediaSession?y.a.createElement(RFe,{playerType:r}):null,y.a.createElement(HFe,{playerType:r}),y.a.createElement(EBe,{playerType:r,isRemotePlayer:l,isAdVisible:J}),y.a.createElement(MBe,{playerType:r}),y.a.createElement(jBe,{onScreenSizeChange:this.onScreenSizeChange})))))}}tHe.defaultProps={bufferedRanges:[],confirmLiveTVPlayback:!1,isGame:!1,isMusic:!1,isPhoto:!1,isVideo:!1,isLiveTV:!1};var aHe=tHe;function nHe(e){return e?`${e.type}:${e.startTimeOffset}:${e.endTimeOffset}`:void 0}const iHe="north",rHe="northeast",sHe="east",oHe="southeast",lHe="south",cHe="southwest",dHe="west",uHe="northwest",pHe="center";var mHe=a("LWeR");var hHe=Object(v.b)((function(){return Object(he.a)(Object(bSe.a)(),e=>({url:e}))}))(mHe.a);const gHe=Math.max(256,144),yHe={maxWidth:256/1920*100+"vw",maxHeight:144/1080*100+"vh"},fHe={maxWidth:"10vw",maxHeight:"10vh"},bHe={maxWidth:128/1920*100+"vw",maxHeight:72/1080*100+"vh"},vHe=({className:e,src:t,style:a})=>y.a.createElement("img",{className:e,src:t,style:a});var IHe=({className:e,providerEntityID:t,overlay:a,serverEntityID:n})=>{const[i,r]=Object(g.useState)();let s;switch(a.size){case"large":s=yHe;break;case"medium":s=fHe;break;case"small":default:s=bHe}const o=Object(g.useCallback)(()=>{r(new Error("Unable to load overlay"))},[]);return Object(g.useEffect)(()=>{r(void 0)},[a]),i?null:y.a.createElement(hHe,{component:vHe,className:e,serverEntityID:n,providerEntityID:t,url:a.key,width:gHe,height:gHe,style:s,format:"png",onError:o})},SHe=a("KEW7"),EHe=a.n(SHe);var OHe=({itemPlaybackTime:e,liveTVMediaItem:t,liveTVSession:a,mediaHeight:n,mediaWidth:i,playQueueMediaItem:r,positionSeconds:s,providerEntityID:o,serverEntityID:l})=>{const[c,u]=function(){const[e,t]=Object(g.useState)([window.innerWidth,window.innerHeight]);return Object(g.useEffect)(()=>{function e(){t([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}(),p=Object(g.useMemo)(()=>{const n=Math.floor(e/1e3);let i,o=-1;return a&&t?(i=t,o=a.currentPosition-t.beginsAt):r&&(i=r,o=s),(null==i?void 0:i.Overlay)?function(e,t){const{secondsSinceMediaItemAiringBegan:a,secondsSinceMediaItemPlaybackBegan:n}=t;return e.reduce((e,t)=>{const i=t.startTimeOffset/1e3,r=i+(null==t.duration?Number.POSITIVE_INFINITY:t.duration/1e3);let s=!1;return"absolute"===t.startTimeOffsetType?s=n>=i&&n<r:"relative"===t.startTimeOffsetType&&(s=a>=i&&a<r),s&&(e.has(t.gravity)?e.get(t.gravity).push(t):e.set(t.gravity,[t])),e},new Map)}(i.Overlay,{secondsSinceMediaItemAiringBegan:o,secondsSinceMediaItemPlaybackBegan:n}):void 0},[e,a,t,r,s]);if(!(null==p?void 0:p.size)||!n||!i)return null;const m=Math.min(c/i,u/n);return y.a.createElement("div",{className:EHe.a.outerContainer},y.a.createElement("div",{className:EHe.a.innerContainer,style:{width:i*m/c*100+"vw",height:n*m/u*100+"vh"}},Object.values(d).map(e=>{var t;const a=null==(t=null==p?void 0:p.get(e))?void 0:t.map((e,t)=>y.a.createElement(IHe,{key:t,className:EHe.a.overlay,overlay:e,providerEntityID:o,serverEntityID:l}));return a?y.a.createElement("div",{key:e,className:EHe.a[e]},a):null})))};var MHe=Object(v.b)((function(){return Object(he.a)(BVe(),QB(),BB(),iBe(["mediaHeight","mediaWidth","itemPlaybackTime","positionSeconds","providerEntityID","serverEntityID"]),(e,t,a,n)=>({...n,liveTVMediaItem:t,liveTVSession:a,playQueueMediaItem:e}))}))(OHe);var CHe=function(e){const t=Object(he.a)(e=>e,e=>({positionMilliseconds:e}));function a(t){const{positionSeconds:a,positionMilliseconds:n,...i}=t;let r=n;if(null!=a){Math.abs(a-Math.floor(n/1e3))>1&&(r=1e3*a)}return y.a.createElement(e,{positionSeconds:a,positionMilliseconds:r,...i})}return a.displayName=`WithPositionMilliseconds(${Object(yO.a)(e)})`,a.WrappedComponent=e,a.propTypes={positionSeconds:Qn.a.number,positionMilliseconds:Qn.a.number.isRequired},Object(v.b)(t,null,null,{context:wVe})(a)},jHe=a("NwiP"),DHe=a.n(jHe);var PHe=a("W2rq"),THe=a.n(PHe);class wHe extends g.Component{constructor(e,t){super(e,t),this._loadSubtitles=()=>{this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID));const{subtitlesUrl:e,positionMilliseconds:t,decisionUseSidecarSrtSubtitles:a}=this.props;this._positionAtTimeOfRequest=t,Object(C.a)("[Subtitles] loading subtitles. position: %s url: %s",this._positionAtTimeOfRequest,e),this._abortStream(),this._xhr=new window.XMLHttpRequest;const n=new DHe.a.parser.XhrStream(this._xhr),i=a?new DHe.a.parser.SrtStreamParser(n).ass:new DHe.a.parser.StreamParser(n).minimalASS;this._openSubtitlesConnection(),i.then(this.onSubtitlesLoad,this.onSubtitlesFail)},this._getPosition=()=>{const{positionMilliseconds:e,offset:t}=this.props,a=(e+t)/1e3;if(a%1e3){const e=this._clock.currentTime;if(Math.floor(e)===a)return e}return a},this.onMeasure=({width:e,height:t})=>{this.setState({width:e,height:t})},this.onSubtitlesLoad=e=>{if(!this._isMounted)return!1;Object(C.a)("[Subtitles] Starting to render subtitles"),this._destroySubtitles(),this._clock=new DHe.a.renderers.AutoClock(this._getPosition,1e3),this._renderer=new DHe.a.renderers.WebRenderer(e,this._clock,document.getElementById(this._rendererID),this.props.rendererOptions),this._setSubtitleSize(),this._rerenderSubtitles(),this._setClockState(),this._formatTimeoutID=window.setTimeout(()=>{this._setSubtitleColor(),this._setSubtitlePosition(),this._rerenderSubtitles()},0)},this.onSubtitlesConnectionTimeout=()=>{Object(C.a)("[Subtitles] Connection inactivity timeout, reopening."),this._openSubtitlesConnection()},this.onSubtitlesFail=()=>{if(!this._isMounted)return!1;const e=this._xhr.readyState,t=this._xhr.status;this._errorCount++,C.a.warn("[Subtitles] Request failed. statusCode:%s state:%s errorCount:%s %s",t,e,this._errorCount,this._xhr.errorString||""),this._errorCount>this.props.consecutiveErrorsTolerance?this.props.onSubtitlesError():this._loadTimeoutID=window.setTimeout(this._loadSubtitles,this.props.retryTimeout)},DHe.a.debugMode=!1,this.state={width:0,height:0},this._rendererID=Object(gf.a)(),this._loadTimeoutID=null,this._connectionTimeoutID=null,this._errorCount=0,this._positionAtTimeOfRequest=null,this._isMounted=!1}componentDidMount(){this._isMounted=!0,this.props.subtitlesUrl&&this._loadSubtitles()}componentDidUpdate(e,t){const{isOpen:a,isBuffering:n,isPaused:i,hasError:r,heightOffset:s,rendererOptions:o,offset:l,color:c,position:d,size:u,sizeMultiplier:p,subtitlesUrl:m}=this.props,{width:h,height:g}=this.state;if(this._shouldResetStream(e)||o!==e.rendererOptions||m!==e.subtitlesUrl)return void this._loadSubtitles();const y=c!==e.color,f=d!==e.position,b=u!==e.size||p!==e.sizeMultiplier;y&&this._setSubtitleColor(),f&&this._setSubtitlePosition(),b&&this._setSubtitleSize(),(y||f||b||h!==t.width||g!==t.height||s!==e.heightOffset)&&this._rerenderSubtitles(),a===e.isOpen&&n===e.isBuffering&&i===e.isPaused&&r===e.hasError||this._setClockState(),l!==e.offset&&this._setPosition()}componentWillUnmount(){Object(C.a)("[Subtitles] Closing"),this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID)),this._isMounted=!1,this._destroySubtitles(),this._abortStream()}_openSubtitlesConnection(){const{subtitlesUrl:e,isDirectPlay:t,positionSeconds:a,connectionTimeout:n}=this.props;this._abortStream(),this._xhr.onreadystatechange=e=>{4===e.currentTarget.readyState&&(e.currentTarget.status>=200&&e.currentTarget.status<300?this._errorCount=0:this.onSubtitlesFail())},n&&(this._xhr.onprogress=e=>{Object(C.a)("[Subtitles] Received data, restarting connection timer."),window.clearTimeout(this._connectionTimeoutID),this._connectionTimeoutID=window.setTimeout(this.onSubtitlesConnectionTimeout,n)});let i=e;if(t){const t=j.default.parseUrl(e);t.params.offset=a,i=j.default.join([t.origin,t.pathname],t.params)}this._xhr.open("GET",i,!0),this._xhr.send()}_destroySubtitles(){this._loadTimeoutID&&(this._loadTimeout=window.clearTimeout(this._loadTimeoutID)),this._clock&&(this._clock.disable(),this._clock=null),this._renderer&&(this._renderer.disable(),this._renderer=null);const e=document.getElementById(this._rendererID);for(;e.hasChildNodes();)e.removeChild(e.lastChild)}_abortStream(){this._xhr&&(Object(C.a)("[Subtitles] Aborting existing xhr."),this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.abort())}_setSubtitleColor(){const{color:e}=this.props;if(!this._renderer)return;const t=function(e){const t=/^#?([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i.exec(e);return t?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null}(e),a=this._renderer.ass.styles.get("Default");t?a?(Object(C.a)("[Subtitles] Setting subtitle color to %s",e),a._primaryColor=new DHe.a.parts.Color(t.red,t.green,t.blue,1),a._outlineColor=e===lOe.BLACK?new DHe.a.parts.Color(255,255,255,1):new DHe.a.parts.Color(0,0,0,1)):C.a.warn("[Subtitles] Unable to set subtitle color, no default style"):C.a.warn("[Subtitles] Unable to set subtitle color, invalid color")}_setSubtitlePosition(){const{position:e}=this.props;if(!this._renderer)return;const t=this._renderer.ass.styles.get("Default");let a=2;e===dOe.MIDDLE?a=5:e===dOe.TOP&&(a=8),t?(Object(C.a)("[Subtitles] Setting subtitle position to %s",e),t._alignment=a):C.a.warn("[Subtitles] Unable to set subtitle position, no default style")}_setSubtitleSize(){const{size:e,sizeMultiplier:t}=this.props;if(!this._renderer)return;const a=this._renderer.ass.properties,n=e*t/100;let i,r;this.state.originalResolutionX&&this.state.originalResolutionY?(i=this.state.originalResolutionX,r=this.state.originalResolutionY):(i=a.resolutionX,r=a.resolutionY,this.setState({originalResolutionX:i,originalResolutionY:r})),a.resolutionX=i/n,a.resolutionY=r/n}_rerenderSubtitles(){if(this._renderer){const{width:e,height:t}=this.state;Object(C.a)("[Subtitles] Re-rendering subtitles"),this._renderer.resize(e,t-this.props.heightOffset)}}_setPosition(){const e=this._clock;if(!e||!e._manualClock)return;const{positionMilliseconds:t,offset:a}=this.props;e._manualClock._currentTime=(t+a)/1e3}_setClockState(){const e=this._clock;if(!e)return;const{isOpen:t,isBuffering:a,isPaused:n,hasError:i}=this.props;return a||n?(Object(C.a)("[Subtitles] Clock State: paused"),void e.pause()):!t||i?(Object(C.a)("[Subtitles] Clock State: disabled"),void e.disable()):n?void 0:(Object(C.a)("[Subtitles] Clock State: playing"),void e.play())}_shouldResetStream(e){const{isOpen:t,isMediaLoading:a,isBuffering:n,isPaused:i,hasError:r,positionMilliseconds:s,lastSeekPositionSeconds:o,decisionUseSidecarSrtSubtitles:l}=this.props;if(l)return!1;const c=this._positionAtTimeOfRequest,d=s-e.positionMilliseconds,u=d>0&&t&&!a&&!n&&!i&&!r;if(null!=o&&o!==e.lastSeekPositionSeconds)return this._resetAfterSeekStarted=!0,this._resetLater=!1,!1;if(this._resetAfterSeekStarted){const e=1e3*o<s;return!(!u||!e)&&(this._resetAfterSeekStarted=!1,!0)}return u&&this._resetLater?(this._resetLater=!1,!0):(!this._xhr||d>1e4||s<c)&&(this._resetLater=!u,u)}render(){return y.a.createElement(VO.a,{className:THe.a.measure,onMeasure:this.onMeasure},y.a.createElement("div",{id:this._rendererID,className:THe.a.renderer,role:"alert"}))}}wHe.defaultProps={offset:0,color:lOe.WHITE,position:dOe.BOTTOM,size:pOe.NORMAL,sizeMultiplier:1,heightOffset:0,consecutiveErrorsTolerance:3,connectionTimeout:null,retryTimeout:3e3,rendererOptions:{enableSvg:!1,preciseOutlines:!1}};var NHe=wHe;const xHe={dispatchMakeDecision:UVe.a,dispatchRemoveDecision:UVe.d,dispatchShowAlert:eS.d};class AHe extends g.Component{constructor(e,t){super(e,t),this.onSubtitlesError=()=>{const{playQueueItemEntityID:e,playerType:t,positionMilliseconds:a,qualityIndex:n,decisionMediaIndex:i,decisionPartIndex:r,decisionUseSidecarSrtSubtitles:s,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;s?this.setState({hasSidecarSrtFailed:!0}):(l({playerType:t,playQueueItemEntityID:e}),o({playerType:t,playQueueItemEntityID:e,qualityIndex:n,mediaIndex:i,partIndex:r,options:{offset:a,subtitlesBurnLevel:mOe.a.ALWAYS}}))},this.state={hasSidecarSrtFailed:!1}}componentDidUpdate(e,t){const{hasSidecarSrtFailed:a}=this.state;a&&a!==t.hasSidecarSrtFailed&&(C.a.error("[Subtitles] Unrecoverable error processing",this.props.subtitlesUrl),this.props.dispatchShowAlert({type:"error",message:Object(Ce.default)("There was an unexpected subtitles error")}))}render(){const{subtitlesUrl:e,dispatchMakeDecision:t,dispatchRemoveDecision:a,...n}=this.props;return!e||this.state.hasSidecarSrtFailed?null:y.a.createElement(NHe,{subtitlesUrl:e,...n,onSubtitlesError:this.onSubtitlesError})}}const LHe=CHe(AHe);var kHe=Object(v.b)((function(){return Object(he.a)(iBe(["isOpen","isMediaLoading","isBuffering","isPaused","hasError","qualityIndex","positionSeconds","lastSeekPositionSeconds"]),OVe(),EVe(),HVe(),Object(E.c)("selectSubtitleSettings"),(e,t,a,n,i)=>{const r={...e,...i,playQueueItemEntityID:a.entityID};return t&&(r.decisionMediaIndex=t.mediaIndex,r.decisionPartIndex=t.partIndex,r.decisionUseSidecarSrtSubtitles=t.useSidecarSrtSubtitles,r.subtitlesUrl=t.subtitlesUrl,r.isDirectPlay=t.isDirectPlay),n.selectedSubtitlesStream&&(r.offset=n.selectedSubtitlesStream.offset),r})}),xHe)(LHe);function RHe(e){e.nativeEvent.stopImmediatePropagation()}const zHe=Object(jl.a)(Mr.a.defaultSpeed),UHe={enter:{opacity:1,duration:zHe},exit:{opacity:0,duration:zHe}};var VHe=function({isHidden:e,isHiddenPolite:t,marker:a,positionSeconds:n,onPress:i,...r}){const s=nHe(a),[o,l]=Object(g.useState)(0),{isOpen:c,onOpen:d,onClose:u}=ul(),p=Object(g.useRef)(),m=Object(g.useCallback)(e=>{RHe(e),l(n),i(Math.round(a.endTimeOffset/1e3))},[a,n,i]);return Object(g.useEffect)(()=>{const i=1e3*n,r=!a,s=i<(null==a?void 0:a.startTimeOffset),l=i>=(null==a?void 0:a.endTimeOffset),c=o>0,m=(null==a?void 0:a.endTimeOffset)-i<500,h=t&&p.current&&n>=p.current;e||r||s||l||h||c&&m?u():t&&!p.current?p.current=n+10:r||s||l||d()},[a,e,t,o,n,d,u]),Object(g.useEffect)(()=>()=>{p.current=0,l(0)},[s]),y.a.createElement(Cl.a,null,c&&s?y.a.createElement(Cl.b.div,{key:s,initial:"exit",animate:"enter",exit:"exit",variants:UHe},y.a.createElement(Ih.a,{...r,autoFocus:"autofocus",onKeyDown:RHe,onKeyUp:RHe,onTouchEnd:RHe,onTouchStart:RHe,onPress:m},function(e){switch(e.type){case"commercial":return Object(Ce.default)("Skip Ads");case"intro":return Object(Ce.default)("Skip Intro");case"outro":return Object(Ce.default)("Skip Outro");case"recaps":return Object(Ce.default)("Skip Recaps")}}(a))):null)};var BHe=Object(v.b)((function(){return Object(he.c)({positionSeconds:UB("positionSeconds")})}),(function(e,{playerType:t}){return{onPress(a){e(IVe.w({playerType:t,positionSeconds:a}))}}}))((function({playerType:e,...t}){return y.a.createElement(VHe,{...t})}));var FHe=function(){return Object(he.a)(UB("positionSeconds"),jVe(),(e,t)=>t&&t.chapters?t.chapters.findIndex(t=>Math.floor(t.startTimeOffset/1e3)<=e&&Math.floor(t.endTimeOffset/1e3)>e):-1)},HHe=a("cFG9"),_He=a.n(HHe);const WHe=parseInt(yu.a.playerControlsHeight,10);class QHe extends g.Component{constructor(){super(...arguments),this.onMeasure=e=>{this.props.onDimensionsChange&&this.props.onDimensionsChange(e)}}render(){const{className:e,bottom:t,children:a}=this.props;return y.a.createElement(VO.a,{className:e,style:{bottom:t},ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},a)}}QHe.defaultProps={className:_He.a.container,bottom:WHe};var GHe=QHe;const KHe=Object(eM.d)(wo.MOVIE,null,XO.k),YHe=2*(parseInt(yu.a.posterTitleHeight,10)+parseInt(yu.a.posterTitlePadding,10));function qHe(e){return e-YHe}var ZHe=a("u7G/"),XHe=a.n(ZHe);var JHe=Object(g.memo)((function(e){const{serverEntityID:t,index:a,thumb:n,tag:i,isActive:r,startTimeOffset:s,cellWidth:o,cellHeight:l,onSeekTo:c}=e,d=Object(KO.a)(e),u=Object(g.useCallback)(()=>{const e=Math.round(s/1e3);c(e)},[s,c]),p=a;return y.a.createElement("div",{style:d.style},y.a.createElement(jI.a,{className:Pe()(XHe.a.thumbWrapper,r&&XHe.a.isActive),onPress:u},y.a.createElement(ot.a,{key:p,serverEntityID:t,url:n,backgroundSize:"contain",width:o,height:qHe(l),component:at.a})),y.a.createElement("div",{className:XHe.a.titleContainer},y.a.createElement("div",{className:XHe.a.title},function(e,t){return t||Object(Ce.default)("Chapter {index}",{index:e})}(a,i)),y.a.createElement("div",{className:XHe.a.secondaryTitle},Object(Rg.a)(s))))})),$He=a("7DXn"),e_e=a.n($He);const t_e=Object(qV.c)({direction:qV.a,rows:1,overscan:0,innerHorizontalPadding:30,outerPaddingTop:10,outerPaddingLeft:5,outerPaddingRight:5,getCellWidth:e=>JV({...e,minCellWidth:135,preferredCellWidth:180,minColumns:2,maxColumns:11,aspectRatio:KHe}),getCellHeight:e=>ZV({...e,aspectRatio:KHe,titleHeight:YHe})});class a_e extends g.Component{constructor(e,t){super(e,t),this.onHubCellScrollIndexChange=e=>{this.setState({scrollIndex:e,scrollIndexIsActiveChapter:!1})},this.state={scrollIndex:this.props.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:this.props.activeChapterIndex}}static getDerivedStateFromProps(e,t){return t.activeChapterIndex!==e.activeChapterIndex?{scrollIndex:e.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:e.activeChapterIndex}:null}render(){const{serverEntityID:e,bottom:t,activeChapterIndex:a,chapters:n,onSeekTo:i}=this.props;return y.a.createElement(GHe,{className:e_e.a.container,bottom:t},y.a.createElement(GH,{hubIdentifier:"chapters",title:Object(Ce.default)("Chapter selection"),size:n.length,keyPropName:"index",items:n.map((e,t)=>({...e,isActive:t===a})),layout:t_e,cellRenderer:SA({serverEntityID:e,onSeekTo:i},JHe),scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.state.scrollIndexIsActiveChapter,onListScrollIndexChange:this.onHubCellScrollIndexChange}))}}var n_e=a_e;var i_e=Object(v.b)((function(){return Object(he.a)(zB(),MVe(),FHe(),(e,t,a)=>({serverEntityID:e.serverEntityID,chapters:t.chapters,activeChapterIndex:a}))}),(function(e,{playerType:t}){return{onSeekTo(a){e(IVe.w({playerType:t,positionSeconds:a}))}}}))(n_e),r_e=a("rymg"),s_e=a.n(r_e);var o_e=function(e){const{title:t}=e;return y.a.createElement("div",{className:s_e.a.heading},t)},l_e=a("yd35"),c_e=a.n(l_e);var d_e=function(e){const{children:t}=e;return y.a.createElement("div",{className:c_e.a.headingContainer},t,y.a.createElement("div",{className:c_e.a.divider}))},u_e=a("ylzf"),p_e=a.n(u_e);function m_e(e){const{className:t,posterPlayButtonClassName:a,serverEntityID:n,providerEntityID:i,metadataItemEntityID:r,type:s,title:o,context:l,imageWidth:c,imageHeight:d,imageUrl:u,beginsAt:p,endsAt:m,channelTitle:h,channelShortTitle:g,timeFormat:f,onPlayPress:b}=e,v=aH(s,l,{providerEntityID:i});return y.a.createElement("div",{className:t},y.a.createElement("div",{className:p_e.a.channelInfoContainer},y.a.createElement("div",{"data-qa-id":"alsoAiringItem-channel-name",className:p_e.a.channelTitle},g||h)),y.a.createElement("div",{className:p_e.a.cardContainer},y.a.createElement(VCe,{playButtonClassName:a,playCircleClassName:p_e.a.posterPlayCircle,serverEntityID:n,providerEntityID:i,imageWidth:c,imageHeight:d,imageUrl:u,title:o,onPlayPress:b})),y.a.createElement("div",{className:p_e.a.titlesContainer},y.a.createElement("div",{className:p_e.a.titles},v.map((e,t)=>y.a.createElement(XH,{key:t,serverEntityID:n,providerEntityID:i,metadataItemEntityID:r,component:e,isSecondary:t>0})))),y.a.createElement("div",{className:p_e.a.airTimeContainer},p&&m?aM(p,m,{timeFormat:f,separator:" — "}):null))}m_e.defaultProps={className:p_e.a.container};var h_e=m_e;var g_e=Object(v.b)((function(){return Object(he.a)(qO,Object(YO.a)(),Object(IB.a)(),(e,t,a)=>{const n=XO.g,i=Object(eM.d)(t.type,t.subtype,n)===eM.a?64:36,r=Object(P_.a)(i,null,t.type,t.subtype,t,n);return{type:t.type,title:t.title,context:n,imageWidth:r.width,imageHeight:r.height,imageUrl:r.url,beginsAt:a&&a.beginsAt,endsAt:a&&a.endsAt,channelTitle:a&&a.channelTitle,channelShortTitle:a&&a.channelShortTitle,timeFormat:e}})}))(h_e),y_e=a("ljKs"),f_e=a.n(y_e);var b_e=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,playerType:i,onPlayPress:r}=e;return y.a.createElement("div",{"data-qa-id":"alsoAiringItem",className:f_e.a.container},y.a.createElement(jI.a,{className:f_e.a.underlay,onPress:r}),y.a.createElement(g_e,{className:f_e.a.metadataContainer,posterPlayButtonClassName:f_e.a.metadataPosterPlayButton,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,playerType:i,onPlayPress:r}))};const v_e={dispatchStartLiveTVPlayback:Hs.l};var I_e=Object(v.b)(null,v_e)((function(e){const{dispatchStartLiveTVPlayback:t,...a}=e,{serverEntityID:n,providerEntityID:i,metadataItemEntityID:r}=e,s=Object(g.useCallback)(()=>{t({serverEntityID:n,providerEntityID:i,metadataItemEntityID:r,metricsPage:It.W})},[t,n,i,r]);return y.a.createElement(b_e,{...a,onPlayPress:s})})),S_e=a("+Lxe"),E_e=a.n(S_e);var O_e=function(e){const{serverEntityID:t,providerEntityID:a,itemEntityIDs:n,playerType:i}=e;return y.a.createElement("div",{className:E_e.a.container},y.a.createElement(d_e,null,y.a.createElement(o_e,{title:Object(Ce.default)("Airing Now")})),y.a.createElement(XD.a,{className:E_e.a.content,autoScroll:!0},n.map(e=>y.a.createElement(I_e,{key:e,serverEntityID:t,providerEntityID:a,metadataItemEntityID:e,playerType:i}))))};const M_e={dispatchInitMetadataList:aO,dispatchPopulateChannelPrograms:cO,dispatchRepopulateChannelPrograms:dO,dispatchResetStartTime:iO,dispatchSetViewportSize:oO};var C_e=Object(v.b)((function(){return Object(he.a)(e=>e.ui.channelGridPage.viewportWidth,PO(),CO(),(e,t,a)=>{const n=Math.floor(Date.now()/1e3);return{containerKey:a,itemEntityIDs:t.filter(e=>e.Media[0].beginsAt<=n&&e.Media[0].endsAt>n).map(e=>e.entityID),shouldSetViewportSize:0===e}})}),M_e)((function(e){const{shouldSetViewportSize:t,dispatchInitMetadataList:a,dispatchPopulateChannelPrograms:n,dispatchRepopulateChannelPrograms:i,dispatchResetStartTime:r,dispatchSetViewportSize:s,...o}=e,{containerKey:l,serverEntityID:c,providerEntityID:d}=e;return Object(g.useEffect)(()=>{l&&(t&&s(),r(),a({containerKey:l,serverEntityID:c,providerEntityID:d}),n())},[l,c,d,t,a,n,r,s]),y.a.createElement(O_e,{...o})}));var j_e=Object(v.b)((function(){return Object(he.a)(e=>e.ui.channelGridPage,zB(),(e,t)=>({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:e.metadataList}))}))((function(e){return y.a.createElement(C_e,{...e})}));const D_e="ui/player/playerControls/togglePlayerOpenState",P_e=(Object(yo.a)(D_e),Object(yo.a)(D_e,e=>({...e,openState:$M.a}))),T_e=Object(yo.a)(D_e,e=>({...e,openState:$M.b})),w_e={[D_e](e,{playerType:t,openState:a}){const n=Object(iC.c)(e,t);Object(Dt.a)(()=>{n.set({previousOpenState:void 0,openState:a,isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1})})}};var N_e=function(){return Object(he.a)(CMe,bMe,fMe(),UB("isWatchTogether"),Object(he.a)(SVe(),e=>null==e?void 0:e.type),Es.a,(e,t,a,n,i,r)=>{const s=2===t&&Object(nC.a)({protocol:JM.a,providerIdentifier:a,userFeaturesByUUID:r,isWatchTogether:n,playQueueType:i}),o=e.some(({protocol:e,protocolCapabilities:t})=>Object(nC.a)({protocol:e,protocolCapabilities:t,providerIdentifier:a,userFeaturesByUUID:r,isWatchTogether:n,playQueueType:i}));return s||o})},x_e=a("rNFJ"),A_e=a.n(x_e);function L_e(e){const{className:t,isPrimary:a,...n}=e;return y.a.createElement(ZO.a,{...n,className:Pe()(t,a&&A_e.a.isPrimary)})}L_e.defaultProps={className:A_e.a.playerButton};var k_e=L_e;function R_e(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-collapse-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280 448L28 196l56-56 196 196 196-196 56 56z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}R_e.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var z_e=R_e;function U_e(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-fullscreen-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}U_e.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var V_e=U_e;function B_e(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-windowed-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}B_e.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var F_e=B_e,H_e=a("HDjD"),__e=a.n(H_e);var W_e=function(e){const{className:t=__e.a.topControls,playerType:a,showRemotePlayer:n,hasFullscreen:i,isFullscreen:r,remotePlayerName:s,remotePlayerProduct:o,onCollapsePress:l,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u}=e,p=Object(I.h)(),m=Object(Or.a)(p);return Object(g.useEffect)(()=>{m&&p!==m&&l()},[p,m,l]),y.a.createElement("div",{className:t},y.a.createElement("div",null,y.a.createElement(k_e,{className:__e.a.topButton,"data-qa-id":"minimizePlayerButton",iconComponent:z_e,title:Object(Ce.default)("Minimize Player"),onPress:l}),s?y.a.createElement("span",{className:__e.a.remotePlayerName},Object(Ce.default)("Casting to {playerName}",{playerName:s})):null,s&&o?y.a.createElement("span",{className:__e.a.remotePlayerProduct},"(",o,")"):null),y.a.createElement("div",null,n?y.a.createElement(QMe,{className:__e.a.castButton,playerType:a,onMenuChange:c}):null,i&&r?y.a.createElement(k_e,{className:__e.a.topButton,"data-qa-id":"windowedButton",iconComponent:F_e,title:Object(Ce.default)("Exit Fullscreen"),onPress:u}):null,i&&!r?y.a.createElement(k_e,{className:__e.a.topButton,"data-qa-id":"fullscreenButton",iconComponent:V_e,title:Object(Ce.default)("Enter Fullscreen"),onPress:d}):null))};const Q_e=Object(he.a)(BM,e=>e?e.product:null),G_e=Object(he.a)(BBe,Q_e,N_e(),(e,t,a)=>({remotePlayerName:e,remotePlayerProduct:t,showRemotePlayer:a}));var K_e=Object(v.b)(G_e,(function(e,t){const a={playerType:t.playerType};return{onCollapsePress(t){e(T_e(a))}}}))(W_e),Y_e=a("5m2Q"),q_e=a.n(Y_e);class Z_e extends g.Component{constructor(e,t){super(e,t),this.onPress=e=>{this._cancelPlayPause(),this.setState(({isPaused:e})=>({isPaused:!e})),this._playPauseTimeoutID=window.setTimeout(()=>{this._playPauseTimeoutID=null,this.props.isPaused!==this.state.isPaused&&this.props.onTogglePlayPress(e)},175)},this.onDoubleClick=e=>{this.props.onToggleFullscreen()},this.state={isPaused:e.isPaused},this._playPauseTimeoutID=null}componentWillReceiveProps(e){e.isPaused===this.state.isPaused||this._playPauseTimeoutID||this.setState({isPaused:e.isPaused})}componentWillUnmount(){this._cancelPlayPause()}_cancelPlayPause(){this._playPauseTimeoutID&&(window.clearTimeout(this._playPauseTimeoutID),this._playPauseTimeoutID=null)}render(){const{className:e,isCursorHidden:t,isTogglePlayPressDisabled:a}=this.props,{isPaused:n}=this.state;return a?y.a.createElement("div",{className:Pe()(e,t&&q_e.a.hiddenCursor,q_e.a.overlay),onClick:this.onPress,onDoubleClick:this.onDoubleClick}):y.a.createElement(vM.a,{className:Pe()(e,t&&q_e.a.hiddenCursor,n?q_e.a.playButton:q_e.a.pauseButton),circleClassName:q_e.a.playCircle,"aria-label":n?Object(Ce.default)("Play"):Object(Ce.default)("Pause"),onPress:this.onPress,onDoubleClick:this.onDoubleClick})}}Z_e.defaultProps={isCursorHidden:!1,isTogglePlayPressDisabled:!1};var X_e=Z_e;var J_e=Object(v.b)((function(){return Object(he.a)(zB(),yMe(),(e,t)=>{const a=qr.l(t.identifier,qr.b);return{isPaused:e.isPaused,isTogglePlayPressDisabled:a}})}),(function(e,t){const a={playerType:t.playerType};return{onTogglePlayPress(t){e(Object(IVe.F)(a))}}}))(X_e);var $_e=Object(he.a)(fe.a,e=>e.audioDevices||[]);var eWe=Object(he.a)($_e,e=>e.filter(e=>e.present));var tWe=Object(he.a)($_e,fe.a,(e,t)=>e.find(e=>e.name===t["player.audioDevice"]));class aWe extends g.Component{constructor(e,t){super(e,t),this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onSelectPress=e=>t=>{this.props.onChange(e),this.onMenuClose()},this.state={isMenuOpen:!1},this._menuInputButtonID=Object(gf.a)()}getSelectedValue(e,t){const a=M.a.find(e,e=>{if(M.a.isString(e))return e===t;const[a]=M.a.keys(e);return a===t});if(M.a.isString(a))return a;const[n]=M.a.keys(a);return null==a?void 0:a[n]}render(){const{name:e,size:t,kind:a,value:n,values:i,overrideSelectedValue:r,...s}=this.props,o=this.getSelectedValue(i,n);return null==o?null:y.a.createElement(Tq.a,{id:this._menuInputButtonID,size:t,kind:a,direction:this.state.isMenuOpen?lc.c:lc.a,onPress:this.onToggleMenuPress},r||o,y.a.createElement(Xs.a,{isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,onMenuClose:this.onMenuClose,...s},i.map(e=>{if(M.a.isString(e))return y.a.createElement(uc.a,{key:e,isSelected:e===n,onPress:this.onSelectPress(e)},e);const[t]=M.a.keys(e);return y.a.createElement(uc.a,{key:t,isSelected:t===n,onPress:this.onSelectPress(t)},e[t])})))}}var nWe=aWe,iWe=a("7GJu"),rWe=a.n(iWe);var sWe=function(e){const{bottom:t,children:a,title:n=Object(Ce.default)("Playback Settings"),onDimensionsChange:i}=e;return y.a.createElement(GHe,{className:rWe.a.container,bottom:t,onDimensionsChange:i},y.a.createElement("div",{className:rWe.a.title},n),y.a.createElement("div",{className:rWe.a.menusContainer,"data-qa-id":"playbackSettingsContainer"},a))},oWe=a("ZAf3"),lWe=a.n(oWe);function cWe({className:e,label:t,children:a,isDisabled:n}){return y.a.createElement("div",{className:Pe()(e,n&&lWe.a.isDisabled)},y.a.createElement("div",{className:lWe.a.label},t),y.a.createElement("div",{className:lWe.a.cell},a))}cWe.defaultProps={className:lWe.a.row};var dWe=cWe,uWe=a("Jl0g"),pWe=a.n(uWe);class mWe extends g.Component{constructor(e,t){super(e,t),this.onPlaybackSpeedChange=({positionValue:e})=>{this.setState({playbackSpeed:e},()=>{this.props.onPlaybackSpeedChange(e)})},this.state={playbackSpeed:e.playbackSpeed}}componentWillReceiveProps(e){e.playbackSpeed!==this.props.playbackSpeed&&this.setState({playbackSpeed:e.playbackSpeed})}render(){const{audioDevices:e,bottom:t,canSetPlaybackSpeed:a,playbackSpeed:n,playbackSpeedSetting:i,selectedAudioDevice:r,onAudioDeviceChange:s,onDimensionsChange:o}=this.props;return y.a.createElement(sWe,{bottom:t,onDimensionsChange:o},a?y.a.createElement(dWe,{label:Object(Ce.default)("Playback Speed")},y.a.createElement(nr.a,{className:pWe.a.slider,min:i.min,max:i.max,stepSize:i.step,value:this.state.playbackSpeed,onChange:this.onPlaybackSpeedChange}),Object(U9.a)(n)):null,(null==e?void 0:e.length)>1?y.a.createElement(dWe,{label:Object(Ce.default)("Audio Device")},y.a.createElement(nWe,{name:"audioDevice",size:cc.b,value:r.name,values:e.map(e=>({[e.name]:QOe(e)})),onChange:s})):null)}}mWe.defaultProps={playbackSpeedSetting:{min:.5,max:2,step:.1}};var hWe=mWe;var gWe=Object(BI.a)((function(){return Object(he.a)(UB("controllable"),kVe(),Object(he.a)(yMe(),e=>{if(!e)return;const t=M.a.findWhere(e.features,{type:nS.p});if(!t)return;const a=M.a.findWhere(t.settings,{id:Tj.c});return a||void 0}),eWe,tWe,(e,t,a,n,i)=>({audioDevices:n,selectedAudioDevice:i,canSetPlaybackSpeed:!e||!!e.playbackSpeed,playbackSpeed:t,playbackSpeedSetting:a}))}),(function(e,t){const{playerType:a}=t;return{onAudioDeviceChange(t){e(Object(HI.l)({deviceName:t}))},onPlaybackSpeedChange(t){e(IVe.j({playerType:a,playbackSpeed:t}))}}}))(hWe),yWe=a("N7lw"),fWe=a.n(yWe);function bWe(e){return y.a.createElement("div",{className:e.className},e.children)}bWe.defaultProps={className:fWe.a.bottomBar};var vWe=bWe,IWe=a("xyAC"),SWe=a.n(IWe);function EWe(e){return y.a.createElement("div",{className:e.className},e.children)}EWe.defaultProps={className:SWe.a.controlsContainer};var OWe=EWe,MWe=a("tNwU");class CWe extends g.Component{constructor(e,t){super(e,t),this.onVolumeChange=e=>{const{volume:t}=this.state,a=Math.round(Math.min(100,Math.max(0,t+e)));t!==a&&this.setState({volume:a},()=>{this.props.onVolumeChange(this.state.volume)})},this.onVolumeIconPress=()=>{const e=this.state.volume>0;e&&(this._lastVolume=this.state.volume),this.setState({volume:e?0:this._lastVolume||100},()=>{this.props.onVolumeChange(this.state.volume)})},this.state={volume:e.volume}}componentWillReceiveProps({volume:e}){e!==this.state.volume&&this.setState({volume:e})}render(){const{component:e}=this.props;return y.a.createElement(e,{...this.props,...this.state,onVolumeChange:this.onVolumeChange,onVolumeIconPress:this.onVolumeIconPress})}}var jWe=Object(v.b)((function(){return Object(he.a)((e,{isWatchTogether:t})=>t,zB(),EVe(),RVe,(e,t,a,n)=>{const i=t.controllable,r=t.playQueue,s=r.currentIndex,o=a.subtype===Co.NEWS;let l,c,d;return i?(c=!i.skipNext,l=!i.skipPrevious,d=!i.shuffle):(c=!t.repeatAll&&s>=t.playQueue.playQueueItems.length-1,l=!t.repeatAll&&s<=0&&t.positionSeconds<=MWe.a,d=!r.canShuffle),{metadataItemEntityID:a.metadataItem,providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,volume:n,activateChaptersButton:t.isChaptersVisible,activateLyricsButton:t.isLyricsVisible,activateQueueButton:t.isPlayQueueVisible,activateRepeatButton:t.repeatAll,activateRepeatOneButton:t.repeatOne,activateSettingsButton:t.isSettingsVisible,activateWatchTogetherParticipantsButton:t.isWatchTogetherParticipantsVisible,activateShuffleButton:r.playQueueShuffled,disableNextButton:c,disablePauseButton:!!i&&!i.playPause,disablePlayButton:!!i&&!i.playPause,disablePreviousButton:l,disableRepeatButton:!!i&&!i.repeat,disableRepeatOneButton:!!i&&!i.repeat,disableShuffleButton:d,disableSkipBackButton:!!i&&!i.seekTo,disableSkipForwardButton:!!i&&!i.seekTo,showCloseButton:!0,showNextButton:!e,showPauseButton:!t.isPaused,showPlayButton:t.isPaused,showPreviousButton:!e,showRepeatButton:!o&&!t.repeatOne&&!e,showRepeatOneButton:t.repeatOne&&!e,showVolume:!i||i.volume}})}),(function(e,{playerType:t}){const a={playerType:t};return{onEditPress(t){e(Fs.editMetadataItem(t))},onFavoritePress(t){e(Fs.favoriteMetadataItem(t))},onUnfavoritePress(t){e(Fs.unfavoriteMetadataItem(t))},onRepeatPress(){e(XM.K(a))},onRepeatOnePress(){e(XM.K(a))},onPreviousPress(){e(XM.z(a))},onNextPress(){e(XM.y(a))},onShufflePress(){e(XM.L(a))},onQueuePress(){e(XM.J(a))},onLyricsPress(){e(XM.I(a))},onSkipBackPress(){e(IVe.A(a))},onPlayPress(){e(IVe.t(a))},onPausePress(){e(IVe.s(a))},onSkipForwardPress(){e(IVe.B(a))},onSettingsPress(){e(IVe.H(a))},onWatchTogetherParticipantsPress(){e(IVe.J(a))},onChaptersPress(){e(IVe.G(a))},onVolumeChange(t){e(IVe.q({...a,volume:t}))},onClosePress(){e(Ze.p(a))}}}),(function(e,t,a){const{metadataItemEntityID:n,providerEntityID:i}=e;return{...a,...e,...t,onEditPress(){t.onPausePress(),t.onEditPress({metadataItemEntityID:n})},onFavoritePress(){t.onFavoritePress({metadataItemEntityID:n,providerEntityID:i})},onUnfavoritePress(){t.onUnfavoritePress({metadataItemEntityID:n,providerEntityID:i})}}}))(CWe),DWe=a("0vaO"),PWe=a.n(DWe);function TWe(e){const{className:t,children:a}=e;return y.a.createElement("div",{className:t},a)}TWe.defaultProps={className:PWe.a.container};var wWe=TWe,NWe=a("i0LR"),xWe=a.n(NWe);var AWe=function(e){const{className:t}=e;return y.a.createElement(wWe,{className:t},y.a.createElement("div",{className:xWe.a.message},Object(Ce.default)("Video will play after this advertisement")))},LWe=a("h3e2"),kWe=a.n(LWe);class RWe extends g.Component{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState(e=>({isToggled:!e.isToggled}))},this.state={isToggled:!1}}render(){const{className:e,durationSeconds:t,positionSeconds:a}=this.props,n=1e3*a,i=1e3*t,r=i-n;return y.a.createElement(jI.a,{className:e,"data-qa-id":"mediaDuration",onPress:this.onTogglePress},this.state.isToggled?"-"+Object(Rg.a)(r):Object(Rg.a)(n)," / ",Object(Rg.a)(i))}}RWe.defaultProps={className:kWe.a.container};var zWe=RWe,UWe=a("8Ipq"),VWe=a.n(UWe);function BWe(e){const{isTidal:t,isPreview:a,isLossless:n}=e,i=!t||!a&&!n;return y.a.createElement("div",{className:Pe()(e.className,i&&VWe.a.hidden)},y.a.createElement("span",{className:VWe.a.info},a?Object(Ce.default)("TIDAL Preview"):"HI-FI"))}BWe.defaultProps={className:VWe.a.infoContainer};var FWe=BWe;var HWe=Object(v.b)((function(){return Object(he.a)(OVe(),Object(YO.a)(),(e,t)=>{if(!t)return{isTidal:!1,isPreview:!1,isLossless:!1};const a=t.Media[e?e.mediaIndex:0],n=!!a&&"flac"===a.audioCodec;return{isTidal:"com.tidal"===t.attribution,isPreview:!!t.preview,isLossless:n}})}))(FWe),_We=a("Nh+l"),WWe=a.n(_We);function QWe(e){const{className:t,playerType:a,serverEntityID:n,providerEntityID:i,metadataItemEntityID:r,type:s,subtype:o,positionSeconds:l,context:c,showStarRating:d,hasUserRating:u,isUnknownAiring:p,showDuration:m,durationSeconds:h}=e;if(p)return y.a.createElement("div",{className:t},Object(Ce.default)("Unknown Airing"));if(!r||!s)return null;const g=aH(s,c,{subtype:o,providerEntityID:i});return y.a.createElement("div",{className:Pe()(t,d&&u&&WWe.a.hasUserRating)},g.map((e,t)=>y.a.createElement(XH,{key:t,playerType:a,serverEntityID:n,providerEntityID:i,metadataItemEntityID:r,positionSeconds:l,component:e,isSecondary:t>0})),m&&h&&null!=l?y.a.createElement(zWe,{className:WWe.a.durationContainer,durationSeconds:h,positionSeconds:l,"data-qa-id":"mediaDuration"}):null,y.a.createElement(HWe,{className:WWe.a.mediaInfoContainer,playerType:a,metadataItemEntityID:r}),d?y.a.createElement($F,{className:WWe.a.ratingContainer,serverEntityID:n,providerEntityID:i,metadataItemEntityID:r}):null)}QWe.defaultProps={className:WWe.a.container};var GWe=QWe;const KWe=Object(v.b)((function(){return Object(he.a)(zB(),Object(YO.a)(),(e,t={})=>({serverEntityID:t.serverEntityID||e.serverEntityID,providerEntityID:t.providerEntityID||e.providerEntityID,type:t.type,subtype:t.subtype,context:XO.k,hasUserRating:null!=t.userRating}))}))(GWe);KWe.propTypes={...KWe.propTypes,metadataItemEntityID:Qn.a.string,playerType:Qn.a.string.isRequired};var YWe=KWe;const qWe=Object(v.b)((function(){return Object(he.a)(WB(),e=>({metadataItemEntityID:e&&e.entityID,isUnknownAiring:!e}))}))(YWe);qWe.propTypes={...qWe.propTypes,playerType:Qn.a.string.isRequired};var ZWe=qWe;function XWe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-record-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}XWe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var JWe=XWe,$We=a("r2QQ"),eQe=a.n($We);const tQe=parseInt(yu.a.playerIconButtonSize,10);var aQe=function(e){const{isRecording:t,recordingProgress:a,onPress:n}=e;return y.a.createElement("div",{className:eQe.a.recordButton},y.a.createElement(k_e,{className:Pe()(t?eQe.a.playerButtonRecording:eQe.a.playerButton),iconComponent:JWe,"data-qa-id":"recordButton",title:Object(Ce.default)("Record"),onPress:n}),t?y.a.createElement(Kw,{size:tQe,containerClassName:eQe.a.recordingProgressBarContainer,backgroundClassName:eQe.a.recordingProgressBackground,lineWidth:2,progress:a,showProgressText:!1}):null)};var nQe=Object(v.b)((function(){return Object(he.a)(Aw(),e=>({isRecording:!!e,recordingProgress:e&&e.progress}))}))(aQe),iQe=a("kV+z"),rQe=a.n(iQe);class sQe extends g.Component{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:n}=this.props;return a&&n?y.a.createElement("div",{className:rQe.a.recordButtonContainer},y.a.createElement(nQe,{serverEntityID:e,metadataItemEntityID:a,type:n,onPress:this.onRecordPress}),y.a.createElement(vd.a,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,isOpen:this.state.isSubscribeModalOpen,subscriptionType:n,onModalClose:this.onSubscribeModalClose})):null}}var oQe=sQe;var lQe=Object(v.b)((function(){return Object(he.a)(kBe(),(e={})=>{const{entityID:t,type:a}=e;return{metadataItemEntityID:t,type:a}})}))(oQe);function cQe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-expand-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280 140l252 252-56 56-196-196L84 448l-56-56z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}cQe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var dQe=cQe,uQe=a("yD7D"),pQe=a.n(uQe);function mQe(e){const{className:t,cardClassName:a,serverEntityID:n,providerEntityID:i,metadataItemEntityID:r,metadataKey:s,type:o,disableExpandButton:l,imageWidth:c,imageHeight:d,imageUrl:u,isMusic:p,onExpandPress:m}=e,h=p?"music":s;return y.a.createElement("div",{className:t,style:{width:c}},y.a.createElement("div",{className:pQe.a.cardContainer},y.a.createElement(k_e,{className:pQe.a.expandButton,"data-qa-id":"expandPlayerButton",iconComponent:dQe,isDisabled:l,title:Object(Ce.default)("Expand Player"),onPress:m}),y.a.createElement(dA.a,{cardClassName:a,serverEntityID:n,providerEntityID:i,metadataItemEntityID:r,metadataKey:h,type:o,imageWidth:c,imageHeight:d,imageUrl:u,showLinkOnly:!0,showOverlay:!1})))}mQe.defaultProps={className:pQe.a.miniPlayerPoster,cardClassName:pQe.a.card};var hQe=mQe;const gQe=parseInt(yu.a.playerControlsPosterHeight,10);var yQe=Object(v.b)((function(){return Object(he.a)(jVe(),e=>{const t=XO.k,a=Object(P_.a)(null,gQe,e.type,e.subtype,e,t);return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,type:e.type,metadataKey:e.key,imageWidth:a.width,imageHeight:a.height,imageUrl:a.url}})}),(function(e,{playerType:t}){const a={playerType:t};return{onExpandPress(t){e(P_e(a))}}}))(hQe),fQe=a("GbpW");function bQe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-more-vertical-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}bQe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var vQe=bQe;const IQe={showDelete:!1,showDeleteVersion:!1,showEdit:!1,showFixMatch:!1,showMarkUnplayed:!1,showMarkPlayed:!1,showMatch:!1,showOptimize:!1,showPlay:!1,showPlayAll:!1,showPlayMusicVideo:!1,showPlayPlexMix:!1,showPlayTrailer:!1,showPlayVersion:!1,showWatchTogether:!1,showQueue:!1,showRefresh:!1,showSelect:!1,showShuffle:!1,showSplitApart:!1,showUnmatch:!1};class SQe extends g.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState((e,t)=>({isMenuOpen:!e.isMenuOpen}),()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)})},this.state={isMenuOpen:!1},this._menuButtonID=Object(gf.a)()}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataActionProps:n,isDisabled:i}=this.props,r={...n,...IQe};return M.a.values(r).some(e=>e)?y.a.createElement("span",null,y.a.createElement(k_e,{id:this._menuButtonID,"data-qa-id":"moreButton",iconComponent:vQe,isDisabled:i,title:Object(Ce.default)("More Actions"),onPress:this.onPress}),y.a.createElement(i4.a,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,target:this._menuButtonID,isOpen:this.state.isMenuOpen,...IQe,onMenuClose:this.onMenuClose})):null}}var EQe=SQe;var OQe=Object(v.b)((function(){return Object(he.a)(Object(fQe.a)(),e=>({metadataActionProps:e}))}))(EQe);const MQe=250,CQe=.5;function jQe(e={}){const{callback:t,axisLockDuration:a=MQe,sensitivity:n=CQe,maxAbsDelta:i=Number.MAX_SAFE_INTEGER}=e;let r,s;return e=>{e.preventDefault();(void 0===s||e.timeStamp-s>=a)&&(r=Math.abs(e.deltaX)>Math.abs(e.deltaY)?"deltaX":"deltaY",s=e.timeStamp);const o=e[r]*n;if(!o)return;let l=Math.max(0,Math.min(i,Math.abs(o)));l*=o>0?1:-1,l=(e.nativeEvent||e).webkitDirectionInvertedFromDevice?l:-l,t(l)}}function DQe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-high-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M447.161 28.839C516.391 90.361 560 180.088 560 280s-43.609 189.639-112.839 251.161l-29.75-29.75C479.064 447.527 518 368.31 518 280S479.064 112.473 417.411 58.589l29.75-29.75zm-79.409 79.409C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}DQe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var PQe=DQe;function TQe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-low-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}TQe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var wQe=TQe;function NQe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mid-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M367.752 108.248C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}NQe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var xQe=NQe;function AQe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mute-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M84 224l112-112v336L84 336H28V224h56zm306.302 56l-84.146 84.146 29.698 29.698L420 309.698l84.146 84.146 29.698-29.698L449.698 280l84.146-84.146-29.698-29.698L420 250.302l-84.146-84.146-29.698 29.698L390.302 280z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}AQe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var LQe=AQe;const kQe=parseInt(yu.a.playerVolumeSliderHeight,10);class RQe extends g.Component{constructor(e,t){super(e,t),this.onWheelDelta=e=>{this.props.onVolumeChange(e)},this.onWheel=jQe({callback:this.onWheelDelta,maxAbsDelta:kQe/10})}render(){const{className:e,volume:t,onPress:a}=this.props;let n=LQe;return t>60?n=PQe:t>40?n=xQe:t>0&&(n=wQe),y.a.createElement("span",{onWheel:this.onWheel},y.a.createElement(k_e,{className:e,title:0===t?Object(Ce.default)("Unmute Volume"):Object(Ce.default)("Mute Volume"),"data-qa-id":"volumeButton",iconComponent:n,onPress:a}))}}var zQe=RQe,UQe=a("wnar"),VQe=a.n(UQe);function BQe(e){return y.a.createElement(nr.a,{...e,isVertical:!0})}BQe.defaultProps={className:VQe.a.slider,fillClassName:VQe.a.fill,thumbClassName:VQe.a.thumb,thumbTrackClassName:VQe.a.thumbTrack,trackClassName:VQe.a.track};var FQe=BQe,HQe=a("LttS"),_Qe=a.n(HQe);const WQe=parseInt(yu.a.playerVolumeSliderHeight,10);class QQe extends g.Component{constructor(e,t){super(e,t),this.onWheelDelta=e=>{this.onChange({positionDelta:e})},this.onChange=({positionDelta:e})=>{this.props.onVolumeChange(e)},this.onWheel=jQe({callback:this.onWheelDelta,maxAbsDelta:WQe/10})}render(){const{className:e,volume:t}=this.props;return y.a.createElement(FQe,{className:e,trackClassName:_Qe.a.track,fillClassName:_Qe.a.fill,showFill:!0,autoHideThumb:!0,stepSize:1,value:t,onChange:this.onChange,onWheel:this.onWheel})}}QQe.defaultProps={className:_Qe.a.slider};var GQe=QQe,KQe=a("EQVT"),YQe=a.n(KQe);var qQe=function(e){const{title:t,summary:a,dateTaken:n,index:i,size:r}=e;let s="";n&&(s+=Object(Xa.default)(n)),a&&(s+=s?` ${Hi.a} ${a}`:" "+a);const o=!(!t||!t.length),l=!!s.length,c=!!r;return y.a.createElement("div",{className:YQe.a.container},o?y.a.createElement(XH,{component:qT.a,title:t}):null,l?y.a.createElement(XH,{component:qT.a,isSecondary:o,title:s}):null,c?y.a.createElement(XH,{component:qT.a,isSecondary:o||l,title:Object(Ce.default)("{currentIndex} of {size}",{currentIndex:i+1,size:r})}):null)};const ZQe=Object(v.b)((function(){return Object(he.a)(SVe(),Object(YO.a)(),(e,t)=>{const{title:a,summary:n,originallyAvailableAt:i,addedAt:r}=t;return{title:a,summary:n,index:e.playQueueSelectedItemOffset,size:e.length,dateTaken:i||Object(ln.default)(r,"yyyy-MM-dd")}})}))(qQe);ZQe.propTypes={...ZQe.propTypes,metadataItemEntityID:Qn.a.string.isRequired,playerType:Qn.a.string.isRequired};var XQe=ZQe;function JQe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-chapters-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M392 308h140v140H392V308zm-182 0h140v140H210V308zm-182 0h140v140H28V308zm364-196h140v140H392V112zm-182 0h140v140H210V112zm-182 0h140v140H28V112z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}JQe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var $Qe=JQe;function eGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-edit-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M56 504l28-84 56 56-84 28zM448 56L112 392l56 56 336-336-56-56z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}eGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var tGe=eGe;function aGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-empty-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504zm0 282.828c-29.423-35.231-59.797-65.569-86.373-92.971-48.407-48.933-90.169-91.015-90.169-121.353 0-45.995 40.813-80.249 77.83-80.249 22.78 0 42.712 12.723 57.899 37.189L280 229.979l37.966-59.697c17.085-25.445 37.966-39.147 60.746-39.147 36.068 0 75.932 34.254 75.932 80.249 0 30.339-41.763 72.42-89.221 120.375-25.626 29.359-56 59.697-85.423 94.928z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}aGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var nGe=aGe;function iGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-filled-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}iGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var rGe=iGe;function sGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-info-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280 476c108.248 0 196-87.752 196-196S388.248 84 280 84 84 171.752 84 280s87.752 196 196 196zm0 42C148.556 518 42 411.444 42 280 42 148.556 148.556 42 280 42c131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238zm-21-112h42V238h-42v168zm-7-224c0-7.519 2.606-14.065 7.818-19.639S271.636 154 279.636 154c8 0 14.728 2.657 20.182 7.972C305.273 167.287 308 173.963 308 182c0 8.037-2.727 14.713-8.182 20.028-5.454 5.315-12.182 7.972-20.182 7.972-8 0-14.606-2.787-19.818-8.361C254.606 196.065 252 189.519 252 182z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}sGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var oGe=sGe;function lGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280 270.66c-8.574-2.997-18.045-4.66-28-4.66-38.66 0-70 25.072-70 56s31.34 56 70 56 70-25.072 70-56V140l-42-28v158.66zM448 84c15.464 0 28 12.536 28 28v254.244a56 56 0 0 1-19.556 42.518L280 560l28-140H112c-15.464 0-28-12.536-28-28V112c0-15.464 12.536-28 28-28h336zm-126 56v56l70 49v-56l-70-49z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}lGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var cGe=lGe;function dGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-next-track-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M140 476V84l294 182V112h42v336h-42V294L140 476z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}dGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var uGe=dGe;function pGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-pause-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M112 112h126v336H112V112zm210 0h126v336H322V112z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}pGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var mGe=pGe;function hGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-play-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M168 476V84l336 196z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}hGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var gGe=hGe;function yGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-previous-track-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M420 84v392L126 294v154H84V112h42v154z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}yGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var fGe=yGe;function bGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-queue-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M157.8 504H532v-44.8H157.8V504zm0-134.4H532v-44.8H157.8v44.8zm111.734-134.4H532v-44.8H269.534v44.8zM157.8 100.8H532V56H157.8v44.8zM196 210L28 336V84l168 126z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}bGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var vGe=bGe;function IGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}IGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var SGe=IGe;function EGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-one-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096M392.049 385h-42V268.548L326.5 289.5 300 259l64-56 28.049.009V385"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}EGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var OGe=EGe;function MGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-settings-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M126 213.205A69.97 69.97 0 0 0 105 210a69.97 69.97 0 0 0-21 3.205V56h42v157.205zm0 133.59V504H84V346.795A69.97 69.97 0 0 0 105 350a69.97 69.97 0 0 0 21-3.205zm175-49.59A69.97 69.97 0 0 0 280 294a69.97 69.97 0 0 0-21 3.205V56h42v241.205zm0 133.59V504h-42v-73.205A69.97 69.97 0 0 0 280 434a69.97 69.97 0 0 0 21-3.205zm175-301.59A69.97 69.97 0 0 0 455 126a69.97 69.97 0 0 0-21 3.205V56h42v73.205zm0 133.59V504h-42V262.795A69.97 69.97 0 0 0 455 266a69.97 69.97 0 0 0 21-3.205zM280 420c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm175-168c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm-350 84c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}MGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var CGe=MGe;function jGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-shuffle-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M448 441h-44.423c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594a12267 12267 0 0 1 5.622-12.617C320.788 371.608 349.962 399 403.577 399H448v-77l112 98-112 98v-77zm0-322V42l112 98-112 98v-77h-44.423c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02C221.676 403.25 190.662 441 123.577 441H28v-42h95.577c43.602 0 66.367-27.71 104.202-112.518a10981.32 10981.32 0 0 1 6.711-15.055C282.89 163.202 321.73 119 403.577 119H448zm-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005C187.946 186.377 165.303 161 123.577 161H28v-42h95.577z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}jGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var DGe=jGe;function PGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-back-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M279.931 381.653c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.648-66.856 9.766-14.336 24.805-21.504 45.118-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zm-56.275-262.747l259.677.096a105.788 105.788 0 0 1 12.339.8c7.126.884 14.16 2.504 20.955 4.828a104.757 104.757 0 0 1 20.481 9.594 105.509 105.509 0 0 1 34.324 33.711 104.845 104.845 0 0 1 10.384 21.485 104.566 104.566 0 0 1 5.721 29.53c.069 1.457.106 2.915.117 4.374.18 37.784.18 103.568 0 141.352a105.283 105.283 0 0 1-.8 12.339 104.576 104.576 0 0 1-4.724 20.651 104.718 104.718 0 0 1-9.207 19.971 105.468 105.468 0 0 1-13.412 17.882 105.621 105.621 0 0 1-19.99 16.746 104.839 104.839 0 0 1-22.285 10.894 104.524 104.524 0 0 1-29.196 5.705c-1.568.08-3.137.121-4.707.134-4.868.023-35.544 0-35.544 0v-41.999s30.463.008 35.073.001a64.415 64.415 0 0 0 8.033-.533 62.47 62.47 0 0 0 24.234-8.481 63.51 63.51 0 0 0 20.61-20.062 62.772 62.772 0 0 0 6.359-13.003 62.527 62.527 0 0 0 3.026-12.683 64.65 64.65 0 0 0 .531-7.828c.179-37.606.179-103.214 0-140.82a64.65 64.65 0 0 0-.531-7.828 62.502 62.502 0 0 0-9.181-25.366 63.545 63.545 0 0 0-20.004-19.884 62.443 62.443 0 0 0-25.439-9.029 64.531 64.531 0 0 0-7.86-.483l-258.984-.014V238l-112-98 112-98v76.906zm-26.225 348.41H77.431v-99.14l.351-16.289.586-17.812c-6.015 6.015-10.195 9.96-12.539 11.835l-19.687 15.821-17.461-21.797 55.195-43.945h29.766v171.328z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}PGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var TGe=PGe;function wGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-forward-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M532.03 381.68c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.649-66.856 9.765-14.336 24.804-21.504 45.117-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zM420 118.906V42l112 98-112 98v-77.014L161.017 161a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.51 63.51 0 0 0-20.004 19.884 62.488 62.488 0 0 0-9.181 25.366A64.468 64.468 0 0 0 98 223.59c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.506 62.506 0 0 0 3.025 12.683 62.769 62.769 0 0 0 6.36 13.003 63.538 63.538 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 1.716.002 35.205-.001 35.205-.001v41.999s-34.008.008-35.676 0a105.32 105.32 0 0 1-12.995-.884 104.515 104.515 0 0 1-20.909-4.955 104.85 104.85 0 0 1-22.285-10.894 105.64 105.64 0 0 1-19.99-16.746 105.467 105.467 0 0 1-13.412-17.882 104.73 104.73 0 0 1-9.207-19.971 104.556 104.556 0 0 1-5.422-28.951 110.81 110.81 0 0 1-.102-4.039c-.18-37.784-.18-103.568 0-141.352a105.427 105.427 0 0 1 .841-12.668 104.553 104.553 0 0 1 4.998-21.236 104.783 104.783 0 0 1 10.384-21.485 105.55 105.55 0 0 1 34.324-33.711 104.767 104.767 0 0 1 20.48-9.594 104.59 104.59 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102L420 118.906zm-40.305 215.43c0 10.703-3.242 19.805-9.726 27.305-6.485 7.5-15.586 12.656-27.305 15.468v.703c13.828 1.719 24.297 5.918 31.406 12.598 7.11 6.68 10.664 15.684 10.664 27.012 0 16.484-5.976 29.316-17.929 38.496-11.953 9.18-29.024 13.77-51.211 13.77-18.594 0-35.078-3.086-49.453-9.258v-30.821c6.64 3.36 13.945 6.094 21.914 8.203 7.968 2.11 15.859 3.165 23.672 3.165 11.953 0 20.781-2.032 26.484-6.094 5.703-4.063 8.555-10.586 8.555-19.571 0-8.046-3.282-13.75-9.844-17.109-6.563-3.359-17.031-5.039-31.406-5.039h-13.008v-27.773h13.242c13.281 0 22.988-1.739 29.121-5.215 6.133-3.477 9.199-9.434 9.199-17.871 0-12.969-8.125-19.453-24.375-19.453-5.625 0-11.347.937-17.168 2.812-5.82 1.875-12.285 5.117-19.394 9.727l-16.758-24.961c15.625-11.25 34.258-16.875 55.898-16.875 17.735 0 31.739 3.593 42.012 10.781 10.274 7.187 15.41 17.187 15.41 30z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}wGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var NGe=wGe;function xGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-stop-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M84 84h392v392H84V84zm196 158.1l-84-84-37.9 37.9 84 84-84 84 37.9 37.9 84-84 84 84 37.9-37.9-84-84 84-84-37.9-37.9-84 84z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}xGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var AGe=xGe;function LGe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-thumbnails-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M392 392h140v112H392V392zm-182 0h140v112H210V392zm-182 0h140v112H28V392zm0-42V56h504v294h-42V98H70v252H28z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}LGe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var kGe=LGe,RGe=a("FzNv"),zGe=a.n(RGe);function UGe(e){const{className:t,durationSeconds:a,hasLiveTVProtocol:n,isMiniPlayer:i,isMusic:r,isVideo:s,isGame:o,metadataItemEntityID:l,playerType:c,positionSeconds:d,providerEntityID:u,serverEntityID:p,volume:m,activateChaptersButton:h,activateLyricsButton:g,activatePhotoInformationButton:f,activatePhotoStripButton:b,activateQueueButton:v,activateRepeatButton:I,activateRepeatOneButton:S,activateSettingsButton:E,activateWatchTogetherParticipantsButton:O,activateShuffleButton:M,disableCloseButton:C,disableLyricsButton:j,disableMenuButton:D,disableNextButton:P,disablePauseButton:T,disablePlayButton:w,disablePreviousButton:N,disableQueueButton:x,disableRepeatButton:A,disableRepeatOneButton:L,disableSettingsButton:k,disableShuffleButton:R,disableSkipBackButton:z,disableSkipForwardButton:U,showChaptersButton:V,showCloseButton:B,showDuration:F,showEditButton:H,showFavoriteButton:_,showLyricsButton:W,showMenuButton:Q,showNextButton:G,showPauseButton:K,showPhotoInformationButton:Y,showPhotoStripButton:q,showPlayButton:Z,showPreviousButton:X,showQueueButton:J,showRecordButton:$,showRepeatButton:ee,showRepeatOneButton:te,showSettingsButton:ae,showWatchTogetherParticipantsButton:ne,showShuffleButton:ie,showSkipBackButton:re,showSkipForwardButton:se,showUnfavoriteButton:oe,showVolume:le,onChaptersPress:ce,onClosePress:de,onControlsMenuChange:ue,onEditPress:pe,onFavoritePress:me,onLyricsPress:he,onNextPress:ge,onPausePress:ye,onPhotoInformationPress:fe,onPhotoStripPress:be,onPlayPress:ve,onPreviousPress:Ie,onQueuePress:Se,onRepeatOnePress:Ee,onRepeatPress:Me,onSettingsPress:je,onWatchTogetherParticipantsPress:De,onShufflePress:Te,onSkipBackPress:we,onSkipForwardPress:Ne,onUnfavoritePress:xe,onVolumeChange:Ae,onVolumeIconPress:Le}=e;let ke;ke=c===Oe.b?XQe:n?ZWe:YWe;const Re=le&&null!=m,ze=n?null:zGe.a.balanceLeft,Ue=s||o?zGe.a.hasLandscapePoster:zGe.a.hasSquarePoster;return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:Pe()(t,i&&Ue),"data-qa-id":"playerControlsContainer"},y.a.createElement("div",{className:zGe.a.buttonGroupLeft},i?y.a.createElement(yQe,{playerType:c,isVideo:s,isMusic:r}):null,y.a.createElement(ke,{metadataItemEntityID:l,playerType:c,positionSeconds:d,durationSeconds:a,showDuration:F,showStarRating:r})),y.a.createElement("div",{className:Pe()(zGe.a.buttonGroupCenter,ze)},$?y.a.createElement(lQe,{playerType:c,"data-qa-id":"recordButton",serverEntityID:p,providerEntityID:u,positionSeconds:d}):null,X?y.a.createElement(k_e,{iconComponent:fGe,"data-qa-id":"previousButton",isDisabled:N,title:Object(Ce.default)("Previous"),onPress:Ie}):null,re?y.a.createElement(k_e,{iconComponent:TGe,"data-qa-id":"skipBackButton",isDisabled:z,title:Object(Ce.default)("Skip Back 10 Seconds"),onPress:we}):null,Z?y.a.createElement(k_e,{iconComponent:gGe,"data-qa-id":"resumeButton",isPrimary:!0,isDisabled:w,title:Object(Ce.default)("Play"),onPress:ve}):null,K?y.a.createElement(k_e,{iconComponent:mGe,"data-qa-id":"pauseButton",isPrimary:!0,isDisabled:T,title:Object(Ce.default)("Pause"),onPress:ye}):null,se?y.a.createElement(k_e,{iconComponent:NGe,"data-qa-id":"skipForwardButton",isDisabled:U,title:Object(Ce.default)("Skip Forward 30 Seconds"),onPress:Ne}):null,G?y.a.createElement(k_e,{iconComponent:uGe,"data-qa-id":"nextButton",isDisabled:P,title:Object(Ce.default)("Next"),onPress:ge}):null,B?y.a.createElement(k_e,{"data-qa-id":"closeButton",isDisabled:C,iconComponent:AGe,title:Object(Ce.default)("Close Player"),onPress:de}):null),y.a.createElement("div",{className:zGe.a.buttonGroupRight},Q?y.a.createElement(OQe,{serverEntityID:p,"data-qa-id":"moreButton",providerEntityID:u,metadataItemEntityID:l,isDisabled:D,onMenuChange:ue}):null,ee?y.a.createElement(k_e,{iconComponent:SGe,"data-qa-id":"repeatButton",isDisabled:A,isActive:I,title:Object(Ce.default)("Repeat"),onPress:Me}):null,te?y.a.createElement(k_e,{iconComponent:OGe,"data-qa-id":"repeatOneButton",isDisabled:L,isActive:S,title:Object(Ce.default)("Repeat One"),onPress:Ee}):null,ie?y.a.createElement(k_e,{iconComponent:DGe,"data-qa-id":"shuffleButton",isDisabled:R,isActive:M,title:Object(Ce.default)("Shuffle"),onPress:Te}):null,H?y.a.createElement(k_e,{iconComponent:tGe,"data-qa-id":"playerEditButton",title:Object(Ce.default)("Edit"),onPress:pe}):null,_?y.a.createElement(k_e,{iconComponent:nGe,"data-qa-id":"playerFavoriteButton",title:Object(Ce.default)("Add to Favorites"),onPress:me}):null,oe?y.a.createElement(k_e,{iconComponent:rGe,"data-qa-id":"playerUnfavoriteButton",title:Object(Ce.default)("Remove from Favorites"),onPress:xe}):null,Y?y.a.createElement(k_e,{iconComponent:oGe,"data-qa-id":"playerPhotoInfoButton",title:Object(Ce.default)("Information"),isActive:f,onPress:fe}):null,q?y.a.createElement(k_e,{iconComponent:kGe,"data-qa-id":"playerPhotoStripButton",isActive:b,title:Object(Ce.default)("Show Photo Strip"),onPress:be}):null,W?y.a.createElement(k_e,{iconComponent:cGe,"data-qa-id":"lyricsButton",isDisabled:j,isSelected:g,title:Object(Ce.default)("Lyrics"),onPress:he}):null,ae?y.a.createElement(k_e,{iconComponent:CGe,"data-qa-id":"videoSettingsButton",isDisabled:k,isActive:E,title:Object(Ce.default)("Settings"),onPress:je}):null,V?y.a.createElement(k_e,{iconComponent:$Qe,"data-qa-id":"chaptersButton",isActive:h,title:Object(Ce.default)("Chapters"),onPress:ce}):null,J?y.a.createElement(k_e,{iconComponent:vGe,"data-qa-id":"playQueueButton",isDisabled:x,isActive:v,title:Object(Ce.default)("Play Queue"),onPress:Se}):null,ne?y.a.createElement(k_e,{iconComponent:Zn.a,"data-qa-id":"watchTogetherParticipantsButton",isActive:O,title:Object(Ce.default)("Participants"),onPress:De}):null,Re?y.a.createElement(zQe,{className:zGe.a.volumeButton,"data-qa-id":"volumeButton",volume:m,onPress:Le,onVolumeChange:Ae}):null)),Re?y.a.createElement(GQe,{className:zGe.a.volumeSlider,volume:m,onVolumeChange:Ae}):null)}UGe.defaultProps={className:zGe.a.controls,isMusic:!1,isVideo:!1,isGame:!1,isPhoto:!1};var VGe=UGe;var BGe=Object(v.b)((function(){return Object(he.a)((e,{isVideo:t})=>t,(e,{isMusic:t})=>t,(e,{isAdVisible:t})=>t,(e,{isWatchTogether:t})=>t,(e,{disableNextButton:t})=>t,(e,{disablePreviousButton:t})=>t,zB(),EVe(),MVe(),yMe(),(e,t,a,n,i,r,s,o,l,c)=>{const{isPostPlayVisible:d,positionSeconds:u,durationSeconds:p,controllable:m}=s,h=p-u,g=o.subtype===Co.NEWS,y=o.subtype===Co.PODCAST,f=l&&l.chapters&&l.chapters.length>0,b=!a&&(e&&!g&&!d||y),v=!!m&&(!m.playbackSpeed&&t);return{positionSeconds:u,durationSeconds:p,hasLiveTVProtocol:c.protocols.includes("livetv"),disableLyricsButton:!(o.lyricsStreams&&o.lyricsStreams.length||o.hasPremiumLyrics),disableNextButton:a||i,disablePreviousButton:a||r,disableQueueButton:a,disableSettingsButton:v,disableSkipForwardButton:h<=MWe.b,showChaptersButton:e&&!d&&f,showDuration:!d,showLyricsButton:t&&!y,showMenuButton:!d&&!g,showQueueButton:!n,showSettingsButton:!d&&!g,showWatchTogetherParticipantsButton:n,showShuffleButton:!g&&!n,showSkipBackButton:b,showSkipForwardButton:b}})}))(VGe);var FGe=a("b+Z3"),HGe=a.n(FGe);const _Ge=parseInt(yu.a.seekBarTooltipSmallWidth,10),WGe=parseInt(yu.a.seekBarTooltipLargeWidth,10),QGe={containerWidth:99,containerHeight:99};class GGe extends g.Component{render(){const{tooltipClassName:e,serverEntityID:t,providerEntityID:a,size:n,position:i,hoverValue:r,mediaItems:s,mediaIndex:o,partIndex:l,formatValue:c,isVisible:d}=this.props;null!=r&&(this._formattedTime=c(r));const u=s&&s[o],p=function(e,t){if(!e||null==t)return;const a=cae(e);return null!=a?`/library/parts/${e.id}/indexes/${a}/${Math.floor(t)}`:void 0}(u&&u.Part[l],r);p&&(this._imageUrl=p);const{containerWidth:m,containerHeight:h}=function(e){const t=Object(Io.a)(e);if(null==t||null==t.width||null==t.height)return QGe;const{width:a,height:n}=t;let i=99,r=99;return a>n?i=Math.round(i*(a/n)):r=Math.round(r*(n/a)),{containerWidth:i,containerHeight:r}}(u),g=function(e,t,a){let n=e.x-t/2;return n<0?n=0:n+t>window.innerWidth&&(n=window.innerWidth-t),{left:n,top:e.y-a-10,height:a}}(i,m,h),f=function(e,t,a){const n=a===cc.a?WGe:_Ge;let i=t/2-n/2;const r=e.x-t/2;if(r<0){const t=4,a=e.x-n/2;i=Math.max(a,t)}else if(r+t>window.innerWidth){const a=t-n-4,r=t-(window.innerWidth-e.x)-n/2;i=Math.min(r,a)}return{left:i}}(i,m,n);return y.a.createElement("div",{className:d?HGe.a.visibleContainer:HGe.a.hiddenContainer,style:g},this._imageUrl?y.a.createElement(ot.a,{className:HGe.a.thumbnail,serverEntityID:t,providerEntityID:a,url:this._imageUrl,width:m,height:h}):null,y.a.createElement("div",{className:Pe()(e,HGe.a[n]),style:f},this._formattedTime))}}GGe.defaultProps={tooltipClassName:HGe.a.tooltip,size:cc.c,formatValue:Rg.a};var KGe=GGe;var YGe=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),({Media:e}={})=>e&&e.length?{mediaItems:e}:{})}))(KGe),qGe=a("Dmct"),ZGe=a.n(qGe);class XGe extends g.Component{constructor(e,t){super(e,t),this.onChange=({positionValue:e})=>{this.props.onSeek&&this.props.onSeek({playerType:this.props.playerType,positionSeconds:Math.floor(e/1e3)})},this.onMove=({positionValue:e,position:t})=>{this.setState({hoverValue:e,portalPosition:t})},this.onMouseLeave=()=>{this.setState({hoverValue:null})},this.state={hoverValue:null,portalPosition:{x:0,y:0}}}render(){const{className:e,trackClassName:t,bufferClassName:a,fillClassName:n,canSeek:i,positionMilliseconds:r,offsetMilliseconds:s,durationMilliseconds:o,bufferStartMilliseconds:l,bufferEndMilliseconds:c,showBuffer:d,noFillTransition:u,isDisabled:p,onSeekEnd:m,onSeekStart:h,...g}=this.props;if(!i)return null;const{hoverValue:f,portalPosition:b}=this.state;return y.a.createElement("div",{onMouseLeave:this.onMouseLeave},y.a.createElement(nr.a,{className:e,trackClassName:t,secondaryFillClassName:Pe()(a,u&&ZGe.a.noFillTransition),fillClassName:Pe()(n,u&&ZGe.a.noFillTransition),value:r,min:s,max:o,secondaryMin:l,secondaryMax:c,showFill:!0,showSecondaryFill:d,autoHideThumb:!0,isDisabled:p,onChange:this.onChange,onMove:p?null:this.onMove,onDragStart:h,onDragComplete:m}),y.a.createElement(pz.a,null,y.a.createElement(YGe,{...g,position:b,hoverValue:f,isVisible:null!=f})))}}XGe.defaultProps={className:ZGe.a.seekBar,trackClassName:ZGe.a.seekBarTrack,fillClassName:ZGe.a.seekBarFill,bufferClassName:ZGe.a.seekBarBuffer,canSeek:!0,showBuffer:!1,noFillTransition:Object(yae.a)(),isDisabled:!1};var JGe=XGe;const $Ge={onSeek:IVe.w},eKe=CHe(JGe);var tKe=Object(v.b)((function(){return Object(he.a)(zB(),EVe(),(e,t)=>{const{serverEntityID:a,providerEntityID:n,positionSeconds:i,durationSeconds:r,mediaIndex:s,partIndex:o,controllable:l}=e,c={serverEntityID:a,providerEntityID:n,metadataItemEntityID:t.metadataItem,canSeek:!!r,positionSeconds:i,durationMilliseconds:1e3*r,mediaIndex:s,partIndex:o};return l&&!l.seekTo&&(c.canSeek=!1),c})}),$Ge)(eKe),aKe=a("VpnA"),nKe=a.n(aKe);var iKe=function(e){const{durationMilliseconds:t}=e;return null!=t?y.a.createElement(JGe,{fillClassName:nKe.a.seekBarFill,isDisabled:!0,...e}):null};function rKe(){return Object(he.a)(UB("seekStartSeconds"),UB("seekEndSeconds"),BB(),(e=0,t=0,a)=>{const n=a&&a.captureBuffer;let i=0;return a&&n?(i=n.startedAt,e=n.seekStartSeconds,t=n.seekEndSeconds):a&&(i=a.startedAt),{seekRangeStartedAtSeconds:i,seekStartSeconds:e,seekEndSeconds:t}})}class sKe extends g.Component{constructor(){super(...arguments),this.formatPlayerTime=e=>{const t=this.props.timeFormat;return Object(ln.default)(e/1e3,t)},this.onSeek=({positionSeconds:e})=>{const{seekRangeStartedAtSeconds:t,seekStartSeconds:a,seekEndSeconds:n}=this.props,i=t+a,r=t+n;e<i?e=i:e>r&&(e=r),this.props.onSeek({playerType:this.props.playerType,seekPosition:e})}}render(){const{isCloud:e,canSeek:t,currentPosition:a,positionMilliseconds:n,beginsAt:i,endsAt:r,durationSeconds:s,streamStartedAt:o,timeFormat:l,seekRangeStartedAtSeconds:c,seekStartSeconds:d,seekEndSeconds:u,...p}=this.props;if(!t&&!e)return y.a.createElement(JGe,{...p,positionMilliseconds:1,offsetMilliseconds:0,durationMilliseconds:2,showBuffer:!1,canSeek:!0,isDisabled:!0,formatValue:this.formatCurrentTime,size:cc.a,onSeek:this.onSeek});const m=1e3*(c?c+d:a),h=1e3*(c?c+u:a),g=1e3*i,f=1e3*(r-1),b=e?g:Math.max(g,m),v=e?f:Math.min(f,h),I=function(e){const{isCloud:t,isRemotePlayer:a,currentPosition:n,positionMilliseconds:i,streamStartedAt:r,lastSeekPosition:s}=e;return!!s||a||t?1e3*n:1e3*r+i}(this.props);return y.a.createElement(JGe,{...p,positionMilliseconds:I,offsetMilliseconds:g,durationMilliseconds:f,bufferStartMilliseconds:b,bufferEndMilliseconds:Math.max(v,0),showBuffer:!e,canSeek:t||e,isDisabled:!t||e,formatValue:this.formatPlayerTime,size:cc.a,onSeek:this.onSeek})}}sKe.defaultProps={beginsAt:0,endsAt:0,streamStartedAt:0,seekRangeStartedAtSeconds:0};var oKe=CHe(sKe);const lKe=Object(he.a)(qO,e=>e.replace(":mm",":mm:ss"));const cKe={onSeek:Hs.i};var dKe=Object(v.b)((function(){return Object(he.a)(lKe,FM,WB(),QB(),BB(),rKe(),zB(),rBe(),(e,t,a={},n={},i,r,s,o)=>{const{beginsAt:l,endsAt:c}=n,{serverEntityID:d,controllable:u,playbackStartTime:p}=s,{isCloud:m}=o,h=c-l,g={serverEntityID:d,metadataItemEntityID:a.entityID,isCloud:m,isRemotePlayer:t,canSeek:!(!h||!i),beginsAt:l,endsAt:c,playbackStartTime:p,durationSeconds:h,timeFormat:e,positionSeconds:s.positionSeconds};return!m&&r&&Object.assign(g,r),u&&!u.seekTo&&(g.canSeek=!1),i&&(g.streamStartedAt=i.startedAt,g.currentPosition=i.currentPosition,g.lastSeekPosition=i.lastSeekPosition),g})}),cKe)(oKe);var uKe=function(e){const{isAdVisible:t,hasLiveTVProtocol:a,adPositionMilliseconds:n,adDurationMilliseconds:i,...r}=e;return t?y.a.createElement(iKe,{...r,positionMilliseconds:n,durationMilliseconds:i,showBuffer:!1}):a?y.a.createElement(dKe,{...r}):y.a.createElement(tKe,{...r,showBuffer:!0})};var pKe=Object(v.b)((function(){return Object(he.a)(yMe(),e=>({hasLiveTVProtocol:e.protocols.includes("livetv")}))}))(uKe);var mKe=Object(v.b)((function(){return Object(he.a)(bh.b,FB(),rKe(),UB("isPaused"),(e,t,a,n)=>{const i=qr.l(e.identifier,qr.b),{disablePreviousButton:r,disableSkipForwardButton:s,disableNextButton:o}=function(e,t){const{seekRangeStartedAtSeconds:a,seekStartSeconds:n,seekEndSeconds:i}=t,r=e-a;return{disablePreviousButton:r<=MWe.a||r-n<=MWe.a,disableSkipForwardButton:i-r<=15,disableNextButton:i-r<=15}}(t,a);return{showRecordButton:!!e.features.subscribe,showRepeatButton:!1,showSettingsButton:!0,showPauseButton:!n&&!i,showPreviousButton:!i,showSkipBackButton:!i,showSkipForwardButton:!i,showNextButton:!i,disablePreviousButton:r,disableSkipForwardButton:s,disableNextButton:o}})}),(function(e,{playerType:t}){const a={playerType:t};return{onPreviousPress(t){e(Hs.h(a))},onSkipBackPress(t){e(Hs.j(a))},onSkipForwardPress(t){e(Hs.k(a))},onNextPress(t){e(Hs.g(a))}}}))(VGe);function hKe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-guide-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M28 42h112v112H28V42zm0 182h112v112H28V224zm0 182h112v112H28V406zM210 77h322v44.8H210V77zm0 182h322v44.8H210V259zm0 182h322v44.8H210V441z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}hKe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var gKe=hKe,yKe=a("VUbF"),fKe=a.n(yKe);var bKe=function(e){const{channelTitle:t,isAlsoAiringVisible:a,onPress:n}=e;return y.a.createElement(jI.a,{"data-qa-id":"channelsList",className:a?fKe.a.isActive:void 0,onPress:n},y.a.createElement(gKe,{className:fKe.a.icon}),t)};var vKe=Object(v.b)((function(){return Object(he.a)(zB(),QB(),BB(),(e,t={},a)=>{const n=t.channelShortTitle||t.channelTitle||a&&a.channelIdentifier||Object(Ce.default)("Unknown");return{isAlsoAiringVisible:e.isAlsoAiringVisible,positionSeconds:e.positionSeconds,channelTitle:n}})}),(function(e,t){const a={playerType:t.playerType};return{onPress(t){e(Object(Hs.m)(a))}}}))(bKe);var IKe=function(e){const{type:t,isUnknownAiring:a,...n}=e;return a?Object(Ce.default)("Unknown Airing"):t===wo.EPISODE?y.a.createElement(dM,{...n}):y.a.createElement(mM,{...n})};const SKe={dispatchInitMetadataList:aO,dispatchPopulateChannelPrograms:cO,dispatchResetStartTime:iO,dispatchSetViewportSize:oO};var EKe=Object(v.b)((function(){return Object(he.a)(e=>e.ui.channelGridPage.viewportWidth,zB(),CO(),Object(he.a)(BB(),FB(),PO(),(e,t,a)=>{if(!e||null==t)return;const n=e.channelIdentifier;let i=null,r=null;for(let e=0;e<a.length;e++){const s=a[e];for(let e=0;e<s.Media.length;e++){const a=s.Media[e],{beginsAt:o,channelIdentifier:l}=a;o>t&&l===n&&(!r||o<r.beginsAt)&&(i=s,r=a)}}return i}),(e,t,a,n)=>n?{metadataItemEntityID:n.entityID,positionSeconds:t.positionSeconds,type:n.type,shouldSetViewportSize:0===e,shouldResetChannels:!1,isUnknownAiring:!1}:{containerKey:a,shouldResetChannels:!0,shouldSetViewportSize:0===e,isUnknownAiring:!0})}),SKe)((function(e){const{serverEntityID:t,providerEntityID:a,containerKey:n,shouldSetViewportSize:i,shouldResetChannels:r,dispatchInitMetadataList:s,dispatchPopulateChannelPrograms:o,dispatchResetStartTime:l,dispatchSetViewportSize:c,...d}=e;return Object(g.useEffect)(()=>{i&&c()},[i,c]),Object(g.useEffect)(()=>{!i&&r&&n&&(l(),s({containerKey:n,serverEntityID:t,providerEntityID:a}),o())},[r,i,o,l,n,t,a,s]),y.a.createElement(IKe,{...d,serverEntityID:t,providerEntityID:a})})),OKe=a("M4gS"),MKe=a.n(OKe);var CKe=function(e){const{playerType:t,metadataListEntityID:a,serverEntityID:n,providerEntityID:i}=e;return y.a.createElement("div",{className:MKe.a.container},y.a.createElement(vGe,{className:MKe.a.icon}),y.a.createElement(LT.a,{message:Object(Ce.default)("{openSpan}Up Next:{closeSpan} {openTitle}{closeTitle}"),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:MKe.a.upNext},{open:"openTitle",close:"closeTitle",component:EKe,playerType:t,metadataListEntityID:a,serverEntityID:n,providerEntityID:i}]}))};var jKe=Object(v.b)((function(){return Object(he.a)(e=>e.ui.channelGridPage.metadataList,zB(),(e,t)=>({metadataListEntityID:e,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID}))}))(CKe);var DKe=function(e){const{playerType:t}=e;return y.a.createElement(wWe,null,y.a.createElement(vKe,{playerType:t}),y.a.createElement(jKe,{playerType:t}))};function PKe(e){var t=e["aria-label"],a=e.className,n=e.style,i={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-unselected-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m280 40c132.46 0 240 107.54 240 240s-107.54 240-240 240-240-107.54-240-240 107.54-240 240-240zm0 80c88.306 0 160 71.694 160 160s-71.694 160-160 160-160-71.694-160-160 71.694-160 160-160z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}PKe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var TKe=PKe,wKe=a("KHus"),NKe=a.n(wKe);const xKe={placement:"top"};class AKe extends g.Component{constructor(e,t){super(e,t),this.onFollowButtonPress=e=>{this._emitUpdateFollowMuteAction(qF.c,!this.props.followed)},this.onMuteButtonPress=e=>{this._emitUpdateFollowMuteAction(qF.d,!this.props.muted)},this.onMenuButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen},()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)})},this.state={isMenuOpen:!1},this._menuButtonID=Object(gf.a)()}_emitUpdateFollowMuteAction(e,t){const{metadataItemEntityID:a,providerEntityID:n,tagElement:i,ratingKey:r}=this.props;this.props.onUpdateFollowMute({metadataItemEntityID:a,providerEntityID:n,actionID:e,tagElement:i,ratingKey:r,value:t})}render(){const{tag:e,followed:t,muted:a}=this.props,{isMenuOpen:n}=this.state;let i,r=TKe;return!0===t?(i=NKe.a.isFollowed,r=ns.a):!0===a&&(i=NKe.a.isMuted,r=Ql.a),y.a.createElement(jI.a,{id:this._menuButtonID,className:NKe.a.tag,onPress:this.onMenuButtonPress},y.a.createElement(r,{className:Pe()(NKe.a.icon,i)})," ",y.a.createElement("span",{className:NKe.a.tagText},e),y.a.createElement(Xs.a,{target:this._menuButtonID,isOpen:n,options:xKe,onMenuClose:this.onMenuClose},null!=t?y.a.createElement(Js.a,{onPress:this.onFollowButtonPress},t?Object(Ce.default)("Unfollow {tag}",{tag:e}):Object(Ce.default)("Follow {tag}",{tag:e})):null,null!=a?y.a.createElement(Js.a,{onPress:this.onMuteButtonPress},a?Object(Ce.default)("Unblock {tag}",{tag:e}):Object(Ce.default)("Block {tag}",{tag:e})):null))}}var LKe=AKe;var kKe=function(e){const{metadataItemEntityID:t,providerEntityID:a,tags:n,onUpdateFollowMute:i,onFollowMuteMenuChange:r}=e;return y.a.createElement("div",null,n.map(e=>y.a.createElement(LKe,{key:e.ratingKey,...e,metadataItemEntityID:t,providerEntityID:a,onUpdateFollowMute:i,onMenuChange:r})))};const RKe=["Channel","Topic"];function zKe(e,t){const a=e.features.find(({type:e})=>e===nS.b);return a&&a.actions&&a.actions.find(({id:e})=>e===t)}const UKe=Object(BI.a)((function(){return Object(he.a)(Bs.b,jVe(),yMe(),(e,t,a)=>{const n=[];return RKe.forEach(i=>{const r=t[i];if(r&&r.length){const t=r.reduce(function(e,t,a){const n=zKe(a,qF.c),i=zKe(a,qF.d);return(a,r)=>((null!=r.followed&&n&&Object(No.a)(t,n)||null!=r.muted&&i&&Object(No.a)(t,i))&&a.push({...r,tagElement:e}),a)}(i,e,a),[]);n.push(...t)}}),{metadataItemEntityID:t.entityID,providerEntityID:a.entityID,tags:n}})}),(function(e,t){const{metricsPage:a}=t;return{onUpdateFollowMute(t){e(Object(no.t)({metricsPage:a,...t}))}}}))(kKe);UKe.propTypes={...UKe.propTypes,playerType:Qn.a.string.isRequired};var VKe=UKe,BKe=a("8ruQ"),FKe=a.n(BKe);var HKe=function(e){const{title:t}=e;return t?y.a.createElement("div",null,y.a.createElement("span",{className:FKe.a.upNext},Object(Ce.default)("Up Next"))," — ",t):null};const _Ke=Object(v.b)((function(){return Object(he.a)(jVe(1),e=>e?{title:e.title}:{})}))(HKe);_Ke.propTypes={..._Ke.propTypes,playerType:Qn.a.string.isRequired};var WKe=_Ke;var QKe=function(e){const{playerType:t,onFollowMuteMenuChange:a}=e;return y.a.createElement(wWe,null,y.a.createElement(VKe,{playerType:t,onFollowMuteMenuChange:a}),y.a.createElement(WKe,{playerType:t}))};var GKe=Object(he.a)(kR,e=>e.session),KKe=a("G5dy"),YKe=a.n(KKe);function qKe(e){const{className:t,iconComponent:a,title:n,...i}=e;return y.a.createElement(Ih.a,{className:t,"aria-label":n,...i},a?y.a.createElement(a,{className:YKe.a.icon}):null,n)}qKe.defaultProps={className:YKe.a.button};var ZKe=qKe,XKe=a("ePga"),JKe=a.n(XKe);function $Ke(e){const{className:t,elapsedSeconds:a,hasLiveTVProtocol:n,isAnyAdPlaying:i,isAnyWatching:r,isMiniPlayer:s,metadataItemEntityID:o,playerType:l,onPlay:c,onCancel:d}=e,u=Object(g.useCallback)(()=>{d({playerType:l})},[d,l]),p=n?ZWe:YWe;let m,h;return m=i?Object(Ce.default)("Other viewers are watching ads. Playback will resume automatically when they're done."):r?Object(Ce.default)("Session started {duration} ago.",{duration:Cn(1e3*a)}):Object(Ce.default)("Playback will start automatically when everyone is ready."),h=i?Object(Ce.default)("Please Wait"):a>0?Object(Ce.default)("Resume"):Object(Ce.default)("Start"),y.a.createElement("div",{className:Pe()(t,s&&JKe.a.hasLandscapePoster),"data-qa-id":"watchTogetherLobbyControlsContainer"},y.a.createElement("div",{className:JKe.a.buttonGroupLeft},s?y.a.createElement(yQe,{playerType:l,isVideo:!0,isMusic:!1}):null,y.a.createElement(p,{metadataItemEntityID:o,playerType:l,positionSeconds:a,showDuration:!1})),y.a.createElement("div",{className:Pe()(JKe.a.buttonGroupCenter,!n&&JKe.a.balanceLeft)},y.a.createElement(ZKe,{className:JKe.a.button,iconComponent:gGe,isDisabled:i,title:h,kind:ao.d,onPress:c}),y.a.createElement(ZKe,{className:JKe.a.button,title:Object(Ce.default)("Cancel"),onPress:u})),y.a.createElement("div",{className:JKe.a.buttonGroupRight},m))}$Ke.defaultProps={className:JKe.a.controls};var eYe=$Ke;const tYe={onPlay:rU.a,onCancel:Ze.p};var aYe=Object(v.b)((function(){return Object(he.a)(GKe,e=>{const{users:t}=e,a=t.filter(e=>e.isWatching);return{elapsedSeconds:a.reduce((e,t)=>e+t.positionSeconds,0)/a.length||0,isAnyAdPlaying:t.some(e=>e.isAdPlaying),isAnyWatching:a.length>0}})}),tYe)(eYe);function nYe(e){const{playerType:t,isAdVisible:a,isMiniPlayer:n,hasLiveTVProtocol:i,currentSubType:r,isWatchTogetherLobbyVisible:s,onFollowMuteMenuChange:o}=e;return s?null:a?y.a.createElement(AWe,null):n?null:r===Co.NEWS?y.a.createElement(QKe,{playerType:t,onFollowMuteMenuChange:o}):i?y.a.createElement(DKe,{playerType:t}):null}function iYe(e){const{playerType:t,isPostPlayVisible:a,isWatchTogetherLobbyVisible:n,isVideo:i,isMusic:r,isAdVisible:s,isMiniPlayer:o,isWatchTogether:l,hasLiveTVProtocol:c,seekStartMilliseconds:d,seekEndMilliseconds:u,bufferStartMilliseconds:p,bufferEndMilliseconds:m,adPositionMilliseconds:h,adDurationMilliseconds:g,onControlsMenuChange:f,onSeekBarInteractionStart:b,onSeekBarInteractionEnd:v}=e;let I;return I=n?aYe:c?mKe:BGe,y.a.createElement(vWe,null,nYe(e),y.a.createElement(OWe,null,a||n?null:y.a.createElement(pKe,{playerType:t,isAdVisible:s,seekStartMilliseconds:d,seekEndMilliseconds:u,bufferStartMilliseconds:p,bufferEndMilliseconds:m,adPositionMilliseconds:h,adDurationMilliseconds:g,onSeekStart:b,onSeekEnd:v}),y.a.createElement(jWe,{component:I,playerType:t,hasLiveTVProtocol:c,isVideo:i,isMusic:r,isAdVisible:s,isWatchTogetherLobbyVisible:n,isMiniPlayer:o,isWatchTogether:l,onControlsMenuChange:f})))}nYe.propTypes=iYe.propTypes,iYe.defaultProps={isMiniPlayer:!1};var rYe=iYe,sYe=a("C3YB"),oYe=a.n(sYe);const lYe=parseInt(yu.a.pagePadding,10),cYe=2*lYe,dYe=lYe/2;function uYe(e,t,a,n,i,r){let s,o;if(e<t){const t=e-cYe-a;s=Math.min(500,t),o=Object(eM.e)(s,n,i,r)}else{const e=t-(cYe+90+a);o=Math.min(500,e),s=Object(eM.f)(o,n,i,r)}return{width:s,height:o}}function pYe(e){const{className:t,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,type:r,subtype:s,context:o,imageUrl:l,bottom:c}=e,d=aH(r,o,{providerEntityID:n,subtype:s});return y.a.createElement(VO.a,{className:oYe.a.measure},({isMeasured:e,width:u,height:p})=>{if(!e)return null;const m=c?c+dYe:0,h=uYe(u,p,0,r,s,o);let g;if(m){const e=uYe(u,p,m,r,s,o);g=e.height>0?e.height/h.height:1,g=Math.max(g,.4)}else g=1;return y.a.createElement("div",{className:t,style:{transform:`translate(-50%, -50%) scale(${g})`}},y.a.createElement(dA.a,{cardClassName:oYe.a.card,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,metadataKey:"music",type:r,imageWidth:h.width,imageHeight:h.height,imageUrl:l,showLinkOnly:!0}),y.a.createElement("div",{className:oYe.a.titlesContainer},d.map((e,t)=>y.a.createElement(XH,{key:t,className:t>0?oYe.a.secondaryTitle:oYe.a.primaryTitle,serverEntityID:a,providerEntityID:n,metadataItemEntityID:i,component:e}))))})}pYe.defaultProps={className:oYe.a.content};var mYe=pYe;var hYe=Object(v.b)((function(){return Object(he.a)(jVe(),e=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,context:XO.k,type:e.type,imageUrl:e.parentThumb||e.grandparentThumb}))}))(mYe),gYe=a("tbBR"),yYe=a.n(gYe);var fYe=function(e){const{serverEntityID:t,providerEntityID:a,imageUrl:n,allowBlur:i}=e;return y.a.createElement("div",{className:yYe.a.backgroundContainer},y.a.createElement(mt,{serverEntityID:t,providerEntityID:a,url:n,allowBlur:i}))};var bYe=Object(v.b)((function(){return Object(he.a)((e,{isMusic:t})=>t,zB(),EVe(),DO.a,(e,t,a={},n)=>{const i=n[t.startMetadataItemEntityID||a.metadataItem];let r;return i&&(r=e?i.parentThumb||i.grandparentThumb:i.grandparentArt||i.art),{serverEntityID:t.serverEntityID,imageUrl:r}})}))(fYe);function vYe(e){var t=e["aria-label"],a=e.className,n=e.style,i={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-marketing-lyrics-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m152.241 116.673c5.933-65.31 60.918-116.673 127.75-116.673 66.833 0 121.818 51.363 127.75 116.673h12.268c6.44 0 11.672 5.233 11.672 11.672 0 6.441-5.232 11.673-11.672 11.673h-12.25c-3.675 40.285-26.023 75.197-58.293 96.058l-19.827 231.997c-1.908 21.892-17.5 39.06-37.958 43.82v36.452c0 6.44-5.232 11.673-11.672 11.673s-11.673-5.233-11.673-11.673v-36.592c-20.51-4.97-36.102-22.26-38.01-44.24l-19.792-231.437c-32.305-20.86-54.653-55.756-58.293-96.058h-12.25c-6.44 0-11.672-5.233-11.672-11.673 0-6.439 5.232-11.672 11.672-11.672zm154.14 349.387 18.62-217.665c-14.052 5.25-29.172 8.278-45.01 8.278-15.837 0-30.957-3.045-45.01-8.312l18.568 217.139c1.242 13.982 12.722 24.5 26.74 24.5 13.685 0 24.902-10.29 26.092-23.94zm-38.045-151.059c0-6.441 5.233-11.673 11.673-11.673s11.672 5.233 11.672 11.673v46.672c0 6.439-5.232 11.673-11.672 11.673s-11.673-5.234-11.673-11.673zm11.655-81.674c53.918 0 97.93-40.966 103.81-93.326h-207.62c5.88 52.36 49.893 93.326 103.81 93.326zm103.81-116.672c-5.88-52.36-49.892-93.328-103.81-93.328-53.917 0-97.93 40.969-103.81 93.328z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}vYe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var IYe=vYe;function SYe(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-timed-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M364 84h-56v29.989a194.698 194.698 0 0 1 27.951 6.126 194.755 194.755 0 0 1 24.136 8.966 195.787 195.787 0 0 1 27.995 15.427 197.227 197.227 0 0 1 48.25 45.312A196.461 196.461 0 0 1 454 217.748a194.576 194.576 0 0 1 18.374 52.568A196.97 196.97 0 0 1 476 308c0 8.956-.604 17.911-1.818 26.785a194.966 194.966 0 0 1-6.297 29.166 194.724 194.724 0 0 1-10.968 28.456 196.15 196.15 0 0 1-17.784 29.982 197.385 197.385 0 0 1-51.543 49.428 195.734 195.734 0 0 1-31.878 17.002 194.692 194.692 0 0 1-38.028 11.555 196.89 196.89 0 0 1-37.05 3.625 197.07 197.07 0 0 1-37.117-3.394 194.66 194.66 0 0 1-38.126-11.327 195.651 195.651 0 0 1-31.993-16.815 197.378 197.378 0 0 1-51.839-49.12 196.2 196.2 0 0 1-17.96-29.865 194.83 194.83 0 0 1-11.136-28.372 194.809 194.809 0 0 1-6.473-29.101A197.463 197.463 0 0 1 84 308c0-12.028 1.091-24.054 3.283-35.881a194.544 194.544 0 0 1 17.634-52.258 196.423 196.423 0 0 1 17.69-28.628 197.522 197.522 0 0 1 22.193-25.085 197.243 197.243 0 0 1 26.136-20.985 195.922 195.922 0 0 1 28.434-15.838A194.565 194.565 0 0 1 252 113.989V84h-56V56h168v28zm-83.499 70.001h-1.002c-2.814.013-5.626.093-8.435.253-5.511.315-11.005.924-16.45 1.827a152.77 152.77 0 0 0-37.505 11.318 153.954 153.954 0 0 0-22.375 12.375 155.41 155.41 0 0 0-37.024 34.668 154.38 154.38 0 0 0-13.799 21.452 152.504 152.504 0 0 0-14.78 41.055A154.8 154.8 0 0 0 126 308c0 7.212.496 14.425 1.497 21.568a152.888 152.888 0 0 0 4.872 22.397 152.714 152.714 0 0 0 8.601 22.316 154.23 154.23 0 0 0 14.247 23.934 155.398 155.398 0 0 0 18.231 20.92 155.18 155.18 0 0 0 23.616 18.615 153.646 153.646 0 0 0 23.909 12.522 152.648 152.648 0 0 0 29.855 8.97A154.944 154.944 0 0 0 280 462c9.782 0 19.564-.915 29.172-2.758a152.648 152.648 0 0 0 29.855-8.97 153.71 153.71 0 0 0 25.464-13.533 155.34 155.34 0 0 0 40.02-38.15 154.175 154.175 0 0 0 14.519-24.308 152.67 152.67 0 0 0 8.601-22.316 152.86 152.86 0 0 0 4.872-22.397A155.47 155.47 0 0 0 434 308c0-10.421-1.039-20.841-3.131-31.052a152.544 152.544 0 0 0-14.78-41.055 154.43 154.43 0 0 0-14.366-22.185 155.298 155.298 0 0 0-37.231-34.447 153.835 153.835 0 0 0-21.601-11.862 152.77 152.77 0 0 0-37.505-11.318 154.437 154.437 0 0 0-16.45-1.827c-2.809-.16-5.621-.24-8.435-.253zM252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.771 0 66.271 14.115 89.078 36.922L252 336z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}SYe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var EYe=SYe,OYe=a("zLzU"),MYe=a.n(OYe);class CYe extends g.Component{constructor(e,t){super(e,t),this.setLineRef=e=>{this.lineRef=e,this.scrollToLine()},this.onContentMeasure=({width:e})=>{this.setState({isMeasured:!0,pageWidth:e})},this.onScrollerMeasure=({height:e})=>{e&&this.setState({isScrollerMeasured:!0,scrollerHeight:e},()=>{this.scrollToLine()})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.state={isMeasured:!1,isScrollerMeasured:!1,pageWidth:0,scrollerHeight:0,scrollTop:0}}componentWillReceiveProps(e){this.props.lines!==e.lines&&this.setState({scrollTop:0})}scrollToLine(){if(!this.lineRef)return;const{scrollerHeight:e,scrollTop:t}=this.state,{height:a}=this.lineRef.getBoundingClientRect(),n=this.lineRef.offsetTop;(n+a>t+e||n<t)&&this.setState({scrollTop:n})}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:n,subtype:i,context:r,columnAdjustment:s,imageUrl:o,positionSeconds:l,lines:c,selectedIndex:d,lyricsStreamsCount:u,hasTimedLyrics:p,isTimedLyricsActive:m,hasLyricsError:h,hasLyricsFeature:g,isLyricFindProvider:f,onPreviousPress:b,onNextPress:v,onTimedLyricsPress:I}=this.props,{isMeasured:S,isScrollerMeasured:E,pageWidth:O,scrollTop:M}=this.state,C=nq(O,s),j=Object(eM.e)(C,n,i,r);return g?y.a.createElement(VO.a,{className:MYe.a.measure,onMeasure:this.onContentMeasure},S?y.a.createElement("div",{className:MYe.a.container},y.a.createElement("div",null,y.a.createElement(dA.a,{cardClassName:MYe.a.card,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:"music",type:n,imageWidth:C,imageHeight:j,imageUrl:o,showLinkOnly:!0})),y.a.createElement("div",{className:MYe.a.content},y.a.createElement("div",{className:MYe.a.titlesContainer},y.a.createElement(wZ,null,y.a.createElement(mM,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),y.a.createElement(FZ,null,y.a.createElement(OZ,null,y.a.createElement(vF,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),y.a.createElement(QZ,null,y.a.createElement(OZ,null,f?Object(Ce.default)("Powered by {provider}",{provider:"LyricFind"}):null),y.a.createElement(LZ,null,y.a.createElement("span",{className:MYe.a.rightInfo},y.a.createElement(ZO.a,{className:Pe()(MYe.a.timedLyricsButton,m&&MYe.a.isTimedLyricsActive),"data-qa-id":"toggleTimedLyrics",iconComponent:EYe,title:Object(Ce.default)("Timed Lyrics"),isDisabled:!p,onPress:I})),y.a.createElement("span",{className:MYe.a.rightInfo},Object(Ce.default)("{selectedIndex} of {lyricsStreamsCount}",{selectedIndex:d+1,lyricsStreamsCount:u})),y.a.createElement("span",{className:MYe.a.rightInfo},y.a.createElement(ZO.a,{iconComponent:W2,"data-qa-id":"previousLyricsPage",title:Object(Ce.default)("Previous"),isDisabled:0===d,onPress:b})),y.a.createElement("span",{className:MYe.a.rightInfo},y.a.createElement(ZO.a,{iconComponent:H2,"data-qa-id":"nextLyricsPage",title:Object(Ce.default)("Next"),isDisabled:d===u-1,onPress:v}))))),h?y.a.createElement("div",{className:MYe.a.innerContent},y.a.createElement(KG,{title:Object(Ce.default)("There was an error loading the lyrics")})):null,h?null:y.a.createElement("div",{className:MYe.a.innerContent},y.a.createElement(VO.a,{className:MYe.a.measure,onMeasure:this.onScrollerMeasure},E?y.a.createElement(XD.a,{className:MYe.a.scroller,scrollTop:M,onScrollPositionChange:this.onScrollPositionChange},c.length?c.map(({spans:e,startOffset:t,endOffset:a},n)=>{const i=Math.round(t/1e3),r=Math.round(a/1e3),s=m&&l>=i&&-1!==t&&(l<r||-1===a);return y.a.createElement("div",{key:n,className:Pe()(MYe.a.line,s&&MYe.a.isLineSelected),ref:s?this.setLineRef:null},e.map(({text:e},t)=>y.a.createElement("span",{key:t},e)),y.a.createElement(EYe,{className:MYe.a.lineTimedIcon}))}):y.a.createElement(HO.a,{className:MYe.a.spinner})):null)))):null):y.a.createElement("div",{className:MYe.a.upsellContainer},y.a.createElement(Tre,{iconComponent:IYe,title:Object(Ce.default)("Song Lyrics"),text:Object(Ce.default)("Still think Elton is saying “Hold me closer, Tony Danza”? With a Plex Pass, enjoy timed lyrics (when available) to your favorite songs for the ultimate sing-along… with the right words!")}),y.a.createElement(zre,{serverEntityID:e,origin:Cre.e,modalMetricsProperties:{context:"lyrics"}}))}}var jYe=CYe;function DYe(e){return!(!e||!e.timed)}const PYe={dispatchFetchPlayQueue:XM.t,dispatchFetchPlayQueueItemLyrics:XM.u};class TYe extends g.Component{constructor(e,t){super(e,t),this.onPreviousPress=()=>{this.setState(e=>({selectedLyricsStreamIndex:Math.max(0,e.selectedLyricsStreamIndex-1)}))},this.onNextPress=()=>{this.setState((e,t)=>({selectedLyricsStreamIndex:Math.min(t.lyricsStreams.length-1,e.selectedLyricsStreamIndex+1)}))},this.onTimedLyricsPress=()=>{this.setState(e=>({isTimedLyricsActive:!e.isTimedLyricsActive}))},this.state=this.getDefaultState(e)}componentDidMount(){this._populate(),this.props.hasPremiumLyrics&&this.props.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType})}componentWillReceiveProps(e){this.props.lyricsStreams!==e.lyricsStreams&&this.setState(this.getDefaultState(e,this.state.selectedLyricsStreamIndex))}componentWillUpdate(e,t){if(this.state.selectedLyricsStreamIndex!==t.selectedLyricsStreamIndex){const a=e.lyricsStreams[t.selectedLyricsStreamIndex];this.setState({isTimedLyricsActive:DYe(a)})}}componentDidUpdate(e,t){const a=this.props.lyricsStreams[this.state.selectedLyricsStreamIndex];this.props.hasLyricsFeature!==e.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType}),!a||a.lyricsError||this.state.selectedLyricsStreamIndex===t.selectedLyricsStreamIndex&&this.props.lyricsStreams===e.lyricsStreams||this._populate()}getDefaultState(e,t=0){const a=e.lyricsStreams.length>0?t:null;return{isTimedLyricsActive:DYe(e.lyricsStreams[a]),selectedLyricsStreamIndex:a}}_populate(){const{playerType:e,playQueueItemEntityID:t,lyricsStreams:a}=this.props,{selectedLyricsStreamIndex:n}=this.state;if(null==n)return;const i=a[n];i&&!i.lines.length&&this.props.dispatchFetchPlayQueueItemLyrics({playerType:e,playQueueItemEntityID:t,streamID:i.id})}render(){const{dispatchFetchPlayQueue:e,dispatchFetchPlayQueueItemLyrics:t,lyricsStreams:a,...n}=this.props,{isTimedLyricsActive:i,selectedLyricsStreamIndex:r}=this.state,s=a[r];return y.a.createElement(jYe,{lines:null!=s?s.lines:[],lyricsStreamsCount:a.length,selectedIndex:r,hasTimedLyrics:DYe(s),isTimedLyricsActive:i,isLyricFindProvider:!!s&&s.provider===VI.c,hasLyricsError:!!s&&!!s.lyricsError,onPreviousPress:this.onPreviousPress,onNextPress:this.onNextPress,onTimedLyricsPress:this.onTimedLyricsPress,...n})}}var wYe=Object(v.b)((function(){return Object(he.a)(zB(),rBe(),jVe(),EVe(),ge.a,(e,t,a,n,i)=>{const r=XO.k;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:a.entityID,playQueueItemEntityID:n.entityID,positionSeconds:e.positionSeconds,context:r,type:a.type,imageUrl:a.parentThumb||a.grandparentThumb,lyricsStreams:n.lyricsStreams,columnAdjustment:i.columnAdjustment,hasLyricsFeature:!!n.lyricsStreams.length||t.ownerFeatures&&t.ownerFeatures.indexOf("lyrics")>-1,hasPremiumLyrics:n.hasPremiumLyrics}})}),PYe)(TYe);const NYe=[.2,.4,.6,.8];function xYe(e,t,a,n){if(a+1<n){const n=a-t-e;if(n<NYe.length)return NYe[n]}return 1}function AYe(){return Object(he.a)((e,{playQueueItemEntityID:t})=>t,jg.a,(e,t)=>t[e])}var LYe=a("GfmD"),kYe=a.n(LYe);function RYe(e){const{className:t,titlesContainerClassName:a,sourceTextClassName:n,durationContainerClassName:i,serverEntityID:r,providerEntityID:s,metadataItemEntityID:o,type:l,subtype:c,metadataKey:d,title:u,duration:p,isPreview:m,context:h,imageWidth:g,imageHeight:f,imageUrl:b,onPlayPress:v}=e,I=aH(l,h,{providerEntityID:s,subtype:c});let S="";return p&&(S=m?Object(Ce.default)("Preview"):l===wo.TRACK?Object(Rg.a)(p):Cn(p)),y.a.createElement("div",{className:t},y.a.createElement("div",{className:kYe.a.cardContainer},y.a.createElement(VCe,{className:kYe.a.card,serverEntityID:r,providerEntityID:s,metadataItemEntityID:o,metadataKey:d,title:Object(Ce.default)("Play {title}",{title:u}),type:l,imageWidth:g,imageHeight:f,imageUrl:b,onPlayPress:v})),y.a.createElement("div",{className:a,"data-qa-id":"playQueueTitleContainer"},I.map((e,t)=>y.a.createElement(XH,{key:t,serverEntityID:r,providerEntityID:s,metadataItemEntityID:o,component:e,isSecondary:t>0}))),y.a.createElement(X0,{textClassName:n,serverEntityID:r,metadataItemEntityID:o}),S?y.a.createElement("div",{className:i},S):null)}RYe.defaultProps={className:kYe.a.container,titlesContainerClassName:kYe.a.titlesContainer,sourceTextClassName:kYe.a.sourceText,durationContainerClassName:kYe.a.durationContainer};var zYe=RYe;var UYe=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),e=>{const t=XO.m,a=Object(eM.d)(e.type,e.subtype,t)===eM.a?64:36,n=Object(P_.a)(a,null,e.type,e.subtype,e,t);return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,title:e.title,isPreview:!!e.preview,context:t,imageWidth:n.width,imageHeight:n.height,imageUrl:n.url}})}),(function(e,t){const a={playerType:t.playerType};return{onPlayPress(){e(Object(XM.w)({...a,index:t.sortIndex})),t.mediaType===_s.e&&e(Object(XM.J)(a))}}}))((function(e){const{mediaType:t,...a}=e;return y.a.createElement(zYe,{...a})})),VYe=a("JkX4"),BYe=a.n(VYe);const FYe={.2:BYe.a.opacity20Percent,.4:BYe.a.opacity40Percent,.6:BYe.a.opacity60Percent,.8:BYe.a.opacity80Percent};function HYe(e){const{metadataItemEntityID:t,playerType:a,mediaType:n,sortIndex:i,opacity:r,isCurrentItem:s,isPlayerPaused:o,isItemDragging:l,connectDragSource:c,onRemovePress:d}=e;return y.a.createElement("div",{className:Pe()(BYe.a.container,l&&BYe.a.isItemDragging,s&&BYe.a.isCurrentItem,null!=r&&FYe[r]),"data-qa-id":"playQueueItem"},y.a.createElement("div",{className:BYe.a.leftContainer},s?y.a.createElement(Sy,{isPaused:o}):null,s?null:c(y.a.createElement("div",{className:BYe.a.moveControls,"data-qa-id":"playQueueReorder"},y.a.createElement(JT,null)))),y.a.createElement(UYe,{className:BYe.a.metadataContainer,sourceTextClassName:BYe.a.sourceText,durationContainerClassName:BYe.a.metadataDurationContainer,metadataItemEntityID:t,playerType:a,mediaType:n,sortIndex:i}),s?null:y.a.createElement("div",{className:BYe.a.removeControls},y.a.createElement(ZO.a,{className:BYe.a.removeButton,"data-qa-id":"playQueueRemove",iconComponent:Ql.a,title:Object(Ce.default)("Remove"),kind:ao.a,onPress:d})))}HYe.defaultProps={opacity:1,isCurrentItem:!1,isPlayerPaused:!1,isItemDragging:!1,connectDragSource:e=>e};var _Ye=HYe;var WYe=Object(v.b)((function(){return Object(he.a)(AYe(),e=>{const t=Object(wo.getMetadataType)(e.type),a=t&&t.mediaType;return{metadataItemEntityID:e.metadataItem,mediaType:a}})}),(function(e,t){return{onRemovePress(a){e(Object(XM.B)({playerType:t.playerType,playQueueItemEntityID:t.playQueueItemEntityID}))}}}))(_Ye),QYe=a("uYXV"),GYe=a.n(QYe);const KYe=parseInt(yu.a.playQueueSidePadding,10);class YYe extends g.Component{shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{playerType:e,item:t,itemType:a,currentOffset:n}=this.props;if(!n||"PLAY_QUEUE_ITEM"!==a)return null;const{x:i,y:r}=n,s=`translate3d(${i}px, ${r}px, 0)`,o={position:"absolute",WebkitTransform:s,msTransform:s,transform:s,width:window.innerWidth-2*KYe+"px"};return y.a.createElement(QT,null,y.a.createElement("div",{className:GYe.a.dragPreview,style:o},y.a.createElement(WYe,{playQueueItemEntityID:t.playQueueItemEntityID,playerType:e,isItemDragging:!0})))}}var qYe=Object(FT.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(YYe),ZYe=a("OY1m"),XYe=a.n(ZYe);const JYe={beginDrag:({playQueueItemEntityID:e})=>({playQueueItemEntityID:e}),endDrag(e,t,a){e.onPlayQueueItemDragEnd(t.getItem(),t.didDrop())}},$Ye={hover(e,t,a){const n=Object(f.findDOMNode)(a).getBoundingClientRect(),i=(n.bottom-n.top)/2,r=t.getClientOffset().y-n.top,s=e.sortIndex,o=r>i?s+1:s;e.onPlayQueueItemDragMove(o)}};class eqe extends g.Component{componentDidMount(){this.props.connectDragPreview(Object(bw.getEmptyImage)())}shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{isDragging:e,isDraggingBefore:t,isDraggingAfter:a,isOver:n,connectDropTarget:i,connectDragSource:r,...s}=this.props;return i(y.a.createElement("div",{className:Pe()(XYe.a.container,e&&ua.c,t&&n&&ua.e,a&&n&&ua.d)},y.a.createElement(WYe,{connectDragSource:r,...s})))}}var tqe=Object(FT.DropTarget)("PLAY_QUEUE_ITEM",$Ye,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(FT.DragSource)("PLAY_QUEUE_ITEM",JYe,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(eqe)),aqe=a("HY0z"),nqe=a.n(aqe);class iqe extends g.Component{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.state={isAddToPlaylistModalOpen:!1}}render(){const{serverEntityID:e,providerEntityID:t,playQueueID:a,playQueueItemEntityIDs:n,playQueueSelectedItemOffset:i,playQueueLength:r,playerType:s,currentIndex:o,moveIndex:l,scrollTop:c,isPlayerPaused:d,showAddToPlaylist:u,onPlayQueueItemDragMove:p,onPlayQueueItemDragEnd:m}=this.props,{isAddToPlaylistModalOpen:h}=this.state,g=i-o,f=g+n.length-1;return y.a.createElement("div",{className:nqe.a.container},y.a.createElement(d_e,null,y.a.createElement(o_e,{title:Object(Ce.default)("Play Queue")}),y.a.createElement("div",{className:nqe.a.topContainer},y.a.createElement("div",{className:nqe.a.topLeft},y.a.createElement("span",{className:nqe.a.count},1===r?Object(Ce.default)("{itemCount} item",{itemCount:r}):Object(Ce.default)("{itemCount} items",{itemCount:r}))),y.a.createElement("div",{className:nqe.a.topRight},u?y.a.createElement(Dm.a,{className:nqe.a.tooltipButton,"data-qa-id":"queueAddPlaylist","aria-label":Object(Ce.default)("Add to Playlist"),component:jI.a,tooltip:Object(Ce.default)("Add to Playlist"),onPress:this.onAddToPlaylistPress},y.a.createElement(eh,null)):null))),y.a.createElement(XD.a,{className:nqe.a.content,scrollTop:c,smoothScroll:!1,autoScroll:!0},n.map((e,t)=>{const a=null!=l,n=o===t,i=a&&l===t,c=a&&l===t+1;return y.a.createElement(tqe,{key:e,sortIndex:t,opacity:xYe(t,g,f,r),playQueueItemEntityID:e,playerType:s,isDraggingBefore:i,isDraggingAfter:c,isCurrentItem:n,isPlayerPaused:d,onPlayQueueItemDragMove:p,onPlayQueueItemDragEnd:m})})),y.a.createElement(qYe,{playerType:s}),u?y.a.createElement(xL.a,{serverEntityID:e,providerEntityID:t,playQueueID:a,isOpen:h,onModalClose:this.onAddToPlaylistClose}):null)}}var rqe=iqe;const sqe=parseInt(yu.a.playQueueItemHeight,10),oqe=Object(he.a)(e=>e.ui.audioVideoPlayer,rBe(),yMe(),(e,t,a)=>{const n=e.playQueue,i=qr.l(a.identifier,qr.d),r=!n.isLocal&&i;return{serverEntityID:t.entityID,providerEntityID:a.entityID,playQueueID:n.playQueueID,isQueueRepeated:n.repeat,isQueueShuffled:n.playQueueShuffled,isPlayerPaused:e.isPaused,isUpdatePending:n.isUpdatePending,playQueueItemEntityIDs:n.playQueueItems,playQueueSelectedItemOffset:n.playQueueSelectedItemOffset,playQueueLength:n.length,currentIndex:n.currentIndex,showAddToPlaylist:r}}),lqe={dispatchMovePlayQueueItem:XM.v};class cqe extends g.Component{constructor(e,t){super(e,t),this.onPlayQueueItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onPlayQueueItemDragEnd=(e,t)=>{const{playerType:a}=this.props,{moveIndex:n}=this.state;t&&null!=n&&Object(Dt.a)(()=>{this.props.dispatchMovePlayQueueItem({playerType:a,...e,moveIndex:n})}),this.setState({moveIndex:null})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.shouldUpdateScrollTop=!1,this.state={moveIndex:null,scrollTop:sqe*e.currentIndex}}componentWillReceiveProps(e){this.props.isQueueRepeated===e.isQueueRepeated&&this.props.isQueueShuffled===e.isQueueShuffled||(this.shouldUpdateScrollTop=!0),this.shouldUpdateScrollTop&&this.props.currentIndex!==e.currentIndex&&this.setState({scrollTop:sqe*e.currentIndex}),this.props.isUpdatePending&&!e.isUpdatePending&&(this.shouldUpdateScrollTop=!1)}render(){const{dispatchMovePlayQueueItem:e,...t}=this.props,{moveIndex:a,scrollTop:n}=this.state;return y.a.createElement(rqe,{moveIndex:a,scrollTop:n,onPlayQueueItemDragMove:this.onPlayQueueItemDragMove,onPlayQueueItemDragEnd:this.onPlayQueueItemDragEnd,onScrollPositionChange:this.onScrollPositionChange,...t})}}var dqe=wx(Object(v.b)(oqe,lqe)(cqe));var uqe=function(e){const{title:t,summary:a}=e;return y.a.createElement(y.a.Fragment,null,y.a.createElement(Mq,null,y.a.createElement(wZ,null,y.a.createElement(OZ,null,t))),y.a.createElement(LY,null),y.a.createElement(Mq,null,y.a.createElement(Vq,null,a)))};var pqe=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({type:e.type,subtype:e.subtype,title:e.title,year:e.year,summary:e.summary,attributionLogo:e.attributionLogo}))}))((function(e){const t=function(e,t){switch(t){case Co.WEBSHOW:switch(e){case wo.EPISODE:return O0}}switch(e){case wo.EPISODE:return S0;case wo.MOVIE:return A0;case wo.CLIP:return uqe}return uqe}(e.type,e.subtype);return y.a.createElement(t,{...e})}));const mqe=Object(yo.a)("ui/player/playQueue/toggleAutoPlay"),hqe={[XM.g]:XM.A[XM.g],[XM.h]:XM.A[XM.h],[XM.e]:XM.A[XM.e],[XM.f]:XM.A[XM.f],[XM.d]:XM.A[XM.d],[XM.s]:XM.A[XM.s],[XM.n]:XM.A[XM.n],[XM.r]:XM.A[XM.r],[XM.m]:XM.A[XM.m],[XM.o]:XM.A[XM.o],[XM.q]:XM.A[XM.q],[XM.p]:XM.A[XM.p],[XM.b]:XM.A[XM.b],[XM.c]:XM.A[XM.c],[XM.i]:XM.A[XM.i],[XM.a]:XM.A[XM.a],[XM.k]:XM.A[XM.k],[XM.l](e,{playerType:t},a){const n=e.get("user").id,i=Object(iC.c)(e,t),r=i.get("playQueue"),s=e.get("deviceSettings"),o=i.get("providerEntityID"),l=Object(GI.j)(e,{providerEntityID:o}),c={providerEntityID:o,serverEntityID:i.get("serverEntityID"),playQueueOffset:i.get("positionSeconds"),playQueueType:r.get("type"),playQueueRepeat:r.get("repeat"),playQueueID:r.get("playQueueID")};if(qr.l(l.get("identifier"),[qr.i]))return;if(i.get("isWatchTogether"))return;const d=s.get("restorePlayQueue");a(Object(ta.B)({restorePlayQueue:{...d,[n]:c}}))},[XM.j](e,t,a){const n=e.get("user").id,i={...e.get("deviceSettings").get("restorePlayQueue")};delete i[n],a(Object(ta.B)({restorePlayQueue:i}))},"ui/player/playQueue/toggleAutoPlay"(e,{playerType:t},a){const n=e.get("user").get("experienceSettings").get("autoPlay"),i=Object(iC.c)(e,t);Object(KM.a)(e).changeAutoPlay(i,!n,a)}};var gqe=a("M7EV"),yqe=a.n(gqe);const fqe=parseInt(yu.a.postPlayPosterWidth,10),bqe=parseInt(yu.a.postPlayTitleHeight,10)+parseInt(yu.a.postPlayAutoPlayHeight,10);class vqe extends g.Component{constructor(e,t){super(e,t),this.onContentMeasure=({height:e})=>{const t=Math.min(Object(eM.e)(fqe,this.props.type,this.props.subtype,XO.n),e-bqe),a=Object(eM.f)(t,this.props.type,this.props.subtype,XO.n);this.setState({isMeasured:!0,width:a,height:t})},this.onCountdown=()=>{const e=this.state.secondsLeft-1;e<=0?this.props.onPlay():this.setState({secondsLeft:e})},this.state={isMeasured:!1,width:0,height:0,secondsLeft:10}}componentDidMount(){this.props.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}componentWillReceiveProps(e){this.props.autoPlayEnabled&&!e.autoPlayEnabled&&(window.clearInterval(this._tickIntervalID),this.setState({secondsLeft:10})),!this.props.autoPlayEnabled&&e.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}componentWillUnmount(){window.clearInterval(this._tickIntervalID)}render(){const{serverEntityID:e,providerEntityID:t,type:a,posterUrl:n,autoPlayEnabled:i,onToggleAutoPlay:r,onPlay:s}=this.props,{isMeasured:o,width:l,height:c,secondsLeft:d}=this.state,u=(10-d+1)/10*100;return y.a.createElement(VO.a,{className:yqe.a.container,onMeasure:this.onContentMeasure},y.a.createElement("div",{className:yqe.a.title},Object(Ce.default)("Playing Next")),o?y.a.createElement("div",{className:yqe.a.poster,style:{width:l,height:c}},y.a.createElement($O.a,{serverEntityID:e,providerEntityID:t,type:a,width:l,height:c,url:n}),i?y.a.createElement("div",{className:yqe.a.progress},y.a.createElement(Kw,{size:l/4,lineWidth:3,progress:u,showProgressText:!1,easing:Hw}),y.a.createElement("span",{className:yqe.a.timeLeft},d)):null,y.a.createElement(vM.a,{className:yqe.a.playButton,circleClassName:yqe.a.playCircle,"aria-label":Object(Ce.default)("Play Next"),onPress:s})):null,y.a.createElement(v9.a,{className:i?yqe.a.autoPlayOn:yqe.a.autoPlayOff,name:"autoPlayCheck",value:i,checkboxText:i?Object(Ce.default)("Auto Play On"):Object(Ce.default)("Auto Play Off"),onChange:r}))}}var Iqe=vqe;var Sqe=Object(v.b)((function(){return Object(he.a)(zB(),Object(YO.a)(),ge.a,(e,t={},a)=>({type:t.type,posterUrl:t.thumb,autoPlayEnabled:a.autoPlay}))}),(function(e,{playerType:t}){return{onToggleAutoPlay(){e(mqe({playerType:t}))},onPlay(){e(Object(IVe.t)({playerType:t}))}}}))(Iqe),Eqe=a("LU9U"),Oqe=a.n(Eqe);var Mqe=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,hubEntityIDs:i,playerType:r}=e;return y.a.createElement("div",{className:Oqe.a.container},y.a.createElement("div",{className:Oqe.a.poster},y.a.createElement(Sqe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,playerType:r})),y.a.createElement(XD.a,{className:Oqe.a.details,smoothScroll:!1,autoScroll:!0},y.a.createElement(pqe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,showStreams:!1}),y.a.createElement(Mq,null,i&&i.length>0?y.a.createElement(hZ,{serverEntityID:t,providerEntityID:a,hubEntityIDs:i,columnAdjustment:1}):null)))};var Cqe=Object(v.b)((function(){return Object(he.a)(zB(),EVe(),EVe(1),(e,t,a)=>a?{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:a.metadataItem,hubEntityIDs:t.postPlay}:{})}))(Mqe),jqe=a("gE37"),Dqe=a.n(jqe);const Pqe=Object(jl.a)(Mr.a.defaultSpeed),Tqe={enter:{opacity:1,duration:Pqe},exit:{opacity:0,duration:Pqe,delay:4e3}};function wqe(e){const{className:t,isToastVisible:a,isControlsVisible:n,metadataItemEntityID:i,playerType:r}=e;return n?null:y.a.createElement(Cl.a,null,a?y.a.createElement(Cl.b.div,{key:"toast",initial:"exit",animate:"enter",exit:"exit",variants:Tqe,className:t},y.a.createElement(YWe,{className:Dqe.a.metadataContainer,metadataItemEntityID:i,playerType:r})):null)}wqe.defaultProps={className:Dqe.a.toast};var Nqe=wqe;var xqe=Object(v.b)((function(){return Object(he.a)(zB(),EVe(),(e,{isControlsVisible:t})=>t,(e,t,a)=>{if(!t)return{isToastVisible:!1};const{positionSeconds:n,durationSeconds:i}=e,r=i-n,s=t.type===wo.CLIP&&t.subtype===Co.MUSIC_VIDEO;return{isToastVisible:!a&&s&&(1===n||5===r),metadataItemEntityID:t.metadataItem}})}),(function(e,t){return{}}))(Nqe),Aqe=a("0F0y"),Lqe=a.n(Aqe);class kqe extends g.Component{constructor(){super(...arguments),this.onDecreasePress=()=>{const{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e-50)},this.onIncreasePress=()=>{const{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e+50)},this.onResetPress=()=>{const{dispatchChangeSubtitleOffset:e}=this.props;e(0)}}render(){const{offset:e,bottom:t,dispatchCloseSubtitlesOffset:a,onDimensionsChange:n}=this.props;return y.a.createElement(GHe,{className:Lqe.a.container,bottom:t,onDimensionsChange:n},y.a.createElement(jI.a,{className:Lqe.a.closeButton,onPress:a},y.a.createElement(Ql.a,null)),y.a.createElement("div",{className:Lqe.a.title},Object(Ce.default)("Subtitle Offset: {offset}",{offset:e+" ms"})),y.a.createElement("div",{className:Lqe.a.buttonContainer},y.a.createElement(Ih.a,{className:Lqe.a.button,kind:ao.d,size:cc.c,onPress:this.onDecreasePress},"-",50," ms"),y.a.createElement(Ih.a,{className:Lqe.a.button,kind:ao.d,size:cc.c,onPress:this.onIncreasePress},"+",50," ms"),y.a.createElement(Ih.a,{className:Lqe.a.button,kind:ao.d,size:cc.c,onPress:this.onResetPress},Object(Ce.default)("Reset"))))}}kqe.defaultProps={offset:0};var Rqe=kqe;var zqe=Object(v.b)((function(){return Object(he.a)(HVe(),e=>e.selectedSubtitlesStream)}),(function(e,t){return{dispatchChangeSubtitleOffset(a){e(Object(IVe.n)({playerType:t.playerType,subtitleOffset:a}))},dispatchCloseSubtitlesOffset(){e(Object(IVe.I)({playerType:t.playerType}))}}}))(Rqe);var Uqe=function(){return Object(he.a)(BM,rBe(),jVe(),(e,t,a)=>IJ(t,a,e))},Vqe=a("k9ft");function Bqe(e){return e>2560?"8K":e>1100?"4K":e>576?"HD":""}function Fqe(e,t){return e<=576||e>1100||!t||t<=2e3?"":t<=3e3?Object(Ce.default)("Medium"):t<=4e3?Object(Ce.default)("High"):t<=8e3||t<=1e4?"":t<=12e3?Object(Ce.default)("Medium"):Object(Ce.default)("High")}function Hqe(e){const{availableQualities:t,transcodeServer:a,currentDecision:n,currentBandwidth:i,mediaItem:r,canPlayAdaptiveBitrate:s}=e;if(!r)return[];const o=[],{maxUploadBitrate:l}=a,{bitrate:c}=r,d=!l||c&&l>c,u=n&&n.canPlayOriginalQuality;return d&&u&&o.push(function(e){const t=Qqe(Wqe(e.width,e.height,e.bitrate));return{index:Tie.a.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:Yqe([Object(Ce.default)("Original"),Kqe(t)]),conversionDescription:Object(Ce.default)("Play Original Quality"),conversionDescriptionExtra:t}}(r)),s&&o.push(function(e,t){const a={index:Tie.a.CONVERT_AUTOMATICALLY,explicitQuality:!1,conversionDescription:Object(Ce.default)("Convert Automatically")};if(e&&e.qualityIndex===Tie.a.CONVERT_AUTOMATICALLY&&t){const e=Qqe({bitrate:Object(oi.default)(t.bandwidth),resolution:t.resolution});a.conversionDescriptionSummary=Object(Ce.default)("Auto (Now: {bitrateWithResolution})",{bitrateWithResolution:e}),a.conversionDescriptionExtra=Object(Ce.default)("Now: {bitrateWithResolution}",{bitrateWithResolution:e})}else a.conversionDescriptionSummary=Object(Ce.default)("Convert Automatically");return a}(n,i)),d&&!u&&o.push(function(e){const t=Wqe(e.width,e.height,e.bitrate),a=Gqe(t),n=a?Object(Ce.default)("Convert to"):Object(Ce.default)("Convert");return{index:Tie.a.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:Object(Ce.default)("Convert (Maximum)"),conversionDescription:Yqe([n,a,Kqe(Object(Ce.default)("Maximum"))]),conversionDescriptionExtra:t.bitrate}}(r)),o.push(...t.map(_qe).reverse()),o}function _qe(e){const t=e.videoResolution.split("x"),a=Wqe(t[0],t[1],e.bitrate),n=Qqe(a),i=Gqe(a);return{index:e.index,explicitQuality:!0,conversionDescriptionSummary:Yqe([Object(Ce.default)("Convert"),Kqe(n)]),conversionDescription:Yqe([Object(Ce.default)("Convert to"),i]),conversionDescriptionExtra:a.bitrate}}function Wqe(e,t,a){const n=function(e,t,a){if(!e&&!t)return{resolution:"",description:"",descriptionExtra:""};const n=Object(Vqe.a)(e,t);return{resolution:n+"p",description:Bqe(n),descriptionExtra:Fqe(n,a)}}(e,t,a);return{bitrate:Object(oi.default)(a),resolution:n.resolution,resolutionDescription:n.description,resolutionDescriptionExtra:Kqe(n.descriptionExtra)}}function Qqe(e){const t=Yqe([e.resolution,e.resolutionDescription]);return e.bitrate?Yqe([e.bitrate,t],", "):t}function Gqe(e){return Yqe([e.resolution,e.resolutionDescription,e.resolutionDescriptionExtra])}function Kqe(e){return e&&0!==e.length?"("+e+")":""}function Yqe(e,t=" "){return e.filter(e=>e).join(t)}var qqe=function(){return Object(he.a)(BM,rBe(),jVe(),(e,t,a)=>EJ(t,a,e))},Zqe=a("UHzi"),Xqe=a("Cu2K"),Jqe=a.n(Xqe);class $qe extends g.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onQualitySelect(this.props.conversionQualityIndex)}}render(){const{conversionQualityIndex:e,conversionQuality:t,isSelected:a,isHidden:n}=this.props;return y.a.createElement(uc.a,{key:e,isSelected:a,isHidden:n,onPress:this.onPress},t.conversionDescription,t.conversionDescriptionExtra?y.a.createElement("span",{className:Jqe.a.itemExtraDetail,"data-qa-id":"playbackBitrateQuality"},t.conversionDescriptionExtra):null)}}var eZe=$qe,tZe=a("hG+J"),aZe=a.n(tZe);const nZe={placement:"top-start"};class iZe extends g.Component{constructor(e,t){super(e,t),this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onQualitySelect=e=>{"toggleShowAll"!==e?(this.setState({isMenuOpen:!1}),this.props.onQualityChange(e)):this.setState({showAll:!0,qualities:this._getQualityMenuValues(this.props.availableQualities,this.props.qualityIndex,!0)})};const a=!this._canToggleShowAll(e.availableQualities);this.state={isMenuOpen:!1,showAll:a,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,a)},this._menuInputButtonID=Object(gf.a)()}componentWillReceiveProps(e){const t=e.qualityIndex!==this.props.qualityIndex,a=e.availableQualities!==this.props.availableQualities;if(t||a){let t=this.state.showAll;!a||t||this._canToggleShowAll(e.availableQualities)||(t=!0),this.setState({showAll:t,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,t)})}}_canToggleShowAll(e){const t=e.some(e=>!0===e.explicitQuality),a=!!M.a.findWhere(e,{index:aC.a.CONVERT_AUTOMATICALLY});return t&&a}_getQualityMenuValues(e,t,a){const n=e.filter(e=>a||!e.explicitQuality||e.index===t);return n.push({index:"toggleShowAll",conversionDescription:Object(Ce.default)("Show all")}),n}render(){const e=this.props.qualityIndex,t=this.state.qualities,a=t.find(t=>t.index===e);return y.a.createElement(Tq.a,{id:this._menuInputButtonID,"data-qa-id":"videoQuality",size:cc.b,direction:this.state.isMenuOpen?lc.c:lc.a,onPress:this.onToggleMenuPress},a.conversionDescriptionSummary,y.a.createElement(Xs.a,{className:aZe.a.menu,isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,options:nZe,onMenuClose:this.onMenuClose},t.map(t=>y.a.createElement(eZe,{key:t.index,conversionQualityIndex:t.index,conversionQuality:t,isSelected:t.index===e,isHidden:this.state.showAll&&"toggleShowAll"===t.index,onQualitySelect:this.onQualitySelect}))))}}var rZe=iZe;var sZe=function(){return Object(he.a)(BB(),Object(AI.a)(),(e,t)=>{if(!e)return;const a=t.find(t=>t.uuid===e.activityUUID);return a?a.Context&&a.Context.signalStrength:void 0})};var oZe=function(e){const{signalStrength:t}=e;return null==t?null:y.a.createElement(dWe,{label:Object(Ce.default)("Antenna Signal Strength")},t,"%")};var lZe=Object(v.b)((function(){return Object(he.c)({signalStrength:sZe()})}))(oZe),cZe=a("mkKI"),dZe=a.n(cZe);var uZe=function(e){const{offset:t,isDisabled:a,onPress:n}=e;return y.a.createElement(jI.a,{isSelected:!a,isDisabled:a,onPress:n},t||0," ms ",y.a.createElement(os.a,{className:dZe.a.icon}))},pZe=a("zsFO"),mZe=a.n(pZe);class hZe extends g.Component{constructor(e,t){super(e,t),this.onSubtitleStreamChange=e=>{"more"===e?this.onMoreSubtitlesPress():"upload"===e?this.onUploadSubtitlesPress():this.props.onSubtitleStreamChange(e)},this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){const{bottom:e,serverEntityID:t,metadataItemEntityID:a,playerType:n,availableQualities:i,audioDevices:r,audioStreams:s,selectedAudioStream:o,selectedAudioDevice:l,subtitlesStreams:c,selectedSubtitlesStream:d,selectedSubtitlesColor:u,selectedSubtitlesPosition:p,selectedSubtitlesSize:m,autoPlay:h,qualityIndex:g,canSetVideoQuality:f,canSetAudioStream:b,canSetSubtitleStream:v,canSetSubtitleColor:I,canSetSubtitlePosition:S,canSetSubtitleSize:E,canSetSubtitleOffset:O,canSetAutoPlay:M,canShowMoreSubtitlesAction:C,canShowUploadSubtitlesAction:j,canShowLiveTVSignalStrength:D,onQualityChange:P,onAudioDeviceChange:T,onAudioStreamChange:w,onSubtitleColorChange:N,onSubtitlePositionChange:x,onSubtitleSizeChange:A,onAutoPlayChange:L,onSubtitleOffsetPress:k}=this.props,{isSubtitlesModalOpen:R,isSubtitlesUploadModalOpen:z}=this.state,U=v&&(C||j||c.length>1),V=U&&I,B=U&&S,F=U&&E,H=U&&O,_=f&&!!i.length&&null!=g&&i.findIndex(e=>e.index===g)>-1,W=!!d&&d.id!==eC.a&&!Object(Zqe.a)(d.codec),Q=F&&W,G=V&&W,K=B&&W,Y=H&&W&&!!d&&!!d.key;let q;return U&&(q=c.map(e=>{const a=y.a.createElement(y.a.Fragment,null,y.a.createElement(xJ,{serverEntityID:t,type:"subtitles",stream:e}),e.title?y.a.createElement("span",{className:mZe.a.extendedTitle},e.title):null);return{[e.id]:a}}),C&&q.push({more:Object(Ce.default)("Search...")}),j&&q.push({upload:Object(Ce.default)("Upload...")})),y.a.createElement(y.a.Fragment,null,y.a.createElement(sWe,{bottom:e},_?y.a.createElement(dWe,{label:Object(Ce.default)("Quality")},y.a.createElement(rZe,{qualityIndex:g,availableQualities:i,onQualityChange:P})):null,y.a.createElement(dWe,{label:Object(Ce.default)("Audio Stream")},b&&s.length>1?y.a.createElement(nWe,{name:"audioStream",size:cc.b,value:""+o.id,overrideSelectedValue:y.a.createElement(xJ,{serverEntityID:t,type:"audio",stream:o}),values:s.map(e=>{const a=y.a.createElement(y.a.Fragment,null,y.a.createElement(xJ,{serverEntityID:t,type:"audio",stream:e}),e.title?y.a.createElement("span",{className:mZe.a.extendedTitle},e.title):null);return{[e.id]:a}}),onChange:w}):y.a.createElement(xJ,{serverEntityID:t,type:"audio",stream:o})),r&&r.length>1?y.a.createElement(dWe,{label:Object(Ce.default)("Audio Device")},y.a.createElement(nWe,{name:"audioDevice",size:cc.b,value:l.name,values:r.map(e=>({[e.name]:QOe(e)})),onChange:T})):null,y.a.createElement(dWe,{label:Object(Ce.default)("Subtitles")},U?y.a.createElement(nWe,{name:"subtitleStream",size:cc.b,value:""+d.id,overrideSelectedValue:y.a.createElement(xJ,{serverEntityID:t,type:"subtitles",stream:d}),values:q,onChange:this.onSubtitleStreamChange}):y.a.createElement(xJ,{serverEntityID:t,type:"subtitles",stream:d})),V?y.a.createElement(dWe,{label:Object(Ce.default)("Subtitle Color"),isDisabled:!G},y.a.createElement(nWe,{name:"subtitleColor",size:cc.b,value:u,values:lOe.settings.map(e=>({[e.value]:e.title})),onChange:N})):null,B?y.a.createElement(dWe,{label:Object(Ce.default)("Subtitle Position"),isDisabled:!K},y.a.createElement(nWe,{name:"subtitlePosition",size:cc.b,value:p,values:dOe.settings.map(e=>({[e.value]:e.title})),onChange:x})):null,F?y.a.createElement(dWe,{label:Object(Ce.default)("Subtitle Size"),isDisabled:!Q},y.a.createElement(nWe,{name:"subtitleSize",size:cc.b,value:m.toString(),values:pOe.settings.map(e=>({[e.value]:e.title})),onChange:A})):null,H?y.a.createElement(dWe,{label:Object(Ce.default)("Subtitles Offset"),isDisabled:!Y},y.a.createElement(uZe,{offset:d.offset,isDisabled:!Y,onPress:k})):null,M?y.a.createElement(dWe,{label:Object(Ce.default)("Auto Play")},y.a.createElement(v9.a,{name:"autoPlay",size:cc.c,value:h,onChange:L})):null,D?y.a.createElement(lZe,{serverEntityID:t,playerType:n}):null),y.a.createElement(I$,{metadataItemEntityID:a,isOpen:R,onModalClose:this.onSubtitlesModalClose}),y.a.createElement(z$,{metadataItemEntityID:a,isOpen:z,onModalClose:this.onSubtitlesUploadModalClose}))}}var gZe=hZe;const yZe={dispatchChangeQualityIndex:IVe.k,dispatchChangeStream:IVe.l,dispatchChangeSubtitleColor:IVe.m,dispatchChangeSubtitlePosition:IVe.o,dispatchChangeSubtitleSize:IVe.p,dispatchSelectAudioDevice:HI.l,dispatchSetAutoPlay:XM.F,dispatchTogglePlayerSubtitlesOffsetState:IVe.I};class fZe extends g.Component{constructor(){super(...arguments),this.onQualityChange=e=>{const{playerType:t,dispatchChangeQualityIndex:a}=this.props;a({playerType:t,qualityIndex:parseInt(e,10)})},this.onAudioStreamChange=e=>{const{playerType:t,dispatchChangeStream:a}=this.props;a({playerType:t,streamTypeString:"audio",streamID:e})},this.onAudioDeviceChange=e=>{const{dispatchSelectAudioDevice:t}=this.props;t({deviceName:e})},this.onSubtitleStreamChange=e=>{const{playerType:t,dispatchChangeStream:a}=this.props;a({playerType:t,streamTypeString:"subtitles",streamID:e})},this.onSubtitleColorChange=e=>{const{playerType:t,dispatchChangeSubtitleColor:a}=this.props;a({playerType:t,subtitleColor:e})},this.onSubtitlePositionChange=e=>{const{playerType:t,dispatchChangeSubtitlePosition:a}=this.props;a({playerType:t,subtitlePosition:e})},this.onSubtitleSizeChange=e=>{const{playerType:t,dispatchChangeSubtitleSize:a}=this.props;a({playerType:t,subtitleSize:parseInt(e,10)})},this.onAutoPlayChange=e=>{const{playerType:t,dispatchSetAutoPlay:a}=this.props;a({playerType:t,autoPlay:e})},this.onSubtitleOffsetPress=()=>{const{playerType:e,dispatchTogglePlayerSubtitlesOffsetState:t}=this.props;t({playerType:e})}}render(){const{dispatchChangeQualityIndex:e,dispatchChangeStream:t,dispatchChangeSubtitleSize:a,dispatchSetAutoPlay:n,...i}=this.props;return y.a.createElement(gZe,{...i,onQualityChange:this.onQualityChange,onAudioDeviceChange:this.onAudioDeviceChange,onAudioStreamChange:this.onAudioStreamChange,onSubtitleStreamChange:this.onSubtitleStreamChange,onSubtitleColorChange:this.onSubtitleColorChange,onSubtitlePositionChange:this.onSubtitlePositionChange,onSubtitleSizeChange:this.onSubtitleSizeChange,onAutoPlayChange:this.onAutoPlayChange,onSubtitleOffsetPress:this.onSubtitleOffsetPress})}}var bZe=Object(v.b)((function(){return Object(he.a)((e,{isWatchTogether:t})=>t,UB("controllable"),Object(he.a)(Object(he.c)({availableQualities:UB("availableQualities"),transcodeServer:QVe(),currentDecision:OVe(),currentBandwidth:Object(he.a)(iBe(["bandwidthTimeline","positionSeconds"]),OVe(),(e,t)=>{const a=e.bandwidthTimeline;if(!(t&&a&&a.bandwidths&&a.transcodeSessionID&&a.transcodeSessionID===t.transcodeSessionID))return null;const n=1e3*e.positionSeconds,i=a.bandwidths.filter(e=>parseInt(e.time,10)<=n);return 0===i.length?null:M.a.max(i,e=>parseInt(e.time,10))}),mediaItem:BVe(),canPlayAdaptiveBitrate:Object(he.a)(FM,QVe(),BB(),(e,t,a)=>gOe()&&t.hasAdaptiveBitrate&&!e&&!a)}),Hqe),HVe(),QVe(),UB("qualityIndex"),UB("serverEntityID"),yMe(),rBe(),jVe(),Uqe(),qqe(),OVe(),ge.a,eWe,tWe,(e,t,a,n,i,r,s,o,l,c,d,u,p,m,h,g)=>{const y=o.protocols.includes(XC.a),f=!y&&(!(!p||!p.subtitlesUrl)||Object(dge.a)()),b=n.selectedSubtitlesStream;return{serverEntityID:s,metadataItemEntityID:c?c.entityID:null,availableQualities:a,audioDevices:h,audioStreams:n.audioStreams,selectedAudioStream:n.selectedAudioStream,selectedAudioDevice:g,subtitlesStreams:n.subtitlesStreams,selectedSubtitlesStream:b,selectedSubtitlesColor:m.subtitleColor,selectedSubtitlesPosition:m.subtitlePosition,selectedSubtitlesSize:m.subtitleSize,autoPlay:m.autoPlay,canSetVideoQuality:t?!!t.quality:!!i.transcoderVideo&&!i.transcoderVideoRemuxOnly,canSetAudioStream:!t||!!t.audioStream,canSetSubtitleStream:!t||!!t.subtitleStream,canSetSubtitleColor:t?!!t.subtitleColor:f,canSetSubtitlePosition:t?!!t.subtitlePosition:f,canSetSubtitleSize:t?!!t.subtitleSize:!y&&!(!b||!b.id),canSetSubtitleOffset:t?!!t.subtitleOffset:f,canSetAutoPlay:t?!!t.autoPlay:!y&&!e,canShowMoreSubtitlesAction:d,canShowUploadSubtitlesAction:u,canShowLiveTVSignalStrength:y&&!l.isCloud,qualityIndex:r}})}),yZe)(fZe),vZe=a("dEGP"),IZe=a.n(vZe);const SZe=parseInt(yu.a.watchTogetherLobbyPosterWidth,10),EZe=parseInt(yu.a.watchTogetherLobbyTitleHeight,10);function OZe(){return{isMeasured:!1,width:0,height:0}}var MZe=function(e){const{serverEntityID:t,providerEntityID:a,type:n,subtype:i,posterUrl:r}=e,[s,o]=Object(g.useState)(null),[l,c]=Object(g.useState)(OZe);return Object(g.useEffect)(()=>{let e=null;if(l.isMeasured){const t=Math.min(Object(eM.e)(SZe,n,i,XO.t),l.height-EZe);e={height:t,width:Object(eM.f)(t,n,i,XO.t)}}o(e)},[l,n,i]),y.a.createElement(VO.a,{className:IZe.a.container,onMeasure:c},y.a.createElement("div",{className:IZe.a.title},Object(Ce.default)("Watch Together")),null!=s?y.a.createElement("div",{style:s},y.a.createElement($O.a,{serverEntityID:t,providerEntityID:a,type:n,width:s.width,height:s.height,url:r})):null)};var CZe=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),(e={})=>({type:e.type,subtype:e.subtype,posterUrl:e.thumb}))}))(MZe);var jZe=function({adDisplayIndex:e,adDisplayTotal:t,className:a,isAdPlaying:n,isPresent:i,isReady:r,isWatching:s}){let o;return o=n?t>1?Object(Ce.default)("Playing ad {index} of {total}",{index:e,total:t}):Object(Ce.default)("Playing ad"):s?Object(Ce.default)("Watching"):r?Object(Ce.default)("Ready"):i?Object(Ce.default)("Buffering..."):Object(Ce.default)("Invited"),y.a.createElement("div",{className:a,title:o},o)};var DZe=function({className:e,title:t}){return y.a.createElement("div",{className:e,title:t},t)};var PZe=a("MLKk"),TZe=a.n(PZe);var wZe=Object(g.memo)((function(e){const{serverEntityID:t,watchTogetherRoomEntityID:a,cellWidth:n}=e,i=Object(KO.a)(e),r=Object(sE.a)();return y.a.createElement(jI.a,{className:TZe.a.container,style:i.style,onPress:r.onOpen},y.a.createElement("span",{className:TZe.a.posterCardContainer,style:{width:n,height:n}},y.a.createElement(Df.a,{className:TZe.a.icon})),y.a.createElement("div",{className:TZe.a.titleContainer},y.a.createElement(XH,{title:Object(Ce.default)("Invite..."),component:DZe,isSecondary:!1})),y.a.createElement(Id.a,{serverEntityID:t,watchTogetherRoomEntityID:a,isOpen:r.isOpen,onModalClose:r.onClose}))})),NZe=a("+K/F"),xZe=a.n(NZe);var AZe=Object(g.memo)((function(e){const{serverEntityID:t,providerEntityID:a,titleComponents:n,listType:i,cellWidth:r,thumb:s,title:o,adDisplayIndex:l,adDisplayTotal:c,isAdPlaying:d,isWatching:u,isPresent:p,isReady:m}=e,h=Object(KO.a)(e);return y.a.createElement("div",{style:h.style},y.a.createElement("span",{className:xZe.a.posterCardContainer},y.a.createElement(Zq,{className:xZe.a.card,serverEntityID:t,providerEntityID:a,imageWidth:r,imageHeight:r,imageUrl:s,tagType:i})),y.a.createElement("div",{className:xZe.a.titleContainer},n.map((e,t)=>y.a.createElement(XH,{key:t,title:o,adDisplayIndex:l,adDisplayTotal:c,isAdPlaying:d,isWatching:u,isPresent:p,isReady:m,component:e,isSecondary:t>0}))))})),LZe=a("ETIq"),kZe=a.n(LZe);const RZe={isInviteUser:!0};function zZe(e){const{className:t,serverEntityID:a,providerEntityID:n,watchTogetherRoomEntityID:i,users:r,shouldShowInviteUsers:s,listContext:o}=e,l=function(e){switch(e){case XO.t:return[DZe,jZe];default:return[]}}(XO.t),c=s?[...r,RZe]:r;return y.a.createElement(GH,{className:t,hubIdentifier:"watchTogetherParticipants",title:Object(Ce.default)("Participants"),size:c.length,listType:"participant",listContext:o,columnAdjustment:1,keyPropName:"userKey",items:c,layout:aB("participant",null,o,1,l.length),cellRenderer:(d={serverEntityID:a,providerEntityID:n,watchTogetherRoomEntityID:i,titleComponents:l,listType:"participant"},e=>{const t=e.isInviteUser?wZe:AZe;return y.a.createElement(t,{...d,...e})})});var d}zZe.defaultProps={className:kZe.a.hubCell};var UZe=zZe;function VZe(e,t){var a,n;const i=(null==(a=e.title)?void 0:a.toLowerCase())||"",r=(null==(n=t.title)?void 0:n.toLowerCase())||"";return i&&!r?-1:!i&&r||i>r?1:i<r?-1:0}const BZe=Object(he.a)(kR,RR,(e,t)=>t.find(t=>{var a;return t.id===(null==(a=e.session)?void 0:a.roomID)}));var FZe=Object(v.b)((function(){return Object(he.a)(UB("providerEntityID"),UB("serverEntityID"),Object(he.a)(GKe,BZe,(e,t)=>{const a=t?t.users.filter(t=>!e.users.find(e=>e.id===t.id)):[],n=e.users.map(t=>{const a=e.users.filter(e=>e.id===t.id).length>1,n=t.title||Object(Ce.default)("Unknown");return{...t,title:a||!t.title?`${n} (${t.deviceName})`:n}});return a.concat(n).sort(VZe).map(e=>({...e,userKey:e.deviceIdentifier||e.id}))}),BZe,(e,t,a,n)=>({providerEntityID:e,serverEntityID:t,shouldShowInviteUsers:!!n,watchTogetherRoomEntityID:null==n?void 0:n.entityID,users:a}))}))(UZe),HZe=a("4XqK"),_Ze=a.n(HZe);var WZe=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,playerType:i}=e;return y.a.createElement("div",{className:_Ze.a.container},y.a.createElement("div",{className:_Ze.a.row},y.a.createElement("div",{className:_Ze.a.poster},y.a.createElement(CZe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,playerType:i})),y.a.createElement(XD.a,{className:_Ze.a.details,smoothScroll:!1,autoScroll:!0},y.a.createElement(pqe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,showStreams:!1}))),y.a.createElement(FZe,{className:_Ze.a.hubCell,playerType:i,listContext:XO.t}))};var QZe=Object(v.b)((function(){return Object(he.a)(zB(),EVe(),(e,t)=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:t.metadataItem}))}))(WZe),GZe=a("Sua+"),KZe=a.n(GZe);var YZe=function(e){const{bottom:t,playerType:a,onDimensionsChange:n}=e;return y.a.createElement(GHe,{className:KZe.a.container,bottom:t,onDimensionsChange:n},y.a.createElement(FZe,{playerType:a,listContext:XO.k}))},qZe=a("rG5p"),ZZe=a("yHQc"),XZe=a.n(ZZe);var JZe=function(e){const{serverEntityID:t,providerEntityID:a,notification:n,user:i,onRemoveToast:r}=e;return Object(g.useEffect)(()=>{const e=n.timestamp+3e3-Date.now(),t=()=>{r({uid:n.uid})};let a;return e>0?a=window.setTimeout(t,e):t(),()=>{a&&(a=window.clearTimeout(a))}},[r,n]),y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:XZe.a.posterCardContainer},y.a.createElement(Zq,{className:XZe.a.card,serverEntityID:t,providerEntityID:a,imageWidth:30,imageHeight:30,imageUrl:i.thumb,tagType:"participant"})),function(e,t){const a=t.title||Object(Ce.default)("Unknown");let n;switch(e){case qZe.a:n=Object(Ce.default)("{openSpan}{username}{closeSpan} joined",{username:a});break;case qZe.b:n=Object(Ce.default)("{openSpan}{username}{closeSpan} left",{username:a});break;case qZe.c:n=Object(Ce.default)("{openSpan}{username}{closeSpan} paused",{username:a});break;case qZe.d:n=Object(Ce.default)("{openSpan}{username}{closeSpan} resumed",{username:a});break;case qZe.e:n=Object(Ce.default)("{openSpan}{username}{closeSpan} seeked",{username:a})}return y.a.createElement(LT.a,{message:n,tags:[{open:"openSpan",close:"closeSpan",component:"span",className:XZe.a.username}]})}(n.type,i))},$Ze=a("vMaE"),eXe=a.n($Ze);const tXe=Object(jl.a)(Mr.a.slowSpeed),aXe={enter:{opacity:1,duration:tXe},exit:{opacity:0,duration:tXe}};function nXe(e){const{className:t,serverEntityID:a,providerEntityID:n,notifications:i,users:r,isControlsVisible:s,onRemoveToast:o}=e;return s?null:y.a.createElement("div",{className:eXe.a.container},y.a.createElement(Cl.a,null,i.map(e=>y.a.createElement(Cl.b.div,{key:e.uid,initial:"exit",animate:"enter",exit:"exit",variants:aXe,className:t},y.a.createElement(JZe,{serverEntityID:a,providerEntityID:n,notification:e,user:r.find(t=>t.id===e.userID),onRemoveToast:o})))))}nXe.defaultProps={className:eXe.a.toast};var iXe=nXe;const rXe={onRemoveToast:rU.d};var sXe=Object(v.b)((function(){return Object(he.a)(GKe,UB("serverEntityID"),UB("providerEntityID"),(e,t,a)=>({notifications:e.notifications,providerEntityID:a,serverEntityID:t,users:e.users}))}),rXe)(iXe),oXe=a("0BwR"),lXe=a.n(oXe);const cXe=parseInt(yu.a.playerControlsHeight,10),dXe=parseInt(yu.a.playerControlsNarrowHeight,10),uXe=parseInt(yu.a.playerInfoBarHeight,10),pXe=parseInt(yu.a.playerOverlayActionEdgeGutter,10);function mXe(e,t){return e.isRemotePlayer||e.isMusic||e.isSettingsVisible||e.isChaptersVisible||e.isSubtitlesOffsetSettingsVisible||e.isWatchTogetherParticipantsVisible||e.isPlayQueueVisible||e.isPostPlayVisible||e.isAlsoAiringVisible||e.isWatchTogetherLobbyVisible||t.isControlsMenuOpen||t.isCastMenuOpen||t.followMuteMenuOpenCount>0||t.disableInteractionTimer}function hXe({bottom:e,children:t}){return y.a.createElement("div",{className:lXe.a.content,style:{bottom:e}},t)}class gXe extends g.Component{constructor(e,t){super(e,t),this.onInteraction=e=>{const{keyCode:t}=e;t!==Tl.k&&t!==Tl.c&&(mXe(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)))},this.onInteractionTimeout=()=>{this.setState(({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1})),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},()=>{mXe(this.props,this.state)||this.onInteractionTimeout()})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onFollowMuteMenuChange=e=>{this.setState(t=>({followMuteMenuOpenCount:e?t.followMuteMenuOpenCount+1:t.followMuteMenuOpenCount-1}))},this.onAudioSettingsDimensionsChange=({scrollHeight:e})=>{this.setState({audioSettingsHeight:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,followMuteMenuOpenCount:0,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,mXe(this.props,this.state)||this._startInteractionTimer()}componentWillReceiveProps(e){mXe(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),nHe(e.marker)!==nHe(this.props.marker)&&this.setState({hideControlsCount:0}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){mXe(e,t)&&!mXe(this.props,this.state)&&this._startInteractionTimer(),!mXe(e,t)&&mXe(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{playerType:e,hasFullscreen:t,isRemotePlayer:a,isPlayQueueLoading:n,isMediaLoading:i,isPostPlayLoading:r,isBuffering:s,isFullscreen:o,isSettingsVisible:l,isChaptersVisible:c,isSubtitlesOffsetSettingsVisible:d,isWatchTogetherParticipantsVisible:u,isPlayQueueVisible:p,isAlsoAiringVisible:m,isLyricsVisible:h,isPostPlayVisible:g,isWatchTogetherLobbyVisible:f,isAdVisible:b,isVideo:v,isMusic:I,isNarrowLayout:S,currentSubType:E,hasLiveTVProtocol:O,hasGridFeature:M,hasMediaOverlays:C,isWatchTogether:j,seekStartMilliseconds:D,seekEndMilliseconds:P,bufferStartMilliseconds:T,bufferEndMilliseconds:w,adPositionMilliseconds:N,adDurationMilliseconds:x,ad:A,marker:L,onEnterFullscreenPress:k,onExitFullscreenPress:R,onToggleFullscreen:z,onSeekBarInteractionStart:U,onSeekBarInteractionEnd:V}=this.props,{hideControls:B,hideControlsCount:F,audioSettingsHeight:H}=this.state,_=(n||r||v&&!b&&(i||s))&&!g&&!m&&!f,W=!n&&l&&!c&&!p&&!m,Q=W&&I,G=W&&v,K=!n&&!l&&c&&!p&&!m,Y=!n&&p&&!m&&!l&&!c,q=!n&&!p&&m&&!l&&!c,Z=v&&!n&&!r&&!p&&!m&&!g&&!f,X=!Object(dge.a)()&&Z&&!b&&!i,J=f||(!b||p)&&(a||I||i||p||m||r||g),$=E===Co.NEWS,ee=S?dXe:cXe,te=!f&&(O||b||$)?ee+uXe:ee,ae=B?null:`translateY(${-te}px)`,ne=!(!A||!A.click),ie=!(!A||!A.clicksThrough),re={bottom:te+pXe+"px",right:pXe+"px"};return y.a.createElement(y.a.Fragment,null,C&&Z&&!b?y.a.createElement(MHe,{playerType:e}):null,J?y.a.createElement(bYe,{playerType:e,isVideo:v,isMusic:I,allowBlur:I||p||m||g||f}):null,p||m||!_?null:y.a.createElement("div",{className:lXe.a.spinnerContainer},y.a.createElement(HO.a,{size:cc.a})),X?y.a.createElement(kHe,{playerType:e,heightOffset:B?0:te}):null,!Z||b&&ie?null:y.a.createElement(J_e,{playerType:e,isCursorHidden:B,onToggleFullscreen:z}),b&&ne&&!f?y.a.createElement(Ih.a,{className:lXe.a.overlayButton,size:cc.a,style:re,onPress:A.click},Object(Ce.default)("Learn more")):null,Z&&!b?y.a.createElement(BHe,{marker:L,className:lXe.a.overlayButton,size:cc.a,style:re,playerType:e,isHidden:B&&F>1,isHiddenPolite:B}):null,n?null:y.a.createElement("div",{className:Pe()(lXe.a.topBar,B&&lXe.a.topBarHidden,v&&lXe.a.videoTopBar,p&&lXe.a.playQueueTopBar),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},y.a.createElement(K_e,{playerType:e,isFullscreen:o,hasFullscreen:t,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:k,onExitFullscreenPress:R})),n||p||h||!I?null:y.a.createElement(hXe,{bottom:te},y.a.createElement(hYe,{playerType:e,bottom:Q?H:null})),!n&&!p&&h&&I?y.a.createElement(hXe,{bottom:te},y.a.createElement(wYe,{playerType:e})):null,Q?y.a.createElement(gWe,{playerType:e,bottom:te,onDimensionsChange:this.onAudioSettingsDimensionsChange}):null,G?y.a.createElement(bZe,{bottom:te,playerType:e,isWatchTogether:j}):null,d?y.a.createElement(zqe,{bottom:te,playerType:e}):null,u?y.a.createElement(YZe,{bottom:te,playerType:e}):null,K?y.a.createElement(i_e,{bottom:te,playerType:e}):null,Y?y.a.createElement(hXe,{bottom:te},y.a.createElement(dqe,{playerType:e,isVideo:v,isMusic:I})):null,q?y.a.createElement(hXe,{bottom:te},y.a.createElement(j_e,{playerType:e,isVideo:v,isMusic:I,hasLiveTVProtocol:O,hasGridFeature:M})):null,n||!g||p||m?null:y.a.createElement(hXe,{bottom:te},y.a.createElement(Cqe,{playerType:e})),!n&&f?y.a.createElement(hXe,{bottom:te},y.a.createElement(QZe,{playerType:e})):null,y.a.createElement(xqe,{isControlsVisible:!B,playerType:e}),j&&!f?y.a.createElement(sXe,{isControlsVisible:!B,playerType:e}):null,n?null:y.a.createElement("div",{className:Pe()(lXe.a.bottomBar,B&&lXe.a.bottomBarHidden),style:{bottom:-te,height:te,WebkitTransform:ae,msTransform:ae,transform:ae},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},y.a.createElement(rYe,{playerType:e,isVideo:v,isMusic:I,isAdVisible:b,isPostPlayVisible:g,isWatchTogetherLobbyVisible:f,currentSubType:E,isWatchTogether:j,hasLiveTVProtocol:O,seekStartMilliseconds:D,bufferStartMilliseconds:T,bufferEndMilliseconds:w,seekEndMilliseconds:P,adPositionMilliseconds:N,adDurationMilliseconds:x,onFollowMuteMenuChange:this.onFollowMuteMenuChange,onControlsMenuChange:this.onControlsMenuChange,onSeekBarInteractionStart:U,onSeekBarInteractionEnd:V})))}}var yXe=gXe,fXe=a("bIaj"),bXe=a.n(fXe);var vXe=function(e){const{className:t,children:a,isPlayQueueLoading:n}=e;return y.a.createElement("div",{className:Pe()(t,n&&bXe.a.playQueueIsLoading)},n?y.a.createElement(HO.a,null):a)};var IXe=function(e){return y.a.createElement(vXe,{isPlayQueueLoading:e.isPlayQueueLoading},y.a.createElement(rYe,{...e}))};var SXe=function(e){return y.a.createElement(aHe,{...e,playerType:Oe.a,mediaComponent:e.isMusic?nBe:QFe,playerComponent:e.isMiniPlayer?IXe:yXe})};const EXe=Object(v.b)((function(){return Object(he.a)((e,{isMiniPlayer:t})=>t,zB(),OVe(),EVe(),yMe(),Object(he.a)(CVe(),UB("positionSeconds"),(e,t)=>{const a=1e3*t;return e.find(e=>e.startTimeOffset<=a&&e.endTimeOffset>a)}),Object(he.a)(MVe(),Lt.a,Am.a,(e,t,a)=>{let n,i;if(e){const r=a[e.serverEntityID],s=t[e.providerEntityID];n=null==r?void 0:r.machineIdentifier,i=null==s?void 0:s.identifier}return{machineIdentifier:n,providerIdentifier:i}}),PVe(),(e,t,a,n,i,r,s,o)=>{var l;let c,d,u;if(n){const e=Object(wo.getMetadataType)(n.type);c=e&&e.mediaType,d=n.subtype,u=n.vast}const p=c===_s.a,m=c===_s.e,{machineIdentifier:h,providerIdentifier:g}=s;return{marker:r,isMusic:p,isVideo:m,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPostPlayLoading:t.isPostPlayLoading,isBuffering:t.isBuffering,isWatchTogether:t.isWatchTogether,isSettingsVisible:t.isSettingsVisible,isChaptersVisible:t.isChaptersVisible,isSubtitlesOffsetSettingsVisible:t.isSubtitlesOffsetSettingsVisible,isWatchTogetherParticipantsVisible:t.isWatchTogetherParticipantsVisible,isPlayQueueVisible:t.isPlayQueueVisible,isAlsoAiringVisible:t.isAlsoAiringVisible,isLyricsVisible:t.isLyricsVisible,isPostPlayVisible:t.isPostPlayVisible,isWatchTogetherLobbyVisible:t.isWatchTogetherLobbyVisible,hasError:t.hasError,hasConflicts:t.hasConflicts,hasMediaOverlays:!!(null==(l=null==o?void 0:o.Overlay)?void 0:l.length),confirmLiveTVPlayback:t.confirmLiveTVPlayback,hasGridFeature:!!i&&i.features.some(e=>e.type===nS.e),hasLiveTVProtocol:!!i&&i.protocols.includes(XC.a),showBackgroundVideoPlayer:!(!u&&!a||e),currentMediaType:c,currentSubType:d,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,confirmNewsSunsetPayload:t.confirmNewsSunsetPayload,advertisingNoticePayload:t.advertisingNoticePayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,adState:t.adState,adPositionSeconds:t.adPositionSeconds,adDurationSeconds:t.adDurationSeconds,adDisplayIndex:t.adDisplayIndex,adDisplayTotal:t.adDisplayTotal,vast:u,bufferedRanges:t.bufferedRanges,machineIdentifier:h,providerIdentifier:g}})}),(function(e,t){const{playerType:a}=t;return{onUpdateBufferedRanges(t){e(IVe.K({playerType:a,bufferedRanges:t}))},onUpdateCurrentAd(t){e(Ze.C({...t,playerType:a}))}}}))(SXe);EXe.propTypes={...EXe.propTypes,isMiniPlayer:Qn.a.bool,playerType:Qn.a.string.isRequired};var OXe=EXe;var MXe=function(){return Object(he.a)(e=>e.user.id,Object(E.c)("selectRestorePlayQueue"),Lt.a,Am.a,(e,t,a,n)=>{let i;t&&t[e]&&(i=t[e]);const r=i&&a[i.providerEntityID],s=i&&n[i.serverEntityID];if(i&&i.playQueueID&&s&&s.isConnected&&r&&r.isPopulated)return i})};const CXe={dispatchRestorePlayQueue:XM.D,dispatchEndPlayback:Ze.p,dispatchUpdatePlayerError:IVe.P};class jXe extends g.Component{constructor(){super(...arguments),this.onEnterFullscreen=()=>{Object(E.c)("fullscreenManager").enter()},this.onExitFullscreen=()=>{Object(E.c)("fullscreenManager").exit()},this.onToggleFullscreen=()=>{this.props.isFullscreen?this.onExitFullscreen():this.onEnterFullscreen()}}componentDidMount(){this._restorePlayQueue(),this.props.isServerlessPlayer&&this.props.dispatchEndPlayback({playerType:this.props.playerType})}componentWillUnmount(){this.props.isOpen&&this.props.dispatchEndPlayback({playerType:this.props.playerType,isForced:!0})}componentDidUpdate(e){const{dispatchEndPlayback:t,isFullscreen:a,isMiniPlayer:n,isOpen:i,isServerlessPlayer:r,playerType:s}=this.props;this._restorePlayQueue(),r&&!e.isServerlessPlayer&&t({playerType:s});const o=Object(E.c)("fullscreenManager"),l=!i&&e.isOpen,c=n&&!e.isMiniPlayer;a&&(l||c)&&o.shouldExitOnPlayerClose&&this.onExitFullscreen()}componentDidCatch(e,t){C.a.error(e),this.props.dispatchEndPlayback({playerType:this.props.playerType}),this.props.dispatchUpdatePlayerError({playerType:this.props.playerType,errorMessage:Object(Ce.default)("There was an unexpected error during playback. Please visit our forums if you continue to experience problems.")})}_restorePlayQueue(){const{playerType:e,isOpen:t,restorePlayQueuePayload:a,dispatchRestorePlayQueue:n}=this.props;if(!t&&a){e===Object(Oe.d)(a.playQueueType)&&n(a)}}render(){const{component:e,isServerlessPlayer:t,restorePlayQueuePayload:a,dispatchRestorePlayQueue:n,dispatchEndPlayback:i,dispatchUpdatePlayerError:r,...s}=this.props;return t?null:y.a.createElement(e,{...s,onEnterFullscreenPress:this.onEnterFullscreen,onExitFullscreenPress:this.onExitFullscreen,onToggleFullscreen:this.onToggleFullscreen})}}var DXe=Object(v.b)((function(){return Object(he.a)(FM,e=>e.isFullscreen,zB(),rBe(),yMe(),MXe(),(e,t,a,n,i,r)=>{const{confirmPlayerUpsellPayload:s,isOpen:o,openState:l}=a;return{confirmPlayerUpsellPayload:s,isOpen:o,isServerlessPlayer:o&&(!n||!i),isMiniPlayer:l===$M.b,isRemotePlayer:e,isFullscreen:t,hasFullscreen:Object(E.c)("fullscreenManager").hasFullscreen,restorePlayQueuePayload:r}})}),CXe)(jXe);function PXe(e){return Object(he.a)(Object(YO.a)(),oM.a,sM.a,Bs.b,(t,a,n,i)=>e({server:a,provider:n,stableUser:i,metadataItem:t}))}const TXe=Object(v.b)((function(){return Object(he.a)(EVe(),PXe(rk.d),PXe(rk.e),PXe(rk.n),(e,{isVideo:t})=>t,(e,t,a,n,i)=>e?{playQueueItemEntityID:e.entityID,showEditButton:t,showFavoriteButton:a,showMenuButton:!0,showShuffleButton:!0,showUnfavoriteButton:n,showVolume:i}:{})}))(VGe);TXe.propTypes={...TXe.propTypes,providerEntityID:Qn.a.string.isRequired,metadataItemEntityID:Qn.a.string.isRequired,serverEntityID:Qn.a.string.isRequired,playerType:Qn.a.string.isRequired};var wXe=TXe;var NXe=function(e){const{playerType:t,bufferStartMilliseconds:a,bufferEndMilliseconds:n,positionMilliseconds:i,...r}=e;return y.a.createElement(vWe,null,y.a.createElement(OWe,null,y.a.createElement(tKe,{playerType:t,bufferStartMilliseconds:a,bufferEndMilliseconds:n,positionMilliseconds:i,showBuffer:!0}),y.a.createElement(jWe,{component:wXe,playerType:t,...r})))};var xXe=Object(v.b)((function(){return Object(he.a)(zB(),EVe(),DO.a,(e,t={},a)=>{const n=t.metadataItem,{serverEntityID:i,providerEntityID:r,type:s,Media:[o]}=a[n],l=s===wo.CLIP,c=o&&o.Part&&o.Part[0],d=c&&c.key;return{serverEntityID:i,providerEntityID:r,imageUrl:l?null:d}})}))(fYe),AXe=a("tN90"),LXe=a.n(AXe);var kXe=function(e){const{items:t,currentItem:a,size:n,firstIndex:i,renderSlide:r,width:s,height:o}=e;if(!t||!t.length)return null;const l=t.indexOf(a),c=M.a.range(Math.max(0,l-1),Math.min(n,l+1+1));return y.a.createElement("div",{className:LXe.a.magazine},c.map(e=>{const a=l===e,n=e+i,c=t[e],d={position:"absolute",width:s,height:o,transform:`translate3d(${(e-l)*s}px, 0, 0)`};return y.a.createElement("div",{key:n,className:a?LXe.a.currentSlide:LXe.a.slide,style:d},c?r(c):null)}))};var RXe=a("YhIo"),zXe=a.n(RXe);const UXe={width:"100%",height:"100%"};class VXe extends g.Component{constructor(){super(),this.onLoad=()=>{this.setState({loading:!1})},this.onError=()=>{this.setState({error:!0})},this.state={loading:!0,error:!1}}render(){const{serverEntityID:e,providerEntityID:t,url:a,maxWidth:n,maxHeight:i}=this.props,{width:r,height:s}=function(e,t,a=2073600){const n=e*t,i=a/Math.pow(Object(jye.a)(),2),r=Math.sqrt(Math.max(n/i,1));return{width:Math.round(e/r),height:Math.round(t/r)}}(n,i),{loading:o,error:l}=this.state;return y.a.createElement("div",{className:zXe.a.slideContainer},y.a.createElement("div",{className:zXe.a.statusContainer},o&&!l?y.a.createElement(HO.a,null):null,l?y.a.createElement("div",null,Object(Ce.default)("Unable to load photo")):null),y.a.createElement(ot.a,{key:a,serverEntityID:e,providerEntityID:t,url:a,width:r,height:s,containerStyle:UXe,backgroundSize:"contain",component:at.a,onLoad:this.onLoad,onError:this.onError}))}}var BXe=VXe;var FXe=Object(v.b)((function(){return Object(he.a)(Object(YO.a)(),Object(he.a)(Object(YO.a)(),e=>{if(!e||!e.Media)return{};const{type:t,thumb:a,Media:[n]}=e,i="clip"===t,r=n&&n.Part&&n.Part[0],s=r&&r.key;return i||!s?a:s}),(e,t)=>{if(!t||!Object.keys(t).length)return{isLoading:!0};const{serverEntityID:a,providerEntityID:n}=e;return{serverEntityID:a,providerEntityID:n,isLoading:!1,url:t}})}))((function(e){return e.isLoading?y.a.createElement(HO.a,null):y.a.createElement(BXe,{...e})}));var HXe=Object(v.b)((function(){return Object(he.a)(AYe(),e=>({playQueueItem:e}))}))((function(e){const{playQueueItem:t}=e;return t&&t.type===wo.PHOTO?y.a.createElement(FXe,{metadataItemEntityID:t.metadataItem,...e}):null})),_Xe=a("NYQO"),WXe=a.n(_Xe);class QXe extends g.Component{constructor(){super(...arguments),this.renderSlide=e=>{const{playQueueItemEntityID:t,width:a,height:n}=this.props,i=t===e;return y.a.createElement(HXe,{playQueueItemEntityID:e,isCurrent:i,maxWidth:a,maxHeight:n})}}render(){const{playQueueItemEntityIDs:e,playQueueItemEntityID:t,size:a,firstIndex:n,errorMessage:i,width:r,height:s}=this.props;return y.a.createElement("div",{className:WXe.a.carousel},i?y.a.createElement("div",{className:WXe.a.message},y.a.createElement("span",null,i)):null,r&&s&&e&&!i?y.a.createElement(kXe,{items:e,currentItem:t,size:a,firstIndex:n,width:r,height:s,renderSlide:this.renderSlide}):null)}}var GXe=QXe,KXe=a("rU2Z"),YXe=a.n(KXe);function qXe(e){const{hideOverlays:t,canSkipPrevious:a,canSkipNext:n,hasFullscreen:i,isFullscreen:r,isPhoto:s,onPlayNextItem:o,onPlayPreviousItem:l,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u,onToggleFullscreen:p}=e;return y.a.createElement("div",{className:t?YXe.a.hideOverlays:void 0},s?null:y.a.createElement(J_e,{className:YXe.a.playButton,playerType:Oe.b,isFullscreen:r,onEnterFullscreenPress:d,onExitFullscreenPress:u,onToggleFullscreen:p}),y.a.createElement("div",{className:YXe.a.topBar},y.a.createElement(K_e,{playerType:Oe.b,isFullscreen:r,hasFullscreen:i,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u})),y.a.createElement(ZO.a,{className:YXe.a.leftButton,iconComponent:zu,title:Object(Ce.default)("Previous Photo"),isDisabled:!a,onPress:l}),y.a.createElement(ZO.a,{className:YXe.a.rightButton,iconComponent:ku,title:Object(Ce.default)("Next Photo"),isDisabled:!n,onPress:o}))}qXe.defaultProps={hideOverlays:!1};var ZXe=qXe;const XXe=Object(yo.a)("ui/player/photoPlayer/fetchRelatedPhotos"),JXe=Object(MS.a)({"ui/player/photoPlayer/fetchRelatedPhotos"(e){const t=Object(iC.c)(e,"photo"),a=t.get("playQueue").get("currentIndex"),n=Object(iC.a)(t,a).get("metadataItem"),i=n.get("key"),r=j.default.join([i.replace("/library/","/hubs/"),"related"]),s=new vG.default([],{server:n.server,provider:n.provider,metadataItem:n,hubKey:r,hubCount:8});t.set({relatedHubs:s}),n.get("isLibraryItem")&&s.fetch()}});function $Xe(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-camera-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m0 116.61c0-15.307 12.07-27.717 26.949-27.717h95.55l64.35-81.71c3.123-3.965 9.675-7.18 14.634-7.18h157.04c4.959 0 11.512 3.216 14.634 7.18l64.35 81.71h95.55c14.884 0 26.949 12.412 26.949 27.717v335.68c0 15.307-12.06 27.717-26.945 27.717h-506.11c-14.881 0-26.945-12.413-26.945-27.717v-335.68m142.82 11.393h-102.82v36 276h480v-276-36h-102.81l-69.69-87.998h-135.16l-69.25 87.43-.261.566",transform:"translate(0 40)"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"m280 385.2c66.27 0 120-53.726 120-120 0-66.27-53.726-120-120-120-66.27 0-120 53.726-120 120 0 66.27 53.726 120 120 120m-80-120c0-44.18 35.817-80 80-80 44.18 0 80 35.817 80 80 0 44.18-35.817 80-80 80-44.18 0-80-35.817-80-80",transform:"translate(0 40)"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}$Xe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var eJe=$Xe;function tJe(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-tag-auto-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"m287.75.983c-28.03 2.775-53.66 11.968-70.36 28.646-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c14.328 14.336 35.21 17.958 52.735 11.06l-170.85-170.94c-20.817-20.828.024-41.68.024-41.68 27.762-27.819 244.06-244.19 244.06-244.19",transform:"translate(1 50)"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"m559.45 149.47l-.27-83.68c.237-16.899-5.994-33.8-18.799-46.612-12.806-12.813-29.697-19.05-46.48-18.7l-81.41-.293c-38.15-1.625-75.78 7.347-97.84 29.371-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c19.233 19.243 50.27 19.18 69.45-.007l201.48-201.59c21.605-21.658 30.65-58.23 29.482-95.6m-63.51-117.95c8.434-.788 17.14 2.048 23.599 8.509 6.438 6.441 9.275 15.12 8.511 23.534l-.136 109.96c-.777 20.799-8.03 39.93-22.269 54.18-.707.707-1.426 1.398-2.157 2.071-.424.482-.866.954-1.326 1.414l-187.55 187.65c-11.515 11.522-30.19 11.519-41.627.074l-132.12-132.19c-11.475-11.481-11.506-30.06.074-41.649l187.55-187.65c.458-.459.928-.899 1.408-1.321.674-.733 1.366-1.455 2.075-2.164 15.795-15.803 37.594-23 61.13-22.19l102.84-.222",transform:"translate(1 50)"}].concat([])),y.a.createElement.apply(y.a,["path",{d:"m435.92 172.81c-27.13 0-49.12-22-49.12-49.15 0-27.14 21.993-49.15 49.12-49.15 27.13 0 49.12 22 49.12 49.15 0 27.14-21.993 49.15-49.12 49.15",transform:"translate(1 50)"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}tJe.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var aJe=tJe;var nJe=function(e){return y.a.createElement(ot.a,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,url:e.url,width:110,height:110,component:at.a})},iJe=a("JW6f"),rJe=a.n(iJe);var sJe=function(e){const{serverEntityID:t,providerEntityID:a,summary:n,totalSize:i,url:r,icon:s,onPress:o}=e;return y.a.createElement("div",{className:rJe.a.hub,"data-qa-id":"relatedPhotoItem"},y.a.createElement(jI.a,{onPress:o},y.a.createElement("div",{className:rJe.a.container},y.a.createElement("div",{className:rJe.a.overlay},y.a.createElement("div",{className:rJe.a.title,"data-qa-id":"relatedPhotoName"},n),y.a.createElement("div",{className:rJe.a.count,"data-qa-id":"relatedPhotoCount"},s?y.a.createElement(ot.a,{className:rJe.a.icon,serverEntityID:t,providerEntityID:a,url:s,width:14,height:14}):y.a.createElement(aJe,null),y.a.createElement("span",null," ",i))),y.a.createElement("div",{className:rJe.a.body},y.a.createElement(nJe,{serverEntityID:t,url:r})))))};class oJe extends g.Component{constructor(){super(...arguments),this.onPress=()=>{window.location.href=this.props.hubLink,this.props.endPlayback({playerType:Oe.b})}}render(){return y.a.createElement(sJe,{onPress:this.onPress,...this.props})}}var lJe=Object(v.b)((function(){return Object(he.a)((e,{librarySectionKey:t})=>t,Object(RI.a)(),Object(xI.a)(),TO(),EV(),(e,t,a,n,i)=>({hubLink:Object(IH.a)(t,a,{key:i.key,title:i.title}),summary:i.summary,totalSize:i.totalSize,url:i.thumb,icon:i.icon}))}),{endPlayback:Ze.p})(oJe),cJe=a("0PCw"),dJe=a.n(cJe);var uJe=function(e){const{serverEntityID:t,providerEntityID:a,librarySectionKey:n,hubEntityIDs:i}=e;return i&&i.length?y.a.createElement("div",{className:dJe.a.container,"data-qa-id":"relatedPhotosContainer"},y.a.createElement("div",{className:dJe.a.title},Object(Ce.default)("Related Photos")),y.a.createElement("div",{className:dJe.a.list},i.map(e=>y.a.createElement(lJe,{key:e,serverEntityID:t,providerEntityID:a,librarySectionKey:n,hubEntityID:e})))):y.a.createElement("div",null)},pJe=a("i6oY"),mJe=a.n(pJe);var hJe=function(e){const{className:t,latitude:a,longitude:n}=e,[i,r]=Object(g.useState)(!0),[s,o]=Object(g.useState)(!1),l=Object(g.useCallback)(()=>r(!1),[]),c=Object(g.useCallback)(()=>o(!0),[]),d=`https://www.google.com/maps/search/?api=1&query=${a},${n}`,u={key:"59a999cb8f28fb0a54eb",center:`${a},${n}`,markers:`size:small|color:orange|{${a},${n}`},p=Object(jye.a)();return y.a.createElement("div",{className:t},y.a.createElement(VO.a,{className:mJe.a.map},({width:e,height:t})=>y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:mJe.a.underlay},i?y.a.createElement(HO.a,null):null,s?y.a.createElement("span",{className:mJe.a.error},Object(Ce.default)("Unable to load map.")):null),y.a.createElement(jI.a,{to:d,target:"_blank","aria-label":Object(Ce.default)("Open map in new window")},y.a.createElement(WBe.a,{width:e,height:t,src:j.default.join("https://maps.locationiq.com/v2/staticmap",{...u,size:`${e*p}x${t*p}`}),component:at.a,onLoad:l,onError:c})))))},gJe=a("QYx4"),yJe=a.n(gJe);var fJe=function(e){const{className:t,serverEntityID:a,providerEntityID:n,librarySectionKey:i,hubEntityIDs:r,type:s,model:o,width:l,height:c,container:d,iso:u,aperture:p,exposure:m,size:h,hasGeolocation:g,latitude:f,longitude:b}=e;return y.a.createElement("div",{className:Pe()(t,yJe.a.photoInformation)},y.a.createElement(XD.a,{className:yJe.a.scroller,autoScroll:!0},y.a.createElement("div",{className:yJe.a.exif},y.a.createElement("div",{className:yJe.a.line},o?y.a.createElement("div",null,o):y.a.createElement("div",null,"clip"===s?Object(Ce.default)("Video"):Object(Ce.default)("Photo")),y.a.createElement(eJe,null)),y.a.createElement("div",{className:yJe.a.line},l&&c?y.a.createElement("div",null,l," × ",c):null,h?y.a.createElement("div",null,Object(gte.a)(h)):null,d?y.a.createElement("div",{className:yJe.a.format},d):null),u?y.a.createElement("div",{className:yJe.a.line},y.a.createElement("div",null,Object(Ce.default)("ISO")," ",u),y.a.createElement("div",null,p),y.a.createElement("div",null,m)):null),y.a.createElement(uJe,{serverEntityID:a,providerEntityID:n,librarySectionKey:i,hubEntityIDs:r})),g?y.a.createElement(hJe,{className:yJe.a.map,latitude:f,longitude:b}):null)};const bJe={dispatchFetchRelatedPhotos:XXe};class vJe extends g.Component{componentDidMount(){this.props.dispatchFetchRelatedPhotos()}componentDidUpdate(e){e.metadataItemEntityID!==this.props.metadataItemEntityID&&this.props.dispatchFetchRelatedPhotos()}render(){const{dispatchFetchRelatedPhotos:e,...t}=this.props;return y.a.createElement(fJe,{...t})}}var IJe=Object(v.b)((function(){return Object(he.a)(zB(),jVe(),(e,t)=>{const{Media:a=[],Geolocation:n={},type:i}=t,r=n.Coordinates,s={serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,librarySectionKey:t.librarySectionKey,metadataItemEntityID:t.entityID,hubEntityIDs:e.relatedHubs||[],type:i,hasGeolocation:!!r};if(r&&(s.latitude=parseFloat(r.latitude),s.longitude=parseFloat(r.longitude)),a.length){const e=a[0],t=e.Part;s.size=t&&t[0].size,s.aperture=e.aperture,s.exposure=e.exposure,s.iso=e.iso,s.model=e.model,s.width=e.width,s.height=e.height,s.container=e.container}return s})}),bJe)(vJe);const SJe={width:"100%",height:"100%",top:0,position:"absolute",zIndex:0};class EJe extends g.Component{constructor(){super(...arguments),this.onPlayPress=()=>{this.props.onPlayPress&&this.props.onPlayPress(this.props.index)}}render(){const{className:e,serverEntityID:t,providerEntityID:a,url:n,dimension:i,onPlayPress:r}=this.props;return n?y.a.createElement(jI.a,{className:e,isDisabled:!r,onPress:this.onPlayPress},y.a.createElement(ot.a,{serverEntityID:t,providerEntityID:a,url:n,width:i,height:i,style:SJe,component:at.a})):null}}var OJe=EJe;const MJe=Object(v.b)((function(){return Object(he.a)(Object(he.a)(Object(YO.a)(),e=>{if(!e)return{};const{serverEntityID:t,providerEntityID:a,entityID:n,type:i,thumb:r}=e;return{serverEntityID:t,providerEntityID:a,entityID:n,url:r,isVideo:"clip"===i}}),({serverEntityID:e,providerEntityID:t,url:a})=>({serverEntityID:e,providerEntityID:t,url:a}))}))(OJe);var CJe=Object(v.b)((function(){return Object(he.a)(AYe(),e=>({metadataItemEntityID:e.metadataItem}))}))(MJe),jJe=a("LPXR"),DJe=a.n(jJe);class PJe extends g.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.state={isMeasured:!1,width:null,height:null}}render(){const{className:e,playQueueItemEntityIDs:t,playQueueItemEntityID:a,firstIndex:n,size:i,onPhotoPress:r}=this.props,{isMeasured:s,width:o,height:l}=this.state,c=t.indexOf(a)+n;let d=[],u=[],p=0;if(s){p=Math.ceil(l);const e=Math.ceil(o/p),t=function({index:e,length:t,renderableWindow:a=t,cellPadding:n=0,cellWidth:i,width:r}){const s=t*i+(t-1)*n;let o=e*(i+n)-(r/2-i/2);s>r&&(o=Math.min(Math.max(o,0),s-r));const l=[],c=Math.max(0,e-a),d=Math.min(t-1,e+a);for(let e=c;e<=d;e++)l[e]=e*(i+n)-o;return{renderStartIndex:c,renderEndIndex:d,positions:l}}({index:c,renderableWindow:e,length:i,cellPadding:2,cellWidth:p,width:o});u=M.a.range(t.renderStartIndex,t.renderEndIndex+1),d=t.positions}return y.a.createElement("div",{className:Pe()(e,DJe.a.strip),"data-qa-id":"photoStripContainer"},y.a.createElement(VO.a,{className:DJe.a.thumbs,onMeasure:this.onMeasure},s?u.map(e=>{const a=d[e],i=c===e,s=t[e-n],o={position:"absolute",width:p,height:p,transform:`translate3d(${a}px, 0, 0)`};return y.a.createElement("div",{key:e,className:DJe.a.cell,style:o},y.a.createElement("div",{className:Pe()(DJe.a.thumbContainer,i&&DJe.a.isSelected),"data-qa-id":"photoStripItem"},s?y.a.createElement(CJe,{className:DJe.a.thumb,playQueueItemEntityID:s,dimension:p-4,index:e-n,onPlayPress:r}):null))}):null))}}var TJe=PJe,wJe=a("1xdZ"),NJe=a.n(wJe);const xJe=parseInt(yu.a.playerControlsHeight,10),AJe=parseInt(yu.a.playerControlsNarrowHeight,10);class LJe extends g.Component{constructor(e,t){super(e,t),this.onPhotoStripTogglePress=e=>{this.setState({isPhotoStripOpen:!this.state.isPhotoStripOpen})},this.onPhotoInformationTogglePress=e=>{this.setState({isInformationOpen:!this.state.isInformationOpen})},this.onInteraction=e=>{this.setState({hadRecentInteraction:!0}),this._startInteractionTimer()},this.onInteractionTimeout=()=>{this.setState({hadRecentInteraction:!1}),this._stopInteractionTimer()},this.onContentMeasure=e=>{this.props.onPlaybackDimensionsChange(e)},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.state={disableInteractionTimer:!1,isPhotoStripOpen:!1,isInformationOpen:!1,isControlsMenuOpen:!1,isCastMenuOpen:!1,hadRecentInteraction:!1}}componentDidMount(){this._startInteractionTimer()}componentDidUpdate(e,t){const{disableInteractionTimer:a}=this.state,{disableInteractionTimer:n}=t,i=!n&&a;n&&!a?this._startInteractionTimer():i&&this._stopInteractionTimer()}componentWillUnmount(){this._stopInteractionTimer()}_startInteractionTimer(){this.state.disableInteractionTimer||(this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3))}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{isPhotoStripOpen:e,isInformationOpen:t,hadRecentInteraction:a}=this.state,{playQueueItemEntityIDs:n,playQueueItemEntityID:i,isPlayQueueLoading:r,isVideo:s,isPhoto:o,size:l,firstIndex:c,width:d,height:u,canSkipPrevious:p,canSkipNext:m,errorMessage:h,positionMilliseconds:g,bufferStartMilliseconds:f,bufferEndMilliseconds:b,hasFullscreen:v,isFullscreen:I,isMediaLoading:S,isBuffering:E,isNarrowLayout:O,playerType:M,onExitFullscreenPress:C,onEnterFullscreenPress:j,onToggleFullscreen:D,onPlayNextItem:P,onPlayPreviousItem:T,onPlayItem:w}=this.props,{isControlsMenuOpen:N,isCastMenuOpen:x}=this.state,A=e||t,L=!(A||a||N||x),k=!a&&!x,R=A,z=!o&&(S||E),U=O?AJe:xJe,V=L?null:`translateY(${-U}px)`;return y.a.createElement("div",{"data-qa-id":"photoPlayerContainer",className:Pe()(NJe.a.fullPlayer,L&&NJe.a.hideControls,R&&NJe.a.dockControls),onMouseMove:this.onInteraction,onMouseDown:this.onInteraction,onTouchStart:this.onInteraction,onTouchEnd:this.onInteraction},o?y.a.createElement(xXe,{playerType:M,playQueueItemEntityID:i}):null,y.a.createElement("div",{className:NJe.a.player},y.a.createElement("div",{className:NJe.a.main},y.a.createElement(VO.a,{className:NJe.a.content,onMeasure:this.onContentMeasure},z?y.a.createElement("div",{className:NJe.a.spinner},y.a.createElement(HO.a,{size:cc.a})):null,y.a.createElement(GXe,{playQueueItemEntityIDs:n,playQueueItemEntityID:i,firstIndex:c,size:l,errorMessage:h,width:d,height:u}),r?null:y.a.createElement(ZXe,{hideOverlays:k,isPhoto:o,isFullscreen:I,hasFullscreen:v,canSkipNext:m,canSkipPrevious:p,onPlayNextItem:P,onPlayPreviousItem:T,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:j,onExitFullscreenPress:C,onToggleFullscreen:D})),e?y.a.createElement(TJe,{className:NJe.a.mainFooter,playQueueItemEntityIDs:n,playQueueItemEntityID:i,firstIndex:c,size:l,onPhotoPress:w}):null),t?y.a.createElement(IJe,{className:NJe.a.aside,playerType:M}):null),r?null:y.a.createElement("div",{className:NJe.a.bottomBar,style:{bottom:-U,height:U,WebkitTransform:V,msTransform:V,transform:V},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},y.a.createElement(NXe,{playerType:M,isVideo:s,isPhoto:o,positionMilliseconds:g,bufferStartMilliseconds:f,bufferEndMilliseconds:b,activatePhotoInformationButton:t,activatePhotoStripButton:e,showPhotoInformationButton:!0,showPhotoStripButton:!0,onPhotoInformationPress:this.onPhotoInformationTogglePress,onPhotoStripPress:this.onPhotoStripTogglePress,onControlsMenuChange:this.onControlsMenuChange})))}}var kJe=LJe;var RJe=function(e){return y.a.createElement(vXe,{isPlayQueueLoading:e.isPlayQueueLoading},y.a.createElement(NXe,{...e}))};function zJe(e){return!!e.playQueueItemEntityID&&!e.isPaused&&!e.isRemotePlayer&&e.isPhoto}class UJe extends g.Component{constructor(e,t){super(e,t),this.onSlideShowAdvance=()=>{this.props.onPlayNextItem({autoPlay:!0})},this.onPlaybackDimensionsChange=({width:e,height:t})=>{this.setState({mediaWidth:e,mediaHeight:t})},this.state={mediaHeight:0,mediaWidth:0}}componentDidMount(){zJe(this.props)&&this._startSlideshow()}componentDidUpdate(e){const t=zJe(e),a=zJe(this.props),n=a!==t,i=this.props.playQueueItemEntityID!==e.playQueueItemEntityID;(n||i)&&(a?e.isPaused?this.props.onPlayNextItem({autoPlay:!0}):this._startSlideshow():this._stopSlideshow())}componentWillUnmount(){this._stopSlideshow(),this._playerTimer=window.clearTimeout(this._playerTimer)}_startSlideshow(){this._stopSlideshow(),this._slideshowTimer=window.setTimeout(this.onSlideShowAdvance,5e3)}_stopSlideshow(){this._slideshowTimer&&(this._slideshowTimer=window.clearTimeout(this._slideshowTimer))}render(){const{isMiniPlayer:e,isRemotePlayer:t}=this.props,{mediaWidth:a,mediaHeight:n}=this.state;return y.a.createElement(aHe,{...this.props,playerType:Oe.b,mediaWidth:a,mediaHeight:n,isRemotePlayer:t,isPostPlayVisible:!1,hasConflicts:!1,mediaComponent:QFe,playerComponent:e?RJe:kJe,onPlaybackDimensionsChange:this.onPlaybackDimensionsChange})}}var VJe=UJe;const BJe=Object(v.b)((function(){return Object(he.a)((e,{isMiniPlayer:t})=>t,zB(),OVe(),EVe(),(e,t,a,n)=>{const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmNewsSunsetPayload:t.confirmNewsSunsetPayload,confirmOffsetPayload:t.confirmOffsetPayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,errorMessage:t.errorMessage,showBackgroundVideoPlayer:!!a&&!e},r=t.playQueue;if(r&&n){const e=r.currentIndex;i.playQueueItemEntityIDs=r.playQueueItems,i.playQueueItemEntityID=n.entityID,i.canSkipPrevious=e>0,i.canSkipNext=e<r.playQueueItems.length-1,i.size=r.length,i.firstIndex=r.playQueueSelectedItemOffset-e,i.currentMediaType=Object(wo.getMetadataType)(n.type).mediaType,i.currentMediaSubtype=n.subtype}return i.isVideo=i.currentMediaType===_s.e,i.isPhoto=i.currentMediaType===_s.c,i})}),(function(e,t){const{playerType:a}=t;return{onPlayPreviousItem(){e(XM.z({playerType:a}))},onPlayNextItem(t={}){e(XM.y({playerType:a,autoPlay:t.autoPlay}))},onPlayItem(t){e(XM.w({playerType:a,index:t}))},onTogglePlayPause(){e(IVe.F({playerType:a}))}}}))(VJe);BJe.propTypes={...BJe.propTypes,playerType:Qn.a.string.isRequired};var FJe=BJe,HJe=a("fjrA");var _Je=function(e){return y.a.createElement(aBe,{...e,type:"rom"})};var WJe=function(e){return y.a.createElement(VGe,{...e,showRepeatButton:!1,showNextButton:!1,showPreviousButton:!1,showSettingsButton:!0})};function QJe(e){const{isGame:t,isMiniPlayer:a,playerType:n,onControlsMenuChange:i}=e;return y.a.createElement(vWe,null,y.a.createElement(OWe,null,y.a.createElement(jWe,{component:WJe,playerType:n,isGame:t,isMiniPlayer:a,onControlsMenuChange:i})))}QJe.defaultProps={isMiniPlayer:!1};var GJe=QJe;var KJe=Object(v.b)((function(){return Object(he.a)(UB("serverEntityID"),UB("startMetadataItemEntityID"),EVe(),DO.a,(e,t,a={},n)=>{const i=n[t||a.metadataItem];let r;return i&&(r=i.grandparentArt||i.art),{serverEntityID:e,imageUrl:r}})}))(fYe),YJe=a("9Y86"),qJe=a("wowv"),ZJe=a("HhKU"),XJe=a.n(ZJe);const JJe=/^[^()]+/;const $Je=[!1,!1,!1,!1];var e$e=function({bottom:e,gameInputDevices:t}){const a=Object(g.useRef)($Je),[n,i]=Object(g.useState)(null);return Object(g.useEffect)(()=>{const e=Object(qJe.a)((e,n)=>{const r=t.findIndex(e=>e.type===HJe.e.Keyboard);-1!==r&&(a.current[r]=n,i(Date.now()))}),n=Object(YJe.a)((e,n,r)=>{const s=t.findIndex(t=>t.index===e.index);-1!==s&&(a.current[s]=Array.from(n.changed).some(e=>n.values.get(e))||Array.from(r.changed).some(e=>r.values.get(e)),i(e.timestamp))});return a.current=[$Je],()=>{e(),n()}},[t]),y.a.createElement(sWe,{bottom:e,title:Object(Ce.default)("Gameplay Settings")},t.map((e,n)=>{const{type:i}=e;let r;return r=i===HJe.e.Gamepad?function(e,t){var a;const{id:n}=e,i=(null==(a=n.match(JJe))?void 0:a[0].trim())||n,r=t.filter(e=>e.id===n);return r.length>1?`${i} (${r.indexOf(e)+1})`:i}(e,t):i===HJe.e.Keyboard?Object(Ce.default)("Keyboard"):Object(Ce.default)("None"),y.a.createElement(dWe,{key:n,className:a.current[n]?XJe.a.rowPressed:XJe.a.row,label:Object(Ce.default)("Player {index}",{index:n+1})},r)}))},t$e=a("r3vD"),a$e=a.n(t$e);const n$e=parseInt(yu.a.playerControlsHeight,10),i$e=parseInt(yu.a.playerControlsNarrowHeight,10);function r$e(e,t){return e.isSettingsVisible||t.isCastMenuOpen||t.disableInteractionTimer}class s$e extends g.Component{constructor(e,t){super(e,t),this.onInteraction=e=>{const{keyCode:t}=e;t!==Tl.k&&t!==Tl.c&&(t!==Tl.e?r$e(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)):this.state.hideControls||this.onInteractionTimeout())},this.onInteractionTimeout=()=>{this.setState(({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1})),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},()=>{r$e(this.props,this.state)||this.onInteractionTimeout()})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,r$e(this.props,this.state)||this._startInteractionTimer()}componentWillReceiveProps(e){r$e(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){r$e(e,t)&&!r$e(this.props,this.state)&&this._startInteractionTimer(),!r$e(e,t)&&r$e(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{playerType:e,gameInputDevices:t,hasFullscreen:a,isGame:n,isPlayQueueLoading:i,isMediaLoading:r,isFullscreen:s,isNarrowLayout:o,isSettingsVisible:l,onEnterFullscreenPress:c,onExitFullscreenPress:d,onToggleFullscreen:u}=this.props,{hideControls:p}=this.state,m=i||r,h=i||r,g=o?i$e:n$e,f=p?null:`translateY(${-g}px)`;return y.a.createElement(y.a.Fragment,null,h?y.a.createElement(KJe,{playerType:e,allowBlur:!1}):null,m?y.a.createElement("div",{className:a$e.a.spinnerContainer},y.a.createElement(HO.a,{size:cc.a})):null,y.a.createElement(J_e,{playerType:e,isCursorHidden:p,onToggleFullscreen:u}),l?y.a.createElement(e$e,{gameInputDevices:t,playerType:e,bottom:g}):null,i?null:y.a.createElement("div",{className:Pe()(a$e.a.topBar,p&&a$e.a.topBarHidden),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},y.a.createElement(K_e,{playerType:e,isFullscreen:s,hasFullscreen:a,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:c,onExitFullscreenPress:d})),i?null:y.a.createElement("div",{className:Pe()(a$e.a.bottomBar,p&&a$e.a.bottomBarHidden),style:{bottom:-g,height:g,WebkitTransform:f,msTransform:f,transform:f},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},y.a.createElement(GJe,{isGame:n,playerType:e,onControlsMenuChange:this.onControlsMenuChange})))}}var o$e=s$e;var l$e=function(e){return y.a.createElement(vXe,{isPlayQueueLoading:e.isPlayQueueLoading},y.a.createElement(GJe,{...e}))};const c$e={type:HJe.e.Keyboard},d$e={type:HJe.e.None},u$e=[c$e,d$e,d$e,d$e];var p$e=function(e){const[t,a]=Object(g.useState)(u$e);return Object(g.useEffect)(()=>function(e){if(!S.a.hasGamepads)return()=>{};function t(){const e=[];for(const t of window.navigator.getGamepads())(null==t?void 0:t.connected)&&e.push(t);return e}function a(a){e(t(),[a.gamepad])}window.addEventListener("gamepadconnected",a,!0),window.addEventListener("gamepaddisconnected",a,!0);const n=window.requestAnimationFrame(()=>{const a=t();a.length&&e(a,a)});return()=>{window.cancelAnimationFrame(n),window.removeEventListener("gamepadconnected",a,!0),window.removeEventListener("gamepaddisconnected",a,!0)}}(e=>{const t=e.map(e=>({type:HJe.e.Gamepad,id:e.id,index:e.index,mapping:e.mapping}));if(t.length<4){t.push(c$e);for(let e=t.length;e<4;e++)t.push(d$e)}a(t)}),[]),y.a.createElement(aHe,{...e,gameInputDevices:t,mediaComponent:_Je,playerComponent:e.isMiniPlayer?l$e:o$e})};const m$e=Object(v.b)((function(){return Object(he.a)(EVe(),Object(he.a)(MVe(),e=>{var t,a;return null==(a=null==(t=null==e?void 0:e.Platform)?void 0:t[0])?void 0:a.tag}),iBe(["isMediaLoading","isPlayQueueLoading","paused","url","confirmRemoteToLocal","confirmLocalToRemote","confirmOffsetPayload","hasError","hasConflicts","isPostPlayVisible","isSettingsVisible"]),(e,t,a)=>{var n;const{paused:i,isSettingsVisible:r,...s}=a;let o;return e&&(o=null==(n=Object(wo.getMetadataType)(e.type))?void 0:n.mediaType),{...s,currentMediaType:o,gamePlatformTag:t,gamePreventDefault:i||r,isSettingsVisible:r,showBackgroundVideoPlayer:!1}})}))(p$e);m$e.propTypes={...m$e.propTypes,isOpen:Qn.a.bool,playerType:Qn.a.oneOf([Oe.c]).isRequired};var h$e=m$e;var g$e=Object(he.a)(nke,e=>e.length>0);var y$e=a("QIBL");var f$e=Object(he.a)(Ft.a,e=>e.some(e=>e.connections.some(e=>e.isLoopback)&&e.connectionTestResult===zU.c.PENDING));var b$e=Object(he.a)(Gk,f$e,ofe,xU,g$e,(e,t,a,n,i)=>e.isResourcesPopulated&&!t&&!a.length&&!n&&!i),v$e=a("9kxW"),I$e=a.n(v$e);var S$e=function(e){const{children:t,isSidebarCollapsed:a}=e;return y.a.createElement(y.a.Fragment,null,a?y.a.createElement("div",{className:I$e.a.sidebarUnderlay}):null,y.a.createElement("div",{className:a?I$e.a.collapsedSidebar:I$e.a.openSidebar},t))},E$e=a("DFfa"),O$e=a.n(E$e);var M$e=function(){const e=Object(sE.a)(),t=Object(Ce.default)("An unexpected error is impacting the sidebar");return y.a.createElement(S$e,{isSidebarCollapsed:!0},y.a.createElement(Dm.a,{component:jI.a,tooltip:t,tooltipAttachment:Pm.e,"aria-label":t,onPress:e.onOpen},y.a.createElement(je.a,{className:O$e.a.icon})),y.a.createElement(pMe,{isOpen:e.isOpen,errorMessage:t+".",onModalClose:e.onClose}))},C$e=a("JjHc"),j$e=a.n(C$e);function D$e(e){const{"data-qa-id":t,className:a,size:n,style:i,linkClassName:r,titleClassName:s,isActiveClassName:o,isSelectedClassName:l,icon:c,title:d,detail:u,to:p,role:m,isActive:h,isDim:g,isDisabled:f,isSelected:b,children:v,onNavigate:I,onMouseEnter:S,onMouseLeave:E,onFocus:O,onBlur:M}=e;let C,j;return p?(C=jI.a,j={isDisabled:f,to:p,role:m,"data-qa-id":t,onPress:I}):(C="div",j={}),y.a.createElement("div",{className:Pe()(a,j$e.a[n],h&&o,g&&j$e.a.isDim,f&&j$e.a.isDisabled,b&&l),"data-qa-id":"sidebarSource",style:i,onMouseEnter:S,onMouseLeave:E,onFocus:O,onBlur:M},y.a.createElement(C,{className:r,...j,title:u?`${d}, ${u}`:d},y.a.createElement("div",{className:j$e.a.iconContainer},c),y.a.createElement("div",{className:j$e.a.titles},y.a.createElement("div",{className:s},d),u?y.a.createElement("div",{className:j$e.a.detail},u):null)),v)}D$e.defaultProps={className:j$e.a.button,size:cc.b,linkClassName:j$e.a.sourceLink,titleClassName:j$e.a.title,isActiveClassName:j$e.a.isActive,isSelectedClassName:j$e.a.isSelected};var P$e=D$e,T$e=a("WGyR"),w$e=a.n(T$e);var N$e=function(e){const{icon:t,connectDragSource:a,...n}=e,i=y.a.createElement(P$e,{icon:t||y.a.createElement(JT,{className:w$e.a.iconReorder}),...n});return a?a(y.a.createElement("div",{className:w$e.a.dragSource},i)):i};const x$e=parseInt(yu.a.sourceSidebarItemHeight,10);class A$e extends g.Component{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const{sourceTitle:a,sourceDetail:n}=e;return y.a.createElement(QT,null,y.a.createElement(N$e,{style:t,title:a,detail:n}))}}var L$e=Object(FT.DragLayer)((function(e,t){const a=e.getItem(),n={item:a,style:null},i=e.getInitialSourceClientOffset(),r=e.getSourceClientOffset();if("SOURCE_ITEM"===e.getItemType()&&i&&r){let e=r.y;e-a.listTop<=0?e=a.listTop:e+x$e>=a.listBottom&&(e=a.listBottom-x$e),n.style=xz({x:i.x,y:e},a.listWidth)}return n}))(A$e),k$e=a("5CAA"),R$e=a.n(k$e);const z$e={beginDrag(e,t,a){const{sourceTitle:n,sourceTitleDetail:i,listIndex:r,isRemoved:s,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}=e;return{dragIndex:r,sourceTitle:n,sourceTitleDetail:i,isRemoved:s,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}},endDrag(e,t,a){e.onItemDragEnd({didDrop:t.didDrop()})}},U$e={hover(e,t,a){const n=t.getClientOffset(),i=Object(f.findDOMNode)(a).getBoundingClientRect(),r=(i.bottom-i.top)/2,s=n.y-i.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:s>r?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};class V$e extends g.Component{componentDidMount(){this.props.connectDragPreview(Object(bw.getEmptyImage)())}render(){const{sourceTitle:e,sourceTitleDetail:t,isOver:a,isDragging:n,isDraggingBefore:i,isDraggingAfter:r,connectDropTarget:s,connectDragSource:o}=this.props;return s(y.a.createElement("div",{className:Pe()(R$e.a.container,a&&R$e.a.isOver,n&&ua.c,a&&i&&ua.e,a&&r&&ua.d)},y.a.createElement(N$e,{title:e,detail:t,connectDragSource:o})))}}var B$e=Object(FT.DropTarget)("SOURCE_ITEM",U$e,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(FT.DragSource)("SOURCE_ITEM",z$e,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(V$e)),F$e=a("iT+t"),H$e=a.n(F$e);const _$e={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};class W$e extends g.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:a}=e,{dragIndex:n,dropIndex:i}=this.state;let r=a!==i?a:i;const s=t!==n?t:n;if((r===s||r>s&&r-s==1)&&(r=-1),s!==n||r!==i){const e={dragIndex:s,dropIndex:r,hasValidDropTarget:-1!==r};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:a}=this.state;let n;e.didDrop&&-1!==a&&(n=()=>{this.props.onReorderSource({fromIndex:t,toIndex:a>t?a-1:a})}),this.setState(_$e,n)},this.onMeasure=e=>{const{height:t,width:a,x:n,y:i}=e;this.setState({listHeight:t,listWidth:a,listTop:i,listRight:n+a,listBottom:i+t,listLeft:n})},this.state={..._$e,listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0}}render(){const{className:e,sources:t}=this.props,{dropIndex:a,hasValidDropTarget:n}=this.state;return y.a.createElement(VO.a,{className:e,ignoreTransforms:!0,onMeasure:this.onMeasure},t.map((e,t)=>{const i=n&&a===t,r=n&&a===t+1;return y.a.createElement(B$e,{...this.state,key:e.key,sourceTitle:e.title,sourceTitleDetail:e.titleDetail,listIndex:t,hasValidDropTarget:n,isDraggingAfter:r,isDraggingBefore:i,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd})}),y.a.createElement(pz.a,null,y.a.createElement(L$e,null)))}}W$e.defaultProps={className:H$e.a.container};var Q$e=wx(W$e);function G$e(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-downloads-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M280 510.588c127.35 0 230.588-103.238 230.588-230.588S407.35 49.412 280 49.412 49.412 152.65 49.412 280 152.65 510.588 280 510.588zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280zm0-131.765l131.765-131.764H306.353V131.765h-52.706V296.47H148.235L280 428.235z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}G$e.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var K$e=G$e;function Y$e(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-home-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M0 520V296.569a40 40 0 0 1 11.716-28.285L280 0l268.284 268.284A40 40 0 0 1 560 296.57V520c0 22.091-17.909 40-40 40H340V360H220v200H40c-22.091 0-40-17.909-40-40z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}Y$e.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var q$e=Y$e,Z$e=a("EXW4"),X$e=a.n(Z$e);function J$e(e){return y.a.createElement("div",{...e})}J$e.defaultProps={className:X$e.a.header};var $$e=J$e,e0e=a("+tih"),t0e=a.n(e0e);function a0e(e){const{className:t}=e;return y.a.createElement(XD.a,{className:t,autoScroll:!0,...e})}a0e.defaultProps={className:t0e.a.scroller};var n0e=a0e,i0e=a("3YNL"),r0e=a.n(i0e);class s0e extends g.Component{constructor(){super(...arguments),this.onReorderSource=({fromIndex:e,toIndex:t})=>{if(e===t)return;const{sources:a,hiddenSidebarSourceKeys:n,onReorderPinnedSources:i}=this.props;i({sourceKeys:dz(a.map(e=>e.key),e,t).concat(n)})}}render(){const{sources:e,hasDownloadsSource:t,onCloseReorderPinSources:a}=this.props;return y.a.createElement(y.a.Fragment,null,y.a.createElement($$e,null,y.a.createElement("div",{className:r0e.a.titleContainer},y.a.createElement("div",{className:r0e.a.title},Object(Ce.default)("Reorder")),y.a.createElement(jI.a,{className:r0e.a.closeButton,"aria-label":Object(Ce.default)("Done"),onPress:a},y.a.createElement(Ql.a,null)))),y.a.createElement(n0e,null,y.a.createElement("div",{className:r0e.a.expandedSidebarContent},y.a.createElement(N$e,{icon:y.a.createElement(q$e,null),title:Object(Ce.default)("Home"),isDisabled:!0}),t?y.a.createElement(N$e,{icon:y.a.createElement(K$e,null),title:Object(Ce.default)("Downloads"),isDisabled:!0}):null,y.a.createElement(Q$e,{sources:e,onReorderSource:this.onReorderSource}))))}}var o0e=s0e;const l0e=Object(he.a)(UI,e=>({hiddenSidebarSourceKeys:e.reduce((e,t)=>(t.isHidden&&e.push(t.key),e),[])})),c0e={onReorderPinnedSources:VS.C};var d0e=Object(v.b)(l0e,c0e)(o0e);const u0e=parseInt(yu.a.sourceSidebarServerHeaderIconSize,10);var p0e=function(e){const{serverEntityID:t,thumb:a}=e;return y.a.createElement(Q0.a,{serverEntityID:t,url:a,width:u0e,height:u0e})};var m0e=Object(v.b)((function(){return Object(he.a)(Object(RI.a)(),Object(he.a)(Object(RI.a)(),_0.a,H0.a,(e,t,a)=>{const n=t.find(t=>a[t].id===e.ownerId);return n?a[n].thumb:null}),AU.a,(e,t,a)=>({thumb:e.isShared?t:a.thumb}))}))(p0e),h0e="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwYzE1NC41MzYgMCAyODAgMTI1LjQ2NCAyODAgMjgwUzQzNC41MzYgNTYwIDI4MCA1NjAgMCA0MzQuNTM2IDAgMjgwIDEyNS40NjQgMCAyODAgMCIgZmlsbD0iI0U1QTAwRCIvPgogICAgPHBhdGggZD0iTTI4MCA0NzVjLTI0LjgzNyAwLTQ1LTIwLjE2My00NS00NXMyMC4xNjMtNDUgNDUtNDUgNDUgMjAuMTYzIDQ1IDQ1LTIwLjE2MyA0NS00NSA0NXpNMjUwIDkwaDYwYzExLjAzOCAwIDIwIDguOTYyIDIwIDIwbC0xMCAyMDVjMCAxMS4wMzgtOC45NjIgMjAtMjAgMjBoLTQwYy0xMS4wMzggMC0yMC04Ljk2Mi0yMC0yMGwtMTAtMjA1YzAtMTEuMDM4IDguOTYyLTIwIDIwLTIweiIgZmlsbD0iIzAwMCIvPgogIDwvZz4KPC9zdmc+Cg==",g0e=a("LJ6K"),y0e=a.n(g0e);function f0e({isUnavailable:e,isOutOfDate:t,isUnclaimed:a}){return e?Object(Ce.default)("Unavailable"):t?Object(Ce.default)("Needs update"):a?Object(Ce.default)("Unclaimed"):void 0}function b0e(e){const{isRemote:t,isUnclaimed:a,isUnavailable:n,isOutOfDate:i}=e,r=n||a||i;return r||t?y.a.createElement("div",{className:y0e.a.badge},r?y.a.createElement("img",{className:y0e.a.image,src:h0e,"aria-label":f0e(e)}):y.a.createElement("img",{className:y0e.a.image,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwQzEyNS41MTcgMCAwIDEyNS41MTcgMCAyODBzMTI1LjUxNyAyODAgMjgwIDI4MCAyODAtMTI1LjUxNyAyODAtMjgwUzQzNC40ODMgMCAyODAgMHoiIGZpbGw9IiM1MTU5NUUiLz4KICAgIDxwYXRoIGQ9Ik00MzIuMDY5IDQ2OC4yNzZjLTI0LjEzOCAyNi41NTItNzAgNTMuMTAzLTEwNi4yMDcgNTMuMTAzLTcuMjQxLTkuNjU1IDAtMTIuMDY5IDAtMjEuNzI0LTE5LjMxLTQuODI3LTMxLjM4LTIxLjcyNC00MS4wMzQtMzguNjItMi40MTQtMTkuMzEgMjQuMTM4LTM4LjYyMSAxNi44OTYtNTUuNTE4LTEyLjA2OSAyLjQxNC0yNi41NTItMi40MTQtMzYuMjA3LTkuNjU1LTQuODI3LTQuODI4LTkuNjU1LTkuNjU1LTEyLjA2OS0xNC40ODMtNy4yNDEtNC44MjctMTYuODk2LTcuMjQxLTI0LjEzOC05LjY1NS0yNi41NTEtOS42NTUtNTMuMTAzLTE5LjMxLTcyLjQxMy00MS4wMzQgMi40MTMtMTkuMzEtOS42NTYtMjguOTY2LTIxLjcyNS00My40NDktMTIuMDY5LTEyLjA2OS03LjI0MS0yNC4xMzgtMTIuMDY5LTQxLjAzNC00LjgyNy0xMi4wNy05LjY1NS0yMS43MjQtOS42NTUtMzMuNzkzIDAtMTIuMDcgNC44MjgtMjQuMTM4IDcuMjQyLTM2LjIwNyA3LjI0MS0yMS43MjQgMjEuNzI0LTQzLjQ0OCAyMS43MjQtNjcuNTg2IDIuNDE0LTkuNjU1LTE0LjQ4My0xMi4wNy0yLjQxNC0yNC4xMzggMTIuMDY5LTEyLjA3IDI4Ljk2Ni0yNi41NTIgNDguMjc2LTI2LjU1MiA5LjY1NSAwIDE0LjQ4MyA0LjgyOCAyNC4xMzggMi40MTQgOS42NTUtMi40MTQgMTkuMzEtNC44MjggMjguOTY1LTQuODI4IDE5LjMxLTIuNDE0IDM4LjYyMS03LjI0MSA1My4xMDQtMTkuMzFsMi40MTQgMi40MTRoMTQuNDgybDIuNDE0LTIuNDE0YzIxLjcyNCAxNi44OTYgNzIuNDE0IDkuNjU1IDY3LjU4NiA1MC42OXYyLjQxM2MtMTkuMzEgMi40MTQtMzMuNzkzIDAtNTMuMTAzLTcuMjQxdjIxLjcyNGMyOC45NjUgMTYuODk3IDY1LjE3MiAyOC45NjYgNzcuMjQxIDYwLjM0NS0xMi4wNjkgMTQuNDgzLTI2LjU1MSA3LjI0MS00My40NDggNy4yNDEtNC44MjggNC44MjgtNy4yNDEgOS42NTUtNC44MjggMTYuODk3LTEyLjA2OSA3LjI0MS0yNC4xMzggMTQuNDgzLTI4Ljk2NSAyOC45NjUtMi40MTQgNy4yNDIgMCAxOS4zMS0yLjQxNCAyNi41NTItNC44MjggOS42NTUtMTQuNDgzIDE2Ljg5Ny0xOS4zMSAyNi41NTIgMCAxNC40ODMgNy4yNDEgMjQuMTM4LTcuMjQyIDM2LjIwNy0xOS4zMSAwLTIxLjcyNC0xNC40ODMtMzYuMjA3LTE5LjMxLTEyLjA2OS00LjgyOC0yOC45NjUgMC00MS4wMzQtMi40MTQtMTkuMzEgNy4yNDEtMTYuODk3IDUzLjEwMyA5LjY1NSA0NS44NjIgMTIuMDctNC44MjggMTIuMDctMTIuMDcgMjguOTY2LTkuNjU2IDEyLjA2OSA3LjI0MiA0LjgyNyAyMS43MjUgNC44MjcgMzEuMzggNy4yNDIgNC44MjcgMTkuMzEgMi40MTQgMjQuMTM4IDEyLjA2OSAwIDcuMjQxLTIuNDE0IDE5LjMxIDIuNDE0IDI0LjEzOCA5LjY1NSAxNC40ODIgMzYuMjA3LTkuNjU1IDQzLjQ0OC0xMi4wNyAyMS43MjQtNy4yNCA0NS44NjItNC44MjcgNjcuNTg2LTQuODI3IDE2Ljg5NyAxMi4wNyA0My40NDkgNy4yNDIgNTcuOTMxIDI0LjEzOCA5LjY1Ni0yLjQxNCAxNi44OTctNy4yNDEgMjYuNTUyIDAtOS42NTUgMjguOTY2LTMzLjc5MyA1MC42OS01NS41MTcgNzIuNDE0eiIgZmlsbD0iI0EwQUFCMSIvPgogIDwvZz4KPC9zdmc+Cg==","aria-label":Object(Ce.default)("Remote server")})):null}function v0e(e){const{icon:t,showBadgedIcon:a,isPending:n,isRemote:i,isUnavailable:r,isOutOfDate:s,isUnclaimed:o}=e;return a?n?y.a.createElement(HO.a,{className:y0e.a.spinner}):y.a.createElement("div",{className:y0e.a.container},t,y.a.createElement(b0e,{isRemote:i,isUnavailable:r,isOutOfDate:s,isUnclaimed:o})):t}v0e.defaultProps={showBadgedIcon:!0};var I0e=v0e,S0e=a("M15R"),E0e=a.n(S0e);var O0e=function(e){const{className:t,isHovered:a,overflowMenuButtonID:n,isOverflowMenuOpen:i,onAddLibraryPress:r,onOverflowMenuToggle:s}=e,o=S.a.hasTouchScreen||a||i;return y.a.createElement("div",{className:o?t:E0e.a.hidden},y.a.createElement(ZO.a,{className:E0e.a.button,"data-qa-id":"sidebarLibrariesAddButton",iconComponent:Df.a,title:Object(Ce.default)("Add Library"),onPress:r}),y.a.createElement(ZO.a,{id:n,className:E0e.a.button,"aria-haspopup":"true","data-qa-id":"sidebarLibrariesMoreButton",iconComponent:Dd.a,title:Object(Ce.default)("More Actions"),onPress:s}))};var M0e=Object(BI.a)(null,(function(e,t){const a={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onAddLibraryPress(){e(OS.a(a))}}}))(O0e);const C0e={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,-10]}}]};var j0e=function(e){const{serverEntityID:t,machineIdentifier:a,overflowMenuButtonID:n,isLibraryRefreshing:i,isOptimizeDatabaseInProgress:r,isCleanBundlesInProgress:s,isOverflowMenuOpen:o,onScanLibrariesPress:l,onCancelScanLibrariesPress:c,onEmptyTrashPress:d,onOptimizeDatabasePress:u,onCleanBundlesPress:p,onOverflowMenuClose:m}=e,h=Object(sE.a)(),g=Object(sE.a)(d),f=Object(sE.a)(u),b=Object(sE.a)(p);return y.a.createElement(y.a.Fragment,null,y.a.createElement(tE,{target:n,options:C0e,isOpen:o,onMenuClose:m},y.a.createElement(Js.a,{onPress:Object(to.a)(m,h.onOpen)},Object(Ce.default)("Share…")),i?y.a.createElement(Js.a,{onPress:c},Object(Ce.default)("Cancel Scan")):y.a.createElement(Js.a,{onPress:l},Object(Ce.default)("Scan Library Files")),y.a.createElement(eo.a,{label:Object(Ce.default)("Manage Server"),onMenuClose:m},y.a.createElement(Js.a,{to:Object(lm.a)(a,"settings","general")},Object(Ce.default)("Settings")),y.a.createElement(Js.a,{onPress:g.onOpen},Object(Ce.default)("Empty Trash")),y.a.createElement(Js.a,{isDisabled:r,onPress:f.onOpen},Object(Ce.default)("Optimize Database")),y.a.createElement(Js.a,{isDisabled:s,onPress:b.onOpen},Object(Ce.default)("Clean Bundles")))),y.a.createElement(yd.a,{metricsProperties:{context:aS.LIST},serverEntityID:t,isOpen:h.isOpen,onModalClose:h.onClose}),y.a.createElement(JS,{isOpen:g.isOpen,metricsPage:It.o,title:Object(Ce.default)("Empty Trash"),message:Object(Ce.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ce.default)("Empty"),onConfirm:g.onConfirm,onCancel:g.onClose}),y.a.createElement(JS,{isOpen:f.isOpen,metricsPage:It.u,title:Object(Ce.default)("Optimize Database"),message:Object(Ce.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:Object(Ce.default)("Optimize"),onConfirm:f.onConfirm,onCancel:f.onClose}),y.a.createElement(JS,{isOpen:b.isOpen,metricsPage:It.i,title:Object(Ce.default)("Clean Bundles"),message:Object(Ce.default)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:Object(Ce.default)("Clean"),onConfirm:b.onConfirm,onCancel:b.onClose}))};var D0e=Object(BI.a)((function(){return Object(he.a)(pwe(),Object(kI.c)(),Object(kI.a)(),(e,t,a)=>({isLibraryRefreshing:e,isOptimizeDatabaseInProgress:!!t,isCleanBundlesInProgress:!!a}))}),(function(e,t){const a={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onScanLibrariesPress(){e(OS.n(a))},onCancelScanLibrariesPress(){e(OS.c(a))},onEmptyTrashPress(){e(OS.g(a))},onOptimizeDatabasePress(){e(OS.h(a))},onCleanBundlesPress(){e(OS.d(a))}}}))(j0e),P0e=a("kDj3"),T0e=a.n(P0e);var w0e=function(e){const{serverEntityID:t,machineIdentifier:a,hasServerActions:n,iconNode:i,iconSrc:r,isPending:s,isRemote:o,isUnavailable:l,isOutOfDate:c,isUnclaimed:d,onToggleLockedPress:u,...p}=e,m=Object(_r.a)(),[h,f]=Object(g.useState)(!1),[b,v]=JC(),I=Object(g.useCallback)(()=>{f(!h)},[h]),S=Object(g.useCallback)(()=>{f(!1)},[]);return Object(g.useEffect)(()=>{u&&u(h)},[h,u]),y.a.createElement(y.a.Fragment,null,y.a.createElement(P$e,{...p,...v,isSelectedClassName:T0e.a.isSelected,titleClassName:T0e.a.title,isActive:h,role:"navigation",icon:y.a.createElement(I0e,{icon:y.a.createElement("div",{className:T0e.a.iconContainer},i),isPending:s,isRemote:o,isUnavailable:l,isOutOfDate:c,isUnclaimed:d})},n?y.a.createElement(M0e,{serverEntityID:t,className:T0e.a.actionContainer,isHovered:b,overflowMenuButtonID:m,isOverflowMenuOpen:h,onOverflowMenuToggle:I}):null),n?y.a.createElement(D0e,{serverEntityID:t,machineIdentifier:a,overflowMenuButtonID:m,isOverflowMenuOpen:h,onOverflowMenuToggle:I,onOverflowMenuClose:S}):null)};function N0e(e){const t=window.location.hash,a=new RegExp("^"+Object(U.a)(e)+"\\b");return!(!t||!e)&&a.test(t)}var x0e=function(e){const{cloudServerEntityID:t,thumb:a}=e,n="#!/get-plex-media-server";return y.a.createElement(w0e,{to:n,isSelected:N0e(n),iconNode:y.a.createElement(p0e,{serverEntityID:t,thumb:a}),title:Object(Ce.default)("Your Media")})};var A0e=Object(v.b)((function(){return Object(he.a)(e=>e.cloudServer,AU.a,(e,t)=>({cloudServerEntityID:e,thumb:t.thumb}))}))(x0e);var L0e=Object(he.a)(UI,e=>Object(gD.a)(e,e=>e.key,e=>e));function k0e(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-source-pinned-560"};i["aria-hidden"]=!t,i.style=n,i.className=Kn.a.plexIcon+(a?" "+a:"");var r=[y.a.createElement.apply(y.a,["path",{d:"M220 40L160 0h240l-60 40 20 200 100 80H310l-30 240-30-240H100l100-80z"}].concat([]))];return t&&r.unshift(y.a.createElement("title",null,t)),y.a.createElement.apply(y.a,["svg",i].concat(r))}k0e.propTypes={"aria-label":Qn.a.string,className:Qn.a.string,style:Qn.a.object};var R0e=k0e,z0e=a("cpX0"),U0e=a.n(z0e);const V0e={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:({reference:e})=>[0,-.2*e.height]}}]};function B0e(e){const{serverEntityID:t,providerEntityID:a,source:n,dismissedUnclaimedServers:i,size:r,showDetail:s,showIcons:o,metricsOrigin:l,isReorderable:c,onToggleLockedPress:d,onReorderPinSources:u}=e,{machineIdentifier:p,providerIdentifier:m}=Wk(),h=Object(Me.a)(),f=Object(Qk.a)(h.source),b=Object(_r.a)(),[v,I]=Object(g.useState)(!1),[S,O]=JC(),M=Object(g.useCallback)(()=>{I(!v)},[v]),C=Object(g.useCallback)(()=>{I(!1)},[]);Object(g.useEffect)(()=>{d&&d(v)},[v,d]);const j=Object(g.useCallback)(()=>{Object(E.c)("metrics").trackEvent({event:bD.c,interaction:!0,properties:{page:It.ob,identifier:n.providerMetricsIdentifier,action:Gi.eb,origin:l}})},[n,l]),D=n.sourceType===SI.k,P=v||S,T=n.isPinned&&!P,w=!1===n.isLocal&&!1===n.isCloud&&!1===n.isUnavailable,N=n.directoryIcon?y.a.createElement("img",{className:U0e.a.iconImg,src:n.directoryIcon}):y.a.createElement(Vke,{sourceType:n.sourceType});return y.a.createElement(y.a.Fragment,null,y.a.createElement(P$e,{...O,className:U0e.a.button,size:s?r:cc.c,isActiveClassName:U0e.a.isActive,isSelectedClassName:U0e.a.isSelected,isActive:v,isDim:n.isUnavailable||n.isOutOfDate||D,isSelected:p===n.machineIdentifier&&m===n.providerIdentifier&&f===n.directoryID,to:D?null:Object(Sa.a)(n.isCloud,n.machineIdentifier,n.providerIdentifier,{source:n.directoryID}),icon:y.a.createElement(I0e,{icon:N,showBadgedIcon:o,isRemote:w,isUnavailable:n.isUnavailable||D,isOutOfDate:n.isOutOfDate,isUnclaimed:n.isUnclaimedServer&&i&&!i[n.machineIdentifier]}),title:n.title,detail:s?n.titleDetail:void 0,onNavigate:j},y.a.createElement("span",{className:U0e.a.actionContainer},T?y.a.createElement(R0e,{className:U0e.a.pinnedIcon}):null,y.a.createElement(ZO.a,{className:P?U0e.a.overflowButton:U0e.a.hiddenOverflowButton,"data-qa-id":"sidebarSourceOverflow",id:b,iconComponent:Dd.a,title:Object(Ce.default)("Actions"),onPress:M}))),y.a.createElement(mE,{serverEntityID:t,providerEntityID:a,source:n,target:b,menuOptions:V0e,isReorderable:c,isOverflowMenuOpen:v,onOverflowMenuClose:C,onReorderPinSources:u}))}B0e.defaultProps={showDetail:!0,showIcons:!0};var F0e=B0e;var H0e=function(e){const{serverEntityID:t,providerEntityID:a,sources:n,onToggleLockedPress:i}=e;return y.a.createElement(y.a.Fragment,null,n.map(e=>y.a.createElement(F0e,{key:e.key,serverEntityID:t,providerEntityID:a,source:e,metricsOrigin:"moreSidebar",showDetail:!1,showIcons:!1,onToggleLockedPress:i})))};var _0e=Object(v.b)((function(){return Object(he.a)(Object(xI.a)(),Object(RI.a)(),L0e,(e,t,a)=>{const n=Object(lo.a)(e);return{sources:ske({sourceServer:t,sourceProvider:e,directories:n&&n.directories}).map(e=>({...e,isPinned:!!a[e.key]}))}})}),(function(e,t){return{}}))(H0e),W0e=a("Qpc7"),Q0e=a.n(W0e);function G0e(e){const{showTitle:t,showUnclaimed:a,isAllSources:n,...i}=e;return y.a.createElement(jI.a,{className:Pe()(Q0e.a.link,n?Q0e.a.bottomBorder:Q0e.a.topBorder),"data-qa-id":"sidebarMore",...i},n?y.a.createElement(y.a.Fragment,null,y.a.createElement(zu,{className:Q0e.a.pinnedIcon}),t?Object(Ce.default)("Pinned"):null):y.a.createElement(y.a.Fragment,null,t?y.a.createElement(y.a.Fragment,null,a?y.a.createElement("img",{className:Q0e.a.unclaimedImage,src:h0e,"aria-label":Object(Ce.default)("Unclaimed")}):null,Object(Ce.default)("More")):null,y.a.createElement(ku,{className:Q0e.a.icon})))}G0e.defaultProps={showTitle:!0};var K0e=G0e,Y0e=a("cbdg"),q0e=a.n(Y0e);var Z0e=function(e){const{isExpanded:t,servers:a,cloudProviders:n,cloudServerEntityID:i,dismissedUnclaimedServers:r,showServerDownloadMessage:s,onToggleAllSourcesPress:o,onToggleLockedPress:l}=e,{machineIdentifier:c,providerIdentifier:d}=Wk(),u=Object(Me.a)(),p=Object(I.j)({path:_k.a.prePlay,exact:!0});return y.a.createElement(y.a.Fragment,null,y.a.createElement($$e,null,y.a.createElement(K0e,{isAllSources:!0,showTitle:t,onPress:o})),y.a.createElement(n0e,null,y.a.createElement("div",{className:q0e.a.container},a.map(e=>{const t=c===e.machineIdentifier&&d===qr.d&&!u.source&&!p;return y.a.createElement("div",{key:e.machineIdentifier,className:q0e.a.serverContainer},y.a.createElement(w0e,{serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,title:CI(e),detail:MI(e),iconNode:y.a.createElement(m0e,{serverEntityID:e.entityID}),isPending:e.isPending,isRemote:!e.isPrivateConnection&&!e.isUnavailable,isUnavailable:e.isUnavailable,isOutOfDate:e.isOutOfDate,isUnclaimed:e.isConnected&&!e.isClaimed&&!r[e.machineIdentifier],to:Object(ng.a)(e,{identifier:qr.d},null,{key:vI.a,pageType:bI.a}),isSelected:t,hasServerActions:e.isFullOwnedServer&&e.isConnected,onToggleLockedPress:l}),e.providers.map(t=>y.a.createElement(_0e,{key:t,serverEntityID:e.entityID,providerEntityID:t,onToggleLockedPress:l})))}),n.providers.length?y.a.createElement(y.a.Fragment,null,y.a.createElement(w0e,{title:Object(Ce.default)("Plex"),iconNode:y.a.createElement("img",{className:q0e.a.iconImg,src:sR.a}),isPending:n.isPending,isUnavailable:n.providersError}),n.providers.map(e=>y.a.createElement(_0e,{key:e,serverEntityID:i,providerEntityID:e,onToggleLockedPress:l}))):null,s?y.a.createElement("div",{className:q0e.a.extrasContainer},y.a.createElement(A0e,null)):null)))};const X0e=Object(he.a)(AU.a,e=>({providers:e.providers,isPending:e.isProvidersPending,isPopulated:e.isProvidersPopulated,providersError:e.providersError}));var J0e=Object(v.b)((function(){return Object(he.a)(dMe,X0e,e=>e.cloudServer,y$e.a,(e,t,a,n)=>({servers:e,cloudProviders:t,cloudServerEntityID:a,dismissedUnclaimedServers:n}))}),(function(e,t){return{}}))(Z0e);const $0e=Object(he.a)(dMe,y$e.a,(e,t)=>({showUnclaimed:e.some(e=>e.isConnected&&!e.isClaimed&&!t[e.machineIdentifier])}));var e1e=Object(v.b)($0e,(function(e,t){return{}}))(K0e);var t1e=function(e){const{size:t}=e;return y.a.createElement(P$e,{size:t,to:"#!/get-plex-media-server",isSelected:N0e("#!/get-plex-media-server"),icon:y.a.createElement(Df.a,null),title:Object(Ce.default)("Your Media")})};var a1e=function(e){const{size:t,route:a,isSelected:n,isUnavailable:i}=e;return y.a.createElement(P$e,{size:t,to:a,isSelected:n,icon:y.a.createElement(I0e,{icon:y.a.createElement(K$e,null),isUnavailable:i}),title:Object(Ce.default)("Downloads"),isDim:i})};var n1e=Object(v.b)((function(){return Object(he.a)((e,{selectedMachineIdentifier:t})=>t,pD.a,ZF.a,(e,t,a)=>{const n="#!/downloads"===window.location.hash.split("?")[0],i=!!a&&e===a.machineIdentifier;return{route:hE(t.downloads),isSelected:n||i,isUnavailable:!a||a.isUnavailable}})}),(function(e,t){return{}}))(a1e),i1e=a("Ioaq"),r1e=a.n(i1e);var s1e=function(e){const{size:t}=e,a=Object(I.j)({path:_k.a.home,exact:!0});return y.a.createElement(P$e,{linkClassName:r1e.a.sourceLink,size:t,"data-qa-id":"sidebarHome",to:"#",icon:y.a.createElement(q$e,null),title:Object(Ce.default)("Home"),isSelected:!!a})},o1e=a("ldju"),l1e=a.n(o1e);class c1e extends g.Component{shouldComponentUpdate(e,t){return Object(nt.a)(this,e,t)}render(){const{sources:e,hasSourceDetail:t,selectedMachineIdentifier:a,hasDownloadsSource:n,dismissedUnclaimedServers:i,isExpanded:r,hasNoProviders:s,isMoreMenuRequired:o,showServerDownloadMessage:l,onToggleAllSourcesPress:c,onToggleLockedPress:d,onReorderPinSources:u}=this.props,p=t?void 0:cc.c;return y.a.createElement(n0e,null,y.a.createElement("div",{className:r?l1e.a.expandedSidebarContent:void 0},y.a.createElement(s1e,{size:p}),e.length?e.map(e=>y.a.createElement(F0e,{key:e.key,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,source:e,dismissedUnclaimedServers:i,size:p,isReorderable:!0,onToggleLockedPress:d,onReorderPinSources:u})):y.a.createElement("div",{className:l1e.a.zeroState},Object(Ce.default)("Your favorite sources will appear here. Any source in the MORE menu below can be saved here for quick access.")),l?y.a.createElement(t1e,{size:p}):null,n?y.a.createElement(n1e,{size:p,selectedMachineIdentifier:a}):null,r&&o&&!s?y.a.createElement(e1e,{isAllSources:!1,onPress:c}):null))}}var d1e=c1e,u1e=a("LcEX"),p1e=a.n(u1e);var m1e,h1e;(h1e=m1e||(m1e={})).Left="left",h1e.Right="right";const g1e=Object(jl.a)(ir.a.defaultSpeed),y1e={opacity:{duration:g1e},x:{duration:g1e,ease:"easeInOut"}},f1e={appear:e=>({opacity:0,scale:1,x:e===m1e.Left?"100%":"-100%",transition:y1e}),enter:{opacity:1,scale:1,x:"0%",transition:y1e},exit:e=>({opacity:0,scale:1,x:e===m1e.Left?"100%":"-100%",transition:y1e})};function b1e(e,t){return t?e?p1e.a.expandedSidebar:p1e.a.collapsedSidebar:p1e.a.openSidebar}class v1e extends g.Component{constructor(e,t){super(e,t),this.onMouseEnter=()=>{this.props.isSidebarCollapsed&&(this.resetExpandTimeout(),this.setState({isMouseOver:!0}))},this.onMouseLeave=()=>{this.clearSetExpandedTimeout(),this.setState(e=>({isExpanded:!!e.isLocked&&e.isExpanded,isMouseOver:!1}))},this.onMouseMove=()=>{this.props.isSidebarCollapsed&&!this.state.isLocked&&this.resetExpandTimeout()},this.onToggleAllSourcesPress=()=>{const e=!this.props.isSidebarAllSources;this.props.onToggleAllSourcesSidebar(e)},this.onToggleLockedPress=e=>{this.setState(t=>{const a=null!=e?e:!t.isLocked;return{isLocked:a,isExpanded:!(!t.isMouseOver&&!a)&&t.isExpanded}})},this.onReorderPinSources=()=>{this.setState({isReordering:!0,isLocked:!0})},this.onCloseReorderPinSources=()=>{this.setState({isReordering:!1,isLocked:!1})},this.state={isMouseOver:!1,isLocked:!1,isExpanded:!1,isSidebarCollapsed:e.isSidebarCollapsed,isAllSources:!1,isReordering:!1}}static getDerivedStateFromProps(e,t){return t.isSidebarCollapsed!==e.isSidebarCollapsed?{isSidebarCollapsed:e.isSidebarCollapsed}:null}componentWillUnmount(){this.clearSetExpandedTimeout()}clearSetExpandedTimeout(){this._setExpandedTimeoutID&&(window.clearTimeout(this._setExpandedTimeoutID),this._setExpandedTimeoutID=null)}resetExpandTimeout(){this.clearSetExpandedTimeout(),this._setExpandedTimeoutID=window.setTimeout(()=>this.setState({isExpanded:!0}),250)}render(){const{selectedMachineIdentifier:e,sources:t,hasSourceDetail:a,hasDownloadsSource:n,hasDismissedServerDownloadMessage:i,shouldShowServerDownloadMessage:r,dismissedUnclaimedServers:s,isPending:o,hasNoProviders:l,isMoreMenuRequired:c,isSidebarCollapsed:d,isSidebarAllSources:u}=this.props,{isExpanded:p,isReordering:m}=this.state,h=!d||p||m;return o?y.a.createElement(S$e,{isSidebarCollapsed:d},y.a.createElement(HO.a,null)):y.a.createElement(y.a.Fragment,null,d?y.a.createElement("div",{className:p1e.a.sidebarUnderlay}):null,y.a.createElement("div",{className:b1e(p||m,d),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove},m?y.a.createElement("div",{className:p1e.a.pane},y.a.createElement(d0e,{sources:t,hasDownloadsSource:n,onCloseReorderPinSources:this.onCloseReorderPinSources})):y.a.createElement(Cl.a,{initial:!1},y.a.createElement(Cl.b.div,{key:u?m1e.Right:m1e.Left,initial:"appear",animate:"enter",exit:"exit",variants:f1e,custom:u?m1e.Right:m1e.Left,className:p1e.a.pane},u?y.a.createElement(J0e,{isExpanded:h,showServerDownloadMessage:r,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress}):y.a.createElement(d1e,{sources:t,selectedMachineIdentifier:e,isExpanded:h,hasSourceDetail:a,hasDownloadsSource:n,showServerDownloadMessage:r&&!i,dismissedUnclaimedServers:s,hasNoProviders:l,isMoreMenuRequired:c,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress,onReorderPinSources:this.onReorderPinSources})))))}}var I1e=v1e;const S1e={dispatchSaveExperienceSettings:xy.l,dispatchSetupSources:VS.L,dispatchStartFirstRunExperience:VS.N};const E1e=Object(v.b)((function(){return Object(he.a)(Ot.a,yCe,g$e,Object(he.a)(Gk,gCe,(e,t)=>t.reduce((t,a)=>{const n=Object(lo.a)(a),i=ske({sourceServer:e,sourceProvider:a,directories:n&&n.directories});return t.push(...i),t},[])),hCe(),y$e.a,oV,b$e,ge.a,NU,Object(he.a)(wU.a,hCe(),TU,(e,t,a)=>{if(!a)return!1;for(let a=0;a<e.length;a++){const{server:n,provider:i}=e[a];if(!n.isCloud&&n.friendlyName&&!n.isUnauthorized&&!n.isPending)return!0;if(n.isEmbedded)continue;if(!i)continue;const r=Object(lo.a)(i);if(!r)continue;const{directories:s}=r;if(!t.find(e=>s.find(t=>t.id===e.directoryID)&&e.providerIdentifier===i.identifier))return!0}return!1}),(e,t,a,n,i,r,s,o,l,c,d)=>{const{isSidebarCollapsed:u,isSidebarAllSources:p,sidebarSettings:{hasCompletedSetup:m}}=l;return{isAnonymousUser:e,hasInitialSources:t,hasPreferredEligibleServers:a,dismissedUnclaimedServers:r,defaultSources:n,sources:i,hasSourceDetail:i.some(e=>!!e.titleDetail),hasDownloadsSource:X.a.allowSyncDownload,hasDismissedServerDownloadMessage:s,shouldShowServerDownloadMessage:o,hasCompletedSetup:m,isSidebarCollapsed:u,isSidebarAllSources:p,hasNoProviders:c,isMoreMenuRequired:d}})}),S1e)((function(e){const{isAnonymousUser:t,hasPreferredEligibleServers:a,hasInitialSources:n,hasCompletedSetup:i,defaultSources:r,dispatchSaveExperienceSettings:s,dispatchStartFirstRunExperience:o,dispatchSetupSources:l,...c}=e,[d,u]=Object(g.useState)(!1),{machineIdentifier:p}=Wk();Object(g.useEffect)(()=>{t||!a||i||d?n&&!i&&l({sources:r}):(u(!0),o())},[o,l,t,a,i,n,r,d,u]);const m=Object(g.useCallback)(e=>{s({isSidebarAllSources:e})},[s]);return y.a.createElement(HG.a,{page:It.ob,isDelegated:!0},y.a.createElement(I1e,{...c,selectedMachineIdentifier:p,isPending:!i,onToggleAllSourcesSidebar:m}))}));class O1e extends g.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){C.a.error(e)}render(){return this.state.hasError?y.a.createElement(M$e,null):y.a.createElement(E1e,null)}}var M1e=O1e;const C1e=y.a.lazy(()=>a.e(5).then(a.bind(null,"jQGk"))),j1e=y.a.lazy(()=>a.e(9).then(a.bind(null,"mvma"))),D1e="scroll-container dark-scrollbar";function P1e(){!function(){const e=Object(v.c)(),t=Object(I.g)();Object(g.useEffect)(()=>(e(Object(HI.m)({location:{pathname:t.location.pathname,search:t.location.search}})),t.listen(t=>{e(Object(HI.m)({location:{pathname:t.pathname,search:t.search}}))})),[e,t])}();const e=Object(v.d)(Ee),t=Object(v.d)(Ye),a=t===qe.a.Locked,n=t===qe.a.Unlocked,i=Object(Me.a)(),r=Object(me.a)(i.legacy);return y.a.createElement(y.a.Fragment,null,a?null:y.a.createElement(vt,null),y.a.createElement(I.d,null,y.a.createElement(I.b,{exact:!0,path:_k.a.firstRunExperience},y.a.createElement("div",{className:D1e},y.a.createElement(Gbe,null,y.a.createElement(dRe,null)))),y.a.createElement(I.b,{exact:!0,path:_k.a.serverSetup,component:aIe}),y.a.createElement(I.b,null,y.a.createElement("div",null,y.a.createElement(lPe,null)),y.a.createElement("div",{className:D1e},y.a.createElement(I.d,null,y.a.createElement(I.b,{exact:!0,path:_k.a.logout},y.a.createElement(Gbe,null,y.a.createElement(Mze,null))),y.a.createElement(I.b,{exact:!0,path:_k.a.login},y.a.createElement(Gbe,null,y.a.createElement(pPe,null))),y.a.createElement(I.b,{exact:!0,path:_k.a.signUp},y.a.createElement(Gbe,null,y.a.createElement(vve,{signUp:!0}))),y.a.createElement(I.b,{exact:!0,path:_k.a.announcements},y.a.createElement(Gbe,null,y.a.createElement(Bbe,null,y.a.createElement(Aze,null)))),y.a.createElement(I.b,{exact:!0,path:_k.a.info},y.a.createElement(Aue,{key:"InfoView",view:iMe})),y.a.createElement(I.b,{exact:!0,path:_k.a.logs},y.a.createElement(Aue,{key:"LogsView",view:oMe})),y.a.createElement(I.a,{exact:!0,from:_k.a.serverSettingsPMS,to:Object(I.e)(_k.a.serverSettings,{machineIdentifier:":machineIdentifier",settingsSection:"settings",settingsGroup:"general"})}),y.a.createElement(I.b,{exact:!0,path:_k.a.serverSettingsStatusSync,component:Fbe}),y.a.createElement(I.b,{exact:!0,path:_k.a.serverSettings,component:Hbe}),y.a.createElement(I.a,{exact:!0,from:_k.a.accountPlexTv,to:_k.a.account}),y.a.createElement(I.b,{exact:!0,path:_k.a.account},y.a.createElement(Ize,{component:tke,selectedKey:"account"})),y.a.createElement(I.b,{exact:!0,path:_k.a.webhooks},y.a.createElement(Ize,{component:vVe,selectedKey:"webhooks"})),y.a.createElement(I.b,{exact:!0,path:_k.a.usersSharing},y.a.createElement(Ize,{component:JUe,selectedKey:"users-sharing"})),y.a.createElement(I.b,{exact:!0,path:_k.a.userSharingSettings},y.a.createElement(Ize,{component:JEe,selectedKey:"users-sharing"})),y.a.createElement(I.b,{exact:!0,path:_k.a.onlineMediaSources},y.a.createElement(Ize,{component:DRe,selectedKey:"online-media-sources"})),y.a.createElement(I.b,{exact:!0,path:_k.a.webSettings},y.a.createElement(pe,null,y.a.createElement(Bbe,null,y.a.createElement(eMe,null)))),y.a.createElement(I.b,{exact:!0,path:_k.a.devices},y.a.createElement(Ize,{component:vze,selectedKey:"devices"})),y.a.createElement(I.b,null,y.a.createElement(Gbe,null,y.a.createElement(Bbe,null,y.a.createElement(M1e,null),y.a.createElement(I.d,null,X.a.allowSyncDownload?y.a.createElement(I.b,{exact:!0,path:_k.a.downloads},y.a.createElement(He,null,y.a.createElement(g.Suspense,{fallback:y.a.createElement(Re,null,y.a.createElement(Ge,null))},y.a.createElement(C1e,null)))):null,y.a.createElement(I.b,{exact:!0,path:_k.a.home,component:eQ}),y.a.createElement(I.b,{exact:!0,path:_k.a.mediaGuideV3,component:ake}),y.a.createElement(I.b,{exact:!0,path:_k.a.mediaRecordingScheduleV3,component:TRe}),y.a.createElement(I.b,{exact:!0,path:_k.a.mediaTimelineV3,component:Cze}),y.a.createElement(I.b,{exact:!0,path:_k.a.media,component:e?nR:CAe}),y.a.createElement(I.b,{exact:!0,path:_k.a.playHistory,component:nG}),y.a.createElement(I.b,{exact:!0,path:_k.a.playlist,component:q4}),y.a.createElement(I.b,{exact:!0,path:_k.a.prePlay,component:r?PRe:e9}),y.a.createElement(I.b,{exact:!0,path:_k.a.providerSettings,component:G7}),y.a.createElement(I.b,{exact:!0,path:_k.a.search},y.a.createElement($W,null,y.a.createElement(oze,null))),y.a.createElement(I.b,{exact:!0,path:_k.a.serverDownloadMessage,component:uV}),y.a.createElement(I.b,{exact:!0,path:_k.a.serverUpdate,component:hIe}),y.a.createElement(I.b,{exact:!0,path:_k.a.transientPrePlay,component:EIe}),y.a.createElement(I.b,{component:QP.a}))))))))),a?y.a.createElement(jIe,null):null,n?y.a.createElement(y.a.Fragment,null,y.a.createElement(sG,null,y.a.createElement(DXe,{component:OXe,playerType:Oe.a})),y.a.createElement(sG,null,y.a.createElement(DXe,{component:FJe,playerType:Oe.b})),y.a.createElement(sG,null,y.a.createElement(DXe,{isGame:!0,component:h$e,playerType:Oe.c}))):null,X.a.allowSyncDownload?y.a.createElement(g.Suspense,{fallback:null},y.a.createElement(j1e,null)):null)}var T1e=a("DSbB");var w1e=function(){if(!S.a.hasReplaceState)return h.a.Deferred().resolve().promise();const e=h.a.Deferred(),t=window.location,a=Rn.a.parseQueryString(t.search);let n;try{n=JSON.parse(a.alerts),delete a.alerts}catch(e){}if(n){T1e.a.push(...n);const e=`${j.default.join([`${t.origin}${t.pathname}`],a)}${t.hash}`;window.history.replaceState({},"",e)}return e.resolve().promise()};function N1e(e){return M.a.isString(e)&&e.trim().length>0}function x1e(e,t){const a=Object(ise.a)();return Object(C.a)("[appModelInitializer] Generating new %s [%s]",t,a),e.set(t,a),Ybe.a.set(t,a)}function A1e(e,t){let a;const n=e.get(t);return N1e(n)?a=Ybe.a.set(t,n):(a=Ybe.a.get(t),a=a.then(a=>{if(!N1e(a))return C.a.error("[appModelInitializer] Invalid %s found in storage [%s]",t,n),x1e(e,t);e.set(t,a)},()=>(Object(C.a)("[appModelInitializer] Failed to read %s from storage",t),x1e(e,t)))),a}function L1e(){const e=Object(E.c)("appModel");return Object(RU.a)(A1e(e,"clientID"),A1e(e,"anonymousClientID"),function(e){const t=Ybe.a.get("skipSignIn");return t.always(t=>{e.set("skipSignIn","1"===t)}),t}(e))}var k1e=J.a.extend({lastModified:null,eTag:null,mixins:ee.a,url:function(){const e=E.c("appModel"),t=e.get("user"),a="/sub/"+this.requestType+"/"+t.id+"/"+e.get("clientID"),n=new dpe.a({scheme:"websockets"===this.requestType?"wss":"https",address:"pubsub.plex.tv"});return this.server.resolveUrl(a,{connection:n,appendToken:!0})},initialize:function(e){M.a.bindAll(this,"onSocketOpen","onSocketClose","onSocketError","onSocketMessage","onPingTimeout","onPollSuccess","onPollError"),this.server=e.server},open:function(){return(this.socket||this.pollRequest)&&this.close(),S.a.hasWebSocket?(this._deferred=h.a.Deferred(),this.requestType="websockets",this.socket=new window.WebSocket(M.a.result(this,"url")),this.socket.onopen=this.onSocketOpen,this.socket.onclose=this.onSocketClose,this.socket.onerror=this.onSocketError,this.socket.onmessage=this.onSocketMessage,this._deferred.promise()):this.poll()},close:function(){this.pollRequest&&(A.a.abort(this.pollRequest.rid),this.pollRequest=null),this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject(),this.socket&&(this.cancelPing(),this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null)},schedulePing:function(){this.cancelPing(),this._pingTimeoutID=window.setTimeout(this.onPingTimeout,3e4)},cancelPing:function(){this._pingTimeoutID&&(window.clearTimeout(this._pingTimeoutID),this._pingTimeoutID=null)},poll:function(){this.requestType="longpolling",this.pollUrl=j.default.join(M.a.result(this,"url"),{ttl:String(30)+"s"});const e=this.server.getXHROptions(this.pollUrl,{timeout:35e3});return e.headers["If-Modified-Since"]=this.lastModified?this.lastModified:"Thu, 01 Jan 1970 00:00:00 GMT",this.eTag&&(e.headers["If-None-Match"]=this.eTag),this.pollRequest=h.a.ajax(e).done(this.onPollSuccess).fail(this.onPollError),this.pollRequest.promise()},handleResponse:function(e){if(!e)return;const t=Y7.a.parseXML(e);if(M.a.isObject(t)){const e=t.command;$.a.trigger("cloudServer:"+e,t)}},onSocketOpen:function(e){this.server.set("hasEventConnection",!0),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e),this.schedulePing()},onSocketClose:function(e){this.close(),this.server.set("hasEventConnection",!1),this.trigger("close",this.server,e),this._deferred.reject(this.server,e)},onSocketError:function(e){this.close(),this.trigger("error",this.server,e),this._deferred.reject(this.server,e)},onSocketMessage:function(e){this.handleResponse(e.data)},onPingTimeout:function(){this._pingTimeoutID=null,this.socket.send("hello"),this.schedulePing()},onPollSuccess:function(e,t,a){this.trigger("open",this.server,e),this.lastModified=a.getResponseHeader("Last-Modified"),this.eTag=a.getResponseHeader("ETag"),this.handleResponse(e),this.poll()},onPollError:function(e,t){"abort"===t?this.poll():this.pollRequest.aborting||this.trigger("error",this.server,e)}});var R1e=kue.extend({supportsRetry:e=>e.get("isCloud")});function z1e(e){return e.get("isCloud")}var U1e=function(e){return Object(E.c)("serverConnectionTestManager").queueConnectionTest(e)};var V1e=function(e){return Object(E.c)("serverConnectionTestManager").abortConnectionTest(e)};var B1e=function(e){const{server:t,connection:a}=e;if(t.id)return h.a.Deferred().resolve(t.id).promise();const n=t.resolveUrl("/identity",{connection:a}),i=M.a.extend(t.getXHROptions(n),{timeout:t.connectionTestTimeout});Object(C.a)(`[Identity] Requesting the machine identifier of ${t.get("debugName")} at ${n}`);let r=h.a.ajax(i).promise();return r=r.then(e=>{const a=h.a.Deferred(),n=Rn.a.parseXML(e),i=n&&n.machineIdentifier;return i?(Object(C.a)(`[Identity] Machine identifier found for ${t.get("debugName")}: ${i}`),!t.collection||t.collection.get(i)?a.resolve(i):(t.collection.populateServer({isCloud:!0}).done(e=>{e.get("resources").populate().always(()=>{a.resolve(i)})}),t.collection.findServer({isCloud:!0}).done(e=>{e.populate().fail(()=>{a.resolve(i)})}).fail(()=>{a.resolve(i)}))):a.reject(),a.promise()}),r.fail(()=>{C.a.warn(`[Identity] Machine identifier not found for ${t.get("debugName")} at ${n}`)}),r},F1e=a("S1hb");var H1e=function(e){var t,a;return e.item?a=[t=e.item]:(a=e.items,t=a[0]),h.a.when.apply(h.a,M.a.map(a,(function(e){var a="/library/metadata/"+e.id+"/refresh",n=M.a.extend(t.server.getXHROptions(a),{type:"PUT"});return h.a.ajax(n).promise()}))).fail((function(e){503===e.status?$.a.trigger("show:modal",new F1e.a({model:t.server})):$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem refreshing.")})}))};var _1e=function(e){var t=e.items;return h.a.when.apply(h.a,M.a.map(t,(function(e){var t="/library/metadata/"+e.id+"/analyze",a=M.a.extend(e.server.getXHROptions(t),{type:"PUT"});return h.a.ajax(a).promise()})))};var W1e=function(e){var t=h.a.Deferred(),a=e.section,n="/library/sections/"+a.id+"/analyze",i=M.a.extend(a.server.getXHROptions(n),{type:"PUT"}),r=new zee.a({title:Object(Ce.default)("Analyze Library"),message:Object(Ce.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Ce.default)("Analyze"),cancelLabel:Object(Ce.default)("Cancel"),async:!0}),s=r.promise;return s.done((function(){var e=h.a.ajax(i);e.done((function(){t.resolve()})),e.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem analyzing the library.")}),t.reject(e)})),e.always((function(e){r.hide()}))})),s.fail((function(){t.reject()})),$.a.trigger("show:modal",r),t.promise()};var Q1e=function(e){var t=e.item,a="/library/metadata/"+t.id+"/unmatch",n=M.a.extend(t.server.getXHROptions(a),{type:"PUT"}),i=h.a.ajax(n);return i.fail((function(){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem unmatching this item.")})})),i.promise()};var G1e=function(e){var t=h.a.Deferred(),a=e.item,n="/library/metadata/"+a.id+"/split",i=new zee.a({title:Object(Ce.default)("Split Apart"),message:Object(Ce.default)("Are you sure you want to split this item apart?"),async:!0}),r=i.promise;return r.done((function(){var r=M.a.extend(a.server.getXHROptions(n),{type:"PUT"}),s=h.a.ajax(r);s.done((function(){var n,i=a.get("type");n="show"===i||"artist"===i||"album"===i?"Location":"Media",a.set(n,a.get(n).slice(0,1)),e.skipNavigate||Object(E.c)("appStore").dispatch(Object(ta.w)()),t.resolve()})),s.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem splitting this item apart.")}),t.reject(e)})),s.always((function(e){i.hide()}))})),r.fail((function(){t.reject()})),$.a.trigger("show:modal",i),t.promise()};var K1e=function(e){var t=h.a.Deferred(),a=e.item,n=M.a.pluck(e.items,"id").join(","),i="/library/metadata/"+a.id+"/merge?ids="+n,r=M.a.extend(a.server.getXHROptions(i),{type:"PUT"}),s=new zee.a({title:Object(Ce.default)("Merge"),message:Object(Ce.default)("Are you sure you want to merge these items together?"),async:!0}),o=s.promise;return o.done((function(){var e=h.a.ajax(r);e.done((function(){t.resolve()})),e.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem merging these items.")}),t.reject(e)})),e.always((function(e){s.hide()}))})),o.fail((function(){t.reject()})),$.a.trigger("show:modal",s),t.promise()};function Y1e(e,t){return M.a.map(e,(function(e){return See.a.execute("deleteItem",{item:e,skipRedirect:t})}))}var q1e=function(e){var t=e.items,a=e.item,n=e.skipConfirmation,i=e.skipRedirect;t||(t=[a]),a||(a=M.a.first(t));var r,s=a.get("Media");if(1===t.length&&s.length>1&&!a.get("remoteMedia")&&a.server.supports("specificMediaDeletion"))return See.a.execute("deleteMediaItem",{item:a});if(n)r=h.a.when.apply(h.a,Y1e(t,i));else{var o=function(e){var t,a,n=e.item,i=e.items,r=i.length>1,s=n.get("remoteMedia"),o=n.get("type"),l=wo.getMetadataType(o);s&&!r?(t=l.title,a=Object(Ce.default)("Are you sure you want to remove {1}?",n.get("title"))):r&&i.every(e=>e.get("remoteMedia"))?(t=l.plural,a=Object(Ce.default)("Are you sure you want to remove {1} items?",i.length)):o===wo.COLLECTION?(t=l.title,a=Object(Ce.default)("Are you sure you want to delete {1}? This cannot be undone.",n.get("title"))):r?(t=l.plural,a=Object(Ce.default)("Are you sure you want to delete {1} items from your filesystem?",i.length)):(t=l.title,a=Object(Ce.default)("Are you sure you want to delete this item from your filesystem?"));var c={title:s?Object(Ce.default)("Remove {typeLabel}",{typeLabel:t}):Object(Ce.default)("Delete {typeLabel}",{typeLabel:t}),message:a,confirmLabel:s?Object(Ce.default)("Remove"):Object(Ce.default)("Delete"),cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0};(r||wo.isParentType(o))&&(c.requireDoubleConfirm=!0,c.doubleConfirmMessage=s?Object(Ce.default)("Multiple files may be removed."):Object(Ce.default)("Multiple items may be deleted."),c.doubleConfirmLabel=Object(Ce.default)("Yes, I'm sure"));var d=new zee.a(c);return $.a.trigger("show:modal",d),d}({item:a,items:t});r=o.promise.then((function(){return h.a.when.apply(h.a,Y1e(t,i)).always((function(){o.hide()}))}))}return r},Z1e=a("fwkD"),X1e=a("xY9m"),J1e=a.n(X1e),$1e=Z1e.a.extend({name:"SelectMediaFileModal",template:J1e.a,serializeData:function(){return{medias:this.model.get("Media")}}});var e2e=function(e){var t=function(e){var t=h.a.Deferred(),a=e.item,n=a.get("Media");if(e.index in n)return t.resolve(n[e.index]).promise();var i=new $1e({model:a}),r=i.promise;return r.done((function(e){t.resolve(n[e])})),r.fail((function(){t.reject()})),$.a.trigger("show:modal",i),t.promise()}(e);return t=t.then((function(t){var a=function(){var e=new zee.a({title:Object(Ce.default)("Delete File"),message:Object(Ce.default)("Are you sure you want to delete this file from your filesystem?"),confirmLabel:Object(Ce.default)("Delete"),cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0});return $.a.trigger("show:modal",e),e}();return a.promise.then((function(){return See.a.execute("deleteFile",{item:e.item,media:t}).always((function(){a.hide()}))}))}))};var t2e=function(e){var t=e.item,a=t.server,n=t.get("Media"),i=M.a.filter(n,(function(e){return!!e.proxyType})),r=function(e){var t,a=e.item,n=e.versions,i=n.length>1;if(i)t=Object(Ce.default)("Are you sure you want to delete {1} versions of {2}?",n.length,a.get("title"));else{var r=M.a.first(n);t=Object(Ce.default)("Are you sure you want to delete the {1} version of {2}?",r.title,a.get("title"))}var s=new zee.a({title:i?Object(Ce.default)("Delete Versions"):Object(Ce.default)("Delete Version"),message:t,confirmLabel:Object(Ce.default)("Delete"),cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0});return $.a.trigger("show:modal",s),s}({item:t,versions:i});return r.promise.then((function(){var e=j.default.join(["/library/metadata/",t.id],{proxy:1}),s=M.a.extend(a.getXHROptions(e),{type:"DELETE"}),o=h.a.ajax(s);return o.done((function(){M.a.each(i,(function(e){n.splice(M.a.indexOf(n,e),1)})),t.trigger("change:Media",t,t.get("Media"))})),o.fail((function(e){var t=403===e.status?Object(Ce.default)("Ensure that media deletion is enabled for library content in your server settings."):Object(Ce.default)("There was a problem deleting these versions.");$.a.trigger("show:alert",{type:"error",message:t})})),o.always((function(){r.hide()})),o.promise()}))};var a2e=function(e){var t=h.a.Deferred(),a=e.section,n=new zee.a({title:Object(Ce.default)("Delete Library"),message:Object(Ce.default)("Are you sure you want to delete {1}?",a.get("title")),confirmLabel:Object(Ce.default)("Delete"),cancelLabel:Object(Ce.default)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:Object(Ce.default)("This cannot be undone."),doubleConfirmLabel:Object(Ce.default)("Yes, I'm sure"),async:!0,hasDanger:!0}),i=n.promise;return i.done((function(){var e=a.destroy({wait:!0});e?(e.done((function(){var e=E.c("appStore").dispatch,n=a.server.entityID();n&&e(Object(eS.c)({serverEntityID:n})),t.resolve()})),e.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem deleting the library.")}),t.reject(e)}))):t.resolve()})),i.fail((function(){t.reject()})),$.a.trigger("show:modal",n),t.promise().always(()=>{n.hide()}),t.promise()};var n2e=function(e){var t=e.section,a="/library/sections/"+t.id+"/indexes",n=M.a.extend(t.server.getXHROptions(a),{type:"DELETE"}),i=new zee.a({title:Object(Ce.default)("Delete Preview Thumbnails"),message:Object(Ce.default)("Are you sure you want to delete the preview thumbnails for items in this library? This cannot be undone."),confirmLabel:Object(Ce.default)("Delete"),cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0}),r=i.promise;return r=r.then((function(){return(e=h.a.ajax(n)).done((function(e){$.a.trigger("show:alert",{type:"success",message:Object(Ce.default)("The preview thumbnails for items in this library were deleted.")})})),e.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem deleting the preview thumbnails for items in this library.")})})),e.always((function(e){i.hide()})),e;var e})),$.a.trigger("show:modal",i),r};var i2e=function(e){var t=h.a.Deferred(),a="photo"===e.item.get("playlistType"),n=new zee.a({title:a?Object(Ce.default)("Delete Album"):Object(Ce.default)("Delete Playlist"),message:Object(Ce.default)("Are you sure you want to delete {1}? This cannot be undone.",e.item.get("title")),confirmLabel:Object(Ce.default)("Delete"),cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0}),i=n.promise;return i.done((function(){var i=e.item.destroy();i.done((function(){e.skipRedirect||Object(E.c)("appStore").dispatch(Object(ta.w)()),t.resolve()})),i.fail((function(e){$.a.trigger("show:alert",{type:"error",message:a?Object(Ce.default)("There was a problem deleting the album."):Object(Ce.default)("There was a problem deleting the playlist.")}),t.reject(e)})),i.always((function(e){n.hide()}))})),i.fail((function(){t.reject()})),$.a.trigger("show:modal",n),t.promise()};var r2e=function(e){var t=h.a.Deferred(),a=e.section,n=a?a.id:"all",i=e.cancel,r=a?a.server:e.server,s={};(e.params||{}).force&&(s.force=1);var o="/library/sections/"+n+"/refresh",l=M.a.extend(r.getXHROptions(o),{data:s});function c(){var e=h.a.ajax(l);e.done((function(){t.resolve()})),e.fail((function(e){if(503===e.status)$.a.trigger("show:modal",new F1e.a({model:r}));else{var a=i?Object(Ce.default)("There was a problem canceling the update."):Object(Ce.default)("There was a problem updating the library.");$.a.trigger("show:alert",{type:"error",message:a})}t.reject(e)}))}if(i&&(l.type="DELETE",a&&a.set("refreshing",!1)),s.force){var d=new zee.a({title:Object(Ce.default)("Refresh All"),message:Object(Ce.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Ce.default)("Refresh"),cancelLabel:Object(Ce.default)("Cancel")}),u=d.promise;u.done(c),u.fail((function(){t.reject()})),$.a.trigger("show:modal",d)}else c();return t.promise()};var s2e=function(e){var t=h.a.Deferred(),a=e.server,n=M.a.extend(a.getXHROptions("/library/optimize"),{type:"PUT"}),i=new zee.a({title:Object(Ce.default)("Optimize Database"),message:Object(Ce.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:Object(Ce.default)("Optimize"),cancelLabel:Object(Ce.default)("Cancel"),async:!0}),r=i.promise;return r.done((function(){var e=h.a.ajax(n);e.done((function(){$.a.trigger("show:alert",{type:"success",message:Object(Ce.default)("The database was optimized.")}),t.resolve()})),e.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem optimizing this database.")}),t.reject(e)})),e.always((function(e){i.hide()}))})),r.fail((function(){t.reject()})),$.a.trigger("show:modal",i),t.promise()};var o2e=function(e){var t=h.a.Deferred(),a=e.server,n=M.a.extend(a.getXHROptions("/library/clean/bundles"),{type:"PUT"}),i=new zee.a({title:Object(Ce.default)("Clean Bundles"),message:Object(Ce.default)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:Object(Ce.default)("Clean"),cancelLabel:Object(Ce.default)("Cancel"),async:!0}),r=i.promise;return r.done((function(){var e=h.a.ajax(n);e.done((function(){$.a.trigger("show:alert",{type:"success",message:Object(Ce.default)("Unused bundles are being removed.")}),t.resolve()})),e.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem removing unused bundles.")}),t.reject(e)})),e.always((function(e){i.hide()}))})),r.fail((function(){t.reject()})),$.a.trigger("show:modal",i),t.promise()};var l2e=function(e){var t=h.a.Deferred(),a=e.section,n=a?a.server:e.server,i=[],r=[];a?i.push(a.id):n.get("sections").each((function(e){i.push(e.id)}));var s=new zee.a({title:Object(Ce.default)("Empty Trash"),message:Object(Ce.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ce.default)("Empty"),cancelLabel:Object(Ce.default)("Cancel"),async:!0}),o=s.promise;return o.done((function(){M.a.each(i,(function(e){var t="/library/sections/"+e+"/emptyTrash",a=M.a.extend(n.getXHROptions(t),{type:"PUT"});r.push(h.a.ajax(a))}));var e=h.a.when.apply(h.a,r);e.done((function(){$.a.trigger("show:alert",{type:"success",message:Object(Ce.default)("The trash was emptied.")}),t.resolve()})),e.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem emptying the trash.")}),t.reject(e)})),e.always((function(e){s.hide()}))})),o.fail((function(){t.reject()})),$.a.trigger("show:modal",s),t.promise()};var c2e=function(e){var t=e.item,a={guid:e.guid,name:e.name,year:e.year};"album"===t.get("type")&&e.children&&e.children.reduce((function(e,t){var a=t.get("id");return a&&(e["guid["+a+"]"]=t.get("guid")),e}),a);var n=j.default.join(["/library/metadata/",t.id,"/match"],a),i=M.a.extend(t.server.getXHROptions(n),{type:"PUT"});return h.a.ajax(i).promise()};var d2e=function(e){var t=h.a.Deferred(),a=e.item,n={agent:e.agent.id,manual:0},i=j.default.join(["/library/metadata/",a.id,"/matches"],n),r=M.a.extend(a.server.getXHROptions(i)),s=h.a.ajax(r);return s.done((function(e){var i=M.a.isObject(e)?e:Y7.a.parseXML(e);if(i.SearchResult){var r=i.SearchResult;Array.isArray(i.SearchResult)&&(r=i.SearchResult[0]),n={guid:r.guid,name:r.name};var s=j.default.join(["/library/metadata/",a.id,"/match"],n),o=M.a.extend(a.server.getXHROptions(s),{type:"PUT"}),l=h.a.ajax(o);l.done((function(){t.resolve()})),l.fail((function(){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem matching this item.")}),t.reject()}))}else $.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("No matches were found using this agent.")}),t.reject()})),s.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem searching for matches.")}),t.reject(e)})),t.promise()},u2e={poster:"thumb",art:"art",banner:"banner"};var p2e=function(e){var t=e.item,a={url:e.artworkRatingKey},n=j.default.join(["/library/metadata/",t.id,e.artworkType],a),i=M.a.extend(t.server.getXHROptions(n),{type:"PUT"}),r=h.a.ajax(i);return r.done((function(a){t.set(u2e[e.artworkType],a)})),r.promise()};var m2e=function(e){var t=e.item,a=e.rating,n=t.get("userRating");if(-1===a?t.unset("userRating"):t.set("userRating",a),e.passive)return h.a.Deferred().resolve().promise();var i={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:a},r=j.default.join("/:/rate",i),s=h.a.ajax(t.server.getXHROptions(r));return s.fail((function(){t.set("userRating",n),$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem rating this item.")})})),s.promise()};var h2e=function(e,t,a){if(e){const n=Object(jJ.a)(e,{streamType:t.id});M.a.each(n,e=>{e.selected=e.id===a})}};var g2e=function(e){var t=h.a.Deferred(),a=e.item,n=a.server,i=e.media||M.a.first(a.get("Media")),r=e.part||i&&M.a.first(i.Part),s=e.streamType,o=e.streamID;if(!i||!r)return t.reject().promise();var l={};l[s.key]=o,!e.media&&n.supports("allPartsStreamSelection")&&(l.allParts=1);var c=j.default.join(["/library/parts/",r.id],l),d=M.a.extend(n.getXHROptions(c),{type:"PUT"}),u=h.a.ajax(d);return u.done((function(){h2e(i,s,o),a.trigger("change:streams"),t.resolve()})),u.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem selecting the stream for this item.")}),t.reject(e)})),t.promise()};var y2e=function(e){var t,a=e.item,n=e.media,i=a.server;if(n){var r="/library/metadata/"+a.id+"/media/"+n.id,s=M.a.extend(i.getXHROptions(r),{type:"DELETE"});(t=h.a.ajax(s)).done((function(){var t=e.item.get("Media");t.splice(M.a.indexOf(t,n),1),a.trigger("change:Media",a,a.get("Media"))}))}else t=a.destroy({wait:!0});return t.fail((function(e){var t=403===e.status?Object(Ce.default)("Ensure that media deletion is enabled for library content in your server settings."):Object(Ce.default)("There was a problem deleting this item.");$.a.trigger("show:alert",{type:"error",message:t})})),t},f2e=a("6dAO");function b2e(e,t){if(!e)return!1;var a=new _I.a({key:e},{server:t.item.server,onlyIfCached:!0});return!M.a.isEmpty(a)&&a}function v2e(e){if(e.skipRedirect)return;const t=e.item,a=t.get("isLibraryItem")&&t.parent,n=t.get("librarySectionKey")||a&&a.get("librarySectionKey");if(!n)return void Object(E.c)("appStore").dispatch(Object(ta.w)());const i=Object(f2e.a)(t.provider,n),r=Object(ng.a)(t.server.toJSON(),t.provider.toJSON(),i);r?Object(E.c)("appStore").dispatch(Object(ta.v)({pathname:r,replace:!0})):Object(E.c)("appStore").dispatch(Object(ta.w)())}function I2e(e,t){t.skipRedirect||Object(E.c)("appStore").dispatch(Object(ta.y)({serverEntityID:e.server.entityID(),providerEntityID:e.provider.entityID(),key:e.get("key"),replace:!0}))}var S2e=function(e){var t=See.a.execute("deleteFile",e);return t.done((function(){var t=e.item,a=b2e(t.get("parentKey"),e);if(a){var n=new GE.default({containerKey:a.get("childrenKey")},{server:a.server,provider:a.provider,skipCache:!0});n.fetchRange({size:1}).then(()=>{if(n.getCollection().length>0)I2e(a,e);else{a.trigger("destroy",a,a.collection);var i=b2e(t.get("grandparentKey"),e);if(i){var r=new GE.default({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider,skipCache:!0});r.fetchRange({size:1}).then(()=>{r.getCollection().length>0?I2e(i,{...e,skipRedirect:!1}):v2e(e)})}else v2e({...e,skipRedirect:!1})}})}else v2e(e)})),t};var E2e=function(e){var t=e.generator,a=M.a.result(t,"url")+"/"+e.ratingKey+"/enable",n=M.a.extend(t.server.getXHROptions(a),{type:"PUT"}),i=h.a.ajax(n).promise();return i.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem enabling this version.")})})),i};var O2e=function(e){var t=e.generator,a=M.a.result(t,"url")+"/"+e.ratingKey+"/disable",n=function(){var e=new zee.a({title:Object(Ce.default)("Remove Version"),message:Object(Ce.default)("Are you sure you want to delete this version? You can enable it again in Optimized Versions Settings."),confirmLabel:Object(Ce.default)("Remove"),cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0});return $.a.trigger("show:modal",e),e}();return n.promise.then((function(){var e=M.a.extend(t.server.getXHROptions(a),{type:"PUT"}),i=h.a.ajax(e).promise();return i.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem disabling this version.")})})),i.always((function(){n.hide()})),i}))};var M2e=function(e){var t=e.generator,a=e.ratingKey,n=M.a.result(t,"url");a&&(n+="/"+a),n+="/reprocess";var i=M.a.extend(t.server.getXHROptions(n),{type:"PUT"}),r=h.a.ajax(i).promise();return r.fail((function(e){var t=a?Object(Ce.default)("There was a problem processing this item."):Object(Ce.default)("There was a problem processing these items.");$.a.trigger("show:alert",{type:"error",message:t})})),r};var C2e=function(e){var t=e.generator,a=function(e){var t=e.generator.get("title"),a=t?Object(Ce.default)("Removing this item will delete all versions created by {1}. Are you sure you want to continue?",t):Object(Ce.default)("Removing this item will delete all related versions. Are you sure you want to continue?"),n=new zee.a({title:Object(Ce.default)("Delete Versions"),message:a,confirmLabel:Object(Ce.default)("Remove"),cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0});return $.a.trigger("show:modal",n),n}(e);return a.promise.then((function(){var e=t.destroy();return e.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("Unable to stop generating these versions.")})})),e.always((function(){a.hide()})),e}))};var j2e=function(e){var t=function(){var e=new zee.a({title:Object(Ce.default)("Delete All Versions"),message:Object(Ce.default)("Are you sure you want to delete all versions? This cannot be undone."),confirmLabel:Object(Ce.default)("Delete"),cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0});return $.a.trigger("show:modal",e),e}(),a=t.promise;return a=a.then((function(){var a="/playlists/generators?type="+eee.a.LOCAL,n=M.a.extend(e.server.getXHROptions(a),{type:"DELETE"}),i=h.a.ajax(n).promise();return i.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem deleting all versions.")})})),i.always((function(){t.hide()})),i.promise()}))};var D2e=function(e){var t,a=h.a.Deferred(),n=e.channel,i=n?n.server:e.server,r=e.silent;if(n){var s=n.get("identifier");t=(s?"/system/appstore/apps/"+s:n.get("key"))+"/update"}else t="/system/appstore/updates";var o=h.a.ajax(i.getXHROptions(t));function l(e){r||$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem checking for updates.")}),a.reject(e)}return o.done((function e(t){var n=M.a.isObject(t)?t:Y7.a.parseXML(t);if(n&&(n.message||n.Directory))if(n.message)r||$.a.trigger("show:alert",{type:"success",message:n.message}),a.resolve();else{Y7.a.parseArray(n,"Directory");var s=n.Directory[0].key,o=h.a.ajax(i.getXHROptions(s));o.done(e),o.fail(l)}else l()})),o.fail(l),a.promise()};var P2e=function(e){var t=h.a.Deferred(),a=e.channel,n=a.get("identifier"),i=(n?"/system/appstore/apps/"+n:a.get("key"))+"/uninstall",r=a.server.getXHROptions(i);function s(){var n=h.a.ajax(r);n.done((function(n){var i=M.a.isObject(n)?n:Y7.a.parseXML(n);a.set("installed",!1),i.message&&!e.skipConfirmation&&$.a.trigger("show:alert",{type:"success",message:i.message}),t.resolve()})),n.fail((function(e){if(400===e.status){var n=new zee.a({title:Object(Ce.default)("Unable to Uninstall Plugin"),message:Object(Ce.default)("This plugin could not be uninstalled, but you can disable it in the server settings."),confirmLabel:Object(Ce.default)("OK"),cancelLabel:Object(Ce.default)("Ignore")});n.promise.done((function(){Object(see.a)("serverSettings",{machineIdentifier:a.server.id,settingsSection:"settings",settingsGroup:"channels"})})),$.a.trigger("show:modal",n)}else $.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("This plugin could not be uninstalled.")});t.reject(e)}))}if(e.skipConfirmation)s();else{var o=new zee.a({title:Object(Ce.default)("Uninstall Plugin"),message:Object(Ce.default)("Are you sure you want to uninstall this plugin?")}),l=o.promise;l.done(s),l.fail((function(){t.reject()})),$.a.trigger("show:modal",o)}return t.promise()};var T2e=function(e){var t,a=e.cloudAccount,n=a.server.get("desktop").get("settings").get("PublishServerOnPlexOnlineKey"),i=h.a.Deferred();if(!a.get("isWaiting")){var r=e.value?"connecting":"disconnecting";a.set("remoteAccessState",r)}var s=a.previous("remoteAccessState"),o=n.save({PublishServerOnPlexOnlineKey:e.value},{timeout:0});return o.done((function n(){a.fetch().done((function(){var r=a.get("mappingState"),s=e.value&&"unknown"===r,o=!e.value&&"mapped"===r;"waiting"===r||s||o?t||(t=window.setInterval(n,500)):(t=window.clearInterval(t),a.get("isWaiting")&&a.set("remoteAccessState",""),i.resolve())}))})),o.fail((function(t){var n;n=e.value?Object(Ce.default)("There was a problem connecting your server."):Object(Ce.default)("There was a problem disconnecting your server."),$.a.trigger("show:alert",{type:"error",message:n}),a.set("remoteAccessState",s),i.reject(t)})),i.promise()};var w2e=function(e){var t=e.cloudAccount,a={cloudAccount:t,value:!1},n=See.a.execute("connectServer",a);return n=(n=n.then((function(){return a.value=!0,See.a.execute("connectServer",a)}))).then((function(){if(t.get("mappingError"))return h.a.Deferred().reject().promise()}))};var N2e=function(e){const{cloudAccount:t,username:a,password:n,claim:i=!1}=e,r=h.a.Deferred(),s=t.server,o=Object(E.c)("appModel"),l=o.get("user"),c=o.get("cloudServer"),d=s.get("accessToken");s.set("accessToken",l.get("authToken"));const u=i?function(e,t){const a=t.getXHROptions("/api/claim/token");let n=h.a.ajax(a).promise();return n=n.then(t=>{const{token:a}=Rn.a.parseXML(t),n=j.default.join("/myplex/claim",{token:a}),i=e.getXHROptions(n,{type:"POST"});return h.a.ajax(i).promise()}),n}(s,c):function(e,t,a){const n=j.default.join("/myplex/account",{username:e,password:t}),i=a.getXHROptions(n,{type:"PUT"});return h.a.ajax(i).promise()}(a,n,s);return u.done(e=>{const a=M.a.isObject(e)?e:Rn.a.parseXML(e);a&&"invalid"===a.signInState?($.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("The username or password is incorrect.")}),r.reject()):(s.set({myPlexSigninState:zU.b,myPlexUsername:l.get("email")}),t.set({signedIn:!0,username:l.get("email")}),r.resolve())}),u.fail(e=>{let a;s.set("accessToken",d),!0===t.get("signedIn")&&t.set("signedIn",!1),a=401===e.status?Object(Ce.default)("The username or password is incorrect."):Object(Ce.default)("There was a problem signing in to Plex."),$.a.trigger("show:alert",{type:"error",message:a}),r.reject(e)}),r.promise()};function x2e(e){e.trigger("destroy",e,e.collection),e.cache.remove(e)}var A2e=function(e){var t,a=E.c("appModel").get("user"),n=e.device,i=e.server||function(e){var t=new zU.e({machineIdentifier:e},{onlyIfCached:!0});if(!M.a.isEmpty(t))return t}(n.get("clientIdentifier"));function r(){var e;if(n)e=n.destroy({wait:!0});else{var t="/api/servers/"+i.id,r=M.a.extend(a.server.getXHROptions(t),{type:"DELETE"});e=h.a.ajax(r)}if(i){if(i.get("connected")&&i.get("myPlexSigninState")===zU.b){var s=i.get("desktop").get("cloudAccount");e=(e=e.then((function(){return s.fetch()}))).then((function(){return function(e){var t=e.get("desktop").get("cloudAccount").destroy();return t.done((function(){e.set({accessToken:void 0,myPlexSigninState:zU.a,myPlexSubscription:!1})})),t}(i)}))}!1===i.get("connected")?x2e(i):e.always((function(){$.a.trigger("test:server",i),i.populate().fail((function(){x2e(i)}))}))}return e.always((function(){o.hide()})),e.promise()}t=n?Object(Ce.default)("If you remove the server, all syncs and shares associated with the server will be lost and you will need to sign the server in again to restore access to Plex."):Object(Ce.default)("Are you sure you want to remove this server?");var s={title:Object(Ce.default)("Remove Server"),message:t,confirmLabel:Object(Ce.default)("Remove"),cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0};n&&(s.requireDoubleConfirm=!0,s.doubleConfirmMessage=Object(Ce.default)("Are you sure you want to remove this server?"),s.doubleConfirmLabel=Object(Ce.default)("Yes, I'm sure"));var o=new zee.a(s),l=o.promise;return l=l.then((function(){return r()})),$.a.trigger("show:modal",o),l};var L2e=function(e){const t=h.a.Deferred();return e&&e.then?e.then(t.resolve,t.reject):t.resolve(e),t.promise()},k2e=a("1aU3");var R2e=Object(k2e.combineReducers)({metadataItemState:Ki.a.reducer,metadataLists:ja.a.reducer,metadataTimelineState:dl.reducer,user:bm.reducer,serverAccounts:iQ.reducer,serverActivities:ws.reducer,serverDevices:sQ.reducer,serverNowPlayingSessions:fm.reducer,servers:Cs.reducer});var z2e=Object(k2e.combineReducers)({bandwidth:lte.reducer,playHistory:$ae.reducer,resources:fne.reducer,topPlayed:wne.reducer,topUsers:Kne.reducer});var U2e=Object(k2e.combineReducers)({dvrSetup:cse.reducer,epgSettings:mse.reducer});var V2e=Object(k2e.combineReducers)({addToPlaylist:pl.reducer,dashboard:z2e,advancedFilters:jf.reducer,directory:Em.reducer,downloads:xs.reducer,dvrManagement:U2e,home:TR.reducer,importPlaylists:QS.reducer,libraryManagement:ure.reducer,metadataMultiselect:Tr.reducer,players:vm.reducer,playHistory:uQ.reducer,prePlay:H5.reducer,twoFactorAuth:UAe.reducer});const B2e=Object(k2e.combineReducers)({core:R2e,features:V2e}),F2e=Object(jr.b)("v4/reset");var H2e=(e,t)=>(t.type===F2e.type&&(e=void 0),B2e(e,t));var _2e=function(){const e=Object(E.c)("appStore"),t=Object(E.c)("appModel"),a=t.get("ui"),n=t.get("user"),i=t.get("fakeRouter"),r=n.server;let s=n.clearAccessToken();return s=s.fail(()=>{C.a.warn("Failed to clear the access token and user storage")}).always(()=>{t.set("history",[]),e.dispatch(F2e()),a&&a.restoreDefaults(),i&&i.restoreDefaults(),A.a.abortAll(),n.signOut(),n.uninitialize(),n.initialize(),$.a.trigger("clear:servers"),e.dispatch(Object(ta.u)({budget:1/0})),$.a.trigger("clearAll:cache"),r.cache.store(r)}),s=s.then(()=>L2e(Object(E.c)("serviceWorker").sendMessage({type:"SIGN_OUT"}))),Object(H.a)(s)},W2e=a("LL+a");var Q2e=function(e={}){const t=Object(E.c)("appModel").get("user"),a=t.get("signedIn"),n=t.id!==e.homeUser.id,i=e.allowGuestLock,r=!!e.isRemoteUser,s=n||i,o=!1!==e.shouldUnlock;let l=a?See.a.execute("authenticateWithServer",e):See.a.execute("authenticateWithHash",e);return a&&s?l=l.then(t=>function(e,t){const a=Object(E.c)("appModel").get("user");let n=See.a.execute("resetUser");return n=n.then(()=>{a.activateStoredUser(t.homeUser.id);const n=W2e.a.getActiveUser();n&&n.copyToModel(a),$.a.trigger("init:servers");const i={};return!1!==t.shouldUnlock&&(i.lockState=qe.a.Unlocked),a.signIn(e,i)}),n.done(()=>{Object(E.c)("metrics").trackEvent({event:bD.h,interaction:!0})}),n}(t,e)):l.done(()=>{const e={isRemote:r};o&&(e.lockState=qe.a.Unlocked),t.set(e)}),l};function G2e(e,t={}){return{includeSubscriptions:1,includeProviders:1,includeSettings:X.a.allowSyncSettings?1:0,includeSharedSettings:Object(EOe.a)(e)?1:0,...t}}var K2e=function({url:e,data:t,onMessage:a,timeout:n}){const i=window.setTimeout(()=>{a({success:!1}),r()},n);function r(){window.document.body.removeChild(o),window.removeEventListener("message",s),window.clearTimeout(i)}function s(e){if(e.source!==o.contentWindow)return;let t;try{t=JSON.parse(e.data)}catch(e){}t&&(a(t),r())}window.addEventListener("message",s);const o=window.document.createElement("iframe");o.style.display="none",o.src=`${e}#${encodeURIComponent(JSON.stringify({data:t}))}`,window.document.body.appendChild(o)};function Y2e(e){return e&&e.statusText||""}var q2e=function(e){const t=e.xhrFields&&e.xhrFields.withCredentials&&!1;return e.headers={...V.a.getInstance(),...e.headers||{}},t?function(e){const t=h.a.Deferred();return K2e({url:"https://app.plex.tv/service-reflector",data:e,timeout:5e3,onMessage:e=>{!0===e.success?t.resolve(e.data,Y2e(e.xhr),e.xhr):!1===e.success&&t.reject(e.xhr,Y2e(e.xhr))}}),t.promise()}(e):h.a.ajax(e)};var Z2e=function(e){var t=e.homeUser,a=E.c("appModel").get("user"),n=t.get("uuid")||a.get("uuid"),i=G2e(a,{pin:e.pin}),r=j.default.join(["/api/v2/home/users/",n,"/switch"],i),s=t.server.getXHROptions(r,{type:"POST",xhrFields:{withCredentials:X.a.allowSSO}});return q2e(s)};var X2e=function(e){const t=h.a.Deferred().resolve().promise(),a=h.a.Deferred().reject().promise(),n=W2e.a.getActiveUser();if(!n)return a;const i=n.get("pin"),r=n.get("authToken");return i||e.pin?i===Object(E.c)("appModel").get("user").hashPIN(e.pin,r)?t:a:t},J2e=a("9U9a"),$2e=a("B8+q"),e4e=a.n($2e),t4e=Z1e.a.extend({name:"selectDeviceModal",template:e4e.a,serializeData:function(){return{devices:this.collection.toJSON()}}});var a4e=function(e){var t=E.c("appModel").get("user"),a=e.item.server;if(a.get("myPlexSigninState")===zU.b)if(a.get("allowSync")){var n=t.get("desktop").get("devices").filterSyncDevices(e.item),i=M.a.clone(e);if(n.length){var r=new t4e({collection:n});r.promise.done((function(e){i.device=n.get(e),$.a.trigger("show:modal",new Wie(i))})),$.a.trigger("show:modal",r)}else $.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("You are not signed in to any sync capable devices.")})}else $.a.trigger("show:modal",new J2e.a({model:a}));else{var s=Object(Ce.default)("This server needs to be connected to Plex to sync its content.");$.a.trigger("show:alert",{type:"error",message:s})}};var n4e=function(e){var t=e.syncItem,a=e.server;if(!t.server.get("connected"))return $.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("Please sign in to remove sync items.")}),h.a.Deferred().reject().promise();var n=function(){var e=new zee.a({title:Object(Ce.default)("Stop Syncing"),message:Object(Ce.default)("Are you sure you want to stop syncing this item? All files created by this job will be removed from the device."),confirmLabel:Object(Ce.default)("Remove"),cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0});return $.a.trigger("show:modal",e),e}(),i=n.promise.then((function(){var e=t.destroy();return e.fail((function(e){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem removing this sync item.")})})),e.always((function(){n.hide()})),e}));return i=i.then((function(){return See.a.execute("refreshSyncLists",{server:a,silent:!0,skipContent:!0})}))};var i4e=function(e){var t=e.server,a=M.a.extend(t.getXHROptions("/sync/refreshSynclists"),{type:"PUT"}),n=h.a.ajax(a);return e.skipContent||(n=n.then((function(e){var a=M.a.extend(t.getXHROptions("/sync/refreshContent"),{type:"PUT"});return h.a.ajax(a)}))),n.done((function(){e.silent||$.a.trigger("show:alert",{type:"success",message:Object(Ce.default)("Synced items were refreshed.")})})),n.promise()};var r4e=function(e){var t=e.device,a=Object(Ce.default)("If you remove this device, you will need to sign in again on the device to restore access to Plex."),n=new zee.a({title:Object(Ce.default)("Remove Device"),message:a,confirmLabel:Object(Ce.default)("Remove"),cancelLabel:Object(Ce.default)("Cancel"),async:!0,hasDanger:!0}),i=n.promise;return i=i.then((function(){return(e=t.destroy({wait:!0})).fail((function(){$.a.trigger("show:alert",{type:"error",message:Object(Ce.default)("There was a problem removing this device.")})})),e.always((function(){n.hide()})),e.promise();var e})),$.a.trigger("show:modal",n),i};var s4e=function(e){return Object(H.a)(q2e({url:"https://plex.tv/api/v2/users/signout",headers:{"X-Plex-Token":e.accessToken},type:"DELETE",xhrFields:{withCredentials:!1}}))};var o4e=function(){Object(E.c)("metrics").trackEvent({event:bD.f,interaction:!0});const e=X.a.allowSSO,t=Object(E.c)("appModel").get("user").get("authToken");return Object(H.a)(e?s4e({accessToken:t}):h.a.Deferred().resolve().promise()).then(()=>See.a.execute("resetUser")).then(()=>(W2e.a.restoreDefaults(),W2e.a.save())).then(()=>{e&&s4e({accessToken:t}),$.a.trigger("init:servers")})};var l4e=function(){const e=h.a.Deferred();return Object(E.c)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()};function c4e(){return See.a.registerAll(u),h.a.Deferred().resolve().promise()}var d4e={subscribe(){$.a.on("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},unsubscribe(){$.a.off("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},onCloudServerCommand(e){const t=e.Command,a={supportsTimeline:!1,path:t.path,commandID:t.commandID,query:{key:[t.queryKey],offset:[t.queryOffset],mediaIndex:[t.queryMediaIndex],containerKey:[t.queryContainerKey],playQueueID:[t.queryPlayqueueid],type:[t.queryType],volume:[t.queryVolume],repeat:[t.queryRepeat],autoPlay:[t.queryAutoPlay],subtitleSize:[t.querySubtitleSize],audioStreamID:[t.queryAudioStreamID],subtitleStreamID:[t.querySubtitleStreamID],token:[t.queryToken],machineIdentifier:[t.queryMachineIdentifier],protocol:[t.queryProtocol],address:[t.queryAddress],port:[t.queryPort],text:[t.queryText],field:[t.queryField]}};Object(E.c)("localCompanionCommandHandler")(a)}};let u4e=null,p4e=null;function m4e(){const e=g4e();return!(e&&!e.isLeader())&&Object(E.c)("settingFinder").find("companion")}function h4e(){if(!m4e())return;const e=Object(E.c)("appModel"),t=e.get("cloudServer"),a=e.get("clientID");if(!t||!t.get("authorized")||!a||a===u4e)return;u4e=a,C.a.info('[Companion] Registering player with plex.tv, clientID="%s"',a);Object(E.c)("companionProxy").registerPlayer(t,a).done(()=>{C.a.info('[Companion] Registered player with plex.tv, clientID="%s"',a)}).fail(e=>{e||(e={}),u4e=null,C.a.warn('[Companion] Couldn\'t register player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))})}function g4e(){return Object(E.a)("companionVote")?Object(E.c)("companionVote"):null}function y4e(){const e=Object(E.c)("companionProxy"),t=m4e();return p4e===t?h.a.Deferred().resolve().promise():(p4e=t,t?(d4e.subscribe(),h.a.when(e.subscribe(Object(E.c)("localCompanionCommandHandler")))):(d4e.unsubscribe(),h.a.when(e.unsubscribe(),function(){const e=Object(E.c)("appModel"),t=e.get("cloudServer"),a=e.get("clientID");if(!t.get("authorized")||!a)return;return C.a.info('[Companion] Unregistering player with plex.tv, clientID="%s"',a),Object(E.c)("companionProxy").unregisterPlayer(t,a).done(()=>C.a.info('[Companion] Unregistered player with plex.tv, clientID="%s"',a)).fail((e={})=>C.a.warn('[Companion] Couldn\'t unregister player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100)))}())))}function f4e(){const e=Object(E.c)("appModel"),t=e.get("cloudServer");h4e(),e.on("change:clientID",h4e),t.on("change:authorized",h4e),Object(E.c)("settingFinder").addCompanionChangeListener(y4e);const a=g4e();let n;return a&&a.on("leaderStatusChanged",e=>{C.a.info(e?"[Companion] Elected to poll leader role":"[Companion] Lost poll leader role"),y4e()}),n=m4e()?y4e().then(()=>{const e=Object(E.c)("companionProxy").getDeepLink();return e.fail(()=>{C.a.warn("[Companion] Ignoring error getting deep link")}),Object(H.a)(e)}):h.a.Deferred().resolve().promise(),n}function b4e(){const e=Object(E.c)("appModel");return Object(RU.a)(e.get("settings").populate(),e.get("deviceSettings").populate())}var v4e=J.a.extend({getStorage(){},get(e){return this._catchStorageError(t=>{const a=window.PLEXWEB,n=a&&e in a?a[e]:t.getItem(e);if(null==n)throw new Error(`${e} is not in ${this.name}`);return n})},set(e,t){return this._catchStorageError(a=>{if(!e)throw new Error(`Unable to set value in ${this.name} without a key`);if(null==t)throw new Error(`Unable to set null or undefined value for ${e} in ${this.name}. Use the remove function.`);return a.setItem(e,t)})},remove(e){return this._catchStorageError(t=>t.removeItem(e))},clear(){return this._catchStorageError(e=>e.clear())},_catchStorageError(e){const t=h.a.Deferred();try{t.resolve(e(this.getStorage()))}catch(e){C.a.warn(e.message),t.reject(e)}return t.promise()}});var I4e=v4e.extend({name:"BasicVolatileStorage",initialize(){const e={};this.api={getItem:t=>e[t],setItem(t,a){e[t]=a},removeItem(t){delete e[t]},clear(){for(const t in e)e.hasOwnProperty(t)&&delete e[t]}}},getStorage(){return this.api}});var S4e=new HM.a({interface:["get","set","remove","clear"]}),E4e=a("CZ2S");function O4e(e,t){return Ybe.a.get(e).then(e=>Object(E4e.a)(e,t),()=>{if(t)return h.a.Deferred().resolve(t).promise()})}function M4e(e,t){return Ybe.a.set(e,JSON.stringify(t))}var C4e=function(e){return e.isDirty=!0,O4e(W2e.a.storageKey).then(t=>{if(t.users)return t.users.forEach(t=>{t.experienceSettings={...t.experienceSettings,...e}}),M4e(W2e.a.storageKey,t)})};const j4e=["homeSettings"];var D4e=function(){const e=Object(E.c)("StoredUserExperienceSettingsModel"),t=Object.keys({...e.prototype.syncedAttrs,...e.prototype.syncedRelations}),a=M.a.without(t,...j4e),n=O4e("experience").then(e=>{const t=M.a.pick(e,a);return C4e(t).then(()=>Ybe.a.remove("experience"))});return Object(H.a)(n)},P4e=a("RO7n");var T4e=P4e.a.extend({name:"DeviceSettingsModel",storageKey:"deviceSettings",sessionAttrs:{isSaving:QE.a.boolean,saveError:QE.a.object},syncedAttrs:{v4DirectoryEnabled:QE.a.boolean,v4DVRSetupEnabled:QE.a.boolean,autoLogin:QE.a.boolean,chromecastAppID:QE.a.string,chromecastCustomAppID:QE.a.string,sonosCustomBaseURL:QE.a.string,debugAdKind:QE.a.integer,debugLevel:QE.a.integer,debugVideoQualityOverlay:QE.a.boolean,directPlay:QE.a.boolean,directStream:QE.a.boolean,rejectDirectConnections:QE.a.boolean,restorePlayQueue:QE.a.object,shouldSyncSettings:QE.a.boolean,hasDismissedInsecureHostedAppWarning:QE.a.boolean,hasDismissedServerDownloadMessage:QE.a.boolean,dismissedUnclaimedServers:QE.a.object,dismissedServerUpdateVersions:QE.a.object,volume:QE.a.integer,serverUpdateDismissedVersion:QE.a.string},defaults:()=>({isSaving:!1,saveError:null,v4DirectoryEnabled:!1,v4DVRSetupEnabled:!1,autoLogin:!1,chromecastAppID:_Oe.PRODUCTION,debugAdKind:aOe.a.NONE,debugLevel:nOe.a.DISABLED,debugVideoQualityOverlay:!1,directPlay:!0,directStream:!0,rejectDirectConnections:!1,restorePlayQueue:null,shouldSyncSettings:X.a.allowSyncSettings,hasDismissedInsecureHostedAppWarning:!1,hasDismissedServerDownloadMessage:!1,dismissedUnclaimedServers:{},dismissedServerUpdateVersions:{},volume:90})});const w4e=["debugVideoQualityOverlay","restorePlayQueue","volume"];var N4e=function(){const e=T4e.prototype.storageKey,t=O4e("experience").then(t=>{const a=M.a.pick(t,w4e);if(0!==Object.keys(a).length)return O4e(e,{}).then(t=>{const n={...t,...a};return M4e(e,n)})});return Object(H.a)(t)},x4e=a("9T71");function A4e(e){const t=window.navigator;let a;return e?a=[e]:t.languages?a=t.languages:t.language?a=[t.language]:t.userLanguage&&(a=[t.userLanguage]),t$(a)||"en"}var L4e=XE.a.extend({name:"ReminderModel",syncedAttrs:{data:QE.a.object,id:QE.a.string.isRequired,remindAfter:QE.a.string.isRequired,times:QE.a.integer.isRequired}});var k4e=CS.a.extend({name:"ReminderCollection",model:L4e}),R4e=a("sn2U");const z4e=Tie.a.ORIGINAL,U4e=P4e.a.extend({name:"UserExperienceSettingsModel",sessionAttrs:{...R4e.a.sessionAttrs,isRemoteSchemaVersionNewer:QE.a.boolean},syncedAttrs:{...R4e.a.syncedAttrs,schemaVersion:QE.a.integer,language:QE.a.string,playThemeMusic:QE.a.boolean,companion:QE.a.boolean,allowHttpFallback:QE.a.string,timeFormat:QE.a.string,autoAdjustQuality:QE.a.boolean,remoteSmallVideoAtOriginalQuality:QE.a.boolean,useHomeStreamingRecommendedSettings:QE.a.boolean,localQuality:QE.a.integer,remoteQuality:QE.a.integer,audioBoost:QE.a.integer,subtitleColor:QE.a.string,subtitlePosition:QE.a.string,subtitleSize:QE.a.integer,subtitlesBurnLevel:QE.a.string,extrasPrefixCount:QE.a.integer,audioForceMultiChannel:QE.a.boolean,forceTranscodeProtocolHLS:QE.a.boolean,autoPlay:QE.a.boolean,calendarViewType:QE.a.string,columnAdjustment:QE.a.integer,columnWidthMultiplier:QE.a.float,dashboardNowPlayingShowDetails:QE.a.boolean,hasDismissedDVRUpsell:QE.a.boolean,hasDismissedServerDashboardUpsell:QE.a.boolean,hasDismissedNewsSunsetBanner:QE.a.boolean,hasDismissedHubPromotionWarning:QE.a.boolean,isSidebarCollapsed:QE.a.boolean,libraryTableColumns:QE.a.object,listStyles:QE.a.object,prePlayListStyles:QE.a.object,directoryListStyles:QE.a.object,directoryTableColumns:QE.a.object,savedDirectoryListKeys:QE.a.object,relayReminders:QE.a.object,showAdvancedSettings:QE.a.boolean,showPrePlayArtwork:QE.a.boolean,musicDownloadQuality:QE.a.integer,videoDownloadQuality:QE.a.integer,searchAllServers:QE.a.boolean,libraryRoutes:QE.a.object},syncedRelations:{...R4e.a.syncedRelations,reminders:{relationClass:k4e}},defaults:()=>({...R4e.a.defaults,isRemoteSchemaVersionNewer:!1,language:A4e(),playThemeMusic:!1,companion:!0,allowHttpFallback:iOe.a.NEVER,timeFormat:"h:mma",autoAdjustQuality:!1,remoteSmallVideoAtOriginalQuality:!0,useHomeStreamingRecommendedSettings:!0,localQuality:z4e,remoteQuality:6,audioBoost:tOe.b,subtitleColor:lOe.WHITE,subtitlePosition:dOe.BOTTOM,subtitleSize:100,subtitlesBurnLevel:mOe.a.AUTO,extrasPrefixCount:0,audioForceMultiChannel:!1,forceTranscodeProtocolHLS:!1,autoPlay:!0,calendarViewType:"calendar",columnAdjustment:0,columnWidthMultiplier:1.5,dashboardNowPlayingShowDetails:!1,hasDismissedServerDashboardUpsell:!1,hasDismissedNewsSunsetBanner:!1,isSidebarCollapsed:!1,libraryTableColumns:{},listStyles:{[XO.e]:{episode:YA,track:YA},[XO.n]:{track:YA}},prePlayListStyles:{},directoryListStyles:{},directoryTableColumns:{},savedDirectoryListKeys:{},relayReminders:{},showAdvancedSettings:!1,showPrePlayArtwork:!1,musicDownloadQuality:Tie.a.ORIGINAL,videoDownloadQuality:Tie.a.ORIGINAL,searchAllServers:!1,libraryRoutes:{}}),initialize(){this.set({schemaVersion:U4e.schemaVersion})},augmentResponse(e){if(e.schemaVersion>U4e.schemaVersion)return C.a.warn(`[Settings] Received settings with schemaVersion of ${e.schemaVersion}; expected ${U4e.schemaVersion} or less.  Settings sharing is now disabled.`),{...this.toJSON(),isRemoteSchemaVersionNewer:!0};e=K4e(e);const t=this.get("isDirty"),a=this.get("updatedAt"),n=Object(eOe.a)(e.updatedAt),i=a&&n&&a<n;return t&&a===n||a&&n&&a>n?this.toJSON():(t&&i&&(e.isDirty=!1),e.isRemoteSchemaVersionNewer=!1,e)}},{schemaVersion:4});var V4e=U4e;var B4e=a("i0dk");function F4e(e){if(e)return e.split("--")}function H4e(e){Object.keys(e).forEach(t=>{const a=function(e){const t=F4e(e);if(t.length<3)return e;const[a,n,i,r]=t,s=Object(B4e.a)(i);return Object(VE.a)(a,n,s,r)}(t);if(a!==t){const n=e[t];e[a]=n,delete e[t]}})}function _4e(e){e.isHidden&&!e.hiddenAt&&(e.hiddenAt=Date.now())}const W4e={1:G4e,2:function(e){const{lastSourcePivots:t,savedPivotParams:a,sidebarSettings:{pinnedSources:n}={}}=e;return t&&H4e(t),a&&H4e(a),n&&n.forEach(e=>{const t=F4e(e.key);if(!t)return;const a=t.pop(),n=Object(B4e.a)(a);if(n!==a){const a=Object(VE.a)(...t,n);e.directoryID||(e.directoryID=n),e.key=a}}),e},3:G4e,4:function(e){if(!e.relayReminders)return e;e.reminders=e.reminders||[];for(const t in e.relayReminders){const a=Object(aFe.a)(tFe.a,t);if(e.reminders.some(e=>e.id===a))continue;const n=e.relayReminders[t],i={id:a,remindAfter:Object(Za.a)(n.remindAfter).toISOString(),times:Math.max(0,n.times-1)};e.reminders.push(new L4e(i).toJSON())}return delete e.relayReminders,e}},Q4e=[function(e){if(null!=e.autoHomeHubsEnabled)return e;const t=e.homeSettings;return t&&t.hasCustomizations?e.autoHomeHubsEnabled=!1:e.autoHomeHubsEnabled=!0,e},function(e){const t=e.sidebarSettings;t&&t.pinnedSources&&t.pinnedSources.forEach(_4e);const a=e.homeSettings;return a&&a.hubs&&a.hubs.forEach(_4e),e},function(e){const{audioBoost:t}=e;if(null!=t){const a=t===tOe.a?tOe.b:tOe.c,n=V4e.prototype.defaults().audioBoost;a!==t&&a!==n&&(e.audioBoost=a)}return e},function(e){var t;const a=e.homeSettings;return a&&!e.autoHomeHubsEnabled&&(a.hubs=null==(t=a.hubs)?void 0:t.reduce((e,t)=>{const a=Object(x4e.a)(t.hubIdentifier);return"/hubs/promoted"===t.directoryKey&&t.provider.identifier===qr.d?e.find(e=>{var n,i,r,s;return e.hubIdentifier===a&&(null==(n=e.provider)?void 0:n.identifier)===(null==(i=t.provider)?void 0:i.identifier)&&(null==(r=e.server)?void 0:r.machineIdentifier)===(null==(s=t.server)?void 0:s.machineIdentifier)})||(t.directoryKey="/hubs",t.hubIdentifier=a,e.push(t)):e.push(t),e},[])),e}];function G4e(e){return e}function K4e(e={}){let t=e.schemaVersion||0;for(;t<V4e.schemaVersion;)e.schemaVersion=++t,W4e[t](e);return Q4e.forEach((t,a)=>{try{t(e)}catch(e){C.a.error("[User] Setting migration[%d] error",a,e)}}),e}function Y4e(){const e=O4e(W2e.a.storageKey).then(e=>{if(e.users&&e.users.some(e=>e.experienceSettings&&e.experienceSettings.schemaVersion!==V4e.schemaVersion))return e.users.forEach(e=>{e.experienceSettings=K4e(e.experienceSettings)}),M4e(W2e.a.storageKey,e)});return Object(H.a)(e)}var q4e=P4e.a.extend({name:"DesktopSettingsModel",storageKey:"settingsv2",syncedAttrs:{preferInsecureConnections:QE.a.string,"syncQuality!video":QE.a.integer,"syncQuality!music":QE.a.integer,"syncQuality!photo":QE.a.integer,viewedUnclaimedServers:QE.a.list,dismissedUnclaimedServers:QE.a.list},defaults:()=>({preferInsecureConnections:X.a.shouldPreferInsecureLocalConnections?"samenetwork":"never","syncQuality!video":8,"syncQuality!music":2,"syncQuality!photo":2,viewedUnclaimedServers:[],dismissedUnclaimedServers:[]})});const Z4e=["autoLogin","chromecastAppID","chromecastCustomAppID","debugLevel","directPlay","directStream","rejectDirectConnections","serverUpdateDismissedVersion"];var X4e=function(){const e=q4e.prototype.storageKey,t=T4e.prototype.storageKey,a=O4e(e).then(a=>{const n=M.a.pick(a,Z4e);if(0!==Object.keys(n).length)return O4e(t,{}).then(e=>{const a={...e,...n};return M4e(t,a)}).then(()=>M4e(e,M.a.omit(a,Z4e)))});return Object(H.a)(a)};const J4e=["allowHttpFallback","audioBoost","companion","language"];var $4e=function(){const e=O4e(q4e.prototype.storageKey).then(e=>{const t=M.a.pick(e,J4e);if(0!==Object.keys(t).length)return C4e(t).then(()=>M4e(q4e.prototype.storageKey,M.a.omit(e,J4e)))});return Object(H.a)(e)};function e3e(){const e=h.a.Deferred(),t=Ybe.a.set("plexTestToken",1);return t.done(()=>{Ybe.a.remove("plexTestToken"),e.resolve()}),t.fail(t=>{const a=new I4e;C.a.warn(`Storage module swapped for ${a.name} due to exception: "${t}"`),S4e.register(a),Ybe.a.register(a,{ignorePrevious:!0}),e.resolve()}),e.promise()}function t3e(){return function(){const e=h.a.Deferred(),t=S4e.get("myPlexAccessToken");return t.done(()=>{window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken||Ybe.a.register(S4e.getInstance())}),t.always(()=>{e.resolve()}),e.promise()}().then(e3e).then(X4e).then(N4e).then(D4e).then($4e).then(Y4e)}var a3e=a("sKrL");var n3e={[a3e.FAIRPLAY]:sBe.FAIRPLAY,[a3e.PLAYREADY]:sBe.PLAYREADY,[a3e.WIDEVINE]:sBe.WIDEVINE};var i3e=function(){return!!(window.MediaKeys||window.WebKitMediaKeys||window.MSMediaKeys)};var r3e=function(){return!!window.navigator.requestMediaKeySystemAccess};function s3e(e,t){return r3e()?window.navigator.requestMediaKeySystemAccess(e,t):Promise.reject(new Error("NotSupportedError"))}function o3e(e,t,a){return i3e()?new Promise((n,i)=>{const{audioCapabilities:r=[],videoCapabilities:s=[]}=a[0],o=r.concat(s).map(e=>e.contentType);!(!o||!o.length)&&o.every(a=>e.isTypeSupported(t,a))?n({keySystem:t}):i(new Error("NotSupportedError"))}):Promise.reject(new Error("NotSupportedError"))}var l3e=function(e,t=Object.values(a3e)){const{audioCapabilities:a,videoCapabilities:n}=e,i=[{initDataTypes:["cenc"],audioCapabilities:a,videoCapabilities:n}],r=h.a.Deferred(),s=window.WebKitMediaKeys,o=s?o3e.bind(null,s):s3e,l=t.map(e=>o(e,i));return Promise.allSettled(l).then(e=>{const a=e.reduce((e,a,n)=>{const{status:i,reason:r,value:s}=a;return"fulfilled"===i?(Object(C.a)("[Player] %s is available",s.keySystem),e.push(s.keySystem)):Object(C.a)("[Player] %s is unavailable: %s",t[n],r.message),e},[]);a.length?r.resolve(a):r.reject()}),r.promise()};var c3e=function(){return l3e({videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]}).then(e=>{const t=function(e){let t;for(const a of e)if(t=n3e[a],t)break;return t}(e);return Object(C.a)("[Player] Supported key systems:",e),Object(C.a)("[Player] Selected DRM type:",t),t})},d3e=a("aKOQ");function u3e(){const e=Object(E.c)("appModel"),t=X.a.drmType;return(t!==sBe.NONE?h.a.Deferred().resolve(t).promise():Object(H.a)(c3e())).then(t=>{e.set("drmType",t),d3e.a.setOption("drmType",t)},()=>{e.unset("drmType"),d3e.a.setOption("drmType",sBe.NONE)})}var p3e=a("Qyje"),m3e=a.n(p3e);var h3e=function(){const{hashParams:e}=G(window.location.href),t=m3e.a.parse(e.substr(1)),a=Object(eOe.a)(t.pinID);if(a){const e=Object(E.c)("appModel");_he(e).set({pinIDInitial:a}),Object(Dt.a)(),window.history.replaceState(null,null,M3(window.location.href,"pinID"))}return h.a.Deferred().resolve().promise()};function g3e(){const e=Object(E.c)("fullscreenManager").initialize({dispatchEnterFullscreen(){Object(E.c)("appStore").dispatch(Object(HI.d)())},dispatchExitFullscreen(){Object(E.c)("appStore").dispatch(Object(HI.e)())}});return Object(H.a)(e)}var y3e=a("imBb"),f3e=a.n(y3e);function b3e(){const e=Object(E.c)("keyboardShortcuts");let t=!0;function a(a,n,i){if(t||n instanceof window.KeyboardEvent&&"esc"===i)return e[a.fn](e,n,i)}return $.a.on("anyModalOpen",()=>{t=!1}),$.a.on("allModalsClosed",()=>{t=!0}),e.shortcuts.forEach(e=>{f3e.a.bind(e.keys,a.bind(null,e))}),h.a.Deferred().resolve().promise()}function v3e(){const e=Object(E.c)("settingFinder").find("language");return d3e.a.setOption("language",e),Object(H.a)(bOe.a.load(e))}var I3e=a("Fh1j");const S3e=["touchstart","mousedown","click","keydown","keypress"];function E3e(){function e(){S3e.forEach(t=>{document.body.removeEventListener(t,e,!0)});const t=Object(I3e.a)("audio",!0);function a(){t.removeEventListener("playing",a),t.removeEventListener("error",a),t.src="",t.removeAttribute("src"),Object(I3e.b)(t)}t.addEventListener("playing",a),t.addEventListener("error",a),t.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";const n=t.play();n&&n.then&&n.catch(()=>{})}return Object(hOe.b)()||S3e.forEach(t=>{document.body.addEventListener(t,e,!0)}),h.a.Deferred().resolve().promise()}function O3e(e){return e.get("isFullOwnedServer")||e.get("isFullServer")&&e.supports("sharedUserNotifications")}function M3e(){let e;return S.a.hasWebSocket&&(e=new zue({name:"MediaServerEventManager",appModel:Object(E.c)("appModel"),isValidServer:O3e,supportsLongPolling:!1,allowMultipleConnections:X.a.allowMultipleWebSocketConnections,ServerEventConnection:Object(E.c)("mediaServerEventConnection"),ServerRetryManager:Rue}),e.start()),h.a.Deferred().resolve().promise()}var C3e=J.a.extend({mixins:ee.a,name:"AbstractReporter",enabled:!1,destroyed:!1,_suspended:!1,initialize(e={}){!1!==e.enabled&&this.enable()},hasSupport:()=>!0,enable(){this.enabled||this.destroyed||!this.hasSupport()||(this.enabled=!0,this.listenTo($.a,{"log:message":this.onLog,"log:group":this.onLog,"log:groupCollapsed":this.onLog,"log:groupEnd":this.onLog}),this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.stopListening(),this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.destroyed=!0,this.onDestroyed())},_suspend(){this._suspended||(this._suspended=!0,this.onSuspended())},_resume(){this._suspended&&(this._suspended=!1,this.onResumed())},onLog(e){if(this._suspended)S.a.hasConsole&&window.console.warn("[Logging] Ignored log reentrancy:",JSON.stringify(e));else{switch(this._suspend(),e.type){case"log:message":this.onLogMessage(e);break;case"log:group":this.onLogGroup(e);break;case"log:groupCollapsed":this.onLogGroupCollapsed(e);break;case"log:groupEnd":this.onLogGroupEnd(e)}this._resume()}},onLogMessage(){},onLogGroup(){},onLogGroupCollapsed(){this.onLogGroup.apply(this,arguments)},onLogGroupEnd(){},onEnabled(){},onDisabled(){},onResumed(){},onSuspended(){},onDestroyed(){}});const j3e={[C.a.LEVEL_LOG]:"log",[C.a.LEVEL_DEBUG]:"debug",[C.a.LEVEL_INFO]:"info",[C.a.LEVEL_WARN]:"warn",[C.a.LEVEL_ERROR]:"error"};var D3e=C3e.extend({name:"ConsoleReporter",hasSupport:()=>S.a.hasConsole,onLogMessage(e){const t=e.message,a=j3e[e.level];(window.console[a]||window.console.log).call(window.console,t)},onLogGroup(e){(window.console.group||window.console.log).call(window.console,e.message)},onLogGroupCollapsed(e){(window.console.groupCollapsed||window.console.log).call(window.console,e.message)},onLogGroupEnd(){window.console.groupEnd&&window.console.groupEnd()}});function P3e(){return new D3e,h.a.Deferred().resolve().promise()}var T3e=a("YWOF");function w3e(){Object(C.a)("[Servers] Initializing..."),function(){const e=Object(E.c)("appModel"),t=e.get("servers"),a=e.get("cloudServer");a.addConnection(Object(T3e.a)()),t.add(a)}(),function(e){const t=Object(E.c)("appModel"),a=t.get("servers"),n=W2e.a.getActiveServers();if(!n)return;n.each(e=>{if(e.get("connections").length)try{const n=new zU.e(e.toJSON(),{parent:t}),i=n.get("connections");i.reset(i.filter(e=>!e.get("relay"))),!n.get("isMobileServer")&&i.length>0&&(x3e(n),a.add(n))}catch(e){C.a.warn(e)}})}(),function(){const e=Object(E.c)("appModel"),t=e.get("servers"),a=X.a.primaryServer;if(!a)return;const n=new zU.e({machineIdentifier:a.machineIdentifier,friendlyName:a.name,isShared:a.shared,superToken:a.superToken,accessToken:a.accessToken,sourceTitle:a.sourceTitle},{parent:e});n.addConnection({scheme:a.scheme,address:a.address,port:a.port}),t.add(n)}(),function(){0;const e=Object(E.c)("appModel"),t=e.get("servers"),a=new zU.e({isBundled:!0},{parent:e});a.addConnection({scheme:window.location.protocol.replace(":",""),address:window.location.hostname,port:window.location.port,isBundled:!0}),x3e(a),t.add(a)}(),function(){if(!X.a.allowLoopbackDiscovery)return;const e=Object(E.c)("appModel"),t=e.get("servers"),a=new zU.e({},{parent:e});a.addConnection({scheme:"http",address:"127.0.0.1",port:"32400"}),x3e(a),t.add(a)}(),Object(E.c)("serverManager").start(),Object(E.c)("primaryServerManager").start(),Object(E.c)("serverConnectionManager").start(),Object(E.c)("companionServerManager").start(),Object(E.c)("providerManager").start(),Object(E.c)("serverUpdateManager").start(),Object(C.a)("[Servers] Finished initialization")}function N3e(){Object(C.a)("[Servers] Clearing...");const e=Object(E.c)("appModel"),t=e.get("servers");Object(E.c)("serverManager").stop(),Object(E.c)("primaryServerManager").stop(),Object(E.c)("serverConnectionManager").stop(),Object(E.c)("serverConnectionTestManager").reset(),Object(E.c)("companionServerManager").stop(),Object(E.c)("providerManager").stop(),Object(E.c)("serverUpdateManager").stop(),t.uninitialize(),t.reset(),t.initialize(),e.unset("primaryServer"),e.unset("companionServer"),e.unset("transientServer")}function x3e(e){const t=e.get("connections").map(e=>e.get("uri"));Object(C.a)("[Servers]","Initialize server",e.get("accessToken")?"with token,":"without token,",M.a.compact([e.get("debugName"),e.get("machineIdentifier"),...t]).join(", "))}function A3e(){return w3e(),$.a.on("clear:servers",N3e),$.a.on("init:servers",w3e),h.a.Deferred().resolve().promise()}var L3e=a("4B5B"),k3e=a("zBfM"),R3e=a.n(k3e);var z3e=L3e.a.extend({className:"alert-bar notify",template:R3e.a,events:M.a.extend({"click .info-link":"onInfoClick"},L3e.a.prototype.events),initialize(){this.listenTo(this.model,"change:read",this.hide)},serializeData(){const e=this.model.get("content");return{content:O_(e),url:this.model.get("url")}},onInfoClick(e){this.hide(),this.model.markAsRead()},onCloseClick(e){L3e.a.prototype.onCloseClick.apply(this,arguments),this.model.markAsRead()}});var U3e=J.a.extend({mixins:ee.a,announcementsUpdateDelay:36e5,initialize(){this.user=Object(E.c)("appModel").get("user"),M.a.bindAll(this,"updateAnnouncements","onSignedInChange")},start(){const e=M.a.debounce(this.onAnnouncementsChange),t=M.a.debounce(this.onSignedInChange);this.listenTo(this.user,"change:signedIn",t),this.listenTo(this.user.get("desktop"),{"change:announcements":e,"change:announcements.reset":e,"change:announcements.update":e,"change:announcements.change:read":e,"change:announcements.change:priority":e}),this.user.populate().fail(t)},stop(){window.clearTimeout(this.announcementsUpdateTimeout),this.user.get("desktop").get("announcements").clear(),this.stopListening()},updateAnnouncements(){this.user.get("restricted")||this.user.get("anonymous")||!this.user.server.get("isConnected")||(this.user.get("desktop").get("announcements").fetch(),this.announcementsUpdateTimeout&&window.clearTimeout(this.announcementsUpdateTimeout),this.announcementsUpdateTimeout=window.setTimeout(this.updateAnnouncements,this.announcementsUpdateDelay))},onSignedInChange(){this.user.get("desktop").get("announcements").clear(),this.updateAnnouncements()},onAnnouncementsChange(){if(this.user.get("isSignedIn")&&!this.user.get("restricted")){const e=this.user.get("desktop").get("announcements").findWhere({style:"priority",read:!1});e&&$.a.trigger("show:bar","alertbar",new z3e({model:e}))}}});const V3e=["plex_tv_auth","plex_tv_lang"];var B3e=J.a.extend({mixins:ee.a,initialize(e){this.user=e,this.debouncedChangeTimeout=null},start(){const e=this.user;this.previousUserID=e.id,this.listenTo(e,{change:this.onUserChange,"change:isLocked":this.onIsLockedChange,"change:hasInvalidToken":this.onHasInvalidTokenChange,"change:isSignedIn":this.onIsSignedInChange}),this.listenTo($.a,{"cloudServer:notifyAccountChange":this.onNotifyAccountChange});const t=e.get("isLocked"),a=e.get("hasInvalidToken"),n=e.get("isSignedIn");t&&this.onIsLockedChange(e,t),a&&this.onHasInvalidTokenChange(e,a),n&&this.onIsSignedInChangeHandleToken(e,n);const i=Object(E.c)("settingFinder").find("autoLogin")||e.get("isUnlocked");Object(C.a)("[UserManager] autoLogin",i),i||this._lockIfInHome()},handleInvalidToken(){var e=new zee.a({title:Object(Ce.default)("Invalid Credentials"),message:Object(Ce.default)("Your credentials have expired. Please sign in again."),confirmLabel:Object(Ce.default)("OK"),cancelLabel:Object(Ce.default)("Ignore")});e.promise.done(()=>{Object(see.a)("login")}),$.a.trigger("show:modal",e)},_lockIfInHome(){const e=W2e.a.getActiveUser();e&&e.get("home")&&this.user.set("lockState",qe.a.Locked)},_updateUser(e,t){if(t){const a={};t.id!==e.id&&(a.included=["experienceSettings"]),t.copyFromModel(e,a)}else{W2e.a.get("users").add(e.toJSON(),{parse:!0})}W2e.a.debouncedSave()},onHasInvalidTokenChange(e,t){t&&this.handleInvalidToken()},onUserChange(e){this.debouncedChangeTimeout&&window.clearTimeout(this.debouncedChangeTimeout);const t=W2e.a.getActiveUser();this.debouncedChangeTimeout=window.setTimeout(this._updateUser.bind(this,e,t),0)},onIsSignedInChange(e,t){this.onIsSignedInChangeHandleToken(e,t),this.onIsSignedInChangeHandleSyncSettings(e,t),this.onIsSignedInChangeHandlePopulateUser(e,t)},onIsSignedInChangeHandleToken(e,t){if(this.stopListening(e,"change:hasInvalidToken",this.onHasInvalidTokenChange),t){if(t&&e.get("isLocked")&&(this.previousUserID=e.id),t&&e.get("restricted")&&document.cookie.split(";").forEach(e=>{const[t]=e.trim().split("=");t&&!V3e.includes(t)&&(document.cookie=t+"=; Domain=plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie=t+"=; Domain=.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie=t+"=; Domain=.app.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;")}),e.get("isFullUser")&&t){const t=e.server.getXHROptions("/api/claim/subscribe");h.a.ajax({...t,type:"POST"})}}else e.get("hasInvalidToken")&&this.handleInvalidToken()},onIsSignedInChangeHandleSyncSettings(e,t){if(!t)return;const a=Object(E.c)("appStore").dispatch,n=e.get("settings"),i=e.get("experienceSettings"),r=n.reduce((e,t)=>(t.get("isDirty")&&e.push(t.get("id")),e),[]);i.get("isDirty")&&a(Object(VS.O)()),r.length&&a(Object(VS.P)(r))},onIsSignedInChangeHandlePopulateUser(e,t){if(!t){return void e.get("features").clear()}const a=Object(E.c)("appStore").dispatch,n={reset:!0};e.get("homeDetails").populate(n),e.get("homeUsers").populate(n);const i=e.get("desktop");i.get("cloudCompanions").populate(n),i.get("devices").populate(n),i.get("invites").populate(n),i.get("socialNetworks").populate(n),a(qI()),a(Object(VS.u)())},onIsLockedChange(e,t){t&&(this.previousUserID=e.id,this.isPreviousUserRemote=e.get("isRemote"),this.listenTo(e,"change:isUnlocked",this.onNextIsUnlockedChange))},onNextIsUnlockedChange(e,t){t&&(this.stopListening(e,"change:isUnlocked",this.onNextIsUnlockedChange),window.setTimeout(()=>{const e=this.previousUserID;e&&e===this.user.id||Object(see.a)("home")},0))},onNotifyAccountChange(){this.user.fetch().then(()=>{Object(C.a)("[User] updated account following account change notification")},e=>{C.a.error("[User] Unable to update account following account change notification",e)})}});function F3e(){let e=Object(H.a)(W2e.a.populate());return e=e.then(()=>Ybe.a.get("myPlexAccessToken")),e=e.then(e=>{const t=Object(E.c)("appModel").get("user"),a=W2e.a.get("users").findWhere({authToken:e});a&&(t.activateStoredUser(a.id),a.copyToModel(t))},()=>{const e=Object(E.c)("appModel").get("user");e.activateStoredUser(0);const t=W2e.a.getActiveUser();t&&t.copyToModel(e)}),Object(H.a)(e).then(()=>{const e=Object(E.c)("appModel").get("user");new B3e(e).start();(new U3e).start()})}function H3e(){return Object(E.c)("watchTogetherRoomsManager").start(),Object(E.c)("syncplaySessionManager").start(),h.a.Deferred().resolve().promise()}function _3e(){return b.a.render(y.a.createElement(v.a,{store:Object(E.c)("appStore")},y.a.createElement(I.c,{history:Uge.a},y.a.createElement(P1e,null))),document.getElementById("plex")),h.a.Deferred().resolve().promise()}function W3e(){let e=function(e={},t={}){const a={allowUrls:[new RegExp(Object(U.a)("-plex-4.53.0-12fba3f"))],debug:!1,dsn:"https://54c24aee6403406294dd6094728f20e0@o17675.ingest.sentry.io/5594889",environment:"public",ignoreErrors:["ResizeObserver","songId",/^Non-Error promise rejection captured/],integrations:[new k.a.Breadcrumbs({fetch:!1,xhr:!1})],release:"desktop-desktop@4.53.0-12fba3f",sampleRate:.05,version:"4.53.0",...e},n=B.reduce((e,t)=>(e.hasOwnProperty(t)||(e[t]=V.a.prop(t)),e),t);return R.a(a),Object.entries(n).forEach(([e,t])=>{z.b(e,t)}),h.a.Deferred().resolve().promise()}();return e=e.then(P3e),e=e.then(c4e),e=e.then(t3e),e=e.then(w1e),S.a.hasServiceWorker&&(e=e.then(function(){Object(C.a)("[Workers] Initializing...");const e=h.a.Deferred();return Object(E.c)("serviceWorker").register().then(t=>{Object(C.a)("[Workers] Finished initialization"),e.resolve()}).catch(t=>{Object(C.a)("[Workers] Failed initialization: ",t),e.resolve()}),e.promise()}())),e=e.then(L1e),e=e.then(u3e),e=e.then(L),e=e.then(b4e),e=e.then(F3e),e=e.then(v3e),X.a.allowCloudPubSub&&(e=e.then(()=>function(){let e;return S.a.hasWebSocket&&(e=new zue({name:"CloudServerEventManager",appModel:Object(E.c)("appModel"),isValidServer:z1e,supportsLongPolling:!0,allowMultipleConnections:!0,ServerEventConnection:k1e,ServerRetryManager:R1e}),e.start()),h.a.Deferred().resolve().promise()}())),e=e.then(M3e),e=e.then(Z),e=e.then(A3e),e=e.then(E3e),e=e.then(f4e),e=e.then(b3e),e=e.then(h3e),e=e.then(q),e=e.then(g3e),e=e.then(le),e=e.then(se),e=e.then(_3e),e=e.then(H3e),e}var Q3e=a("3O+N"),G3e=a.n(Q3e),K3e=a("N85i"),Y3e=a.n(K3e),q3e=a("fz6g"),Z3e=a.n(q3e),X3e=a("fbCT"),J3e=a.n(X3e),$3e=a("P9eC"),e5e=a.n($3e),t5e=a("Kjiw"),a5e=a.n(t5e),n5e=a("TKUo"),i5e=a.n(n5e),r5e=a("mUut"),s5e=a.n(r5e);G3e.a.registerPartial("setting",i5e.a),G3e.a.registerPartial("lockableTagInput",e5e.a),G3e.a.registerPartial("lockableTextInput",a5e.a),G3e.a.registerPartial("lockableNumericInput",J3e.a),G3e.a.registerPartial("textInput",s5e.a),G3e.a.registerPartial("autocompleteTextInput",Y3e.a),G3e.a.registerPartial("connectError",Z3e.a);var o5e=a("mPz0"),l5e=a.n(o5e);const c5e=new l5e.a({attributePrefix:"_",emptyNodeForm:{},ignoreRoot:!0});var d5e={writeXml:function(e){return'<?xml version="1.0"?>'+c5e.js2xml(e)}};function u5e(e){e.forEach(e=>{e.resolve()}),e.length=0}function p5e(e){e.forEach(e=>{e.reject()}),e.length=0}var m5e=J.a.extend({mixins:[ee.a],name:"MediaServerCompanionProxy",commandID:0,initialize(){M.a.bindAll(this,"_checkPollRequestStatus","_pickProxyServer","_poll","_repoll","_sendResponse","_unregisterPlayer","onPollSuccess","onPollError"),this._debounceUnregisterPlayer=M.a.debounce(this._unregisterPlayer,2e3),this._debouncePickProxyServer=M.a.debounce(this._pickProxyServer,2e3),this._deepLinkDeferred=h.a.Deferred().resolve(),this._playerRegistrationDeferreds=[],this._playerUnregistrationDeferreds=[],this._pollRetryDelay=1e3},getDeepLink(){return this._deepLinkDeferred.promise()},publish(e){if(!this.proxyServer)return;if(this.timelineInflight)return void(this._pendingTimeline=e);this.timelineInflight=!0;const t=d5e.writeXml(e),a=M.a.result(this.proxyServer,"url"),n=this.proxyServer.getXHROptions(`${a}player/proxy/timeline?commandID=${this.commandID}`);n.data="timeline="+encodeURIComponent(t),n.method="POST",n.contentType="application/x-www-form-urlencoded",h.a.ajax(n).always(()=>{this.timelineInflight=!1;const e=this._pendingTimeline;e&&(delete this._pendingTimeline,this.publish(e))})},subscribe(e){this.started||(this.callback=e,this.started=!0,this.appModel=Object(E.c)("appModel"),this.listenTo(this.appModel,"change:companionServer",this._debouncePickProxyServer),this._debouncePickProxyServer(this.appModel,this.appModel.get("companionServer")))},unsubscribe(){if(!this.started)return;const e=this.proxyServer;this.started=!1,this.stopListening(this.servers,"change:connected",this._debouncePickProxyServer),this.callback=null,this.proxyServer=null,e&&this._debounceUnregisterPlayer(e),this._clearPollRequestStatusCheck(),this.pollRequest&&(this.pollRequest.abort(),this.pollRequest=null)},unregisterPlayer(e,t){this.cloudServer=e,this.clientID=t;const a=h.a.Deferred();return this._playerUnregistrationDeferreds.push(a),a.promise()},registerPlayer(e,t){this.cloudServer=e,this.clientID=t;const a=h.a.Deferred();return this._playerRegistrationDeferreds.push(a),a.promise()},debugStatus(){const e=this.proxyServer;return e?"Proxied: "+e.get("debugName"):void 0},_pickProxyServer(e,t){this.started&&(this.proxyServer=t,this.proxyServer&&(this._registerServer(),this._poll()))},_registerServer(){if(!this.proxyServer||!this.cloudServer||!this.clientID)return;const e=this.cloudServer.getXHROptions("devices/"+this.clientID,{method:"POST",headers:{"X-Plex-Provides":X.a.allowCloudPubSub?"client,player,pubsub-player":"client,player"},data:{_method:"PUT",proxiedBy:this.proxyServer.id}});h.a.ajax(e).done(()=>{u5e(this._playerRegistrationDeferreds)}).fail(()=>{p5e(this._playerRegistrationDeferreds)})},_unregisterPlayer(e){if(!e||!this.cloudServer||!this.clientID)return;const t=this.cloudServer.getXHROptions("/devices/"+this.clientID,{method:"POST",headers:{"X-Plex-Provides":"client"},data:{_method:"PUT"}});h.a.ajax(t).done(()=>{u5e(this._playerUnregistrationDeferreds)}).fail(()=>{p5e(this._playerUnregistrationDeferreds)})},_poll(){if(!this.started)return;const e=this.proxyServer;if(!e)return void C.a.info("[Companion] No proxy server available to long poll");if(this._isPollRequestPending())return void C.a.info("[Companion] Long poll already open to ",e.get("debugName"));this._clearPollRequestStatusCheck(),this._checkPollRequestStatusLater(),this._clearRepollLater();const t=e.getXHROptions("/player/proxy/poll",{data:{deviceClass:"pc",protocolVersion:"3",protocolCapabilities:"timeline,playback,navigation,mirror,playqueues",timeout:1}});C.a.info("[Companion] Opening long poll to %s at %s",e.get("debugName"),t.url),this.pollRequest=h.a.ajax(t).done(this.onPollSuccess).fail(this.onPollError)},_repoll(){this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._poll()},_isPollRequestPending(){return!!this.pollRequest&&"pending"===this.pollRequest.state()},_checkPollRequestStatus(){this._isPollRequestPending()&&this.proxyServer&&(C.a.info("[Companion] Poll connection successfully opened with %s",this.proxyServer.get("debugName")),this._pollRetryDelay=1e3)},_checkPollRequestStatusLater(){this._pollRequestStatusCheckTimeout=window.setTimeout(this._checkPollRequestStatus,5e3)},_clearPollRequestStatusCheck(){this._pollRequestStatusCheckTimeout=window.clearTimeout(this._pollRequestStatusCheckTimeout)},_repollLater(){this._pollRetryTimeout=window.setTimeout(this._repoll,this._pollRetryDelay)},_clearRepollLater(){this._pollRetryTimeout=window.clearTimeout(this._pollRetryTimeout)},_processCommand(e){if(!this.started)return;const t={path:e.path,commandID:e.commandID,supportsTimeline:!0,query:{key:[e.queryKey],providerIdentifier:[e.queryProviderIdentifier],offset:[e.queryOffset],mediaIndex:[e.queryMediaIndex],containerKey:[e.queryContainerKey],playQueueID:[e.queryPlayqueueid],type:[e.queryType],volume:[e.queryVolume],repeat:[e.queryRepeat],shuffle:[e.queryShuffle],autoPlay:[e.queryAutoPlay],subtitleColor:[e.querySubtitleColor],subtitlePosition:[e.querySubtitlePosition],subtitleSize:[e.querySubtitleSize],subtitleOffset:[e.querySubtitleOffset],audioStreamID:[e.queryAudioStreamID],subtitleStreamID:[e.querySubtitleStreamID],token:[e.queryToken],machineIdentifier:[e.queryMachineIdentifier],protocol:[e.queryProtocol],address:[e.queryAddress],port:[e.queryPort],text:[e.queryText],field:[e.queryField]}},a="resolved"!==this._deepLinkDeferred.state();this.callback(t,a).always(e=>{a&&e&&e.deferredAction&&this._deepLinkDeferred.resolve(e.deferredAction),this._sendResponse(e.controllerResponse)})},_sendResponse(e){if(!this.proxyServer)return;const t=parseInt(e.commandID,10);this.commandID<t&&(this.commandID=t);const a="/player/proxy/response?commandID="+e.commandID,n=this.proxyServer.getXHROptions(a,{method:"POST",contentType:"application/x-www-form-urlencoded",data:{response:e.body}});h.a.ajax(n)},onPollSuccess(e){const t=e&&Rn.a.parseXML(e),a=t&&t.Command;if(!e)return void this._repoll();if(t?a||C.a.warn("[Companion] Poll succeeded without a Command response",t):C.a.warn("[Companion] Poll succeeded without a parseable response",e),!a)return void this.onPollError();this._repoll();(Array.isArray(a)?a:[a]).forEach(e=>{try{C.a.info("[Companion] Received %s from %s",e.path,e.deviceName),this._processCommand(e)}catch(t){C.a.warn("[Companion] encountered %s while processing %s",t.message,e)}},this)},onPollError(e={}){const t=this.proxyServer;if(!this.started||!t)return;this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._repollLater(),this._pollRetryDelay*=2;const a=t.get("debugName");C.a.warn("[Companion] Poll failed to %s",a)}});var h5e=P4e.a.extend({name:"SessionStatsModel",storageKey:"sessionstats",syncedAttrs:{heartbeatTime:QE.a.integer,lastPlayingHeartbeatTime:QE.a.integer,playbackCount:QE.a.integer,playbackTime:QE.a.integer,sessionId:QE.a.string,anonymousSessionId:QE.a.string,startTime:QE.a.integer,lastInteractionTime:QE.a.integer},defaults:{playbackCount:0,playbackTime:0}}),g5e=a("FbYo"),y5e=a("PE3u");var f5e=Object(y5e.a)((function(e={},t){const a=function(e){const{mimeType:t,codecs:a,...n}=e;if(!t)return"";const i=[t];if(a&&i.push(`codecs="${a}"`),n)for(const e in n)i.push(`${e}="${n[e]}"`);return i.join("; ")}(e),n=Object(I3e.a)("video",!0),i=n.canPlayType(a);return Object(I3e.b)(n),e.codecs?"probably"===i:"probably"===i||"maybe"===i})),b5e=a("Vx1m");const v5e=Object(dge.a)()?100:0;function I5e(e){return!!Object(dge.a)()||"progressive"===e.deliveryType&&f5e(e)}class S5e extends g.Component{constructor(e,t){super(e,t),this._onLoadTimeout=()=>{this._isAdLoaded||this.onError(g5e.b.VAST_MEDIA_FILE_TIMEOUT)},this._onPlaybackTimeout=()=>{this.onError(g5e.b.VAST_MEDIA_FILE_TIMEOUT)},this.onMediaError=()=>{this.onError(g5e.b.VAST_PROBLEM_DISPLAYING_MEDIA)},this.onEnd=()=>{this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._clearPlaybackTimeout(),this._playNextAdOrResume()},this.onError=(e=g5e.b.UNDEFINED_ERROR)=>{this._adPod&&this._adPod.error(e),this._playNextAdOrResume()},this.onPositionMillisecondsChange=e=>{this._isAdLoaded||(this._isAdLoaded=!0),e!==this._lastPositionMilliseconds&&(this._setPlaybackTimeout(),this._lastPositionMilliseconds=e),this._adPod?this._adPod.progress(e):C.a.error("[AdPlayer] Unexpected position update without an adPod"),(!this._lastOnPositionMillisecondsChange||e>=this._lastOnPositionMillisecondsChange+v5e)&&(this._lastOnPositionMillisecondsChange=e,this.props.onPositionMillisecondsChange(e))},this._vmapClient=null,this._adPod=null,this._adPodPromise=null,this._isAdLoaded=!1,this._loadTimeoutID=null,this._playbackTimeoutID=null,this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._mediaComponent=Object(E.c)("mediaComponent"),this.bufferingDetectionLimit=X.a.bufferingDetectionLimit}componentDidMount(){const{url:e,playerPositionSeconds:t,followsManualRedirect:a}=this.props;this._vmapClient=new g5e.a({url:new window.URL(e),canPlayMedia:I5e,followsManualRedirect:a}),this._handlePositionUpdate(1e3*t,!0)}componentDidUpdate(e,t){const{ad:a,playerPositionSeconds:n,isMiniPlayer:i,isFullscreen:r,isPaused:s,isIdle:o,url:l,followsManualRedirect:c,volume:d}=this.props;l!==e.url&&(this.onEnd(),delete this._adPodPromise,this._adPod&&(this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose(),this._vmapClient=new g5e.a({url:new window.URL(l),canPlayMedia:I5e,followsManualRedirect:c}));const u=!o&&e.isIdle;if(u||n!==e.playerPositionSeconds){const t=n-e.playerPositionSeconds,a=t<0||t>1;this._handlePositionUpdate(1e3*n,a||u)}this._adPod&&a&&(i!==e.isMiniPlayer&&(this._adPod.expanded=!i),r!==e.isFullscreen&&(this._adPod.fullscreen=r),d!==e.volume&&(this._adPod.muted=0===d),s!==e.isPaused&&(this._adPod.paused=s,s?this._clearPlaybackTimeout():this._setPlaybackTimeout()))}componentWillUnmount(){this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._playbackTimeoutID&&(this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)),delete this._adPodPromise,this._adPod&&(this.props.ad&&!this._isAdLoaded&&this._adPod.error(g5e.b.VAST_MEDIA_FILE_TIMEOUT),this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose()}_handlePositionUpdate(e,t){const{isIdle:a}=this.props;if(!a)if(t&&this._vmapClient&&!this._adPodPromise&&!this.props.ad){const t=this._vmapClient.resolveAdPod(e);this._adPodPromise=t,t.then(e=>{let a;t===this._adPodPromise&&e&&(this._adPod=e,a=e.next()),a?this._playAd(a,e):(this._adPod&&(this._adPod.dispose(),delete this._adPod),delete this._adPodPromise,this.onEnd())},()=>{delete this._adPodPromise,this.onEnd()})}else if(this._adPod){if(this._adPod.timeOffset>e)return;const t=this._adPod.next();t?this._playAd(t,this._adPod):(this._adPod.dispose(),delete this._adPod,delete this._adPodPromise)}else if(!this._adPodPromise&&this._vmapClient){const t=this._vmapClient.resolveNextAdPod(e);this._adPodPromise=t,t.then(e=>{t===this._adPodPromise&&(this._adPod=e,e||delete this._adPodPromise)},()=>{t===this._adPodPromise&&delete this._adPodPromise})}}_playAd(e,t){const{volume:a,isMiniPlayer:n,isFullscreen:i,isPaused:r}=this.props;t.expanded=n,t.fullscreen=i,t.muted=0===a,t.paused=r,this._isAdLoaded=!1,this._loadTimeoutID=window.setTimeout(this._onLoadTimeout,8e3),this.props.onAdChange(e)}_playNextAdOrResume(){const e=this._adPod?this._adPod.next():null;e?this._playAd(e,this._adPod):(this._adPod&&this._adPod.dispose(),delete this._adPod,delete this._adPodPromise,this.props.onAdChange(e))}_setPlaybackTimeout(){this._clearPlaybackTimeout(),this.props.isPaused||(this._playbackTimeoutID=window.setTimeout(this._onPlaybackTimeout,8e3))}_clearPlaybackTimeout(){this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)}render(){var e,t,a,n;const{ad:i,url:r,isMiniPlayer:s,isPaused:o,positionSeconds:l,playerPositionSeconds:c,statusOverlayClassName:d,...u}=this.props,p=this._adPod?Math.round((this._adPod.timeOffset-1e3*c)/1e3):b5e.d,m=!!i,h=null!=(t=null==(e=this._adPod)?void 0:e.hasAnyCreative)&&t&&!s,g=m?this._mediaComponent.getComponent({protocol:"http",isDirectPlay:!0}):null;return y.a.createElement(y.a.Fragment,null,m?y.a.createElement(g,{...u,key:i.url.href,bufferingDetectionLimit:this.bufferingDetectionLimit,positionSeconds:l,paused:o,src:i.url.href,mediaType:_s.e,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onEnd:this.onEnd,onError:this.onMediaError}):null,h?y.a.createElement(b5e.a,{className:d,displayIndex:null!=(a=null==i?void 0:i.displayIndex)?a:b5e.b,displayTotal:null!=(n=null==i?void 0:i.displayTotal)?n:b5e.c,secondsUntilAd:p}):null)}}S5e.defaultProps={isIdle:!1,followsManualRedirect:!1};var E5e=S5e;var O5e=Object(v.b)((function(){return Object(he.a)(iBe(["isPaused","positionSeconds","durationSeconds"]),RVe,(e,{volume:t})=>t,(e,t,a)=>({volume:t||a||0,isPaused:e.isPaused,playerPositionSeconds:e.positionSeconds,playerDurationSeconds:e.durationSeconds}))}),(function(e,t){const{playerType:a}=t;return{onBufferingChange(t){e(Object(IVe.N)({playerType:a,isBuffering:t}))},onPause(){e(Object(IVe.s)({playerType:a,isApplicationInitiated:!0}))},onPlay(){e(Object(IVe.t)({playerType:a,isApplicationInitiated:!0}))},onMetricsPlayerChange(t){e(Object(Ze.u)({playerType:a,metricsPlayer:t}))}}}))(E5e);function M5e(e){return new Promise((t,a)=>{function n(e){var t;e&&(null==(t=s.parentNode)||t.removeChild(s)),s.removeEventListener("load",i),s.removeEventListener("error",r)}function i(){n(!1),t()}function r(){n(!0),a(new Error("Unable to load: "+e))}const s=document.createElement("script");try{!function(e){const t=document.getElementsByTagName("SCRIPT");return Array.from(t).some(t=>t.src===e)}(e)?(s.addEventListener("error",r),s.addEventListener("load",i),s.type="text/javascript",s.src=e,document.body.appendChild(s)):t()}catch(e){n(!0),a(e)}})}var C5e=a("tRmQ");const j5e={default:O5e};var D5e=y.a.lazy(async()=>{try{const e=Object(C5e.a)()?"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js":"//imasdk.googleapis.com/js/sdkloader/ima3.js";Object(C5e.a)()&&Object(C.a)("[IMA] SDK loading from",e),await M5e(e)}catch(e){return C.a.error("[IMA] SDK load failed",e),j5e}try{return Object(C5e.a)()&&Object(C.a)("[IMA] SDK %s loaded",window.google.ima.VERSION),Object(C5e.a)()&&Object(C.a)("[IMA] Enabling VPAID"),window.google.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.ENABLED),Object(C5e.a)()&&Object(C.a)("[IMA] Loading ImaPlayer"),await a.e(1).then(a.bind(null,"7qL+"))}catch(e){return C.a.error("[IMA] Player failed to initialize",e),j5e}});var P5e={getComponent:()=>Object(SG.a)(Object(E.c)("appModel"),ve.I)?D5e:O5e};const T5e=(...e)=>e.reduce((e,t)=>e.concat("string"==typeof t?t.split(","):t),[]).sort().join(","),w5e=T5e("stop","audioStream","subtitleStream","volume"),N5e=T5e("audioStream","autoPlay","playPause","repeat","seekTo","shuffle","skipNext","skipPrevious","stepBack","stepForward","stop","subtitleStream","volume");var x5e={videoCloudLiveTV:w5e,video:T5e(N5e,"subtitleColor","subtitleOffset","subtitlePosition","subtitleSize"),music:T5e("playPause","repeat","seekTo","shuffle","skipNext","skipPrevious","stop","volume"),photo:T5e("playPause","seekTo","skipNext","skipPrevious","stop")};function A5e(){return f5e({mimeType:"application/x-mpegURL"})}var L5e=a("nHuJ");const k5e=y.a.lazy(()=>Promise.all([a.e(12),a.e(10)]).then(a.bind(null,"redb"))),R5e=y.a.lazy(()=>Promise.all([a.e(13),a.e(11)]).then(a.bind(null,"5+/v"))),z5e=y.a.lazy(()=>a.e(8).then(a.bind(null,"A4/0")));var U5e={getComponent:e=>e?"parsec"===e.protocol?z5e:"dash"===e.protocol||e.drm===sBe.FAIRPLAY&&"hls"===e.protocol&&A5e()?R5e:"hls"===e.protocol&&A5e()?L5e.a:"hls"===e.protocol?k5e:L5e.a:L5e.a};var V5e=function(){const e=window.MediaSource||window.WebkitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer;return!(!e||"function"!=typeof e.isTypeSupported||t&&(!t.prototype||"function"!=typeof t.prototype.appendBuffer||"function"!=typeof t.prototype.remove))};var B5e=function(e){return e?e.charAt(0).toLowerCase()+e.slice(1):""};const F5e={videoResolution:!0},H5e={width:1920,height:1080,bitDepth:8,frameRate:30};function _5e(e,t){return M.a.pick(e,(e,a)=>0===a.indexOf(t))}function W5e(e,t,a,n){const i={..._5e(e,n),..._5e(t,n)};return M.a.map(i,(e,i)=>({codec:M.a.has(t,i)?a:null,name:B5e(i.slice(n.length)),value:e}))}var Q5e=function(e){const t=e.finalProfile.directStream.video,a=Object(Io.a)(e.media),n=a&&a.codec,i=t.codecs&&t.codecs[n],r=W5e(t,i,n,"min");let s=W5e(t,i,n,"max");if(!a)return[];const o={width:a.width<=H5e.width,height:a.height<=H5e.height,bitDepth:a.bitDepth<=H5e.bitDepth,frameRate:a.frameRate<=H5e.frameRate};s=s.filter(e=>{return!0!==o[e.name]&&!0!==F5e[e.name]&&(t=e.name,a=e.value,!H5e[t]||H5e[t]<a);var t,a});const l=[...r.map(({codec:e,name:t,value:a})=>function({codec:e,name:t,value:a}){return`add-limitation(scope=videoCodec&scopeName=${encodeURIComponent(e||"*")}&type=lowerBound&name=video.${encodeURIComponent(t)}&value=${encodeURIComponent(a)}&replace=true)`}({codec:e,name:t,value:a})),...s.map(({codec:e,name:t,value:a})=>function({codec:e,name:t,value:a}){return`add-limitation(scope=videoCodec&scopeName=${encodeURIComponent(e||"*")}&type=upperBound&name=video.${encodeURIComponent(t)}&value=${encodeURIComponent(a)}&replace=true)`}({codec:e,name:t,value:a}))];return i&&"h264"!==n&&l.push(function(e){const{protocol:t,codec:a}=e;return`append-transcode-target-codec(type=videoProfile&context=streaming&protocol=${encodeURIComponent(t)}&videoCodec=${encodeURIComponent(a)})`}({protocol:e.protocol,codec:n})),l},G5e=a("LnML");function K5e(e=_M.prop("video")){var t,a,n,i,r,s,o;const l=(null==(i=null==(n=null==(a=null==(t=e.directPlay)?void 0:t.mp4)?void 0:a.video)?void 0:n.codecs)?void 0:i.hevc)||(null==(o=null==(s=null==(r=e.directStream)?void 0:r.video)?void 0:s.codecs)?void 0:o.hevc);return(null==l?void 0:l.maxBitDepth)>=10}var Y5e=a("Cudw"),q5e=a("vkXu");function Z5e(e){const{mediaItems:t,transcodeServer:a,metadataItem:n,canPlayAdaptiveBitrate:i,settings:r,availableQualities:s}=e,o=function(e){return Math.max.apply(Math,e.map(e=>e.bitrate))}(t),l=a.get("maxUploadBitrate"),c=a.get("isPrivateConnection"),d=i&&r.get("autoAdjustQuality");let{localQualityDefault:u}=r;void 0===u&&(u=aC.a.ORIGINAL);const p=Object(q5e.a)(n,c),m=Object(Y5e.a)(n,c),h=aC.a.getQualityByIndex(r.get(m));if(p){const e=r.get("useHomeStreamingRecommendedSettings")?u:h.index,t=aC.a.getQualityByIndex(e),a=aC.a.isExplicitQuality(t.index)&&X5e(t.bitrate,o);return t.index===aC.a.ORIGINAL||a?aC.a.ORIGINAL:d?aC.a.CONVERT_AUTOMATICALLY:aC.a.getBestAvailableQuality(t,s)}const g=X5e(l,o),y=h.index===aC.a.ORIGINAL,f=X5e(h.bitrate,o);return r.get("remoteSmallVideoAtOriginalQuality")&&g&&(y||f)?aC.a.ORIGINAL:d?aC.a.CONVERT_AUTOMATICALLY:y&&g?aC.a.ORIGINAL:aC.a.getBestAvailableQuality(h,s)}function X5e(e,t){return!e||!!t&&e>=t}var J5e=function e(t,a,n,i={},r){const s=Object(E.c)("appModel"),o=s.get("user").get("experienceSettings"),l=s.get("deviceSettings"),c=_M.prop("video"),d=function(e,t){return!(!gOe()||!t.server.get("hasAdaptiveBitrate")||e.get("remotePlayer"))}(s,t),u=function(e){const{profile:t,metadataItem:a,mediaItem:n,canPlayAdaptiveBitrate:i,settings:r}=e;let{qualityIndex:s}=e;const o=n?[n]:a.get("Media"),l=aC.a.getAvailableQualitiesFor(o,a.server,{lowestQualityIndex:t.lowestQualityIndex,highestQualityIndex:t.highestQualityIndex});return null==s?s=Z5e({mediaItems:o,transcodeServer:a.server,metadataItem:a,canPlayAdaptiveBitrate:i,settings:r,availableQualities:l}):aC.a.isExplicitQuality(s)&&!l.find(e=>e.index===s)&&(s=aC.a.ORIGINAL),{availableQualities:l,quality:aC.a.getQualityByIndex(s),qualityIndex:s}}({profile:c,metadataItem:t,qualityIndex:a,mediaItem:r,canPlayAdaptiveBitrate:d,settings:o}),p=u.qualityIndex,m=p===aC.a.CONVERT_AUTOMATICALLY&&d,h=l.get("directPlay")&&!m,g=l.get("directStream")&&!m?1:0,y=d&&o.get("autoAdjustQuality")&&t.server.supports("adaptiveBitrateFallback")&&!aC.a.isExplicitQuality(p);let f,b=u.quality;return m&&(b=function(e,t){const a=e.server.get("isPrivateConnection");if(Object(q5e.a)(e,a)&&t.get("useHomeStreamingRecommendedSettings")){const e=t.defaults().localQuality;return aC.a.getQualityByIndex(e)}const n=Object(Y5e.a)(e,a),i=t.get(n);return aC.a.getQualityByIndex(i)}(t,o)),p!==aC.a.ORIGINAL&&(f=e(t,aC.a.ORIGINAL,n,i,r)),{type:uae.a.types.VIDEO,profile:c,allowDirectPlay:h,allowDirectStreamVideoWithSoftSubtitles:!0,allowIncompleteSegments:!0,subtitlesBurnLevel:o.get("subtitlesBurnLevel"),availableQualities:u.availableQualities,qualityIndex:p,quality:b,transcoderOptions:{addDebugOverlay:l.get("debugVideoQualityOverlay")?1:0,autoAdjustQuality:y||m?1:0,directStream:g,directStreamAudio:g,audioBoost:o.get("audioBoost"),...i},originalQualityDecisionOptions:f,...n}};const $5e=V5e(),e6e=V5e()||A5e(),t6e=$5e?"dash":"hls";function a6e(e,t,a){const n=Object(E.c)("appModel").get("user").get("experienceSettings"),i={hasNativeHLS:e6e,hasDASH:$5e,hasStreamingMKV:!1,canDisplayHDR:K5e(),canDisplayDolbyVision:!1,subtitlesBurnLevel:n.get("subtitlesBurnLevel"),transcoder:G5e.a,transcodeProtocol:t6e,preferredDirectPlayProtocol:t6e,profileExtra(e){const t=Q5e(e),a=e.finalProfile.directStream.video.codecs.hevc;if("hevc"===e.media.videoCodec&&a){const{maxBitDepth:n}=a;t.push(function(e={}){const{maxBitDepth:t=8,protocol:a,supportsHDR:n=!1,supportsDolbyVision:i=!1}=e,r=["bt709","bt470m","bt470bg","smpte170m","smpte240m"];return t>=10&&r.push("bt2020-10"),t>=12&&r.push("bt2020-12"),t>=10&&(n||i)&&r.push("smpte2084"),`add-limitation(scope=videoTranscodeTarget&scopeName=hevc&scopeType=videoCodec&context=streaming&protocol=${a}&type=match&name=video.colorTrc&list=${r.join("|")}&isRequired=false)`}({protocol:e.protocol,maxBitDepth:n,supportsHDR:e.canDisplayHDR,supportsDolbyVision:e.canDisplayDolbyVision}))}let n=Object.keys(e.finalProfile.directStream.audio.codecs);return"dash"===e.protocol&&(n=n.filter(e=>!1===/^e?ac3$/.test(e))),t.push(function(e){const{type:t="videoProfile",context:a="streaming",videoCodec:n,audioCodec:i,subtitleCodec:r,...s}=e,o={type:t,context:a};return n&&(o.videoCodec=Array.isArray(n)?n.join(","):n),i&&(o.audioCodec=Array.isArray(i)?i.join(","):i),r&&(o.subtitleCodec=Array.isArray(r)?r.join(","):r),Object.assign(o,s),`append-transcode-target-codec(${j.default.stringifyParams(o)})`}({protocol:e.protocol,audioCodec:n.join(",")})),t.join("+")}},r=Object(E.c)("appModel").get("user").get("experienceSettings");r.get("forceTranscodeProtocolHLS")&&"dash"===i.transcodeProtocol&&(e6e?r.get("autoAdjustQuality")?C.a.warn("[Player] Experimental alternate streaming protocol for video playback is disabled because automatic quality adjustment is enabled"):(C.a.warn("[Player] Experimental alternate streaming protocol for video playback is enabled"),i.transcodeProtocol="hls"):C.a.warn("[Player] Experimental alternate streaming protocol for video playback is unsupported by this browser"));const s={subtitleSize:n.get("subtitleSize"),mediaBufferSize:102400},o=a||e.get("Media")[0];return o&&"livetv"===o.origin&&(i.allowDirectPlay=!1),J5e(e,t,i,s,a)}var n6e=function(e,t,a){const n=wo.getMetadataType(e.get("type"));return(null==n?void 0:n.mediaType)===_s.a?function(){const e=[];return $5e&&e.push("add-transcode-target(type=musicProfile&context=streaming&protocol=dash&container=mp4&audioCodec=aac)"),e6e&&e.push("add-transcode-target(type=musicProfile&context=streaming&protocol=hls&container=mpegts&audioCodec=aac,mp3)"),{type:uae.a.types.MUSIC,profile:_M.prop("music"),allowDirectPlay:!0,hasNativeHLS:e6e,hasDASH:$5e,transcoder:G5e.a,transcodeProtocol:t6e,preferredDirectPlayProtocol:t6e,transcoderOptions:{directStreamAudio:1,mediaBufferSize:12288},profileExtra:e.length?e.join("+"):null}}():(null==n?void 0:n.mediaType)===_s.d?{type:uae.a.types.ROM,profile:{},allowDirectPlay:!1,allowDirectStream:!1,transcoder:G5e.a,transcoderOptions:{}}:a6e(e,t,a)};var i6e=J.a.extend({mixins:[ee.a],name:"AjaxQueue",queue:null,request:null,enabled:!1,destroyed:!1,initialize(e={}){this.queue=[],!1!==e.enabled&&this.enable()},enable(){this.enabled||this.destroyed||(this.enabled=!0,this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.request=null,this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.queue.length=0,this.destroyed=!0,this.onDestroyed())},send(e){e&&(this.queue.push(e),this._next())},_next(){if(!this._canNext())return;const e=this.queue.shift(),t=e&&this._getAjaxOptions(e);if(t){const e=h.a.ajax(t);e.always(this.onAjaxAlways.bind(this,e)),this.request=e}},_canNext(){return this.enabled&&!this.request},_getAjaxOptions:e=>e,onAjaxAlways(e){this.enabled&&e===this.request&&(this.request=null,this._next())},onEnabled(){this._next()},onDisabled(){},onDestroyed(){}});function r6e(){const e=new i6e;let t=null;return{setBaseUrl(e){t=e},trackEvent(a){if(!t)return void Object(_.a)(!1,"Network metrics reporters requires a base URL to be set before tracking events");const n=j.default.join([t,"collect/event"]),i=JSON.stringify(a);e.send({type:"POST",url:n,contentType:"text/plain",data:i})}}}var s6e=["enable","disable","set","start","trackClick","trackEvent","trackView","incrementPlaybackCount","addPlaybackTime","toJSON"];var o6e=["setBaseUrl","trackEvent"],l6e=a("P5+F"),c6e=a("Q3JP"),d6e=a("3zVX");function u6e(e,t){const{server:a}=t,n=a.get("debugName");return C.a.warn("[Connections] Aborting connection test for %s at %s because secure connections are disallowed",n,e),p6e(e,t)}function p6e(e,t){const{connection:a}=t,n=h.a.Deferred();return M.a.defer(()=>{a.set({currentTest:null,testState:l6e.e}),n.reject(a)}),n.promise()}function m6e(e){const{server:t,connection:a}=e,n=t.resolveUrl(e.url||"/media/providers",{connection:a}),i=Object(E.c)("appModel"),r=i.get("settings"),s=i.get("deviceSettings");if(!X.a.allowHttpsMediaServerConnections&&a.get("isHttps")&&!t.get("isCloud"))return u6e(n,e);const o=r&&r.get("preferInsecureConnections");if(!t.get("httpsRequired")&&!t.get("isCloud")&&a.get("isHttps")&&"always"===o)return u6e(n,e);if(!t.get("httpsRequired")&&a.get("isHttps")&&"samenetwork"===o&&a.get("isPrivate")&&t.get("publicAddressMatches"))return function(e,t){const{server:a}=t,n=a.get("debugName");return C.a.warn("[Connections] Aborting connection test for %s at %s because insecure connections are preferred",n,e),p6e(e,t)}(n,e);if(!X.a.allowMixedContent&&S.a.isHostedHttps&&!a.get("isHttps"))return function(e,t){const{server:a}=t,n=a.get("debugName");return C.a.warn("[Connections] Aborting connection test for %s at %s due to mixed content prevention",n,e),p6e(e,t)}(n,e);const l=s&&s.get("rejectDirectConnections");return t.get("isCloud")||a.get("relay")||!l&&!X.a.rejectDirectConnections?function(e,t){const{server:a,connection:n}=t,i=h.a.Deferred(),r=a.get("debugName"),s=Object(c6e.a)(a),o=Date.now();Object(C.a)("[Connections] Testing connection for %s at %s",r,e);const l=[],c={dataType:"text",headers:{Accept:s.accept},timeout:a.connectionTestTimeout};l.push(a.getXHROptions(e,c));const d=!Bhe(a);if(null==t.url&&d){const e=a.resolveUrl("/",{connection:n});Object(C.a)("[Connections] Testing legacy connection for %s at %s",r,e),l.push(a.getXHROptions(e,c))}if(X.a.emulateBrokenHTTPS){const e=n.get("isHttps")&&!a.get("isCloud"),t="private"!==X.a.emulateBrokenHTTPS||n.get("isPrivate");e&&t&&function(e){e.forEach(e=>{e.url="fail"+e.url})}(l)}const u=l.map(e=>h.a.ajax(e)),p=Object(RU.a)(...u);function m(e){n.get("relay")&&Object(E.c)("metrics").trackEvent({...e,event:bD.d,interaction:!1,reason:1===n.server.get("connections").length?101:102,serverType:n.server.get("isShared")?"shared":"owned",latency:Date.now()-o})}function g(t){Object(C.a)("[Connections] %s connected at %s",r,e),n.set({currentTest:null,testState:l6e.b}),m({status:"success"}),i.resolve(n,t)}function y(t,a){const s={currentTest:null};if(t.some(e=>e.aborting))Object(C.a)("[Connections] Aborted pending connection test for %s at %s",r,e),s.testState=l6e.a;else{const n=function(e){return 401===e||403===e||406===e}(a)?l6e.d:l6e.e;m({status:"failure",error:a}),t.forEach(t=>{C.a.warn("[Connections] %s is %s at %s (Status %s)",r,n,e,t.status)}),s.testState=n}n.set(s),i.reject(n,t)}return n.set({currentTest:u,testState:l6e.c}),p.done(()=>{const[t,n]=u;let i;if(200!==t.status&&404!==t.status?i=t.status:n&&200!==n.status&&(i=n.status),void 0!==i)return void y(u,i);if(a.get("isCloud"))return void g();const o=s.parse(t.responseText),l=n?s.parse(n.responseText):void 0,c=a.parseResponse(h.a.extend(!0,{},o,l)),d=c.machineIdentifier,p=a.get("isTransient")?a.get("originalMachineIdentifier"):a.get("machineIdentifier");if(!d||p&&d!==p)C.a.warn("[Connections] %s has an unexpected machine identifier at %s",r,e),y(u);else{!0===c.mediaProviders?c.mediaProviders=1:!1===c.mediaProviders?c.mediaProviders=0:n||(c.mediaProviders=1);const e=a.parse(c);a.get("isTransient")&&(e.machineIdentifier=a.get("machineIdentifier")),e.isInstallingServerUpdate=!1,e.isProvidersPending=!1,e.isProvidersPopulated=!0,Object(d6e.a)(e.providers,a),g(e)}}),i.promise()}(n,e):function(e,t){const{server:a}=t,n=a.get("debugName");return C.a.warn("[Connections] Aborting connection test for %s at %s due to reject direct connection debug setting",n,e),p6e(e,t)}(n,e)}var h6e=a("sdSe");var g6e=function(){const e=Object(E.c)("appModel").get("ui"),t=e.get("audioVideoPlayer"),a=e.get("photoPlayer"),n=e.get("romPlayer"),i=Object(h6e.a)(t),r=Object(h6e.a)(a);return i===GVe.d||r===GVe.d||!!n&&Object(h6e.a)(n)===GVe.d};var y6e=Object(he.a)(fe.a,e=>e.volume),f6e=a("IpeH");const{isCloud:b6e,...v6e}=zU.e.prototype.sessionAttrs;var I6e=zU.e.extend({name:"TransientServerModel",cache:null,persistInCache:!1,sessionAttrs:{...v6e,isTransient:QE.a.boolean,originalMachineIdentifier:QE.a.string},derivedAttrs:{...zU.e.prototype.derivedAttrs,isCloud(){return this.get("originalMachineIdentifier")===tC.a}},defaults(){return{...zU.e.prototype.defaults.apply(this,arguments),friendlyName:"Transient Server",isTransient:!0}},updateCacheKey(){},testConnection(e){if(this.get("originalMachineIdentifier")!==tC.a)return zU.e.prototype.testConnection.apply(this,arguments);e.set({testState:l6e.b}),this.onConnectionTestSuccess(e)}}),S6e=a("LJTU");const E6e="ui/player/localCompanionPlayer/runLocalCompanionPlaybackAction",O6e="ui/player/localCompanionPlayer/setTransientServer",M6e="ui/player/localCompanionPlayer/mirrorLocalDetails",C6e=Object(yo.a)(E6e),j6e=Object(yo.a)(O6e),D6e=Object(yo.a)(M6e),P6e={[E6e](e,{type:t,action:a},n){const{type:i,payload:r={}}=a,s=e.get("ui"),o=t===S6e.b?Oe.b:Oe.a,l=s.get(o+"Player");l.get("isOpen")&&l.get("playQueue")&&n({type:i,payload:{...r,playerType:o}})},[O6e](e,t){e.set("transientServer",t)},[M6e](e,t){}};var T6e=a("eNuQ"),w6e=a("kRwu");const N6e={"/player/timeline/subscribe":function(){Object(E.c)("localCompanionTimelineManager").start()},"/player/timeline/unsubscribe":function(){B6e(),Object(E.c)("localCompanionTimelineManager").stop()},"/player/mirror/details":function(e){const t=e.providerIdentifier&&e.providerIdentifier[0];let a,n;return V6e().then(()=>z6e(e)).then(t=>(a=t,U6e(a,e))).then(e=>(n=e.get(t||qr.d),n?n.populate({merge:!0}):h.a.Deferred().reject().promise())).then(()=>function(e,t,a){const n=(a.key&&a.key[0]).replace("/children",""),i=new _I.a({key:n},{server:e,provider:t});return A6e=n,i.populate().then(()=>A6e!==n?h.a.Deferred().reject().promise():{metadataItemModel:i})}(a,n,e)).then(({metadataItemModel:e})=>{k6e(D6e({serverEntityID:a.entityID(),providerEntityID:n.entityID(),key:e.get("key"),parentKey:e.get("parentKey"),type:e.get("type"),subtype:e.get("subtype")}))})},"/player/playback/playMedia":function(e){const t=e.providerIdentifier&&e.providerIdentifier[0],a=e.type&&e.type[0],n=e.offset&&e.offset[0],i=e.mediaIndex&&e.mediaIndex[0],r=e.containerKey&&e.containerKey[0];let s,o;return See.a.execute("remotePlaybackUnlock").then(()=>z6e(e)).then(t=>(s=t,U6e(s,e))).then(e=>{const a=GM(r);return a&&(o=e.get(t||qr.d),o)?o.populate().then(()=>({playQueueID:a})):h.a.Deferred().reject().promise()}).then(({metadataItemModel:e,playQueueID:t})=>{const l=s.entityID(),c=o.entityID(),d=S6e.e(a),u=null==n?null:parseInt(n,10),p=null==i?null:parseInt(i,10);if(e){const t=e.entityID();k6e(Ze.x({serverEntityID:l,providerEntityID:c,metadataItemEntityID:t,startMetadataItemEntityID:t,startOffsetMilliseconds:u,startMediaIndex:p,confirmPlayback:!0,confirmOffset:!0,options:{type:d,containerKey:r}}))}else k6e(Ze.v({serverEntityID:l,providerEntityID:c,playQueueType:d,playQueueID:t,startOffsetMilliseconds:u,startMediaIndex:p}))})},"/player/playback/pause":e=>R6e(e,IVe.s()),"/player/playback/play":e=>R6e(e,IVe.t()),"/player/playback/stop":e=>R6e(e,Ze.p()),"/player/playback/skipNext":e=>R6e(e,XM.y()),"/player/playback/skipPrevious":e=>R6e(e,XM.z()),"/player/playback/stepForward":e=>R6e(e,IVe.B()),"/player/playback/stepBack":e=>R6e(e,IVe.A()),"/player/playback/skipTo":function(e){const t=decodeURIComponent(e.key[0]);R6e(e,XM.x({key:t}))},"/player/playback/seekTo":function(e){const t=parseInt(e.offset[0],10);R6e(e,IVe.w({positionSeconds:Math.floor(t/1e3)}))},"/player/playback/refreshPlayQueue":function(e){R6e(e,XM.t())},"/player/playback/refreshStreams":function(e){R6e(e,IVe.v())},"/player/playback/setParameters":function(e){const t=e.volume&&e.volume[0],a=e.repeat&&e.repeat[0],n=e.shuffle&&e.shuffle[0],i=e.autoPlay&&e.autoPlay[0],r=e.subtitleColor&&e.subtitleColor[0],s=e.subtitlePosition&&e.subtitlePosition[0],o=e.subtitleSize&&e.subtitleSize[0],l=e.subtitleOffset&&e.subtitleOffset[0];if(null!=t){const a=parseInt(t,10);R6e(e,IVe.q({volume:a}))}if(null!=a){const t=parseInt(a,10);R6e(e,XM.G({repeatAll:t===T6e.a,repeatOne:t===T6e.c}))}null!=n&&R6e(e,XM.L());null!=i&&R6e(e,XM.F({autoPlay:1===parseInt(e.autoPlay,10)}));null!=r&&R6e(e,IVe.m({subtitleColor:r}));null!=s&&R6e(e,IVe.o({subtitlePosition:s}));null!=o&&R6e(e,IVe.p({subtitleSize:parseInt(o,10)}));null!=l&&R6e(e,IVe.n({subtitleOffset:parseInt(l,10),localUpdateOnly:!0}))},"/player/playback/setStreams":function(e){const t=e.audioStreamID&&e.audioStreamID[0],a=e.subtitleStreamID&&e.subtitleStreamID[0];null!=t&&R6e(e,IVe.l({streamTypeString:"audio",streamID:t.toString()}));null!=a&&R6e(e,IVe.l({streamTypeString:"subtitles",streamID:a.toString()}))},"/player/navigation/moveLeft":()=>F6e("moveLeft"),"/player/navigation/moveRight":()=>F6e("moveRight"),"/player/navigation/moveUp":()=>F6e("moveUp"),"/player/navigation/moveDown":()=>F6e("moveDown"),"/player/navigation/select":()=>F6e("select"),"/player/navigation/back":()=>F6e("back"),"/player/navigation/home":function(){V6e().then(()=>{k6e(Object(ta.x)())})}};let x6e,A6e;function L6e(e,t,a){return{commandID:e,body:d5e.writeXml({Response:{_code:t,_status:a}}),responseCode:t}}function k6e(e){Object(E.c)("appStore").dispatch(e)}function R6e(e,t){const a=e.type&&e.type[0];a?(t.type===Ze.c&&B6e(),k6e(C6e({type:a,action:t}))):C.a.warn("[Companion] Ignored playback action due to missing type")}function z6e(e){const t=e.machineIdentifier[0],a=Object(E.c)("appModel"),n=a.get("servers").get(t),i=a.get("transientServer");let r;x6e=t;const s={originalMachineIdentifier:t,accessToken:e.token&&e.token[0],mediaProviders:1};n&&(s.serverClass=n.get("serverClass"),s.publicAddressMatches=n.get("publicAddressMatches"),s.version=n.get("version")),i&&i.get("originalMachineIdentifier")===t?(r=i,r.set(s)):r=new I6e({machineIdentifier:`transient-${t}-${Object(gf.a)()}`,...s},{parent:a});const o=n&&n.get("isConnected")&&n.get("activeConnection");let l;if(o)l={scheme:o.get("scheme"),address:o.get("address"),port:o.get("port"),uri:o.get("uri")};else{const t=e.port&&e.port[0];let a,n=e.protocol&&e.protocol[0],i=e.address&&e.address[0],r=i;if(!n&&!i)return C.a.warn("[Companion] Unable to create a transient server without a protocol or address"),h.a.Deferred().reject().promise();"https"===n&&(i=Object(w6e.a)(i),X.a.allowHttpsMediaServerConnections||(n="http",r=i)),a=`${n}://${r}`,t&&(a+=":"+t),l={scheme:n,address:i,port:t,uri:a}}return r.addConnection(l),r.testOnlyUntestedConnections().then(()=>x6e!==t?h.a.Deferred().reject().promise():(r.get("isTransient")&&k6e(j6e(r)),r))}function U6e(e,t){const a=Object(E.c)("appModel").get("user"),n=e.get("isCloud")&&!e.get("isTransient")?a.get("providers"):e.get("providers");e.set({isProvidersPending:!0,isProvidersPopulated:!1,providersError:null});const i=n.populate();return i.then(()=>(e.set({isProvidersPending:!1,isProvidersPopulated:!0}),i),()=>(e.set({isProvidersPending:!1,providersError:{}}),i))}function V6e(){const e=h.a.Deferred();return Object(E.c)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()}function B6e(){Object(E.c)("appModel").get("user").get("isRemote")&&k6e(Object(xy.i)())}function F6e(e){$.a.trigger("companion:"+e),$.a.trigger("companion:key",e)}function H6e(e){const{path:t,query:a,commandID:n,supportsTimeline:i}=e,r=h.a.Deferred(),s=N6e[t];if(function(){const e=Object(E.c)("appModel").get("inputActivity");e&&e.notice()}(),!1!==i&&Object(E.c)("localCompanionTimelineManager").start(),s){(s(a)||h.a.Deferred().resolve().promise()).done(()=>{Object(C.a)(`[Companion] Successfully processed command from path "${t}"`);const e=L6e(n,200,"OK");r.resolve({controllerResponse:e})}).fail(()=>{C.a.warn(`[Companion] Failed to process command from path "${t}"`);const e=L6e(n,400,"Bad Request");r.resolve({controllerResponse:e})})}else{C.a.warn(`[Companion] Unable to handle command from unknown path "${t}"`);const e=L6e(n,400,"Bad Request");r.resolve({controllerResponse:e})}return r.promise()}function _6e(e){const t=()=>e.get("deviceSettings"),a=()=>e.get("user").get("experienceSettings"),n={autoPlay:a,autoLogin:t,companion:a,language:a,shouldSyncSettings:t,subtitleColor:a,subtitlePosition:a,subtitleSize:a,volume:t};return{find:e=>n[e]().get(e),addCompanionChangeListener(t){e.on("change:user.change:experienceSettings.change:companion",t)}}}function W6e(e){return!!(function(e){return!(!e||e.get("isCloud")||"iOS"===e.get("platform")||!e.supports("companionProxy"))}(e)&&(t=e.get("activeConnection"),t&&t.get("isPrivate")&&t.get("isConnected")));var t}function Q6e(e){return!(!W6e(e)||e.get("isShared"))}var G6e=J.a.extend({mixins:[ee.a],name:"CompanionServerManager",initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this._throttlePickCompanionServer=M.a.throttle(this._pickCompanionServer,2e3)},start(e){this.stop(),this.listenTo(this.servers,"change:connected change:activeConnection update",this._throttlePickCompanionServer),this.started=!0,this._pickCompanionServer()},stop(){this.stopListening(),this.started=!1},_pickCompanionServer(){this.started&&(this.companionServer&&W6e(this.companionServer)&&this.servers.contains(this.companionServer)||(this.companionServer=this.servers.find(Q6e)||this.servers.find(W6e),this.companionServer?(Object(E.c)("appStore").dispatch(Object(ta.r)({serverEntityID:this.companionServer.entityID()})),C.a.info("[Companion] Found companion",this.companionServer.get("debugName"))):(Object(E.c)("appStore").dispatch(Object(ta.z)()),C.a.warn("[Companion] No companion found"))))}});var K6e=J.a.extend({mixins:[ee.a],browserConnectionChangeDelay:2e3,initialize(e){M.a.bindAll(this,"onBrowserConnectionChange"),this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this.settings=this.appModel.get("settings")},start(){this.stop();const e=h()(window);e.on("online",this.onBrowserConnectionChange),e.on("offline",this.onBrowserConnectionChange),this.listenTo($.a,{"test:servers":this.onTestAllServers,"test:server":this.onTestServer}),this.listenTo(this.servers,{add:this.onServerAdd,remove:this.onServerRemove,reset:this.onServersReset,"error:connection":this.onServerConnectionError,"change:connections.add":this.onServerConnectionAdd,"change:connections.remove":this.onServerConnectionRemove,"change:connections.reset":this.onServerConnectionsReset,"change:connections.change:isConnected":this.onServerConnectionConnectedChange,"change:connections.change:sources.change":this.onServerConnectionSourcesChange,"change:accessToken":this.onServerAccessTokenChange,"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange,"change:publicAddressMatches":this.onServerPublicAddressMatchesChange}),this.listenTo(this.settings,"sync",this.onSettingsSave),this.servers.invoke("testOnlyUntestedConnections")},stop(){this.stopListening();const e=h()(window);e.off("online",this.onBrowserConnectionChange),e.off("offline",this.onBrowserConnectionChange)},retryServerConnections:function(e){e.testAllConnections()},startFailedServerRetries(e){},stopFailedServerRetries(e){},_removeConnection(e){const{server:t}=e,a=W2e.a.getActiveServers();if(Object(C.a)("[Connections] Removed connection %s from %s",e.id,t.get("debugName")),t.abortConnectionTest(e),a){const n=a.get(t.id),i=n&&n.get("connections");i&&i.get(e.id)&&(i.remove(e.id),i.length||a.remove(t.id),W2e.a.debouncedSave())}},onBrowserConnectionChange(e){Object(C.a)("[Connections] Browser online status changed to",window.navigator.onLine),window.clearTimeout(this.browserConnectionChangeTimeout),this.browserConnectionChangeTimeout=window.setTimeout(()=>{this.servers.invoke("testAllConnections")},this.browserConnectionChangeDelay)},onTestAllServers(){this.servers.invoke("testAllConnections")},onTestServer(e){e.testAllConnections()},onServerAdd(e){e.testOnlyUntestedConnections()},onServerRemove(e){const t=W2e.a.getActiveServers();let a;if(e.abortAllConnectionTests(),this.stopFailedServerRetries(e),t)if(e.get("isMerged")){const n=e.previous("machineIdentifier");n&&(a=t.get(n),a&&(a.set("machineIdentifier",e.id),W2e.a.debouncedSave()))}else a=t.get(e.id),a&&(t.remove(e.id),W2e.a.debouncedSave())},onServersReset(e,t){const a=t.previousModels;M.a.each(a,t=>{e.contains(t)||(t.abortAllConnectionTests(),this.stopFailedServerRetries(t))})},onServerConnectionError(e){if(C.a.warn("[Connections] Possible connection error for %s, retrying connection tests",e.get("debugName")),e.get("isCloud")){this.appModel.get("user").signInUnsupervised()}else e.testAllConnections()},onServerConnectionAdd(e){const{server:t}=e;Object(C.a)("[Connections] Added connection %s for %s",e.id,t.get("debugName")),e.get("relay")?t.get("connections").hasFailedEveryDirectConnection()&&t.testAllConnections():t.testConnection(e)},onServerConnectionRemove(e){this._removeConnection(e)},onServerConnectionsReset(e,t){const a=t.previousModels;M.a.each(a,t=>{e.contains(t)||this._removeConnection(t)})},onServerConnectionConnectedChange(e,t){const{server:a}=e,n=e.get("isBundled"),i=e.get("isFallback"),r=e.get("relay"),s=t&&!n&&!i&&!r,o=W2e.a.getActiveServers();if(a.id&&!a.get("isCloud")&&s&&o){let t=o.get(a.id);if(t)t.copyFromModel(a);else{const e=M.a.omit(a.toJSON(),"connections");t=o.add(e,{merge:!0,parse:!0})}t.get("connections").add(e.toJSON(),{merge:!0,parse:!0}),W2e.a.debouncedSave()}},onServerConnectionSourcesChange(e,t){const{server:a}=e,n=W2e.a.getActiveServers(),i=n&&n.get(a.id);if(i){const a=i.get("connections").get(e.id);if(a){a.get("sources").set(t.toJSON()),W2e.a.debouncedSave()}}},onServerAccessTokenChange(e,t){if(!e.get("isCloud")){Object(C.a)("[Connections] Access token for %s changed to %s",e.get("debugName"),t);const a=W2e.a.getActiveServers(),n=a&&a.get(e.id);n&&(n.set("accessToken",t),W2e.a.debouncedSave()),e.get("isUnauthorized")&&e.set("connectionTestResult",zU.e.connectionTestResults.PENDING),e.testAllConnections()}},onServerConnectedChange(e,t){t&&this.stopFailedServerRetries(e)},onServerUnavailableChange(e,t){t&&this.startFailedServerRetries(e)},onServerPublicAddressMatchesChange(e,t){void 0!==t&&e.testAllConnections()},onSettingsSave(e){e.changed.hasOwnProperty("preferInsecureConnections")&&this.servers.invoke("testAllConnections")}});var Y6e=K6e.extend({initialize(e){K6e.prototype.initialize.apply(this,arguments),this._serverRetryManager=new kue({callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying connection tests for %s in %s seconds"})},stop(){K6e.prototype.stop.apply(this,arguments),this._serverRetryManager.stopAll()},startFailedServerRetries(e){this._serverRetryManager.start(e)},stopFailedServerRetries(e){this._serverRetryManager.stop(e)}});var q6e=()=>{};const Z6e=["page","type","style","mode"];var X6e=a("SnPO");const J6e=/0/g,$6e=()=>(0|16*Math.random()).toString(16);var e8e=function(){return"00000000-0000-4000-8000-000000000000".replace(J6e,$6e)};var t8e=J.a.extend({mixins:ee.a,initialize(e){this.privacySettings=null,this.defaults={},this._pendingPrivacyRequest=null,this._pendingEvents=[],this.debouncedFetchPrivacySettings=M.a.debounce(this.fetchPrivacySettings,250),this.isPlaybackActive=e.isPlaybackActive,this.enable()},enable(){this.enabled=!0},disable(){this.enabled=!1},set(e){this.defaults={...this.defaults,...e}},setUser(e){this.set({userId:e.id}),this.defaults.context||(this.defaults.context={}),this.defaults.context.user=e.get("subscriptions").reduce((e,t)=>(e[t.get("type")]=t.get("mode"),e),{anonymous:e.get("anonymous")})},fetchPrivacySettings(){this.privacySettings=null,this._pendingPrivacyRequest&&(this._pendingPrivacyRequest.abort(),this._pendingPrivacyRequest=null);const e=Object(E.c)("appModel").get("user");if(!e.server.get("isConnected"))return h.a.Deferred().reject().promise();const t=e.server.getXHROptions("/api/v2/user/privacy",{dataType:"json"});return this._pendingPrivacyRequest=h.a.ajax(t),this._pendingPrivacyRequest.promise().done(t=>{this.setUser(e),this.setPrivacySettings(t),this.trackPendingEvents()}).always(()=>{this._pendingPrivacyRequest=null})},setPrivacySettings(e){if(e&&e.metrics){this.privacySettings={...e,metrics:e.metrics.reduce((e,t)=>(e[t.event]=t.status,e),{})};Object(E.c)("metricsReporter").setBaseUrl(e.baseUrl)}},incrementPlaybackCount(){const e="playbackCount",t=Object(E.c)("sessionStats");t.save(e,t.get(e)+1)},addPlaybackTime(e){const t="playbackTime",a=Object(E.c)("sessionStats");a.save(t,a.get(t)+e)},trackView(e,t){const a=bD.i,n={event:a,interaction:!0,properties:e,...t},i=wl.a.measure(function(e,t){let a=e;for(let e=0;e<Z6e.length;e++){const n=t[Z6e[e]];null!=n&&(a=`${a}:${n}`)}return a}(a,e),`${a}:${e.page}-start`);i&&(n.properties={...n.properties,latency:Math.round(i.duration)}),this.trackEvent(n)},trackClick(e,t){this.trackEvent({event:bD.c,interaction:!0,properties:e,...t})},trackEvent(e){var t;if(!this.enabled)return;const a=null==(t=e.properties)?void 0:t.contextTuple;a&&(delete e.properties.contextTuple,Object.assign(e.properties,Object(Et.c)(a)));const n=Object(E.c)("sessionStats"),i=n.get("sessionId"),r=n.get("anonymousSessionId");if(!this.privacySettings)return void this._pendingEvents.push({...e,sessionIdentifier:i,anonymousSessionIdentifier:r});const s=h.a.extend(!0,{},this.defaults,e);s.sessionIdentifier||(s.sessionIdentifier=i),s.anonymousSessionIdentifier||(s.anonymousSessionIdentifier=r);const o=Date.now();if(!(e.event===bD.e||e.event===bD.g)){const t=n.get("lastInteractionTime"),a=n.get("lastPlayingHeartbeatTime");if(o-Math.max(t,a)>18e5)return void this.flushSession().then(()=>{this.trackEvent(e)})}const l=this.privacySettings.metrics[s.event];if(l)if("off"===l);else{s.interaction&&Object(X6e.a)(),"anonymous"===l&&(delete s.userId,s.deviceIdentifier=Object(E.c)("appModel").get("anonymousClientID"),s.sessionIdentifier=s.anonymousSessionIdentifier),delete s.anonymousSessionIdentifier,q6e(s);Object(E.c)("metricsReporter").trackEvent(s)}},trackPendingEvents(){const e=this._pendingEvents;let t=0;for(;t<e.length;)this.trackEvent(e[t]),t++;this._pendingEvents=[]},start(){const e=Object(E.c)("appModel").get("user");return this.flushSession().then(()=>Object(H.a)(e.server.populate())).then(()=>this.fetchPrivacySettings()).always(()=>{this.listenTo(e.server,"change:isConnected",this.onCloudServerChange),this.listenTo(e,"change:id",this.onUserIDChange)}),h.a.Deferred().resolve().promise()},flushSession(){const e=Object(E.c)("sessionStats").populate().then(()=>{this.stopSession(),this.startSession()},()=>{this.startSession()});return Object(H.a)(e)},startSession(){const e=Date.now(),t=Object(E.c)("sessionStats");if(!this.interval){const e=X.a.heartbeatInterval;0,this.interval=window.setInterval(()=>{const e=Date.now(),a={heartbeatTime:e};this.isPlaybackActive()&&(a.lastPlayingHeartbeatTime=e),t.set(a)},e)}t.save({sessionId:e8e(),anonymousSessionId:e8e(),startTime:e,lastInteractionTime:e,heartbeatTime:e,lastPlayingHeartbeatTime:null,playbackCount:0,playbackTime:0});const a=bD.g,n=wl.a.endPeriod(a),i={event:a,interaction:!0,properties:{mode:"uno"}};n&&(i.properties.latency=Math.round(n.duration)),this.trackEvent(i)},stopSession(){const e=Object(E.c)("sessionStats"),t=e.get("heartbeatTime"),a=e.get("playbackCount"),n=e.get("playbackTime"),i=e.get("startTime");this.trackEvent({event:bD.e,interaction:!1,properties:{sessionLength:Math.floor((t-i)/1e3),playbackCount:a,playbackTime:pBe(n)}})},toJSON(){return{...this.defaults}},onCloudServerChange(e,t){t?this.fetchPrivacySettings():this.privacySettings=null},onUserIDChange(){this.privacySettings=null,this.debouncedFetchPrivacySettings()}});var a8e=J.a.extend({mixins:[ee.a],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(e){this.stop(),this.listenTo(this.appModel,{"change:primaryServer":this.onPrimaryServerChange,"change:primaryServer.change:isPrimaryEligible":this.onPrimaryServerEligibleChange,"change:primaryServer.change:isOutOfDate":this.onPrimaryServerOutOfDateChange,"change:isWaitingForServers":this.onWaitingForServersChange,"change:primaryServer.change:isRelayed":this.onPrimaryServerIsRelayedChange}),this.listenTo(this.servers,{"update reset":this.onServersUpdate}),this._setPrimaryServer(aS.STARTUP)},stop(){this.stopListening(),this._primaryServerPromise=null},_setPrimaryServer(e){if(this._primaryServerPromise)return this._primaryServerPromise;const t=Object(E.c)("appStore");t.dispatch(Object(ta.A)());const a=this._waitForPrimaryServer();return this._primaryServerPromise=a,a.done(n=>{if(a===this._primaryServerPromise){if(this._primaryServerPromise=null,this.appModel.get("primaryServer"))return;const a=!n.get("version")&&!n.get("isRejected");n.get("isOutOfDate")||a?(Object(C.a)("[Primary Server] The server, %s, is waiting for a version",n.get("debugName")),this._setPrimaryServer(e)):t.dispatch(Object(ta.s)({machineIdentifier:n.id,metricsProperties:{context:e}}))}}).fail(()=>{a===this._primaryServerPromise&&(this._primaryServerPromise=null,this.appModel.set("isWaitingForPrimaryServer",!1))}),a},_waitForPrimaryServer(){const e=this.appModel.get("user").get("lastPrimaryServerID");let t;return e?(Object(C.a)("[Primary Server] Waiting for the last primary server, %s, to connect",e),t=this.servers.populateServer({machineIdentifier:e,isPrimaryEligible:!0,isOutOfDate:!1})):t=h.a.Deferred().reject().promise(),t=t.then(null,()=>(Object(C.a)("[Primary Server] Waiting for any owned server to connect"),this.servers.populateServer({isFullOwnedServer:!0,isPrimaryEligible:!0,isOutOfDate:!1}))),t=t.then(null,()=>(Object(C.a)("[Primary Server] Waiting for any eligible server to connect"),this.servers.populateServer({isPrimaryEligible:!0,isOutOfDate:!1}))),t=t.then(null,()=>(Object(C.a)("[Primary Server] Waiting for any eligible server"),this.servers.findServer({isPrimaryEligible:!0,isOutOfDate:!1}))),t},onPrimaryServerChange(e,t){W2e.a.flushDebouncedSave();const a=e.previous("primaryServer");if(a&&this.stopListening(a),t){C.a.info("[Primary Server] %s is now the primary server",t.get("debugName"));if(e.get("user").set("lastPrimaryServerID",t.id),t.get("isRelayed")){Object(E.c)("appStore").dispatch(Object($I.q)({machineIdentifier:t.id,serverName:t.get("friendlyName")}))}}else e.get("isWaitingForPrimaryServer")?Object(C.a)("[Primary Server] Waiting to set the primary server"):C.a.warn("[Primary Server] No primary server found")},onPrimaryServerEligibleChange(e,t){const a=this.appModel.get("user");t||(Object(C.a)("[Primary Server] The previous primary server, %s, is unauthorized",e.get("debugName")),a.unset("lastPrimaryServerID"),this._setPrimaryServer(aS.FALLBACK))},onPrimaryServerOutOfDateChange(e,t){const a=this.appModel.get("user");t&&(Object(C.a)("[Primary Server] The previous primary server, %s, is out of date",e.get("debugName")),a.unset("lastPrimaryServerID"),this._setPrimaryServer(aS.FALLBACK))},onWaitingForServersChange(e,t){if(t){const t=e.get("primaryServer"),a=!t||!this.servers.get(t.id),n=e.get("isWaitingForPrimaryServer");a&&!n&&this._setPrimaryServer(aS.FALLBACK)}},onPrimaryServerIsRelayedChange(e,t){if(t){Object(E.c)("appStore").dispatch(Object($I.q)({machineIdentifier:e.id,serverName:e.get("friendlyName")}))}},onServersUpdate(){const e=this.appModel.get("user"),t=this.appModel.get("primaryServer");if(t){t&&!this.servers.get(t.id)&&(Object(C.a)("[Primary Server] The previous primary server, %s, was removed",t.get("debugName")),e.unset("lastPrimaryServerID"),this._setPrimaryServer(aS.FALLBACK))}else this._setPrimaryServer(aS.STARTUP)}});var n8e=J.a.extend({mixins:[ee.a],initialize(e){this.appModel=e.appModel},start(){const e=this.appModel.get("user");this.populateCloudProviders(e.get("providers")),this.listenTo(this.appModel,{"change:user.change:providers.add":this.onProviderAdd})},stop(){this.stopListening()},populateCloudProviders(e){e.each(e=>{this.populateCloudProvider(e)})},populateCloudProvider(e){e.get("isPopulated")||Object(E.c)("appStore").dispatch(XI({providerEntityID:e.entityID(),options:{merge:!0}}))},onProviderAdd(e){this.populateCloudProvider(e)}});function i8e(e,t,a){return function(n){return n.server===e&&n.connection.id===t.id&&n.url===a}}var r8e=J.a.extend({initialize(e){this.appModel=e.appModel,this.queued=[],this.executing=[],this.maximumConcurrent=X.a.maximumConcurrentConnectionTests,this.throttledStartProcessing=M.a.throttle(this._startProcessing.bind(this),50,{leading:!1})},queueConnectionTest({server:e,connection:t,url:a}){const n=this._queuedOrExecuting(e,t,a);if(n)return n.deferred.promise();const i=h.a.Deferred();return this.queued.push({server:e,connection:t,url:a,deferred:i}),this._sortQueue(),this.throttledStartProcessing(),i.promise()},abortConnectionTest({server:e,connection:t,url:a}){return this._abortCurrentTest(e,t,a),this._removeQueuedOrExecuting(e,t,a),h.a.Deferred().resolve().promise()},reset(){for(this.queued.length=0;this.executing.length>0;)this.abortConnectionTest(this.executing[0])},_sortQueue(){const e=this.appModel.get("user").get("lastPrimaryServerID");this.queued.sort((t,a)=>{const n=t.server,i=a.server,r=t.connection,s=a.connection,o=this._isManualConnection(r),l=this._isManualConnection(s),c=this._isMatchingLocation(n,r),d=this._isMatchingLocation(i,s);return n.id===e&&i.id!==e?-1:i.id===e&&n.id!==e?1:n.get("isCloud")&&!i.get("isCloud")?-1:i.get("isCloud")&&!n.get("isCloud")?1:!r.get("relay")&&s.get("relay")?-1:!s.get("relay")&&r.get("relay")?1:!r.get("isConnected")&&s.get("isConnected")?-1:!s.get("isConnected")&&r.get("isConnected")?1:!n.get("isShared")&&i.get("isShared")?-1:!i.get("isShared")&&n.get("isShared")?1:n.get("isFullServer")&&!i.get("isFullServer")?-1:i.get("isFullServer")&&!n.get("isFullServer")?1:o&&!l?-1:l&&!o?1:r.get("isBundled")&&!s.get("isBundled")?-1:s.get("isBundled")&&!r.get("isBundled")?1:c&&!d?-1:d&&!c?1:0})},_startProcessing(){M.a.times(this.maximumConcurrent-this.executing.length,this._process.bind(this))},_process(){if(this.executing.length>=this.maximumConcurrent)return;if(!this.queued.length)return;const e=this.queued.shift(),{server:t,connection:a,url:n}=e;this._abortCurrentTest(t,a,n);const i=Object(E.c)("testServerConnection")({server:t,connection:a,url:n});this.executing.push(e),i.done((t,a)=>{e.deferred.resolve(t,a)}),i.fail((t,a)=>{e.deferred.reject(t,a)}),i.always(()=>{const t=this.executing.indexOf(e);this.executing.splice(t,1),this._process()})},_abortCurrentTest(e,t,a){if(!t.get("currentTest"))return;t.get("currentTest").forEach(n=>{const i=e.resolveUrl(a||n.url,{connection:t});n&&"pending"===n.state()&&(Object(C.a)("[Connections] Aborting pending connection test for %s at %s",e.get("debugName"),i),A.a.abort(n.rid),n.abort())})},_isManualConnection:e=>e.get("sources").some(e=>0===e.id.indexOf("manualServer")),_isMatchingLocation(e,t){const a=e.get("publicAddressMatches"),n=t.get("isPrivate");return a&&n||!a&&!n},_queuedOrExecuting(e,t,a){const n=i8e(e,t,a);return M.a.find(this.executing,n)||M.a.find(this.queued,n)},_removeQueuedOrExecuting(e,t,a){const n=i8e(e,t,a),i=M.a.findIndex(this.executing,n),r=M.a.findIndex(this.queued,n);i>=0&&this.executing.splice(i,1),r>=0&&this.queued.splice(r,1)}}),s8e=a("2y0P"),o8e=a("G35J"),l8e=a("b4zP");function c8e(e){return Yt({entityID:e.entityID(),...e.toJSON()})}const d8e=Object.keys(l8e.a.prototype.syncedAttrs);var u8e=J.a.extend({mixins:[ee.a],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(){this.stop(),this.listenTo(this.servers,{"change:promiseState":this.onServerPromiseStateChange,remove:this.onServerRemove,"update reset":this.onServersUpdateReset,"change:resources.add":this.onResourceAdd,"change:resources.remove":this.onResourceRemove,"change:resources.update":this.onResourcesUpdate,"change:resources.reset":this.onResourcesReset,"change:resources.change:presence":this.onResourcesPresenceChange,"change:resources.change:connections.update":this.onResourceConnectionsUpdate,"change:isConnected":this.onConnectedChange,"change:desktop.change:isSettingsPopulated":this.onSettingsPopulatedChange}),d8e.forEach(e=>{this.listenTo(this.servers,"change:"+e,this.onStoredServerAttributeChange.bind(this,e))}),this.listenTo($.a,"discover:servers",this.onDiscoverServers),this._setAuthorized(),this._checkFoundAllServers()},stop(){this.stopListening()},_checkFoundAllServers(){this.servers.shouldWaitForInitialServers()||this.servers.shouldWaitForResources()||this.servers.shouldWaitForPendingServers()?this._waitForServers():this._foundAllServers()},_waitForServers(){this.servers.waitForServers(),Object(Dt.a)(()=>{this.appModel.set("isWaitingForServers",!0)})},_foundAllServers(){this.servers.foundAllServers(),Object(Dt.a)(()=>{this.appModel.set("isWaitingForServers",!1)})},_fetchResources(e){if(e.get("isRejected"))return C.a.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:!1}),h.a.Deferred().reject().promise();if(!e.get("isResolved"))return Object(C.a)("[Servers] Finding resources through unresolved cloud server %o, resolving",e.get("debugName")),e.populate().then(()=>this._fetchResources(e));Object(C.a)("[Servers] Finding resources through %s",e.get("debugName")),this._waitForServers(),e.set("isResourcesPending",!0);const t=e.get("resources");return t.fetch().done(()=>{Object(C.a)("[Servers] Found %s resources through %s",t.length,e.get("debugName")),e.set({isResourcesPending:!1,isResourcesPopulated:!0,hasFailedResources:!1,isDownForMaintenance:!1})}).fail((t,a)=>{C.a.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:503===a.status})}).always(()=>{this._checkFoundAllServers()})},_convertResourceToServer:e=>(Object(C.a)("[Servers] %s was found through %s",e.get("name"),e.server.get("debugName")),Object(s8e.a)(e)),_removeResource(e){Object(C.a)("[Servers] %s was removed as a resource from %s",e.get("name"),e.server.id);const t=this.servers.get(e.id);t&&t.removeSource(e.server.id)},_pruneStaleSources(e){const t=e.get("resources");let a=this.servers.length-1;for(;a>=0;){const n=this.servers.at(a),i=t.get(n.id);if(i){const t=n.get("connections");let a=t.length-1;for(;a>=0;){const n=t.at(a);if(n.get("sources").get(e.id)){i.get("connections").get(n.id)||n.get("sources").remove(e.id)}a--}}else n.removeSource(e.id);a--}},_setAuthorized(){const e=!!this.servers.findWhere({isConnected:!0,isCloud:!1}),t=!!this.servers.findWhere({isResolved:!0,isCloud:!0});this.appModel.set("authorized",e||t)},onServerPromiseStateChange(e,t){e.get("resources")&&this._fetchResources(e),this._setAuthorized(),this._checkFoundAllServers()},onStoredServerAttributeChange(e,t,a){const n=W2e.a.getActiveServers(),i=n&&n.get(t.id);i&&null!=a&&i.get(e)!==a&&(i.set(e,a),W2e.a.debouncedSave())},onServerRemove(e){C.a.warn("[Servers] %s was removed",e.get("debugName")),e.cache.remove(e),$.a.trigger("clearWhere:cache",{server:e})},onServersUpdateReset(){this._setAuthorized(),this._checkFoundAllServers()},onDiscoverServers(){const e=this.appModel.get("cloudServer");this._fetchResources(e)},onResourceAdd(e){if(M.a.contains(e.get("provides"),"server")){const t=this._convertResourceToServer(e);t.get("isMobileServer")||this.servers.add(t)}},onResourceRemove(e){this._removeResource(e)},onResourcesUpdate(e){this._pruneStaleSources(e.server),this._checkFoundAllServers()},onResourcesReset(e,t){const a=t.previousModels;M.a.each(a,t=>{e.contains(t)||this._removeResource(t)}),this._checkFoundAllServers()},onResourcesPresenceChange(e){const t=this.servers.get(e.id);t&&t.set("presence",e.get("presence"))},onResourceConnectionsUpdate(e){const t=e.parent,a=this.servers.get(t.id);a&&(Object(o8e.a)(a,t),this._pruneStaleSources(e.server),this._checkFoundAllServers())},onConnectedChange(e,t){if(!t)return;const a=Object(E.c)("appStore"),n=c8e(e);a.dispatch(Cs.actions.connected({server:n})),e.get("isFullOwnedServer")&&(a.dispatch(fm.actions.fetchRequested({server:n})),a.dispatch(Object(OS.j)({serverEntityID:e.entityID()})))},onSettingsPopulatedChange(e,t){if(t){const t=e.get("settings"),a=t.get("AcceptedEULA");a&&!1===a.get("value")&&!window.location.hash.includes("/setup")&&Object(see.a)("serverSetup",{machineIdentifier:t.server.id})}}});var p8e=J.a.extend({mixins:[ee.a],initialize(e){this.appModel=e.appModel},start(){this.stop(),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isInstallingServerUpdate":this.onIsInstallingServerUpdateChange})},stop(){this.stopListening()},onServerIsConnectedChange(e,t){t&&E.c("appStore").dispatch(rhe({serverEntityID:e.entityID()}))},onIsInstallingServerUpdateChange(e,t){t||E.c("appStore").dispatch(rhe({serverEntityID:e.entityID()}))}}),m8e=a("LlG2");var h8e=a("vfgx");var g8e=J.a.extend({mixins:[ee.a],initialize(e){this.appModel=e.appModel,this.debouncedSaveTimeout=null},start(){this.listenTo(this.appModel,{"change:user.change:providers.add":this.onCloudProviderAdd,"change:user.change:providers.change:isPending":this.onCloudProviderIsPendingChange,"change:user.change:isProvidersPending":this.onCloudProvidersIsPendingChange}),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isProvidersPending":this.onServerIsProvidersPendingChange,add:this.onServerAdd,"change:friendlyName":this.onServerAttrChanged,"change:sourceTitle":this.onServerAttrChanged}),this.listenTo(this.appModel.get("cloudServer"),{"change:isResourcesPending":this.onCloudReadyChange,"change:hasFailedResources":this.onCloudReadyChange})},_getPinnedSources(){return this.appModel.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources")},_getCustomHomeHubs(){return this.appModel.get("user").get("experienceSettings").get("homeSettings").get("hubs")},_shouldRemoveHiddenSource(e){const t=e.get("hiddenAt");return t>0&&Date.now()-t>604800},_hideCustomHomeHubs(e){e.forEach(e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),this._debouncedSaveExperienceSettings())})},_hidePinnedSources(e){let t;e.forEach(e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),t=!0,this._debouncedSaveExperienceSettings())}),t&&Object(E.c)("appStore").dispatch(Object(h8e.b)())},_hideSourcesWithNoServer(){const e=this.appModel.get("servers"),t=this._getPinnedSources().filter(t=>!e.get(t.get("machineIdentifier"))),a=this._getCustomHomeHubs().filter(t=>!e.get(t.get("server").get("machineIdentifier")));this._hidePinnedSources(t),this._hideCustomHomeHubs(a)},_hideSourcesWithNoProvider(e,t,a,n){if(e.get("isConnected")&&a&&!n){const a=e.get("machineIdentifier"),n=this._getPinnedSources().filter(e=>{const n=e.get("machineIdentifier"),i=e.get("providerIdentifier");return n===a&&!t.get(i)}),i=this._getCustomHomeHubs().filter(e=>{const n=e.get("server").get("machineIdentifier"),i=e.get("provider").get("identifier");return n===a&&!t.get(i)});this._hidePinnedSources(n),this._hideCustomHomeHubs(i)}},_hideCloudSourcesWithNoProvider(e){const t=this.appModel.get("cloudServer");this._hideSourcesWithNoProvider(t,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_hideServerSourcesWithNoProvider(e){this._hideSourcesWithNoProvider(e,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_updateStoredPinnedSources(e,t){const a=[];let n;this._getPinnedSources().forEach(i=>{const r=Object(m8e.a)(i.toJSON());if(r.machineIdentifier!==e.machineIdentifier||r.providerIdentifier!==t.identifier)return;const s=mCe(t,r.directoryID);if(!s)return void(e.isConnected&&t.isPopulated&&a.push(i));const o=Object(OI.a)(t,s),l=Object(m8e.a)(EI({sourceType:o?o.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:s}));i.get("isHidden")&&(l.isHidden=!1,l.hiddenAt=null,n=!0),Object(IO.a)(r,l)||(i.set(l),this._debouncedSaveExperienceSettings())}),this._hidePinnedSources(a),n&&Object(E.c)("appStore").dispatch(Object(h8e.b)())},_updateStoredHomeHubModels(e,t){const a=[];this._getCustomHomeHubs().forEach(n=>{const i=n.toJSON();if(i.server.machineIdentifier!==e.machineIdentifier||i.provider.identifier!==t.identifier)return;const r=function(e,t){const a=Object(lo.a)(e);return a&&a.directories?a.directories.find(e=>e.key===t||e.hubKey===t):null}(t,i.directoryKey),s=t&&t.features.find(e=>e.type===nS.m);!(r||s&&s.key===i.directoryKey)?e.isConnected&&t.isPopulated&&a.push(n):n.get("isHidden")&&(n.set({isHidden:!1,hiddenAt:null}),this._debouncedSaveExperienceSettings())}),this._hideCustomHomeHubs(a)},_autoPinSources(e,t){const a=this.appModel.get("user").get("experienceSettings"),n=a.get("autoPinnedProviders"),i=a.get("sidebarSettings"),r=i.get("pinnedSources"),s=Object(VE.a)(e.machineIdentifier,t.identifier);if(!qr.l(t.identifier,[qr.i,qr.b])||n.includes(s))return;a.set({autoPinnedProviders:[...n,s]}),this._debouncedSaveExperienceSettings();const o=Object(lo.a)(t);if(!i.get("hasCompletedSetup")||!o||!o.directories)return;const l=o.directories.reduce((a,n)=>{const i=Object(OI.a)(t,n),s=Object(II.a)(i?i.key:null,e.machineIdentifier,t.identifier,n.id);if(i&&!r.get(s)){const r=EI({sourceType:i?i.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:n});a.push(Object(m8e.a)(r))}return a},[]);l.length>0&&Object(E.c)("appStore").dispatch(Object(VS.t)({sources:l,interaction:!1}))},_processSources(e,t){t.isPopulated&&(this._updateStoredPinnedSources(e,t),this._updateStoredHomeHubModels(e,t),this._autoPinSources(e,t))},_debouncedSaveExperienceSettings(){const e=this.appModel.get("user").get("experienceSettings");e.set({isDirty:!0}),this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout(()=>{e.get("isDirty")&&Object(E.c)("appStore").dispatch(Object(xy.l)())},1e3)},_processCloudProviderChange(e){const t=this.appModel.get("cloudServer").toJSON(),a=e.toJSON();this._processSources(t,a)},_processServerChange(e){if(!e.get("isConnected")||!e.get("isProvidersPopulated"))return;const t=e.toJSON();t.providers.forEach(e=>this._processSources(t,e))},onCloudProviderAdd(e){this._processCloudProviderChange(e)},onCloudProviderIsPendingChange(e,t){t||this._processCloudProviderChange(e)},onCloudProvidersIsPendingChange(e,t){t||this._hideCloudSourcesWithNoProvider(e)},onServerAttrChanged(e){this._processServerChange(e)},onServerIsConnectedChange(e,t){t||this._processServerChange(e)},onServerIsProvidersPendingChange(e,t){t||(this._hideServerSourcesWithNoProvider(e),this._processServerChange(e))},onServerAdd(e){this._processServerChange(e)},onCloudReadyChange(e){e.get("isResourcesPending")||e.get("hasFailedResources")||this._hideSourcesWithNoServer()}});function y8e(e,t){const a=e.get("user"),n=()=>{i&&(i=window.clearTimeout(i)),t(a,a.get("isSignedIn"))};let i=window.setTimeout(n,0);return a.on("change:isSignedIn",n),()=>{i&&(i=window.clearTimeout(i)),a.off("change:isSignedIn",n)}}const f8e=window.console.error.bind(window.console,"[Events]");class b8e{constructor(){this.listeners=new Map}destroy(){this.removeAllListeners()}addListener(e,t){const a=this.listeners.get(e)||new Set;this.listeners.has(e)||this.listeners.set(e,a),a.add(t)}emit(e,...t){var a;null==(a=this.listeners.get(e))||a.forEach(e=>{try{e(...t)}catch(e){f8e(e)}})}removeListener(e,t){var a;null==(a=this.listeners.get(e))||a.delete(t)}removeAllListeners(){this.listeners.forEach(e=>e.clear())}}class v8e{static fromJSON(e){const{playing:t,index:a,count:n,breakPosition:i}=e;return new v8e(t,a,n,i)}constructor(e,t,a,n){this.breakPositionSeconds=null!=n?n:null,this.displayIndex=null!=t?t:null,this.displayTotal=null!=a?a:null,this.isPlaying=e}toJSON(){const e={playing:this.isPlaying};return null!=this.breakPositionSeconds&&(e.breakPosition=this.breakPositionSeconds),null!=this.displayIndex&&(e.index=this.displayIndex),null!=this.displayTotal&&(e.count=this.displayTotal),e}toString(){return JSON.stringify(this.toJSON())}}class I8e{static fromJSON(e){if(!e.name)return;const t=JSON.parse(e.name);return new I8e(t.uri,v8e.fromJSON(t.ads))}constructor(e,t){this.ad=t||new v8e(!1),this.sourceUri=e}toJSON(){const e={ads:this.ad.toJSON(),uri:this.sourceUri};return{name:JSON.stringify(e)}}}const S8e=/_+$/;class E8e{static fromJSON(e){const{deviceIdentifier:t,deviceName:a,userID:n}=e;return new E8e(n,t,a)}static fromString(e){const t=e.replace(S8e,"");return E8e.fromJSON(JSON.parse(t))}constructor(e,t,a){this.id="number"==typeof e?e:parseInt(e,10),this.deviceIdentifier=t,this.deviceName=a}toJSON(){const{deviceIdentifier:e,deviceName:t,id:a}=this;return{deviceIdentifier:e,deviceName:t,userID:String(a)}}toString(){return JSON.stringify(this.toJSON())}}class O8e{constructor(e,t){this.type="Hello",this.roomID=t,this.user=e}static fromJSON(e){return new O8e(E8e.fromString(e.username),e.room.name)}toJSON(){return{[this.type]:{room:{name:this.roomID},username:this.user.toString(),version:"1.6.4"}}}}class M8e{static fromJSON(e,t){return new M8e(E8e.fromString(e),t.isReady||!1,t.position,I8e.fromJSON(t.file))}constructor(e,t,a,n){this.file=n||null,this.isReady=t,this.position=a,this.user=e}}class C8e{constructor(e){this.type="List",this.users=e||[]}static fromJSON(e,t){const a=e[t],n=[];for(const e in a){const t=M8e.fromJSON(e,a[e]);n.push(t)}return new C8e(n)}toJSON(){return{[this.type]:{}}}}class j8e{constructor(e,t,a,n){this.type="Set",this.file=null,this.hasJoined=null,this.hasLeft=null,this.isReady=null,this.user=e,"boolean"==typeof t||null===t?this.isReady=t:(this.file=null!=t?t:null,this.hasJoined=null!=a?a:this.hasJoined,this.hasLeft=null!=n?n:this.hasLeft)}static fromJSON(e,t){if(e.ready){const{isReady:t,username:a}=e.ready,n=E8e.fromString(a);return new j8e(n,t)}if(e.user){const[a,n]=Object.entries(e.user)[0];if(n.room.name===t){const e=E8e.fromString(a),t=n.file&&I8e.fromJSON(n.file),{joined:i=!1,left:r=!1}=n.event||{};return new j8e(e,t,i,r)}}}toJSON(){const{file:e,isReady:t}=this;return e?{[this.type]:{file:e.toJSON()}}:null!=t?{[this.type]:{ready:{isReady:t}}}:void 0}}class D8e{constructor(e,t,a){this.type="State",this.ignoringOnTheFly=a,this.ping=e,this.playstate=t,this.setBy=t.setBy?E8e.fromString(t.setBy):null}static fromJSON(e){const{ping:t,playstate:a,ignoringOnTheFly:n}=e;return new D8e(t,a,n)}toJSON(){const{ignoringOnTheFly:e,ping:t,playstate:a}=this,n={ping:t,playstate:a};return null!=(null==e?void 0:e.client)&&null!=(null==e?void 0:e.server)?n.ignoringOnTheFly={client:e.client,server:e.server}:null!=(null==e?void 0:e.client)?n.ignoringOnTheFly={client:e.client}:null!=(null==e?void 0:e.server)&&(n.ignoringOnTheFly={server:e.server}),{[this.type]:n}}}const P8e=window.console.error.bind(window.console,"[WebSocketConnection]");class T8e extends b8e{destroy(){super.destroy()}}class w8e extends T8e{constructor(e){super(),this.onHelloInterval=()=>{try{this.isOpen&&this.send("hello")}catch(e){P8e("WebSocketConnection hello exception: "+e.message)}},this.isPingEnabled=!1!==e.isPingEnabled,this.url=e.url}get isConnecting(){var e;return 0===(null==(e=this.socket)?void 0:e.readyState)}get isOpen(){var e;return 1===(null==(e=this.socket)?void 0:e.readyState)}open(){return new Promise((e,t)=>{if(this.isConnecting||this.isOpen)return void t(new Error("Refusing to open multiple connections"));const a=new window.WebSocket(this.url);this.socket=a,a.onerror=()=>{t(new Error("Connection error"))},a.onopen=()=>{this.isPingEnabled&&(this.pingIntervalID=window.setInterval(this.onHelloInterval,3e4)),a.onerror=null,a.onclose=e=>{this.pingIntervalID&&(window.clearInterval(this.pingIntervalID),delete this.pingIntervalID),this.emit("close",e)},a.onmessage=e=>{try{this.emit("message",this.parseMessage(e.data))}catch(e){P8e("Parse failure",e)}},this.emit("open"),e()}})}close(e=1e3){if((this.isOpen||this.isConnecting)&&this.socket){const{socket:t}=this;delete this.socket,t.close(e),t.onopen=null,t.onclose=null,t.onerror=null,t.onmessage=null}}destroy(){super.destroy(),this.close()}send(e){var t,a;if(!this.isOpen)throw new Error("Cannot send to socket in state "+(null==(a=this.socket)?void 0:a.readyState));null==(t=this.socket)||t.send(e)}parseMessage(e){return JSON.parse(e)}}new l5e.a({attributePrefix:"",ignoreRoot:!0});const N8e=window.console.debug.bind(window.console,"[SyncplaySession]"),x8e=window.console.warn.bind(window.console,"[SyncplaySession]");class A8e extends b8e{constructor(e){super(),this.onSocketClose=e=>{this.emit("close",e)},this.onSocketMessage=e=>{let t;N8e(`Message (${Date.now()}) <<`,e),e.Error?this.close(1011):e.Hello?t=O8e.fromJSON(e.Hello):e.List?t=C8e.fromJSON(e.List,this.roomID):e.Set?t=j8e.fromJSON(e.Set,this.roomID):e.State&&(t=D8e.fromJSON(e.State)),t&&this.emit("message",t)};const{roomID:t,roomSyncplayHost:a,roomSyncplayPort:n}=e,i=`wss://${a}:${n}/ws`;this.connection=new w8e({url:i,isPingEnabled:!1}),this.connection.addListener("close",this.onSocketClose),this.connection.addListener("message",this.onSocketMessage),this.roomID=t}destroy(){super.destroy(),this.connection.destroy()}async open(){await this.connection.open()}close(e=1e3){this.connection.close(e)}send(e){const t=e.toJSON();t&&this.connection.send(JSON.stringify(t)),(t?N8e:x8e)(`Message (${Date.now()}) >>`,t||e)}}function L8e(){return window.performance.now()/1e3}class k8e{constructor(){this._lastForwardDelay=0,this.averageRtt=0,this.clientRtt=0}get lastForwardDelaySeconds(){return this._lastForwardDelay}get state(){var e,t;return{clientLatencyCalculation:L8e(),clientRtt:this.clientRtt,serverRtt:(null==(e=this.lastPing)?void 0:e.serverRtt)||0,latencyCalculation:(null==(t=this.lastPing)?void 0:t.latencyCalculation)||0}}update(e){const{clientLatencyCalculation:t,serverRtt:a}=e;this.lastPing=e,null!=t&&(this.clientRtt=L8e()-t,this.clientRtt<0||a<0||(0===this.averageRtt&&(this.averageRtt=a),this.averageRtt=.85*this.averageRtt+this.clientRtt*(1-.85),this._lastForwardDelay=this.averageRtt/2,a<this.clientRtt&&(this._lastForwardDelay+=this.clientRtt-a)))}}const R8e=window.console.debug.bind(window.console,"[SyncplayClient]");function z8e(e){return["User",e.id,`(${e.deviceName})`]}class U8e extends b8e{constructor(e){super(),this.onSessionClose=e=>{this.emit("close",e)},this.onSessionMessage=e=>{e instanceof O8e?this.onHelloMessage(e):e instanceof C8e?this.onListMessage(e):e instanceof j8e?this.onSetMessage(e):e instanceof D8e&&this.onStateMessage(e)},this.onHelloMessage=e=>{this.session.send(new C8e)},this.onListMessage=e=>{e.users.forEach(e=>{this.tryEmitUserState(!0,e.isReady,e.user)}),e.users.forEach(e=>{this.tryEmitAdState(e.file,e.user)})},this.onSetMessage=e=>{const{user:t}=e,a=null!=e.hasJoined||null!=e.hasLeft?e.hasJoined||!e.hasLeft:null;this.tryEmitUserState(a,e.isReady,t),this.tryEmitAdState(e.file,t)},this.onStateMessage=e=>{const t=this.lastSentFile!==this.file;this.pingHelper.update(e.ping),this.tryUpdateIgnoringOnTheFly(e),this.tryEmitPlaybackState(e);const a=this.shouldEchoSessionState()?{doSeek:!1,paused:e.playstate.paused,position:e.playstate.position,setBy:null}:{doSeek:this.playerBridge.hasPendingSeek,paused:this.playerBridge.isPaused,position:this.playerBridge.positionSeconds,setBy:null};t&&this.playerBridge.hasPendingSeek&&(a.doSeek=this.playerBridge.hasPendingSeek,a.position=this.playerBridge.positionSeconds);const n=this.isReady;this.playerBridge.hasPendingPlayPause=!1,this.playerBridge.hasPendingSeek=!1,this.session.send(new D8e(this.pingHelper.state,a,this.ignoringOnTheFly)),t&&(this.lastSentFile=this.file,this.session.send(new j8e(this.user,this.lastSentFile))),this.lastIsReady!==n&&(R8e("Setting isReady",{isReady:n,isAdPlaying:this.file.ad.isPlaying,hasInitialBuffer:this.playerBridge.hasInitialBuffer}),this.lastIsReady=n,this.session.send(new j8e(this.user,this.lastIsReady)))};const{deviceIdentifier:t,deviceName:a,userID:n,playerBridge:i,roomID:r,roomSourceUri:s,roomSyncplayHost:o,roomSyncplayPort:l}=e;this.eventFields={roomID:r},this.file=new I8e(s),this.ignoringOnTheFly={client:0,server:0},this.pingHelper=new k8e,this.playerBridge=i,this.roomID=r,this.roomSourceUri=s,this.user=new E8e(n,t,a),this.session=new A8e({roomID:r,roomSyncplayHost:o,roomSyncplayPort:l}),this.session.addListener("close",this.onSessionClose),this.session.addListener("message",this.onSessionMessage)}get isReady(){return!this.file.ad.isPlaying&&this.playerBridge.hasInitialBuffer}destroy(){super.destroy(),this.leave(),this.session.destroy()}async join(){await this.session.open(),this.session.send(new O8e(this.user,this.roomID))}leave(){this.session.close(),this.file=new I8e(this.roomSourceUri)}setAdState(e,t,a){var n;const i=null==(n=this.file)?void 0:n.ad;(null==i?void 0:i.isPlaying)!==e||(null==i?void 0:i.displayIndex)!==t||(null==i?void 0:i.displayTotal)!==a?this.file=new I8e(this.roomSourceUri,e?new v8e(e,t,a):void 0):R8e("Will not Set redundant session ad state",{isPlaying:e,displayIndex:t,displayTotal:a})}tryEmitAdState(e,t){if(!e)return;const{ad:a}=e,n={...this.eventFields,ad:a,user:t};R8e(...z8e(t),"ad state",a),this.emit("session",n)}tryEmitUserState(e,t,a){const n={...this.eventFields,user:a};null!=e&&(R8e(...z8e(a),"present?",e),n.isPresent=e),null!=t?(R8e(...z8e(a),"ready?",t),n.isReady=t):!1===e&&(n.isReady=!1),null==e&&null==t||this.emit("session",n)}tryEmitPlaybackState(e){var t;if((null==(t=e.setBy)?void 0:t.deviceIdentifier)===this.user.deviceIdentifier||this.ignoringOnTheFly.client>0)return;const{playstate:a,setBy:n}=e,i=a.position+(a.paused?0:this.pingHelper.lastForwardDelaySeconds),r={isPaused:a.paused,positionSeconds:i,shouldSeek:a.doSeek},s={...this.eventFields,...r};n?(R8e(...z8e(n),"playback state",r),s.user=n):R8e("Server playback state",r),this.emit("session",s)}tryUpdateIgnoringOnTheFly(e){var t,a;const{ignoringOnTheFly:n}=this,i=null!=(null==(t=e.ignoringOnTheFly)?void 0:t.client)&&e.ignoringOnTheFly.client>0?e.ignoringOnTheFly.client:0;n.server=null!=(null==(a=e.ignoringOnTheFly)?void 0:a.server)&&e.ignoringOnTheFly.server>0?e.ignoringOnTheFly.server:0,(this.shouldEchoSessionState()||i===n.client)&&(n.client=0),this.shouldEchoSessionState()||!this.playerBridge.hasPendingPlayPause&&!this.playerBridge.hasPendingSeek||n.client++}shouldEchoSessionState(){return!this.playerBridge.isPlayerForeground||this.file.ad.isPlaying||this.ignoringOnTheFly.server>0}}a("6oI5");let V8e;function B8e(){const e=!!V8e;return e||C.a.warn("[Watch Together] Syncplay client is unavailable"),e}var F8e=class{constructor({appModel:e,appStore:t}){this.appModel=e,this.appStore=t}start(){const{appModel:e,appStore:t}=this,a=t.dispatch;y8e(e,(e,t)=>{!t&&V8e&&a(rU.c())})}update({hasPendingSeek:e,hasPendingPlayPause:t,isAdPlaying:a,adDisplayIndex:n,adDisplayTotal:i}){B8e()&&(void 0!==a&&V8e.setAdState(a,null!=n?n:void 0,null!=i?i:void 0),void 0!==t&&(V8e.playerBridge.hasPendingPlayPause=t),void 0!==e&&(V8e.playerBridge.hasPendingSeek=e))}leave(){B8e()&&(V8e.destroy(),V8e=void 0)}join({roomID:e,roomSourceUri:t,roomSyncplayHost:a,roomSyncplayPort:n}){const{appModel:i,appStore:r}=this;V8e=new U8e({deviceIdentifier:V.a.prop("X-Plex-Client-Identifier"),deviceName:V.a.prop("X-Plex-Device-Name"),playerBridge:{get hasInitialBuffer(){const e=Object(E.c)("appModel"),t=Object(iC.c)(e,Oe.a);if(t.get("canPlayThrough"))return!0;const a=t.get("bufferedRanges"),n=t.get("positionSeconds")+5;for(let e=0;e<a.length;e++){const t=a[e];if(n>=t.startSeconds&&n<=t.endSeconds)return!0}return!1},hasPendingPlayPause:!1,hasPendingSeek:!1,get isPaused(){const e=Object(E.c)("appModel");return Object(iC.c)(e,Oe.a).get("isPaused")},get isPlayerForeground(){const e=Object(E.c)("appModel");return!1===Object(iC.c)(e,Oe.a).get("isWatchTogetherLobbyVisible")},get positionSeconds(){const e=Object(E.c)("appModel"),t=Object(iC.c)(e,Oe.a);return null!=t.get("lastSeekPositionSeconds")?t.get("lastSeekPositionSeconds"):t.get("positionSeconds")}},roomID:e,roomSourceUri:t,roomSyncplayHost:a,roomSyncplayPort:n,userID:i.get("user").id}),Object(C.a)("[Watch Together] Joining session for room:",e),V8e.join().then(()=>{Object(C.a)("[Watch Together] Joined session for room:",e),Object(E.c)("metrics").trackEvent({event:bD.p,interaction:!0,properties:{playbackSessionId:e}}),V8e.addListener("session",t=>{const a={roomID:e,event:t};C.a.groupCollapsed("[Watch Together] Session event"),C.a.debug("[Watch Together] Event:",t),r.dispatch(rU.h(a)),r.dispatch(rU.g(a)),r.dispatch(rU.f(a)),C.a.groupEnd()}),V8e.addListener("close",t=>{C.a.warn("[Watch Together] Session closed unexpectedly:",t),r.dispatch(rU.e({roomID:e,sessionError:Object(Ce.default)("Lost connection to the Watch Together session.")}))})}).catch(t=>{C.a.error("[Watch Together] Error joining session for room:",e,t),r.dispatch(rU.e({roomID:e,sessionError:Object(Ce.default)("Could not join at this time.")}))})}};class H8e extends T8e{constructor(){super(),this.onDispatcherMessage=e=>{this.emit("message",e)},this.onHasEventConnectionChange=()=>{this.cloudServerModel.get("hasEventConnection")?this.emit("open"):this.emit("close")};const e=Object(E.c)("appModel");this.cloudServerModel=e.get("cloudServer"),this.cloudServerModel.on({"change:hasEventConnection":this.onHasEventConnectionChange}),$.a.on({"cloudServer:notifyWatchTogetherExpire":this.onDispatcherMessage,"cloudServer:notifyWatchTogetherInvite":this.onDispatcherMessage}),this.cloudServerModel.get("hasEventConnection")&&this.onHasEventConnectionChange()}get isConnecting(){return!1}get isOpen(){return this.cloudServerModel.get("hasEventConnection")}open(){return Promise.reject(new Error("Cannot open directly"))}close(){throw new Error("Cannot close directly")}send(){throw new Error("Cannot send directly")}destroy(){super.destroy(),$.a.off({"cloudServer:notifyWatchTogetherExpire":this.onDispatcherMessage,"cloudServer:notifyWatchTogetherInvite":this.onDispatcherMessage}),this.cloudServerModel.off({"change:hasEventConnection":this.onHasEventConnectionChange})}}a("OYMB");var _8e=a("vDqi"),W8e=a.n(_8e);function Q8e(e){return e}function G8e(...e){return e.filter(e=>!!(null==e?void 0:e.trim())).map(e=>null==e?void 0:e.replace(/^\/+|\/+$/g,"")).join("/")}class K8e{constructor(e){this.endpoint="https://together.plex.tv/rooms",this.accessToken=e.accessToken}async create(e,t,a){return(await W8e.a.post(this.endpoint,{sourceUri:e,title:t,users:a||null},{params:{"X-Plex-Token":this.accessToken},responseType:"json"})).data}async createInvites(e,t){return(await W8e.a.post(G8e(this.endpoint,e,"invite"),{users:t},{params:{"X-Plex-Token":this.accessToken},responseType:"json"})).data}async delete(e){await W8e.a.delete(G8e(this.endpoint,e),{params:{"X-Plex-Token":this.accessToken},responseType:"json"})}async get(e){const t=await W8e.a.get(G8e(this.endpoint,e),{params:{"X-Plex-Token":this.accessToken},responseType:"json"});return e?t.data:function(e){return e.rooms.map(Q8e)}(t.data)}async patch(e,t){return(await W8e.a.patch(G8e(this.endpoint,e),{params:{...t,"X-Plex-Token":this.accessToken},responseType:"json"})).data}}class Y8e extends b8e{constructor(e){super(),this.onPubSubMessage=e=>{const{command:t}=e;"notifyWatchTogetherInvite"!==t&&"notifyWatchTogetherExpire"!==t||this.rooms()},this.onPubSubClose=e=>{this.emit("close",e)};const{accessToken:t,pubsub:a}=e;this.pubsub=a,this.pubsub.addListener("close",this.onPubSubClose),this.pubsub.addListener("message",this.onPubSubMessage),this.service=new K8e({accessToken:t})}get isOpen(){return this.pubsub.isOpen}open(){return this.pubsub.open()}destroy(){super.destroy(),this.pubsub.destroy()}async rooms(){const e=await this.service.get();return this.emit("rooms",e),e}async createRoom(e,t,a){const n=await this.service.create(e,t,a);return await this.rooms(),n.id}async deleteRoom(e){var t;try{await this.service.delete(e)}catch(e){if(404!==(null==(t=null==e?void 0:e.response)?void 0:t.status))throw e}await this.rooms()}async inviteUsers(e,t){await this.service.createInvites(e,t),await this.rooms()}}var q8e=a("Zdxz");let Z8e;var X8e=class{constructor({appModel:e,appStore:t}){this.appModel=e,this.appStore=t}start(){const{appModel:e,appStore:t}=this;y8e(e,(a,n)=>{if(Z8e&&(Z8e.destroy(),Z8e=null,Object(C.a)("[Watch Together] stopped rooms client")),n){const n=a.id;Object(q8e.a)(a.get("features").populate({timeout:5e3})).then(()=>{if(e.get("user").id!==n)return Promise.reject(new Error("User has changed"));if(!Object(SG.a)(e,ve.G))return Promise.reject(new Error("User missing feature access"));const i=a.get("authToken");Z8e=new Y8e({accessToken:i,pubsub:new H8e}),Z8e.addListener("rooms",e=>{t.dispatch(oR.f({rooms:e}))}),t.dispatch(oR.h())}).catch(e=>{C.a.warn("[Watch Together] cannot start",e)})}})}getRoomsClient(){return Z8e}},J8e=a("8NF1");const $8e={[S6e.c]:"fullScreenVideo",[S6e.a]:"fullScreenMusic",[S6e.b]:"fullScreenPhoto"};var e9e=a("Rmik");function t9e(e,t){const a=e.get("connections").filter(e=>e.get("isConnected")&&!e.get("isLoopback")),n=a.length?a.reduce(e9e.a):null;if(n)return{machineIdentifier:e.get("originalMachineIdentifier")||e.get("machineIdentifier"),protocol:n.get("scheme"),address:n.getAddressFromUri(),port:n.get("port")}}function a9e(e,t,a){const{getPlayerModels:n,getVolume:i}=a;let r,s=!1,o=!1;function l(t={}){if(r)return void(o=!0);if(o=!1,n(e).some(e=>e.get("isPlayQueueLoading")))return;const a=c(S6e.c),i=c(S6e.a),s=c(S6e.b),l={MediaContainer:{_location:a._location||s._location||i._location||"navigation",Timeline:[a,i,s]}};t.requestDisconnect&&(l.MediaContainer._disconnected=1),Object(C.a)(l);Object(E.c)("companionProxy").publish(l),r=window.setTimeout(u,1e3)}function c(t){const a={_type:t,_state:"stopped",_volume:i(e),_autoPlay:Object(E.c)("settingFinder").find("autoPlay")?1:0,_subtitleColor:Object(E.c)("settingFinder").find("subtitleColor"),_subtitlePosition:Object(E.c)("settingFinder").find("subtitlePosition"),_subtitleSize:Object(E.c)("settingFinder").find("subtitleSize"),_controllable:Object(E.c)("companionPlayerProfile")[t]},r=function(t){const a=S6e.e(t),i=n(e);return i.find(e=>{const t=e.get("playQueue");if(t&&t.get("type")===a)return e})}(t);if(!r)return a;const s=r.get("serverEntityID"),o=r.get("providerEntityID"),l=Object(GI.m)(e,{serverEntityID:s}),c=Object(GI.j)(e,{providerEntityID:o}),u=t9e(l);c&&qr.l(c.get("identifier"),qr.b)&&(a._controllable=Object(E.c)("companionPlayerProfile").videoCloudLiveTV);const p=r.get("decisions"),m=r.get("playQueue"),h=m.get("playQueueItems"),g=m.get("playQueueSelectedItemID"),y=h.get(g),f=y.get("metadataItem"),b=Object(J8e.a)({metadataItemModel:f}),v=S6e.d(b),I=1e3*r.get("positionSeconds"),S=1e3*r.get("durationSeconds");let O=T6e.b;return r.get("repeatOne")?O=T6e.c:r.get("repeatAll")&&(O=T6e.a),u?(a._machineIdentifier=u.machineIdentifier,a._protocol=u.protocol,a._address=u.address,a._port=u.port):a._machineIdentifier=l.get("originalMachineIdentifier")||l.get("machineIdentifier"),a._providerIdentifier=c.get("identifier"),a._itemType=v,a._key=f.get("key"),a._ratingKey=f.get("ratingKey"),a._containerKey=M.a.result(m,"url"),m.get("isLocal")||(a._playQueueID=m.get("playQueueID"),a._playQueueItemID=g,a._playQueueVersion=m.get("playQueueVersion")),a._state=Object(h6e.a)(r),a._time=I,a._duration=S,a._seekRange="0-"+S,a._shuffle=m.get("playQueueShuffled")?1:0,a._repeat=O,r.get("openState")===$M.a&&(a._location=function(e){return $8e[e]}(t)),{...a,...d(y,p)}}function d(e,t){const a=e.get("metadataItem"),n=t[e.entityID()];if(!n)return{};const i={_mediaIndex:n.mediaIndex,_partIndex:n.partIndex,_partCount:n.partCount},r=a.get("Media")[n.mediaIndex],s=r&&r.Part,o=s&&s[n.partIndex];return(o?o.Stream:[]).reduce((e,{id:t,streamType:a,selected:n})=>t?(a===rC.a.get("video").id?e._videoStreamID=t:n&&(a===rC.a.get("audio").id?e._audioStreamID=t:a===rC.a.get("subtitles").id&&(e._subtitleStreamID=t)),e):e,i)}function u(){r=null,o&&l()}function p(){l()}return{start:function(){if(s)return;s=!0,(Object(E.a)("remoteCastPlayerManager")||Object(E.a)("remotePlexPlayerManager"))&&t.dispatch(bC()),n(e).forEach(e=>{e.on("change",p)})},stop:function(t){s=!1,r&&(window.clearTimeout(r),r=null),n(e).forEach(e=>{e.off("change",p)}),t&&l({requestDisconnect:t})}}}var n9e=a("RNo0");var i9e=a("7/aH"),r9e=a("Xh8s");function s9e(e,t){const a=t9e(e);return a?(a.transcoderVideo=e.get("transcoderVideo")||!1,a.transcoderVideoRemuxOnly=e.get("transcoderVideoRemuxOnly")||!1,a.transcoderAudio=e.get("transcoderAudio")||!1,a.version=e.get("shortVersion"),a.myPlexSubscription=e.get("myPlexSubscription"),a.isVerifiedHostname="https"===a.protocol&&!W.d(a.address),function(e,t={}){const a=e.get("accessToken");return!e.supports("transientToken")||e.get("isCloud")||/^transient-/.test(a)?h.a.Deferred().resolve(a).promise():h.a.ajax(e.getXHROptions("/security/token",{data:{type:t.type||"delegation",scope:t.scope||"all"}})).promise().then(e=>Object(r9e.a)(e).token||h.a.Deferred().reject().promise())}(e).then(e=>(a.accessToken=e,a))):h.a.Deferred().reject().promise()}function o9e(e,t){const a=t.dispatch;let n,i,r,s,o,l=0,c=0,d=!1,u={},p={};function m(e,t={},a={}){if(!n)return h.a.Deferred().reject().promise();const i=j.default.join([n.baseURL,e],{...t,commandID:l}),r=n.server.getXHROptions(i,{...a,scope:"remoteCastPlayerManager",headers:{"X-Plex-Target-Client-Identifier":n.get("machineIdentifier")}});return h.a.ajax(r)}function g(e){const{type:t,state:n,providerIdentifier:i,machineIdentifier:r,containerKey:s,key:o}=e,l=e.playQueueItemID||e.playQueueItemId,c=S6e.e(t),d=Object(me.a)(e.continuing);if("stopped"===n&&!d)return u[t]=null,p[t]=null,void a(fC({playQueueType:c}));const m=Object(eOe.a)(e.playQueueVersion),h=Object(eOe.a)(e.time),g=Object(eOe.a)(e.duration),y=Object(eOe.a)(e.mediaIndex),f=Object(eOe.a)(e.partIndex),b=e.audioStreamID?Object(eOe.a)(e.audioStreamID):null,v=e.subtitleStreamID?Object(eOe.a)(e.subtitleStreamID):null,I=Object(eOe.a)(e.volume),S=Object(eOe.a)(e.repeat),E=(e.controllable||"").split(","),O={positionSeconds:Math.floor(h/1e3),durationSeconds:Math.floor(g/1e3),mediaIndex:y,partIndex:f,isPaused:"paused"===n,isBuffering:"buffering"===n,hasError:"error"===n,controllable:E.reduce((e,t)=>(e[t]=!0,e),{})},M=u[t],C=p[t],j=l!==M||m!==C;u[t]=l,p[t]=m,a(oC({playQueueType:c,options:{providerIdentifier:i,machineIdentifier:r,containerKey:s,key:o,playQueueItemID:l,shouldRefreshPlayQueue:j,initialState:O}})),a(lC({playQueueType:c,playerState:O,providerIdentifier:i,machineIdentifier:r})),function(e){const t={};null!=e.autoPlay&&(t.autoPlay="1"===e.autoPlay),null!=e.subtitleColor&&(t.subtitleColor=e.subtitleColor),null!=e.subtitlePosition&&(t.subtitlePosition=e.subtitlePosition),null!=e.subtitleSize&&(t.subtitleSize=Object(eOe.a)(e.subtitleSize,10)),a(pC(t))}(e),a(cC({playQueueType:c,playQueueVersion:m,repeatAll:S===T6e.a||S===T6e.c,repeatOne:S===T6e.c})),a(uC({playQueueType:c,key:o,mediaIndex:y,partIndex:f,audioStreamID:b,subtitleStreamID:v})),null!=e.volume&&a(mC(I))}function y(){i=null,null!=r&&(v(r),r=null)}function f(){s=null,null!=o&&(I(o),o=null)}function b(e,t){return n?(l++,m(e,t)):(C.a.warn(`[Companion] Command for ${e} ignored; no current player`),h.a.Deferred().reject().promise())}function v(e){i?(window.clearTimeout(i),r=e):b("/player/playback/seekTo",e),i=window.setTimeout(y,200)}function I(e){s?(window.clearTimeout(s),o=e):b("/player/playback/setParameters",e),s=window.setTimeout(f,200)}return{requestSession:function(t){n=Object(TS.g)(e,{playerIdentifier:t}),n?(a(sC(t)),l=0,c=0,function e(t={}){n&&m("/player/timeline/poll",t,{timeout:2e4}).done((i,r,s)=>{c=0;const o=Object(r9e.a)(i);if(Object(me.a)(o.disconnected)&&t.wait)return void a(bC());const u=n.get("machineIdentifier"),p=s.getResponseHeader("X-Plex-Client-Identifier"),m=Object(eOe.a)(o.commandID),h=u===p||n.baseURL;if(!d&&h&&m>=l){const e=Object(n9e.a)(o.Timeline),t=M.a.findWhere(e,{type:"video"}),a=M.a.findWhere(e,{type:"music"}),n=M.a.findWhere(e,{type:"photo"});!t||a&&a.state&&"stopped"!==a.state?a&&g(a):g(t),n&&g(n),l=m}e({wait:1})}).fail((n,i)=>{n&&n.aborting||("error"===i?(c++,t.wait&&c<=3?(C.a.warn("[Companion] Poll request failed; retrying..."),e({wait:1})):(C.a.warn("[Companion] Poll request failed 3 times in a row; giving up"),a(bC()))):e({wait:1}))})}()):C.a.warn(`[Companion] Request session ignored; no player with identifier "${t}"`)},endSession:function(){n?(i&&(window.clearTimeout(i),i=null),s&&(window.clearTimeout(s),s=null),A.a.abortAll("remoteCastPlayerManager"),m("/player/timeline/unsubscribe"),n=null,r=null,o=null,u={},p={}):C.a.warn("[Companion] End session ignored; no current player")},startPlayback:function(e){if(!n)return void C.a.warn("[Companion] Start playback ignored; no current player");const t=e.get("playQueue"),i=t.get("type"),r=t.get("playQueueItems").get(t.get("playQueueSelectedItemID")).get("metadataItem"),s=t.server,o=t.provider;if("speaker"===n.get("deviceClass")&&t.get("type")!==Ui.a)return void a(hC({playQueueType:i,errorMessage:Object(Ce.default)("The connected player only supports audio playback.")}));const l=1e3*e.get("positionSeconds")||Math.floor(Object(i9e.a)(e,r));d=!0,s9e(s).done(e=>{const n=e.machineIdentifier,s=o.get("identifier"),c={type:S6e.d(t.get("type")),providerIdentifier:s,containerKey:j.default.join([M.a.result(t,"url")],{own:1}),key:r.get("key"),offset:l,machineIdentifier:n,protocol:e.protocol,address:e.address,port:e.port,token:e.accessToken};Object(C.a)("[Companion] Sending play media request"),b("/player/playback/playMedia",c).done(()=>{d=!1,Object(C.a)("[Companion] Play media success"),a(lC({playQueueType:i,playerState:{isMediaLoading:!1},providerIdentifier:s,machineIdentifier:n}))}).fail(e=>{d=!1,C.a.warn(`[Companion] Failed to play media with error "${e.status}"`),a(hC({playQueueType:i}))})}).fail(()=>{d=!1,a(hC({playQueueType:i,errorMessage:Object(Ce.default)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:s.get("friendlyName")})}))})},mirrorDetails:function(e){if(!n)return void C.a.warn("[Companion] Mirror details ignored; no current player");const t=n.get("protocolCapabilities");if(!t||-1===t.indexOf("mirror"))return void C.a.warn("[Companion] Mirror details ignored; player does not advertise support for the `mirror` capability");const a=e.server,i=e.provider;s9e(a).done(t=>{m("/player/mirror/details",{key:e.get("key"),providerIdentifier:i.get("identifier"),machineIdentifier:t.machineIdentifier,protocol:t.protocol,address:t.address,port:t.port,token:t.accessToken})})},sendCommand:b,seek:v,changeVolume:I}}var l9e=yee.c.Model.extend({initialize:function(e,t){this.set("time",new Date)}}),c9e=new(yee.c.Model.extend({initialize:function(e,t){this.set("host",window.location.host),this.set("userAgent",window.navigator.userAgent),this.set("browser",tMe.a)},toJSON:function(){const e=this.parent,t=e.get("primaryServer"),a=e.get("user");return this.set("version","4.53.0"),t&&(t.get("activeConnection")&&this.set("primaryServerUrl",t.url()),this.set("primaryServerAuthToken",!!t.get("accessToken")),this.set("primaryServerVersion",t.get("versionFull"))),this.set("username",a.get("username")),this.set("cloudUrl",a.server.get("connections")),yee.c.Model.prototype.toJSON.apply(this,arguments)}}));const d9e=/("?(auth_token|accessToken|X-Plex-Token|authToken|token)"?[:=].*?)("?[-\w]+"?)/g,u9e=/("?(email)"?[:=]([\s]+)?)("(.*)")/g,p9e=/("?(address|host|uri)"?[:=].*?)(".*")/g;function m9e(e){if(e)return e.replace(d9e,'$1"TOKEN"').replace(u9e,'$1"EMAIL"').replace(p9e,'$1"IP ADDRESS"')}var h9e=/(password=)([^&]+)/;function g9e(e){return e.replace(d9e,"$1TOKEN").replace(h9e,"$1PASSWORD")}var y9e=yee.c.Collection.extend({model:l9e,initialize:function(e,t){M.a.bindAll(this,"onAjaxComplete","onAppModelRegistered"),this.parent=t.parent,c9e.parent=t.parent,Object(E.d)("appModel").done(this.onAppModelRegistered)},reconfigure(){Object(E.c)("appModel").get("deviceSettings").get("debugLevel")?this.start():this.stop()},start:function(){this.enabled||(this.enabled=!0,this.reset(),this.listenTo($.a,"log:message",this.onLogMessage),yee.c.history.on("route",this.onRoute,this),h()(document).on("ajaxComplete",this.onAjaxComplete))},stop:function(){this.enabled&&(this.enabled=!1,this.reset(),this.stopListening($.a),yee.c.history.off("route",this.onRoute,this),h()(document).off("ajaxComplete",this.onAjaxComplete))},destroy:function(){this.stop(),this.stopListening()},add:function(){this.length>200&&this.shift(),yee.c.Collection.prototype.add.apply(this,arguments)},toJSON:function(){var e=yee.c.Collection.prototype.toJSON.apply(this,arguments);return e.unshift(M.a.extend({type:"info"},c9e.toJSON())),e},toJSONString:function(){return JSON.stringify(this.toJSON(),null,2)},onAppModelRegistered:function(e){const t=e.get("deviceSettings");this.listenTo(t,"change:debugLevel",this.reconfigure),this.reconfigure()},onLogMessage:function(e){this.add(e)},onRoute:function(e,t,a){var n={type:"navigation",route:t,args:a,fragment:window.location.hash};this.add(n)},onAjaxComplete:function(e,t,a){const n=Object(E.c)("appModel").get("deviceSettings").get("debugLevel"),i={type:"ajax",url:g9e(a.url),status:t.status};var r;M.a.isEmpty(a.headers)||(i.headers=((r=a.headers)&&r.hasOwnProperty("X-Plex-Token")&&(r["X-Plex-Token"]="TOKEN"),r&&r.hasOwnProperty("Authorization")&&(r.Authorization="BASIC AUTHORIZATION"),r)),M.a.isEmpty(a.data)||(i.params=g9e(a.data)),200===t.status?2===n?i.response=m9e(t.responseText):i.responseLength=t.responseText?t.responseText.length:0:(i.statusText=t.statusText,i.response=m9e(t.responseText)),this.add(i)}});var f9e=Object(he.a)(ge.a,e=>e.remoteQuality);var b9e=Object(he.a)(fe.a,e=>e.restorePlayQueue);var v9e=Object(he.a)(ge.a,e=>({color:e.subtitleColor,position:e.subtitlePosition,size:e.subtitleSize}));var I9e={CREATED:0,PROGRESS:1,MATCHING:2,DOWNLOADING_METADATA:3,LOADING_METADATA:4,PROCESSED:5,DELETED:9};const S9e=M.a.reduce(XP.a,(e,t)=>(e[t]="Metadata",e),{});var E9e=function e(t){if(!t||!t._children)return t;const a=M.a.clone(t),n=a._children;return Array.isArray(n)&&(n.forEach(t=>{const n=t._elementType;if(t._elementType=null,t.elementName=n,n){const i=S9e[n]||n,r=a[i],s=e(t);r?Array.isArray(r)?r.push(s):a[i]=[r,s]:a[i]=s}}),a._children=null),a};var O9e=XE.a.extend({context:["server"],url:"/updater/status",sessionAttrs:{isChecking:QE.a.boolean.isRequired},syncedAttrs:{status:QE.a.integer,canInstall:QE.a.boolean,downloadURL:QE.a.string,state:QE.a.string,progress:QE.a.integer,version:QE.a.string,error:QE.a.string,added:QE.a.string,fixed:QE.a.string},defaults:{state:fpe,status:0,progress:0,version:null,error:"",added:null,fixed:null,isChecking:!1},augmentResponse(e){const{Release:t,...a}=e;return t&&(e={...a,...t}),"0"!==e.status&&(e.state=gpe),e}});const M9e={started:$I.y,updated:$I.B,ended:$I.v},C9e={started:ws.actions.activityStarted,updated:ws.actions.activityUpdated,ended:ws.actions.activityFinished},j9e=["account","activity","backgroundGeneratorState","backgroundProcessingQueue","grabber.device","playing","preference","progress","provider.change","provider.content.change","provider.subscription.change","reachability","status","syncState","timeline","transcodeSession.end","transcodeSession.start","transcodeSession.update","update.statechange","versionState"];function D9e(e){const t=E.c("appStore");t.dispatch(Hs.n({serverEntityID:e,playerType:Oe.a})),qr.l(window.location.hash,qr.c)&&t.dispatch(Object(eS.c)({serverEntityID:e}))}var P9e=Ipe.extend({initialize(e){Ipe.prototype.initialize.apply(this,arguments),this.throttledRepopulates={}},repopulateNow(e,t){this.throttledRepopulates[e]={timestamp:Date.now()},t()},repopulateWithThrottle(e,t,a){const n=this.throttledRepopulates[e];if(n)if(n.hasTimeout);else{const i=Date.now()-n.timestamp;i<a?(window.setTimeout(()=>{this.repopulateNow(e,t)},a-i),this.throttledRepopulates[e]={hasTimeout:!0}):this.repopulateNow(e,t)}else this.repopulateNow(e,t)},getMessageTypes:()=>j9e,preference(e){e.key=e.id,e.server=this.server,this.server.trigger("socket:setting",e);(0,E.c("appStore").dispatch)(Object(OS.o)({serverEntityID:this.server.entityID(),setting:e}))},timeline(e){if(qr.l(e.identifier,qr.c))return;const{state:t,mediaProviderID:a,sectionID:n,rootItemID:i,parentItemID:r,itemID:s,metadataState:o,mediaState:l,type:c}=e,d=E.c("appStore").dispatch,u=this.server.entityID(),p=wo.getMetadataType(c),m=null==p?void 0:p.typeString,h=m===wo.PLAYLIST?"/playlists/"+s:"/library/metadata/"+s,g=r?"/library/metadata/"+r:null,y=i?"/library/metadata/"+i:null,f=Object(jt.a)(fo.g,h,u),b=Object(Ct.a)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:qr.d,key:h}),v=g?Object(Ct.a)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:qr.d,key:g}):null,I=y?Object(Ct.a)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:qr.d,key:y}):null;d(dl.actions.timelineStatesChanged({sourceURI:b,metadataState:o,mediaState:l})),d(Object(Fs.updateMetadataItemRefreshingState)({serverEntityID:u,metadataItemEntityID:f,metadataState:o,mediaState:l})),t===I9e.PROCESSED&&(d(Ki.a.actions.metadataProcessed({sourceURI:b})),d(Object(no.o)({serverEntityID:u,metadataItemEntityID:f})),m===wo.ALBUM&&d(xG({serverEntityID:u,albumMetadataItemEntityID:f}))),t===I9e.DELETED&&(d(Ki.a.actions.deleted({mediaProviderID:a,sourceURI:b,parentSourceURI:v,rootSourceURI:I})),d(Object(no.n)({serverEntityID:u,metadataItemEntityID:f}))),t!==I9e.CREATED&&t!==I9e.DELETED||(n>0&&this.repopulateWithThrottle("section-"+n,()=>{d(Object(eS.c)({serverEntityID:u,containerKeyPattern:new RegExp("^"+Object(U.a)("/library/sections/"+n)+"\\b")}))},5e3),i>0&&this.repopulateWithThrottle("metadata-"+i,()=>{const e="/library/metadata/"+i,t=Object(jt.a)(fo.g,e,u);d(Object(eS.c)({serverEntityID:u,metadataItemEntityID:t,rootMetadataKey:e}))},5e3),r>0&&this.repopulateWithThrottle("metadata-"+r,()=>{const e="/library/metadata/"+r,t=Object(jt.a)(fo.g,e,u);d(Object(eS.c)({serverEntityID:u,metadataItemEntityID:t,parentMetadataKey:e}))},5e3),m===wo.PLAYLIST&&d(Object(eS.c)({serverEntityID:u,containerKeyPattern:new RegExp("^/playlists")}))),e.server=this.server,this.server.trigger("socket:timeline",e),$.a.trigger("timeline",e)},status(e){if(this.server.trigger("socket:status",e),"LIBRARY_UPDATE"===e.notificationName){const e=E.c("appStore").dispatch,t=this.server.entityID();t&&(e(Cs.actions.libraryScanUpdated({server:c8e(this.server)})),e(Object($I.A)({serverEntityID:t})),e(Object($I.t)({serverEntityID:t})),e(Object(eS.c)({serverEntityID:t})))}},progress(e){this.server.trigger("socket:status",e)},playing(e){if(!e.sessionKey||!this.server.get("isFullOwnedServer"))return;const t=E.c("appStore").dispatch;e.state===uae.a.states.STOPPED?(t(fm.actions.sessionStopped({server:c8e(this.server),sessionKey:e.sessionKey})),t(Object(eS.c)({serverEntityID:this.server.entityID()}))):t(fm.actions.sessionChanged({server:c8e(this.server),message:e}))},syncState(e){const t=new hie({key:e.key},{server:this.server,syncItemId:e.syncItemId,onlyIfCached:!0});if(!M.a.isEmpty(t)){t.get("Media").forEach(a=>{a.Part.forEach(a=>{a.transcodeState=e.syncFileState,a.transcodeStateContext=e.syncFileStateContext,a.syncState=e.syncState,a.syncStateContext=e.syncStateContext;const n=jee.a.getSyncStateFromPart(a);jee.a.waitingRegex.test(n)&&(a.key="placeholder"),t.trigger("change:Media",t,t.get("Media"))})})}},backgroundGeneratorState(e){const t={server:this.server,onlyIfCached:!0},a=new Cee.a({id:e.generatorID},t);M.a.isEmpty(a)||a.fetch()},versionState(e){const t={server:this.server,onlyIfCached:!0},a=new Cee.a({id:e.generatorID},t);if(!M.a.isEmpty(a)){const t=a.get("children").getCollection().get(e.metadataItemID);t&&t.set({processingState:e.state,processingStateContext:e.stateContext})}},backgroundProcessingQueue(e){const t=new nee([],{server:this.server,allowInCache:!0,onlyIfCached:!0});if(!M.a.isEmpty(t)){const e=t.first();e&&e.fetch()}},"transcodeSession.start"(e){const t=E.c("appStore").dispatch;if(!this.server.get("isShared"))if("static"===e.context){this.server.get("desktop").get("backgroundTranscodeJobs").fetch()}else t(fm.actions.fetchRequested({server:c8e(this.server)}))},"transcodeSession.update"(e){if(!this.server.get("isShared")&&"static"===e.context){const t=this.server.get("desktop").get("backgroundTranscodeJobs"),a=t.get(e.key);a?a.set(a.parse(e)):t.fetch()}},"transcodeSession.end"(e){this.server.get("isShared")||this["transcodeSession.start"].apply(this,arguments)},"update.statechange"(e){const t=this.server.get("desktop").get("update"),a=M.a.pick(e,Object.keys(O9e.prototype.syncedAttrs));M.a.defaults(a,M.a.result(t,"defaults")),t.get("state")===hpe&&a.state===upe&&(a.state=hpe),t.set({...a,isChecking:!1})},reachability(e){this.server.get("desktop").get("cloudAccount").fetch()},account(e){this.server.set("myPlexSubscription",e.hasPlexPass);E.c("appModel").get("user").get("isSignedIn")&&$.a.trigger("discover:servers")},activity(e){const t=E9e(e),a=E.c("appStore"),n=this.server.entityID(),i=t.Activity||t;if(i.Context=i.Context||{},i.Response=i.Response||{},n){const e=M9e[t.event],r=C9e[t.event];e&&a.dispatch(e({serverEntityID:n,activity:i})),r&&a.dispatch(r({server:c8e(this.server),activity:i}))}},"grabber.device"(e){const t=E.c("appStore"),a=this.server.entityID();a&&"appeared"===e.event&&t.dispatch(Object(OS.f)({serverEntityID:a,device:e.Device}))},"provider.content.change"(){D9e(this.server.entityID())},"provider.subscription.change"(){D9e(this.server.entityID())},"provider.change"(){E.c("appStore").dispatch(Object($I.u)({serverEntityID:this.server.entityID()}))}});var T9e=XE.a.extend({name:"BaseAppModel",isStateTreeRoot:!0,constructor:function(){this._pendingEntities=[],this.listenTo($.a,"change:entity",this.onEntityChange),XE.a.prototype.constructor.apply(this,arguments)},initialize(){this._pendingEntities.forEach(this._addEntity.bind(this))},_addEntity({type:e,id:t,model:a}){this.get("entities").get(e).add({id:t,model:a},{merge:!0})},onEntityChange(e){this.has("entities")?this._addEntity(e):this._pendingEntities.push(e)}}),w9e=a("IE0F"),N9e=a("JVak");function x9e(e){if(!e.length)return"(none)";return M.a.map(e,e=>e.get("debugName")).join(", ")}var A9e=CS.a.extend({mixins:[N9e.a],name:"ServerCollection",model:zU.e,initialize(){this._resetPopulate()},comparator(e){const t=e.get("isShared"),a=e.get("friendlyName")||"",n=e.get("sourceTitle")||"",i=t?n+a:a;return e.get("isCloud")?"9":(t?"1":"0")+i.toLowerCase()},shouldWaitForInitialServers(){const e=this.filter(e=>(!e.id||!!e.get("resources"))&&e.isPopulating());return!!e.length&&(Object(C.a)("[Servers] Waiting for initial servers =",x9e(e)),!0)},shouldWaitForResources(){const e=this.reduce((e,t)=>{const a=t.get("isResolved"),n=t.get("resources"),i=n&&n.isPopulating();return a&&i&&e.push(t),e},[]);return!!e.length&&(Object(C.a)("[Servers] Waiting for additional resources from",x9e(e)),!0)},shouldWaitForPendingServers(){if(this.findWhere({isConnected:!0}))return!1;const e=this.filter(e=>e.isPopulating());return!!e.length&&(Object(C.a)("[Servers] Waiting for pending servers =",x9e(e)),!0)},waitForServers(){this._resetPopulate()},foundAllServers(){const e=this.where({isConnected:!0}),t=x9e(e);Object(C.a)("[Servers] Found all servers =",t),e.length?this._resolvePopulate():this._rejectPopulate()},populateAnyServer(e=this.models){const t=h.a.Deferred(),a=e.slice(0),n=M.a.find(a,e=>e.get("isCloud")?e.get("isResolved"):e.get("isConnected"));if(n)return Object(C.a)("[Servers] Populate any server chose %s where servers = %s",n.get("debugName"),x9e(a)),t.resolve(n).promise();if(this.hasOnlyRejectedServers(a))return t.reject().promise();function i(e,n){M.a.contains(a,e)&&n&&t.resolve(e)}function r(e,n){M.a.contains(a,e)&&n&&this.hasOnlyRejectedServers(a)&&t.reject()}return this.on({remove:function(e){const n=a.indexOf(e);n>-1&&(a.splice(n,1),this.hasOnlyRejectedServers(a)&&t.reject())},"change:isResolved":i,"change:isRejected":r},this),t.always(()=>{this.off("change:isResolved",i,this),this.off("change:isRejected",r,this)}),t.promise()},populateServer(e){return this.findServer(e,!0).then(e=>e.get("isConnected")&&!e.get("isCloud")?h.a.Deferred().resolve(e):e.populate())},findServer(e,t){const a=M.a.isString(e),n=a?{machineIdentifier:e}:e,i=h.a.Deferred();if(a){const e=this.get(n.machineIdentifier);if(e&&e.get("isResolved"))return window.setTimeout(i.resolve.bind(i,e),0),i.promise()}const r=M.a.has(n,"machineIdentifier"),s="add "+M.a.map(M.a.keys(n),e=>"change:"+e).join(" ");let o;function l(){const e=this.filterServers(n,t);e?(o=e,e.done(t=>{o===e&&i.resolve(t)}),e.fail(()=>{o===e&&(r||!this.isPopulating()?i.reject():this.populate().always(l.bind(this)))})):this.isPopulating()||i.reject()}return l.call(this),this.on(s,l,this),this.populate().always(()=>{o||i.reject()}),i.always(()=>{this.off(s,l,this)}),i.promise()},filterServers(e,t){const a=this.where(e);if(a.length)return t?this.populateAnyServer(a):h.a.Deferred().resolve(a[0]).promise()},hasOnlyRejectedServers(e=this.models){return M.a.every(e,e=>e.get("isRejected"))},hasLoopbackServer(e=this.models){return!!M.a.find(e,e=>{const t=e.get("activeConnection");return!!t&&t.get("isLoopback")})}});var L9e=XE.a.extend({name:"EntityModel",sessionAttrs:{id:QE.a.string.isRequired},sessionRelations:{model:{relationClass:XE.a,deferred:!0}},toState(){const e=this.get("model"),t={entityID:this.id,...e.state};return Object.defineProperty(t,"possibleEntityContainers",{value:e.state.possibleEntityContainers,enumerable:!1}),t},shouldUpdateRelationState:function(){return!0}});var k9e=CS.a.extend({name:"EntityCollection",model:L9e,toState(){const e=this.reduce(this.reduceState,{possibleEntityContainers:[]});return Object.defineProperty(e,"possibleEntityContainers",{enumerable:!1}),e},reduceState:(e,t)=>(e.possibleEntityContainers.push(t.id),e[t.id]=t.getState(),e)});var R9e=XE.a.extend({name:"SubtitlesModalModel",sessionAttrs:{serverEntityID:QE.a.string,metadataItemEntityID:QE.a.string,isSubtitlesPending:QE.a.boolean,isSubtitlesPopulated:QE.a.boolean,subtitlesError:QE.a.string,subtitlesDownloadActivityID:QE.a.string,subtitlesDownloadKey:QE.a.string,subtitlesDownloadStartTime:QE.a.integer,isSubtitlesDownloaded:QE.a.boolean,subtitlesDownloadError:QE.a.string},sessionRelations:{subtitles:{relationClass:VJ,deferred:!0}},defaults:{serverEntityID:null,metadataItemEntityID:null,isSubtitlesPending:!1,isSubtitlesPopulated:!1,subtitlesError:null,subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:null}});var z9e=XE.a.extend({name:"ProviderIntegrationModel",context:["server","provider"],rootPropertyName:"Integration",syncedAttrs:{id:QE.a.string.isRequired,status:QE.a.string.isRequired}});var U9e=CS.a.extend({name:"ProviderIntegrationCollection",context:["server","provider"],url:"/integrations",responseType:qP.a,model:z9e});var V9e=XE.a.extend({name:"ProviderIntegrationsModel",sessionAttrs:{isIntegrationsOnboarding:QE.a.boolean.isRequired,isIntegrationsPending:QE.a.boolean.isRequired,isIntegrationsPopulated:QE.a.boolean.isRequired,integrationsError:QE.a.object},sessionRelations:{integrations:{relationClass:U9e,deferred:!0}},defaults:{isIntegrationsOnboarding:!1,isIntegrationsPending:!0,isIntegrationsPopulated:!1}});var B9e=XE.a.extend({name:"AdvertisingNoticeModalModel",sessionAttrs:{isSaving:QE.a.boolean,isSaved:QE.a.boolean},defaults:{isSaving:!1,isSaved:!1}}),F9e=a("gX+b");var H9e=CS.a.extend({name:"AutoHubsCollection",modelId:e=>Object(VE.a)(e.machineIdentifier,e.providerIdentifier),model:F9e.a});var _9e=XE.a.extend({name:"AutoHomePageModel",sessionAttrs:{isHubsPopulated:QE.a.boolean.isRequired},sessionRelations:{hubs:{relationClass:H9e}},defaults:{isHubsPopulated:!1}});var W9e=XE.a.extend({name:"ChannelGridPageModel",sessionAttrs:{serverEntityID:QE.a.string,providerEntityID:QE.a.string,containerKey:QE.a.string,directoryKey:QE.a.string,startTime:QE.a.integer,visibleColumns:QE.a.integer,columnTimes:QE.a.array,columnWidth:QE.a.float,viewportWidth:QE.a.integer,viewportHeight:QE.a.integer,airedProgress:QE.a.float,isChannelsListPending:QE.a.boolean,isChannelsListPopulated:QE.a.boolean,channelsListError:QE.a.object},sessionRelations:{metadataList:{relationClass:qE,deferred:!0},channelsList:{relationClass:$E,deferred:!0}},defaults:()=>({startTime:0,visibleColumns:1,columnTimes:[],columnWidth:0,viewportWidth:0,viewportHeight:0,airedProgress:0,isChannelsListPending:!0,isChannelsListPopulated:!1,channelsListError:null})});var Q9e=XE.a.extend({name:"HomeHubStatusModel",idAttribute:"homeHubID",sessionAttrs:{error:QE.a.object,homeHubID:QE.a.string.isRequired,isPending:QE.a.boolean.isRequired,isPopulated:QE.a.boolean.isRequired,provider:QE.a.string,server:QE.a.string},sessionRelations:{hub:{relationClass:xPe.a,deferred:!0}},defaults:()=>({error:null,isPending:!0,isPopulated:!1})});var G9e=CS.a.extend({name:"HomeHubStatusCollection",model:Q9e});var K9e=XE.a.extend({name:"HomePageModel",sessionAttrs:{isContentPending:QE.a.boolean.isRequired,isContentPopulated:QE.a.boolean.isRequired,contentError:QE.a.object,isPreferredServerContentPending:QE.a.boolean.isRequired,isPreferredServerContentPopulated:QE.a.boolean.isRequired,preferredServerContentError:QE.a.object,isProviderPromotedContentPending:QE.a.boolean.isRequired,isProviderPromotedContentPopulated:QE.a.boolean.isRequired,providerPromotedContentError:QE.a.object},sessionRelations:{homeHubStatuses:{relationClass:G9e}},defaults:()=>({isContentPending:!0,isContentPopulated:!1,contentError:null,isPreferredServerContentPending:!0,isPreferredServerContentPopulated:!1,preferredServerContentError:null,isProviderPromotedContentPending:!0,isProviderPromotedContentPopulated:!1,providerPromotedContentError:null})}),Y9e=a("elzf");var q9e=XE.a.extend({name:"MediaSubscriptionModalModel",sessionAttrs:{isMediaSubscriptionPending:QE.a.boolean,isMediaSubscriptionPopulated:QE.a.boolean,mediaSubscriptionError:QE.a.string,isMediaSubscriptionSaving:QE.a.boolean,mediaSubscriptionSaveError:QE.a.string,isMediaSubscriptionMoving:QE.a.boolean,mediaSubscriptionMoveError:QE.a.string,isMediaSubscriptionDeleting:QE.a.boolean,mediaSubscriptionDeleteError:QE.a.string},sessionRelations:{templates:{relationClass:Y9e.a,deferred:!0},mediaSubscription:{relationClass:eT.a,deferred:!0}},defaults:{isMediaSubscriptionPending:!0,isMediaSubscriptionPopulated:!1,mediaSubscriptionError:null,isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:null,isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:null,isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:null}});const Z9e=Object(ise.a)();var X9e=XE.a.extend({name:"PlayerModel",sessionAttrs:{serverEntityID:QE.a.string,providerEntityID:QE.a.string,playbackSessionID:QE.a.string,syncplaySessionRoomID:QE.a.string,isOpen:QE.a.boolean,previousOpenState:QE.a.oneOf($M.a,$M.b),openState:QE.a.oneOf($M.a,$M.b),isPlayQueueVisible:QE.a.boolean,isAlsoAiringVisible:QE.a.boolean,isLyricsVisible:QE.a.boolean,isPostPlayVisible:QE.a.boolean,isSettingsVisible:QE.a.boolean,isChaptersVisible:QE.a.boolean,isSubtitlesOffsetSettingsVisible:QE.a.boolean,isWatchTogetherLobbyVisible:QE.a.boolean,isWatchTogetherParticipantsVisible:QE.a.boolean,confirmPlayerUpsellPayload:QE.a.object,confirmPlaybackPayload:QE.a.object,confirmOffsetPayload:QE.a.object,confirmNewsSunsetPayload:QE.a.object,confirmRemoteToLocal:QE.a.boolean,confirmLocalToRemote:QE.a.oneOf(1,3,2).isRequired,decisions:QE.a.object.isRequired,currentDecision:QE.a.object,startMetadataItemEntityID:QE.a.string,startOffsetMilliseconds:QE.a.integer,startMediaIndex:QE.a.integer,positionSeconds:QE.a.integer,nextPositionSeconds:QE.a.integer,lastSeekPositionSeconds:QE.a.integer,durationSeconds:QE.a.integer,seekStartSeconds:QE.a.integer,seekEndSeconds:QE.a.integer,bandwidthTimeline:QE.a.object,lastInteractedAt:QE.a.integer,itemPlaybackTime:QE.a.integer,sessionPlaybackTime:QE.a.integer,playbackSpeed:QE.a.float,isPlayQueueLoading:QE.a.boolean.isRequired,isLiveTVTuning:QE.a.boolean.isRequired,isMediaLoading:QE.a.boolean.isRequired,isPostPlayLoading:QE.a.boolean.isRequired,isPaused:QE.a.boolean.isRequired,isBuffering:QE.a.boolean.isRequired,repeatAll:QE.a.boolean.isRequired,repeatOne:QE.a.boolean.isRequired,mediaIndex:QE.a.integer,partIndex:QE.a.integer,qualityIndex:QE.a.integer,availableQualities:QE.a.array.isRequired,controllable:QE.a.object,metricsPage:QE.a.string,metricsContextTuple:QE.a.array,metricsSetting:QE.a.string,metricsAutoPlay:QE.a.boolean,metricsPlayer:QE.a.oneOf(...oBe.a),hasError:QE.a.boolean.isRequired,errorMessage:QE.a.string,errorCode:QE.a.string,errorCategory:QE.a.string,playbackStartTime:QE.a.integer,hasConflicts:QE.a.boolean.isRequired,isConflictCancelling:QE.a.boolean,cancelConflictError:QE.a.object,confirmLiveTVPlayback:QE.a.boolean.isRequired,adState:QE.a.string,adPositionSeconds:QE.a.integer,adDurationSeconds:QE.a.integer,adDisplayIndex:QE.a.integer,adDisplayTotal:QE.a.integer,adTimeOffsetSeconds:QE.a.oneOfType(QE.a.integer,QE.a.float),advertisingNoticePayload:QE.a.object,bufferedRanges:QE.a.array,canPlayThrough:QE.a.boolean,mediaWidth:QE.a.integer,mediaHeight:QE.a.integer},derivedAttrs:{isWatchTogether(){return!!this.get("syncplaySessionRoomID")}},sessionRelations:{playQueue:{relationClass:XE.a,deferred:!0},relatedHubs:{relationClass:vG.default,deferred:!0},liveTVSession:{relationClass:WM.a,deferred:!0}},defaults:()=>({playbackSessionID:Z9e,playbackSpeed:1,isOpen:!1,isPlayQueueVisible:!1,isAlsoAiringVisible:!1,isLyricsVisible:!1,isPostPlayVisible:!1,isSettingsVisible:!1,isChaptersVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherLobbyVisible:!1,isWatchTogetherParticipantsVisible:!1,confirmPlaybackPayload:null,confirmOffsetPayload:null,confirmNewsSunsetPayload:null,confirmRemoteToLocal:!1,confirmLocalToRemote:1,decisions:{},startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null,positionSeconds:0,nextPositionSeconds:null,lastSeekPositionSeconds:null,durationSeconds:0,seekStartSeconds:0,seekEndSeconds:0,itemPlaybackTime:0,sessionPlaybackTime:0,isPlayQueueLoading:!1,isLiveTVTuning:!1,isMediaLoading:!1,isPostPlayLoading:!1,isPaused:!1,isBuffering:!1,repeatAll:!1,repeatOne:!1,availableQualities:[],metricsAutoPlay:!1,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,playbackStartTime:null,hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null,confirmLiveTVPlayback:!1,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,advertisingNoticePayload:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null})});var J9e=XE.a.extend({name:"ProviderSettingsPageModel",context:["server","provider"],sessionAttrs:{isUpdatePending:QE.a.boolean,updateError:QE.a.object},defaults:{isUpdatePending:!1,updateError:null}});var $9e=XE.a.extend({name:"RecordingSchedulePageModel",sessionAttrs:{isPagePopulated:QE.a.boolean,isMediaSubscriptionsPending:QE.a.boolean,isMediaSubscriptionsPopulated:QE.a.boolean,mediaSubscriptionsError:QE.a.object,isCalendarPending:QE.a.boolean,isCalendarPopulated:QE.a.boolean,calendarError:QE.a.object,mediaSubscriptionMoveError:QE.a.string},sessionRelations:{mediaSubscriptions:{relationClass:tT,deferred:!0},calendar:{relationClass:JP,deferred:!0}},defaults:{isPagePopulated:!1,isMediaSubscriptionsPending:!1,isMediaSubscriptionsPopulated:!1,mediaSubscriptionsError:null,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null,mediaSubscriptionMoveError:null}});var e7e=CS.a.extend({name:"SearchCollection",context:["server","provider"],model:wRe.a});var t7e=XE.a.extend({name:"SearchPageModel",sessionRelations:{searches:{relationClass:e7e}}}),a7e=a("o57f"),n7e=a("8uQ2");var i7e=XE.a.extend({name:"WatchTogetherRoomUserModel",syncedAttrs:{id:QE.a.integer.isRequired,subscription:QE.a.boolean.isRequired,thumb:QE.a.string.isRequired,title:QE.a.string.isRequired,uuid:QE.a.string.isRequired}});var r7e=CS.a.extend({name:"WatchTogetherRoomUserCollection",model:i7e});var s7e=XE.a.extend({name:"WatchTogetherRoomModel",entityType:fo.q,entityID(e=this.state){return Object(jt.a)(this.entityType,e.id)},mergeStrategy:n7e.a,sessionAttrs:{isMetadataItemPending:QE.a.boolean,isMetadataItemPopulated:QE.a.boolean,metadataItemError:QE.a.string},syncedAttrs:{id:QE.a.string.isRequired,title:QE.a.string.isRequired,sourceUri:QE.a.string.isRequired,startsAt:QE.a.integer.isRequired,endsAt:QE.a.integer.isRequired,updatedAt:QE.a.integer.isRequired,syncplayHost:QE.a.string.isRequired,syncplayPort:QE.a.integer.isRequired},syncedRelations:{metadataItem:{relationClass:_I.a,deferred:!0},users:{relationClass:r7e}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null}});var o7e=CS.a.extend({name:"WatchTogetherRoomCollection",model:s7e});var l7e=XE.a.extend({name:"WatchTogetherModel",sessionAttrs:{isRoomsPending:QE.a.boolean,isRoomsPopulated:QE.a.boolean,roomsError:QE.a.string,isInvitePending:QE.a.boolean,isInviteCompleted:QE.a.boolean,inviteError:QE.a.string,sessionError:QE.a.string},sessionRelations:{session:{relationClass:a7e.a,deferred:!0},rooms:{relationClass:o7e}},defaults:()=>({isRoomsPending:!0,isRoomsPopulated:!1,roomsError:void 0,isInvitePending:!1,isInviteCompleted:!1,inviteError:void 0,sessionError:void 0})});var c7e=XE.a.extend({name:"MultiSelectItemModel",sessionAttrs:{id:QE.a.any.isRequired,type:QE.a.string.isRequired},sessionRelations:{model:{relationClass:XE.a,deferred:!0}}});var d7e=CS.a.extend({name:"MultiSelectItemCollection",model:c7e});var u7e=XE.a.extend({name:"MultiSelectModel",sessionAttrs:{activeSelectionRange:QE.a.object},sessionRelations:{activeSelectionItems:{relationClass:d7e}},derivedAttrs:{activeSelectionType(){const e=this.get("activeSelectionItems").first();if(e)return e.get("type")}},initialize(){this.listenTo(this.get("activeSelectionItems"),{remove:this.resetSelectionRange,reset:this.resetSelectionRange})},listenToCollection(e){this.stopListening(e),this.listenTo(e,{reset:this.onCollectionReset,remove:this.onCollectionRemove})},resetSelectionRange(){this.set("activeSelectionRange",null)},onCollectionReset(e,t){const a=this.get("activeSelectionItems"),n=t.previousModels;M.a.each(n,t=>{e.contains(t)||a.remove(t.id)})},onCollectionRemove(e){this.get("activeSelectionItems").remove(e.id)}});var p7e=XE.a.extend({name:"AddToPlaylistMenuModel",sessionAttrs:{uri:QE.a.string},sessionRelations:{recentPlaylists:{relationClass:GE.default,deferred:!0}}}),m7e=a("jNWR");var h7e=XE.a.extend({name:"AddToPlaylistModalModel",sessionAttrs:{providerEntityID:QE.a.string,containerKey:QE.a.string,type:QE.a.string,title:QE.a.string,uri:QE.a.string,smart:QE.a.boolean,readOnly:QE.a.boolean,isUpdating:QE.a.boolean,error:QE.a.object},sessionRelations:{server:{relationClass:zU.e,deferred:!0},provider:{relationClass:pR.b,deferred:!0},metadataItem:{relationClass:_I.a,deferred:!0},metadataList:{relationClass:GE.default,deferred:!0},multiSelect:{relationClass:u7e,deferred:!0},playQueue:{relationClass:m7e.a,deferred:!0},playlists:{relationClass:GE.default,deferred:!0}},defaults:{title:"",smart:!1,readOnly:!1,isUpdating:!1}});var g7e=XE.a.extend({name:"SubtitlesUploadModalModel",sessionAttrs:{isUploading:QE.a.boolean,isUploaded:QE.a.boolean,error:QE.a.string},defaults:{isUploading:!1,isUploaded:!1,error:null}});var y7e=XE.a.extend({name:"ServerLogPageModel",sessionAttrs:{logLines:QE.a.array.isRequired,unfilteredLogLinesCount:QE.a.integer.isRequired,filter:QE.a.string.isRequired,logLevels:QE.a.array.isRequired,highlightedLineIndex:QE.a.integer,timeFilterStart:QE.a.string.isRequired,timeFilterEnd:QE.a.string.isRequired,isTimeFilterStartValid:QE.a.boolean.isRequired,isTimeFilterEndValid:QE.a.boolean.isRequired,showTimeFilter:QE.a.boolean.isRequired,showRawText:QE.a.boolean.isRequired},defaults:()=>({logLines:[],unfilteredLogLinesCount:0,filter:"",logLevels:[],timeFilterStart:"",timeFilterEnd:"",isTimeFilterStartValid:!0,isTimeFilterEndValid:!0,showRawText:!1,showTimeFilter:!1})});var f7e=XE.a.extend({name:"AccountSettingsPageModel",sessionAttrs:{isUpdatingUserProfile:QE.a.boolean.isRequired,updateUserProfileError:QE.a.string},defaults:{isUpdatingUserProfile:!1,updateUserProfileError:null}});var b7e=XE.a.extend({name:"AddToCatalogModalModel",sessionAttrs:{isUpdating:QE.a.boolean.isRequired,error:QE.a.object},defaults:{isUpdating:!1,error:null}});var v7e=XE.a.extend({name:"AuthCodeExchangeModel",sessionAttrs:{code:QE.a.string,pinID:QE.a.integer,pinIDInitial:QE.a.integer,pinTimeout:QE.a.integer,authToken:QE.a.string,isBusy:QE.a.boolean.isRequired,errorMessage:QE.a.string,fatalErrorMessage:QE.a.string},defaults:{code:null,pinID:null,pinIDInitial:null,pinTimeout:null,authToken:null,isBusy:!1,errorMessage:null,fatalErrorMessage:null}});var I7e=XE.a.extend({name:"BackgroundModel",sessionAttrs:{imageUrl:QE.a.string,themeMusicUrl:QE.a.string,allowLightPreset:QE.a.boolean,allowBlur:QE.a.boolean,isBackgroundPending:QE.a.boolean},sessionRelations:{server:{relationClass:zU.e,deferred:!0},provider:{relationClass:pR.b,deferred:!0}},defaults:{allowLightPreset:!1,allowBlur:!0,isBackgroundPending:!1}});var S7e=XE.a.extend({name:"DVRSettingsUIModel",sessionAttrs:{isDvrsPending:QE.a.boolean,isDvrsPopulated:QE.a.boolean,dvrsError:QE.a.object,isUIPopulated:QE.a.boolean},sessionRelations:{dvrs:{relationClass:DS,deferred:!0},dvrSetup:{relationClass:PS.a,deferred:!0}},defaults:{isDvrsPending:!1,isDvrsPopulated:!1,dvrsError:null,isUIPopulated:!1}});var E7e=XE.a.extend({name:"DiscoverPageModel",sessionAttrs:{providerEntityID:QE.a.string,hubKey:QE.a.string,isHubsPending:QE.a.boolean.isRequired,isHubsPopulated:QE.a.boolean.isRequired,hubsError:QE.a.object,hubsTitle:QE.a.string,isPromotedHubsPending:QE.a.boolean.isRequired,isPromotedHubsPopulated:QE.a.boolean.isRequired,promotedHubsError:QE.a.object,knownPromotedHubCloudProviderIDs:QE.a.array.isRequired},sessionRelations:{hubs:{relationClass:vG.default,deferred:!0},promotedHubs:{relationClass:vG.default,deferred:!0}},defaults:()=>({isHubsPending:!0,isHubsPopulated:!1,hubsError:null,hubsTitle:null,isPromotedHubsPending:!0,isPromotedHubsPopulated:!1,promotedHubsError:null,knownPromotedHubCloudProviderIDs:[]})});var O7e=XE.a.extend({name:"LibraryPageModel",sessionAttrs:{providerEntityID:QE.a.string,libraryKey:QE.a.string,directoryKey:QE.a.string,containerKey:QE.a.string,isDetailsPending:QE.a.boolean.isRequired,isDetailsPopulated:QE.a.boolean.isRequired,detailsError:QE.a.object,isFirstCharactersPending:QE.a.boolean.isRequired,isFirstCharactersPopulated:QE.a.boolean.isRequired,firstCharactersError:QE.a.object,selectedFilterKey:QE.a.string,filterOptionQuery:QE.a.string,isSelectedFilterOptionsPending:QE.a.boolean.isRequired,isSelectedFilterOptionsPopulated:QE.a.boolean.isRequired,selectedFilterOptionsError:QE.a.object,isQueryParsePending:QE.a.boolean.isRequired,isQueryParsePopulated:QE.a.boolean.isRequired,queryParseError:QE.a.object,isUpdatePlaylistPending:QE.a.boolean.isRequired,updatePlaylistError:QE.a.object,typeKey:QE.a.string},sessionRelations:{metadataList:{relationClass:GE.default,deferred:!0},details:{relationClass:yTe.a,deferred:!0},firstCharacters:{relationClass:gTe.a,deferred:!0},selectedFilterOptions:{relationClass:hTe.a,deferred:!0},queryParse:{relationClass:ETe,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isFirstCharactersPending:!0,isFirstCharactersPopulated:!1,firstCharactersError:null,selectedFilterKey:null,filterOptionQuery:"",isSelectedFilterOptionsPending:!0,isSelectedFilterOptionsPopulated:!1,selectedFilterOptionsError:null,isQueryParsePending:!0,isQueryParsePopulated:!1,queryParseError:null,isUpdatePlaylistPending:!1,updatePlaylistError:null}});var M7e=XE.a.extend({name:"MetadataListPageModel",sessionAttrs:{providerEntityID:QE.a.string,listKey:QE.a.string},sessionRelations:{metadataList:{relationClass:GE.default,deferred:!0}}});var C7e=XE.a.extend({name:"OnlineMediaSourcesPageModel",sessionAttrs:{optOutStatuses:QE.a.object,isOptOutStatusesPending:QE.a.boolean,optOutStatusesError:QE.a.object,isAvailableProvidersPending:QE.a.boolean,isAvailableProvidersPopulated:QE.a.boolean,availableProvidersError:QE.a.object,isUpdatePending:QE.a.boolean,updateError:QE.a.object},sessionRelations:{availableProviders:{relationClass:pRe,deferred:!0}},defaults:{isOptOutStatusesPending:!0,optOutStatusesError:null,isAvailableProvidersPending:!0,isAvailableProvidersPopulated:!1,availableProvidersError:null,isUpdatePending:!1,updateError:null}}),j7e=a("C7oW");var D7e=XE.a.extend({name:"PlaylistPageModel",sessionAttrs:{serverEntityID:QE.a.string,providerEntityID:QE.a.string,metadataKey:QE.a.string,isPlaylistPending:QE.a.boolean.isRequired,isPlaylistPopulated:QE.a.boolean.isRequired,playlistError:QE.a.object,isPlaylistItemListPending:QE.a.boolean.isRequired,isPlaylistItemListPopulated:QE.a.boolean.isRequired,playlistItemListError:QE.a.object},sessionRelations:{playlist:{relationClass:_I.a,deferred:!0},playlistItemList:{relationClass:j7e.a,deferred:!0}},defaults:{isPlaylistPending:!0,isPlaylistPopulated:!1,playlistError:null,isPlaylistItemListPending:!0,isPlaylistItemListPopulated:!1,playlistItemListError:null}}),P7e=a("5lOB");var T7e=XE.a.extend({name:"PlaylistsPageModel",sessionAttrs:{serverEntityID:QE.a.string,libraryKey:QE.a.string,containerKey:QE.a.string,isLibraryDetailsPending:QE.a.boolean.isRequired,isLibraryDetailsPopulated:QE.a.boolean.isRequired,libraryDetailsError:QE.a.object,isSortsPending:QE.a.boolean.isRequired,isSortsPopulated:QE.a.boolean.isRequired,sortsError:QE.a.object},sessionRelations:{libraryDetails:{relationClass:yTe.a,deferred:!0},playlists:{relationClass:GE.default,deferred:!0},sorts:{relationClass:P7e.a,deferred:!0}},defaults:{isLibraryDetailsPending:!0,isLibraryDetailsPopulated:!1,libraryDetailsError:null,isSortsPending:!0,isSortsPopulated:!1,sortsError:null}});var w7e=XE.a.extend({name:"PrePlayPageModel",sessionAttrs:{providerEntityID:QE.a.string,metadataKey:QE.a.string,descendantKey:QE.a.string,siblingKey:QE.a.string,isMetadataItemPending:QE.a.boolean.isRequired,isMetadataItemPopulated:QE.a.boolean.isRequired,metadataItemError:QE.a.object,isRelatedHubsPending:QE.a.boolean.isRequired,isRelatedHubsPopulated:QE.a.boolean.isRequired,relatedHubsError:QE.a.object,isAugmentedHubsPending:QE.a.boolean.isRequired,isAugmentedHubsPopulated:QE.a.boolean.isRequired,augmentedHubsError:QE.a.object,isFileUnavailable:QE.a.boolean,decisionMediaItem:QE.a.object},sessionRelations:{metadataItem:{relationClass:_I.a,deferred:!0},descendantList:{relationClass:GE.default,deferred:!0},siblingList:{relationClass:GE.default,deferred:!0},relatedHubs:{relationClass:vG.default,deferred:!0},augmentedHubs:{relationClass:vG.default,deferred:!0}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null,isRelatedHubsPending:!0,isRelatedHubsPopulated:!1,relatedHubsError:null,isAugmentedHubsPending:!0,isAugmentedHubsPopulated:!1,augmentedHubsError:null,isFileUnavailable:!1}});var N7e=XE.a.extend({name:"QuickSearchModel",sessionAttrs:{query:QE.a.string,serverEntityID:QE.a.string,providerEntityID:QE.a.string,providerIdentifier:QE.a.string,directoryID:QE.a.string,selectedResultEntityID:QE.a.string},sessionRelations:{searches:{relationClass:e7e}},defaults:{query:"",selectedResultEntityID:null}}),x7e=a("Xyf0");var A7e=XE.a.extend({name:"MomentModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:QE.a.string,title:QE.a.string,size:QE.a.integer,avgAR:QE.a.float,startsAt:QE.a.integer,endsAt:QE.a.integer}});var L7e=CS.a.extend({name:"MomentCollection",context:["server","provider"],model:A7e});var k7e=XE.a.extend({name:"MomentListModel",context:["server","provider"],url(){return this.get("momentKey")},sessionAttrs:{momentKey:QE.a.string},syncedAttrs:{key:QE.a.string},syncedRelations:{moments:{relationClass:L7e,rootPropertyName:"Directory"}}});var R7e=XE.a.extend({name:"TimelinePageModel",sessionAttrs:{serverEntityID:QE.a.string,providerEntityID:QE.a.string,momentKey:QE.a.string,isDetailsPending:QE.a.boolean.isRequired,isDetailsPopulated:QE.a.boolean.isRequired,detailsError:QE.a.object,isMomentListPending:QE.a.boolean.isRequired,isMomentListPopulated:QE.a.boolean.isRequired,momentListError:QE.a.object},sessionRelations:{metadataList:{relationClass:GE.default,deferred:!0},details:{relationClass:yTe.a,deferred:!0},momentList:{relationClass:k7e,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isMomentListPending:!0,isMomentListPopulated:!1,momentListError:null}}),z7e=a("WxzZ");var U7e=XE.a.extend({name:"UserSharingSettingsPageModel",sessionAttrs:{filterOptionsTags:QE.a.object,isFilterOptionsTagsPopulating:QE.a.boolean,isFilterOptionsTagsPopulated:QE.a.boolean,isUpdatingFriend:QE.a.boolean,updateFriendError:QE.a.string,ownedSharedSources:QE.a.array,receivedSharedSources:QE.a.array,isSharedSourcesPopulating:QE.a.boolean,isSharedSourcesPopulated:QE.a.boolean,sharedSourcesError:QE.a.string,deleteSharedItemID:QE.a.integer,isServerOverviewsPopulating:QE.a.boolean,isServerOverviewsPopulated:QE.a.boolean,isServerSharesPopulating:QE.a.boolean,isServerSharesPopulated:QE.a.boolean,serverSharesError:QE.a.string,isSharingPending:QE.a.boolean,isSharingCompleted:QE.a.boolean,sharingError:QE.a.string,isRemoveServerSharePending:QE.a.boolean,isRemoveServerShareCompleted:QE.a.boolean,removeServerShareError:QE.a.string},sessionRelations:{serverOverviews:{relationClass:z7e.a,deferred:!0}},defaults:()=>({filterOptionsTags:{},isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isUpdatingFriend:!1,updateFriendError:null,ownedSharedSources:[],receivedSharedSources:[],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!1,sharedSourcesError:null,deleteSharedItemID:null,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!1,removeServerShareError:null})});var V7e=XE.a.extend({name:"DesktopUIModel",sessionRelations:{background:{relationClass:I7e},authCodeExchange:{relationClass:v7e},discoverPage:{relationClass:E7e},metadataListPage:{relationClass:M7e},libraryPage:{relationClass:O7e},prePlayPage:{relationClass:w7e},timelinePage:{relationClass:R7e},playlistsPage:{relationClass:T7e},dvrSettingsUI:{relationClass:S7e},recordingSchedulePage:{relationClass:$9e},channelGridPage:{relationClass:W9e},mediaSubscriptionModal:{relationClass:q9e},searchPage:{relationClass:t7e},quickSearch:{relationClass:N7e},photoPlayer:{relationClass:X9e},audioVideoPlayer:{relationClass:X9e},romPlayer:{relationClass:X9e},onlineMediaSourcesPage:{relationClass:C7e},accountSettingsPage:{relationClass:f7e},playlistPage:{relationClass:D7e},providerSettingsPage:{relationClass:J9e},addToCatalogModal:{relationClass:b7e},multiSelect:{relationClass:u7e},serverLogPage:{relationClass:y7e},subtitlesModal:{relationClass:R9e},subtitlesUploadModal:{relationClass:g7e},homePage:{relationClass:K9e},autoHomePage:{relationClass:_9e},addToPlaylistMenu:{relationClass:p7e},addToPlaylistModal:{relationClass:h7e},shareModal:{relationClass:x7e.a},userSharingSettingsPage:{relationClass:U7e},providerIntegrations:{relationClass:V9e},advertisingNoticeModal:{relationClass:B9e},watchTogether:{relationClass:l7e}}}),B7e=a("01sc"),F7e=a.n(B7e),H7e=a("SZF0"),_7e=a("//Um"),W7e=a("NjRo");var Q7e=a("f0u1");var G7e=CS.a.extend({name:"FriendCollection2",context:["server"],model:Q7e.a,url:"/api/users"});var K7e=XE.a.extend({name:"HomeDetailsModel",context:["server"],url:"/api/v2/home",responseType:qP.a,sessionAttrs:{isTogglingGuestUser:QE.a.boolean},syncedAttrs:{id:QE.a.integer,guestUserID:QE.a.integer,guestEnabled:QE.a.boolean,subscription:QE.a.boolean,name:QE.a.string},defaults:{isTogglingGuestUser:!1}}),Y7e=a("OwEl"),q7e=a("nXlV");var Z7e=XE.a.extend({name:"UserProfileModel",context:["server"],url:"/api/v2/user/profile",syncedAttrs:{autoSelectAudio:QE.a.boolean,autoSelectSubtitle:QE.a.integer,defaultAudioLanguage:QE.a.string,defaultSubtitleLanguage:QE.a.string,defaultSubtitleAccessibility:QE.a.integer,defaultSubtitleForced:QE.a.integer}}),X7e=a("RXTF"),J7e=a("ILlL"),$7e=a("aY6d");var eet=CS.a.extend({name:"UserSettingCollection",context:["server"],model:$7e.a}),tet=a("lcbe");const aet=XE.a.extend({mixins:[N9e.a],name:"UserModel",context:["server"],url(){return j.default.join("/api/v2/user",G2e(this))},sessionAttrs:{isRemote:QE.a.boolean,isSignedIn:QE.a.boolean.isRequired,hasAttemptedSignIn:QE.a.boolean.isRequired,hasInvalidToken:QE.a.boolean.isRequired,hasInvalidAnonymousUserToken:QE.a.boolean.isRequired,lastPrimaryServerID:QE.a.string,lockState:QE.a.oneOf(qe.a.Pending,qe.a.Locked,qe.a.Unlocked).isRequired,homeUsers:QE.a.instanceOf(Y7e.a).isRequired,isFeaturesPending:QE.a.boolean.isRequired,isFeaturesPopulated:QE.a.boolean.isRequired,featuresError:QE.a.object,isAllFriendsPending:QE.a.boolean.isRequired,isAllFriendsPopulated:QE.a.boolean.isRequired,allFriendsError:QE.a.object,isProvidersPending:QE.a.boolean.isRequired,isProvidersPopulated:QE.a.boolean.isRequired,providersError:QE.a.object},syncedAttrs:{id:QE.a.integer,uuid:QE.a.string,authToken:QE.a.string,anonymous:QE.a.boolean,username:QE.a.string,email:QE.a.string,emailOnlyAuth:QE.a.boolean,title:QE.a.string,subscriptionDescription:QE.a.string,locale:QE.a.string,country:QE.a.string,thumb:QE.a.string,pin:QE.a.string,home:QE.a.boolean,restricted:QE.a.boolean,guest:QE.a.boolean,homeSize:QE.a.integer,maxHomeSize:QE.a.integer,queueUid:QE.a.string,queueEmail:QE.a.string,hasAllEntitlements:QE.a.boolean,mailingListActive:QE.a.boolean,experimentalFeatures:QE.a.boolean,hasPassword:QE.a.boolean,twoFactorEnabled:QE.a.boolean,mailingListStatus:QE.a.oneOf(qe.b.Empty,qe.b.Unsubscribed,qe.b.Active,qe.b.Error,qe.b.Removed),adsConsent:QE.a.boolean,adsConsentSetAt:QE.a.integer,adsConsentReminderAt:QE.a.integer},sessionRelations:{features:{relationClass:W7e.a},allFriends:{relationClass:G7e},providers:{relationClass:_7e.a},homeDetails:{relationClass:K7e}},syncedRelations:{subscriptions:{relationClass:tet.a},pastSubscriptions:{relationClass:tet.a},roles:{relationClass:X7e.a},entitlements:{relationClass:q7e.a},settings:{relationClass:eet},experienceSettings:()=>({relationClass:Object(E.c)("UserExperienceSettingsModel")}),services:{relationClass:J7e.a},profile:{relationClass:Z7e}},derivedAttrs:{isLocked(){return this.get("lockState")===qe.a.Locked},isUnlocked(){return this.get("lockState")===qe.a.Unlocked},isFullUser(){return!!this.get("username")||!!this.get("anonymous")},isEmployee(){return!!this.get("roles").get("employee")},isNinja(){return this.get("isEmployee")||!!this.get("roles").get("ninja")},hasPlexSubscription(){return this.get("subscriptions").some(e=>{const t=e.get("state");return t===$Pe.a||t===$Pe.e})},hasPlexPass(){return this.get("subscriptions").some(e=>{const t=e.get("type"),a=e.get("state");return t===eTe.b&&(a===$Pe.a||a===$Pe.e)})},canGoPremium(){const e=this.get("homeSize")>1,t=!1===this.get("homeDetails").get("subscription");return this.get("signedIn")&&!this.get("anonymous")&&!this.get("restricted")&&!this.get("hasPlexSubscription")&&(!e||t)},signedIn(){return this.get("isSignedIn")},locked(){const e=this.get("lockState");return e===qe.a.Locked||e!==qe.a.Unlocked&&null}},defaults(){const e={server:this.server,parent:this};return{id:0,isRemote:!1,isSignedIn:!1,hasAttemptedSignIn:!1,hasInvalidToken:!1,hasInvalidAnonymousUserToken:!1,hasPassword:!0,lockState:qe.a.Pending,homeUsers:new Y7e.a([],e),twoFactorEnabled:!1,isFeaturesPending:!0,isFeaturesPopulated:!1,featuresError:null,isAllFriendsPending:!0,isAllFriendsPopulated:!1,allFriendsError:null,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},initialize(e,t){this._resetPopulate(),this.onHomeUsersChange(this,this.get("homeUsers")),this.on("change:homeUsers",this.onHomeUsersChange,this),this.listenTo(this.server,{"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange})},uninitialize(){this.off("change:homeUsers",this.onHomeUsersChange,this),this.stopListening()},fetch(){return yee.c.Model.prototype.fetch.apply(this,arguments)},augmentResponse(e={}){const{roles:t,entitlements:a,settings:n,providers:i,subscriptions:r,pastSubscriptions:s,...o}=e;let l=n&&n.setting?n.setting:[];l=Array.isArray(l)?l:[l];const c=this.get("experienceSettings");let d=!1;const u=l.reduce((e,t)=>(t.id===R4e.b?(d=!0,e.experienceSettings={...Object(E4e.a)(t.value),updatedAt:t.updatedAt}):e.settings.push(t),e),{settings:[],experienceSettings:{}});return!d&&c&&(u.experienceSettings=c.toJSON({syncedOnly:!0})),o.gdprConsent&&(o.adsConsent=o.gdprConsent),o.gdprSetAt&&(o.adsConsentSetAt=o.gdprSetAt),o.gdprReminderAt&&(o.adsConsentReminderAt=o.gdprReminderAt),{...o,...u,roles:t&&t.role,hasAllEntitlements:a&&a.all,entitlements:a&&a.entitlement,services:i&&i.provider,subscriptions:r&&r.subscription,pastSubscriptions:s&&s.pastSubscription}},_getTokenPromise(){var e,t;null==(t=null==(e=Object(E.c)("appModel").get("ui"))?void 0:e.get("authCodeExchange"))||t.get("pinIDInitial");return(X.a.allowSSO?this._getSSOThenStorageTokenPromise():this._getStorageTokenPromise()).then(null,()=>(this.get("hasInvalidAnonymousUserToken"),this._getSkipAnonymousTokenPromise()))},_getSSOThenStorageTokenPromise(){const e=this._getStorageTokenPromise(),t=this._getSSOTokenPromise(),a=()=>this.get("anonymous")?(Object(C.a)("[User] SSO status is not available, try stored anonymous token"),e):(Object(C.a)("[User] SSO status is signed-out"),e.then(()=>Object(H.a)(this.signOutDueToInvalidToken())));return t.then(t=>t?(t=>e.then(e=>t===e?(Object(C.a)("[User] SSO status is signed-in, storage token matches SSO token"),t):(Object(C.a)("[User] SSO status is signed-in, storage token and SSO token differ"),See.a.execute("resetUser").then(()=>{window.location.reload()})),()=>(Object(C.a)("[User] SSO status is signed-in, storage token is not present"),Object(H.a)(t))))(t):a(),()=>(Object(C.a)("[User] SSO status is not available"),e))},_getStorageTokenPromise:()=>Ybe.a.get("myPlexAccessToken"),_getSSOTokenPromise(){return q2e(this.server.getXHROptions("/api/v2/users/signin",{method:"POST",xhrFields:{withCredentials:!0},data:{skipAuthentication:!0},dataType:"json"})).then(e=>e.authToken,e=>e&&400===e.status?h.a.Deferred().resolve(null).promise():h.a.Deferred().reject().promise())},_getSkipAnonymousTokenPromise:()=>(Object(C.a)("[User] Not attempting to create an anonymous token."),h.a.Deferred().reject().promise()),_getAnonymousTokenPromise(){const e=function(e,t){if(!t||!t.campaign)return e;const a=Object.keys(t.campaign).reduce((e,a)=>(e["utm_"+a]=t.campaign[a],e),{});return IOe(e,a)}("/api/v2/users/anonymous",Object(E.c)("metrics").toJSON().context);return q2e(this.server.getXHROptions(e,{method:"POST",dataType:"json"})).then(({authToken:e})=>(Object(C.a)("[User] Anonymous token promise succeeded, accessToken="+e),e))},_getManualUserPromise(e){return h.a.ajax(this.server.getXHROptions(M.a.result(this,"url"),{headers:{"X-Plex-Token":e}}))},signInUnsupervised(){if(this._isSigningIn)return;this._isSigningIn=!0;const e=this._getTokenPromise();e.done(e=>{Object(C.a)("[User] Token promise succeeded, accessToken="+e);const t=e?this._getManualUserPromise(e):h.a.Deferred().reject().promise();t.done(t=>{Object(C.a)("[User] userPromise succeeded");const a=this.get("homeDetails");a.fetch({headers:{"X-Plex-Token":e}}).always(()=>{const e=this.parse(t);let n=this.get("lockState");if(n!==qe.a.Unlocked){const t=Object(E.c)("settingFinder").find("autoLogin"),i=!!e.guest&&!a.get("guestEnabled");n=!!e.home&&(!t||i)?qe.a.Locked:qe.a.Unlocked}this.signIn(e,{lockState:n}),this._isSigningIn=!1})}),t.fail(e=>{if(Object(C.a)("[User] userPromise failed"),e&&e.aborting)return this.set({hasAttemptedSignIn:!0}),void(this._isSigningIn=!1);!e||401!==e.status&&422!==e.status?this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!1,features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}):this.get("anonymous")?(Object(C.a)("[User] userPromise failed for anonymous user due to invalid token."),this.signOutAnonymousUser()):(Object(C.a)("[User] userPromise failed due to invalid token."),this.signOutDueToInvalidToken()),this.server.testAllConnections(),this._isSigningIn=!1})}),e.fail(()=>{Object(C.a)("[User] tokenPromise failed"),this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:this.get("hasInvalidAnonymousUserToken"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}),this._isSigningIn=!1})},signIn(e,t={},a={}){const n=M.a.isString(e)?this.parse(e):e,i=n.authToken,r={hasAttemptedSignIn:!0,isSignedIn:!0,...n,...t};return this._resolve(r,a),Ybe.a.set("myPlexAccessToken",i)},signOut(e={}){return this._reject(e),h.a.Deferred().resolve().promise()},signOutAnonymousUser(){return Object(RU.a)(this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:!0}),this.clearAccessToken())},signOutDueToInvalidToken(){return Object(RU.a)(this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!0}),this.clearAccessToken())},activateStoredUser(e){W2e.a.set("activeUserID",e)},clearAccessToken(){window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken&&delete window.PLEXWEB.myPlexAccessToken;let e=Ybe.a.remove("myPlexAccessToken");return e=e.then(()=>W2e.a.clearActiveUser()),e},hashPIN(e,t=this.get("authToken")){return F7e.a.SHA256_hash(e+t)},hasEntitlement(e){const t=this.get("hasAllEntitlements"),a=this.get("entitlements");return!(!t&&!a.get(e))},hasHome(){return!!this.get("pin")||this.get("homeUsers").length>1},isFullUser(){return this.get("isFullUser")},isEmployee(){return this.get("isEmployee")},isNinja(){return this.get("isNinja")},_resolve(e,t={}){this.startCapturingChangeEvents(),this.activateStoredUser(e.id),this.set(e),this._resolvePopulate(),this.server.authenticate(e.authToken),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},_reject(e,t={}){this.startCapturingChangeEvents(),this.restoreDefaults(e),this._rejectPopulate(),this.server.deauthenticate(),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},onHomeUsersChange(e,t){const a=e.previous("homeUsers");a&&this.stopListening(a),this.listenTo(this.get("homeUsers"),"reset add remove",this.onHomeUsersUpdate)},onHomeUsersUpdate(){this.set("homeSize",this.get("homeUsers").length),this.get("homeDetails").fetch()},onServerConnectedChange(e,t){t&&this.signInUnsupervised()},onServerUnavailableChange(e,t){t&&this.signOut({lockState:this.get("lockState"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")})}});Object(H7e.a)(aet,(function(){return{relationClass:Object(E.c)("UserFlexModel")}}));var net=aet,iet=a("rRWa"),ret=a("5rFJ");function set(e,t,a,...n){return Object(ret.f)((function*(){const i={};yield Object(ret.l)(e,(function*(e){const r=a(e);i[r]&&(yield Object(ret.c)(i[r])),i[r]=yield Object(ret.f)(t,e,...n),yield Object(ret.g)(i[r]),i[r]&&!i[r].isRunning()&&delete i[r]}))}))}function oet(e,t,a,...n){return Object(ret.f)((function*(){const i={};yield Object(ret.l)(e,(function*(e){var r;const s=a(e);(null==(r=i[s])?void 0:r.isRunning())||(i[s]=yield Object(ret.f)(t,e,...n),yield Object(ret.g)(i[s]),i[s]&&!i[s].isRunning()&&delete i[s])}))}))}function*cet({payload:e}){try{const{server:t,provider:a,metadataKey:n,sourceURI:i}=e,r={...(yield Object(ret.b)(d3e.a.get,j.default.join([n,"userState"]),{server:t,provider:a})).data.MediaContainer.UserState,tempState:{}};yield Object(ret.h)(Ki.a.actions.fetchSucceeded({sourceURI:i,metadataItemState:r}))}catch(t){yield Object(ret.h)(Ki.a.actions.fetchFailed({sourceURI:e.sourceURI,error:t}))}finally{(yield Object(ret.d)())&&(yield Object(ret.h)(Ki.a.actions.fetchCancelled({sourceURI:e.sourceURI})))}}function*det({payload:e}){const{server:t,provider:a,sourceURI:n,ratingKey:i,played:r}=e;try{const e=xo(a,St.d.Scrobble);if(!e)throw new Error("No scrobble action found on provider");const s=r?e.key:e.reverseKey;if(!s)throw new Error("The scrobble action is missing a `key` or `reverseKey`");yield Object(ret.b)(d3e.a.get,s,{server:t,provider:a,params:{identifier:a.identifier,key:i}}),yield Object(ret.h)(Ki.a.actions.playedStatusUpdateSucceeded({server:t,provider:a,sourceURI:n,ratingKey:i,played:r}))}catch(e){yield Object(ret.h)(Ki.a.actions.playedStatusUpdateFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*uet({payload:e}){const{server:t,provider:a,sourceURI:n,ratingKey:i,rating:r}=e;try{const e=xo(a,St.d.Rate);if(!e)throw new Error("No rate action found on provider");if(!e.key)throw new Error("The rate action is missing a `key`");yield Object(ret.b)(d3e.a.put,e.key,{server:t,provider:a,params:{identifier:a.identifier,key:i,rating:r}}),yield Object(ret.h)(Ki.a.actions.rateSucceeded({server:t,provider:a,sourceURI:n,ratingKey:i,rating:r}))}catch(e){yield Object(ret.h)(Ki.a.actions.rateFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*pet({payload:e}){const{server:t,provider:a,sourceURI:n,ratingKey:i,added:r}=e;try{const e=xo(a,St.d.AddToWatchlist);if(!e)throw new Error("No watchlist action found on provider");const s=r?e.key:e.reverseKey;if(!s)throw new Error("The watchlist action is missing a `key` or `reverseKey`");yield Object(ret.b)(d3e.a.put,s,{server:t,provider:a,params:{ratingKey:i}}),yield Object(ret.h)(Ki.a.actions.toggleWatchlistSucceeded({server:t,provider:a,sourceURI:n,ratingKey:i,added:r}))}catch(e){yield Object(ret.h)(Ki.a.actions.toggleWatchlistFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*met({payload:e}){const{server:t,provider:a,sourceURI:n,ratingKey:i,saved:r}=e;try{const e=xo(a,St.d.Save);if(!e)throw new Error("No save action found on provider");const s=r?e.key:e.reverseKey;if(!s)throw new Error("The save action is missing a `key` or `reverseKey`");yield Object(ret.b)(d3e.a.put,s,{server:t,provider:a,params:{ratingKey:i}}),yield Object(ret.h)(Ki.a.actions.toggleSavedSucceeded({server:t,provider:a,sourceURI:n,ratingKey:i,saved:r}))}catch(e){yield Object(ret.h)(Ki.a.actions.toggleSavedFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*het({payload:e}){const{server:t,provider:a,sourceURI:n,part:i,streamIDParam:r,streamID:s,allParts:o}=e;try{const e=i.key.match(new RegExp(`^(.*/parts/${i.id})/`)),l=j.default.join(e?e[1]:["/library/parts",i.id]);yield Object(ret.b)(d3e.a.put,l,{server:t,provider:a,params:{[r]:s,allParts:o?1:0}}),yield Object(ret.h)(Ki.a.actions.streamSelectSucceeded({server:t,provider:a,sourceURI:n}))}catch(e){yield Object(ret.h)(Ki.a.actions.streamSelectFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*get({payload:e}){const{server:t,provider:a,sourceURI:n,streamKey:i}=e;try{yield Object(ret.b)(d3e.a.del,i,{server:t,provider:a}),yield Object(ret.h)(Ki.a.actions.streamDeleteSucceeded({server:t,provider:a,sourceURI:n}))}catch(e){yield Object(ret.h)(Ki.a.actions.streamDeleteFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*yet({payload:e}){const{targetServer:t,targetProvider:a,targetLibrarySectionID:n,targetLibraryType:i,server:r,provider:s,metadataItem:o}=e;try{yield Object(ret.b)(d3e.a.post,"/media/subscriptions",{server:t,provider:a,params:{providers:Object(Ct.a)({serverIdentifier:r.machineIdentifier,providerIdentifier:s.identifier}),prefs:{oneShot:1,remoteMedia:1},params:{libraryType:Ev(i)},targetLibrarySectionID:n,hints:{guid:o.guid,ratingKey:o.ratingKey,title:o.title,parentTitle:o.parentTitle},type:Ev(o.type)}})}catch(e){}}function*fet({payload:e}){const{ratingKey:t,server:a,provider:n,sourceURI:i}=e;try{const e=xo(n,St.d.RemoveFromContinueWatching);if(!(null==e?void 0:e.key))throw new Error("removeFromContinueWatching action not found on "+n.identifier);yield Object(ret.b)(d3e.a.put,e.key,{server:a,provider:n,params:{ratingKey:t}}),yield Object(ret.h)(Ki.a.actions.removeFromContinueWatchingSucceeded({sourceURI:i}))}catch(e){}}function*bet(){yield Object(ret.m)(Ki.a.actions.fetchRequested,cet)}function*vet(){yield set(Ki.a.actions.playedStatusUpdateRequested,det,({payload:e})=>e.sourceURI)}function*Iet(){yield set(Ki.a.actions.rateRequested,uet,({payload:e})=>e.sourceURI)}function*Eet(){yield set(Ki.a.actions.toggleWatchlistRequested,pet,({payload:e})=>e.sourceURI)}function*Oet(){yield set(Ki.a.actions.toggleSavedRequested,met,({payload:e})=>e.sourceURI)}function*Met(){yield set(Ki.a.actions.streamSelectRequested,het,({payload:e})=>e.sourceURI)}function*Cet(){yield oet(Ki.a.actions.streamDeleteRequested,get,({payload:e})=>e.streamKey)}function*jet(){yield oet(Ki.a.actions.addToLibraryRequested,yet,({payload:e})=>e.metadataItem.sourceURI)}function*Det(){yield oet(Ki.a.actions.removeFromContinueWatchingRequested,fet,({payload:e})=>e.sourceURI)}function*Pet(){yield Object(ret.a)([Object(ret.f)(bet),Object(ret.f)(Det),Object(ret.f)(vet),Object(ret.f)(Iet),Object(ret.f)(Eet),Object(ret.f)(Oet),Object(ret.f)(Met),Object(ret.f)(Cet),Object(ret.f)(jet)])}function Tet(e,t,a,n,i={leading:!0,trailing:!0},...r){return Object(ret.f)((function*(){const s={};function*o(e,t,a){s[e]={timestamp:Date.now()},yield Object(ret.e)(a),yield Object(ret.b)(l,e,t)}function*l(e,t){s[e]={timestamp:Date.now(),task:yield Object(ret.f)(a,t,...r)}}yield Object(ret.l)(t,(function*(t){const a=n(t),r=s[a];if(r){if((null==i?void 0:i.trailing)&&r.task&&!r.task.isRunning()){const n=e-(Date.now()-r.timestamp);yield Object(ret.b)(o,a,t,n)}}else(null==i?void 0:i.leading)?yield Object(ret.b)(l,a,t):(null==i?void 0:i.trailing)&&(yield Object(ret.b)(o,a,t,e));const c=s[a];yield Object(ret.e)(e),c===s[a]&&delete s[a]}))}))}function*wet({payload:e}){const{server:t,provider:a,sourceURI:n,key:i,params:r}=e;try{const{key:e,parameters:s}=Object(Ia.a)(n),o=yield Object(ret.b)(ja.b.fetchAll,null!=i?i:e,{server:t,provider:a,params:{...r,...i?void 0:s}});yield Object(ret.h)(ja.a.actions.fetchAllSucceeded({sourceURI:n,data:o}))}catch(e){yield Object(ret.h)(ja.a.actions.fetchAllFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*Net({payload:e}){const{server:t,provider:a,sourceURI:n,key:i,params:r,startIndex:s,size:o,isPrepend:l}=e;try{const{key:e,parameters:c}=Object(Ia.a)(n),d=yield Object(ret.b)(ja.b.fetchRange,null!=i?i:e,{server:t,provider:a,params:{...r,...i?void 0:c},startIndex:s,size:o,isPrepend:l});yield Object(ret.h)(ja.a.actions.fetchRangeSucceeded({sourceURI:n,data:d}))}catch(e){yield Object(ret.h)(ja.a.actions.fetchRangeFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*xet({payload:e}){const{server:t,provider:a,sourceURI:n,key:i,params:r}=e;try{const e=yield Object(ret.j)(hl(n)),s=ja.b.getRepopulateRangeOptions(e.items),{key:o,parameters:l}=Object(Ia.a)(n),c=yield Object(ret.b)(ja.b.fetchRange,null!=i?i:o,{server:t,provider:a,params:{...r,...i?void 0:l},...s});yield Object(ret.h)(ja.a.actions.repopulateRangeSucceeded({sourceURI:n,data:c}))}catch(e){yield Object(ret.h)(ja.a.actions.repopulateRangeFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*Aet(){yield oet(ja.a.actions.fetchAllRequested,wet,({payload:e})=>e.sourceURI)}function*Let(){yield set(ja.a.actions.fetchRangeRequested,Net,({payload:e})=>e.sourceURI)}function*ket(){yield set(ja.a.actions.repopulateRangeRequested,xet,({payload:e})=>e.sourceURI)}function*Ret(){yield Tet(5e3,ja.a.actions.throttledRepopulateRangeRequested,xet,({payload:e})=>e.sourceURI)}function*zet(){yield Tet(5e3,ja.a.actions.throttledFetchAllRequested,wet,({payload:e})=>e.sourceURI)}function*Uet(){yield Object(ret.a)([Object(ret.f)(Aet),Object(ret.f)(Let),Object(ret.f)(ket),Object(ret.f)(Ret),Object(ret.f)(zet)])}function*Vet({payload:e}){const{server:t,provider:a,sourceURI:n}=e;try{const{key:e}=Object(Ia.a)(n);yield Object(ret.b)(d3e.a.put,j.default.join([e,"refresh"]),{server:t,provider:a})}catch(e){yield Object(ret.h)(dl.actions.metadataRefreshFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*Bet({payload:e}){const{server:t,provider:a,sourceURI:n}=e;try{const{key:e}=Object(Ia.a)(n);yield Object(ret.b)(d3e.a.put,j.default.join([e,"analyze"]),{server:t,provider:a})}catch(e){yield Object(ret.h)(dl.actions.mediaAnalysisFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*Fet(){yield Object(ret.l)(dl.actions.metadataRefreshRequested,Vet)}function*Het(){yield Object(ret.l)(dl.actions.mediaAnalysisRequested,Bet)}function*_et(){yield Object(ret.a)([Object(ret.f)(Fet),Object(ret.f)(Het)])}function*Wet({payload:e}){const{server:t}=e;try{(yield Object(ret.j)(gQ(t.machineIdentifier))).isPopulated||(yield Object(ret.h)(iQ.actions.fetchRequested(e)))}catch(e){yield Object(ret.h)(iQ.actions.fetchFailed({server:t,error:d3e.a.toPlainErrorObject(e)}))}}function*Qet({payload:e}){var t,a;const{server:n}=e;try{const e=null!=(a=null==(t=(yield Object(ret.b)(d3e.a.get,"/accounts",{server:n})).data.MediaContainer)?void 0:t.Account)?a:[];yield Object(ret.h)(iQ.actions.fetchSucceeded({server:n,data:e.filter(e=>e.name)}))}catch(e){yield Object(ret.h)(iQ.actions.fetchFailed({server:n,error:d3e.a.toPlainErrorObject(e)}))}}function*Get(){yield oet(iQ.actions.populateRequested,Wet,({payload:e})=>e.server.machineIdentifier)}function*Ket(){yield oet(iQ.actions.fetchRequested,Qet,({payload:e})=>e.server.machineIdentifier)}function*Yet(){yield Object(ret.a)([Object(ret.f)(Get),Object(ret.f)(Ket)])}function*qet({payload:e}){const{server:t}=e;try{(yield Object(ret.j)(vQ(t.machineIdentifier))).isPopulated||(yield Object(ret.h)(sQ.actions.fetchRequested(e)))}catch(e){yield Object(ret.h)(sQ.actions.fetchFailed({server:t,error:d3e.a.toPlainErrorObject(e)}))}}function*Zet({payload:e}){var t,a;const{server:n}=e;try{const e=yield Object(ret.b)(d3e.a.get,"/devices",{server:n});yield Object(ret.h)(sQ.actions.fetchSucceeded({server:n,data:null!=(a=null==(t=e.data.MediaContainer)?void 0:t.Device)?a:[]}))}catch(e){yield Object(ret.h)(sQ.actions.fetchFailed({server:n,error:d3e.a.toPlainErrorObject(e)}))}}function*Xet(){yield oet(sQ.actions.populateRequested,qet,({payload:e})=>e.server.machineIdentifier)}function*Jet(){yield oet(sQ.actions.fetchRequested,Zet,({payload:e})=>e.server.machineIdentifier)}function*$et(){yield Object(ret.a)([Object(ret.f)(Xet),Object(ret.f)(Jet)])}var ett=a("BkRI"),ttt=a.n(ett),att=a("BD9E");function ntt(e){var t,a;const{data:n}=e;return(null!=(a=null==(t=n.MediaContainer)?void 0:t.Metadata)?a:[]).map(e=>{var t;const a=ttt()(e);return Object(att.d)(a,"viewOffset"),Object(att.d)(a,"duration"),null==(t=a.Media)||t.forEach(e=>{var t;null==(t=e.Part)||t.forEach(e=>{var t;null==(t=e.Stream)||t.forEach(e=>{Object(att.c)(e,"selected"),Object(att.d)(e,"streamType")})})}),a})}function*itt({payload:e}){const{server:t}=e;try{const e=yield Object(ret.b)(d3e.a.get,"/status/sessions",{server:t});yield Object(ret.h)(fm.actions.fetchSucceeded({server:t,data:ntt(e)}))}catch(e){yield Object(ret.h)(fm.actions.fetchFailed({server:t,error:d3e.a.toPlainErrorObject(e)}))}}function*rtt({payload:e}){const{server:t,message:a}=e;try{const e=(yield Object(ret.j)(tae(t.machineIdentifier))).sessionsByKey[a.sessionKey];e&&e.key===a.key||(yield Object(ret.h)(fm.actions.fetchRequested({server:t})))}catch(e){yield Object(ret.h)(fm.actions.stopFailed({server:t,error:d3e.a.toPlainErrorObject(e)}))}}function*stt({payload:e}){const{server:t,session:a,reason:n}=e;try{yield Object(ret.b)(d3e.a.get,"/status/sessions/terminate",{server:t,params:{sessionId:a.Session.id,reason:n}})}catch(e){yield Object(ret.h)(fm.actions.stopFailed({server:t,error:d3e.a.toPlainErrorObject(e)}))}}function*ott(){yield oet(fm.actions.fetchRequested,itt,({payload:e})=>e.server.machineIdentifier)}function*ltt(){yield oet(fm.actions.sessionChanged,rtt,({payload:e})=>e.server.machineIdentifier)}function*ctt(){yield Object(ret.l)(fm.actions.stopRequested,stt)}function*dtt(){yield Object(ret.a)([Object(ret.f)(ott),Object(ret.f)(ltt),Object(ret.f)(ctt)])}function*utt(){yield Object(ret.a)([Object(ret.f)(Pet),Object(ret.f)(Uet),Object(ret.f)(_et),Object(ret.f)(Yet),Object(ret.f)($et),Object(ret.f)(dtt)])}var ptt=a("lWv/");function mtt(e){Object(E.c)("appStore").dispatch(e)}var htt=function(e){return Object(ret.b)(mtt,e)};function*gtt({payload:e}){var t;const{destinationServer:a,destinationProvider:n,sourceURI:i,isSmart:r}=e;try{const s=Object(xt.a)(n,St.e.Playlist);if(!(null==s?void 0:s.key))throw new Error("No playlist feature found on provider");let o,l;"playlistKey"in e?(o=j.default.join([e.playlistKey,"items"]),l={uri:i}):(o=s.key,l={type:e.playlistType,title:e.title,smart:r?1:0,uri:i});const c="playlistKey"in e?d3e.a.put:d3e.a.post,d=yield Object(ret.b)(c,o,{server:a,provider:n,params:l}),u=null==(t=d.data.MediaContainer.Metadata)?void 0:t[0];if(!u)throw new Error("Unable to find Metadata in playlist save response");const{metadataItem:p}=Object(ptt.a)({server:a,provider:n,data:u,container:d.data.MediaContainer});yield Object(ret.h)(pl.actions.playlistSaveSucceeded({sourceURI:i,playlistKey:p.key}))}catch(t){yield Object(ret.h)(pl.actions.playlistSaveFailed({sourceURI:i,error:d3e.a.toPlainErrorObject(t)})),"playlistKey"in e&&(yield htt(Object(eS.d)(Object(Ce.default)("There was a problem saving this playlist."))))}}function*ytt(){yield Object(ret.m)(pl.actions.playlistSaveRequested,gtt)}function*ftt(){yield Object(ret.a)([Object(ret.f)(ytt)])}var btt=function(e,t){return t?t.map(t=>{var a;let n;return n="field"in t?{key:t.key,field:t.field,value:String(t.value),type:t.type,title:String(t.title)}:"fastKey"in t?{key:t.fastKey,field:null!=(a=t.type)?a:e.filter,value:t.key,title:String(t.title)}:{field:e.filter,key:t.key,value:t.key,title:String(t.title)},n}):[]};function vtt(e,t){const a=function(e){switch(e){case Ha.b.Movie:return Ha.d.Movie;case Ha.b.Show:return Ha.d.Show;case Ha.b.Season:return Ha.d.Season;case Ha.b.Episode:return Ha.d.Episode;case Ha.b.Person:return Ha.d.Person;case Ha.b.Artist:return Ha.d.Artist;case Ha.b.Album:return Ha.d.Album;case Ha.b.Track:return Ha.d.Track;case Ha.b.Clip:return Ha.d.Clip;case Ha.b.Photo:return Ha.d.Photo;case Ha.b.PhotoAlbum:return Ha.d.PhotoAlbum;case Ha.b.Playlist:return Ha.d.Playlist;case Ha.b.Collection:return Ha.d.Collection;case Ha.b.Game:return Ha.d.Game}}(t);if(!e)return e;"composite"===e.type?e.Rule.forEach(e=>{vtt(e,t)}):e.type&&!e.field.includes(".")?(e.field=`${e.type}.${e.field}`,delete e.type):e.type||e.field.includes(".")||a===Ha.d.Movie||(e.field=`${a}.${e.field}`),e.type||!e.value||e.valueTitle||(e.valueTitle=e.value,e.value=encodeURIComponent(e.value))}function*Itt({payload:e}){const{server:t,provider:a,key:n}=e;try{const e=yield Object(ret.b)(d3e.a.get,n,{server:t,provider:a});vtt((i=e.data.Query).Rule,i.type),yield Object(ret.h)(jf.actions.fetchQuerySucceeded({query:e.data.Query}))}catch(e){yield Object(ret.h)(jf.actions.fetchQueryFailed({error:d3e.a.toPlainErrorObject(e)}))}var i}function*Stt({payload:e}){const{server:t,provider:a,filter:n}=e;try{const e=yield Object(ret.b)(d3e.a.get,n.key,{server:t,provider:a}),i=btt(n,e.data.MediaContainer.Directory);yield Object(ret.h)(jf.actions.fetchFilterOptionsSucceeded({filter:n,filterOptions:i}))}catch(e){yield Object(ret.h)(jf.actions.fetchFilterOptionsFailed({filter:n,error:d3e.a.toPlainErrorObject(e)}))}}function*Ett({payload:e}){var t;const{server:a,provider:n,key:i}=e;try{const e=yield Object(ret.b)(d3e.a.get,i,{server:a,provider:n}),r=null==(t=e.data.MediaContainer.Metadata)?void 0:t[0];if(!r)throw new Error("Could not find metadata item in playlist response");yield Object(ret.h)(jf.actions.fetchPlaylistSucceeded({playlistItem:Object(ptt.a)({server:a,provider:n,data:r,container:e.data.MediaContainer}).metadataItem}))}catch(e){yield Object(ret.h)(jf.actions.fetchPlaylistFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*Ott(){for(;;){const e=yield Object(ret.n)(jf.actions.fetchQueryRequested,Itt);yield Object(ret.k)(jf.actions.reset),yield Object(ret.c)(e)}}function*Mtt(){for(;;){const e=yield Object(ret.n)(jf.actions.fetchFilterOptionsRequested,Stt);yield Object(ret.k)(jf.actions.reset),yield Object(ret.c)(e)}}function*Ctt(){for(;;){const e=yield Object(ret.n)(jf.actions.fetchPlaylistRequested,Ett);yield Object(ret.k)(jf.actions.reset),yield Object(ret.c)(e)}}function*jtt(){yield Object(ret.a)([Object(ret.f)(Ott),Object(ret.f)(Mtt),Object(ret.f)(Ctt)])}function*Dtt({payload:e}){var t;try{const a=Date.now(),n=yield Object(ret.b)(d3e.a.get,"/statistics/bandwidth",{server:e.server,params:{timespan:e.timespan,"at>":e.after}}),i=n.data.MediaContainer,r=n.headers.Date,s=r?function(e){const t=Object(Bue.a)(e,"EEE, dd MMM yyyy HH:mm:ss 'GMT'",new Date);return t.getTime()-60*t.getTimezoneOffset()*1e3}(r):a;yield Object(ret.h)(lte.actions.bandwidthFetchSucceeded({data:null!=(t=null==i?void 0:i.StatisticsBandwidth)?t:[],requestTimestampMilliseconds:a,responseTimestampMilliseconds:s}))}catch(e){yield Object(ret.h)(lte.actions.bandwidthFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*Ptt({payload:e}){var t;try{const a=Date.now(),n=(yield Object(ret.b)(d3e.a.get,"/statistics/resources",{server:e.server,params:{timespan:Object(DQ.f)(DQ.a.RealTime)}})).data.MediaContainer;yield Object(ret.h)(fne.actions.resourcesFetchSucceeded({data:null!=(t=null==n?void 0:n.StatisticsResources)?t:[],requestTimestampMilliseconds:a}))}catch(e){yield Object(ret.h)(fne.actions.resourcesFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*Ttt({payload:e}){var t,a;try{const n=(yield Object(ret.b)(xtt,e)).data.MediaContainer;yield Object(ret.h)(Kne.actions.topUsersFetchSucceeded({data:{statistics:null!=(t=null==n?void 0:n.StatisticsMedia)?t:[],accounts:null!=(a=null==n?void 0:n.Account)?a:[]}}))}catch(e){yield Object(ret.h)(Kne.actions.topUsersFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*wtt({payload:e}){var t,a;try{const n=(yield Object(ret.b)(xtt,e)).data.MediaContainer;yield Object(ret.h)($ae.actions.playHistoryFetchSucceeded({data:{statistics:null!=(t=null==n?void 0:n.StatisticsMedia)?t:[],accounts:null!=(a=null==n?void 0:n.Account)?a:[]}}))}catch(e){yield Object(ret.h)($ae.actions.playHistoryFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*Ntt({payload:e}){var t,a,n,i,r,s,o,l;try{const[c,d,u,p]=yield Object(ret.a)([Object(ret.b)(Att,e,Ha.d.Movie),Object(ret.b)(Att,e,Ha.d.Show),Object(ret.b)(Att,e,Ha.d.Artist),Object(ret.b)(Att,e,Ha.d.Game)]);yield Object(ret.h)(wne.actions.topPlayedFetchSucceeded({data:{moviesStatistics:null!=(a=null==(t=c.data.MediaContainer)?void 0:t.Metadata)?a:[],tvStatistics:null!=(i=null==(n=d.data.MediaContainer)?void 0:n.Metadata)?i:[],musicStatistics:null!=(s=null==(r=u.data.MediaContainer)?void 0:r.Metadata)?s:[],gameStatistics:null!=(l=null==(o=p.data.MediaContainer)?void 0:o.Metadata)?l:[]}}))}catch(e){yield Object(ret.h)(wne.actions.topPlayedFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*xtt(e){return yield Object(ret.b)(d3e.a.get,"/statistics/media",{server:e.server,params:{timespan:e.timespan,"at>":e.after}})}function*Att(e,t){return yield Object(ret.b)(d3e.a.get,"/library/all/top",{server:e.server,params:{accountID:e.accountID,type:wo.getMetadataType(t).id,"viewedAt>":e.viewedAt,limit:e.limit}})}function*Ltt(){for(;;){const e=yield Object(ret.m)(lte.actions.bandwidthFetchRequested,Dtt);yield Object(ret.k)([lte.actions.reset,lte.actions.bandwidthAbortRequested]),yield Object(ret.c)(e)}}function*ktt(){for(;;){const e=yield Object(ret.m)(fne.actions.resourcesFetchRequested,Ptt);yield Object(ret.k)(fne.actions.reset),yield Object(ret.c)(e)}}function*Rtt(){for(;;){const e=yield Object(ret.n)(Kne.actions.topUsersFetchRequested,Ttt);yield Object(ret.k)(Kne.actions.reset),yield Object(ret.c)(e)}}function*ztt(){for(;;){const e=yield Object(ret.n)($ae.actions.playHistoryFetchRequested,wtt);yield Object(ret.k)($ae.actions.reset),yield Object(ret.c)(e)}}function*Utt(){for(;;){const e=yield Object(ret.n)(wne.actions.topPlayedFetchRequested,Ntt);yield Object(ret.k)(wne.actions.reset),yield Object(ret.c)(e)}}function*Vtt(){yield Object(ret.a)([Object(ret.f)(Ltt),Object(ret.f)(ktt),Object(ret.f)(Rtt),Object(ret.f)(ztt),Object(ret.f)(Utt)])}var Btt=a("aG+b"),Ftt=a("/zOi");function Htt(e,t){if(null==t?void 0:t.DisplayFields)return t;const a=Object(mu.a)(e.type);if(!a)return t;const n=Object(Btt.b)(e.type,e.subtype);return e.style===Nt.a.Shelf&&e.hubIdentifier&&e.hubIdentifier.startsWith("external.")&&n.push(_a.a.SourceTitle),{...t,DisplayFields:[{type:a,subtype:e.subtype,fields:n}]}}function _tt(e){return"relatedAlbums"===e.hubIdentifier&&e.size>1?Nt.a.WideShelf:e.style}function Wtt({server:e,provider:t,contentDirectoryID:a,excludedHubIdentifiers:n,data:i}){var r;const s=null!=(r=null==i?void 0:i.MediaContainer)?r:{},{Hub:o=[],...l}=s;return o.reduce((i,r)=>{var o,c,d;if((null==n?void 0:n.length)&&(null==n?void 0:n.some(e=>e===r.hubIdentifier)))return i;const u=a?j.default.join(r.key,{contentDirectoryID:a.join(",")}):r.key,p=null!=(o=r.source)?o:Object(Ct.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier}),m=u?`${p}${u}`:`${p}/${r.hubIdentifier}`;let h=r.totalSize;null==h&&(h=r.more?void 0:r.size),i.hubs.push({source:p,sourceURI:m,key:u,isStale:!1,initialSize:r.size,style:_tt(r),attribution:r.attribution,autoAdvanceDelayMs:r.autoAdvanceDelayMs,context:r.context,hubIdentifier:r.hubIdentifier,Meta:Htt(r,r.Meta||s.Meta),more:r.more,placeholder:r.placeholder,random:r.random,subtype:r.subtype,title:r.title,type:r.type});const g=null!=(d=null!=(c=r.Metadata)?c:r.Directory)?d:[],{metadataItems:y,metadataItemStates:f}=Object(Ftt.a)({server:e,provider:t,data:g,container:l});return i.metadataLists.push({sourceURI:m,items:y,totalSize:h,offset:0,isPending:!1,isPopulated:!0,error:null}),Object.assign(i.metadataItemStates,f),i},{title:l.title,meta:l.Meta,hubs:[],metadataLists:[],metadataItemStates:{}})}function*Qtt({payload:e}){const{server:t,provider:a,sourceURI:n,metadataListSourceURI:i,key:r,params:s}=e;n!==i&&(yield Object(ret.h)(Em.actions.resetMeta()),yield Object(ret.h)(ja.a.actions.added({metadataLists:[{sourceURI:n,items:[],offset:0}],metadataItemStates:{}}))),yield Object(ret.h)(ja.a.actions.fetchRangeRequested({server:t,provider:a,sourceURI:n,key:r,params:{...s,includeAdvanced:1,includeMeta:1},startIndex:0,size:50}))}function*Gtt({payload:e}){const{server:t,provider:a,sourceURI:n}=e,{key:i,parameters:r}=Object(Ia.a)(n);try{const e=Wtt({server:t,provider:a,data:(yield Object(ret.b)(d3e.a.get,i,{server:t,provider:a,params:{...r,count:Ec.b,includeStations:1,includeRecentChannels:1,includeMeta:1,excludeFields:"summary"}})).data});yield Object(ret.a)([Object(ret.h)(ja.a.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),Object(ret.h)(Em.actions.fetchHubsSucceeded({sourceURI:n,data:e}))])}catch(e){yield Object(ret.h)(Em.actions.fetchHubsFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*Ktt(){yield Object(ret.e)(6e4),yield Object(ret.h)(Em.actions.markHubsStale())}function*Ytt({payload:e}){const{server:t,provider:a,filter:n}=e;try{const e=yield Object(ret.b)(d3e.a.get,n.key,{server:t,provider:a}),i=btt(n,e.data.MediaContainer.Directory);yield Object(ret.h)(Em.actions.fetchFilterOptionsSucceeded({filter:n,filterOptions:i}))}catch(e){yield Object(ret.h)(Em.actions.fetchFilterOptionsFailed({filter:n,error:d3e.a.toPlainErrorObject(e)}))}}function*qtt({payload:e}){var t;const{server:a,provider:n,key:i}=e;try{const e=yield Object(ret.b)(d3e.a.get,i,{server:a,provider:n});yield Object(ret.h)(Em.actions.fetchFirstCharactersSucceeded({key:i,firstCharacters:null!=(t=e.data.MediaContainer.Directory)?t:[]}))}catch(e){yield Object(ret.h)(Em.actions.fetchFirstCharactersFailed({key:i,error:d3e.a.toPlainErrorObject(e)}))}}function*Ztt(){for(;;){const e=yield Object(ret.n)(Em.actions.initializeListRequested,Qtt);yield Object(ret.k)(Em.actions.reset),yield Object(ret.c)(e)}}function*Xtt(){for(;;){const e=yield Object(ret.n)(Em.actions.fetchHubsRequested,Gtt);yield Object(ret.k)([Em.actions.reset,Em.actions.resetHubs,Em.actions.markHubsStaleRequested]),yield Object(ret.c)(e)}}function*Jtt(){for(;;){yield Object(ret.k)(Em.actions.markHubsStaleRequested);const e=yield Object(ret.b)(Ktt);yield Object(ret.k)(Em.actions.markHubsStaleCanceled),yield Object(ret.c)(e)}}function*$tt(){for(;;){const e=yield Object(ret.n)(Em.actions.fetchFilterOptionsRequested,Ytt);yield Object(ret.k)(Em.actions.reset),yield Object(ret.c)(e)}}function*eat(){for(;;){const e=yield Object(ret.n)(Em.actions.fetchFirstCharactersRequested,qtt);yield Object(ret.k)(Em.actions.reset),yield Object(ret.c)(e)}}function*tat(){yield Object(ret.a)([Object(ret.f)(Ztt),Object(ret.f)(Xtt),Object(ret.f)(Jtt),Object(ret.f)($tt),Object(ret.f)(eat)])}var aat=Object(Kt.a)(Object(he.a)(Am.a,e=>e.embeddedServer,(e,t)=>Yt(e[t])),e=>e);function nat(e){return e(Object(E.c)("appStore").getState())}var iat=function(e){return Object(ret.b)(nat,e)};function*rat({payload:e}){yield Object(ret.b)(pat,[e.metadataItem])}function*sat({payload:e}){const t=e.metadataLists.reduce((e,{items:t})=>e.concat(t),[]);yield Object(ret.b)(pat,t)}function*oat({payload:e}){yield Object(ret.b)(pat,e.data.items)}function*lat({payload:e}){var t,a;const{sourceURI:n,guid:i,useSelected:r}=e;try{const e=yield iat(aat),{providerIdentifier:s,serverIdentifier:o,ratingKey:l}=Object(Ia.a)(n),c=Object(Ct.a)({serverIdentifier:o,providerIdentifier:s});if(!l||!c)throw new Error("Unable to create a subscription for this item");yield Object(ret.b)(d3e.a.post,"media/providers",{server:e,params:{url:c}});const d=(null==(a=null==(t=(yield Object(ret.b)(d3e.a.get,"media/subscriptions/template",{server:e,params:{source:c,ratingKey:l,guid:i}})).data.MediaContainer.SubscriptionTemplate)?void 0:t[0])?void 0:a.MediaSubscription)||[],u=r?d.find(({selected:e})=>e):d[0];if(!u)throw new Error("Unable to create a subscription for this item");u.Setting.some(({hidden:e})=>!e)?yield Object(ret.h)(xs.actions.subscriptionTemplateChanged({sourceURI:n,template:u})):yield Object(ret.h)(xs.actions.subscriptionCreateRequested({sourceURI:n,template:u}))}catch(e){yield Object(ret.h)(xs.actions.subscriptionCreateFailed({sourceURI:n,error:d3e.a.toPlainErrorObject(e)}))}}function*cat({payload:e}){var t,a,n;const{sourceURI:i,template:{type:r,targetLibrarySectionID:s,parameters:o,Setting:l},settings:c={}}=e;try{const e=yield iat(aat),d={};for(const{id:e,value:a}of l)d[e]="oneShot"===e?"false":null!=(t=c[e])?t:a;const u=j.default.parseParams(o),p=null==(n=null==(a=(yield Object(ret.b)(d3e.a.post,"media/subscriptions",{server:e,params:{...u,type:r,targetLibrarySectionID:s,prefs:d}})).data.MediaContainer)?void 0:a.MediaSubscription)?void 0:n[0].key;if(!p)throw new Error("The new subscription did not contain an identifier");yield Object(ret.h)(xs.actions.subscriptionCreateSucceeded({id:p,sourceURI:i,type:r}))}catch(e){yield Object(ret.h)(xs.actions.subscriptionCreateFailed({sourceURI:i,error:d3e.a.toPlainErrorObject(e)}))}}function*dat({payload:e}){const{id:t,sourceURI:a}=e;try{const e=yield iat(aat);yield Object(ret.b)(d3e.a.del,j.default.join(["media/subscriptions",t]),{server:e}),yield Object(ret.h)(xs.actions.subscriptionDeleteSucceeded({sourceURI:a}))}catch(e){yield Object(ret.h)(xs.actions.subscriptionDeleteFailed({sourceURI:a,error:d3e.a.toPlainErrorObject(e)}))}}function*uat({payload:e}){const{type:t,Context:a}=e.activity;if(!(null==a?void 0:a.source)||t!==Ms.p)return;const{ratingKey:n,source:i}=a,{serverIdentifier:r,providerIdentifier:s}=Object(Ia.a)(i),o=Object(Ct.a)({serverIdentifier:r,providerIdentifier:s,key:"/library/metadata/"+n});try{yield Object(ret.h)(Ki.a.actions.repopulateRequested({sourceURI:o}))}catch(e){yield Object(ret.h)(xs.actions.subscriptionCreateFailed({sourceURI:o,error:d3e.a.toPlainErrorObject(e)}))}}function*pat(e){try{const n=yield iat(aat),i=((yield Object(ret.b)(d3e.a.get,"media/providers",{server:n,params:{includeStorage:1}})).data.MediaContainer.MediaProvider||[]).map(e=>({id:String(e.id),source:e.source}));yield Object(ret.h)(xs.actions.providersFetchSucceeded({providerSections:i}));const r={};for(const{source:e,id:t}of i)e&&(r[e]=t);const s={};e.forEach(e=>{s[e.source]?s[e.source].push(e):s[e.source]=[e]});const o=[];for(const[e,i]of Object.entries(s)){const s=r[e];if(!s)break;const l={},c=[];for(const e of i)c.push(e.ratingKey),l[e.ratingKey]=e;const d=c.join(","),u=j.default.join(["media/providers",s,"media/subscriptions/mapping",d]),p=(yield Object(ret.b)(d3e.a.get,u,{server:n,params:{includeStorage:1}})).data.MediaContainer.MediaSubscription||[];for(const{id:e,itemRatingKey:n,type:i}of p){const r=l[n];o.push({id:e,sourceURI:r.sourceURI,subscription:js.Saved,type:i,relation:(t=i,a=Ev(r.type),t===a?Ps.Self:t<a?Ps.Ancestors:Ps.Descendants),progress:100})}}yield Object(ret.h)(xs.actions.downloadsFetchSucceeded({items:e,downloads:o}))}catch(e){yield Object(ret.h)(xs.actions.downloadsFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}var t,a}function*mat(){yield Object(ret.l)(H5.actions.metadataItemFetchSucceeded,rat)}function*hat(){yield Object(ret.l)(ja.a.actions.added,sat)}function*gat(){yield Object(ret.l)(ja.a.actions.repopulateRangeSucceeded,oat)}function*yat(){yield Object(ret.l)(ja.a.actions.fetchRangeSucceeded,oat)}function*fat(){yield Object(ret.l)(ja.a.actions.fetchAllSucceeded,oat)}function*bat(){yield Object(ret.m)(xs.actions.subscriptionTemplatesFetchRequested,lat)}function*vat(){yield Object(ret.m)(xs.actions.subscriptionCreateRequested,cat)}function*Iat(){yield Object(ret.m)(xs.actions.subscriptionDeleteRequested,dat)}function*Sat(){yield Object(ret.l)(ws.actions.activityFinished,uat)}function*Eat(){yield Object(ret.a)(X.a.allowSyncDownload?[Object(ret.f)(mat),Object(ret.f)(hat),Object(ret.f)(yat),Object(ret.f)(fat),Object(ret.f)(gat),Object(ret.f)(bat),Object(ret.f)(vat),Object(ret.f)(Iat),Object(ret.f)(Sat)]:[])}function Oat(e){var t,a;const n=ttt()(e);return Object(att.e)(n,"key"),Object(att.e)(n,"source"),n.sources=null==(a=null==(t=e.sources)?void 0:t.split(","))?void 0:a.map(e=>{const t=Object(qp.c)(ese).find(t=>t===e);return Object(Vs.a)(t,"Unknown Media Grabber Device Source Type "+e),t}),n}function Mat({data:e}){var t;return(null!=(t=e.Device)?t:[]).map(Oat)}function Cat({data:e}){var t,a;const n=null==(t=e.Dvr)?void 0:t[0],i=ttt()(n);return Object(att.e)(i,"key"),i.Device=null==(a=null==n?void 0:n.Device)?void 0:a.map(Oat),i}function*jat({payload:e}){var t;const{server:a}=e;try{const e=yield Object(ret.b)(d3e.a.post,"/media/grabbers/devices/discover",{server:a});yield Object(ret.h)(cse.actions.devicesDiscoverSucceeded({server:a,data:Mat({server:a,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield Object(ret.h)(cse.actions.setupErrorMessageAdded({message:Object(Ce.default)("There was a problem discovering devices")})),yield Object(ret.h)(cse.actions.devicesDiscoverFailed({server:a,error:d3e.a.toPlainErrorObject(e)}))}}function*Dat({payload:e}){var t;const{server:a}=e;try{const e=yield Object(ret.b)(d3e.a.get,"/media/grabbers/devices",{server:a});yield Object(ret.h)(cse.actions.devicesFetchSucceeded({server:a,data:Mat({server:a,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield Object(ret.h)(cse.actions.devicesFetchFailed({server:a,error:d3e.a.toPlainErrorObject(e)}))}}function*Pat({payload:e}){var t,a;const{server:n,deviceKey:i}=e;try{const e=yield Object(ret.b)(d3e.a.get,j.default.join(["/media/grabbers/devices",i,"channels"]),{server:n});yield Object(ret.h)(cse.actions.deviceChannelsFetchSucceeded({server:n,deviceKey:i,data:null!=(a=null==(t=e.data.MediaContainer)?void 0:t.DeviceChannel)?a:[]}))}catch(e){yield Object(ret.h)(cse.actions.setupErrorMessageAdded({message:Object(Ce.default)("There was a problem getting the channels for your device")})),yield Object(ret.h)(cse.actions.deviceChannelsFetchFailed({server:n,deviceKey:i,error:d3e.a.toPlainErrorObject(e)}))}}function*Tat({payload:e}){var t;const{server:a,deviceKey:n,source:i}=e;try{yield Object(ret.b)(d3e.a.post,j.default.join(["/media/grabbers/devices",n,"scan"]),{server:a,params:{source:i}})}catch(e){const a=d3e.a.toPlainErrorObject(e);yield Object(ret.h)(cse.actions.setupErrorMessageAdded({message:null!=(t=null==a?void 0:a.message)?t:Object(Ce.default)("There was a problem scanning channels")})),yield Object(ret.h)(cse.actions.deviceChannelsScanFailed())}}function*wat({payload:e}){const{server:t,deviceKey:a}=e;try{yield Object(ret.b)(d3e.a.del,j.default.join(["/media/grabbers/devices",a,"scan"]),{server:t})}catch(e){yield Object(ret.h)(cse.actions.setupErrorMessageAdded({message:Object(Ce.default)("There was a problem canceling the current channel scan")})),yield Object(ret.h)(cse.actions.deviceChannelsCancelScanFailed())}}function*Nat({payload:e}){const{server:t,deviceKey:a,mappings:n}=e;try{const e=yield Object(ret.j)(Wse(a)),i=[],r={};Object.values(n).forEach(({channelKey:t,deviceIdentifier:a,lineupIdentifier:n,enabled:s})=>{const o=e.channels.find(e=>e.identifier===a),l=null==o?void 0:o.drm;s&&t&&n&&!l&&(i.push(a),r[`channelMappingByKey[${a}]`]=t,r[`channelMapping[${a}]`]=n)}),yield Object(ret.b)(d3e.a.put,j.default.join(["/media/grabbers/devices",a,"channelmap"]),{server:t,params:{channelsEnabled:i.toString(),...r}}),yield Object(ret.h)(cse.actions.deviceChannelMappingsSaveSucceeded())}catch(e){yield Object(ret.h)(cse.actions.deviceChannelMappingsSaveFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*xat({payload:e}){const{server:t,deviceKey:a,enabled:n}=e;try{yield Object(ret.b)(d3e.a.put,j.default.join(["/media/grabbers/devices",a]),{server:t,params:{enabled:n?1:0}}),yield Object(ret.h)(cse.actions.deviceEnableSucceeded({deviceKey:a,enabled:n}))}catch{yield Object(ret.h)(cse.actions.deviceEnableFailed())}}function*Aat({payload:e}){var t;const{server:a,uri:n}=e;let i=Object(Ce.default)("There was a problem adding the device: {1}",n);try{const e=Mat({server:a,data:null==(t=(yield Object(ret.b)(d3e.a.post,"/media/grabbers/tv.plex.grabbers.hdhomerun/devices",{server:a,params:{uri:n}})).data)?void 0:t.MediaContainer});if(0===e.length)throw i=Object(Ce.default)("No device found at {1}",n),new Error;yield Object(ret.h)(cse.actions.deviceAddSucceeded({server:a,data:e[0]}))}catch(e){yield Object(ret.h)(cse.actions.setupErrorMessageAdded({message:i})),yield Object(ret.h)(cse.actions.deviceAddFailed({server:a,error:d3e.a.toPlainErrorObject(e)}))}}function*Lat({payload:e}){var t;const{server:a,dvrID:n}=e;try{const e=yield Object(ret.b)(d3e.a.get,j.default.join(["/livetv/dvrs",n]),{server:a});yield Object(ret.h)(cse.actions.dvrFetchSucceeded({dvr:Cat({server:a,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield Object(ret.h)(cse.actions.dvrFetchFailed({error:e}))}}function*kat({payload:e}){var t;const{server:a,device:n,channelMappings:i}=e;try{const{success:e,failure:r}=yield Object(ret.b)(Uat,a,n.key,i);if(r)throw new Error;if(e){const{selectedCountry:e,selectedLanguage:i}=yield Object(ret.j)(gse),r=yield Object(ret.j)(wse),s=yield Object(ret.b)(d3e.a.post,"/livetv/dvrs",{server:a,params:{device:n.uuid,lineup:r.map(e=>e.uuid),language:i.code,country:e.code}});yield Object(ret.h)(cse.actions.dvrSaveSucceeded({activityUUID:s.headers["x-plex-activity"],dvr:Cat({server:a,data:null==(t=s.data)?void 0:t.MediaContainer})})),yield Object(ret.h)(cse.actions.devicesFetchRequested({server:a})),yield htt(xS({serverEntityID:a.entityID}))}}catch(e){yield Object(ret.h)(cse.actions.setupErrorMessageAdded({message:Object(Ce.default)("There was a problem saving your DVR. Please try again.")})),yield Object(ret.h)(cse.actions.dvrSaveFailed())}}function*Rat({payload:e}){var t;const{server:a,dvrID:n,deviceKey:i,channelMappings:r}=e;try{const{success:e,failure:s}=yield Object(ret.b)(Uat,a,i,r);if(s)throw new Error;if(e){const e=yield Object(ret.j)(wse);yield Object(ret.b)(zat,a,n,e);const r=yield Object(ret.b)(d3e.a.put,j.default.join(["/livetv/dvrs",n,"devices",i]),{server:a});yield Object(ret.h)(cse.actions.addDVRDeviceSucceeded({activityUUID:r.headers["x-plex-activity"],dvr:Cat({server:a,data:null==(t=r.data)?void 0:t.MediaContainer})})),yield Object(ret.h)(cse.actions.devicesFetchRequested({server:a})),yield htt(xS({serverEntityID:a.entityID}))}}catch(e){yield Object(ret.h)(cse.actions.setupErrorMessageAdded({message:Object(Ce.default)("There was a problem adding a new device to your DVR. Please try again.")})),yield Object(ret.h)(cse.actions.addDVRDeviceFailed())}}function*zat(e,t,a){yield Object(ret.a)(a.map(a=>Object(ret.b)(d3e.a.put,j.default.join(["/livetv/dvrs",t,"lineups"]),{server:e,params:{lineup:a.uuid}})))}function*Uat(e,t,a){return yield Object(ret.h)(cse.actions.deviceChannelMappingsSaveRequested({server:e,deviceKey:t,mappings:a})),yield Object(ret.h)(cse.actions.deviceEnableRequested({server:e,deviceKey:t,enabled:!0})),yield Object(ret.i)({success:Object(ret.a)([Object(ret.k)(cse.actions.deviceChannelMappingsSaveSucceeded),Object(ret.k)(cse.actions.deviceEnableSucceeded)]),failure:Object(ret.i)([Object(ret.k)(cse.actions.deviceChannelMappingsSaveFailed),Object(ret.k)(cse.actions.deviceEnableFailed)])})}function*Vat(){for(;;){const e=yield Object(ret.n)(cse.actions.devicesDiscoverRequested,jat);yield Object(ret.k)(cse.actions.reset),yield Object(ret.c)(e)}}function*Bat(){for(;;){const e=yield Object(ret.n)(cse.actions.devicesFetchRequested,Dat);yield Object(ret.k)(cse.actions.reset),yield Object(ret.c)(e)}}function*Fat(){for(;;){const e=yield oet(cse.actions.deviceChannelsFetchRequested,Pat,({payload:e})=>e.deviceKey);yield Object(ret.k)(cse.actions.reset),yield Object(ret.c)(e)}}function*Hat(){for(;;){const e=yield oet(cse.actions.deviceChannelsScanRequested,Tat,({payload:e})=>e.deviceKey);yield Object(ret.k)(cse.actions.reset),yield Object(ret.c)(e)}}function*_at(){for(;;){const e=yield oet(cse.actions.deviceChannelsCancelScanRequested,wat,({payload:e})=>e.deviceKey);yield Object(ret.k)(cse.actions.reset),yield Object(ret.c)(e)}}function*Wat(){for(;;){const e=yield oet(cse.actions.deviceChannelMappingsSaveRequested,Nat,({payload:e})=>e.deviceKey);yield Object(ret.k)(cse.actions.reset),yield Object(ret.c)(e)}}function*Qat(){for(;;){const e=yield oet(cse.actions.deviceEnableRequested,xat,({payload:e})=>e.deviceKey);yield Object(ret.k)(cse.actions.reset),yield Object(ret.c)(e)}}function*Gat(){for(;;){const e=yield Object(ret.n)(cse.actions.dvrFetchRequested,Lat);yield Object(ret.k)(cse.actions.reset),yield Object(ret.c)(e)}}function*Kat(){for(;;){const e=yield Object(ret.n)(cse.actions.deviceAddRequested,Aat);yield Object(ret.k)(cse.actions.reset),yield Object(ret.c)(e)}}function*Yat(){for(;;){const e=yield Object(ret.n)(cse.actions.dvrSaveRequested,kat);yield Object(ret.k)(cse.actions.reset),yield Object(ret.c)(e)}}function*qat(){for(;;){const e=yield Object(ret.n)(cse.actions.addDVRDeviceRequested,Rat);yield Object(ret.k)(cse.actions.reset),yield Object(ret.c)(e)}}function*Zat(){yield Object(ret.a)([Object(ret.f)(Vat),Object(ret.f)(Bat),Object(ret.f)(Fat),Object(ret.f)(Hat),Object(ret.f)(_at),Object(ret.f)(Wat),Object(ret.f)(Qat),Object(ret.f)(Kat),Object(ret.f)(Gat),Object(ret.f)(Yat),Object(ret.f)(qat)])}function Xat({data:e,lineupUUID:t}){var a;return(null!=(a=e.Channel)?a:[]).map(e=>({...e,lineupUUID:t}))}function*Jat(e,t){return{lineupUUID:t,channels:Xat({server:e,lineupUUID:t,data:(yield Object(ret.b)(d3e.a.get,"/livetv/epg/channels",{server:e,params:{lineup:t}})).data.MediaContainer})}}function*$at({payload:e}){var t,a,n;const{server:i,device:r,lineups:s}=e;try{const e=yield Object(ret.a)(s.map(e=>Object(ret.b)(Jat,i,e.uuid))),t=yield Object(ret.b)(d3e.a.get,"/livetv/epg/channelmap",{server:i,params:{device:r.uuid,lineup:s.map(e=>e.uuid)}}),a=function({data:e}){var t;return(null!=(t=e.ChannelMapping)?t:[]).map(e=>({...e,enabled:!!e.lineupIdentifier}))}({server:i,data:t.data.MediaContainer});yield Object(ret.h)(mse.actions.channelMappingsFetchSucceeded({channelMappings:a,lineupChannels:e}))}catch(e){yield Object(ret.h)(mse.actions.channelMappingsFetchFailed({error:d3e.a.toPlainErrorObject(e)}));let i=Object(Ce.default)("There was a problem fetching channel mappings. Please try again later.");(null==(n=null==(a=null==(t=e.response)?void 0:t.data)?void 0:a.MediaContainer)?void 0:n.message)&&(i=e.response.data.MediaContainer.message),yield Object(ret.h)(cse.actions.setupErrorMessageAdded({message:i}))}}function*ent({payload:e}){const{server:t,device:a,lineupGroup:n}=e;try{yield Object(ret.h)(cse.actions.setupErrorMessageRemoved());const e=yield Object(ret.b)(d3e.a.get,j.default.join("/livetv/epg/lineup",{device:a.uuid,lineupGroup:n.uuid}),{server:t});yield Object(ret.h)(mse.actions.bestEPGLineupSearchSucceeded({lineupGroup:n,data:e.headers["x-plex-activity"]}))}catch(e){yield Object(ret.h)(cse.actions.setupErrorMessageAdded({message:Object(Ce.default)("There was a problem mapping channels")}))}}function*tnt({payload:e}){var t,a;const{server:n}=e;try{const e=yield Object(ret.b)(d3e.a.get,"/livetv/epg/countries",{server:n});yield Object(ret.h)(mse.actions.epgCountriesFetchSucceeded({server:n,data:null!=(a=null==(t=e.data.MediaContainer)?void 0:t.Country)?a:[]}))}catch(e){yield Object(ret.h)(mse.actions.epgCountriesFetchFailed({server:n,error:d3e.a.toPlainErrorObject(e)}))}}function*ant({payload:e}){var t,a;const{server:n,country:i}=e;try{const e=yield Object(ret.b)(d3e.a.get,j.default.join(["/livetv/epg/countries",i.key,"regions"]),{server:n});yield Object(ret.h)(mse.actions.epgCountryRegionsFetchSucceeded({data:null!=(a=null==(t=e.data.MediaContainer)?void 0:t.Region)?a:[]}))}catch(e){yield Object(ret.h)(mse.actions.epgCountryRegionsFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*nnt({payload:e}){var t,a;const{server:n}=e;try{const e=yield Object(ret.b)(d3e.a.get,"/livetv/epg/languages",{server:n});yield Object(ret.h)(mse.actions.epgLanguagesFetchSucceeded({data:null!=(a=null==(t=e.data.MediaContainer)?void 0:t.Language)?a:[]}))}catch(e){yield Object(ret.h)(mse.actions.epgLanguagesFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*int({payload:e}){var t,a;const{server:n,country:i,region:r,postalCode:s}=e,o=["/livetv/epg/countries",i.key],l={};i.flavor===Yre.Regions&&r?o.push(r.key):l.postalCode=s;const c=j.default.join(o,l);try{const e=yield Object(ret.b)(d3e.a.get,c,{server:n}),{MediaContainer:i}=e.data;yield Object(ret.h)(mse.actions.epgLineupGroupFetchSucceeded({data:{uuid:null!=(t=null==i?void 0:i.uuid)?t:"",epgLineups:null!=(a=null==i?void 0:i.Lineup)?a:[]}}))}catch(e){yield Object(ret.h)(mse.actions.epgLineupGroupFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*rnt({payload:e}){(yield Object(ret.j)(gse)).selectedLineupGroups.find(t=>t.uuid===e.lineupGroup.uuid)?yield Object(ret.h)(cse.actions.setupErrorMessageAdded({message:Object(Ce.default)("It looks like you have already set up a lineup for this location.")})):yield Object(ret.h)(mse.actions.selectedEPGLineupGroupAddSucceeded({lineupGroup:e.lineupGroup}))}function*snt(){for(;;){const e=yield Object(ret.n)(mse.actions.channelMappingsFetchRequested,$at);yield Object(ret.k)(mse.actions.reset),yield Object(ret.c)(e)}}function*ont(){for(;;){const e=yield Object(ret.n)(mse.actions.bestEPGLineupSearchRequested,ent);yield Object(ret.k)(mse.actions.reset),yield Object(ret.c)(e)}}function*lnt(){for(;;){const e=yield Object(ret.n)(mse.actions.epgCountriesFetchRequested,tnt);yield Object(ret.k)(mse.actions.reset),yield Object(ret.c)(e)}}function*cnt(){for(;;){const e=yield Object(ret.n)(mse.actions.epgCountryRegionsFetchRequested,ant);yield Object(ret.k)(mse.actions.reset),yield Object(ret.c)(e)}}function*dnt(){for(;;){const e=yield Object(ret.n)(mse.actions.epgLanguagesFetchRequested,nnt);yield Object(ret.k)(mse.actions.reset),yield Object(ret.c)(e)}}function*unt(){for(;;){const e=yield Object(ret.n)(mse.actions.epgLineupGroupFetchRequested,int);yield Object(ret.k)(mse.actions.reset),yield Object(ret.c)(e)}}function*pnt(){for(;;){const e=yield Object(ret.n)(mse.actions.selectedEPGLineupGroupAddRequested,rnt);yield Object(ret.k)(mse.actions.reset),yield Object(ret.c)(e)}}function*mnt(){yield Object(ret.a)([Object(ret.f)(snt),Object(ret.f)(ont),Object(ret.f)(lnt),Object(ret.f)(cnt),Object(ret.f)(dnt),Object(ret.f)(unt),Object(ret.f)(pnt)])}function*hnt(){yield Object(ret.a)([Object(ret.f)(Zat),Object(ret.f)(mnt)])}var gnt=a("j7uO");function*ynt({payload:e}){const{hubsSources:t,hubsStates:a,userServices:n}=e;yield Object(ret.a)(t.reduce((e,t)=>{const i=a.find(e=>e.key===t.key);return i&&e.push(Object(ret.b)(vnt,t,i,n)),e},[]))}function*fnt({payload:e}){const{hubsSource:t,userServices:a}=e,{key:n,source:i,contentDirectoryID:r,server:s,provider:o,feature:l}=t;try{if(!s||!o||!(null==l?void 0:l.key))throw new Error("Missing server, provider, or a provider feature with a key that can be used to fetch hubs");if(Object(gnt.a)(a,l.requires)){const e={contentDirectoryID:r.join(","),includeMeta:1,excludeFields:"summary"};l.type===St.e.Promoted&&Object.assign(e,{count:Ec.b,includeGames:1,includeRecentChannels:1,excludeContinueWatching:1});const t=yield Object(ret.b)(d3e.a.get,l.key,{server:s,provider:o,params:e}),a=Wtt({server:s,provider:o,contentDirectoryID:r,excludedHubIdentifiers:l.type===St.e.Promoted?[cR.ContinueWatching,cR.OnDeck]:[],data:t.data});yield Object(ret.a)([Object(ret.h)(ja.a.actions.added({metadataLists:a.metadataLists,metadataItemStates:a.metadataItemStates})),Object(ret.h)(TR.actions.fetchSucceeded({key:n,data:a.hubs}))])}else yield Object(ret.h)(TR.actions.fetchSucceeded({key:n,data:[]}))}catch(e){yield Object(ret.h)(TR.actions.fetchFailed({key:n,source:i,contentDirectoryID:r,error:d3e.a.toPlainErrorObject(e)}))}}function*bnt(){yield Object(ret.e)(6e4),yield Object(ret.h)(TR.actions.markStale())}function*vnt(e,t,a){const{key:n,source:i,contentDirectoryID:r}=e;try{const n=t.isSourceReady&&!t.isListPending&&!t.isListPopulated&&!t.isListError,i=!!t.contentDirectoryID.length&&!Object(IO.a)(t.contentDirectoryID,r);(n||i)&&(yield Object(ret.h)(TR.actions.fetchRequested({hubsSource:e,userServices:a})))}catch(e){yield Object(ret.h)(TR.actions.fetchFailed({key:n,source:i,contentDirectoryID:r,error:d3e.a.toPlainErrorObject(e)}))}}function*Int(){yield Object(ret.l)(TR.actions.populateAllRequested,ynt)}function*Snt(){for(;;){const e=yield set(TR.actions.fetchRequested,fnt,({payload:e})=>e.hubsSource.key);yield Object(ret.k)(TR.actions.markStaleRequested),yield Object(ret.c)(e)}}function*Ent(){for(;;)yield Object(ret.k)(TR.actions.markStaleRequested),yield Object(ret.i)({task:Object(ret.b)(bnt),cancel:Object(ret.k)(TR.actions.populateAllRequested)})}function*Ont(){yield Object(ret.a)([Object(ret.f)(Int),Object(ret.f)(Snt),Object(ret.f)(Ent)])}function*Mnt({payload:e}){const{server:t,importAll:a,sectionID:n}=e;try{yield Object(ret.b)(d3e.a.put,"/playlists/import/itunes",{server:t,params:{sectionID:n,force:a?1:0}}),yield Object(ret.h)(QS.actions.importSucceeded())}catch(e){yield Object(ret.h)(QS.actions.importFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*Cnt(){yield Object(ret.m)(QS.actions.importRequested.type,Mnt)}function*jnt(){yield Object(ret.a)([Object(ret.f)(Cnt)])}var Dnt=a("uF0K");function*Pnt(){yield Object(ret.h)(TR.actions.reset()),yield Object(ret.h)(Em.actions.reset())}function*Tnt({payload:e}){const{server:t,sourceURI:a}=e;try{const e=yield Object(ret.b)(Ant,t,a);yield Object(ret.h)(ure.actions.hubsFetchSucceeded({sourceURI:a,options:e}))}catch(e){yield Object(ret.h)(ure.actions.hubsFetchFailed({sourceURI:a,error:d3e.a.toPlainErrorObject(e)}))}}function*wnt({payload:e}){var t;const{server:a,sourceURI:n,options:i,fromIndex:r,toIndex:s}=e;try{const e=i[s].identifier,r=null==(t=i.find((e,t)=>t===s-1))?void 0:t.identifier,{key:o}=Object(Ia.a)(n);yield Object(ret.b)(d3e.a.put,j.default.join([o,e,"move"]),{server:a,params:{after:r}}),yield Object(ret.h)(ure.actions.reorderSucceeded({sourceURI:n})),yield Object(ret.h)(ure.actions.markHubsStale())}catch(e){const t=Array.from(i),[a]=t.splice(s,1);t.splice(r,0,a),yield Object(ret.h)(ure.actions.reorderFailed({sourceURI:n,options:t,error:d3e.a.toPlainErrorObject(e)}))}}function*Nnt({payload:e}){const{server:t,sourceURI:a}=e;try{const{key:e}=Object(Ia.a)(a);yield Object(ret.b)(d3e.a.del,e,{server:t});const n=yield Object(ret.b)(Ant,t,a);yield Object(ret.h)(ure.actions.resetSucceeded({sourceURI:a,options:n})),yield Object(ret.h)(ure.actions.markHubsStale())}catch(e){yield Object(ret.h)(ure.actions.resetFailed({sourceURI:a,error:d3e.a.toPlainErrorObject(e)}))}}function*xnt({payload:e}){const{server:t,sourceURI:a,options:n,promoted:i}=e;try{const e={...n,...i};yield Object(ret.h)(ure.actions.promoteChanged({sourceURI:a,options:e}));const{key:r}=Object(Ia.a)(a);yield Object(ret.b)(d3e.a.put,j.default.join([r,e.identifier]),{server:t,params:{promotedToRecommended:Object(Dnt.a)(e.promotedToRecommended),promotedToOwnHome:Object(Dnt.a)(e.promotedToOwnHome),promotedToSharedHome:Object(Dnt.a)(e.promotedToSharedHome)}}),yield Object(ret.h)(ure.actions.markHubsStale())}catch(e){yield Object(ret.h)(ure.actions.promoteChanged({sourceURI:a,options:n}))}}function*Ant(e,t){const{key:a}=Object(Ia.a)(t);return(yield Object(ret.b)(d3e.a.get,a,{server:e})).data.MediaContainer.Hub}function*Lnt(){yield Object(ret.m)(ure.actions.markHubsStale,Pnt)}function*knt(){yield Object(ret.m)([ure.actions.hubsFetchRequested,ure.actions.resetSucceeded],Tnt)}function*Rnt(){yield Object(ret.l)(ure.actions.reorderRequested,wnt)}function*znt(){yield Object(ret.m)(ure.actions.resetRequested,Nnt)}function*Unt(){yield Object(ret.l)(ure.actions.promoteRequested,xnt)}function*Vnt(){yield Object(ret.a)([Object(ret.f)(Lnt),Object(ret.f)(knt),Object(ret.f)(Rnt),Object(ret.f)(znt),Object(ret.f)(Unt)])}function Bnt(e=[]){return e.reduce((e,t)=>(t.key===fQ.ViewedAt?e["viewedAt>"]=t.value:e[t.key]=t.value,e),{})}function*Fnt({payload:e}){try{const{server:t,provider:a,sort:n,filters:i,startIndex:r,size:s,isPrepend:o}=e,l=yield Object(ret.b)(cQ.fetchRange,"/status/sessions/history/all",{server:t,provider:a,params:{sort:n,...Bnt(i)},startIndex:r,size:s,isPrepend:o});yield Object(ret.h)(uQ.actions.fetchRangeSucceeded({data:l}))}catch(e){yield Object(ret.h)(uQ.actions.fetchRangeFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*Hnt(){for(;;){const e=yield Object(ret.m)(uQ.actions.fetchRangeRequested,Fnt);yield Object(ret.k)(uQ.actions.reset),yield Object(ret.c)(e)}}function*_nt(){yield Object(ret.a)([Object(ret.f)(Hnt)])}function Wnt(e){const{source:t,childrenKey:a,popularLeaves:n,extras:i}=e,r=function(e){const{skipParent:t,parentKey:a,grandparentKey:n}=e,i=t?n:a,r=t?"grandchildren":"children";if(i)return j.default.join([i,r],{excludeAllLeaves:1});return}(e),s=null==n?void 0:n.key,o=i?j.default.join([e.key,"extras"]):void 0;return{descendantListSourceURI:a?j.default.join([t,a]):void 0,siblingListSourceURI:Qnt(e)&&r?j.default.join([t,r]):void 0,popularLeavesSourceURI:s?j.default.join([t,s]):void 0,extrasSourceURI:o?j.default.join([t,o]):void 0}}function Qnt(e){return e.subtype!==Ha.c.Webshow&&e.subtype!==Ha.c.Podcast&&!Zr(e)}function*Gnt({payload:e}){const t=yield Object(ret.j)(t3);try{const a=yield Object(ret.b)(Znt,e.server,e.provider,e.metadataKey);yield Object(ret.b)(Xnt,e.server,e.provider,a,t)}catch(e){yield Object(ret.h)(H5.actions.metadataItemFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*Knt({payload:e}){var t;try{const a=yield Object(ret.j)(t3),n=null==(t=a.metadata.metadataItem)?void 0:t.key;if(!n)return;const i=yield Object(ret.b)(Znt,e.server,e.provider,n);yield Object(ret.b)(Xnt,e.server,e.provider,i,a)}catch(e){}}function*Ynt({payload:e}){const{server:t,provider:a,metadataKey:n}=e,i=!t.version||Object(oo.a)(t.version,so.a.simpleRelatedKey)?j.default.join([n,"related"]):j.default.join([n.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]);try{const e=Wtt({server:t,provider:a,data:(yield Object(ret.b)(d3e.a.get,i,{server:t,provider:a,params:{includeAugmentations:!t.version||Object(oo.a)(t.version,so.a.augmentedHubsInRelatedHubs)?1:0,includeExternalMetadata:1,includeMeta:1}})).data});yield Object(ret.a)([Object(ret.h)(ja.a.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),Object(ret.h)(H5.actions.relatedHubsFetchSucceeded({hubs:e.hubs}))])}catch(e){yield Object(ret.h)(H5.actions.relatedHubsFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*qnt({payload:e}){const{server:t,provider:a,augmentationKey:n}=e;try{const e=Wtt({server:t,provider:a,data:(yield Object(ret.b)(d3e.a.get,n,{server:t,provider:a,params:{wait:1}})).data});yield Object(ret.a)([Object(ret.h)(ja.a.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),Object(ret.h)(H5.actions.augmentedHubsFetchSucceeded({hubs:e.hubs}))])}catch(e){yield Object(ret.h)(H5.actions.augmentedHubsFetchFailed({error:d3e.a.toPlainErrorObject(e)}))}}function*Znt(e,t,a){const n=(yield Object(ret.b)(d3e.a.get,a,{server:e,provider:t,params:{includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeReviews:1,includeChapters:1,includeStations:1,includeExternalMedia:1,asyncAugmentMetadata:1,asyncCheckFiles:1,asyncRefreshAnalysis:1,asyncRefreshLocalMediaAgent:1}})).data.MediaContainer,{Metadata:i=[],...r}=n,[s]=i;if(!s)throw new Error("The response did not contain a metadata item");const o=Object(ptt.a)({server:e,provider:t,data:s,container:r}),{descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u}=Wnt(o.metadataItem),p={metadataItem:o.metadataItem,metadataItemStates:o.metadataItemStates,descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u};return yield Object(ret.h)(H5.actions.metadataItemFetchSucceeded(p)),yield Object(ret.h)(Ki.a.actions.metadataItemStatesNormalized({metadataItemStates:o.metadataItemStates})),p}function*Xnt(e,t,a,n){var i,r;const{descendantListSourceURI:s,siblingListSourceURI:o,popularLeavesSourceURI:l,extrasSourceURI:c}=n,{metadataItem:d,descendantListSourceURI:u,siblingListSourceURI:p,popularLeavesSourceURI:m,extrasSourceURI:h}=a,g=[];u&&(u===s?yield Object(ret.h)((null==d?void 0:d.type)===Ha.d.Album?ja.a.actions.throttledFetchAllRequested({server:e,provider:t,sourceURI:u}):ja.a.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:u})):g.push(Object(ret.b)(Jnt,{server:e,provider:t,sourceURI:u,fetchAll:d.type===Ha.d.Album}))),p&&(p===o?yield Object(ret.h)(ja.a.actions.throttledFetchAllRequested({server:e,provider:t,sourceURI:p})):g.push(Object(ret.b)(Jnt,{server:e,provider:t,sourceURI:p,fetchAll:!0}))),m&&(m===l?yield Object(ret.h)(ja.a.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:m})):g.push(Object(ret.b)(Jnt,{server:e,provider:t,sourceURI:m,items:null==(i=d.popularLeaves)?void 0:i.items}))),h&&(h===c?yield Object(ret.h)(ja.a.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:h})):g.push(Object(ret.b)(Jnt,{server:e,provider:t,sourceURI:h,items:d.extras,totalSize:null==(r=d.extras)?void 0:r.length}))),yield Object(ret.a)(g)}function*Jnt({server:e,provider:t,sourceURI:a,items:n=[],totalSize:i,fetchAll:r}){if(yield Object(ret.h)(ja.a.actions.added({metadataLists:[{sourceURI:a,items:n,totalSize:i,offset:0,allowSync:!1}],metadataItemStates:{}})),null==i)if(r)try{yield Object(ret.h)(ja.a.actions.fetchAllRequested({server:e,provider:t,sourceURI:a}))}catch(e){yield Object(ret.h)(ja.a.actions.fetchAllFailed({error:d3e.a.toPlainErrorObject(e),sourceURI:a}))}else try{yield Object(ret.h)(ja.a.actions.fetchRangeRequested({server:e,provider:t,sourceURI:a,startIndex:0,size:20}))}catch(e){yield Object(ret.h)(ja.a.actions.fetchRangeFailed({error:d3e.a.toPlainErrorObject(e),sourceURI:a}))}}function*$nt(){for(;;){const e=yield Object(ret.n)(H5.actions.metadataItemFetchRequested,Gnt);yield Object(ret.k)(H5.actions.reset),yield Object(ret.c)(e)}}function*eit(){for(;;){const e=yield Object(ret.n)(H5.actions.relatedHubsFetchRequested,Ynt);yield Object(ret.k)(H5.actions.reset),yield Object(ret.c)(e)}}function*tit(){for(;;){const e=yield Object(ret.n)(H5.actions.augmentedHubsFetchRequested,qnt);yield Object(ret.k)(H5.actions.reset),yield Object(ret.c)(e)}}function*ait(){for(;;){const e=yield Object(ret.n)(H5.actions.metadataItemRepopulateRequested,Knt),t=yield Object(ret.k)([H5.actions.reset,Ki.a.actions.playedStatusUpdateRequested,Ki.a.actions.toggleWatchlistRequested,Ki.a.actions.toggleSavedRequested,Ki.a.actions.streamSelectRequested,Ki.a.actions.streamDeleteRequested,Ki.a.actions.preferenceChanged]);if(t.type!==H5.actions.reset){(yield Object(ret.j)(t3)).metadata.isPending&&(yield Object(ret.h)(Ki.a.actions.repopulateCanceled({sourceURI:t.payload.sourceURI})))}yield Object(ret.c)(e)}}function*nit(){yield Object(ret.a)([Object(ret.f)($nt),Object(ret.f)(ait),Object(ret.f)(eit),Object(ret.f)(tit)])}var iit=Zt(tC.a);function*rit({payload:e}){const{password:t}=e,a=yield iat(iit);try{const e=yield Object(ret.b)(d3e.a.post,"/api/v2/user/two_factor",{server:a},{password:t});yield Object(ret.h)(UAe.actions.createSecretSucceeded({server:a,provisioningUri:e.data.provisioningUri,secret:e.data.secret}))}catch(e){yield Object(ret.h)(UAe.actions.createSecretFailed({server:a,error:d3e.a.toPlainErrorObject(e)}))}}function*sit({payload:e}){const{enabled:t,verificationCode:a}=e,n=yield iat(iit);try{if(t){const e=yield Object(ret.b)(d3e.a.put,"/api/v2/user/two_factor",{server:n},{verificationCode:a,resetDevices:!1});yield Object(ret.h)(UAe.actions.toggleSucceeded({enabled:!0,codes:e.data.codes}))}else yield Object(ret.b)(d3e.a.del,"/api/v2/user/two_factor",{server:n,params:{verificationCode:a}}),yield Object(ret.h)(UAe.actions.toggleSucceeded({enabled:!1}));yield htt(Object(VS.K)({twoFactorEnabled:t}))}catch(e){yield Object(ret.h)(UAe.actions.toggleFailed({server:n,error:d3e.a.toPlainErrorObject(e)}))}}function*oit({payload:e}){const{password:t,verificationCode:a}=e,n=yield iat(iit);try{const e=yield Object(ret.b)(d3e.a.post,"/api/v2/user/two_factor/backup_codes",{server:n},{password:t,verificationCode:a});yield Object(ret.h)(UAe.actions.generateRecoveryCodesSucceeded({codes:e.data.codes}))}catch(e){yield Object(ret.h)(UAe.actions.generateRecoveryCodesFailed({server:n,error:d3e.a.toPlainErrorObject(e)}))}}function*lit(){for(;;){const e=yield Object(ret.m)(UAe.actions.createSecretRequested,rit);yield Object(ret.k)(UAe.actions.reset),yield Object(ret.c)(e)}}function*cit(){for(;;){const e=yield Object(ret.m)(UAe.actions.toggleRequested,sit);yield Object(ret.k)(UAe.actions.reset),yield Object(ret.c)(e)}}function*dit(){for(;;){const e=yield Object(ret.m)(UAe.actions.generateRecoveryCodesRequested,oit);yield Object(ret.k)(UAe.actions.reset),yield Object(ret.c)(e)}}function*uit(){yield Object(ret.a)([Object(ret.f)(lit),Object(ret.f)(cit),Object(ret.f)(dit)])}function*pit(){yield Object(ret.a)([Object(ret.f)(ftt),Object(ret.f)(jtt),Object(ret.f)(Vtt),Object(ret.f)(tat),Object(ret.f)(Eat),Object(ret.f)(hnt),Object(ret.f)(Ont),Object(ret.f)(jnt),Object(ret.f)(Vnt),Object(ret.f)(_nt),Object(ret.f)(nit),Object(ret.f)(uit)])}const mit=Object(iet.a)(),hit=Object(jr.a)({reducer:H2e,middleware:[mit]});mit.run((function*(){yield Object(ret.a)([Object(ret.f)(utt),Object(ret.f)(pit)])}));var git=hit;var yit=XE.a.extend({name:"StoreModel",initialize(){this._currentState=git.getState(),git.subscribe(()=>{const e=git.getState();this.trigger("statechange",this,e,this._currentState),this._currentState=e})},getState:()=>git.getState(),toJSON:()=>git.getState(),dispatch(e){git.dispatch(e)}});var fit=T9e.extend({name:"DesktopAppModel",sessionAttrs:{clientID:QE.a.string,anonymousClientID:QE.a.string,authorized:QE.a.boolean.isRequired,skipSignIn:QE.a.boolean.isRequired,isWaitingForServers:QE.a.boolean.isRequired,isWaitingForPrimaryServer:QE.a.boolean.isRequired,history:QE.a.array.isRequired,drmType:QE.a.oneOf(...Object.values(sBe)),isFullscreen:QE.a.boolean.isRequired,castApiAvailability:sOe.isRequired,settings:QE.a.instanceOf(q4e)},sessionRelations:{entities:{relationClass:function(e){const t={};for(const a in e){t[e[a]]={relationClass:k9e}}return XE.a.extend({name:"EntitiesModel",sessionRelations:t})}(wt)},servers:{relationClass:A9e},cloudServer:{relationClass:w9e.a,deferred:!0},primaryServer:{relationClass:zU.e,deferred:!0},companionServer:{relationClass:zU.e,deferred:!0},transientServer:{relationClass:I6e,deferred:!0},user:{relationClass:net,deferred:!0},remotePlayer:{relationClass:XE.a,deferred:!0},deviceSettings:{relationClass:T4e},ui:{relationClass:V7e},v4:{relationClass:yit}},defaults(){const e=new w9e.a({machineIdentifier:tC.a},{parent:this});return{authorized:!1,skipSignIn:!1,isWaitingForServers:!1,isWaitingForPrimaryServer:!1,history:[],cloudServer:e,user:new net({},{server:e,parent:this}),isFullscreen:!1,castApiAvailability:1,settings:new q4e}},dispatch(e){this.get("v4").dispatch(e)}});var bit=XE.a.extend({name:"OauthProviderUsageModel",syncedAttrs:{federatedAuth:QE.a.boolean,other:QE.a.boolean}});var vit=XE.a.extend({name:"OauthProviderModel",rootPropertyName:"provider",sessionAttrs:{isUnlinking:QE.a.boolean.isRequired,unlinkError:QE.a.object},syncedAttrs:{authName:QE.a.string,image:QE.a.string,label:QE.a.string.isRequired,linked:QE.a.boolean.isRequired,nickname:QE.a.string,url:QE.a.string.isRequired},syncedRelations:{usage:{relationClass:bit}},defaults:{isUnlinking:!1}});var Iit=CS.a.extend({name:"OauthProviderCollection",model:vit,context:["server"],url:"/api/v2/authentications/providers",responseType:qP.a});var Sit=XE.a.extend({name:"CloudServerFlexModel",context:["server"],sessionAttrs:{isOauthProvidersPending:QE.a.boolean,isOauthProvidersPopulated:QE.a.boolean,oauthProvidersError:QE.a.object},sessionRelations:{oauthProviders:{relationClass:Iit}},defaults:{isOauthProvidersPending:!1,isOauthProvidersPopulated:!1,oauthProvidersError:null}});var Eit=XE.a.extend({name:"PlexPlayerModel",context:["server","baseURL"],rootPropertyName:"Server",sessionAttrs:{volume:QE.a.integer},syncedAttrs:{machineIdentifier:QE.a.string,name:QE.a.string,title:QE.a.string,address:QE.a.string,port:QE.a.string,deviceClass:QE.a.string,version:QE.a.string,product:QE.a.string,protocol:QE.a.string,protocolVersion:QE.a.string,protocolCapabilities:QE.a.list},derivedAttrs:{friendlyName(){return this.get("title")||this.get("name")||this.get("product")},playerIdentifier(){return`${this.baseURL}:${this.get("machineIdentifier")}`}},defaults:{volume:100}});var Oit=CS.a.extend({name:"PlexPlayerCollection",context:["server"],model:Eit,url:"/clients",augmentResponse(e){const t=Object(E.c)("appModel").get("clientID"),a=parseInt(e.size,10);return 1===a&&e.Server.machineIdentifier===t?(delete e.Server,e.size="0"):a>1&&(e.Server=e.Server.filter(e=>e.machineIdentifier!==t),e.size=e.Server.length.toString()),e}});var Mit=XE.a.extend({name:"ActivityModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Activity",responseType(){return Object(c6e.a)(this.server)},sessionAttrs:{synthetic:QE.a.boolean},syncedAttrs:{uuid:QE.a.string,userID:QE.a.integer,title:QE.a.string,subtitle:QE.a.string,progress:QE.a.integer,event:QE.a.string,cancellable:QE.a.boolean,type:QE.a.string,Context:QE.a.object,Response:QE.a.object},defaults:()=>({Context:{},Response:{}})});var Cit=CS.a.extend({name:"ActivityCollection",context:["server"],model:Mit,url:"/activities",responseType(){return Object(c6e.a)(this.server)}});var jit=$7.a.extend({pageSize:10,pages:function(){return Math.max(Math.ceil(this.length/this.pageSize),1)},page:function(e,t){t||(t={});let a,n=0;return a=t.reverse?this.length-e*this.pageSize:e*this.pageSize-this.pageSize,a<0&&(n=a,a=0),this.models.slice(a,a+this.pageSize+n)}});let Dit=0;var Pit=K7.a.extend({idAttribute:"id",parse:function(e){const t=e;return t.time=new Date,t.id="evt"+Dit++,"preference"===t._type&&(t.value=String(t.value)),t}});var Tit=jit.extend({model:Pit,url:"/servers",pageSize:20,limit:1e3,initialize:function(){this.startTime=new Date,this.listenTo(this.server,"socket:setting",this.onSettingChange),this.listenTo(this.server,"socket:timeline",this.onTimeline),this.listenTo(this.server,"socket:status",this.onStatus),this.listenTo(this.server,"socket:playing",this.onPlaying),this.listenTo(this.server,"socket:websocket",this.onWebSocket)},add:function(e){this.length+1>this.limit&&this.remove(this.at(0)),jit.prototype.add.apply(this,arguments)},onSettingChange:function(e){e.label&&this.add(M.a.extend({_type:"setting"},e),{parse:!0})},onTimeline:function(e){1===e.state||e.sectionID<0||this.add(M.a.extend({_type:"timeline"},e),{parse:!0})},onStatus:function(e){"ProgressNotification"!==e._elementType&&this.add(M.a.extend({_type:"status"},e),{parse:!0})},onPlaying:function(e){this.add(M.a.extend({_type:"playing"},e),{parse:!0})},onWebSocket:function(e){this.add(M.a.extend({_type:"websocket"},e),{parse:!0})}});var wit=XE.a.extend({name:"TranscodeJobModel",context:["server"],entityType:fo.o,entityID(e=this.state){return Object(jt.a)(this.entityType,e.syncItemId,this.server.entityID())},idAttribute:"syncItemId",rootPropertyName:"TranscodeJob",syncedAttrs:{syncItemId:QE.a.integer,syncItemTitle:QE.a.string,key:QE.a.string,type:QE.a.string,progress:QE.a.float,speed:QE.a.float,remaining:QE.a.string,size:QE.a.string,title:QE.a.string,thumb:QE.a.string},responseType(){return Object(c6e.a)(this.server)}});var Nit=CS.a.extend({name:"TranscodeJobCollection",context:["server"],model:wit,cache:new ZE.a,url:"/sync/transcodeQueue"});var xit=XE.a.extend({name:"BackgroundTranscodeJobModel",context:["server"],entityType:wt.BACKGROUND_TRANSCODE_JOBS,entityID(e=this.state){return Object(jt.a)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"TranscodeJob",syncedAttrs:{queueItemID:QE.a.integer,generatorID:QE.a.integer,targetTagID:QE.a.integer,syncItemId:QE.a.integer,syncItemTitle:QE.a.string,key:QE.a.string,type:QE.a.string,progress:QE.a.float,speed:QE.a.float,remaining:QE.a.integer,size:QE.a.integer,ratingKey:QE.a.string,title:QE.a.string,thumb:QE.a.string}});var Ait=CS.a.extend({name:"BackgroundTranscodeJobCollection",model:xit,context:["server"],url:"/status/sessions/background"});var Lit=XE.a.extend({name:"NeighborhoodDeviceModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Device",syncedAttrs:{uuid:QE.a.string.isRequired,address:QE.a.string.isRequired,title:QE.a.string,manufacturer:QE.a.string,model:QE.a.string,modelNumber:QE.a.string,serialNumber:QE.a.string}});var kit=CS.a.extend({name:"NeighborhoodDeviceCollection",context:["server"],model:Lit,url:"neighborhood/devices"});var Rit=XE.a.extend({name:"ServerFlexModel",context:["server"],sessionAttrs:{alerts:QE.a.instanceOf(Tit).isRequired,hasiTunes:QE.a.boolean,isHasiTunesPopulated:QE.a.boolean,isSettingsPending:QE.a.boolean,isSettingsPopulated:QE.a.boolean,settingsError:QE.a.object,isLibrariesPending:QE.a.boolean.isRequired,isLibrariesPopulated:QE.a.boolean.isRequired,librariesError:QE.a.object,cleanBundlesError:QE.a.string,optimizeDatabaseError:QE.a.string},sessionRelations:{settings:{relationClass:Z7.a,rootPropertyName:"Setting"},cloudAccount:{relationClass:zme},libraries:{relationClass:Lve.a},activities:{relationClass:Cit},transcodeJobs:{relationClass:Nit},backgroundTranscodeJobs:{relationClass:Ait},players:{relationClass:Oit},neighborhoodDevices:{relationClass:kit},update:{relationClass:O9e}},defaults(){return{alerts:new Tit([],{server:this.server}),hasiTunes:!1,isHasiTunesPopulated:!1,isSettingsPending:!0,isSettingsPopulated:!1,settingsError:null,isLibrariesPending:!0,isLibrariesPopulated:!1,librariesError:null,cleanBundlesError:null,optimizeDatabaseError:null}}});var zit=P4e.a.extend({name:"StoredUserExperienceSettingsModel",syncedAttrs:{...V4e.prototype.syncedAttrs,isDirty:QE.a.boolean},syncedRelations:{...V4e.prototype.syncedRelations}});var Uit=CS.a.extend({name:"CloudPlayerCollection",context:["server","baseURL"],model:Eit,augmentResponse:e=>(e.Server||(e.Server=e.Player,delete e.Player),e)});var Vit=XE.a.extend({name:"CloudCompanionModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Companion",syncedAttrs:{identifier:QE.a.string,title:QE.a.string,baseURL:QE.a.string,linkURL:QE.a.string,provides:QE.a.list},sessionAttrs:{linkState:QE.a.string},sessionRelations:{cloudPlayers:{relationClass:Uit,options(){return{url:this.get("baseURL")+"/resources",baseURL:this.get("baseURL")}}}},defaults:{linkState:"untested"}});var Bit=CS.a.extend({name:"CloudCompanionCollection",context:["server"],model:Vit,url:"/api/v2/companions",responseType:qP.a,augmentResponse(e){const t=e,a=Object(E.c)("appModel"),n=(a&&a.get("deviceSettings")).get("sonosCustomBaseURL");if(n&&t&&t.length){const e=t.find(({identifier:e})=>"tv.plex.sonos"===e);e&&t.push({identifier:"tv.plex.sonos-custom",title:"Sonos (Custom)",baseURL:n,linkURL:j.default.join([n,"link"]),provides:e.provides,token:e.token})}return e}});var Fit=XE.a.extend({name:"AnnouncementModel",context:["server"],rootPropertyName:"Announcement",syncedAttrs:{id:QE.a.integer,title:QE.a.string,content:QE.a.string,imageUrl:QE.a.string,style:QE.a.string,url:QE.a.string,expireAt:QE.a.string,notifyAt:QE.a.string,read:{type:QE.a.boolean,save:!0}},markAsRead(){this.get("read")||this.save("read",!0)}});var Hit=CS.a.extend({name:"AnnouncementCollection",model:Fit,context:["server"],url:"api/announcements"});var _it=CS.a.extend({name:"SyncItemCollection",context:["server","device"],model:Dee});const Wit={ACTIVE:"active",SNOOZED:"snoozed",DEAD:"dead"};var Qit=XE.a.extend({name:"SyncListModel",context:["server","device"],url(){return this.device?`/devices/${this.device.get("clientIdentifier")}/sync_items`:`/servers/${this.server.id}/sync_lists`},syncedAttrs:{status:QE.a.oneOf("active","snoozed","dead"),clientIdentifier:QE.a.string,version:QE.a.integer,itemsCompleteCount:QE.a.integer,totalSize:QE.a.integer},syncedRelations:{syncItems:{relationClass:_it,rootPropertyName:"SyncItems"}},derivedAttrs:{isActive(){return"active"===this.get("status")}},augmentResponse:e=>(e.SyncItems&&(e.SyncItems=e.SyncItems.SyncItem),e),sync(e,t,a){const n=jee.a.addVersionHeaderForDevice(this.get("device"),a);return XE.a.prototype.sync.call(this,e,t,n)},getCollection(){return this.get("syncItems")},resetToServer(e){const t=this.getCollection(),a=t.filter((function(t){const a=t.get("Server");return a&&a.machineIdentifier===e}));t.reset(t.clone(a).models)}},{statuses:Wit});var Git=XE.a.extend({name:"DeviceModel",context:["server"],rootPropertyName:"Device",url(){return"/devices/"+this.id+".xml"},syncedAttrs:{id:QE.a.string,clientIdentifier:QE.a.string,name:QE.a.string,product:QE.a.string,productVersion:QE.a.string,platform:QE.a.string,platformVersion:QE.a.string,device:QE.a.string,model:QE.a.string,provides:QE.a.list,screenResolution:QE.a.string,screenDensity:QE.a.string,lastSeenAt:QE.a.integer},syncedRelations:{syncList:{relationClass:Qit,rootPropertyName:"SyncList",deferred:!0,options(){return{device:this}}}},supports(e){return-1!==this.get("provides").indexOf(e)}});var Kit=CS.a.extend({name:"DeviceCollection",context:["server"],model:Git,url:"/devices.xml",filterSyncDevices(e){const t=!!e&&e.get("isPlaylist"),a=this.filter(e=>{const a=e.get("syncList"),n=a&&a.get("version")>=2,i=t&&!n;return e.supports("sync-target")&&!i});return this.clone(a)},filterByProducts(e){const t=this.filter(t=>M.a.contains(e,t.get("product")));return this.clone(t)},filterByPlatforms(e){const t=this.filter(t=>M.a.contains(e,t.get("platform")));return this.clone(t)},products(){const e=this.map(e=>e.get("product"));return M.a.uniq(e)}});var Yit=CS.a.extend({name:"HomeUserCollection2",context:["server"],model:AIe.a,url:"/api/home/users",parse(e){return this.convert(e,"User")}}),qit=a("pnnh"),Zit=a.n(qit);var Xit=XE.a.extend({name:"InviteModel",context:["server"],rootPropertyName:"Invite",sessionAttrs:{isAccepting:QE.a.boolean,isRemoving:QE.a.boolean},syncedAttrs:{id:{type:QE.a.string,save:!0},friend:QE.a.boolean,home:QE.a.boolean,server:QE.a.boolean,friendlyName:QE.a.string,username:QE.a.string,email:QE.a.string,thumb:QE.a.string,createdAt:QE.a.integer,Server:QE.a.array},urlRoot:"/api/invites/requests",url(){let e;if(this.isNew())e=M.a.result(this,"urlRoot");else{const t=this.pick("friend","server","home");M.a.each(M.a.keys(t),(function(e){t[e]=t[e]?"1":"0"})),e=this.collection?M.a.result(this.collection,"url"):M.a.result(this,"urlRoot"),e=e.replace(/([^/])$/,"$1/")+encodeURIComponent(this.get("id")),e=j.default.join(e,t)}return e},augmentResponse(e){if(!e.Server)return e;return(Array.isArray(e.Server)?e.Server:[e.Server]).forEach(e=>{e.numLibraries=Object(eOe.a)(e.numLibraries)}),e},defaults:{isAccepting:!1,isRemoving:!1}});var Jit=CS.a.extend({name:"InviteCollection",context:["server","subset"],model:Xit,url(){return"/api/invites/"+this.subset},initialize(e,t){t||(t={}),this.subset=t.subset||"requests"},filterByHome(){const e=new Zit.a(this);return e.filterBy(e=>e.get("home")),e},filterByFriends(){const e=new Zit.a(this);return e.filterBy(e=>!e.get("home")),e}}),$it=K7.a.extend({idAttribute:"key",whitelistedAttrs:["key","title","linked","maxLength"],convert:function(e){var t=M.a.isObject(e)?e:Y7.a.parseXML(e);return Y7.a.parseBoolean(t,["linked","maxLength"]),t},parse:function(e){var t=this.convert(e);return t=M.a.pick(t,this.whitelistedAttrs)}}),ert=$7.a.extend({model:$it,url:"/pms/social/networks",parse:function(e){return this.convert(e,"Directory")}});var trt=XE.a.extend({name:"SubscriptionPlanModel",context:["server"],rootPropertyName:"plan",syncedAttrs:{id:QE.a.string,name:QE.a.string,price:QE.a.float,formattedPrice:QE.a.string,currency:QE.a.string}});var art=CS.a.extend({name:"SubscriptionPlanCollection",context:["server"],model:trt,url:"/api/subscriptions/plans"});var nrt=XE.a.extend({name:"WebhookModel",syncedAttrs:{url:QE.a.string},defaults:{url:""}});var irt=CS.a.extend({name:"WebhookCollection",context:["server"],model:nrt,url:"/api/v2/user/webhooks",responseType:qP.a});var rrt=XE.a.extend({name:"UserFlexModel",context:["server"],sessionAttrs:{isHomeUsersPending:QE.a.boolean.isRequired,isHomeUsersPopulated:QE.a.boolean.isRequired,homeUsersError:QE.a.object,socialNetworks:QE.a.instanceOf(ert).isRequired,isPlansPending:QE.a.boolean.isRequired,isPlansPopulated:QE.a.boolean.isRequired,plansError:QE.a.object,isUpdatingUser:QE.a.boolean.isRequired,updateUserError:QE.a.object,isHomeDetailsPending:QE.a.boolean,isHomeDetailsPopulated:QE.a.boolean,homeDetailsError:QE.a.object,isInvitesPending:QE.a.boolean,isInvitesPopulated:QE.a.boolean,invitesError:QE.a.object,isSentInvitesPending:QE.a.boolean,isSentInvitesPopulated:QE.a.boolean,sentInvitesError:QE.a.object,isWebhooksPending:QE.a.boolean,isWebhooksPopulated:QE.a.boolean,webhooksError:QE.a.object,isUpdatingWebhooks:QE.a.boolean,isRemovingWebhooks:QE.a.boolean,updateWebhooksError:QE.a.object},sessionRelations:{homeUsers:{relationClass:Yit},devices:{relationClass:Kit},cloudCompanions:{relationClass:Bit},announcements:{relationClass:Hit},homeDetails:{relationClass:K7e},invites:{relationClass:Jit},sentInvites:{relationClass:Jit,options:{subset:"requested"}},plans:{relationClass:art},webhooks:{relationClass:irt}},defaults(){const e={server:this.server,parent:this};return{isHomeUsersPending:!1,isHomeUsersPopulated:!1,homeUsersError:null,socialNetworks:new ert([],e),isPlansPending:!0,isPlansPopulated:!1,plansError:null,isUpdatingUser:!1,updateUserError:null,isHomeDetailsPending:!1,isHomeDetailsPopulated:!1,homeDetailsError:null,isInvitesPending:!1,isInvitesPopulated:!1,invitesError:null,isSentInvitesPending:!1,isSentInvitesPopulated:!1,sentInvitesError:null,isWebhooksPending:!1,isWebhooksPopulated:!1,webhooksError:null,isUpdatingWebhooks:!1,isRemovingWebhooks:!1,updateWebhooksError:null}}});function srt(e,t){let a,n=[],i=n;function r(){i===n&&(i=n.slice())}function s(e){a=function(e){const t={};for(let a=0,n=e.length;a<n;a++){const n=e[a];for(const e in n){const a=t[e],i=n[e];a?Array.isArray(a)?a.push(i):t[e]=[a,i]:t[e]=i}}return t}(e)}return s(e),t.on("statechange",(function(){const e=n=i;for(let t=0,a=e.length;t<a;t++)e[t]()})),{dispatch:function e(n){const{payload:i,type:r}=n,s=r&&a[r];if(Array.isArray(s))for(let a=0,n=s.length;a<n;a++)s[a](t,i,e);else s?s(t,i,e):t.dispatch(n);return n},subscribe:function(e){let t=!0;return r(),i.push(e),function(){if(!t)return;t=!1,r();const a=i.indexOf(e);i.splice(a,1)}},getState:function(){return t.getState()},replaceActionHandlers:s}}var ort=function(){const e=h.a.Deferred();return window.setTimeout(()=>{e.resolve()},3e3),e};Object(yo.a)("provider/providerIntegrations/initProviderIntegrations");const lrt=Object(yo.a)("provider/providerIntegrations/fetchProviderIntegrations"),crt=Object(yo.a)("provider/providerIntegrations/pollProviderIntegrations");Object(yo.a)("provider/providerIntegrations/integrationsOnboardingComplete"),Object(yo.a)("provider/providerIntegrations/createLocastAccount");function drt(e){return e.get("ui").get("providerIntegrations")}const urt={"provider/providerIntegrations/initProviderIntegrations"(e,t,a){drt(e).set({isIntegrationsOnboarding:!1,isIntegrationsPending:!1,isIntegrationsPopulated:!1,integrationsError:null,integrations:new U9e([],{server:Object(GI.m)(e,t),provider:Object(GI.j)(e,t)})}),a(lrt())},"provider/providerIntegrations/fetchProviderIntegrations":Object(WI.a)({key:"integrations",getModel:drt}),"provider/providerIntegrations/pollProviderIntegrations"(e,t,a){drt(e).set("isIntegrationsOnboarding",!0),window.setTimeout(()=>{Object(Dt.a)(()=>{a(lrt())})},3e3)},"provider/providerIntegrations/integrationsOnboardingComplete"(e){drt(e).set("isIntegrationsOnboarding",!1)},"provider/providerIntegrations/createLocastAccount"(e,t,a){drt(e).set("isIntegrationsOnboarding",!0),ort().then(()=>{a(crt())})}};var prt=a("mVxl"),mrt=a("lNqu"),hrt=a("o3vy"),grt=a("FWoo");function yrt(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function frt(e){return yrt(e).get("epgSettings")}function brt(e,t,a={}){const n=yrt(e),i=frt(e),r=i.get(t);return r.abortPendingPopulate(),n.get("setupErrorMessages").remove("programGuideSettings"),i.set("isFetching",!0),r.fetch(a).done(()=>{i.set({isFetching:!1,isPopulated:!0})}).fail(()=>{i.set({isFetching:!1,isPopulated:!1}),n.get("setupErrorMessages").add({id:"programGuideSettings",message:Object(Ce.default)("Unable to fetch Guide settings")})})}var vrt=Object(MS.a)({[zx.t](e){frt(e).restoreDefaults()},[zx.e](e,t,a){const n=function(e,{serverEntityID:t}){return Object(grt.a)(e,fo.n,t)}(e,t);brt(e,"countries").done(()=>{const e=n.get("countryCode");e&&a(lle({...t,countryCode:e}))})},[zx.f](e,t,a){const n=frt(e);brt(e,"languages").done(()=>{const e=n.get("selectedCountry");e&&a(cle({...t,languageCode:e.get("language")}))})},[zx.v](e,t,a){const n=frt(e),i=n.get("countries").get(t.countryCode);if(n.set({selectedCountry:i,postalCode:""}),n.get("regions").reset(),n.get("lineupGroup").get("lineups").reset(),i){const r=i.get("flavor"),s=j.default.join([n.get("baseUrl"),i.get("key")]);a(ole({...t,languageCode:i.get("language")})),0===r?brt(e,"regions",{url:s}):2===r&&(n.set("postalCode",i.get("example")),a(ple(t)))}},[zx.w](e,t){const a=frt(e),n=a.get("languages").get(t.languageCode);a.set("selectedLanguage",n)},[zx.x](e,t,a){const n=frt(e),i=n.get("regions").get(t.regionKey);n.set("selectedRegion",i),n.get("lineupGroup").get("lineups").reset(),i&&a(ple(t))},[zx.z](e,t){const a=frt(e),n=t.postalCode;a.set("postalCode",n),a.get("lineupGroup").get("lineups").reset()},[zx.g](e){const t=frt(e),a=t.get("selectedCountry"),n=[t.get("baseUrl"),a.get("key")],i={};0===a.get("flavor")?n.push(t.get("selectedRegion").get("key")):i.postalCode=t.get("postalCode");brt(e,"lineupGroup",{url:j.default.join(n,i)})}});Object(yo.a)("library/startLibraryRefresh"),Object(yo.a)("library/editLibrary"),Object(yo.a)("library/analyzeLibrary"),Object(yo.a)("library/emptyTrashLibrary"),Object(yo.a)("library/deleteLibrary"),Object(yo.a)("library/startLibraryRefresh",e=>({...e,force:!0})),Object(yo.a)("library/startLibraryRefresh",e=>({...e,cancel:!0}));function Irt(e,t,a){Object(E.c)("metrics").trackClick({page:a,action:e,type:t.get("type"),context:aS.LIBRARY})}const Srt={"library/startLibraryRefresh"(e,t,a){const{cancel:n,force:i,metricsPage:r}=t,s=Object(TS.k)(e,t),o=Object(TS.c)(e,t),l={libraryID:o.id,libraryType:o.get("type"),cancel:n,force:i,allowMetrics:!!r,metricsProperties:{page:r}};o.set("refreshing",!n),Object(sS.a)(s,l).fail(e=>{if(503===e.status)$.a.trigger("show:modal",new F1e.a({model:s}));else{const e=t.cancel?Object(Ce.default)("There was a problem canceling the update."):Object(Ce.default)("There was a problem updating the library.");a(Object(eS.d)(e))}}).always(e=>{a($I.t({serverEntityID:t.serverEntityID}))})},"library/editLibrary"(e,t){const a=Object(TS.k)(e,t),n=Object(TS.c)(e,t);$.a.trigger("show:modal",new oS.a({server:a,model:n})),Irt(Gi.y,n,t.metricsPage)},"library/analyzeLibrary"(e,t,a){const n=Object(TS.k)(e,t),i=Object(TS.c)(e,t),r=n.getXHROptions(`/library/sections/${i.id}/analyze`,{type:"PUT"});h.a.ajax(r).fail(e=>{a(Object(eS.d)(Object(Ce.default)("There was a problem analyzing the library.")))}),Irt(Gi.i,i,t.metricsPage)},"library/emptyTrashLibrary"(e,t,a){const n=Object(TS.k)(e,t),i=Object(TS.c)(e,t),r=n.getXHROptions(`/library/sections/${i.id}/emptyTrash`,{type:"PUT"});h.a.ajax(r).done(()=>{a(Object(eS.d)({type:tS.b,message:Object(Ce.default)("The trash was emptied.")}))}).fail(e=>{a(Object(eS.d)(Object(Ce.default)("There was a problem emptying the trash.")))}),Irt(Gi.z,i,t.metricsPage)},"library/deleteLibrary"(e,t,a){const n=Object(TS.k)(e,t),i=Object(TS.c)(e,t);if(i.isNew())return void i.destroy();const r=n.supports("libraryDeleteActivity"),s=j.default.join(i.url(),r?{async:1}:{}),o=n.getXHROptions(s,{type:"DELETE"});a($I.z({serverEntityID:t.serverEntityID,activityType:Ms.e})),h.a.ajax(o).done(()=>{r||a($I.w({serverEntityID:t.serverEntityID,activityType:Ms.e}))}).fail(()=>{a($I.w({serverEntityID:t.serverEntityID,activityType:Ms.e})),a(Object(eS.d)(Object(Ce.default)("There was a problem deleting the library.")))}),Irt(Gi.q,i,t.metricsPage)}};function Ert(e){return e.get("ui").get("background")}var Ort=Object(MS.a)({[zx.a](e,t){const{serverEntityID:a,providerEntityID:n,imageUrl:i,allowBlur:r=!0,allowLightPreset:s=!1}=t,o=Ert(e),l=a?Object(TS.k)(e,t):void 0,c=n?Object(TS.h)(e,t):void 0;o.set({server:l,provider:c,imageUrl:i,allowLightPreset:s,allowBlur:r,isBackgroundPending:!1})},[zx.b](e,t){const{serverEntityID:a,theme:n}=t,i=Ert(e),r=a?Object(TS.k)(e,t):void 0,s=r&&n?r.resolveUrl(n,{appendHeaders:!0}):void 0;i.set("themeMusicUrl",s)},[zx.s](e){Ert(e).restoreDefaults({isBackgroundPending:!0})}}),Mrt=a("hhQi");const Crt={[E6e]:P6e[E6e],[O6e]:P6e[O6e],[M6e](e,t){const a=Object(GI.m)(e,t),n=Object(GI.j)(e,t);let i;if(a.get("isTransient")){i=`#!/transient/provider/${encodeURIComponent(n.get("identifier"))}/details?key=${encodeURIComponent(t.key)}`}else{const e={machineIdentifier:a.get("machineIdentifier")},r={identifier:n.get("identifier"),isLibraryProvider:n.get("isLibraryProvider")};i=Object(Ka.a)(e,r,t.key)}/\/transient\//.test(window.location.hash)?window.location.replace(i):window.location.hash=i}};var jrt=a("iPle"),Drt=a("y4j6");function Prt(e,t,a){return function(e,t){if(!t)return!0;const a=e.find(e=>e.type===t);return(null==a?void 0:a.state)===qe.c.Active||(null==a?void 0:a.state)===qe.c.PendingCancellation}(a,qe.d.Arcade)?Object(gnt.a)(t,"parsec")?/\bChrome\b/.test(window.navigator.userAgent)||Object.values(window.navigator.plugins).some(e=>/\bChromium\b/.test(e.name))?e.find(({uuid:e})=>e===ve.x)?void 0:Object(Ce.default)("Sorry, game playback is unavailable."):Object(Ce.default)("Please use a Chromium-based browser for game playback."):Object(Ce.default)("Please link your Plex and Parsec accounts then try again."):Object(Ce.default)("An active Plex Arcade subscription is required for game playback.")}const Trt={[Ze.j]:Ze.q[Ze.j],[Ze.k]:Ze.q[Ze.k],[Ze.l]:Ze.q[Ze.l],[Ze.h]:Ze.q[Ze.h],[Ze.e]:Ze.q[Ze.e],[Ze.a]:Ze.q[Ze.a],[Ze.f]:Ze.q[Ze.f],[Ze.g]:Ze.q[Ze.g],[Ze.m]:Ze.q[Ze.m],[Ze.b]:Ze.q[Ze.b],[Ze.i](e,t,a){const n=Object(jrt.a)(e,t),i=Object(J8e.a)(n),r=t.playerType||Oe.d(i),s=Object(iC.c)(e,r),o=Object(GI.j)(e,t),l=Object(GI.m)(e,t),c=Object(GI.f)(e,t),d=e.get("user").get("experienceSettings"),u=Object(Jr.a)(o.get("identifier"),o.get("providerIdentifier")),p=e.get("remotePlayer"),m=p&&!Object(nC.a)({protocol:p.get("protocol"),protocolCapabilities:p.get("protocolCapabilities"),providerIdentifier:u,userFeaturesByUUID:Object(ZM.a)(e),isWatchTogether:!!t.syncplaySessionRoomID,playQueueType:i}),h=e.get("user"),g=r===Oe.c&&Prt(h.get("features").toJSON(),h.get("services").toJSON(),h.get("subscriptions").toJSON());let y,f;if(m?y=Object(Ce.default)("This content is not currently supported when connected to this remote player."):g&&(y=g),y)return void Object(Dt.a)(()=>{s.set({hasError:!0,errorMessage:y})});f=s.get("isOpen")?s.get("openState"):i===Ui.a?$M.b:$M.a,Object(Drt.a)()&&qr.l(u,[qr.i])&&(f=$M.a);let b=!1;i===Ui.b&&t.metadataItemEntityID&&(b=c.get("type")===wo.PHOTO);let v=t.metricsProperties||{};(function(e){const t=Object(E.c)("appModel").get("embeddedServer");return!!e&&!!t&&e.get("machineIdentifier")===t.get("machineIdentifier")})(l)&&(v={...v,origin:"sync"}),v.identifier||(v.identifier=o.get("metricsIdentifier")),Ze.q[Ze.i](e,{extrasPrefixCount:d.get("extrasPrefixCount"),openState:f,isPaused:b,...t,metricsProperties:v},a)},[Ze.d](e,t,a){Ze.q[Ze.d](e,{openState:$M.b,...t},a)},[Ze.c](e,t,a){const n=Object(iC.c)(e,t.playerType),i=n.get("serverEntityID"),r=n.get("providerEntityID"),s=Object(GI.m)(e,{serverEntityID:i}),o=Object(GI.j)(e,{providerEntityID:r});Ze.q[Ze.c](e,t,a),s&&o&&a(vm.actions.ended({source:Object(Ct.a)({serverIdentifier:s.get("machineIdentifier"),providerIdentifier:o.get("identifier")})}))}};var wrt=a("WaF+"),Nrt=a("FM3t");function xrt(e){return e.get("ui").get("playlistPage")}var Art=Object(MS.a)({[zx.k](e,t){const a=xrt(e),n=Object(TS.k)(e,t),i=Object(GI.j)(e,t),{serverEntityID:r,providerEntityID:s,metadataKey:o}=t;if(r===a.get("serverEntityID")&&s===a.get("providerEntityID")&&o===a.get("metadataKey"))return;const l=new _I.a({key:o,type:wo.PLAYLIST},{server:n,provider:i});a.restoreDefaults({serverEntityID:r,providerEntityID:s,metadataKey:o,playlist:l})},[zx.j](e,t){const a=xrt(e),n=Object(TS.k)(e,t),i=Object(GI.j)(e,t),r=a.get("playlist"),{serverEntityID:s,metadataKey:o}=t;if(s===a.get("serverEntityID")&&o===a.get("metadataKey")&&a.get("playlistItemList"))return;const l=Object(SG.a)(e,ve.a),c=r.get("childrenKey"),d=new j7e.a({containerKey:c},{server:n,provider:i,includeExternalMedia:l});a.set({playlistItemList:d})},[zx.u](e,t){const a=xrt(e),n=a.get("playlistItemList");n&&(n.restoreDefaults(),a.unset("playlistItemList"))},[zx.h]:Object(WI.a)({key:"playlist",getModel:xrt}),[zx.n]:Object(wrt.a)({key:"playlistItemList",getModel:xrt}),[zx.r]:Object(Nrt.a)({key:"playlistItemList",getModel:xrt}),[zx.y](e,t,a){const{id:n,type:i,isRangeSelect:r=!1}=t,s=Object(TS.f)(e,{playlistItemEntityID:n}),o=xrt(e).get("playlistItemList").getCollection();s&&a(Object(jm.r)({type:i,model:s,collection:o,isRangeSelect:r}))},[zx.d](e,t,a){const n=Object(TS.f)(e,{playlistItemEntityID:t.id});n&&a(Object(jm.f)([n.id]))},[zx.m](e,t){const a=Object(TS.f)(e,t),n=xrt(e).get("playlistItemList"),i=n.getCollection(),r=i.indexOf(a),s=t.moveIndex,o=s-1;if(r===s||r===o)return;const l=s>r?s-1:s,c=j.default.join([n.get("containerKey"),a.get("playlistItemID"),"move"],o>=0?"after="+i.at(o).id:void 0),d=a.provider.getXHROptions(c,{type:"PUT"});Object(Dt.a)(()=>{i.remove(a),i.add(a,{at:l}),h.a.ajax(d).fail(()=>{i.indexOf(a)===l&&(i.remove(a),i.add(a,{at:r}))})})},[zx.p](e,t,a){const n=Object(TS.f)(e,t),i=xrt(e).get("playlistItemList"),r=j.default.join([i.get("containerKey"),n.get("playlistItemID")]);n.destroy({url:r}).fail(()=>{a(Object(eS.d)(Object(Ce.default)("There was an unexpected error removing this item.")))})},[zx.q](e,t,a){const n=xrt(e).get("playlistItemList"),i=n.get("containerKey"),r=n.getCollection(),s=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("id");let o=h.a.Deferred().resolve().promise();s.forEach(e=>{const t=r.get(e),a=j.default.join([i,e]);o=o.then(()=>t.destroy({url:a,wait:!0}))}),o.fail(()=>{a(Object(eS.d)(Object(Ce.default)("There was an unexpected error removing an item.")))})},[Fs.RATE_METADATA_ITEM](e,t,a){const{providerEntityID:n,rating:i}=t,r=xrt(e),s=r.get("playlist");if(!s)return;const o=r.get("playlistItemList");"favorites"===s.get("specialPlaylistType")&&n===r.get("providerEntityID")&&(i!==To.a&&i!==To.b||a(mG({count:o.get("currentPageSize")})))}});Object(yo.a)("ui/playlistsPage/initPlaylistPage");const Lrt=Object(yo.a)("ui/playlistsPage/fetchSorts"),krt=(Object(yo.a)("ui/playlistsPage/populateSorts"),Object(yo.a)("ui/playlistsPage/fetchLibraryDetails"));Object(yo.a)("ui/playlistsPage/populateLibraryDetails");function Rrt(e){return e.get("ui").get("playlistsPage")}var zrt={"ui/playlistsPage/initPlaylistPage"(e,t){const a=Rrt(e),n=Object(TS.k)(e,t),i=Object(GI.j)(e,t),{serverEntityID:r,libraryKey:s,containerKey:o}=t,l=r===a.get("serverEntityID"),c=s===a.get("libraryKey"),d=o===a.get("containerKey");if(l&&c&&d)return;const u=new GE.default({containerKey:o},{server:n,provider:i});let p=a.get("libraryDetails"),m=a.get("sorts");l&&c||(p=s&&new yTe.a({key:s},{server:n,provider:i}),m=new P7e.a([],{url:"/playlists/sorts",server:n})),a.restoreDefaults({serverEntityID:r,libraryKey:s,containerKey:o,playlists:u,libraryDetails:p,sorts:m})},"ui/playlistsPage/fetchLibraryDetails":Object(WI.a)({key:"libraryDetails",getModel:Rrt}),"ui/playlistsPage/populateLibraryDetails":Object(QI.a)({key:"libraryDetails",fetchActionCreator:krt,getModel:Rrt}),"ui/playlistsPage/fetchSorts":Object(WI.a)({key:"sorts",getModel:Rrt}),"ui/playlistsPage/populateSorts":Object(QI.a)({key:"sorts",fetchActionCreator:Lrt,getModel:Rrt}),[eS.a](e,t,a){const{metadataItemEntityID:n,containerKeyPattern:i}=t,r=Object(TS.k)(e,t),s=Rrt(e).get("playlists");n||s&&s.server===r&&i&&s.get("containerKey").match(i)&&a(Object(Zb.j)({metadataListEntityID:s.entityID()}))}},Urt=a("TpIi");function Vrt(e){return e.get("ui").get("timelinePage")}function Brt(e,t){const a=Vrt(e),n=Object(TS.k)(e,t),i=Object(TS.h)(e,t),r=a.get("momentList");r.fetch().done(()=>{const e=r.get("key")||"empty",t=a.get("metadataList");let s;s=t&&t.server===n&&t.get("containerKey")===e?t:new GE.default({containerKey:e},{server:n,provider:i}),a.set({isMomentListPending:!1,isMomentListPopulated:!0,momentListError:null,metadataList:s})}).fail((e,t)=>{a.set({isMomentListPending:!1,momentListError:t})})}var Frt=Object(MS.a)({[zx.l](e,t){const a=Vrt(e),n=Object(TS.k)(e,t),i=Object(TS.h)(e,t),{serverEntityID:r,providerEntityID:s,libraryKey:o,momentKey:l}=t;if(r===a.get("serverEntityID")&&s===a.get("providerEntityID")&&l===a.get("momentKey"))return;const c=new yTe.a({key:o},{server:n,provider:i}),d=new k7e({momentKey:l},{server:n,provider:i});a.restoreDefaults({serverEntityID:r,providerEntityID:s,details:c,momentKey:l,momentList:d}),Brt(e,t)},[zx.c](e){Vrt(e).set({momentKey:""})},[zx.i]:Object(WI.a)({key:"details",getModel:Vrt}),[zx.o]:Object(QI.a)({key:"details",fetchActionCreator:Bx,getModel:Vrt}),[eS.a](e,t){const{metadataItemEntityID:a,containerKeyPattern:n}=t,i=Object(TS.q)(e,t),r=Object(TS.p)(e,t),s=Vrt(e),o=s.get("metadataList"),l=s.get("momentKey");if(a)return;if(!l||!o||o.server!==i||o.provider!==r)return;const c=o.get("containerKey");c&&(n&&!c.match(n)||Brt(e,t))}});const Hrt={...eS.e,[eS.b](e,t){$.a.trigger("show:alert",t)}};var _rt=[Zbe,Xhe,Tge,HI.a,VS.T,OS.m,dhe,Srt,Fs.metadataActionHandlers,Zb.e,jm.l,DLe,ES,urt,Gj,IRe,oR.i,rU.i,Hrt,Ort,zPe,lwe,zG,Frt,zrt,TAe,Art,gO,cpe,YJ,iV,h8e.a,prt.b,mrt.b,C$,Urt.l,nSe,Mrt.a,Tt.quickSearchActionHandlers,LRe,US,nle.k,vrt,PT,hrt.f,w_e,UVe.c,IVe.u,Hs.f,Trt,hqe,JXe,jC,TOe,Crt,wBe];a("rPoc");function Wrt(e){try{return window.localStorage.getItem(e)}catch(t){C.a.debug(`[Vote] Unable to get ${e} from storage due to error:`,t.message)}}function Qrt(e,t){try{return window.localStorage.setItem(e,t)}catch(a){C.a.debug(`[Vote] Unable to set ${e}: ${t} in storage due to error:`,a.message)}}function Grt(e){try{return window.localStorage.removeItem(e)}catch(t){C.a.debug(`[Vote] Unable to remove ${e} from storage due to error:`,t.message)}}const Krt={id:null,time:null};var Yrt=function({id:e=Object(ise.a)(),getItem:t=Wrt,setItem:a=Qrt,remove:n=Grt,electionDuration:i=500,maxLeaderAge:r=9e4,minLeaderRefreshDuration:s=1e4}){function o(t=Date.now()){return l(t).id===e}function l(e){try{const{id:a,time:n}=JSON.parse(t("vote/leader"));return e-n<r?{id:a,time:n}:Krt}catch(e){return Krt}}let c,d=!1;function u(){window.clearTimeout(c),c=window.setTimeout(()=>{const t=Date.now(),{id:a}=l(t);if(a){const t=a===e;t!==d&&(C.a.debug(t?`[Vote:${e}] Elected`:`[Vote:${e}] Unelected`),m.leaderStatusChanged.forEach(e=>e(t))),d=t}else C.a.debug(`[Vote:${e}] Election ended with no leader found`),p(t)},i)}function p(t=Date.now()){const{id:n,time:i}=l(t);n===e&&t-i>s?(C.a.debug(`[Vote:${e}] Upvote, refreshing my leader time`),a("vote/leader",JSON.stringify({time:t,id:e}))):n===e?C.a.debug(`[Vote:${e}] Upvote, chilling since leader time is fresh`):n?C.a.debug(`[Vote:${e}] Upvote, someone else is leader`):(C.a.debug(`[Vote:${e}] Upvote, becoming leader`),a("vote/leader",JSON.stringify({time:t,id:e}))),u()}const m={leaderStatusChanged:[]};return{on:function(e,t){m[e].push(t)},off:function(e,t){m[e]=m[e].filter(e=>e!==t)},isLeader:o,up:p,down:function(t=Date.now()){o(t)?(C.a.debug(`[Vote:${e}] Downvote, stepping down as leader`),n("vote/leader")):C.a.debug(`[Vote:${e}] Downvote, chilling since someone else is leader`),u()}}};var qrt=function(){const e=Yrt({maxLeaderAge:9e4});return window.addEventListener("storage",t=>{"vote/leader"===t.key&&e.up()}),window.addEventListener("beforeunload",()=>{e.down()}),e.up(),window.setInterval(e.up,6e4),e};var Zrt=v4e.extend({name:"PersistentWebStorage",getStorage:()=>window.localStorage});var Xrt=v4e.extend({name:"VolatileWebStorage",getStorage:()=>window.sessionStorage}),Jrt=a("8iII");const $rt={};function est(e){return null==e?"":e}function tst(e,...t){let a,n=1;const i=t.length;for(;n<=i;)a=$rt[n],a||(a=new RegExp(Object(U.a)(`{${n}}`),"g"),$rt[n]=a),e=e.replace(a,est(t[n-1])),n++;return e}function ast(e,...t){return M.a.isObject(t[0])?function(e,t){return e.replace(/\{([a-z0-9]+?)\}/gi,(e,a)=>t.hasOwnProperty(a)?est(t[a]):e)}(e,t[0]):M.a.isObject(t[t.length-1])?(t.pop(),tst(e,...t)):tst(e,...t)}var nst={languages:{en:"en.json","en-GB":"en-GB.json",af:"af.json",my:"my.json",ca:"ca.json",cs:"cs.json",sr:"sr.json",da:"da.json",de:"de.json",et:"et.json",es:"es.json","es-419":"es-419.json",el:"el.json",fr:"fr.json","fr-CA":"fr-CA.json",hr:"hr.json",is:"is.json",it:"it.json",lt:"lt.json",hu:"hu.json",nl:"nl.json",no:"no.json",pl:"pl.json",pt:"pt.json","pt-BR":"pt-BR.json",ru:"ru.json",ro:"ro.json",sk:"sk.json",sl:"sl.json",fi:"fi.json",sv:"sv.json",vi:"vi.json",tr:"tr.json",uk:"uk.json",bg:"bg.json",zh:"zh.json","zh-TW":"zh-TW.json",ja:"ja.json",ko:"ko.json",th:"th.json",fa:"fa.json",ar:"ar.json",he:"he.json"},loadingPromise:null,loadingLanguage:null,getLanguages:function(){return this.languages},getTranslation:function(e){if(this.translations[this.language])return this.translations[this.language][e]},t:function(e){return function(t,...a){return ast(function(e,...t){if(!e)return"";const a=t[t.length-1];return M.a.isObject(a)&&a&&a.escape?M.a.escape(e):e}(e.call(this,t)||t,t,...a),...a)}}((function(e,...t){return this.getTranslation(e,...t)})),load:function(e){if(this.loadingLanguage&&this.loadingLanguage===e)return this.loadingPromise;const t=this.getLanguages();let a;return a=M.a.has(t,e)?M.a.has(this.translations,e)?h.a.Deferred().resolve().promise():h.a.ajax({dataType:"json",url:j.default.join([this.basePath,t[e]])}):h.a.Deferred().reject().promise(),this.loadingLanguage=e,this.loadingPromise=a,a.done(M.a.bind(this.onLoadSuccess,this,a)),a.fail(M.a.bind(this.onLoadError,this,a)),a},onLoadSuccess:function(e,t){const a=this.loadingLanguage;e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null,this.language=a,t&&(this.translations[a]=t),$.a.trigger("change:language",a))},onLoadError:function(e){e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null)}};var ist=J.a.extend({mixins:nst,constructor:function(){this.basePath=j.default.join(["/web/","translations"]),this.translations={},Object(E.d)("appModel").done(this.onAppModelRegistered.bind(this))},_repopulateProviders(){const e=Object(E.c)("appModel"),t=e.get("servers").map(t=>{if(t.get("isCloud")){const t=e.get("user").get("providers");return Object(RU.a)(t.map(e=>(Object(E.c)("appStore").dispatch(ZI({providerEntityID:e.entityID(),options:{merge:!0}})),Object(BU.a)(e))))}if(t.get("isConnected"))return Object(E.c)("appStore").dispatch(Object($I.u)({serverEntityID:t.entityID(),options:{merge:!0}})),Object(BU.a)(t)});return Object(RU.a)(t)},onAppModelRegistered(){0}}).extend({onAppModelRegistered(e){e.on("change:user.change:experienceSettings.change:language",(e,t)=>{this.load(t).done(()=>{d3e.a.setOption("language",t),this._repopulateProviders()})})}}),rst={registerAll:function(){bOe.a.register(new ist)}};var sst=function(){return"bundled"};var ost={init(){const e=Object(E.c)("appModel"),t=`${window.innerWidth}x${window.innerHeight}`,a=`${window.screen.width}x${window.screen.height}`,n={"X-Plex-Product":"Plex Web","X-Plex-Version":"4.53.0","X-Plex-Client-Identifier":e.get("clientID"),"X-Plex-Platform":tMe.a.name,"X-Plex-Platform-Version":tMe.a.version,"X-Plex-Sync-Version":2,"X-Plex-Features":"external-media,indirect-media","X-Plex-Model":sst(),"X-Plex-Device":tMe.a.platform,"X-Plex-Device-Name":tMe.a.name,"X-Plex-Device-Screen-Resolution":`${t},${a}`};return e.on("change:clientID",(e,t)=>{n["X-Plex-Client-Identifier"]=t}),h.a.Deferred().resolve(n).promise()}},lst=a("JBE3"),cst=a.n(lst),dst=a("3oIs");const ust={maxWidth:1920,maxHeight:1080,maxBitDepth:10},pst={maxWidth:4096,maxHeight:2160,maxBitDepth:10},mst=`width="${ust.maxWidth}"; height="${ust.maxHeight}"`,hst=`width="${pst.maxWidth}"; height="${pst.maxHeight}"`;function gst(e){if(!dst.a)return!1;const t=Object(I3e.a)("video",!0),a=t.canPlayType(e);return Object(I3e.b)(t),"probably"===a}function yst(e){var t,a,n;return!!dst.a&&(null!=(n=null==(a=null==(t=window.MediaSource)?void 0:t.isTypeSupported)?void 0:a.call(t,e))&&n)}function fst(e,t){if(Array.isArray(e))return Array.from(new Set(e.concat(t)))}function bst(e,t){return(a,n)=>{e(a)&&cst()(t,n,fst)}}var vst=function(){const e={maxWidth:1920,maxHeight:1280},t={maxWidth:4096,maxHeight:2160},a=`width="${e.maxWidth}"; height="${e.maxHeight}"`,n=`width="${t.maxWidth}"; height="${t.maxHeight}"`,i={...e,maxFrameRate:60},r={capabilities:{embed:!0,redirect:!0},video:{lowestQualityIndex:2,protocols:{hls:{mimeType:"application/x-mpegURL"}},directPlay:{generic:{video:{...i}},mp4:{mimeType:'video/mp4; codecs="avc1.42E01E"',video:{codecs:{h264:{}}},audio:{codecs:{aac:{}}}},ogg:{mimeType:"video/ogg"},mpegts:{protocol:"hls"},flv:{}},directStream:{video:{...i,maxBitDepth:8,codecs:{h264:{}}},audio:{codecs:{aac:{}},maxBitrate:192,maxChannels:2}}},music:{directPlay:{mp4:{mimeType:'audio/mp4; codecs="mp4a.40.5"',audio:{codecs:{aac:{}}}},mp3:{audio:{codecs:{mp3:{}}}},ogg:{mimeType:'audio/ogg; codecs="vorbis"',audio:{codecs:{vorbis:{}}}},wav:{mimeType:"audio/wav",audio:{codecs:{pcm:{}}}},flac:{mimeType:"audio/flac",audio:{codecs:{flac:{}}}}},directStream:{audio:{codecs:{aac:{}},maxBitrate:320,maxChannels:2}}}},s=[{types:['video/mp4; codecs="avc1.42E01E"; '+n],fragment:{video:{directPlay:{mp4:{video:{codecs:{h264:t}}}},directStream:{video:{codecs:{h264:t}}}}}},{types:['video/webm; codecs="vp8, opus"; '+a],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp8, vorbis"; '+a],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:['video/webm; codecs="vp9, opus"; '+a],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp9, vorbis"; '+a],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:['video/webm; codecs="vp8, opus"; '+n],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp8, vorbis"; '+n],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{vorbis:{}}}}}}}},{types:['video/webm; codecs="vp9, opus"; '+n],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp9, vorbis"; '+n],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{vorbis:{}}}}}}}},{types:['audio/mp4; codecs="alac"'],predicate:o,fragment:{music:{directPlay:{mp4:{audio:{codecs:{alac:{}}}}}}}}];function o(e){const t=Object(I3e.a)("video",!0),a=t.canPlayType(e);return Object(I3e.b)(t),"probably"===a}const l=window.MediaSource&&window.MediaSource.isTypeSupported?window.MediaSource.isTypeSupported:o;if(s.forEach(e=>{const t=e.predicate||l;e.types.some(t)?(C.a.debug("[Player] Types %o provided %o",e.types,e.fragment),h.a.extend(!0,r,e.fragment)):C.a.debug("[Player] Types %o are unsupported",e.types)}),"safari"===tMe.a.id&&Object(oo.a)(tMe.a.platformVersion,"10.11")){const e={codecs:{ac3:{},eac3:{}}};h.a.extend(!0,r.video,{directPlay:{mp4:{audio:e}},directStream:{audio:e}})}return h.a.extend(!0,r,function({canDirectPlay:e,canDirectStream:t}={canDirectPlay:gst,canDirectStream:yst}){const a={video:{directPlay:{},directStream:{}}},n=bst(e,a),i=bst(t,a);return n('video/mp4; codecs="hvc1"; '+mst,{video:{directPlay:{mp4:{video:{codecs:{hevc:{...ust,codecID:["hvc1"]}}}}}}}),n('video/mp4; codecs="hev1"; '+mst,{video:{directPlay:{mp4:{video:{codecs:{hevc:{...ust,codecID:["hev1"]}}}}}}}),n('video/mp4; codecs="hvc1"; '+hst,{video:{directPlay:{mp4:{video:{codecs:{hevc:{...pst,codecID:["hvc1"]}}}}}}}),n('video/mp4; codecs="hev1"; '+hst,{video:{directPlay:{mp4:{video:{codecs:{hevc:{...pst,codecID:["hev1"]}}}}}}}),i('video/mp4; codecs="hvc1"; '+mst,{video:{directStream:{video:{codecs:{hevc:ust}}}}}),i('video/mp4; codecs="hev1"; '+mst,{video:{directStream:{video:{codecs:{hevc:ust}}}}}),i('video/mp4; codecs="dvhe"; '+mst,{video:{directStream:{video:{codecs:{hevc:ust}}}}}),i('video/mp4; codecs="hvc1"; '+hst,{video:{directStream:{video:{codecs:{hevc:pst}}}}}),i('video/mp4; codecs="hev1"; '+hst,{video:{directStream:{video:{codecs:{hevc:pst}}}}}),i('video/mp4; codecs="dvhe"; '+hst,{video:{directStream:{video:{codecs:{hevc:pst}}}}}),a}()),C.a.debug("[Player] Final player profile %o",r),r};var Ist={registerAll(){const e=ost.init();e.done(e=>V.a.register(e));const t=new Zrt;Ybe.a.register(t),S4e.register(new Xrt),rst.registerAll();const a=vst(),n={audioCapabilities:[{contentType:'audio/mp4; codecs="flac"'}]},i=c3e().then(e=>{const t=Jrt.a[e];return l3e(n,[t])}).then(()=>{_M.register(h.a.extend(!0,{},a,{music:{directPlay:{mp4:{audio:{codecs:{flac:{}}}}}}}))},()=>{_M.register(a)});return Object(RU.a)([e,i])}};function Sst(){const e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen,a=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,n=!(!t||!a);return{hasFullscreen:n,shouldExitOnPlayerClose:!0,initialize(e){const{dispatchEnterFullscreen:t,dispatchExitFullscreen:a}=e;function n(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?t():a()}return n(),document.addEventListener("fullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("MSFullscreenChange",n),h.a.Deferred().resolve().promise()},enter(){n&&t.call(e)},exit(){n&&a.call(document)}}}var Est=a("KEDo"),Ost=a("lbl0"),Mst=a("AQCF"),Cst=a("zry3");const jst={volume:!0,shuffle:!0,quality:!0,audioStream:!0,videoStream:!0,subtitleStream:!0,subtitleColor:!0,subtitlePosition:!0,subtitleSize:!0,subtitleOffset:!0,skipPrevious:!0,skipNext:!0,autoPlay:!0,seekTo:!0,stepBack:!0,stepForward:!0,stop:!0,playPause:!0,repeat:!0},Dst={...jst,seekTo:!1};function Pst(e,t){const a=t.dispatch;let n,i,r,s=!1,o=0,l=0,c=null,d={},u={};window.__onGCastApiAvailable=function(e){const t=!!(e&&window.cast&&window.chrome&&window.chrome.cast);if(a(jOe((t?2:Object(Cst.a)()&&3)||1)),!t)return void C.a.warn("[Cast] API is not available");const n=window.cast.framework,i=h();i.setOptions({receiverApplicationId:m(),autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),i.addEventListener(n.CastContextEventType.SESSION_STATE_CHANGED,E)},Object(Cst.a)()&&a(jOe(3));const p=document.createElement("script");function m(){const t=e.get("deviceSettings"),a=t.get("chromecastAppID"),n=t.get("chromecastCustomAppID");return a===_Oe.CUSTOM&&n?n:a||_Oe.PRODUCTION}function h(){if(2===e.get("castApiAvailability"))return window.cast.framework.CastContext.getInstance()}function g(){if(i)return i.customData}function y(e){return e.isMute()?0:Math.round(100*e.getVolume())}function f(e){if(!e)return;const{customData:t,media:a}=e;if(t&&t.playQueueType)return t.playQueueType;if(a&&a.metadata&&a.metadata.metadataType){const e=window.chrome.cast.media.MetadataType;switch(a.metadata.metadataType){case e.MOVIE:case e.TV_SHOW:return Ui.d;case e.MUSIC_TRACK:return Ui.a;case e.PHOTO:return Ui.b}}}function b(e){if(!e)return;const{customData:t}=e;return t.playbackSessionID}function v(e){const t=g();if(t){const{mediaIndex:n,partIndex:r,adState:s,adTime:o,adDuration:l,liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:m,liveTVSessionCurrentPosition:h,liveTVSessionChannelIdentifier:g,server:y,providerIdentifier:b,isPostPlay:v}=t,I={...v?Dst:jst};y.machineIdentifier===tC.a&&delete I.quality,b&&qr.l(b,[qr.c,qr.b])&&(delete I.autoPlay,delete I.subtitleColor,delete I.subtitlePosition,delete I.subtitleSize,delete I.subtitleOffset),a(lC({playQueueType:f(i),playerState:{...e,mediaIndex:n,partIndex:r,adState:s,adPositionSeconds:Math.round(o/1e3||0),adDurationSeconds:Math.round(l/1e3||0),controllable:I},liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:m,liveTVSessionCurrentPosition:h,liveTVSessionChannelIdentifier:g,providerIdentifier:b,machineIdentifier:y.machineIdentifier}))}}function I(){l&&l--}function S(){o&&o--}function E(e){const t=window.cast.framework,{session:i,sessionState:r,errorCode:s}=e;switch(r){case t.SessionState.NO_SESSION:Object(C.a)("[Cast] Session is not established");break;case t.SessionState.SESSION_STARTED:Object(C.a)("[Cast] Session is established");break;case t.SessionState.SESSION_START_FAILED:Object(C.a)(`[Cast] Session failed to start with code "${s}"`);break;case t.SessionState.SESSION_RESUMED:Object(C.a)("[Cast] Connection to an already existing session is established");break;case t.SessionState.SESSION_ENDED:C.a.warn("[Cast] Session has disconnected")}switch(n&&(n.removeEventListener(t.SessionEventType.MEDIA_SESSION,O),i.removeEventListener(t.SessionEventType.VOLUME_CHANGED,T)),d={},u={},r){case t.SessionState.NO_SESSION:case t.SessionState.SESSION_START_FAILED:case t.SessionState.SESSION_ENDED:D(!1),n=null,a(bC());break;case t.SessionState.SESSION_STARTED:case t.SessionState.SESSION_RESUMED:{n=i,i.addEventListener(t.SessionEventType.MEDIA_SESSION,O),i.addEventListener(t.SessionEventType.VOLUME_CHANGED,T),a(POe({...i.getCastDevice(),volume:y(i)}));const e=i.getMediaSession();e&&O({mediaSession:e});break}}}function O({mediaSession:e}){i&&i.removeUpdateListener(D),i=e,e.addUpdateListener(D),d={},u={}}function D(e){const t=window.chrome.cast.media.PlayerState,n=f(i);if(n!==c&&c&&(Object(C.a)("[Cast] play queue type changed from %o to %o, idling old player",c,n),d[c]=null,u[c]=null,a(fC({playQueueType:c}))),c=n,i&&e&&!s){const{playerState:e,currentTime:n,media:s}=i;v({isPaused:e===t.PAUSED,isBuffering:e===t.BUFFERING,positionSeconds:Math.round(n||0),durationSeconds:Math.round(s.duration||0),playbackSessionID:b(i)}),function(){const e=window.chrome.cast.media.PlayerState,t=g();if(!t)return;const{containerKey:n,key:r,playQueueItemID:s,playQueueVersion:o,mediaIndex:l,partIndex:c,bitrate:p,server:m,providerIdentifier:h}=t,y=f(i),b=d[y],v=u[y],I=s!==b||o!==v;d[y]=s,u[y]=o,a(oC({playQueueType:f(i),options:{machineIdentifier:m.machineIdentifier,providerIdentifier:h,containerKey:n,key:r,mediaIndex:l,shouldRefreshPlayQueue:I,playQueueItemID:s,bitrate:p,initialState:{isPaused:i.playerState===e.PAUSED,isBuffering:i.playerState===e.BUFFERING,positionSeconds:Math.round(i.currentTime||0),durationSeconds:Math.round(i.media.duration||0),mediaIndex:l,partIndex:c}}}))}(),function(){const e=g();if(!e)return;const{mediaIndex:t,bitrate:n}=e;a(dC({playQueueType:f(i),mediaIndex:t,bitrate:n}))}(),function(){const e=g();if(!e)return;const{playQueueType:t,playQueueVersion:n,repeat:i}=e;a(cC({playQueueType:t,playQueueVersion:n,repeatAll:i===T6e.a||i===T6e.c,repeatOne:i===T6e.c}))}(),function(){const e=g();if(!e)return;const{key:t,mediaIndex:n,partIndex:r,audioStreamID:s,subtitleStreamID:o}=e;null==s&&null==o||a(uC({playQueueType:f(i),key:t,mediaIndex:n,partIndex:r,audioStreamID:s,subtitleStreamID:o}))}(),e===t.PLAYING?r||(r=window.setTimeout(P,1e3)):r&&(window.clearTimeout(r),r=null)}else C.a.warn("[Cast] Update ignored; no alive media session"),r&&(window.clearTimeout(r),r=null),i&&n&&i.playerState===t.IDLE&&(d[n]=null,u[n]=null,a(fC({playQueueType:n})))}function P(){if(i){const e=Math.round(i.getEstimatedTime()||0);e&&v({positionSeconds:e}),r=window.setTimeout(P,1e3)}else C.a.warn("[Cast] Position update ignored; no media session")}function T(){l||o||n&&a(mC(y(n)))}function w(e){n?(Object(C.a)(`[Cast] Sending custom message with type "${e.type}"`),n.sendMessage("urn:x-cast:plex",e,null,e=>{C.a.warn(`[Cast] Failed to send custom message with error "${e}"`)})):C.a.warn(`[Cast] Custom message "${e.type}" ignored; no cast session`)}return p.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.head.appendChild(p),{requestSession:function(){const e=h();e?(Object(C.a)("[Cast] Requesting session"),e.requestSession()):C.a.warn("[Cast] Request session ignored; no cast context")},endSession:function(){const e=h();e?(Object(C.a)("[Cast] Ending session"),e.endCurrentSession()):C.a.warn("[Cast] End session ignored; no cast context"),d={},u={}},startPlayback:function(t){if(!n)return void C.a.warn("[Cast] Start playback ignored; no cast session");const i=e.get("user"),r=e.get("deviceSettings"),o=i.get("experienceSettings"),l=t.get("playQueue"),c=l.get("type"),d=l.get("playQueueItems").get(l.get("playQueueSelectedItemID")),u=d.get("metadataItem"),p=t.get("startMediaIndex"),m=l.server,h=t.get("providerEntityID"),g=Object(TS.h)(e,{providerEntityID:h}),y=Object(wo.getMetadataType)(d.get("type"));let f;if((y&&y.mediaType===_s.a?_s.a:_s.e)===_s.e){const e=function(e,t,a){const n=t.get("qualityIndex");if(null!=n)return n;const i=e.server.get("isPrivateConnection");if(i&&a.get("useHomeStreamingRecommendedSettings"))return a.defaults().localQuality;const r=Object(Y5e.a)(e,i);return a.get(r)}(u,t,o),a=aC.a.getQualityByIndex(e);f=a.bitrate}s=!0,s9e(m).done(e=>{const d=t.get("liveTVSession"),m=d?Object(Est.c)(d):Math.floor(Object(i9e.a)(t,u)/1e3),h={playQueueType:c,providerIdentifier:g.get("identifier"),containerKey:j.default.join([M.a.result(l,"url")],{own:1}),offset:m,directPlay:r.get("directPlay"),directStream:r.get("directStream"),mediaIndex:p,bitrate:f,playbackSessionID:t.get("playbackSessionID"),audioBoost:o.get("audioBoost"),subtitleColor:o.get("subtitleColor"),subtitlePosition:o.get("subtitlePosition"),subtitleSize:o.get("subtitleSize"),autoPlay:o.get("autoPlay"),repeat:Object(Mst.a)({repeatOne:t.get("repeatOne"),repeatAll:t.get("repeatAll")}),audioForceMultiChannel:o.get("audioForceMultiChannel"),server:e,user:{username:i.get("username")},liveTVSessionSubscriptionKey:d?d.get("key"):null,liveTVSessionChannelIdentifier:d?d.get("channelIdentifier"):null,debugAdKind:r.get("debugAdKind")||aOe.a.NONE},y=window.chrome.cast.media,b=new y.MediaInfo(u.get("key"));b.customData=h;const I=new y.LoadRequest(b);I.currentTime=m,I.autoplay=!0,Object(C.a)("[Cast] Sending load media request"),n.loadMedia(I).then(()=>{Object(C.a)("[Cast] Load media success"),s=!1,v({isMediaLoading:!1})},e=>{C.a.warn(`[Cast] Failed to load media with error "${e}"`),s=!1,a(hC({playQueueType:c}))})}).fail(()=>{s=!1,a(hC({playQueueType:c,errorMessage:Object(Ce.default)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:m.get("friendlyName")})}))})},mirrorDetails:function(t){if(!n)return void C.a.warn("[Cast] Mirror details ignored; no cast session");const a=e.get("user"),i=t.server,r=t.provider;s9e(i).done(e=>{const n={server:e,providerIdentifier:r.get("identifier"),user:{username:a.get("username")}},i=new window.chrome.cast.media.MediaInfo(t.get("key"));i.customData=n,w({type:Ost.p,media:i})})},sendMessage:w,setVolume:function(e){n?(Object(C.a)(`[Cast] Setting volume to "${e}"`),a(mC(e)),e?(n.isMute()&&(o++,n.setMute(!1).then(S,S)),l++,n.setVolume(e/100).then(I,I)):(o++,n.setMute(!0).then(S,S))):C.a.warn("[Cast] Set volume ignored; no cast session")}}}function Tst(){Object(E.b)({CloudServerFlexModel:Sit,ServerFlexModel:Rit,UserFlexModel:rrt}),Object(E.b)({UserExperienceSettingsModel:V4e,StoredUserExperienceSettingsModel:zit});const e=new fit,t=function(e){return srt(_rt,e)}(e);return Object(E.b)({appModel:e,appStore:t}),Object(E.b)({adPlayerComponent:P5e,companionPlayerProfile:x5e,companionProxy:new m5e,companionVote:qrt(),fullscreenManager:Sst(),remoteCastPlayerManager:Pst(e,t),getDecisionOptions:n6e,mediaComponent:U5e,serviceWorker:(S.a.hasServiceWorker,{register:()=>(S.a.hasServiceWorker,Object(C.a)("[Workers] Registered mock service worker"),Promise.resolve()),sendMessage:e=>(C.a.debug("[Workers] Mock worker sending message %o",e),Promise.resolve())}),sessionStats:new h5e}),function(){const e=Object(E.c)("appModel"),t=Object(E.c)("appStore");return Object(E.b)({settingFinder:_6e(e),selectRemoteQuality:f9e,selectRestorePlayQueue:b9e,selectSubtitleSettings:v9e,selectLocalVolume:y6e}),Object(E.b)({metricsReporter:[r6e(),o6e],logs:new y9e([],{parent:e}),testServerConnection:m6e}),Object(E.b)({companionServerManager:new G6e({appModel:e}),keyboardShortcuts:{shortcuts:[{keys:["?"],fn:"help",group:"navigation",label:()=>Object(Ce.default)("Open Keyboard Shortcuts")},{keys:["esc"],fn:"escape",group:"navigation",label:()=>Object(Ce.default)("Close Modal or Menu")},{keys:["g h"],fn:"home",group:"navigation",label:()=>Object(Ce.default)("Navigate to Home")},{keys:["g s"],fn:"settings",group:"navigation",label:()=>Object(Ce.default)("Navigate to Settings")},{keys:["g d"],fn:"activity",group:"navigation",label:()=>Object(Ce.default)("Navigate to Dashboard")},{keys:["g u"],fn:"usersSharing",group:"navigation",label:()=>Object(Ce.default)("Navigate to Users & Sharing")},{keys:["/"],fn:"search",group:"actions",label:()=>Object(Ce.default)("Focus Search")},{keys:["p"],fn:"playSelected",group:"actions",label:()=>Object(Ce.default)("Open Player")},{keys:["w"],fn:"togglePlayed",group:"actions",label:()=>Object(Ce.default)("Toggle as Played/Unplayed")},{keys:["e"],fn:"edit",group:"actions",label:()=>Object(Ce.default)("Edit Metadata")},{keys:["i"],fn:"info",group:"actions",label:()=>Object(Ce.default)("Get Info")},{keys:["shift+s"],fn:"save",group:"actions",label:()=>Object(Ce.default)("Save Changes")},{keys:["space"],fn:"playPause",group:"player",label:()=>Object(Ce.default)("Play or Pause")},{keys:["play"],fn:"play",group:"player",label:()=>Object(Ce.default)("Play")},{keys:["pause"],fn:"pause",group:"player",label:()=>Object(Ce.default)("Pause")},{keys:["\\"],fn:"toggleFullScreen",group:"player",label:()=>Object(Ce.default)("Toggle FullScreen")},{keys:["down"],fn:"decreaseVolume",group:"player",label:()=>Object(Ce.default)("Decrease Volume")},{keys:["up"],fn:"increaseVolume",group:"player",label:()=>Object(Ce.default)("Increase Volume")},{keys:[",","left"],fn:"seekBackward",group:"player",label:()=>Object(Ce.default)("Seek Backward (10 seconds)")},{keys:[".","right"],fn:"seekForward",group:"player",label:()=>Object(Ce.default)("Seek Forward (30 seconds)")},{keys:["[","alt+left"],fn:"stepBackward",group:"player",label:()=>Object(Ce.default)("Step Backward (10 minutes)")},{keys:["]","alt+right"],fn:"stepForward",group:"player",label:()=>Object(Ce.default)("Step Forward (10 minutes)")},{keys:["shift+left"],fn:"skipPrevious",group:"player",label:()=>Object(Ce.default)("Skip to Previous Item")},{keys:["shift+right"],fn:"skipNext",group:"player",label:()=>Object(Ce.default)("Skip to Next Item")},{keys:["x"],fn:"stop",group:"player",label:()=>Object(Ce.default)("Close Player")}],triggerShortcut(e){const t="shortcut:"+e;if($.a.hasListener(t))return $.a.trigger(t),!1},help(e){$.a.trigger("show:modal",new Yje({shortcuts:this.shortcuts}))},escape(e){$.a.trigger("shortcut:escape")},home(e){Object(see.a)("home")},settings(e){Object(see.a)("webSettings",{settingsSubset:"general"})},activity(e){const t=E.c("appModel").get("primaryServer");t&&!t.get("isShared")&&Object(see.a)("serverSettings",{machineIdentifier:t.id,settingsSection:"status",settingsGroup:"server-dashboard"})},usersSharing(e){Object(see.a)("usersSharing")},search(e){return this.triggerShortcut("search")},playSelected(e){return this.triggerShortcut("playSelected")},togglePlayed(e){return this.triggerShortcut("togglePlayed")},edit(e){return this.triggerShortcut("edit")},info(e){return this.triggerShortcut("info")},save(e){return this.triggerShortcut("save")},playPause(e){return this.triggerShortcut("playPause")},play(e){return this.triggerShortcut("play")},pause(e){return this.triggerShortcut("pause")},toggleFullScreen(e){return this.triggerShortcut("toggleFullScreen")},decreaseVolume(e){return this.triggerShortcut("decreaseVolume")},increaseVolume(e){return this.triggerShortcut("increaseVolume")},seekBackward(e){return this.triggerShortcut("seekBackward")},seekForward(e){return this.triggerShortcut("seekForward")},stepBackward(e){return this.triggerShortcut("stepBackward")},stepForward(e){return this.triggerShortcut("stepForward")},skipPrevious(e){return this.triggerShortcut("skipPrevious")},skipNext(e){return this.triggerShortcut("skipNext")},stop(e){return this.triggerShortcut("stop")}},localCompanionTimelineManager:a9e(e,t,{getPlayerModels(e){const t=e.get("ui");return[t.get("audioVideoPlayer"),t.get("photoPlayer")]},getVolume:f6e.a}),localCompanionCommandHandler:H6e,mediaServerEventConnection:P9e,metrics:[new t8e({isPlaybackActive:g6e}),s6e],primaryServerManager:new a8e({appModel:e}),providerManager:new n8e({appModel:e}),remotePlexPlayerManager:o9e(e,t),serverConnectionManager:new Y6e({appModel:e}),serverConnectionTestManager:new r8e({appModel:e}),serverManager:new u8e({appModel:e}),serverUpdateManager:new p8e({appModel:e}),sourceManager:new g8e({appModel:e}),syncplaySessionManager:new F8e({appModel:e,appStore:t}),watchTogetherRoomsManager:new X8e({appModel:e,appStore:t})}),h.a.Deferred().resolve().promise()}().then(Ist.registerAll)}const wst=new p.a.Application;wst.addInitializer(()=>Tst().then(W3e));var Nst=wst;a("tuLj");Nst.start()},gjek:function(e,t,a){e.exports={serverButton:"SelectPreferredServerItem-serverButton-29jc7n",isSelected:"SelectPreferredServerItem-isSelected-daviyr",friendlyName:"SelectPreferredServerItem-friendlyName-2aHvL6",serverMenuIcon:"SelectPreferredServerItem-serverMenuIcon-d3k6mW",titles:"SelectPreferredServerItem-titles-mvqGjT",isUnavailable:"SelectPreferredServerItem-isUnavailable-JNfkys",title:"SelectPreferredServerItem-title-2YCAba",details:"SelectPreferredServerItem-details-33OHk_"}},gmpS:function(e,t,a){e.exports={jumpBar:"DirectoryListJumpBar-jumpBar-397HqV",character:"DirectoryListJumpBar-character-TJRgel Link-link-2ew_DK"}},gnaf:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"k",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"h",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"j",(function(){return p})),a.d(t,"a",(function(){return m})),a.d(t,"l",(function(){return h}));const n="tv.plex.provider.epg",i="tv.plex.providers.epg",r="tv.plex.providers.epg.xmltv",s="com.plexapp.plugins.library",o="tv.plex.provider.metadata",l="tv.plex.provider.music",c="tv.plex.provider.news",d="tv.plex.provider.podcasts",u="tv.plex.provider.vod",p="tv.plex.provider.webshows",m=[n,i,r,s,"com.plexapp.plugins.library.sync",o,l,c,d,u,p];function h(e,t){return!!e&&(Array.isArray(t)||(t=[t]),t.some(t=>-1!==e.indexOf(t)))}},gqMA:function(e,t,a){const n=a("S09J").default,i=a("a4Cb");e.exports=i(n)},grBd:function(e,t,a){e.exports={hub:"VirtualHubScroller-hub-3Pu2m6",hubHeader:"VirtualHubScroller-hubHeader-216w6Z",hubActions:"VirtualHubScroller-hubActions-28Hhyo",hubScrollButton:"VirtualHubScroller-hubScrollButton-Lw8gSe IconButton-iconButton-2l04Bi Link-link-2ew_DK",hubScroller:"VirtualHubScroller-hubScroller-3pMK1r VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},graF:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("66GW"),s=a("NJuV"),o=a("Rkkp"),l=a.n(o);t.a=function({errorMessage:e}){return i.a.createElement("div",{className:l.a.sectionError},i.a.createElement(s.a,{className:l.a.sectionErrorIcon}),e||Object(r.default)("There was a problem saving your changes."))}},gxMp:function(e,t,a){e.exports={hubCellTitle:"HubCellTitle-hubCellTitle-2abInv"}},gxTH:function(e,t,a){"use strict";var n=a("cgRT"),i=a("hDJw"),r=a("zTsO");t.a=function(){const e=Object(n.c)("appModel"),t=Object(i.a)(e,r.E),a=e.get("deviceSettings").get("v4DirectoryEnabled"),s=e.get("user").get("experienceSettings").get("autoHomeHubsEnabled");return t&&a&&s}},h1VY:function(e,t,a){e.exports={page:"Page-page-aq7i_X"}},h3e2:function(e,t,a){e.exports={container:"DurationRemaining-container-1F4w8F"}},h5wC:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="setup-header row hidden"> <div class="col-sm-6 col-sm-offset-3"> <div class="sign-in-logo text-center"> <i class="plex-image plex-logo"></i> </div> <h2>'+l(i(a("d8WC")).call(t,"Server Setup",{hash:{},data:s}))+'</h2> <div class="setup-progress"> <div class="basic-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupBasic" href="#">'+l(i(a("d8WC")).call(t,"Name",{hash:{},data:s}))+'</a> </div> <div class="library-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupLibrary" href="#">'+l(i(a("d8WC")).call(t,"Media Library",{hash:{},data:s}))+'</a> </div> <div class="complete-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupComplete" href="#">'+l(i(a("d8WC")).call(t,"Finish",{hash:{},data:s}))+'</a> </div> </div> </div> </div> <div class="setup-container"></div> '}))},h62C:function(e,t,a){e.exports={tagItem:"PrePlayTagList-tagItem-ngKu2p",tagsListLink:"PrePlayTagList-tagsListLink-2nWdI2 PrePlayTagListLink-tagsListLink-1VUQaN Link-link-2ew_DK"}},h7fT:function(e,t,a){e.exports={header:"SettingsPageHeader-header-1ugtIL"}},hBzc:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("LX0A"),s=a("L395"),o=a("pD+/"),l=a("g2Jg"),c=a("pQ98"),d=a("wCAT"),u=a("cUsW"),p=a.n(u);function m(e,t){if(t.shouldCenterCell){const a=(t.viewportDimension-t.cellDimension)/2,n=Math.round(e-a);return Math.max(n,0)}return e-(t.offset||0)}class h extends n.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e,scrollLeft:t})=>{this.setState({scrollTop:e,scrollLeft:t})},this.onListUpdate=e=>{const{visibleStartIndex:t}=e,{scrollIndex:a,onListScrollIndexChange:n,onListUpdate:i}=this.props;this._currentScrollIndex=t,this.state.isRestoringScrollPosition&&this.setState({isRestoringScrollPosition:!1}),n&&a!==t&&n(t),i&&i(e)},this.onMeasure=e=>{const t=Math.round(e.width),a=Math.round(e.height),{onMeasure:n}=this.props;this.setState({isMeasured:!0,width:t,height:a}),n&&n(e)},this.state={isRestoringScrollPosition:!1,isMeasured:!1,width:null,height:null,scrollTop:0,scrollLeft:0},this._currentScrollIndex=0,e.scrollPositionStorageKey&&(this._scrollPositionKey=`${l.a.getPageKey()}!scrollPosition!${e.scrollPositionStorageKey}`)}componentWillMount(){this.props.scrollIndex||this._restoreScrollPosition()}shouldComponentUpdate(e,t){return Object(d.a)(this,e,t)}componentDidUpdate(e,t){const{scrollIndex:a,scrollDirection:n,shouldCenterScrollIndex:i,layout:r}=this.props,{scrollLeft:s,scrollTop:o,width:l,height:d,isMeasured:u}=this.state;if(null==a||a===this._currentScrollIndex&&!i)return;const p=u&&!t.isMeasured&&a>0,h=u&&a!==e.scrollIndex,g=i!==e.shouldCenterScrollIndex;if(p||h||g){const e=function(e,t,{shouldCenterCell:a,outerPaddingLeft:n,outerPaddingTop:i,scrollerWidth:r,scrollerHeight:s}){return{scrollLeft:e===c.a?m(t.cellX,{shouldCenterCell:a,offset:n,viewportDimension:r,cellDimension:t.cellWidth}):0,scrollTop:e===c.c?m(t.cellY,{shouldCenterCell:a,offset:i,viewportDimension:s,cellDimension:t.cellHeight}):0}}(n,r.getPositionForIndex(Math.max(a,0)),{shouldCenterCell:i,outerPaddingLeft:r.options.outerPaddingLeft,outerPaddingTop:r.options.outerPaddingTop,scrollerWidth:l,scrollerHeight:d}),t=e.scrollLeft!==s||e.scrollTop!==o;this.setState({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,isRestoringScrollPosition:p&&t})}}componentWillUnmount(){this._scrollPositionKey&&l.a.set(this._scrollPositionKey,{scrollTop:this.state.scrollTop,scrollLeft:this.state.scrollLeft})}_restoreScrollPosition(){if(this._scrollPositionKey){const e=l.a.get(this._scrollPositionKey);e&&this.setState({isRestoringScrollPosition:!0,...e})}}render(){const{className:e,children:t,scrollerClassName:a,virtualListClassName:n,ignoreWidth:l,ignoreHeight:c,resizeTimeout:d,scrollDirection:u,scrollIndex:p,scrollPositionStorageKey:m,smoothScroll:h,scrollerStyle:g,forwardedRef:y,onListUpdate:f,onMeasure:b,onScroll:v,...I}=this.props,{isMeasured:S,isRestoringScrollPosition:E,width:O,height:M,scrollTop:C,scrollLeft:j}=this.state;return i.a.createElement(r.a,{className:e,ignoreWidth:l,ignoreHeight:c,ignorePosition:!0,resizeTimeout:d,onMeasure:this.onMeasure},S?i.a.createElement(s.a,{className:a,smoothScroll:!1!==h&&!E,scrollDirection:u,scrollTop:C,scrollLeft:j,enableChildrenProps:!0,style:g,ref:y,onScroll:v,onScrollPositionChange:this.onScrollPositionChange},i.a.createElement(o.a,{className:n,viewportWidth:O,viewportHeight:M,skipRenderCells:E,onListUpdate:this.onListUpdate,...I}),t):null)}}h.defaultProps={scrollDirection:c.c,scrollerClassName:p.a.scroller,shouldCenterScrollIndex:!1},t.a=i.a.forwardRef((e,t)=>i.a.createElement(h,{...e,forwardedRef:t}))},hDAk:function(e,t,a){e.exports={smartPlaylistBadge:"SmartPlaylistBadge-smartPlaylistBadge-2VXkAv Badge-badge-3I6Kzp"}},hDJw:function(e,t,a){"use strict";function n(e,t){return!!e.get("user").get("features").findWhere({uuid:t})}a.d(t,"a",(function(){return n}))},hFBU:function(e,t,a){"use strict";a.d(t,"m",(function(){return u})),a.d(t,"n",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return h})),a.d(t,"k",(function(){return g})),a.d(t,"o",(function(){return y})),a.d(t,"g",(function(){return f})),a.d(t,"l",(function(){return b})),a.d(t,"h",(function(){return v})),a.d(t,"d",(function(){return I})),a.d(t,"c",(function(){return S})),a.d(t,"f",(function(){return E})),a.d(t,"j",(function(){return O})),a.d(t,"e",(function(){return M})),a.d(t,"i",(function(){return C})),a.d(t,"A",(function(){return j})),a.d(t,"q",(function(){return D})),a.d(t,"p",(function(){return P})),a.d(t,"y",(function(){return T})),a.d(t,"B",(function(){return w})),a.d(t,"v",(function(){return N})),a.d(t,"z",(function(){return x})),a.d(t,"w",(function(){return A})),a.d(t,"s",(function(){return L})),a.d(t,"r",(function(){return k})),a.d(t,"u",(function(){return R})),a.d(t,"t",(function(){return z})),a.d(t,"x",(function(){return U}));var n=a("F/us"),i=a.n(n),r=a("ICb1"),s=a("rG0a"),o=a("92Vb"),l=a("GdCd"),c=a("hPIe"),d=a("1Lwt");const u="server/testServer",p="server/testServers",m="server/confirmRelayConnection",h="server/addHttpFallbackConnection",g="server/startActivity",y="server/updateActivity",f="server/finishActivity",b="server/startSyntheticActivity",v="server/finishSyntheticActivity",I="server/eventConnectionOpen",S="server/eventConnectionClose",E="server/fetchProviders",O="server/populateProviders",M="server/fetchLibraries",C="server/populateLibraries",j=Object(r.a)(u),D=(Object(r.a)(p),Object(r.a)(m)),P=Object(r.a)(h),T=Object(r.a)(g),w=Object(r.a)(y),N=Object(r.a)(f),x=Object(r.a)(b),A=Object(r.a)(v),L=Object(r.a)(I),k=Object(r.a)(S),R=Object(r.a)(E),z=(Object(r.a)(O),Object(r.a)(M)),U=(Object(r.a)(C),{[m](e,t){},[h](e,t){},[g](e,t,a){const n=Object(c.l)(e,t);if(!n)return;const i=t.activity;n.get("activities").add([i],{parse:!0}),i.synthetic||a(A({serverEntityID:t.serverEntityID,activityType:i.type}))},[y](e,t){const a=Object(c.l)(e,t);if(!a)return;a.get("activities").add([t.activity],{parse:!0,merge:!0})},[f](e,t){const a=Object(c.l)(e,t);if(!a)return;a.get("activities").remove(t.activity.uuid)},[b](e,t,a){Object(d.a)(()=>{const e={type:t.activityType,synthetic:!0,uuid:`${t.activityType}-${Date.now()}`};t.title&&(e.title=t.title),t.Context&&(e.Context=t.Context),a(T({serverEntityID:t.serverEntityID,activity:e}))})},[v](e,t){const a=Object(c.l)(e,t);if(!a)return;const n=a.get("activities"),{activityType:r,Context:s,title:o}=t,l=n.findWhere(e=>e.get("type")===r&&!0===e.get("synthetic")&&(!o||e.get("title")===o)&&(!s||i.a.isEqual(e.get("Context"),s)));l&&n.remove(l)},[I](e,t){const a=Object(c.m)(e,t),n=Object(c.l)(e,t);if(!a||!n)return;const i=n.get("activities");a.set("hasEventConnection",!0),i.fetch()},[S](e,t){const a=Object(c.m)(e,t);a&&a.set("hasEventConnection",!1)},[E]:Object(o.a)({key:"providers",getModel:c.m}),[O]:Object(l.a)({key:"providers",fetchActionCreator:R,getModel:c.m}),[M]:Object(o.a)({key:"libraries",getModel:c.l}),[C]:Object(l.a)({key:"libraries",fetchActionCreator:z,getModel:c.l}),[u](e,t){const a=Object(c.m)(e,t);s.a.trigger("test:server",a)},[p](){s.a.trigger("test:servers")}})},hFcZ:function(e,t,a){"use strict";var n=a("xORa");const i=Object.assign({},n.a,{v4AccentLight:"#e5a00d",v4AltLight:"#fafafa",v4AltMedium:"#a0aab1",v4AltMediumDark:"#737e87",v4AltMediumLight:"#d6dcdf",v4BaseDark:"#1f2326",v4BaseLight:"#444f56",v4BaseMedium:"#2a3136",v4BaseMediumLight:"#343a3f",v4DefaultColor:"#fafafa",v4DividerColor:"#1f2326",primaryButtonColor:"#1f2326",dragPreviewBackgroundColor:"rgba(76, 76, 76, 0.7)",dragPreviewOpacity:"0.9",dragPreviewLowOpacity:"0.35",dropLocationColor:"#f9be03",sliderTrackBackgroundColor:"rgba(255, 255, 255, 0.2)",sliderThumbBackgroundColor:"#ddd",sliderThumbHoverBackgroundColor:"#fff",rowOddBackgroundColor:"rgba(255, 255, 255, 0.03)",rowEvenBackgroundColor:"#292929",avatarBackgroundColor:"#999",detailsShadowColor:"#000",playerBackgroundColor:"#232426",playerTopControlsBackgroundColor:"rgba(35, 36, 38, 0.45)",playerBottomControlsBackgroundColor:"rgba(35, 36, 38, 0.8)",playerPrimaryButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",miniPlayerBackgroundColor:n.a.blackDarkerTranslucentBackgroundColor,playerSecondaryOverlayColor:"rgba(0, 0, 0, 0.4)",playerPosterActionColor:n.a.blackDarkTranslucentBackgroundColor,playerPanelColor:"rgba(0, 0, 0, 0.6)",playerDisabledLinkColor:"rgba(255, 255, 255, 0.15)",playerShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTrackColor:"rgba(0, 0, 0, 0.75)",seekBarTrackColorHover:"rgba(255, 255, 255, 0.15)",seekBarFillColor:"#cc7b19",seekBarBufferColor:"rgba(204, 123, 25, 0.3)",seekBarThumbnailShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTooltipBackgroundColor:"#000",seekBarTooltipShadowColor:"rgba(0, 0, 0, 0.5)",thumbnailBackgroundColor:"rgba(0, 0, 0, 0.45)",adSeekBarFillColor:"#f9be03",equalizerBarColor:"#f9be03",htmlMediaElementBackgroundColor:"#000",toastBackgroundColor:"rgba(1, 1, 1, 0.50)",posterBackgroundColor:"rgba(0, 0, 0, 0.45)",posterHoverBackgroundColor:"radial-gradient(farthest-corner at 50% 50%, rgba(50, 50, 50, 0.5) 50%, rgb(50, 50, 50) 100%)",posterSelectedBackgroundColor:"rgba(30, 30, 30, 0.5)",posterBlendedSelectedBackgroundColor:"rgba(19, 19, 19, 0.78);",posterPlaceholderIconColor:"rgba(255, 255, 255, 0.15)",posterCenterCircleBackgroundColor:"rgba(0, 0, 0, 0.45)",posterBadgeShadowColor:"rgba(0, 0, 0, 0.6)",posterProgressTrackBackgroundColor:"rgba(0, 0, 0, 0.75)",posterVersionBadgeColor:"#556688",posterSmartBadgeColor:"rgb(142, 97, 145)",posterFavoriteBadgeColor:"rgb(229, 172, 182)",v4CardBackgroundColor:"rgba(0, 0, 0, 0.45)",v4CardShimmerBackgroundColor:"rgba(0, 0, 0, 0.3)",v4CardShadowColor:"rgba(0, 0, 0, 0.3)",v4CardHoverBackgroundColor:"rgba(30, 30, 30, 0.6)",v4CardHoverBorderColor:"#e5a00d",recordColor:"#f53",recordHoverColor:"color(#f53 lightness(+5%))",recordBackgroundColor:"#b32",recordActiveBackgroundColor:"color(#b32 blackness(+10%))",dayOfWeekBackgroundColor:"rgba(255, 255, 255, 0.1)",dayOfWeekColor:"rgba(255, 255, 255, 0.75)",todayBackgroundColor:"rgba(255, 255, 255, 0.3)",todayColor:"rgba(255, 255, 255, 0.1)",calendarEventSuccessBackgroundColor:"rgba(0, 102, 153, 0.15)",calendarEventSuccessAlternateBackgroundColor:"rgba(31, 120, 165, 0.17)",calendarEventSuccessHoverBackgroundColor:"rgba(76, 148, 183, 0.20)",calendarEventErrorBackgroundColor:"rgba(187, 51, 34, 0.3)",calendarEventErrorAlternateBackgroundColor:"rgba(191, 64, 48, 0.31)",calendarEventErrorHoverBackgroundColor:"rgba(199, 87, 73, 0.34)",recordingIconColor:"#ff5533",playColor:"rgba(255, 255, 255, 0.75)",channelGridTimelineLabelColor:"#a0aab1",channelGridSelectedItemDetailsBackgroundColor:"rgba(0, 0, 0, 0.2)",channelGridBorderColor:"#343a3f",channelGridHoverColor:"rgba(255, 255, 255, 0.2)",channelGridBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridOnAirBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridFinishedAiringBackgroundColor:"rgba(160, 170, 177, 0.3)",channelGridProgressColor:"rgba(160, 170, 177, 0.1)",channelGridMissingItemBackgroundColor:"rgba(0, 0, 0, 0)",channelGridChannelThumbBackgroundColor:"rgba(42, 49, 54, 0.5)",channelGridRecentChannelThumbBackgroundColor:"rgba(255, 255, 255, 0.05)",channelGridChannelIdentifierBackroundColor:"rgba(42, 49, 54, 0.5)",channelGridNewBadgeColor:"rgba(84, 84, 84)",filterBuilderInputBackgroundColor:"rgba(0, 0, 0, 0.6)",altFilterBuilderInputBackgroundColor:n.a.blackDarkerTranslucentBackgroundColor,dvrBackgroundColor:n.a.blackDarkTranslucentBackgroundColor,prePlayUnavailableButtonBackgroundColor:"rgba(255, 84, 50, 0.6)",prePlayPartialButtonBackgroundColor:"rgba(204, 123, 25, 0.6)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.08)",preferredServerButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",sortableHomeHubsContainerBackgroundColor:"rgba(255, 255, 255, 0.03)",sortableHomeHubsRowBackgroundColor:"rgba(255, 255, 255, 0.02)",chartTranslucentOpacity:"0.25",serverDashboardTileRowBackgroundPrimaryColor:"rgba(229, 160, 13, 0.2)",serverDashboardTileRowBackgroundSecondaryColor:"rgba(229, 160, 13, 0.15)",serverDashboardTileRowBackgroundTertiaryColor:"rgba(229, 160, 13, 0.1)",serverDashboardTileRowBackgroundQuaternaryColor:"rgba(229, 160, 13, 0.05)",sessionStopBackgroundColor:"#701f29",sessionStopIconColor:"rgba(255, 255, 255, 0.5)",sourceSidebarSelectedColor:"rgba(255, 255, 255, 0.07)"});t.a=i},"hG+J":function(e,t,a){e.exports={menu:"AudioVideoQualityMenuInput-menu-2i8jzi Menu-menu-3XnN6J"}},hGck:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;function d(e,t){return"hidden"}function u(e,t){return"checked"}return l+='<div class="form-group ',((o=n.unless.call(t,t&&t.showUnwatched,{hash:{},inverse:this.noop,fn:this.program(1,d,s),data:s}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-unwatched" name="policyUnwatched" ',((o=n.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.unwatched,{hash:{},inverse:this.noop,fn:this.program(3,u,s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(a("d8WC")).call(t,"Unwatched only",{hash:{},data:s}))+' </label> </div> <div class="form-group ',((o=n.unless.call(t,t&&t.isDirectory,{hash:{},inverse:this.noop,fn:this.program(1,d,s),data:s}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-scope" name="policyScope" value="count" ',((o=i(a("w+Xr")).call(t,null==(o=t&&t.policy)||!1===o?o:o.scope,"count",{hash:{},inverse:this.noop,fn:this.program(3,u,s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(a("d8WC")).call(t,"Limit to",{hash:{},data:s}))+' <input type="number" id="convert-policy-value" name="policyValue" class="policy-value-control form-control" ',((o=n.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.value,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var a,n="";return n+='value="'+c("function"==typeof(a=null==(a=e&&e.policy)||!1===a?a:a.value)?a.apply(e):a)+'"'}),s),data:s}))||0===o)&&(l+=o),l+="> "+c(i(a("d8WC")).call(t,"items",{hash:{},data:s}))+' </label> <p class="convert-warning help-block ',((o=n.unless.call(t,t&&t.showLimitWarning,{hash:{},inverse:this.noop,fn:this.program(1,d,s),data:s}))||0===o)&&(l+=o),l+='"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> ',((o=n.if.call(t,t&&t.isSync,{hash:{},inverse:this.program(9,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"A large number of items may be time-consuming to convert. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),s),fn:this.program(7,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"A large number of sync items may be time-consuming to convert and transfer to your device. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" </span> </p> </div> "}))},hHWh:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("f+Ik"),l=a("qNMu"),c=a("VzhI"),d=a("d36p"),u=a.n(d);function p({className:e,kind:t,size:a,direction:n,isSelected:r}){return s.a.createElement("span",{className:i()(e,u.a[n],u.a[t],u.a[a],r&&u.a.isSelected)})}p.defaultProps={className:u.a.disclosureArrow,direction:o.a,kind:l.c,size:c.b,isSelected:!1},t.a=p},hIt6:function(e,t,a){e.exports={darkModalBackdrop:"UserSelectModal-darkModalBackdrop-1K3dyn"}},hK2U:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-more-vertical-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"M350 280c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0-210c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0 420c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},hNn6:function(e,t,a){e.exports={toolbarRecordButton:"ToolbarRecordButton-toolbarRecordButton-2R8pzM ToolbarButton-toolbarButton-2i2nnD PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2"}},hOze:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a("q1tI"),i=a.n(n),r=a("fArA"),s=a("F/us"),o=a.n(s),l=a("qxsR"),c=a("ICb1");const d="CHANGE",u="REPLACE_STATE",p="RESET",m="SHOW_ERRORS",h={change:Object(c.a)(d),replaceState:Object(c.a)(u),reset:Object(c.a)(p),showErrors:Object(c.a)(m)};function g(e={},{type:t,payload:a}){switch(t){case d:{const{name:t,change:n}=a;if(null==n){const a={...e};return delete a[t],a}return{...e,[t]:n}}case u:return a;case p:return{};case m:return o.a.mapObject(e,e=>({...e,showErrors:0!==e.errors.length}));default:return e}}class y extends n.Component{constructor(e,t){super(e,t),this.onFormStoreChange=()=>{const e=this.store.getState();e!==this.prevState&&(this.prevState=e,this.props.onChange(e))},this.onSubmit=e=>{e.preventDefault(),e.nativeEvent.preventDefault();const t=this.store.getState();if(o.a.some(t,(e,t)=>0!==e.errors.length))this.actions.showErrors();else{const e=o.a.mapObject(t,(e,t)=>e.value);this.props.onSubmit(e,t)}},this.store=Object(r.createStore)(g),this.prevState=this.store.getState(),this.actions=Object(r.bindActionCreators)(h,this.store.dispatch)}getChildContext(){return{formStore:this.store}}componentWillMount(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)}componentWillReceiveProps(e){e.formState&&this.store.getState()!==e.formState&&this.actions.replaceState(e.formState)}componentWillUnmount(){this.unsubscribe&&(this.unsubscribe(),this.store.replaceReducer(e=>e))}render(){const{children:e,formState:t,onChange:a,...n}=this.props;return i.a.createElement("form",{...n,onSubmit:this.onSubmit},e)}}y.childContextTypes={formStore:l.a},y.defaultProps={onSubmit(){},onChange(){}},t.b=y},hPIe:function(e,t,a){"use strict";a.d(t,"o",(function(){return r})),a.d(t,"n",(function(){return s})),a.d(t,"m",(function(){return o})),a.d(t,"u",(function(){return l})),a.d(t,"l",(function(){return c})),a.d(t,"j",(function(){return d})),a.d(t,"t",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"g",(function(){return h})),a.d(t,"s",(function(){return g})),a.d(t,"f",(function(){return y})),a.d(t,"r",(function(){return f})),a.d(t,"e",(function(){return b})),a.d(t,"d",(function(){return v})),a.d(t,"q",(function(){return I})),a.d(t,"h",(function(){return S})),a.d(t,"i",(function(){return E})),a.d(t,"a",(function(){return O})),a.d(t,"k",(function(){return M})),a.d(t,"p",(function(){return C}));var n=a("7za+"),i=a("FWoo");function r(e){return e.get("user")}function s(e){return e.get("user").get("desktop")}function o(e,{serverEntityID:t}){return Object(i.a)(e,n.n,t)}function l(e,{serverEntityID:t}){return Object(i.b)(e,n.n,t)}function c(e,t){const a=o(e,t);return a&&a.get("desktop")}function d(e,{providerEntityID:t}){return Object(i.a)(e,n.k,t)}function u(e,{providerEntityID:t}){return Object(i.b)(e,n.k,t)}function p(e,{libraryEntityID:t}){return Object(i.a)(e,n.d,t)}function m(e,{hubEntityID:t}){return Object(i.a)(e,n.c,t)}function h(e,{metadataListEntityID:t}){return Object(i.a)(e,n.h,t)}function g(e,{metadataListEntityID:t}){return Object(i.b)(e,n.h,t)}function y(e,{metadataItemEntityID:t}){return Object(i.a)(e,n.g,t)}function f(e,{metadataItemEntityID:t}){return Object(i.b)(e,n.g,t)}function b(e,{mediaSubscriptionEntityID:t}){return Object(i.a)(e,n.f,t)}function v(e,{liveTVSessionEntityID:t}){return Object(i.a)(e,n.e,t)}function I(e,{liveTVSessionEntityID:t}){return Object(i.b)(e,n.e,t)}function S(e,{playQueueItemEntityID:t}){return Object(i.a)(e,n.j,t)}function E(e,{playlistItemEntityID:t}){return Object(i.a)(e,n.i,t)}function O(e,{friendEntityID:t}){return Object(i.a)(e,n.a,t)}function M(e,{searchResultEntityID:t}){return Object(i.a)(e,n.m,t)}function C(e,{watchTogetherRoomEntityID:t}){return Object(i.a)(e,n.q,t)}},hPsq:function(e,t,a){"use strict";a.r(t);var n=a("+X4A"),i=a("2DfW");t.default=function(e,t){return Object(i.default)(n.default.getLastSegment(e||""),t)}},hW8R:function(e,t,a){"use strict";t.a=function(e){return!(!e||!e.downloadSubscriptionID)}},haOg:function(e,t,a){"use strict";var n=a("G4qV"),i=a("X7Ko");const r=Object(n.a)(i.a,e=>e.providers);t.a=r},hcx5:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("9wnK"),s=a("Zgl5"),o=a("DA7V"),l=a("VzhI"),c=a("cgRT"),d=a("YINS"),u=a("IIsI"),p=a("wmCi"),m=a("wlUd"),h=a.n(m);class g extends n.Component{constructor(){super(...arguments),this.onItemSelect=e=>{Object(c.c)("metrics").trackClick({...this.props.metricsProperties,page:this.props.metricsPage,action:d.cb,value:e}),this.props.onItemSelect(e)},this.onCancel=()=>{Object(c.c)("metrics").trackClick({...this.props.metricsProperties,page:this.props.metricsPage,action:d.j}),this.props.onCancel()}}render(){const{children:e,isOpen:t,metricsPage:a,metricsProperties:n,title:c}=this.props;return i.a.createElement(u.a,{size:l.c,isOpen:t,metricsPage:a,metricsProperties:n,onModalClose:this.onCancel},i.a.createElement(p.a,{onModalClose:this.onCancel},i.a.createElement(s.a,null,c),i.a.createElement(r.a,{innerClassName:h.a.listModalInnerBody},Object(o.a)(e,e=>i.a.cloneElement(e,{onSelect:this.onItemSelect})))))}}t.a=g},hhQi:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a("ICb1"),i=a("U//L");const r=Object(n.a)("ui/modal/syncDownloadModalChangeTemplateMode"),s=Object(n.a)("ui/modal/syncDownloadModalClose"),o=Object(n.a)("ui/modal/syncDownloadModalOpen"),l=Object(n.a)("ui/modal/syncDownloadModalSaveSubscription"),c=Object(i.a)({})},hjda:function(e,t,a){e.exports={titleContainer:"MetadataPosterCell-titleContainer-24DI63",continueWatchingTitleContainer:"MetadataPosterCell-continueWatchingTitleContainer-3yCAYP",splitTitleContainer:"MetadataPosterCell-splitTitleContainer-RAVdFk"}},hrOP:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{label:"Tags",name:"tag",attribute:"tags",locked:(o=t&&t.locked,null==o||!1===o?o:o.tag)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(a("nptq")).call(t,"lockableTagInput",{hash:{onlyDelete:!0,label:"Autotags",name:"autotag",attribute:"autotags",locked:(o=t&&t.locked,null==o||!1===o?o:o.autotag)},data:s}))+" </div> </div> </form> "}))},hrUx:function(e,t,a){e.exports={playHistoryListPageContent:"PlayHistoryList-playHistoryListPageContent-2V1eSL PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},hrvX:function(e,t,a){e.exports={container:"PrePlayDetailsColumn-container-2pRB1i"}},hsfa:function(e,t,a){e.exports={container:"TickMarks-container-Dsw5zQ",ticks:"TickMarks-ticks-3rrhGg",tick:"TickMarks-tick-S3qkF1",minor:"TickMarks-minor-1EIQql TickMarks-tick-S3qkF1",major:"TickMarks-major-2GXoin TickMarks-tick-S3qkF1",label:"TickMarks-label-2qQMLo"}},hsp8:function(e,t,a){e.exports={playerContainer:"SessionTileDetails-playerContainer-kkGWO1",playerIcon:"SessionTileDetails-playerIcon-2ZYrL9",productLogo:"SessionTileDetails-productLogo-2iaStq",statusIcon:"SessionTileDetails-statusIcon-pRklWz",playerInformation:"SessionTileDetails-playerInformation-288lN_",title:"SessionTileDetails-title-VJh0Fi",subtitle:"SessionTileDetails-subtitle-2YN2o4",streamInformation:"SessionTileDetails-streamInformation-3hyrAK",videoStreamInformation:"SessionTileDetails-videoStreamInformation-314lPv SessionTileDetails-streamInformation-3hyrAK",audioStreamInformation:"SessionTileDetails-audioStreamInformation-3qqPg3 SessionTileDetails-streamInformation-3hyrAK",subtitlesStreamInformation:"SessionTileDetails-subtitlesStreamInformation-2kZswu SessionTileDetails-streamInformation-3hyrAK",streamType:"SessionTileDetails-streamType-153Nfd",streams:"SessionTileDetails-streams-2gXKzW",rightArrow:"SessionTileDetails-rightArrow-3gZGE-",rightArrowForEdge:"SessionTileDetails-rightArrowForEdge-2ghJHi SessionTileDetails-rightArrow-3gZGE-"}},hsww:function(e,t,a){e.exports={title:"MetadataHubCellHeader-title-3ngFlY HubCellTitle-hubCellTitle-2abInv",attribution:"MetadataHubCellHeader-attribution-EOJMMN",titleSeparator:"MetadataHubCellHeader-titleSeparator-2XLwHj DashSeparator-separator-4CyEFW",sourceTitle:"MetadataHubCellHeader-sourceTitle-VjjOkx"}},htvf:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n);function r(){i.a.isFunction(this.initialize)&&this.initialize.apply(this,arguments)}r.extend=function(e,t){const a=this;let n;n=e&&i.a.has(e,"constructor")?e.constructor:function(){return a.apply(this,arguments)||null},i.a.extend(n,a,t);const r=function(){this.constructor=n};if(r.prototype=a.prototype,n.prototype=new r,e&&e.hasOwnProperty("mixins")){let t=e.mixins;delete e.mixins,Array.isArray(t)||(t=[t]),i.a.each(t,(function(e){i.a.extend(n.prototype,e)}))}return e&&i.a.extend(n.prototype,e),n.__super__=a.prototype,n},t.a=r},hvMQ:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"This Plex Media Server platform is not capable of converting video.",{hash:{},data:t}))+" "}function p(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"There was a problem requesting media versions from this server.",{hash:{},data:t}))+" "}return l+='<div class="row row-padded"> <h4 class="text-muted text-center"> ',((o=n.if.call(t,t&&t.isUpgradeRequired,{hash:{},inverse:d.program(3,(function(e,t){var a;return(a=n.if.call(e,e&&e.isTranscoderRequired,{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===a?a:""}),s),fn:d.program(1,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Optimized Versions requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" </h4> </div> "}))},hxAH:function(e,t,a){"use strict";a.d(t,"k",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"h",(function(){return h})),a.d(t,"j",(function(){return g})),a.d(t,"l",(function(){return y})),a.d(t,"m",(function(){return f})),a.d(t,"i",(function(){return b})),a.d(t,"b",(function(){return v})),a.d(t,"n",(function(){return S}));var n=a("66GW"),i=a("1Cr9"),r=a("f2wi"),s=a("rXDx");const o="unknown",l="dvr",c="movies",d="music",u="news",p="photos",m="playlists",h="podcasts",g="tv",y="videos",f="webShows",b="shared",v="game",I=Object(i.a)(["key"],[{key:o,title:()=>Object(n.default)("Unknown"),types:{}},{key:m,types:{type:s.PLAYLIST}},{key:c,types:{type:s.MOVIE}},{key:g,types:{type:s.SHOW}},{key:d,types:{type:s.ARTIST}},{key:p,types:{type:s.PHOTO}},{key:y,types:{type:s.MOVIE}},{key:"episode",types:{type:s.EPISODE}},{key:l,title:()=>Object(n.default)("Live TV & DVR")},{key:b,types:{type:s.MIXED}},{key:u,title:()=>Object(n.default)("News"),types:{type:s.CLIP,subtype:r.NEWS}},{key:h,types:{type:s.SHOW,subtype:r.PODCAST}},{key:f,types:{type:s.SHOW,subtype:r.WEBSHOW}},{key:v,types:{type:s.GAME}}]),S=(I.get,I.getAll)},hzmZ:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR"),r=a("vjRy"),s=a("8uQ2"),o=a("nvND"),l=a("Pizw"),c=a("WfN5"),d=a("7za+"),u=a("khlA"),p=a("cVe3");var m=n.a.extend({name:"MediaSubscriptionHintModel",context:["server","provider"],syncedAttrs:{guid:i.a.string,grandparentGuid:i.a.string,title:i.a.string,type:i.a.string,subtype:i.a.string,grandparentTitle:i.a.string,index:i.a.integer,parentIndex:i.a.integer,year:i.a.string,grandparentYear:i.a.integer,originallyAvailableAt:i.a.string,thumb:i.a.string,parentThumb:i.a.string,grandparentThumb:i.a.string,ratingKey:i.a.string,source:i.a.string,parentTitle:i.a.string,parentYear:i.a.string}}),h=a("tibn");var g=n.a.extend({name:"MediaSubscriptionTargetModel",context:["server","provider"],syncedRelations:{metadata:{relationClass:h.a,rootPropertyName:"Metadata",deferred:!0}}});const y=n.a.extend({name:"MediaSubscriptionModel",context:["server","provider"],entityType:d.f,entityID(e=this.state){return Object(c.a)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",urlRoot:"/media/subscriptions",mergeStrategy:s.a,syncedAttrs:{key:i.a.string,type:i.a.integer,provider:i.a.string,targetLibrarySectionID:{type:i.a.string,save:!0},targetSectionLocationID:{type:i.a.string,save:!0},title:i.a.string,selected:i.a.boolean,parameters:i.a.string,createdAt:i.a.integer,storageTotal:i.a.integer},syncedRelations:{hint:{relationClass:m,rootPropertyName:"Metadata",deferred:!0},target:{relationClass:g,rootPropertyName:"Target",deferred:!0},grabOperations:{relationClass:u.default,rootPropertyName:"MediaGrabOperation",deferred:!0},prefs:{relationClass:p.a,rootPropertyName:"Setting",deferred:!0,save:!0},timeline:{relationClass:r.default,rootPropertyName:"Timeline",deferred:!0}},augmentResponseText:(e,t)=>t===o.c?Object(l.b)(e):e,augmentResponse(e){const t=e[this.rootPropertyName]||e,a=t.Timeline;return a&&(t.Timeline=a.Metadata),e},getSaveParams(){const{Setting:e,...t}=n.a.prototype.getSaveParams.apply(this,arguments);return{prefs:e,...t}}});t.a=y},i0LR:function(e,t,a){e.exports={message:"AdInfoBar-message-oXwI7b",skipAdButton:"AdInfoBar-skipAdButton-2CaCxu"}},i0dk:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("gnaf");function i(e){const t=e.split("/");if(""===t.shift()){const e=t[0],a=t[t.length-1];let i;return n.l(e,n.c)?i=e:a&&(i=a),i}return e}},i1MD:function(e,t,a){e.exports={container:"PlayerContainer-container-2JxrRX"}},i4Tt:function(e,t,a){"use strict";a.d(t,"l",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"i",(function(){return r})),a.d(t,"o",(function(){return s})),a.d(t,"t",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"v",(function(){return d})),a.d(t,"w",(function(){return u})),a.d(t,"x",(function(){return p})),a.d(t,"z",(function(){return m})),a.d(t,"g",(function(){return h})),a.d(t,"a",(function(){return g})),a.d(t,"b",(function(){return y})),a.d(t,"s",(function(){return f})),a.d(t,"k",(function(){return b})),a.d(t,"j",(function(){return v})),a.d(t,"u",(function(){return I})),a.d(t,"h",(function(){return S})),a.d(t,"n",(function(){return E})),a.d(t,"r",(function(){return O})),a.d(t,"y",(function(){return M})),a.d(t,"d",(function(){return C})),a.d(t,"m",(function(){return j})),a.d(t,"p",(function(){return D})),a.d(t,"q",(function(){return P}));const n="INIT_TIMELINE_PAGE",i="CLOSE_TIMELINE_PAGE",r="FETCH_TIMELINE_DETAILS",s="POPULATE_TIMELINE_DETAILS",o="RESET_EPG_SETTINGS",l="FETCH_EPG_COUNTRIES",c="FETCH_EPG_LANGUAGES",d="SELECT_EPG_COUNTRY",u="SELECT_EPG_LANGUAGE",p="SELECT_EPG_REGION",m="SET_EPG_POSTAL_CODE",h="FETCH_EPG_LINEUPS",g="CHANGE_BACKGROUND",y="CHANGE_THEME_MUSIC",f="RESET_BACKGROUND",b="INIT_PLAYLIST_PAGE",v="INIT_PLAYLIST_ITEM_LIST",I="RESET_PLAYLIST_ITEM_LIST",S="FETCH_PLAYLIST",E="POPULATE_PLAYLIST_ITEM_RANGE",O="REPOPULATE_PLAYLIST_ITEMS",M="SELECT_PLAYLIST_ITEM",C="DESELECT_PLAYLIST_ITEM",j="MOVE_PLAYLIST_ITEM",D="REMOVE_PLAYLIST_ITEM",P="REMOVE_SELECTED_ITEMS"},i6oY:function(e,t,a){e.exports={map:"PhotoMap-map-3J2kw2",underlay:"PhotoMap-underlay-EsEVBH",error:"PhotoMap-error-1Fk9ji"}},iApP:function(e,t,a){e.exports={spotlightImage:"MetadataSpotlightCell-spotlightImage-1LMLac",copyOverlay:"MetadataSpotlightCell-copyOverlay-8VxVNo",shadeOverlay:"MetadataSpotlightCell-shadeOverlay-2KlhJd",colorOverlay:"MetadataSpotlightCell-colorOverlay-3iNipE",title:"MetadataSpotlightCell-title-1nb5mc",attributionLogo:"MetadataSpotlightCell-attributionLogo-20d3RZ",summary:"MetadataSpotlightCell-summary-QRjslu",callToAction:"MetadataSpotlightCell-callToAction-YMXi1N"}},iFKP:function(e,t,a){e.exports={separator:"MenuSeparator-separator-vr6OLv"}},iI5r:function(e,t,a){e.exports={container:"DVRSetupDeviceInfoChannelInfo-container-38JxgB",settings:"DVRSetupDeviceInfoChannelInfo-settings-3rutx5",message:"DVRSetupDeviceInfoChannelInfo-message-1d9gEK",noChannelsIcon:"DVRSetupDeviceInfoChannelInfo-noChannelsIcon-339HB9",clockContainer:"DVRSetupDeviceInfoChannelInfo-clockContainer-2n_VvV",noChannelsIconContainer:"DVRSetupDeviceInfoChannelInfo-noChannelsIconContainer-25faJo",clock:"DVRSetupDeviceInfoChannelInfo-clock-2vxBTq",clockTime:"DVRSetupDeviceInfoChannelInfo-clockTime-qyydgP DVRSetupDeviceInfoChannelInfo-clock-2vxBTq",blink:"DVRSetupDeviceInfoChannelInfo-blink-107UTs",clockBackground:"DVRSetupDeviceInfoChannelInfo-clockBackground-2moStg",noChannelsIconBackground:"DVRSetupDeviceInfoChannelInfo-noChannelsIconBackground-3tc9iv"}},iI8o:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("VzhI"),s=a("iZkF"),o=a("IIsI"),l=a("/MKj"),c=a("G4qV"),d=a("xSXQ"),u=a("1Lwt"),p=a("xPjC"),m=a("oSTF"),h=a("fxyv"),g=a("hOze"),y=a("9wnK"),f=a("8vbc"),b=a("Gkyr"),v=a("Zgl5"),I=a("qNMu"),S=a("66GW"),E=a("graF"),O=a("Gzlz"),M=a("wmCi"),C=a("LMIY"),j=a.n(C);var D=function(e){const{isSettingsUpdating:t,hasError:a,settings:n,onSubmit:r,onModalClose:s}=e;return i.a.createElement(g.b,{className:j.a.form,onSubmit:r},i.a.createElement(M.a,{onModalClose:s},i.a.createElement(v.a,null,Object(S.default)("Settings")),a?i.a.createElement(E.a,{errorMessage:Object(S.default)("There was an error saving the settings")}):null,i.a.createElement(y.a,null,n.map(e=>i.a.createElement(O.a,{key:e.id,...e}))),i.a.createElement(f.a,null,i.a.createElement(b.a,null,i.a.createElement(m.a,{onPress:s},Object(S.default)("Cancel")),i.a.createElement(h.a,{kind:I.d,type:"submit",isSpinning:t},Object(S.default)("Save"))))))};class P extends n.Component{componentDidUpdate(e,t){!e.isSettingsUpdating||this.props.isSettingsUpdating||this.props.hasError||this.props.onModalClose()}componentWillUnmount(){this.props.onClearError()}render(){return i.a.createElement(D,{...this.props})}}var T=Object(l.b)((function(){return Object(c.a)(Object(d.a)(),(e={})=>({settings:e.preferences,isSettingsUpdating:e.isSettingsUpdating,hasError:!!e.settingsUpdateError}))}),(function(e,t){return{onSubmit(a){Object(u.a)(()=>{e(Object(p.updateMetadataSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,data:a}))})},onClearError(){e(Object(p.clearMetadataSettingsError)({metadataItemEntityID:t.metadataItemEntityID}))}}}))(P);t.a=function(e){const{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,isOpen:l,metricsProperties:c,onModalClose:d}=e;return i.a.createElement(o.a,{size:r.c,isOpen:l,metricsPage:s.U,metricsProperties:c,onModalClose:d},i.a.createElement(T,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,onModalClose:d}))}},iNJT:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("G4qV"),i=a("Zl7H");const r={};function s(e){if(r[e])return r[e];const t=Object(n.a)(i.a,t=>t[e]);return r[e]=t,t}},iPle:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("8NF1"),i=a("Vk9Z"),r=a("PXtH"),s=a("rXDx");var o=a("hDJw"),l=a("zTsO"),c=a("hPIe");function d(e,t){const a=t.options?{...t.options}:{},d=c.j(e,t),u=c.m(e,t),p=t.itemProviderEntityID&&c.t(e,{providerEntityID:t.itemProviderEntityID})||d,m=t.itemServerEntityID&&c.u(e,{serverEntityID:t.itemServerEntityID})||u,h=function({providerModel:e,serverModel:t,itemServerModel:a,itemProviderModel:n,options:o={}}){const{containerKey:l,listType:c}=o;if(!(e.get("identifier")!==n.get("identifier")||t.get("machineIdentifier")!==a.get("machineIdentifier")))return!0;if(c===s.TRACK&&l)return!1;const d=e.get("features").get(i.l),u=!!d&&d.get("flavor")===r.c&&!t.get("isCloud"),p=a.get("isShared");return!u||p}({providerModel:d,serverModel:u,itemServerModel:m,itemProviderModel:p,options:t.options});a.serverModel=h?m:u,a.providerModel=h?p:d;return Object(o.a)(e,l.a)&&(a.includeExternalMedia=1),t.metadataItemEntityID&&(a.metadataItemModel=c.f(e,t)),t.playlistMetadataItemEntityID&&(a.playlistModel=c.f(e,{metadataItemEntityID:t.playlistMetadataItemEntityID})),t.metadataItemEntityIDs&&(a.metadataItemModels=t.metadataItemEntityIDs.map(t=>c.f(e,{metadataItemEntityID:t}))),t.metadataListEntityID&&(a.metadataListModel=c.g(e,t)),t.listType&&(a.type=Object(n.a)({metadataType:t.listType})),a}},"iT+t":function(e,t,a){e.exports={container:"SortableSources-container-28MsK- Measure-container-3yONEe"}},iZkF:function(e,t,a){"use strict";a.d(t,"O",(function(){return n})),a.d(t,"rb",(function(){return i})),a.d(t,"P",(function(){return r})),a.d(t,"eb",(function(){return s})),a.d(t,"Y",(function(){return o})),a.d(t,"jb",(function(){return l})),a.d(t,"gb",(function(){return c})),a.d(t,"T",(function(){return d})),a.d(t,"W",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"bb",(function(){return m})),a.d(t,"pb",(function(){return h})),a.d(t,"qb",(function(){return g})),a.d(t,"mb",(function(){return y})),a.d(t,"F",(function(){return f})),a.d(t,"xb",(function(){return b})),a.d(t,"U",(function(){return v})),a.d(t,"sb",(function(){return I})),a.d(t,"E",(function(){return S})),a.d(t,"vb",(function(){return E})),a.d(t,"wb",(function(){return O})),a.d(t,"tb",(function(){return M})),a.d(t,"ub",(function(){return C})),a.d(t,"Z",(function(){return j})),a.d(t,"ob",(function(){return D})),a.d(t,"Cb",(function(){return P})),a.d(t,"hb",(function(){return T})),a.d(t,"V",(function(){return w})),a.d(t,"yb",(function(){return N})),a.d(t,"b",(function(){return x})),a.d(t,"Ab",(function(){return A})),a.d(t,"Bb",(function(){return L})),a.d(t,"zb",(function(){return k})),a.d(t,"kb",(function(){return R})),a.d(t,"nb",(function(){return z})),a.d(t,"lb",(function(){return U})),a.d(t,"cb",(function(){return V})),a.d(t,"db",(function(){return B})),a.d(t,"M",(function(){return F})),a.d(t,"N",(function(){return H})),a.d(t,"I",(function(){return _})),a.d(t,"L",(function(){return W})),a.d(t,"K",(function(){return Q})),a.d(t,"J",(function(){return G})),a.d(t,"H",(function(){return K})),a.d(t,"G",(function(){return Y})),a.d(t,"S",(function(){return q})),a.d(t,"t",(function(){return Z})),a.d(t,"s",(function(){return X})),a.d(t,"k",(function(){return J})),a.d(t,"u",(function(){return $})),a.d(t,"i",(function(){return ee})),a.d(t,"o",(function(){return te})),a.d(t,"m",(function(){return ae})),a.d(t,"C",(function(){return ne})),a.d(t,"g",(function(){return ie})),a.d(t,"q",(function(){return re})),a.d(t,"p",(function(){return se})),a.d(t,"l",(function(){return oe})),a.d(t,"z",(function(){return le})),a.d(t,"B",(function(){return ce})),a.d(t,"y",(function(){return de})),a.d(t,"j",(function(){return ue})),a.d(t,"n",(function(){return pe})),a.d(t,"h",(function(){return me})),a.d(t,"x",(function(){return he})),a.d(t,"e",(function(){return ge})),a.d(t,"A",(function(){return ye})),a.d(t,"f",(function(){return fe})),a.d(t,"D",(function(){return be})),a.d(t,"v",(function(){return ve})),a.d(t,"w",(function(){return Ie})),a.d(t,"r",(function(){return Se})),a.d(t,"ab",(function(){return Ee})),a.d(t,"ib",(function(){return Oe})),a.d(t,"X",(function(){return Me})),a.d(t,"R",(function(){return Ce})),a.d(t,"Q",(function(){return je})),a.d(t,"d",(function(){return De})),a.d(t,"c",(function(){return Pe})),a.d(t,"fb",(function(){return Te}));const n="home",i="source",r="library",s="preplay",o="playlists",l="searchResults",c="quickSearchResults",d="metadataList",u="player",p="account",m="plexpass",h="signIn",g="signOut",y="setupWizard",f="downloads",b="unclaimedServer",v="metadataSettings",I="status",S="devices",E="subtitles",O="subtitlesUpload",M="stopServerSession",C="stopServerSessionError",j="playHistory",D="sidebar",P="whatsNew",T="releaseNotes",w="photoTimeline",N="unknown",x="addToPlaylist",A="watchTogetherInvite",L="watchTogetherItemError",k="usersSharing",R="settings",z="sharing",U="settingsSidebar",V="preferredServer",B="preferredSources",F="dvrSettings",H="dvrSetup",_="dvrGuide",W="dvrSchedule",Q="dvrPriority",G="dvrManageChannels",K="dvrDeviceSettings",Y="dvrAiringDetails",q="manageSubscription",Z="confirmMarkAsWatched",X="confirmMarkAsUnwatched",J="confirmDelete",$="confirmOptimizeDatabase",ee="confirmCleanBundles",te="confirmEmptyTrash",ae="confirmDeleteServer",ne="confirmUpgradeLibrary",ie="confirmAnalyzeLibrary",re="confirmForceRefreshLibrary",se="confirmEmptyTrashLibrary",oe="confirmDeleteLibrary",le="confirmRemoveWebhook",ce="confirmUnlinkOauthProvider",de="confirmRemoveDVR",ue="confirmClosePlayer",pe="confirmDeleteSubtitleStream",me="confirmCancelDownload",he="confirmRemoveDownload",ge="confirmAddToHome",ye="confirmResetCustomization",fe="adConsent",be="confirmUpsell",ve="confirmPlayback",Ie="confirmRemoteToLocalPlayback",Se="confirmLocalToRemotePlayback",Ee="playVersion",Oe="resumePlayback",Me="playerError",Ce="liveTVPlayerConflict",je="liveTVJoinSession",De="castApiMissing",Pe="adConsent",Te="settings"},idkr:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var a,n="";return n+='download="'+c("function"==typeof(a=e&&e.downloadName)?a.apply(e):a)+'"'}function p(e,t){var a,n="";return n+=" "+c("function"==typeof(a=e&&e.title)?a.apply(e):a)+' <span class="title-separator">•</span> '}function m(e,t){var r,s="";return s+=" "+c(i(a("c3sd")).call(e,e&&e.videoResolution,{hash:{},data:t})),((r=n.if.call(e,e&&e.bitrate,{hash:{},inverse:d.noop,fn:d.program(7,h,t),data:t}))||0===r)&&(s+=r),s+=" "}function h(e,t){return","}function g(e,t){var n="";return n+=" "+c(i(a("gqMA")).call(e,e&&e.bitrate,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download-alt"></i> '+c(i(a("d8WC")).call(t,"Download a Version",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list download-list"> ',((o=n.each.call(t,t&&t.mediaItems,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,r){var s,o="";return o+=' <li class="striped-list-item select-list-item download-list-item"> <a class="media" data-value="'+c("function"==typeof(s=null==t||!1===t?t:t.index)?s.apply(e):s)+'" href="'+c("function"==typeof(s=e&&e.downloadUrl)?s.apply(e):s)+'" target="'+c("function"==typeof(s=r&&r.defaultLinkTarget)?s.apply(e):s)+'" ',((s=i(a("WX+G")).call(e,r&&r.defaultLinkTarget,"_blank",{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+="> ",((s=n.if.call(e,e&&e.title,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=n.if.call(e,e&&e.videoResolution,{hash:{},inverse:d.noop,fn:d.program(6,m,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=n.if.call(e,e&&e.bitrate,{hash:{},inverse:d.noop,fn:d.program(9,g,t),data:t}))||0===s)&&(o+=s),o+=" </a> </li> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </ul> </div> </div> </div> "}))},idx1:function(e,t,a){e.exports={label:"DVRSetupCountrySelectInput-label-2_z-r2 FormLabel-label-2aLJ9b",edit:"DVRSetupCountrySelectInput-edit-2E1_QZ"}},ihSJ:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("VzhI"),l=a("xORa"),c=a("4asQ"),d=a.n(c);function u({className:e,containerClassName:t,labelClassName:a,size:n,color:r,label:o,loadingLabel:l}){const c=i()(e,d.a[n]),u={borderTopColor:r,borderLeftColor:r};return o?s.a.createElement("div",{className:i()(t,d.a.spinnerContainer)},s.a.createElement("div",{className:c,style:u}),s.a.createElement("div",{className:i()(a,d.a.spinnerLabel)},o)):s.a.createElement("div",{className:c,style:u,"aria-label":l})}u.defaultProps={size:o.b,color:l.a.primaryColor},t.a=u},ijGY:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s}));const n="audio",i="video",r="photo",s="rom"},itOj:function(e,t,a){e.exports={stream:"SubtitlesStreamMenuItem-stream-3JNI2A",menuItemContainer:"SubtitlesStreamMenuItem-menuItemContainer-644uMQ SelectedMenuItem-menuItemContainer-2hXIr-",deleteContainer:"SubtitlesStreamMenuItem-deleteContainer-2FHm_C",deleteButton:"SubtitlesStreamMenuItem-deleteButton-2OofDN IconButton-button-9An-7I",extendedTitle:"SubtitlesStreamMenuItem-extendedTitle-GT6dbo"}},ivj2:function(e,t,a){e.exports={plexImage:"PlexHeaderImage-plexImage-2K4VHL",plexImageContainer:"PlexHeaderImage-plexImageContainer-NE-7v1"}},ixBV:function(e,t,a){e.exports={overlay:"MetadataDetailsRow-overlay-1J_Ie5",selectOverlay:"MetadataDetailsRow-selectOverlay-2c5o4D Link-link-2ew_DK",selectedListRow:"MetadataDetailsRow-selectedListRow-BAFOj4 ListRow-row-1sqnTj",rangeListRow:"MetadataDetailsRow-rangeListRow-18fA8J ListRow-row-1sqnTj",summaryContainer:"MetadataDetailsRow-summaryContainer-3cxeiJ",posterContainer:"MetadataDetailsRow-posterContainer-3f0Hrk",titlesContainer:"MetadataDetailsRow-titlesContainer-27DvHt",titleContainer:"MetadataDetailsRow-titleContainer-2RpS_W",title:"MetadataDetailsRow-title-1zsf5h",singleTitle:"MetadataDetailsRow-singleTitle-3zLuDc MetadataDetailsRow-title-1zsf5h",doubleTitle:"MetadataDetailsRow-doubleTitle-1eAbNu MetadataDetailsRow-title-1zsf5h",subtitle:"MetadataDetailsRow-subtitle-3xxulQ MetadataDetailsRow-titleContainer-2RpS_W MetadataDetailsRow-title-1zsf5h",summary:"MetadataDetailsRow-summary-WRo-nv",actions:"MetadataDetailsRow-actions-Bb-UpX",actionsButton:"MetadataDetailsRow-actionsButton-32_DgC Link-link-2ew_DK",userRatingContainer:"MetadataDetailsRow-userRatingContainer-OB2qMI"}},ixgb:function(e,t,a){e.exports={title:"MetadataPosterCardTitle-title-2OWMA-",isSecondary:"MetadataPosterCardTitle-isSecondary-1R4E5X",singleLineTitle:"MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",doubleLineTitle:"MetadataPosterCardTitle-doubleLineTitle-Z9i_-c MetadataPosterCardTitle-title-2OWMA-"}},"j+1R":function(e,t,a){e.exports={stylesContainer:"MetadataListStylesMenu-stylesContainer-jYQkcQ",slider:"MetadataListStylesMenu-slider-o88eP5 Slider-slider-2oLVTs",stylesButton:"MetadataListStylesMenu-stylesButton-21zDb3",stylesButtonWithArrow:"MetadataListStylesMenu-stylesButtonWithArrow-23qAV4 MetadataListStylesMenu-stylesButton-21zDb3",stylesIcon:"MetadataListStylesMenu-stylesIcon-1r4qeF"}},"j/8p":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r);class o extends r.Component{constructor(e,t){super(e,t),this.metricsContext=e.metricsContext}getChildContext(){return{metricsContext:this.metricsContext}}render(){return this.props.children?s.a.Children.only(this.props.children):null}}o.propTypes={children:i.a.node,metricsContext:i.a.string},o.childContextTypes={metricsContext:i.a.string},t.a=o},"j/j7":function(e,t,a){e.exports={versionTitle:"PrePlayDetailsStreamsGroup-versionTitle-efRyt_"}},j3oq:function(e,t,a){"use strict";var n=a("G4qV"),i=a("tCfm"),r=a("aVib"),s=a("FAcX");const o=Object(i.a)(Object(n.a)(s.a,r.a,(e,t)=>t[e]),e=>e);t.a=o},j5p2:function(e,t,a){e.exports={gutter:"DirectoryToolbarClearFiltersButton-gutter-4y0Y5x PageHeaderLeftGutter-container-2zDXNC",resetButton:"DirectoryToolbarClearFiltersButton-resetButton-1OwW63 ToolbarButton-toolbarButton-2i2nnD"}},j7uO:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));const n=["free"];function i(e,t){if(!t)return!0;const a=e.find(e=>e.id===t);return!!a&&(!a.subscriptionType||!n.includes(a.subscriptionType))}},j9Wk:function(e,t,a){"use strict";var n=a("B69o"),i=a("rHf3");const r=n.a.extend({name:"PlayQueueItemCollection",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],model:i.a});t.a=r},jD54:function(e,t,a){e.exports={menuHeader:"MenuHeader-menuHeader-1zqcoT"}},jEUb:function(e,t,a){e.exports={summary:"PrePlaySummary-summary-320PKj"}},jEhb:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("/MKj"),s=a("G4qV"),o=a("hFBU"),l=a("dZ7a"),c=a("66GW"),d=a("T+Fn"),u=a("2pL0"),p=a("fxyv"),m=a("qNMu"),h=a("Nca4"),g=a("RlGa");var y=function(e){const{friendlyName:t,isPending:a,onTryAgainPress:n}=e;return i.a.createElement(g.a,{title:t?Object(c.default)("{serverName} is currently unavailable",{serverName:t}):Object(c.default)("Server is currently unavailable"),description:i.a.createElement(h.a,{message:Object(c.default)("Verify you have a network connection and that the server is online, or see our {openLink}troubleshooting{closeLink} tips for further assistance."),tags:[{open:"openLink",close:"closeLink",component:u.a,kind:m.d,to:"https://help.plex.tv/noserver",target:"_blank"}]})},i.a.createElement(p.a,{isSpinning:a,kind:m.d,onPress:n},Object(c.default)("Retry connection")))},f=a("R5U7"),b=a("9wnK"),v=a("8vbc"),I=a("Gkyr"),S=a("Zgl5"),E=a("VzhI"),O=a("iZkF"),M=a("Uia1"),C=a("IIsI"),j=a("wmCi");class D extends n.Component{constructor(e,t){super(e,t),this.onReloadHttpPress=()=>{this.setState({isSubmitting:!0}),this.props.onReloadHttp()},this.onReloadHttpAlwaysPress=()=>{this.setState({isSubmitting:!0}),this.props.onReloadHttpAlways()},this.state={isSubmitting:!1}}render(){const{isOpen:e,onModalClose:t}=this.props,{isSubmitting:a}=this.state;return i.a.createElement(C.a,{size:E.c,isOpen:e,metricsPage:O.O,onModalClose:t},i.a.createElement(j.a,{onModalClose:t},i.a.createElement(S.a,null,Object(c.default)("Allow Insecure Connections")),i.a.createElement(b.a,null,Object(c.default)("I understand that traffic between this application and Plex Media Server over an insecure connection is not encrypted.")),i.a.createElement(v.a,null,i.a.createElement(I.a,null,i.a.createElement(M.a,{kind:m.c,isDisabled:a,onPress:t},Object(c.default)("Cancel")),i.a.createElement(M.a,{kind:m.a,isSpinning:a,onPress:this.onReloadHttpAlwaysPress},Object(c.default)("Allow always")),i.a.createElement(M.a,{"data-autofocus":!0,kind:m.a,isSpinning:a,onPress:this.onReloadHttpPress},Object(c.default)("Allow once"))))))}}var P=D;var T=Object(r.b)((function(){return Object(s.a)(Object(l.a)(),e=>({friendlyName:e.friendlyName}))}),(function(e){return{onReloadHttp(){e(Object(d.h)())},onReloadHttpAlways(){e(Object(d.g)()),e(Object(d.h)())}}}))(P),w=a("oSTF"),N=a("dPq9"),x=a("bCk4"),A=a("t4kf"),L=a.n(A);class k extends n.Component{constructor(e,t){super(e,t),this.onAdvancedPress=()=>{this.setState({isModalOpen:!0})},this.onModalClose=()=>{this.setState({isModalOpen:!1})},this.state={isModalOpen:!1}}render(){const{serverEntityID:e,title:t,description:a,modalComponent:n}=this.props,{isModalOpen:r}=this.state;return i.a.createElement(x.a,{iconSrc:N.a,title:t,description:i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{message:Object(c.default)('Its "Secure connections" setting may be set to disabled, or you may need to adjust some settings on your network. You can {openLink}learn more about secure connections here{closeLink}.'),tags:[{open:"openLink",close:"closeLink",component:u.a,to:"https://support.plex.tv/hc/en-us/articles/206225077-How-to-Use-Secure-Server-Connections",kind:m.d,target:"_blank"}]}))},i.a.createElement("div",{className:L.a.description},a),i.a.createElement(n,{isOpen:r,serverEntityID:e,onModalClose:this.onModalClose}),i.a.createElement(w.a,{kind:m.d,onPress:this.onAdvancedPress},Object(c.default)("Allow Insecure Connections")))}}var R=k,z=a("x04c");t.a=Object(r.b)((function(){return Object(s.a)(Object(l.a)(),e=>({friendlyName:e.friendlyName,shouldAllowInsecureRedirect:z.b(e),shouldAllowInsecureFallback:z.a(e),isPending:e.isPending}))}),(function(e,t){const a={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onTryAgainPress(){e(Object(d.b)()),e(o.A(a))}}}))((function(e){const{friendlyName:t,shouldAllowInsecureRedirect:a,shouldAllowInsecureFallback:n,isPending:r,onTryAgainPress:s}=e;return a?i.a.createElement(R,{serverEntityID:e.serverEntityID,title:Object(c.default)('Unable to connect to "{serverName}" securely',{serverName:t}),description:Object(c.default)("You can also allow insecure connections now, which will reload the app insecurely."),modalComponent:T}):n?i.a.createElement(R,{serverEntityID:e.serverEntityID,title:Object(c.default)('The server "{serverName}" does not allow secure connections',{serverName:t}),description:Object(c.default)("The app is loaded insecurely. You can attempt to use an insecure connection now."),modalComponent:f.a}):i.a.createElement(y,{friendlyName:t,isPending:r,onTryAgainPress:s})}))},jIku:function(e,t,a){e.exports={lineHeightMeasure:"CollapsibleText-lineHeightMeasure-1AQhaN",contentTransition:"CollapsibleText-contentTransition-36Xek6",readMore:"CollapsibleText-readMore-1FIz2V DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",readMoreArrow:"CollapsibleText-readMoreArrow-1WO_UV DisclosureArrowButton-disclosureArrow-1Gz1vb DisclosureArrow-disclosureArrow-1KPaBC"}},jKuV:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=" "+c(i(a("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return((o=n.if.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r,s="";return s+=' <div class="setup-agent-section"> <div class="setup-agent-title">'+c(i(a("d8WC")).call(e,"{1} Settings",e&&e.escapedAgentName,{hash:{},data:t}))+'</div> <p class="setup-agent-disclaimer">'+c(i(a("d8WC")).call(e,"Note: These settings will take effect for all libraries using the {1} agent.",e&&e.escapedAgentName,{hash:{},data:t}))+'</p> <div class="setup-agent-settings"> ',((r=n.each.call(e,e&&e.settings,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===r)&&(s+=r),s+=" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},jLMb:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return u}));var n=a("G4qV"),i=a("F/us"),r=a.n(i),s=a("FjJJ"),o=a("xMKj");function l(e){return Object(n.a)(Object(o.a)(),t=>r.a.find(t,{type:e}))}function c(){return l(s.l)}function d(){return l(s.b)}function u(){return l(s.e)}},jLR9:function(e,t,a){"use strict";const n={DISABLED:0,ENABLED:1,VERBOSE:2};n.settings=[{value:n.DISABLED,title:"Disabled"},{value:n.ENABLED,title:"Enabled"},{value:n.VERBOSE,title:"Verbose"}],t.a=n},jMpR:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a("+X4A"),i=a("1WZA"),r=a("Xw7/");const s={RECORDING_SCHEDULE:"view://dvr/recording-schedule",GUIDE:"view://dvr/guide",TIMELINE:"view://photo/timeline",SHARED_ITEMS:"view://shared-items"},o={[s.RECORDING_SCHEDULE]:{path:"schedule"},[s.GUIDE]:{path:"guide"},[s.TIMELINE]:{path:"timeline",getRouteParams:(e,t)=>({key:n.default.join([e.key,t.id,"cluster"],{clusterZoomLevel:1})})},[s.SHARED_ITEMS]:{getRouteParams:(e,t)=>({key:t.pivots[0].key})}};function l(e){return!!o[e]}function c(e,t,a,n,s={}){if(!l(e))return;const c=o[e],d=Object(i.a)(a);return Object(r.a)(t,a,n,c.getRouteParams?{...s,...c.getRouteParams(d,n)}:s,c.path)}},jNWR:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR"),r=a("j9Wk"),s=a("nvND"),o=a("Pizw");const l=n.a.extend({name:"PlayQueueModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion"],idAttribute:"playQueueID",hasResponseOnSave:!0,urlRoot(){return this.get("key")},sessionAttrs:{key:i.a.string,type:i.a.string,repeat:i.a.boolean,own:i.a.boolean,isUpdatePending:i.a.boolean,isUniversal:i.a.boolean},syncedAttrs:{allowShuffle:i.a.boolean,playQueueID:i.a.string,playQueueSelectedItemOffset:i.a.integer,playQueueSelectedItemID:i.a.string,playQueueSelectedMetadataItemID:i.a.string,playQueueLastAddedItemID:i.a.string,playQueueShuffled:i.a.boolean,playQueueSourceURI:i.a.string,playQueueTotalCount:i.a.integer,playQueueVersion:i.a.integer},syncedRelations:{playQueueItems:{relationClass:r.a,rootPropertyName:"Metadata"}},derivedAttrs:{canShuffle(){const e=-1!==(this.get("playQueueSourceURI")||"").indexOf("library://x/station");return!this.get("playQueueLastAddedItemID")&&this.get("allowShuffle")&&!e},currentIndex(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),a=e.get(t);return e.indexOf(a)},length(){const e=this.get("playQueueTotalCount")||0,t=this.get("playQueueItems")||[];return Math.max(e,t.length)}},defaults:{repeat:!1,own:!0,isUpdatePending:!1,isUniversal:!1,allowShuffle:!0},augmentResponseText:(e,t)=>t===s.c?Object(o.b)(e):e,augmentResponse(e,t){return this.responseContext.forEach(t=>{const a=e[t];void 0!==a&&this.setContext(t,a)}),e}});t.a=l},jWai:function(e,t,a){e.exports={placeholderIcon:"MetadataPosterCardIcon-placeholderIcon-2P76zo"}},javt:function(e,t,a){e.exports={hub:"WatchTogetherHubCell-hub-36FE21 HubCell-hubCell-3Ys175",hubHeader:"WatchTogetherHubCell-hubHeader-1Q9ryj VirtualHubScroller-hubHeader-216w6Z"}},jlmP:function(e,t,a){e.exports={card:"PosterCard-card-VhPkOe"}},jnX0:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("EVdn"),i=a.n(n),r=a("+X4A"),s=a("Vk9Z");function o(e){const{providerModel:t,type:a,title:n,smart:o=0,playlistID:l,playQueueID:c,uri:d,includeExternalMedia:u}=e,p={uri:d,playQueueID:c};u&&(p.includeExternalMedia=1),l||(p.title=n,p.smart=o?1:0,p.type=a);const m=t.get("features"),h=m&&m.get(s.k),g=h&&h.get("key"),y=r.default.join([g,l&&l+"/items"],p),f=l?"PUT":"POST",b=t.getXHROptions(y,{type:f});return i.a.ajax(b)}},jp3X:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("Dsr7");const s=r.a.extend({maxCycles:3,maxSize:20,get:function(e){const t=r.a.prototype.get.apply(this,arguments);return t&&t.every((function(e){return!(!e.cache||!e.cache.isListening)&&(e.cache.store(e),!0)})),t},getItemCacheKey:function(e){let t=i.a.result(e,"url");return e.server&&(t=e.server.getScopedKey(t)),e.provider&&(t=e.provider.getScopedKey(t)),t}});t.a=s},jpr2:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));a("slDQ");var n=a("EVdn"),i=a.n(n),r=a("CHn6"),s=a("mOXR"),o=a("j9Wk");var l=r.a.extend({name:"LocalPlayQueueModel",context:["server","provider"],url(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),a=e.get(t);if(a)return a.get("metadataItem").get("key")},sessionAttrs:{key:s.a.string,playQueueID:s.a.string,isLocal:s.a.boolean,type:s.a.string,repeat:s.a.boolean,own:s.a.boolean,isUpdatePending:s.a.boolean,playQueueShuffled:s.a.boolean,playQueueSelectedItemID:s.a.string},sessionRelations:{playQueueItems:{relationClass:o.a}},derivedAttrs:{playQueueTotalCount(){return this.get("playQueueItems").length},length(){return this.get("playQueueItems").length},playQueueSelectedItemOffset(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID");if(!t)return 0;const a=e.get(t);return e.indexOf(a)},currentIndex(){return this.get("playQueueSelectedItemOffset")},canShuffle:()=>!1},defaults:{isLocal:!0,repeat:!1,own:!0,isUpdatePending:!1,playQueueShuffled:!1,playQueueSelectedItemOffset:0},fetch:function(){return i.a.Deferred().resolve(this).promise()}}),c=a("jNWR"),d=(a("ijGY"),a("Vk9Z")),u=a("PXtH");function p(e){const{providerModel:t,playQueueID:a,playQueueType:n,playQueueRepeat:i,playQueueOwn:r=!0}=e,s=t&&t.get("features"),o=s&&s.get(d.l),p=!!o&&o.get("flavor")===u.c;if(!o)return new l({playQueueID:a,type:n},{server:t.server,provider:t});return new c.a({playQueueID:a,key:o.get("key"),type:n,repeat:i,own:r,isUniversal:p},{server:t.server,provider:t})}},jqFQ:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("thf+"),s=a("/iqQ"),o=a("EVgX"),l=a("1h/R"),c=a.n(l),d=a("egLJ"),u=a.n(d);function p(e){const{inputComponent:t,suggestionsComponent:a,theme:n,...r}=e;return i.a.createElement(c.a,{...r,renderInputComponent:t,renderSuggestionsContainer:a,theme:{...u.a,...n}})}p.defaultProps={inputComponent:function(e){return i.a.createElement("input",{type:"text",...e})}};var m=p,h=a("TSYQ"),g=a.n(h),y=a("F/us"),f=a.n(y),b=a("NG4B"),v=a("2pL0"),I=a("bA7v"),S=a.n(I);class E extends n.Component{constructor(){super(...arguments),this.onPress=()=>{const{onRemove:e,index:t}=this.props;e(t)}}render(){const{className:e,removeClassName:t,tag:a,iconComponent:n,isDisabled:r,removeLabel:s,getTagDisplayValue:o}=this.props;return i.a.createElement("span",{className:e},r?null:i.a.createElement(v.a,{className:t,"aria-label":s,onPress:this.onPress},i.a.createElement(n,null)),i.a.createElement("span",null,o(a)))}}E.defaultProps={className:S.a.tag,removeClassName:S.a.remove};var O=E,M=a("sq6x"),C=a.n(M);class j extends n.Component{constructor(e,t){super(e,t),this.addTag=e=>this._addTags([e]),this.setInputRef=e=>{this.inputRef=e},this.setDivRef=e=>{this.divRef=e},this.onPaste=e=>{const{addOnPaste:t,pasteSplit:a,makeTag:n}=this.props;if(!t)return;e.preventDefault();const i=a(function(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}(e)).map(e=>n(e));this._addTags(i)},this.onKeyDown=e=>{const{onKeyDown:t}=this.props.inputProps;if(t&&t(e),e.defaultPrevented)return;const{value:a,removeKeys:n,addKeys:i,inputValue:r}=this.props,s=""===r,o=e.keyCode,l=-1!==i.indexOf(o),c=-1!==n.indexOf(o);if(l){(this._accept()||o===b.d)&&e.preventDefault()}c&&a.length>0&&s&&(e.preventDefault(),this._removeTag(a.length-1))},this.onClick=e=>{e.target===this.divRef&&(this.inputRef&&"function"==typeof this.inputRef.focus&&this.inputRef.focus(),this.onFocus())},this.onChange=e=>{const{onInputChange:t}=this.props,{onChange:a}=this.props.inputProps,n=e.target.value;a&&a(e),t(n)},this.onFocus=e=>{const{onFocus:t}=this.props.inputProps;t&&t(e),this.setState({isFocused:!0})},this.onBlur=e=>{const{onBlur:t}=this.props.inputProps;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur)){const t=this.props.makeTag(e.target.value);this._addTags([t])}},this.onRemove=e=>{this._removeTag(e)},this.state={isFocused:!1}}componentDidUpdate(e){const{value:t,excludedTags:a}=this.props;a!==e.excludedTags&&a.forEach(e=>{const a=t.findIndex(t=>t===e);this._removeTag(a)})}_removeTag(e){if(e>-1&&e<this.props.value.length){const t=this.props.value.slice(0),a=t.splice(e,1);this.props.onChange(t,a,[e])}}_clearInput(){this.props.onInputChange("")}_addTags(e){const{validationRegex:t,onlyUnique:a,maxTags:n,value:i,getTagValue:r,onChange:s,onValidationReject:o}=this.props;let l;if(a&&(e=f.a.uniq(e,e=>r(e))),t&&(l=e.filter(e=>!t.test(r(e))),e=e.filter(e=>t.test(r(e)))),e=e.filter(e=>{const t=r(e);return t?t.trim().length>0:t}),n>=0){const t=Math.max(n-i.length,0);e=e.slice(0,t)}if(o&&l&&l.length>0&&o(l),e.length>0){let t=i.concat(e);const n=[];for(let t=0;t<e.length;t++)n.push(i.length+t);a&&(t=f.a.uniq(t,e=>r(e)));const o=t.length!==i.length;return o&&s(t,e,n),this._clearInput(),o}return this._clearInput(),!1}_accept(){let e=this.props.inputValue;return""!==e&&(e=this.props.makeTag(e),this._addTags([e]))}inputProps(){const{value:e,inputProps:t}=this.props,{placeholder:a,onChange:n,onFocus:i,onBlur:r,...s}=t,o={className:C.a.input,placeholder:e.length?"":a,...s};return this.props.isDisabled&&(o.isDisabled=!0),o}render(){const{id:e,className:t,errorClassName:a,focusedClassName:n,hasError:r,value:s,inputValue:o,getTagValue:l,getTagDisplayValue:c,tagProps:d,tagComponent:u,inputComponent:p,isDisabled:m}=this.props,{isFocused:h}=this.state;return i.a.createElement("div",{id:e,className:g()(t,h&&n,r&&a),ref:this.setDivRef,onClick:this.onClick},s.map((e,t)=>i.a.createElement(u,{key:`${l(e)}-${t}`,index:t,tagCount:s.length,tag:e,isDisabled:m,getTagDisplayValue:c,onRemove:this.onRemove,...d})),i.a.createElement(p,{key:"input",inputRef:this.setInputRef,value:o,...this.inputProps(),addTag:this.addTag,onPaste:this.onPaste,onKeyDown:this.onKeyDown,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}))}}j.defaultProps={className:C.a.tagsInput,errorClassName:C.a.hasError,addKeys:[b.j,b.d],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[b.a],inputComponent:function(e){const{inputRef:t,addTag:a,...n}=e;return i.a.createElement("input",{type:"text",ref:t,...n})},tagComponent:O,pasteSplit:function(e){return e.split(" ").map(e=>e.trim())},tagProps:{},onlyUnique:!0,maxTags:-1,excludedTags:[],validationRegex:null,isDisabled:!1,getTagDisplayValue:e=>e,getTagValue:e=>e,makeTag:e=>e};var D=j,P=a("SsI7"),T=a.n(P);const w={placement:"bottom-start",modifiers:[{name:"preventOverflow",enabled:!1},{name:"flip",enabled:!1},{name:"maxSize",enabled:!0,phase:"beforeWrite",requiresIfExists:["offset","preventOverflow","flip"],fn({state:e,name:t,options:a}){const n=Object(r.a)(e,a),{y:i}=e.modifiersData.preventOverflow||{x:0,y:0},{height:s}=e.rects.popper,[o]=e.placement.split("-"),l="top"===o?"top":"bottom";e.styles.popper.maxHeight=s-n[l]-i-14+"px",e.styles.popper.width=e.rects.reference.width+"px"}}]};class N extends n.Component{constructor(e,t){super(e,t),this.setTagsInputRef=e=>{this.tagsInputRef=e},this.onInputChange=e=>{this.setState({inputValue:e})},this.onSuggestionSelected=(e,{suggestion:t})=>{this.tagsInputRef.addTag(this.props.makeTagFromSuggestion(t))},this.onInputFocus=(e,t)=>{this.setState({isMenuOpen:!0},()=>t(e))},this.onWindowPress=e=>{const t=this.suggestRef.current,a=t&&t.contains(e.target),n=!a&&document.getElementById(this.inputID),i=n&&n.contains(e.target);a||i||this.setState({isMenuOpen:!1})},this.renderInputComponent=({ref:e,...t})=>{const{className:a,shouldRenderSuggestions:n,tagComponent:r,validationRegex:s,value:o,makeTag:l,getTagDisplayValue:c,getTagValue:d,tagProps:u,excludedTags:p,onChange:m}=this.props,{inputValue:h}=this.state;return i.a.createElement(D,{id:this.inputID,className:a,inputValue:h,inputProps:{...t,inputRef:e,onFocus:e=>{this.onInputFocus(e,t.onFocus)}},tagProps:u,value:o,validationRegex:s,tagComponent:r,addOnBlur:!n(h),getTagValue:d,getTagDisplayValue:c,makeTag:l,excludedTags:p,ref:this.setTagsInputRef,onInputChange:this.onInputChange,onChange:m})},this.renderSuggestionsComponent=e=>{const{containerProps:{ref:t,...a},children:n}=e;return t(this.suggestRef.current),i.a.createElement(s.a,{target:this.inputID,isOpen:this.state.isMenuOpen,options:w,ref:this.suggestRef,...a},n)},this.state={inputValue:"",isMenuOpen:!1},this.suggestRef=i.a.createRef(),this.inputID=Object(o.a)()}componentDidUpdate(e,t){if(!t.isMenuOpen&&this.state.isMenuOpen)this._enable();else{t.isMenuOpen&&!this.state.isMenuOpen&&this._disable()}}_enable(){document.addEventListener("mouseup",this.onWindowPress),document.addEventListener("touchend",this.onWindowPress)}_disable(){document.removeEventListener("mouseup",this.onWindowPress),document.removeEventListener("touchend",this.onWindowPress)}render(){const{placeholder:e,suggestions:t,getAddSuggestionTag:a,getSuggestionValue:n,renderSuggestion:r,suggestionsFilter:s,shouldRenderSuggestions:o,theme:l,onSuggestionsClearRequested:c,onSuggestionsFetchRequested:d}=this.props,{inputValue:u}=this.state,p=a&&u.length>0?[a(u)]:[],h=t.reduce((e,t)=>(s(t,u)&&e.push(t),e),p);return i.a.createElement(m,{suggestions:h,shouldRenderSuggestions:o,getSuggestionValue:n,renderSuggestion:r,focusInputOnSuggestionClick:!1,highlightFirstSuggestion:!0,inputProps:{value:u,placeholder:e,onChange:(e,{newValue:t,method:a})=>{"enter"===a&&e.preventDefault(),"enter"===a||"click"===a?this.setState({isMenuOpen:!1}):"type"===a&&this.setState({isMenuOpen:!0})}},theme:{input:T.a.input,...l},inputComponent:this.renderInputComponent,suggestionsComponent:this.renderSuggestionsComponent,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsClearRequested:c,onSuggestionsFetchRequested:d})}}N.defaultProps={className:T.a.tagsInput,suggestions:[],value:[],shouldRenderSuggestions:()=>!1};t.a=N},jsGA:function(e,t,a){e.exports={circularProgressBarText:"CircularProgressBar-circularProgressBarText-1kr2I3 CircularProgressBar-circularProgressBarText-gC1Z--",circularProgressBarBackground:"CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",circularProgressBarContainer:"CircularProgressBar-circularProgressBarContainer-30vSIT CircularProgressBar-circularProgressBarContainer-26EO1i"}},jvJW:function(e,t,a){e.exports={innerModalBody:"DVRSetupAddLineup-innerModalBody-1y3XAT ModalBody-innerModalBody-BHe1nE",header:"DVRSetupAddLineup-header-3kUxKz",formContainer:"DVRSetupAddLineup-formContainer-3TABhq",formElements:"DVRSetupAddLineup-formElements-1a2Q09",formError:"DVRSetupAddLineup-formError-21vJbq",section:"DVRSetupAddLineup-section-2U6GwZ",buttonBar:"DVRSetupAddLineup-buttonBar-1nYuVO ModalFooterButtonBar-buttonBar-7XF2zU",form:"DVRSetupAddLineup-form-3NkUQk"}},jvu3:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return s}));var n=a("17x9");const i="bottom-left",r="top-left",s="none";a.n(n).a.oneOf([i,r,s])},jw1d:function(e,t,a){e.exports={spinner:"PlaylistList-spinner-35vMZm",content:"PlaylistList-content-BhpSbg",contentScroller:"PlaylistList-contentScroller-10slMm",cell:"PlaylistList-cell-2Crv3Z"}},"jy+L":function(e,t,a){e.exports={input:"ServerLogFilterInput-input-1ueuPd TextInput-input-1VMuma input-input-1P2Vi4"}},"k+R5":function(e,t,a){e.exports={card:"MetadataPosterButtonCard-card-2T8TR6",playButton:"MetadataPosterButtonCard-playButton-aOV1En PlayButton-playButton-3WX8X-",playCircle:"MetadataPosterButtonCard-playCircle-366hcx PlayButton-playCircle-3Evfdw",recordButton:"MetadataPosterButtonCard-recordButton-1m2tbo RecordIcon-recordIconContainer-1PXGA2",recordCircle:"MetadataPosterButtonCard-recordCircle-1UtXWP RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw"}},k31B:function(e,t,a){e.exports={secondaryTitle:"PrePlaySecondaryTitle-secondaryTitle-YJRGCZ PrePlayPrimaryTitle-primaryTitle-1r9P9r"}},k4np:function(e,t,a){e.exports={placeholder:"MetadataPosterCardPlaceholder-placeholder-pMf-qI MetadataPosterCardFace-poster-L2P6rC",isSelected:"MetadataPosterCardPlaceholder-isSelected-34TSl1 MetadataPosterCardFace-isSelected-1XUgkl"}},k9ft:function(e,t,a){"use strict";function n(e,t){const a=t?8*Math.round(t/8):0,n=e?8*Math.round(e/8*(9/16)):0;return Math.max(a,n)}a.d(t,"a",(function(){return n}))},kDj3:function(e,t,a){e.exports={title:"SourceSidebarServerHeader-title-3zMGa0 SourceSidebarLink-title-1lgRT2 SidebarLink-title-2vaAAn",isSelected:"SourceSidebarServerHeader-isSelected-3RDRpP SourceSidebarLink-isSelected-27-9-6",iconContainer:"SourceSidebarServerHeader-iconContainer-39Nny8 SourceSidebarItem-iconImg-2zgKLr",actionContainer:"SourceSidebarServerHeader-actionContainer-1FXUpo"}},kEeM:function(e,t,a){e.exports={container:"PrePlayActionBar-container-2BXA5E ActionButtonBar-bar-BSTmw2",addIcon:"PrePlayActionBar-addIcon-332EkW ActionButton-icon-3yhx5u",menu:"PrePlayActionBar-menu-Jlr1YK Menu-menu-3XnN6J",disabledUserRating:"PrePlayActionBar-disabledUserRating-3CKqsG StarRating-starRating-1-SbNQ"}},kFs7:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("k4np"),l=a.n(o);t.a=function(e){const{imageWidth:t,imageHeight:a,isSelected:n}=e,r={width:t,height:a};return s.a.createElement("div",{className:i()(l.a.placeholder,n&&l.a.isSelected),style:r})}},kJQh:function(e,t,a){e.exports={line:"ServerLogLine-line-2WtKzy",field:"ServerLogLine-field-madfJN",fieldTime:"ServerLogLine-fieldTime-17MvxW ServerLogLine-field-madfJN",fieldThread:"ServerLogLine-fieldThread-3Pag7D ServerLogLine-field-madfJN",fieldMessage:"ServerLogLine-fieldMessage-37X1ly ServerLogLine-field-madfJN",levelError:"ServerLogLine-levelError-bOQc8x ServerLogLine-line-2WtKzy",levelWarning:"ServerLogLine-levelWarning-1Fzthi ServerLogLine-line-2WtKzy",levelInfo:"ServerLogLine-levelInfo-K81rVD ServerLogLine-line-2WtKzy",levelDebug:"ServerLogLine-levelDebug-mz-F9H ServerLogLine-line-2WtKzy",levelVerbose:"ServerLogLine-levelVerbose-1mA-Cl ServerLogLine-line-2WtKzy",levelUnknown:"ServerLogLine-levelUnknown-vHwX-9 ServerLogLine-line-2WtKzy",isHighlighted:"ServerLogLine-isHighlighted-2uX6-J"}},kRwu:function(e,t,a){"use strict";function n(e){if(/\.plex\.direct$/.test(e)){const t=e.indexOf(".");t>0&&(e=(e=e.substring(0,t)).replace(/-/g,"."))}return e}a.d(t,"a",(function(){return n}))},kSXg:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("L395"),s=a("g2Jg");class o extends n.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.state.isScrolling||(this._currentScrollTop=e)},this.state={isScrolling:!1},this._positionKey=s.a.getKey(e.scrollPositionKey),this._currentScrollTop=0,this._restoreScrollDelay=e.smoothScroll?e.smoothScrollDuration:e.restoreScrollDelay,this._restoreScroll=!1,this._restoreScrollTimeoutID=null}componentDidMount(){this._restoreScrollPosition()}componentDidUpdate(e){const{scrollPositionKey:t}=this.props;e.scrollPositionKey!==t&&(this._positionKey=s.a.getKey(t))}componentWillUnmount(){this._storeScrollPosition(),this._restoreScrollTimeoutID&&window.clearTimeout(this._restoreScrollTimeoutID)}_restoreScrollPosition(){const e=s.a.get(this._positionKey);e&&(this.setState({isScrolling:!0}),this._currentScrollTop=e.scrollTop,this._restoreScroll=!0,this._restoreScrollTimeoutID=window.setTimeout(()=>{this.setState({isScrolling:!1}),this._restoreScroll=!1},this._restoreScrollDelay))}_storeScrollPosition(){s.a.set(this._positionKey,{scrollTop:this._currentScrollTop})}render(){const{children:e,className:t,restoreScrollDelay:a,scrollPositionKey:n,...s}=this.props;return i.a.createElement(r.a,{className:t,scrollTop:this._currentScrollTop,restoreScroll:this._restoreScroll,onScrollPositionChange:this.onScrollPositionChange,...s},e)}}o.defaultProps={restoreScrollDelay:100,scrollPositionKey:"scrollPosition",smoothScroll:!0,smoothScrollDuration:400},t.a=o},kTPH:function(e,t,a){e.exports={overlay:"MetadataFolderDetailsRow-overlay-IN-cEw",underlay:"MetadataFolderDetailsRow-underlay-35B7RW Link-link-2ew_DK",posterContainer:"MetadataFolderDetailsRow-posterContainer-2z5Of4",titlesContainer:"MetadataFolderDetailsRow-titlesContainer-BwsdTb",doubleTitle:"MetadataFolderDetailsRow-doubleTitle-tBpYhL"}},"kV+z":function(e,t,a){e.exports={recordButtonContainer:"LiveTVRecord-recordButtonContainer-vuoUXZ"}},khlA:function(e,t,a){"use strict";a.r(t);var n=a("B69o"),i=a("vdRG");const r=n.a.extend({name:"MediaGrabOperationCollection",context:["server","provider"],model:i.a,comparator(e){const t=e.get("mediaItem");if(!t)return;return t.beginsAt-(t.startOffsetSeconds||0)}});t.default=r},"kjw+":function(e,t,a){e.exports={container:"PageHeaderLeftGutter-container-2zDXNC",innerContainer:"PageHeaderLeftGutter-innerContainer-34KhPg"}},kr0E:function(e,t,a){e.exports={buttonBar:"ModalFooterButtonBar-buttonBar-7XF2zU"}},kvRM:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("iFKP"),s=a.n(r);t.a=function(){return i.a.createElement("div",{className:s.a.separator})}},kvTH:function(e,t,a){e.exports={container:"DVRSetupMapping-container-1vrQ5w",modalBody:"DVRSetupMapping-modalBody-3H1s5Y ModalBody-modalBody-1-wcfe",innerModalBody:"DVRSetupMapping-innerModalBody-3akguy",scroller:"DVRSetupMapping-scroller-3M4ux2 VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74",buttonBar:"DVRSetupMapping-buttonBar-shNJXU ModalFooterButtonBar-buttonBar-7XF2zU"}},kwss:function(e,t,a){"use strict";var n=a("ZTgP");const i=a("BcwQ").default,r={allowFlash:!1,testPrivateConnectionsWhenPublicAddressDoesNotMatch:!0,allowHttpsMediaServerConnections:!1,allowMediaServerRelayConnections:!1,allowLoopbackDiscovery:!1,allowSSO:!1,allowMixedContent:!1,allowBaseImagePreloading:!0,allowBaseImageBlobs:!0,heartbeatInterval:1e4,allowManualServers:!1,allowMobileServers:!1,allowMultiTrackAudio:!1,maximumConcurrentConnectionTests:5,shouldCreateFlexModels:!1,shouldCreateStateTree:!1,requiresSignIn:!0,requiresPlexPass:!1,myPlexAccessToken:null,continueUrl:null,primaryServer:null,shouldCreateNewSessionWhenSeekingLiveTV:!1,shouldPreferInsecureLocalConnections:!1,shouldRequestHTMLFromCloudProvider:!1,allowLiveTVPlayback:!0,seekDebounceMilliseconds:null,allowSyncSettings:!1,allowAdsOverMedia:!0,drmType:n.NONE,...i,...window.PLEXWEB},s=Object.freeze(r);t.a=s},kxlF:function(e,t,a){e.exports={listContainer:"PrePlayDescendantList-listContainer-3AH-PT"}},l1OG:function(e,t,a){"use strict";var n=a("G4qV"),i=a("Zl7H");const r=Object(n.a)(i.a,e=>e.experienceSettings);t.a=r},l9jO:function(e,t,a){"use strict";a.d(t,"a",(function(){return $})),a.d(t,"f",(function(){return ee})),a.d(t,"m",(function(){return te})),a.d(t,"o",(function(){return ae})),a.d(t,"v",(function(){return ne})),a.d(t,"u",(function(){return ie})),a.d(t,"q",(function(){return re})),a.d(t,"S",(function(){return se})),a.d(t,"g",(function(){return oe})),a.d(t,"s",(function(){return le})),a.d(t,"d",(function(){return ce})),a.d(t,"D",(function(){return de})),a.d(t,"h",(function(){return ue})),a.d(t,"A",(function(){return pe})),a.d(t,"N",(function(){return me})),a.d(t,"l",(function(){return he})),a.d(t,"n",(function(){return ge})),a.d(t,"z",(function(){return ye})),a.d(t,"x",(function(){return fe})),a.d(t,"Q",(function(){return be})),a.d(t,"j",(function(){return ve})),a.d(t,"p",(function(){return Ie})),a.d(t,"r",(function(){return Se})),a.d(t,"b",(function(){return Ee})),a.d(t,"w",(function(){return Oe})),a.d(t,"e",(function(){return Me})),a.d(t,"M",(function(){return Ce})),a.d(t,"I",(function(){return je})),a.d(t,"H",(function(){return De})),a.d(t,"c",(function(){return Pe})),a.d(t,"y",(function(){return Te})),a.d(t,"B",(function(){return we})),a.d(t,"k",(function(){return xe})),a.d(t,"i",(function(){return Ae})),a.d(t,"t",(function(){return Le})),a.d(t,"R",(function(){return ke})),a.d(t,"L",(function(){return Re})),a.d(t,"C",(function(){return ze})),a.d(t,"P",(function(){return Ue})),a.d(t,"O",(function(){return Ve})),a.d(t,"G",(function(){return Be})),a.d(t,"F",(function(){return Fe})),a.d(t,"K",(function(){return He})),a.d(t,"J",(function(){return _e})),a.d(t,"E",(function(){return We})),a.d(t,"T",(function(){return Ze}));var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("ICb1"),l=a("rG0a"),c=a("0jae"),d=a("n/o+"),u=a("+X4A"),p=a("cgRT"),m=a("kwss"),h=a("yO9Y"),g=a("92Vb"),y=a("GdCd"),f=a("vdDq"),b=a("9T71"),v=a("wt2f");function I(e,t){const a={};for(const n in t)e.hasAttr(n)&&(a[n]=e.get(n));return a}var S=a("t2mA"),E=a("ZYvM");function O(e,t){const a=e.get("user").get("experienceSettings").get("homeSettings");a.set("settingsKey",Object(E.a)()),t(Object(S.l)({homeSettings:a}))}var M=a("INWF"),C=a("YINS"),j=a("WRlm"),D=a("iZkF"),P=a("9/EM");const T=[7,30,60,90];function w(e=0){return Object(P.a)(Date.now(),T[e]||180)}var N=a("t/0V");function x(e){return e.isCloud?"online":e.isFullOwnedServer?"owned":"shared"}function A(e){return e.isConnected?"online":"offline"}var L=a("LdBX");var k=function(e,t=!0){Object(p.c)("metrics").trackEvent({event:j.c,interaction:t,properties:{page:D.cb,action:C.db,serverType:Object(L.a)(e),status:A(e),firstRun:!0}})},R=a("FIl5"),z=a("LlG2"),U=a("hPIe"),V=a("1Lwt"),B=a("66GW"),F=a("whaC"),H=a("sn2U"),_=a("/Os2"),W=a("Qyje"),Q=a.n(W),G=a("RryH");var K=function(e,t){const a=e.server.getXHROptions(s.a.result(e,"url"),{method:"POST",dataType:"json",data:Q.a.stringify({urls:t},{arrayFormat:"brackets"})||"urls="});return Object(G.a)(i.a.ajax(a),400).then(t=>{e.reset(t)},e=>i.a.Deferred().reject(e.status&&e.responseJSON.errors||[]).promise())},Y=a("vfgx"),q=a("w41d"),Z=a("0tvf"),X=a("XcGM"),J=a("0MtW");const $="user/resetHomeSettings",ee=Object(o.a)("user/changePreferredServer"),te=Object(o.a)("user/fetchAllFriends"),ae=Object(o.a)("user/fetchHomeUsers"),ne=Object(o.a)("user/populateHomeUsers"),ie=Object(o.a)("user/populateAllFriends"),re=Object(o.a)("user/fetchPlans"),se=(Object(o.a)("user/populatePlans"),Object(o.a)("user/updateUser")),oe=Object(o.a)("user/clearUpdateUserError"),le=Object(o.a)("user/fetchWebhooks"),ce=Object(o.a)("user/addWebhook"),de=Object(o.a)("user/replaceWebhook"),ue=Object(o.a)("user/clearUpdateWebhookError"),pe=Object(o.a)("user/removeWebhook"),me=Object(o.a)("user/startFirstRunExperience"),he=Object(o.a)("user/endFirstRunExperience"),ge=Object(o.a)("user/fetchHomeDetails"),ye=Object(o.a)("user/removeHomeUser"),fe=Object(o.a)("user/removeFriend"),be=Object(o.a)("user/toggleGuestUser"),ve=Object(o.a)("user/editHomeUserPIN"),Ie=Object(o.a)("user/fetchInvites"),Se=Object(o.a)("user/fetchSentInvites"),Ee=Object(o.a)("user/acceptInvite"),Oe=Object(o.a)("user/rejectInvite"),Me=Object(o.a)("user/cancelInvite"),Ce=Object(o.a)("user/showNewHomeWarnings"),je=Object(o.a)("user/seedProviderPromotedContent"),De=Object(o.a)("user/seedPreferredServerContent"),Pe=Object(o.a)("user/addHomeHubs"),Te=Object(o.a)("user/removeHomeHubs"),we=(Object(o.a)("user/updateHomeHubs"),Object(o.a)("user/reorderHomeHubs")),Ne=Object(o.a)($),xe=Object(o.a)("user/enableAutoHomeHubs"),Ae=Object(o.a)("user/disableAutoHomeHubs"),Le=Object(o.a)("user/pinSources"),ke=Object(o.a)("user/unpinSources"),Re=Object(o.a)("user/setupSources"),ze=Object(o.a)("user/reorderPinnedSources"),Ue=(Object(o.a)("user/updatePinnedSources"),Object(o.a)("user/dismissUpsellModal"),Object(o.a)("user/saveSetting"),Object(o.a)("user/syncSettings")),Ve=Object(o.a)("user/syncExperienceSettings"),Be=Object(o.a)("user/restoreDefaultExperienceSettings"),Fe=Object(o.a)("user/restoreCustomizationSettings"),He=Object(o.a)("user/setTwoFactorEnabled"),_e=Object(o.a)("user/setReminder"),We=(Object(o.a)("user/removeReminder"),Object(o.a)("user/resetReminders"));function Qe(e,t){if(!e.get("isSignedIn")||!m.a.allowSyncSettings)return i.a.Deferred().resolve().promise();const a=Array.isArray(t)?t:[t],n=u.default.join("/api/v2/user/settings",{sharedSettings:Object(F.a)(e)?1:0}),r=e.server.getXHROptions(n,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({value:JSON.stringify(a)})});return i.a.ajax(r).promise()}function Ge(e,t){if(!e)return null;const a=e.find(e=>e.id===t);return a&&a.updatedAt}function Ke(e){return e.get("user")}function Ye(e){return e.get("user").get("experienceSettings").get("sidebarSettings")}function qe(e){return e.get("user").get("experienceSettings").get("homeSettings")}const Ze={[S.a]:S.p[S.a],[S.c]:S.p[S.c],[S.f]:S.p[S.f],[S.g]:S.p[S.g],[S.h]:S.p[S.h],[S.d]:S.p[S.d],[S.b](e){Object(V.a)(()=>{e.get("user").set("lockState",Z.a.Locked)})},"user/changePreferredServer"(e,t,a){const{machineIdentifier:n}=t;qe(e).set("preferredServerID",n),O(e,a)},"user/fetchAllFriends":Object(g.a)({key:"allFriends",getModel:Ke}),"user/populateAllFriends":Object(y.a)({key:"allFriends",fetchActionCreator:te,getModel:Ke}),"user/fetchHomeUsers":Object(g.a)({key:"homeUsers",getModel:U.n}),"user/populateHomeUsers":Object(g.a)({key:"homeUsers",fetchActionCreator:ae,getModel:U.n}),"user/fetchPlans":Object(g.a)({key:"plans",getModel:U.n}),"user/populatePlans":Object(y.a)({key:"plans",fetchActionCreator:re,getModel:U.n}),"user/clearUpdateUserError"(e){Object(U.n)(e).set("updateUserError",null)},"user/updateUser"(e,t,a){const n=Object(U.n)(e),r=e.get("user"),{avatar:o,...l}=t;let c;if(n.set({isUpdatingUser:!0,updateUserError:null}),o)c=Object(_.a)(o);else{const e=new window.FormData;s.a.each(l,(t,a)=>{e.append(a,t)});const t=s.a.result(r,"url"),a=null!=l.experimentalFeatures?u.default.join([t,"settings","experimental_features"],{opt_in:l.experimentalFeatures}):t,n=r.server.getXHROptions(a,{type:"PUT",processData:!1,contentType:!1,data:null!=l.experimentalFeatures?void 0:e});c=i.a.ajax(n)}c.done(e=>{!t.avatar&&r.get("hasPassword")||r.fetch();const a=s.a.reduce(t,(e,t,a)=>(r.hasAttr(a)&&(e[a]=t),e),{});r.set(a),n.set({isUpdatingUser:!1,updateUserError:null})}).fail(e=>{const t=R.a.parseXML(e.responseText),a=Array.isArray(t)&&t||(Array.isArray(t.error)?t.error:[t.error]),i=s.a.mapObject(s.a.groupBy(a,e=>e&&e.field?e.field:"request"),(e,t)=>s.a.flatten(e));n.set({isUpdatingUser:!1,updateUserError:i})})},"user/fetchWebhooks":Object(g.a)({key:"webhooks",getModel:U.n}),"user/addWebhook"(e){const t=Object(U.n)(e);t.get("webhooks").add({}),t.set("updateWebhooksError",null)},"user/replaceWebhook"(e,{oldUrl:t,newUrl:a}){const n=Object(U.n)(e),i=n.get("webhooks");if(i.findWhere({url:t})){const e=i.map(e=>{const n=e.get("url");return n===t?a:n});n.set({isUpdatingWebhooks:!0,updateWebhooksError:null}),K(i,e).always(()=>{n.set("isUpdatingWebhooks",!1)}).fail(e=>{n.set("updateWebhooksError",e[0])})}},"user/clearUpdateWebhookError"(e){Object(U.n)(e).set("updateWebhooksError",null)},"user/removeWebhook"(e,t){const a=Object(U.n)(e),n=a.get("webhooks");if(!t){const e=n.filter(e=>e.get("url")!==t);return void n.reset(e)}a.set({isRemovingWebhooks:!0,updateWebhooksError:null});const i=n.map(e=>e.get("url")).filter(e=>e!==t);K(n,i).always(()=>{a.set("isRemovingWebhooks",!1)}).fail(e=>{a.set("updateWebhooksError",e[0])})},"user/startFirstRunExperience"(e,t={},a){window.setTimeout(()=>{a(Object(h.v)({replace:!0,pathname:"/client-setup"}))},0)},"user/endFirstRunExperience"(e,t,a){const{preferredServerEntityID:n}=t;if(n){const a=Object(U.m)(e,{serverEntityID:n});k(a.toJSON(),t.preferredServerInteraction)}window.setTimeout(()=>{Object(X.a)("home",{},!0)},0)},"user/fetchHomeDetails"(e){const t=Object(U.n)(e),a=t.get("homeDetails");t.set("isHomeDetailsPending",!0),a.fetch().then(()=>{t.set({isHomeDetailsPending:!1,isHomeDetailsPopulated:!0,homeDetailsError:null})},(e,a)=>{const n={isHomeDetailsPending:!1};404===a.status?(n.isHomeDetailsPopulated=!0,n.homeDetailsError=null):(n.isHomeDetailsPopulated=!1,n.homeDetailsError=a),t.set(n)})},"user/removeHomeUser"(e,t,a){const n=e.get("user"),r=Object(U.n)(e),s=r.get("homeUsers"),o=n.get("homeUsers"),l=n.get("allFriends"),c=Object(q.b)(e,t),d=n.id===c.id;Object(V.a)(()=>{c.set("isRemoving",!0)});const u=c.server.getXHROptions(c.url(),{type:"DELETE"});i.a.ajax(u).then(()=>{const e=l.get(c.id);e?(c.get("restricted")?l.remove(e):e.set("home",!1),s.remove(c)):(s.reset([c]),c.set("admin",!0),l.each(e=>{e.set("home",!1)}));const t=!!n.get("pin")||s.length>1;if(n.set("home",t),!t){const e=r.get("homeDetails"),t=n.get("homeDetails");e.restoreDefaults(),t.restoreDefaults()}o.fetch(),c.set("isRemoving",!1)},()=>{a(Object(M.d)({type:"error",message:d?Object(B.default)("There was a problem leaving this home."):Object(B.default)("There was a problem removing this user.")})),c.set({isRemoving:!1})})},"user/removeFriend"(e,t,a){const n=e.get("user"),r=Object(U.n)(e),s=r.get("homeUsers"),o=n.get("allFriends"),c=n.get("homeUsers"),d=Object(q.a)(e,t);Object(V.a)(()=>{d.set("isRemoving",!0)});const p=u.default.join(["/api/v2/friends",d.id]),m=d.server.getXHROptions(p,{type:"DELETE"});i.a.ajax(m).then(()=>{const e=d.get("home");r.get("invites").fetch(),r.get("sentInvites").fetch(),e&&(s.fetch(),c.fetch()),d.get("serverShares").some(e=>!e.owned)&&l.a.trigger("discover:servers"),d.set({isRemoving:!1}),o.remove(d)},()=>{a(Object(M.d)({type:"error",message:Object(B.default)("There was a problem removing this friend.")})),d.set({isRemoving:!1})})},"user/toggleGuestUser"(e,t,a){const n=e.get("user"),r=Object(U.n)(e),s=n.get("homeSize"),o=r.get("homeDetails"),l=r.get("homeUsers"),c=n.get("allFriends"),d=n.get("homeDetails"),p=n.get("homeUsers"),m=!o.get("guestEnabled");o.set("isTogglingGuestUser",!0);const h=u.default.join("/api/home",{guestEnabled:m?1:0}),g=m&&1===s,y=n.server.getXHROptions(h,{type:g?"POST":"PUT"});i.a.ajax(y).then(()=>{l.fetch(),c.fetch(),p.fetch(),m||2!==s?(d.set("guestEnabled",m),o.set({guestEnabled:m,isTogglingGuestUser:!1}),g&&n.set("home",!0)):(d.clear(),o.clear(),n.set("home",!1))},e=>{const t=m?Object(B.default)("Unable to enable guest account"):Object(B.default)("Unable to disable guest account"),n=Object(N.a)(e,t,"status");a(Object(M.d)({type:"error",message:n})),o.set("isTogglingGuestUser",!1)})},"user/editHomeUserPIN"(e,t){const a=Object(q.b)(e,t),n=new J.a({model:a,isEditing:!0});l.a.trigger("show:modal",n),n.promise.then(e=>{a.set("protected",!!e)})},"user/fetchInvites":Object(g.a)({key:"invites",getModel:U.n}),"user/fetchSentInvites":Object(g.a)({key:"sentInvites",getModel:U.n}),"user/acceptInvite"(e,t,a){const n=e.get("user"),r=Object(U.n)(e),s=r.get("invites"),o=s.get(t.inviteID),c=r.get("homeUsers").get(n.id),u=n.get("homeUsers");o.set("isAccepting",!0);const p=c.get("protected");(o.get("home")&&!p?function(e){const t=new J.a({model:e,isEditing:!0,isEditWarning:!0});return l.a.trigger("show:modal",t),Object(d.a)(t.promise)}(c):i.a.Deferred().resolve().promise()).then(()=>o.save(null,{force:!0})).then(()=>{s.remove(o),u.fetch(),a(ae()),a(te()),a(Se()),o.get("server")&&l.a.trigger("discover:servers")},e=>{o.set("isAccepting",!1),a(Object(M.d)({type:"error",message:Object(B.default)("There was a problem accepting this invite.")}))})},"user/rejectInvite"(e,t,a){const n=Object(U.n)(e).get("invites"),r=n.get(t.inviteID);r.set("isRemoving",!0);const s=r.server.getXHROptions(r.url(),{type:"DELETE"});i.a.ajax(s).then(()=>{n.remove(r),r.get("server")&&a(te())},()=>{r.set("isRemoving",!1),a(Object(M.d)({type:"error",message:Object(B.default)("There was a problem rejecting this invite.")}))})},"user/cancelInvite"(e,t,a){const n=Object(U.n)(e).get("sentInvites"),r=n.get(t.inviteID);r.set("isRemoving",!0);const s=r.server.getXHROptions(r.url(),{type:"DELETE"});i.a.ajax(s).then(()=>{n.remove(r),r.get("server")&&a(te())},()=>{r.set("isRemoving",!1),a(Object(M.d)({type:"error",message:Object(B.default)("There was a problem canceling this invite.")}))})},"user/showNewHomeWarnings"(e,t,a){const n=e.get("user"),i=Object(U.n)(e).get("homeUsers"),r=i.get(n.id);if(r.get("protected")||i.length>1)return;const s=new J.a({model:r,isEditing:!0,isEditWarning:!0});l.a.trigger("show:modal",s)},"user/seedPreferredServerContent"(e,t,a){if(!t.hubs.length)return;const n=qe(e),i={...t};n.get("hasCustomizations")||(i.at=0),a(Pe(i)),n.set({hasSeededPreferredServerContent:!0}),O(e,a)},"user/seedProviderPromotedContent"(e,t,a){if(!t.hubs.length)return;const n=qe(e);a(Pe(t)),n.set({hasSeededProviderPromotedContent:!0}),O(e,a)},"user/addHomeHubs"(e,t,a){const n=qe(e),{at:i,isUserInitiated:r,hubs:s}=t,o=i>=0?{at:i}:null,l=s.reduce((t,a)=>{const{directoryKey:n,entityID:i,model:r}=a,s=i?Object(U.b)(e,{hubEntityID:i}):r;return s&&t.push(function({directoryKey:e,hubModel:t}){const a=t.get("hubIdentifier"),n=Object(b.a)(a),i=n===a?e:"/hubs";return new f.d({...I(t,f.a),provider:{...I(t.provider,f.b)},server:{...I(t.server,f.c)},hubIdentifier:n,id:v.b(t),directoryKey:i})}({directoryKey:n,hubModel:s})),t},[]);l.length&&(r&&!n.get("hasCustomizations")&&n.set("hasCustomizations",!0),Object(c.a)("[Home] user/addHomeHubs:",t,l),n.get("hubs").add(l,o),O(e,a))},"user/removeHomeHubs"(e,t,a){const n=qe(e),{isUserInitiated:i,hubs:r}=t,s=r.reduce((t,a)=>{const{entityID:n,homeHubID:i}=a;let r=i;if(n){const t=Object(U.b)(e,{hubEntityID:n});r=t&&v.b(t)}return r&&t.push(r),t},[]);s.length&&(i&&!n.get("hasCustomizations")&&n.set("hasCustomizations",!0),n.get("hubs").remove(s),O(e,a))},"user/updateHomeHubs"(e,t,a){const{homeHubIDs:n,homeHubAttrs:i}=t,r=e.get("user").get("experienceSettings").get("homeSettings").get("hubs");n.forEach(e=>{const t=r.get(e);t&&t.set(i)}),O(e,a)},"user/reorderHomeHubs"(e,t,a){const n=qe(e),i=n.get("hubs"),{isUserInitiated:r,homeHubIDs:s}=t,o=s.map(e=>i.get(e));r&&!n.get("hasCustomizations")&&n.set("hasCustomizations",!0),n.get("hubs").reset(o),O(e,a)},[$](e,t,a){const n=qe(e);n.restoreDefaults({preferredServerID:n.get("preferredServerID")}),O(e,a)},"user/enableAutoHomeHubs"(e,t,a){e.get("user").get("experienceSettings").set("autoHomeHubsEnabled",!0),a(Ne())},"user/disableAutoHomeHubs"(e,t,a){const n=e.get("ui").get("autoHomePage"),i=e.get("user").get("experienceSettings"),r=i.get("homeSettings");r.restoreDefaults({preferredServerID:r.get("preferredServerID"),hasSeededProviderPromotedContent:!1,hasSeededPreferredServerContent:!1}),i.set("autoHomeHubsEnabled",!1),n.restoreDefaults(),O(e,a)},"user/setupSources"(e,t,a){const n=Ye(e),i=n.get("pinnedSources"),{sources:r=[]}=t;n.get("hasCompletedSetup")||n.set("hasCompletedSetup",!0);const s=r.map(z.a);i.reset(s),a(Object(S.l)({sidebarSettings:n})),s.forEach(e=>{Object(p.c)("metrics").trackEvent({event:j.c,interaction:!0,identifier:e.providerIdentifier,properties:{page:D.db,action:C.M,type:e.sourceType,serverType:x(e),firstRun:!0}})})},"user/pinSources"(e,t,a){const n=Ye(e),i=n.get("pinnedSources"),{sources:r=[],interaction:s=!0}=t,o=r.map(z.a);i.add(o),a(Object(Y.b)()),a(Object(S.l)({sidebarSettings:n})),o.forEach(e=>{Object(p.c)("metrics").trackEvent({event:j.c,interaction:s,identifier:e.providerIdentifier,properties:{page:D.ob,action:C.M,type:e.sourceType,serverType:x(e),firstRun:!1}})})},"user/unpinSources"(e,t,a){const n=Ye(e),i=n.get("pinnedSources"),{sources:r=[]}=t,s=r.map(e=>i.get(e.key));i.remove(s),a(Object(Y.b)()),a(Object(S.l)({sidebarSettings:n})),r.forEach(e=>{Object(p.c)("metrics").trackEvent({event:j.c,interaction:!0,identifier:e.providerIdentifier,properties:{page:D.ob,action:C.ob,type:e.sourceType,serverType:x(e),firstRun:!1}})})},"user/reorderPinnedSources"(e,t,a){const n=Ye(e),i=n.get("pinnedSources"),r=t.sourceKeys.map(e=>i.get(e));i.reset(r),a(Object(Y.b)({debounceHubContentRefresh:!0})),a(Object(S.l)({sidebarSettings:n})),Object(p.c)("metrics").trackEvent({event:j.c,interaction:!0,properties:{page:D.ob,action:C.bb}})},"user/updatePinnedSources"(e,t,a){const{sourceKeys:n,pinnedSourceAttrs:i}=t,r=Ye(e),s=r.get("pinnedSources");n.forEach(e=>{const t=s.get(e);t&&t.set(i)}),a(Object(S.l)({sidebarSettings:r}))},"user/dismissUpsellModal"(e,t,a){const n=e.get("user").get("experienceSettings").get("dismissedUpsellModals"),{dismissedModal:i}=t;n.includes(i)||a(Object(S.l)({dismissedUpsellModals:[...n,i]}))},"user/saveSetting"(e,t,a){e.get("user").get("settings").get(t.id).set({value:t.value,isDirty:!0}),a(Ue([t.id]))},"user/syncSettings"(e,t){const a=e.get("user"),n=a.get("settings");Qe(a,t.map(e=>n.get(e).toJSON({syncedOnly:!0}))).then(e=>{t.forEach(t=>{const a=n.get(t),i=Ge(e,t);i&&a.set({updatedAt:i,isDirty:!1})})})},[S.e](e,t,a){e.get("user").get("experienceSettings").set({...t,isDirty:!0}),a(Ve())},"user/syncExperienceSettings"(e){const t=e.get("user"),a=t.get("experienceSettings"),n=a.toJSON({excluded:["updatedAt"],syncedOnly:!0,excludeDefaults:!0});a.set({isSaving:!0,saveError:null}),Qe(t,{id:H.b,type:"json",value:JSON.stringify(n),hidden:!0}).then(e=>{const t=Ge(e,H.b),n={isSaving:!1};t&&(n.updatedAt=t,n.isDirty=!1),a.set(n)},()=>{a.set({isSaving:!1,saveError:{message:Object(B.default)("An error occurred while syncing settings")}})})},"user/restoreDefaultExperienceSettings"(e,t,a){const n=e.get("user").get("experienceSettings"),i={showAdvancedSettings:n.get("showAdvancedSettings"),isDirty:!0};n.restoreDefaults(i),a(Ve())},"user/restoreCustomizationSettings"(e,t,a){const n=e.get("user").get("experienceSettings");n.set("autoHomeHubsEnabled",!0),n.get("homeSettings").restoreDefaults(),n.get("sidebarSettings").restoreDefaults(),a(Ve()),a(Object(Y.c)())},"user/setTwoFactorEnabled"(e,{twoFactorEnabled:t},a){e.get("user").set({twoFactorEnabled:t})},"user/setReminder"(e,t,a){const n=e.get("user").get("experienceSettings"),{id:i,data:r}=t,s=n.get("reminders"),o=s.get(i),l=o?o.get("times")+1:0;s.add({data:r,id:i,times:l,remindAfter:w(l).toISOString()},{merge:!0}),a(Object(S.l)())},"user/removeReminder"(e,t,a){e.get("user").get("experienceSettings").get("reminders").remove(t.id),a(Object(S.l)())},"user/resetReminders"(e,t,a){const n=e.get("user").get("experienceSettings").get("reminders");Object(c.a)(`[User] Removing ${n.length} reminders`),n.clear(),a(Object(S.l)())}}},lEPh:function(e,t,a){e.exports={container:"UserSharingSettingsSharedMedia-container-hSe45e Measure-container-3yONEe",message:"UserSharingSettingsSharedMedia-message-2fv_1p"}},lHKw:function(e,t,a){"use strict";var n,i,r,s,o,l,c,d,u,p,m,h,g,y;a.d(t,"g",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return g})),(i=n||(n={})).Download="download",i.LiveTV="livetv",i.Stream="stream",(s=r||(r={})).Action="action",s.Actions="actions",s.Content="content",s.ContinueWatching="continuewatching",s.Grid="grid",s.ImageTranscoder="imagetranscoder",s.Integrations="integrations",s.Lineups="lineups",s.Location="location",s.Manage="manage",s.Match="match",s.Metadata="metadata",s.Playlist="playlist",s.PlayQueue="playqueue",s.Promoted="promoted",s.QueryParser="queryParser",s.Rate="rate",s.Search="search",s.Settings="settings",s.Subscribe="subscribe",s.Timeline="timeline",s.Universal="universal",(l=o||(o={})).Download="download",l.Record="record",l.Universal="universal",(d=c||(c={})).AddToCatalog="addToCatalog",d.AddToWatchlist="addToWatchlist",d.Follow="follow",d.Mute="mute",d.Pick="pick",d.Rate="rate",d.RemoveFromContinueWatching="removeFromContinueWatching",d.Save="save",d.Scrobble="scrobble",(p=u||(u={})).Hub="hub",p.List="list",p.View="view",(h=m||(m={})).RecordingSchedule="view://dvr/recording-schedule",h.Guide="view://dvr/guide",h.Timeline="view://photo/timeline",h.SharedItems="view://shared-items",(y=g||(g={})).Freebase="com.plexapp.agents.freebase",y.IMDB="com.plexapp.agents.imdb",y.LastFM="com.plexapp.agents.lastfm",y.Lyricfind="com.plexapp.agents.lyricfind",y.None="com.plexapp.agents.none",y.PlexGame="tv.plex.agents.game",y.PlexMovie="tv.plex.agents.movie",y.PlexMusic="tv.plex.agents.music",y.PlexPremiumMusic="com.plexapp.agents.plexmusic",y.TheMovieDB="com.plexapp.agents.themoviedb",y.TheTVDB="com.plexapp.agents.thetvdb"},lHYh:function(e,t,a){e.exports={container:"DVRSetupInfoStep-container-1PLdsb",step:"DVRSetupInfoStep-step-KO4rjO",done:"DVRSetupInfoStep-done-3KCgwy Badge-badge-3I6Kzp DVRSetupInfoStep-step-KO4rjO",active:"DVRSetupInfoStep-active-3Re5yx Spinner-spinner-1qRM4t spin-spin-2kLwt_ DVRSetupInfoStep-step-KO4rjO",waiting:"DVRSetupInfoStep-waiting-2AlHpF Badge-badge-3I6Kzp DVRSetupInfoStep-step-KO4rjO"}},lNqu:function(e,t,a){"use strict";a.d(t,"e",(function(){return g})),a.d(t,"c",(function(){return y})),a.d(t,"f",(function(){return f})),a.d(t,"d",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return E}));var n=a("ICb1"),i=a("Wpyo"),r=a("U//L"),s=a("M8A8"),o=a("jnX0"),l=a("hDJw"),c=a("zTsO"),d=a("tqLa"),u=a("hPIe"),p=a("+Mxn"),m=a("1Lwt"),h=a("b3RP");const g=Object(n.a)("ui/modal/initAddToPlaylistModal"),y=Object(n.a)("ui/modal/clearAddToPlaylistModal"),f=Object(n.a)("ui/modal/selectDestination"),b=Object(n.a)("ui/modal/createPlaylist"),v=Object(n.a)("ui/modal/addToPlaylist");function I(e){return e.get("ui").get("addToPlaylistModal")}function S(e,t){Object(m.a)(()=>{e.set({isUpdating:!0,error:null})}),Object(o.a)(t).then(()=>{e.set({isUpdating:!1})},t=>{e.set({isUpdating:!1,error:Object(h.a)(t)})})}const E=Object(r.a)({"ui/modal/initAddToPlaylistModal"(e,t,a){const n=I(e);let i,r,s,o,l="";if(t.metadataItemEntityID)i=Object(u.f)(e,t),l=d.a.title(i);else if(t.metadataListEntityID)r=Object(u.g)(e,t),l=d.a.title(r);else if(t.playQueueID)o=Object(p.b)(e,t.playQueueID);else{s=e.get("ui").get("multiSelect");const t=s.get("activeSelectionItems").pluck("model");l=d.a.title(t,{items:t})}n.set({title:l,smart:t.smart,metadataItem:i,metadataList:r,multiSelect:s,playQueue:o}),a(f(t))},"ui/modal/clearAddToPlaylistModal"(e){I(e).restoreDefaults()},"ui/modal/selectDestination"(e,t){const a=I(e),n=Object(u.m)(e,t),r=Object(u.j)(e,t),o=a.get("metadataItem"),l=a.get("metadataList"),c=a.get("multiSelect"),d=a.get("playQueue"),p=a.get("smart"),m=o?Object(u.j)(e,{providerEntityID:o.get("providerEntityID")}):r,{containerKey:h,playlistType:g,uri:y}=Object(s.a)({providerModel:r,itemProviderModel:m,metadataItemModel:o,metadataListModel:l,multiSelectModel:c,playQueueModel:d}),f=new i.default({containerKey:h},{server:n,provider:r});a.set({server:n,provider:r,type:g,smart:p,containerKey:h,uri:y,playlists:f})},"ui/modal/createPlaylist"(e,t){const a=I(e),n=a.get("provider"),i=a.get("playQueue"),{formData:r}=t;let s=a.pick("type","title","uri","smart");s={...s,...r},s.providerModel=n,i&&(s.playQueueID=i.get("playQueueID")),Object(l.a)(e,c.a)&&(s.includeExternalMedia=!0),S(a,s)},"ui/modal/addToPlaylist"(e,{playlistID:t}){const a=I(e),n=a.get("provider"),i=a.get("playQueue"),r={playlistID:t,providerModel:n,uri:a.get("uri")};i&&(r.playQueueID=i.get("playQueueID")),Object(l.a)(e,c.a)&&(r.includeExternalMedia=!0),S(a,r)}})},"lWv/":function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a("BkRI"),i=a.n(n),r=a("+X4A"),s=a("JMV9"),o=a("LSig"),l=a("PSl2"),c=a("zTY+"),d=a("q1ww"),u=(a("K8a1"),a("01DF"),a("eLdf"));function p(e,t){var a;if(e.Image=null!=(a=e.Image)?a:[],e.Image.find(e=>e.type===t))return;const n=function(e,t){var a,n,i,r;switch(t){case u.b.CoverArt:switch(e.type){case d.d.Season:return null!=(a=e.parentArt)?a:e.art;case d.d.Episode:return null!=(i=null!=(n=e.grandparentArt)?n:e.parentArt)?i:e.thumb;default:return e.art}case u.b.CoverPoster:switch(e.type){case d.d.Season:return null!=(r=e.parentTheme)?r:e.thumb;case d.d.Episode:return e.grandparentThumb;default:return e.thumb}}}(e,t);n&&e.Image.push({alt:e.title,type:t,url:n})}var m=function(e){p(e,u.b.CoverArt),p(e,u.b.CoverPoster)},h=a("/zOi"),g=a("BD9E");function y({server:e,provider:t,data:a,container:n}){var u,p,f,b,v,I,S,E,O,M,C;let j=i()(a);if(j.Context&&(Object.assign(j,j.Context),delete j.Context),j.type===d.d.Channel&&j.Metadata){const e={id:j.id,thumb:j.thumb,title:j.title};j=i()(j.Metadata),j.liveTVChannel=e}null!=j.allowSync||Object(g.a)(n,j,"allowSync"),null!=j.attribution||Object(g.a)(n,j,"attribution"),null!=j.librarySectionID||Object(g.a)(n,j,"librarySectionID"),null!=j.librarySectionTitle||Object(g.a)(n,j,"librarySectionTitle"),null!=j.librarySectionUUID||Object(g.a)(n,j,"librarySectionUUID"),null==n.augmentationKey||Object(l.a)(e.version,s.a.augmentedHubsInRelatedHubs)||Object(g.a)(n,j,"augmentationKey");const D=/(.*)\/(children|items)$/.exec(j.key);D&&(j.childrenKey=r.default.join(j.skipChildren?j.key.replace("/children","/grandchildren"):j.key,{excludeAllLeaves:1}),j.key=D[1]),Object(g.e)(j,"librarySectionID"),Object(g.d)(j,"extraType");const P=j.source||Object(c.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier});j.source=P,j.sourceURI=`${P}${j.key}`,null==j.userState&&(j.userState=!0),j.isPlaylist=j.type===d.d.Playlist&&!j.radio,j.isLiveTVChannel=!!j.liveTVChannel,j.isExtra=null!=j.extraType,j.isFolder=/\/folder\?parent=/.test(j.key),j.type===d.d.Photo&&j.childrenKey&&(j.type=d.d.PhotoAlbum),j.type===d.d.Clip&&(null==(u=j.guid)?void 0:u.startsWith(o.d+"://"))&&!j.subtype&&(j.subtype=d.c.Photo),j.type===d.d.Movie&&(null==(p=j.guid)?void 0:p.startsWith(o.d+"://"))&&!j.subtype&&(j.subtype=d.c.Clip),null==(f=j.Media)||f.forEach(e=>{var t;null==(t=e.Part)||t.forEach(e=>{var t;null==(t=e.Stream)||t.forEach(e=>{Object(g.e)(e,"id")})})}),m(j),j.listItemKey=null!=(v=null==(b=j.Media)?void 0:b.reduce((e,t)=>(e.push(t.id),e),[j.sourceURI]).join("~"))?v:j.sourceURI;const T={tempState:{},isStale:!1,isPending:!1,isPopulated:!!j.userState,error:null};Object(g.b)(j,T,"deletedAt"),Object(g.b)(j,T,"downloadSubscriptionID"),Object(g.b)(j,T,"subscriptionID"),Object(g.b)(j,T,"subscriptionType"),Object(g.b)(j,T,"grandparentSubscriptionID"),Object(g.b)(j,T,"grandparentSubscriptionType"),Object(g.b)(j,T,"isDownloaded"),Object(g.b)(j,T,"lastRatedAt"),Object(g.b)(j,T,"lastViewedAt"),Object(g.b)(j,T,"picked"),Object(g.b)(j,T,"saved"),Object(g.b)(j,T,"unviewedLeafCount"),Object(g.b)(j,T,"userRating"),Object(g.b)(j,T,"viewCount"),Object(g.b)(j,T,"viewOffset"),Object(g.b)(j,T,"viewedLeafCount"),Object(g.b)(j,T,"watchlistedAt"),null!=j.leafCount&&(T.viewedLeafCount=null!=(I=T.viewedLeafCount)?I:0,T.unviewedLeafCount=j.leafCount-T.viewedLeafCount);const w={[j.sourceURI]:T};if(null==(S=j.Stations)?void 0:S.Metadata){const a=Object(h.a)({server:e,provider:t,data:j.Stations.Metadata,container:n});j.stations=a.metadataItems,delete j.Stations,Object.assign(w,a.metadataItemStates)}if(null==(E=j.Extras)?void 0:E.Metadata){const a=Object(h.a)({server:e,provider:t,data:j.Extras.Metadata,container:n});j.extras=a.metadataItems,delete j.Extras,Object.assign(w,a.metadataItemStates)}if(null==(O=j.OnDeck)?void 0:O.Metadata){const a=y({server:e,provider:t,data:j.OnDeck.Metadata,container:n});j.onDeck=a.metadataItem,delete j.OnDeck,Object.assign(w,a.metadataItemStates)}if((null==(M=j.PopularLeaves)?void 0:M.Metadata)&&(null==(C=j.PopularLeaves)?void 0:C.key)){const a=Object(h.a)({server:e,provider:t,data:j.PopularLeaves.Metadata,container:n});j.popularLeaves={key:j.PopularLeaves.key,items:a.metadataItems},delete j.PopularLeaves,Object.assign(w,a.metadataItemStates)}return j.Preferences&&(T.preferences=j.Preferences.Setting,delete j.Preferences),{metadataItem:j,metadataItemStates:j.userState?w:{}}}},lXqf:function(e,t,a){e.exports={selectButton:"SelectButton-selectButton-3jGXzS Link-link-2ew_DK",selectCircle:"SelectButton-selectCircle-ec9No3",selectedIcon:"SelectButton-selectedIcon-1liPBH",unselectedCircle:"SelectButton-unselectedCircle-2reVv_ SelectButton-selectCircle-ec9No3",selectedCircle:"SelectButton-selectedCircle-264nVE SelectButton-selectCircle-ec9No3",rangeCircle:"SelectButton-rangeCircle-25BDKx SelectButton-selectCircle-ec9No3"}},lbl0:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"g",(function(){return r})),a.d(t,"r",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"q",(function(){return c})),a.d(t,"p",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"j",(function(){return m})),a.d(t,"k",(function(){return h})),a.d(t,"i",(function(){return g})),a.d(t,"l",(function(){return y})),a.d(t,"n",(function(){return f})),a.d(t,"o",(function(){return b})),a.d(t,"m",(function(){return v})),a.d(t,"h",(function(){return I}));const n="PLAY",i="PAUSE",r="SEEK",s="STOP",o="PREVIOUS",l="NEXT",c="SKIPTO",d="SHOWDETAILS",u="REFRESHPLAYQUEUE",p="REFRESHSTREAMS",m="SETREPEAT",h="SETSTREAM",g="SETQUALITY",y="SETSUBTITLECOLOR",f="SETSUBTITLEPOSITION",b="SETSUBTITLESIZE",v="SETSUBTITLEOFFSET",I="SETAUTOPLAY"},lcbe:function(e,t,a){"use strict";var n=a("B69o"),i=a("CHn6"),r=a("mOXR"),s=a("W7j1"),o=a("AQch");var l=i.a.extend({name:"UserSubscriptionModel",syncedAttrs:{type:r.a.oneOf(...o.d).isRequired,state:r.a.oneOf(...s.f).isRequired,mode:r.a.string.isRequired}});const c=n.a.extend({name:"UserSubscriptionCollection",model:l});t.a=c},ld10:function(e,t,a){e.exports={icon:"PrePlayToggleMetadataItemSavedButton-icon-2zORzf",iconSaved:"PrePlayToggleMetadataItemSavedButton-iconSaved-17WmVR PrePlayToggleMetadataItemSavedButton-icon-2zORzf",iconUnsaved:"PrePlayToggleMetadataItemSavedButton-iconUnsaved-3itVtk PrePlayToggleMetadataItemSavedButton-icon-2zORzf"}},ldju:function(e,t,a){e.exports={zeroState:"SourceSidebarContent-zeroState-35CCyo",expandedSidebarContent:"SourceSidebarContent-expandedSidebarContent-3n-5nj"}},lfEE:function(e,t,a){e.exports={container:"EPGLineups-container-IjeNEu",lineups:"EPGLineups-lineups-161_G1",lineup:"EPGLineups-lineup-297HnJ",lineupSelect:"EPGLineups-lineupSelect-2ENR6W",addLineup:"EPGLineups-addLineup-2NdjyL Link-link-2ew_DK",disabled:"EPGLineups-disabled-3UDFh-",addLineupCircle:"EPGLineups-addLineupCircle-LL2anK",deleteButton:"EPGLineups-deleteButton-1JO7dq IconButton-iconButton-2l04Bi Link-link-2ew_DK"}},litE:function(e,t,a){e.exports={titleContainer:"MetadataTitleCombinedTitleTrackArtist-titleContainer-4jblz3",title:"MetadataTitleCombinedTitleTrackArtist-title-2YgMrS",trackArtist:"MetadataTitleCombinedTitleTrackArtist-trackArtist-19qjuQ"}},lj0k:function(e,t,a){e.exports={dotButton:"SpotlightHubDot-dotButton-1CaIUt",selectedDotButton:"SpotlightHubDot-selectedDotButton-2HE7D6 SpotlightHubDot-dotButton-1CaIUt"}},ljKs:function(e,t,a){e.exports={container:"GridAlsoAiringItem-container-2U1khf",metadataPosterPlayButton:"GridAlsoAiringItem-metadataPosterPlayButton-2jquhV MetadataPosterButtonCard-playButton-aOV1En PlayButton-playButton-3WX8X-",underlay:"GridAlsoAiringItem-underlay-2Wp2X0",metadataContainer:"GridAlsoAiringItem-metadataContainer-104qr7 GridAlsoAiringItemMetadata-container-2V7Z3m"}},lm5H:function(e,t,a){e.exports={modalBody:"StopServerSessionModal-modalBody-3EGW3i ModalBody-modalBody-1-wcfe",topContainer:"StopServerSessionModal-topContainer-Hb_CLj",avatarImg:"StopServerSessionModal-avatarImg-20JowZ AvatarImg-avatar-3Op56u",description:"StopServerSessionModal-description-1It0K7",modalFooter:"StopServerSessionModal-modalFooter-wfpGhv ModalFooter-modalFooter-3ZumZj",formLabel:"StopServerSessionModal-formLabel-bglBuZ FormLabel-label-2aLJ9b",form:"StopServerSessionModal-form-2tqYeQ",textArea:"StopServerSessionModal-textArea-1pPhy5 TextArea-textArea-2jx-Xy input-input-1P2Vi4",buttonBar:"StopServerSessionModal-buttonBar-1iqGdA ModalFooterButtonBar-buttonBar-7XF2zU"}},lmsz:function(e,t,a){e.exports={dragLayer:"DragPreviewLayer-dragLayer-2uYZUK"}},lnp7:function(e,t,a){e.exports={button:"PageHeaderTabButton-button-1zTdeV Button-button-2kT68l Link-link-2n0yJn",isSelected:"PageHeaderTabButton-isSelected-25CIS7"}},"lo1/":function(e,t,a){e.exports={groupItem:"PrePlayDetailsGroupItem-groupItem-3Tut9G",label:"PrePlayDetailsGroupItem-label-2Ee43I",content:"PrePlayDetailsGroupItem-content-1aRNUU"}},loC3:function(e,t,a){"use strict";var n=a("G4qV"),i=a("xoRd"),r=a("Xq+7");const s=Object(i.a)(Object(n.a)(r.a,e=>e.filter(e=>e.isFullOwnedServer&&e.isConnected)),e=>e);t.a=s},lqtG:function(e,t,a){e.exports={grid:"FlexGrid-grid-Ws_Ykq"}},lrsD:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-full-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},m1uq:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("EVdn"),i=a.n(n),r=a("0jae");const s=2500;function o(e){const{eventSource:t,events:a,predicate:n=(()=>!0),waitDuration:o=s}=e,l=i.a.Deferred(),c=()=>{n(t)&&(u=window.clearTimeout(u),t.off(d),l.resolve(t))},d=a.reduce((e,t)=>(e[t]=c,e),{});let u=window.setTimeout(()=>{r.a.warn('Model "%s" events %o did not pass the predicate within %dms',t.name,a,o),t.off("add",d),l.reject(t)},o);return t.on(d),l.promise()}},m432:function(e,t,a){e.exports={modalHeader:"PlayerErrorModal-modalHeader-167lt1 ModalHeader-modalHeader-1Kf9RW",errorCode:"PlayerErrorModal-errorCode-2H7W7M"}},m5q2:function(e,t,a){e.exports={jumpBar:"LibraryPageJumpBar-jumpBar-22VKU1"}},"m6m+":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("EVdn"),i=a.n(n),r=a("m1uq");var s=a("r0xy");function o(e,t){return function(e,t){return e.findWhere(t)?i.a.Deferred().resolve(e).promise():Object(r.a)({eventSource:e,events:["add"],predicate:()=>!!e.findWhere(t)})}(e,t).then(e=>Object(s.a)(e.findWhere(t)),()=>i.a.Deferred().reject().promise())}},m7TM:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="";return s+='<a class="artwork-option media-poster-container" data-rating-key="',s+=(0,this.escapeExpression)((r=a.ratingKey)||"function"==typeof(r=t&&t.ratingKey)?r.call(t,{hash:{},data:i}):r)+'" href="#"> <div class="media-poster"></div> </a> '}))},m8hN:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("sfIp");function i(e,{metadataItemEntityID:t}){const a=e.entities.metadataItems[t],i=a&&a.providerEntityID;if(i)return Object(n.b)(e,{providerEntityID:i})}},m97E:function(e,t,a){e.exports={sectionDetails:"SubmittableFormSection-sectionDetails-12m6Er CloseableFormSection-isPressable-3BPTnc SettingsFormSectionDetails-sectionDetails-2rJ3jd",label:"SubmittableFormSection-label-1uVA_5 FormLabel-label-2aLJ9b CloseableFormSection-isPressable-3BPTnc",submitButton:"SubmittableFormSection-submitButton-2Dd-PE",spinnerContainer:"SubmittableFormSection-spinnerContainer-3JnpqQ"}},m9Cz:function(e,t,a){e.exports={deviceInfoBody:"DVRSetupDeviceInfo-deviceInfoBody-2LzExz ModalBody-modalBody--5uHSu",deviceInfoForm:"DVRSetupDeviceInfo-deviceInfoForm-1K-pGS",channelInfo:"DVRSetupDeviceInfo-channelInfo-32L387",channelDetails:"DVRSetupDeviceInfo-channelDetails-314k9o",deviceDetails:"DVRSetupDeviceInfo-deviceDetails-3DYVe7",countryInputGroup:"DVRSetupDeviceInfo-countryInputGroup-5CATqW",channelScanSourceSelect:"DVRSetupDeviceInfo-channelScanSourceSelect-22g5Xu SelectInput-input-x1tNmq input-input-1P2Vi4",deviceChannelsContainer:"DVRSetupDeviceInfo-deviceChannelsContainer-2ffnzV",deviceChannels:"DVRSetupDeviceInfo-deviceChannels-2erQ6b Scroller-vertical-VScFLT",deviceChannelsInfo:"DVRSetupDeviceInfo-deviceChannelsInfo-3oUd5C DVRSetupDeviceInfo-deviceChannels-2erQ6b Scroller-vertical-VScFLT"}},mCRK:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("Khyo"),s=a("T0/d");const o={isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},isPopulated(){return!!this.populatePromise&&"resolved"===this.populatePromise.state()},populate(){return this.populatePromise?this.populatePromise:this.fetch.apply(this,arguments)},fetch(){const e=i.a.Deferred();let t;if(this.isPopulating())return this.populatePromise;t=this._fetch?this._fetch.apply(this,arguments):this instanceof r.c.Collection?r.c.Collection.prototype.fetch.apply(this,arguments):r.c.Model.prototype.fetch.apply(this,arguments);const a=e.promise();return a.rid=t.rid,this.populatePromise=a,this.failedPopulatePromise=null,t.done(a=>{this.populatePromise=i.a.Deferred().resolveWith(this,[this]).promise(),e.resolveWith(this,[this,a,t])}),t.fail(t=>{this.populatePromise=null,this.failedPopulatePromise=a,e.rejectWith(this,[this,t])}),a},abortPendingPopulate(){return this.isPopulating()&&s.a.abort(this.populatePromise.rid),this.populatePromise},resetPopulatePromise(e){return this.isPopulating()||(this.populatePromise=e,this.failedPopulatePromise=null),this.populatePromise}};t.a=o},mDY5:function(e,t,a){e.exports={section:"ShareRestrictionsFilters-section-2OL_0T"}},mEyC:function(e,t,a){e.exports={container:"QuickSearch-container-2PWkBt"}},mJEB:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=' <span class="artwork-file-container"> <input type="file" class="artwork-file-control" multiple> <a href="#">'+c(i(a("d8WC")).call(e,"choose an image",{hash:{},data:t}))+'</a> </span> <span class="upload-prompt-divider">&middot;</span> '+c(i(a("d8WC")).call(e,"drag and drop",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '}return((o=n.if.call(t,t&&t.showUpload,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r,s="";return s+=' <div class="upload-artwork-container"> <div class="upload-prompt"> ',((r=n.if.call(e,e&&e.showFileUpload,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===r)&&(s+=r),s+=' <a class="upload-url-btn" href="#">'+c(i(a("d8WC")).call(e,"enter a url",{hash:{},data:t}))+'</a> </div> <div class="upload-progress"> '+c(i(a("d8WC")).call(e,"Uploading artwork...",{hash:{},data:t}))+' </div> <div class="upload-success"> '+c(i(a("d8WC")).call(e,"this artwork was uploaded successfully",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(i(a("d8WC")).call(e,"{1}upload another{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <div class="upload-error"> '+c(i(a("d8WC")).call(e,"there was an error uploading this artwork",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(i(a("d8WC")).call(e,"{1}try again{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <form id="upload-form" class="upload-form"> <input type="text" class="form-control" name="url" placeholder="'+c(i(a("d8WC")).call(e,"Enter a url to upload an image from the web",{hash:{},data:t}))+'"> <div class="upload-form-help"> <div class="pull-right">'+c(i(a("d8WC")).call(e,"enter to {1}upload{2}",'<a class="submit-url-btn" href="#">',"</a>",{hash:{},data:t}))+'</div> <div class="pull-left">'+c(i(a("d8WC")).call(e,"esc to {1}cancel{2}",'<a class="cancel-url-btn" href="#">',"</a>",{hash:{},data:t}))+"</div> </div> </form> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="artwork-list-container"></div> '}))},"mKd/":function(e,t,a){e.exports={input:"SelectInput-input-x1tNmq input-input-1P2Vi4",small:"SelectInput-small-2QgMQ- input-small-3LyjJH",select:"SelectInput-select-3zFgU3",large:"SelectInput-large-8FdD3e input-large-3wNGTy",isDisabled:"SelectInput-isDisabled-1d1XjS",hasError:"SelectInput-hasError-3tk9iX"}},mMra:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("2pL0"),s=a("qNMu"),o=a("ocKo"),l=a("66GW"),c=a("RlGa");t.a=function(e){const{children:t,...a}=e;return i.a.createElement(c.a,{title:Object(l.default)("There was an unexpected error"),description:Object(l.default)("Please visit our forums if you continue to experience problems"),...a},i.a.createElement(r.a,{to:o.c,target:"_self",kind:s.d},Object(l.default)("Go to Forums")),t)}},mMyY:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("gnaf"),i=a("Xw7/");function r(e,t,a,r={},s){if(a){const e=a.pivots.find(({key:e})=>e.includes(a.key));r.key=t.identifier===n.d?e.key:a.key}return Object(i.a)(e,t,a,r,s)}},mOXR:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("FIl5");const s=["boolean","integer","float","string","object","array"];function o(e){return!0}function l(e){return i.a.isObject(e)&&!Array.isArray(e)}function c(e,t){t||(t={});const a=i.a.defaults(t,{typeName:e,parse:i.a.bind(r.a.parseType,r.a,e),stringify:i.a.bind(r.a.stringifyType,r.a,e)});var n;return a.validate=t.validate?(n=t.validate,function(e){return null==e||n(e)}):o,a.isRequired={...a,validate:e=>null!=e&&a.validate(e),typeName:a.typeName+"<required>"},a}var d={any:c("any"),boolean:c("boolean",{validate:i.a.isBoolean}),integer:c("integer",{validate:Number.isInteger}),float:c("float",{validate:i.a.isNumber}),string:c("string",{validate:i.a.isString}),object:c("object",{validate:l}),array:c("array",{validate:Array.isArray}),list:c("list",{validate:Array.isArray}),encodedString:c("encodedString",{validate:i.a.isString}),queryString:c("queryString",{validate:l}),instanceOf:function(){const e=i.a.toArray(arguments);return c("instanceOf",{validate:function(t){return i.a.some(e,(function(e){return t instanceof e}))}})},oneOf:function(){const e=i.a.toArray(arguments);return c("oneOf",{validate:function(t){return i.a.contains(e,t)}})},oneOfType:function(){const e=i.a.toArray(arguments);return c("oneOfType",{validate:function(t){return i.a.some(e,(function(e){return e.validate(t)}))}})},custom:function(e){return c("custom",{validate:e})},getAttrTypeFor:function(e){if(null==e)return d.any;for(let t=0,a=s.length;t<a;t++){const a=d[s[t]];if(a.validate(e))return a}return d.any}};t.a=d},mUut:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var a,n="";return n+=' rows="'+c("function"==typeof(a=e&&e.rows)?a.apply(e):a)+'"'}function p(e,t){var a,n="";return n+='data-exclude-param="'+c("function"==typeof(a=e&&e.excludeParam)?a.apply(e):a)+'" data-exclude-value="'+c("function"==typeof(a=e&&e.excludeValue)?a.apply(e):a)+'"'}return l+='<div class="form-group"> <label for="text-'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'">'+c(i(a("d8WC")).call(t,t&&t.label,{hash:{},data:s}))+"</label> ",((o=i(a("w+Xr")).call(t,t&&t.type,"textarea",{hash:{},inverse:d.program(4,(function(e,t){var a,i="";return i+=' <input type="text" id="text-'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" class="form-control text-field" name="'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'" placeholder="'+c("function"==typeof(a=e&&e.placeholder)?a.apply(e):a)+'" ',((a=n.if.call(e,e&&e.excludeParam,{hash:{},inverse:d.noop,fn:d.program(5,p,t),data:t}))||0===a)&&(i+=a),i+="> "}),s),fn:d.program(1,(function(e,t){var a,i="";return i+=' <textarea class="form-control text-field" id="text-'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" name="'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'"',((a=n.if.call(e,e&&e.rows,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(i+=a),i+=' placeholder="'+c("function"==typeof(a=e&&e.placeholder)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+"</textarea> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> "}))},mVxl:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return g}));var n=a("ICb1"),i=a("Wpyo"),r=a("U//L"),s=a("M8A8"),o=a("jnX0"),l=a("hDJw"),c=a("zTsO"),d=a("hPIe");const u=Object(n.a)("ui/initAddToPlaylistMenu"),p=Object(n.a)("ui/clearAddToPlaylistMenu"),m=Object(n.a)("ui/addToExistingPlaylist");function h(e){return e.get("ui").get("addToPlaylistMenu")}const g=Object(r.a)({"ui/initAddToPlaylistMenu"(e,t){const a=h(e),n=Object(d.r)(e,t),r=Object(d.s)(e,t),o=e.get("ui").get("multiSelect"),l=Object(d.m)(e,t),c=Object(d.j)(e,t),u=n?Object(d.j)(e,{providerEntityID:n.get("providerEntityID")}):c,{containerKey:p,uri:m}=Object(s.a)({providerModel:c,itemProviderModel:u,metadataItemModel:n,metadataListModel:r,multiSelectModel:o,recent:!0}),g=new i.default({containerKey:p},{server:l,provider:c});a.set({recentPlaylists:g,uri:m})},"ui/clearAddToPlaylistMenu"(e){h(e).restoreDefaults()},"ui/addToExistingPlaylist"(e,t){const a=h(e),n=Object(d.j)(e,t),i=a.get("uri"),{playlistID:r}=t,s={playlistID:r,providerModel:n,uri:i};Object(l.a)(e,c.a)&&(s.includeExternalMedia=!0),Object(o.a)(s)}})},mYof:function(e,t,a){e.exports={message:"EPGMapping-message-2-bnsH",spinnerContainer:"EPGMapping-spinnerContainer-TAwZ1M"}},"mZ//":function(e,t,a){e.exports={tableHeaderLink:"TableHeaderLink-tableHeaderLink-3Gf7Eg"}},"mi1+":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("MXEh"),s=a.n(r);function o({className:e,children:t}){return i.a.createElement("div",{className:e},t)}o.defaultProps={className:s.a.pageHeaderLeft},t.a=o},mkKI:function(e,t,a){e.exports={icon:"SubtitlesOffsetSettingsValue-icon-98VH3J"}},"mp0/":function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r={currentState:null,enterState:function(e){if(e!==this.currentState){var t=this.currentState,a=this.states[e];if(!a)throw new Error("The state machine is unable to enter undefined state: "+e);if(t){var n=this.states[t];if(i.a.isFunction(n.onExit)){var r=n.onExit.call(this);if(!1===r)return}}if(this.currentState=e,i.a.isFunction(a.onEnter)){var s=a.onEnter.apply(this,i.a.rest(arguments));if(!1===s)return void(this.currentState=t)}this.triggerMethod("stateMachineChange",{from:t,to:e})}},enterNextState:function(){var e;if(this.currentState){e=this.states[this.currentState].nextState}else{if(!this.initialState)throw new Error("An initial state must be defined for the state machine");e=this.initialState}e?this.enterState(e):this.triggerMethod("stateMachineComplete")}};t.a=r},mqLr:function(e,t,a){e.exports={modal:"DVRSetupModal-modal-3IeKFJ Modal-medium-1UIAdk Modal-modal-3Z1JSX"}},mvw6:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n="myPlex"},mzMB:function(e,t,a){e.exports={pageHeaderCenter:"PageHeaderCenter-pageHeaderCenter-XZlGC2"}},"n/o+":function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n);t.a=function(e){const t=i.a.Deferred();return e&&e.then?e.then(t.resolve,t.resolve):t.resolve(e),t.promise()}},n1LI:function(e,t,a){e.exports={container:"AdvancedFilterOption-container-cr4twU",inputContainer:"AdvancedFilterOption-inputContainer-2VY07G"}},n3Vr:function(e,t,a){e.exports={spinnerContainer:"ActionsLink-spinnerContainer-2fP-HQ"}},n6F1:function(e,t,a){e.exports={row:"UserSettingsSentInviteRow-row-wQq2YS UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UserSettingsSentInviteRow-actions-26ThO1 UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt",homeInvite:"UserSettingsSentInviteRow-homeInvite-3B7qbE",status:"UserSettingsSentInviteRow-status-1FpZ6r"}},n9Tp:function(e,t,a){"use strict";a.d(t,"l",(function(){return L})),a.d(t,"e",(function(){return k})),a.d(t,"d",(function(){return R})),a.d(t,"a",(function(){return z})),a.d(t,"n",(function(){return U})),a.d(t,"g",(function(){return V})),a.d(t,"h",(function(){return B})),a.d(t,"j",(function(){return F})),a.d(t,"k",(function(){return H})),a.d(t,"i",(function(){return _})),a.d(t,"c",(function(){return W})),a.d(t,"b",(function(){return Q})),a.d(t,"m",(function(){return G})),a.d(t,"f",(function(){return Z}));var n=a("EVdn"),i=a.n(n),r=a("ICb1"),s=a("cgRT"),o=a("/9Vb"),l=a("8NF1"),c=a("iPle"),d=a("KEDo"),u=a("1iMN"),p=a("Khyo"),m=a("t/0V"),h=a("66GW");function g(e,t,a,n){const r=e.server.get("isCloud"),s=r?`/channels/${a}/tune`:`/livetv/dvrs/${t}/channels/${a}/tune`,o={method:"POST",headers:{"X-Plex-Session-Identifier":n.playbackSessionID},timeout:p.a};return i.a.ajax(r?e.provider.getXHROptions(s,o):e.server.getXHROptions(s,o)).then((n,s,o)=>{e.set(e.parse(n));const l=e.get("grabOperation");if(!l){const e=Object(m.a)(o,Object(h.default)("Could not tune channel"));return i.a.Deferred().reject({errorMessage:e}).promise()}const c=l.get("metadataItem"),d=c.get("Media")[l.get("mediaIndex")],u=l.get("conflicts"),p=o.getResponseHeader("X-Plex-Activity"),g=l.get("beginsAt"),y=c.get("transcodeSession"),f={dvrID:t,channelIdentifier:a,activityUUID:p,currentPosition:g,startedAt:g};let b=!1;if(y){const t=y.get("timeStamp"),a=y.get("minOffsetAvailable"),n=y.get("maxOffsetAvailable");if(t&&null!=a&&null!=n){f.captureBuffer={startedAt:t,seekStartSeconds:a,seekEndSeconds:n};const i=t+a,r=e.get("timeline").toJSON().reduce((e,t)=>e||t.Media.find(e=>e.onAir),null).beginsAt,s=Math.max(i,r);Date.now()/1e3-s>60&&(b=!0)}}if(e.set(f),r)return i.a.Deferred().resolve(e).promise();if(u&&u.length)return i.a.Deferred().reject({hasConflicts:!0,liveTVSession:e}).promise();if(!p)return i.a.Deferred().reject({errorMessage:Object(h.default)("Could not tune channel (No activity)")}).promise();const v=d&&d.Part;return v&&v.length?(c.set("isPreFetched",!0),b?i.a.Deferred().reject({confirmPlayback:b,liveTVSession:e}).promise():i.a.Deferred().resolve(e).promise()):i.a.Deferred().reject({errorMessage:Object(h.default)("Could not tune channel (No parts)")}).promise()},(e,t)=>"abort"===t?i.a.Deferred().reject({errorMessage:Object(h.default)("Could not tune channel (Timed out)")}).promise():i.a.Deferred().reject({errorMessage:Object(h.default)("Could not tune channel")}).promise())}var y=a("IqTc"),f=a("hFBU"),b=a("wAGh"),v=a("WRlm"),I=a("2eFc"),S=a("uCRf"),E=a("E4nB"),O=a("LdBX"),M=a("taAd"),C=a("7F8R"),j=a("hPIe"),D=a("+Mxn"),P=a("1Lwt"),T=a("b3RP"),w=a("SiWM");const N="ui/player/liveTVPlayer/skipBack",x="ui/player/liveTVPlayer/stepBack",A="ui/player/liveTVPlayer/seek",L=Object(r.a)("ui/player/liveTVPlayer/startLiveTVPlayback"),k=Object(r.a)("ui/player/liveTVPlayer/endLiveTVPlayback"),R=Object(r.a)("ui/player/liveTVPlayer/confirmLiveTVPlayback"),z=Object(r.a)("ui/player/liveTVPlayer/cancelConfirmLiveTVPlayback"),U=Object(r.a)("ui/player/liveTVPlayer/updatePlayerLiveTVMetadata"),V=Object(r.a)("ui/player/liveTVPlayer/playNextItem"),B=Object(r.a)("ui/player/liveTVPlayer/playPreviousItem"),F=Object(r.a)(N),H=Object(r.a)("ui/player/liveTVPlayer/skipForward"),_=(Object(r.a)(x),Object(r.a)("ui/player/liveTVPlayer/stepForward"),Object(r.a)(A)),W=Object(r.a)("ui/player/liveTVPlayer/clearPlayerConflicts"),Q=Object(r.a)("ui/player/liveTVPlayer/cancelMediaGrabber"),G=Object(r.a)("ui/player/liveTVPlayer/togglePlayerAlsoAiringState");function K(e,t){const a=Math.floor(Date.now()/1e3);return e.get("Media").find(e=>{const n=e.beginsAt<=a&&a<=e.endsAt,i=!t||e.channelIdentifier===t;return n&&i})}function Y(e){const t=K(e);return t?t.channelIdentifier:void 0}function q(e,t){const a=Object(D.c)(e,t).get("liveTVSession");a&&a.set("lastSeekPosition",a.get("currentPosition"))}const Z={"ui/player/liveTVPlayer/startLiveTVPlayback"(e,t,a){const{serverEntityID:n,providerEntityID:i}=t,r=Date.now(),d=Object(c.a)(e,t),u=Object(l.a)(d),p=S.d(u),m=Object(D.c)(e,p),f=j.m(e,t),b=j.j(e,{providerEntityID:i}),T=b.get("parentID"),N=d.metadataItemModel,x=Object(M.a)(b.get("identifier"),b.get("providerIdentifier"));let A=null;if(N?A=K(N,d.identifier):d.identifier&&(A={channelIdentifier:d.identifier,beginsAt:Math.floor(Date.now()/1e3)}),!A)return void Object(P.a)(()=>{m.restoreDefaults({hasError:!0,errorMessage:Object(h.default)("Unable to tune channel (Not on air)")})});const L=e.get("remotePlayer");if(L&&!Object(C.a)({protocol:L.get("protocol"),protocolCapabilities:L.get("protocolCapabilities"),providerIdentifier:x,userFeaturesByUUID:Object(y.a)(e)}))return void Object(P.a)(()=>{m.set({hasError:!0,errorMessage:Object(h.default)("Live TV is not currently supported when connected to a remote player.")})});Object(P.a)(()=>{m.restoreDefaults({serverEntityID:n,providerEntityID:i,isOpen:!0,openState:I.a,isPlayQueueLoading:!0,isMediaLoading:!0,playbackStartTime:r})});const k=new o.a({},{server:f,provider:b}),R=A.channelIdentifier;g(k,T,R,{playbackSessionID:m.get("playbackSessionID")}).done(()=>{m.set("liveTVSession",k);const e=k.get("grabOperation").get("metadataItem");a(Object(w.x)({...t,liveTVSessionEntityID:k.entityID(),metadataItemEntityID:e.entityID(),playbackStartTime:r,options:{offset:void 0}}))}).fail(e=>{const{confirmPlayback:t,hasConflicts:a,errorMessage:r}=e;if(t)m.restoreDefaults({serverEntityID:n,providerEntityID:i,liveTVSession:k,confirmLiveTVPlayback:t});else if(a)m.restoreDefaults({serverEntityID:n,providerEntityID:i,liveTVSession:k,hasConflicts:a});else{const e=f.getState();Object(s.c)("metrics").trackEvent({event:v.j,interaction:!0,properties:{serverType:Object(O.a)(e),connectionType:Object(E.a)(e.activeConnection),error:"tuneFailed",identifier:R}}),m.restoreDefaults({hasError:!0,errorMessage:r})}})},"ui/player/liveTVPlayer/endLiveTVPlayback"(e,t,a){const{playerType:n,showError:i}=t,r=Object(D.c)(e,n);i?r.restoreDefaults({hasError:!0,errorMessage:Object(h.default)("This live TV session has ended due to a recording conflict")}):a(Object(w.p)({playerType:n}))},"ui/player/liveTVPlayer/confirmLiveTVPlayback"(e,t,a){const{playerType:n,serverEntityID:i,providerEntityID:r,offset:s}=t,o=Object(D.c)(e,n).get("liveTVSession"),l=o.get("captureBuffer"),c=o.get("grabOperation").get("metadataItem");if(null!=s){const e=l.startedAt+Math.floor(s/1e3);o.set({currentPosition:e,lastSeekPosition:e})}a(Object(w.x)({serverEntityID:i,providerEntityID:r,liveTVSessionEntityID:o.entityID(),metadataItemEntityID:c.entityID(),startOffsetMilliseconds:s}))},"ui/player/liveTVPlayer/cancelConfirmLiveTVPlayback"(e,{playerType:t}){const a=Object(D.c)(e,t);Object(P.a)(()=>{a.restoreDefaults()})},"ui/player/liveTVPlayer/updatePlayerLiveTVMetadata"(e,t){const{serverEntityID:a,playerType:n}=t,i=Object(D.c)(e,n),r=i.get("liveTVSession");if(!r||i.get("serverEntityID")!==a)return;const s=r.get("dvrID"),o=r.get("channelIdentifier");g(r,s,o,{playbackSessionID:i.get("playbackSessionID")})},"ui/player/liveTVPlayer/playNextItem"(e,{playerType:t},a){const n=Object(D.c)(e,t),i=d.a(n);d.h(e,t,i,a)},"ui/player/liveTVPlayer/playPreviousItem"(e,{playerType:t},a){const n=Object(D.c)(e,t),i=d.b(n);d.h(e,t,i,a)},[N](e,{playerType:t},a){const n=Object(D.c)(e,t),i=d.d(n);d.h(e,t,i,a)},"ui/player/liveTVPlayer/skipForward"(e,{playerType:t},a){const n=Object(D.c)(e,t),i=d.e(n);d.h(e,t,i,a)},[x](e,{playerType:t},a){const n=Object(D.c)(e,t),i=d.f(n);d.h(e,t,i,a)},"ui/player/liveTVPlayer/stepForward"(e,{playerType:t},a){const n=Object(D.c)(e,t),i=d.g(n);d.h(e,t,i,a)},[A](e,t,a){const{playerType:n,seekPosition:i}=t;d.h(e,n,i,a)},"ui/player/liveTVPlayer/clearPlayerConflicts"(e,{playerType:t}){const a=Object(D.c)(e,t);Object(P.a)(()=>{a.set({hasConflicts:!1})})},"ui/player/liveTVPlayer/cancelMediaGrabber"(e,t,a){const{playerType:n,grabOperationKey:r}=t,s=Object(D.c)(e,n),o=s.get("serverEntityID"),l=j.m(e,{serverEntityID:o}),c=s.get("liveTVSession").get("grabOperation").get("metadataItem"),d=!s.get("isOpen");if(d&&!Y(c))return void s.restoreDefaults({hasError:!0,errorMessage:Object(h.default)("Unable to cancel conflict, please try again.")});Object(P.a)(()=>{s.set({isConflictCancelling:!0})});const u=l.getXHROptions(r,{type:"DELETE"});i.a.ajax(u).done(e=>{if(s.set({hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null}),d){const e=s.get("providerEntityID");if(!Y(c))return void s.restoreDefaults({hasError:!0,errorMessage:Object(h.default)("Unable to tune channel after canceling a conflict, please try again.")});a(L({serverEntityID:o,providerEntityID:e,metadataItemEntityID:c.entityID(),playerType:n}))}}).fail(e=>{s.set({isConflictCancelling:!1,cancelConflictError:Object(T.a)(e)})})},[f.o](e,t){const{serverEntityID:a,activity:n}=t,i=Object(D.c)(e,S.a),r=i.get("liveTVSession");if(r&&i.get("serverEntityID")===a&&r.get("activityUUID")===n.uuid&&n.Context){const e=!!n.Context.conflicts,t=i.get("hasConflicts");if(e&&!t){const e=r.get("dvrID"),t=r.get("channelIdentifier");g(r,e,t,{playbackSessionID:i.get("playbackSessionID")}).fail(({hasConflicts:e})=>{e&&i.set({hasConflicts:!0})})}else!e&&t&&i.set({hasConflicts:!1})}},[f.g](e,t,a){const{serverEntityID:n,activity:i}=t,r=Object(D.c)(e,S.a),s=r.get("liveTVSession");if(s&&r.get("serverEntityID")===n&&s.get("activityUUID")===i.uuid){let e=Object(h.default)("This live TV session has ended");i.Response&&i.Response.errorText?e=i.Response.errorText:r.get("hasConflicts")&&(e=Object(h.default)("This live TV session has ended due to a recording conflict")),r.restoreDefaults({hasError:!0,errorMessage:e})}},"ui/player/liveTVPlayer/togglePlayerAlsoAiringState"(e,{playerType:t}){const a=Object(D.c)(e,t),n=a.get("isAlsoAiringVisible");Object(P.a)(()=>{a.set(Object(u.a)(a,n,{isSettingsVisible:!1,isChaptersVisible:!1,isAlsoAiringVisible:!n,isLyricsVisible:!1}))})},[b.a](e,{playerType:t}){q(e,t)},[b.b](e,{playerType:t}){q(e,t)},[b.i](e,{playerType:t,positionSeconds:a}){const n=Object(D.c)(e,t),i=n.get("liveTVSession");if(!i)return;const r=n.get("serverEntityID");if(j.m(e,{serverEntityID:r}).get("isCloud"))Object(P.a)(()=>{const e=n.get("playbackStartTime"),t=n.get("sessionPlaybackTime");i.set({currentPosition:Math.floor((e+t)/1e3)})});else{const e=i.get("startedAt"),t=i.get("lastSeekPosition"),n=e+a;n>t&&Object(P.a)(()=>{i.set({currentPosition:n,lastSeekPosition:null})})}}}},n9Z6:function(e,t,a){"use strict";var n=a("G4qV"),i=a("m8hN"),r=a("OMWn");const s=Object(n.a)(r.a,i.a,(e,t)=>({itemServerEntityID:e&&e.entityID,itemProviderEntityID:t&&t.entityID}));t.a=s},nAMV:function(e,t,a){e.exports={placeholder:"MetadataPosterCardPlaceholder-placeholder-3jI6Xi PosterCard-card-VhPkOe",cardShimmer:"MetadataPosterCardPlaceholder-cardShimmer-2dNr5Z"}},nGgY:function(e,t,a){"use strict";t.a=function(e){return 1===Number(e)||"true"===e}},nHuJ:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("i8i4"),s=a.n(r),o=a("slDQ"),l=a("0jae"),c=a("Jig8"),d=a("Fh1j"),u=a("y4j6"),p=a("66GW"),m=a("pXC0"),h=a("rfp9"),g=a("17x9"),y=a.n(g);function f({onPositionUpdate:e,onTick:t}){const a=Object(n.useRef)(Date.now());return Object(n.useEffect)(()=>{let t;return e&&(t=window.setInterval(e,40)),()=>{t&&window.clearInterval(t)}},[e]),Object(n.useEffect)(()=>{let e;return t&&(e=window.setInterval(()=>{const e=Math.floor((Date.now()-a.current)/1e3);t(e)},1e3)),()=>{e&&window.clearInterval(e)}},[t]),null}f.propTypes={onPositionUpdate:y.a.func,onTick:y.a.func};var b=f,v=a("CHO5"),I=a.n(v);class S extends n.Component{constructor(e,t){super(e,t),this._nativeSeek=e=>{this._mediaEl.currentTime=e},this.onStarted=()=>{const{positionSeconds:e,onDurationMillisecondsChange:t}=this.props;if(!this.state.isStarted){if(e){(this.props.onResumeSeek||this.props.onSeek||this._nativeSeek)(e)}this.setState({isStarted:!0},()=>{if(t){const e=this._mediaEl.duration;t(Number.isFinite(e)?Math.floor(1e3*e):0)}})}},this.onDataLoad=()=>{this._canNativelySelectAudioTrack()&&this._selectAudioTrack(),this._canNativelySelectTextTrack()&&(this._selectTextTrack(),this._mediaEl.textTracks.addEventListener("addtrack",this.onAddTrack)),Object(u.a)()||this.onStarted()},this.onCanPlay=()=>{Object(u.a)()&&this.onStarted()},this.onCanPlayThrough=()=>{this.props.onCanPlayThrough&&this.props.onCanPlayThrough(!0)},this.onPositionUpdate=()=>{if(!this._mediaEl)return;const e=Math.floor(1e3*this._mediaEl.currentTime);if(e!==this._lastPositionMilliseconds)this._lastPositionMilliseconds=e,this._lastPositionChangeTime=Date.now(),this._isBuffering&&(this._isBuffering=!1,this.props.onBufferingChange&&this.props.onBufferingChange(!1));else if(!this._isBuffering&&!this.props.paused){const e=Date.now()-this._lastPositionChangeTime;e>this.props.bufferingDetectionLimit&&(l.a.warn(`[Player] Buffering detected, last position change was ${e}ms ago`),this._isBuffering=!0,this.props.onBufferingChange&&this.props.onBufferingChange(!0))}this.props.onPositionMillisecondsChange(e)},this.onProgress=()=>{if(this.props.onBufferChange){const{buffered:e}=this._mediaEl,t=[];for(let a=0;a<e.length;a++)t.push({startSeconds:e.start(a),endSeconds:e.end(a)});this.props.onBufferChange(t)}},this.onEnded=()=>{this.props.onEnd&&this.props.onEnd()},this.onError=e=>{const{code:t}=e.target.error,a=function(e){switch(e){case 1:return Object(p.default)("Abort");case 2:return Object(p.default)("Network");case 3:return Object(p.default)("Decode");case 4:return Object(p.default)("Not Supported")}}(t),n=`${t} (${a||"Unknown"})`;2===t?l.a.warn(`[Player] An HTML media error occurred: ${n}; the player will attempt to recover`):(l.a.warn(`[Player] A critical HTML media error occurred: ${n}; the player cannot recover`),this.props.onError&&this.props.onError({code:"h"+t,category:a}))},this.onSeek=e=>{const t=this._mediaEl.ended;this._nativeSeek(e),this.props.onSeek&&this.props.onSeek(e),!this.props.paused&&t&&this._play()},this.onPause=()=>{this._mediaEl.ended||this.props.onPause&&this.props.onPause()},this.onPlay=()=>{this.props.onPlay&&this.props.onPlay()},this.onResize=()=>{const{videoWidth:e,videoHeight:t}=this._mediaEl;this.props.onIntrinsicDimensions&&this.props.onIntrinsicDimensions({width:e,height:t})},this.onAddTrack=()=>{this._selectTextTrack()},this.state={isStarted:!1},this._mediaListeners={loadeddata:this.onDataLoad,canplay:this.onCanPlay,canplaythrough:this.onCanPlayThrough,progress:this.onProgress,ended:this.onEnded,error:this.onError,pause:this.onPause,play:this.onPlay,resize:this.onResize},this._lastPositionMilliseconds=null,this._lastPositionChangeTime=0,this._isBuffering=!1,this._isUnmounting=!1}componentDidMount(){this._mediaEl=Object(d.a)(this.props.mediaType,this.props.allowRecycleElement);const e=this._mediaEl;e.className=I.a.mediaElement,e.volume=Math.max(0,Math.min(this.props.volume/100,1)),Object.keys(this._mediaListeners).forEach(t=>{e.addEventListener(t,this._mediaListeners[t])}),this._node=s.a.findDOMNode(this),this._node.appendChild(e),this.props.onElementChange?this.props.onElementChange(e):e.src=this.props.src,this.props.isReadyToPlay&&!this.props.paused&&this.props.src&&this._play(),this._mediaEl.playbackRate=this.props.playbackSpeed,this.props.onMetricsPlayerChange(c.b)}componentDidUpdate(e,t){Object(o.a)(this.props.src===e.src,"Use a new `key` when changing `src`");const{lastSeekPositionSeconds:a,paused:n,volume:i,playbackSpeed:r,isReadyToPlay:s,audioStream:l,subtitleStream:c,subtitleSize:d,hasBurnedSubtitles:u,isStreamChangeInProgress:p,onStreamChange:m}=this.props,h=this._mediaEl,g=null!=a&&a!==e.lastSeekPositionSeconds,y=(!!e.audioStream&&e.audioStream.id)!==(!!l&&l.id),f=(!!e.subtitleStream&&e.subtitleStream.id)!==(!!c&&c.id),b=e.isStreamChangeInProgress&&!p,v=e.subtitleSize!==d;g&&this.onSeek(a),n===e.paused||h.ended||(n?this._pause():this._play()),i!==e.volume&&(h.volume=Math.max(0,Math.min(i/100,1))),r!==e.playbackSpeed&&(h.playbackRate=r),!s||e.isReadyToPlay||n||this._play(),this._canNativelySelectTextTrack()&&f&&!p&&this._selectTextTrack(),m&&(y&&!p||f&&!p||b||v&&u)&&m()}componentWillUnmount(){this._isUnmounting=!0,this._node.removeChild(this._mediaEl),this._mediaEl.src="",this._mediaEl.removeAttribute("src"),this._mediaEl.className="",Object.keys(this._mediaListeners).forEach(e=>{this._mediaEl.removeEventListener(e,this._mediaListeners[e])}),this._mediaEl.textTracks.removeEventListener("addtrack",this.onAddTrack),this.props.allowRecycleElement&&Object(d.b)(this._mediaEl)}_play(){const e=this._mediaEl.play();e&&e.then&&e.then(null,e=>{if(this._isUnmounting)return;("AbortError"===e.name||"NotAllowedError"===e.name)&&this.props.onPause&&this.props.onPause(),l.a.warn(e.name+": "+e.message)})}_pause(){this._mediaEl.pause()}_canNativelySelectAudioTrack(){const{audioStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.audioTracks)}_canNativelySelectTextTrack(){const{subtitlesStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.textTracks.length>0)}_selectAudioTrack(){const{audioStreams:e,audioStream:t}=this.props,a=this._mediaEl.audioTracks;if(a){const n=e.findIndex(e=>e.id===t.id);for(let e=0;e<a.length;e++)a[e].enabled=e===n}}_selectTextTrack(){const{subtitleStream:e}=this.props,t=this._mediaEl.textTracks;if(t&&e){let a;for(let n=0;n<t.length;n++){const i=t[n];if(i.mode="disabled",!a){const t="captions"===i.kind&&"eia_608"===e.codec,n="subtitles"===i.kind&&"vtt"===e.codec,r=i.language===e.id||i.label===e.language;(t||n)&&r&&(a=!0,i.mode="showing")}}}}render(){const{height:e,width:t,placement:a,edgeGutterX:n,edgeGutterY:r,isStackedAbove:s,onTick:o}=this.props,l=Object(h.a)(e,t,a,n,r,s);return i.a.createElement("div",{style:l},this.state.isStarted?i.a.createElement(b,{onPositionUpdate:this.onPositionUpdate,onTick:o}):null)}}S.defaultProps={mediaType:m.e,positionSeconds:0,volume:100,playbackSpeed:1,allowRecycleElement:!1,isReadyToPlay:!0};t.a=S},nMEA:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("pQ98"),s=a("mMra"),o=a("vQY0"),l=a.n(o);t.a=function(e){const{children:t,...a}=e;return i.a.createElement(s.a,{className:l.a.innerEmptyPage,contentClassName:l.a.innerEmptyPageContent,scrollDirection:r.b,...a},t)}},nSpa:function(e,t,a){e.exports={modalBody:"EditHomeModalContent-modalBody-2rHN2d ModalBody-modalBody--5uHSu",innerModalBody:"EditHomeModalContent-innerModalBody-4OMCUx",pane:"EditHomeModalContent-pane-3AzgqM ModalBody-innerModalBody-36gmbf",isHidden:"EditHomeModalContent-isHidden-2gSrWM",editPane:"EditHomeModalContent-editPane-1xAxS_",centeredContainer:"EditHomeModalContent-centeredContainer-Dyflr4",stackedButtonsContainer:"EditHomeModalContent-stackedButtonsContainer-36lBjY",sortableServers:"EditHomeModalContent-sortableServers-1uFWuv SortableHomeHubs-container-2NqZ-l Measure-container-3yONEe",reloadIcon:"EditHomeModalContent-reloadIcon-3wbMu9",footer:"EditHomeModalContent-footer-10Ix6N ModalFooter-modalFooter-30WIB5",button:"EditHomeModalContent-button-HgDyCQ ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn",splitButton:"EditHomeModalContent-splitButton-gmcHmN ModalFooter-splitButton-2NLiBa ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn"}},nVBp:function(e,t,a){"use strict";t.a=function(e,t){return t?`${e}:${t}`:e}},nWaN:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="conversion-status-container conversion-status-converting"> <div class="progress-bar-region"></div> <div class="conversion-status-converting-label-container"> <span class="conversion-status-converting-label">'+c(i(a("d8WC")).call(t,"Converting",{hash:{},data:s}))+'</span> <span class="conversion-status-converting-speed"></span> <div class="conversion-status-converting-progress"> <span class="conversion-status-converting-percentage"></span> <span class="conversion-status-converting-progress-separator">&middot;</span> <span class="conversion-status-converting-remaining"></span> </div> </div> </div> <div class="conversion-status-container conversion-status-processed"> <i class="conversion-status-icon glyphicon ok-2 text-success"></i> '+c(i(a("d8WC")).call(t,"Complete",{hash:{},data:s}))+' </div> <div class="conversion-status-container conversion-status-disabled"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> '+c(i(a("d8WC")).call(t,"Deleted",{hash:{},data:s}))+' <button class="enable-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-error"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="conversion-status-failed-message">'+c("function"==typeof(o=t&&t.initialErrorMessage)?o.apply(t):o)+'</span> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-pending"> <i class="conversion-status-icon glyphicon clock"></i> <span class="conversion-status-pending-label">'+c(i(a("d8WC")).call(t,"Waiting",{hash:{},data:s}))+"</span> </div> "}))},nXHd:function(e,t,a){"use strict";var n=a("G4qV"),i=a("X7Ko");const r=Object(n.a)(i.a,e=>e.playQueueItems);t.a=r},nXlV:function(e,t,a){"use strict";var n=a("B69o"),i=a("CHn6"),r=a("mOXR");var s=i.a.extend({name:"UserEntitlementModel",syncedAttrs:{id:r.a.string}});const o=n.a.extend({name:"UserEntitlementCollection",model:s});t.a=o},nZd1:function(e,t,a){"use strict";t.a={waitingRegex:/^(transcoded|downloaded|directplay|processed)$/,processingRegex:/^(pending|transcoding|downloading)$/,failedRegex:/^(failed|error)$/,addVersionHeader:function(e,t){return t||(t={}),t.headers||(t.headers={}),t.headers["X-Plex-Sync-Version"]=e,t},addVersionHeaderForDevice:function(e,t){const a=e&&e.get("syncList");return a&&a.get("version")?this.addVersionHeader(a.get("version"),t):t},getSyncStateFromPart:function(e){return e.transcodeState||e.syncState},getSyncStateContextFromPart:function(e){return e.transcodeStateContext||e.syncStateContext}}},naHd:function(e,t,a){"use strict";a.d(t,"g",(function(){return v})),a.d(t,"a",(function(){return I})),a.d(t,"c",(function(){return S})),a.d(t,"e",(function(){return E})),a.d(t,"d",(function(){return O})),a.d(t,"b",(function(){return M})),a.d(t,"h",(function(){return C})),a.d(t,"f",(function(){return j})),a.d(t,"i",(function(){return P}));var n=a("ICb1"),i=a("0jae"),r=a("cgRT"),s=a("tibn"),o=a("m6m+"),l=a("ujuY"),c=a("WRlm"),d=a("gnaf"),u=a("zTY+"),p=a("5HFX"),m=a("66GW"),h=a("Tent");var g=a("oMNB"),y=a("w41d"),f=a("Zdxz"),b=a("aIFf");Object(n.a)("watchTogetherRooms/initialize");const v=Object(n.a)("watchTogetherRooms/tryUpdateRooms"),I=Object(n.a)("watchTogetherRooms/createRoom"),S=Object(n.a)("watchTogetherRooms/inviteUsers"),E=Object(n.a)("watchTogetherRooms/resetCreateRoom"),O=Object(n.a)("watchTogetherRooms/populateMetadataItem"),M=Object(n.a)("watchTogetherRooms/deleteRoom"),C=Object(n.a)("watchTogetherRooms/updateRooms"),j=Object(n.a)("watchTogetherRooms/roomsUpdated");function D(e){return e.get("ui").get("watchTogether")}const P={"watchTogetherRooms/tryUpdateRooms"(e,t,a){const n=Object(r.c)("watchTogetherRoomsManager").getRoomsClient();!1===(null==n?void 0:n.isOpen)&&a(C())},"watchTogetherRooms/updateRooms"(e,t,a){const n=Object(r.c)("watchTogetherRoomsManager").getRoomsClient(),s=D(e);s.set({isRoomsPending:!0,isRoomsPopulated:!1}),n.rooms().then(e=>{a(j({rooms:e}))},e=>{i.a.warn("[Watch Together] Unable to fetch rooms:",e),s.set({roomsError:Object(m.default)("Unable to retrieve Watch Together rooms."),isRoomsPending:!1,isRoomsPopulated:!1})})},"watchTogetherRooms/roomsUpdated"(e,t,a){const n=D(e),i=n.get("rooms");i.set(t.rooms,{parse:!0}),n.set({isRoomsPending:!1,isRoomsPopulated:!0});const r=n.get("session");if(r){const e=i.get(r.get("roomID"));if(e){const t=e.get("users");r.get("users").forEach(e=>{const a=t.get("user");!a||e.get("thumb")&&e.get("title")||e.set({thumb:e.get("thumb")||a.get("thumb"),title:e.get("title")||a.get("title")})})}}},"watchTogetherRooms/createRoom"(e,t,a){const n=D(e),s=Object(y.d)(e,t),o=s.get("sourceURI"),l=Object(b.a)(s.toJSON()),{userIDs:d}=t,u=Object(r.c)("watchTogetherRoomsManager").getRoomsClient();n.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),u.createRoom(o,l,d).then(e=>{Object(r.c)("metrics").trackEvent({event:c.o,interaction:!0,properties:{itemCount:d.length+1,playbackSessionId:e}});const t=n.get("rooms").get(e);n.set({isInvitePending:!1,isInviteCompleted:!0}),t.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:s}),n.get("session")||a(Object(g.b)({watchTogetherRoomEntityID:t.entityID()}))}).catch(e=>{i.a.warn("[Watch Together] An error occurred while creating a room:",e),n.set({isInvitePending:!1,inviteError:Object(m.default)("Unable to send invite. Please try again.")})})},"watchTogetherRooms/inviteUsers"(e,t){const a=D(e),n=Object(y.n)(e,t),s=Object(r.c)("watchTogetherRoomsManager").getRoomsClient();a.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),s.inviteUsers(n.get("id"),t.userIDs).then(()=>{a.set({isInvitePending:!1,isInviteCompleted:!0})}).catch(e=>{i.a.warn("[Watch Together] An error occurred while inviting users:",e),a.set({isInvitePending:!1,inviteError:Object(m.default)("Unable to send invite. Please try again.")})})},"watchTogetherRooms/resetCreateRoom"(e){D(e).set({isInvitePending:!1,isInviteCompleted:!1,inviteError:null})},"watchTogetherRooms/populateMetadataItem"(e,t){const a=Object(y.n)(e,t);if(a.get("isMetadataItemPopulated"))return;const n=a.get("sourceUri"),{key:i,serverIdentifier:r,providerIdentifier:c}=Object(p.a)(n),g=Object(u.a)({providerIdentifier:c,serverIdentifier:r}),b=function(e,t){const{key:a,providerIdentifier:n,serverIdentifier:i}=Object(p.a)(t),r=e.get("entities").get(h.METADATA_ITEM).findWhere(e=>{const t=null==e?void 0:e.get("model");return t&&t.server&&t.provider&&t.server.get("machineIdentifier")===i&&t.provider.get("identifier")===n&&t.get("key")===a});return null==r?void 0:r.get("model")}(e,n);let v;if(a.set({isMetadataItemPending:!0,metadataItemError:null}),b)v=Promise.resolve(b);else{const t=e.get("servers").findWhere({machineIdentifier:r}),a=(null==t?void 0:t.get("isCloud"))?Object(y.m)(e):t;v=a?Object(f.a)(Object(o.a)(a.get("providers"),{identifier:c})).then(e=>{const a=new s.a({key:i,source:g},{server:t,provider:e});return Object(f.a)(Object(l.a)(a)).then(()=>a)}):Promise.reject(new Error("Cannot populate from unknown server"))}v.then(e=>{const t=!e.get("key")&&d.l(c,[d.i])?{isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:Object(m.default)("This item is not available in your region.")}:{isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:e};a.set(t)},e=>{const t=null==e?void 0:e.server,n=(null==t?void 0:t.get("isConnected"))||(null==t?void 0:t.get("isUnauthorized"))?Object(m.default)("You don’t have access to this item. Ask the owner to share it with you."):Object(m.default)("The server is unreachable.");a.set({isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:n})})},"watchTogetherRooms/deleteRoom"(e,t){const a=Object(y.n)(e,t);Object(r.c)("watchTogetherRoomsManager").getRoomsClient().deleteRoom(a.get("id")).catch(e=>{i.a.warn("[Watch Together] An error occurred while deleting a room:",e)})}}},nc7K:function(e,t,a){e.exports={titleContainer:"MetadataTitleCombinedTitleTrackArtist-titleContainer-dPOw8Z",title:"MetadataTitleCombinedTitleTrackArtist-title-3orFUf",trackArtist:"MetadataTitleCombinedTitleTrackArtist-trackArtist-3o0Kmw"}},ngbI:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="",o=this.escapeExpression;return s+='<div class="striped-list-inner-item"> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="conversion-status-region"></div> <div class="generator-metadata-title">',s+=o((r=a.title)||"function"==typeof(r=t&&t.title)?r.call(t,{hash:{},data:i}):r)+'</div> <div class="generator-metadata-episode-index generator-metadata-subtitle"></div> <div class="generator-metadata-year generator-metadata-subtitle">',s+=o((r=a.year)||"function"==typeof(r=t&&t.year)?r.call(t,{hash:{},data:i}):r)+"</div> </div> "}))},nhAy:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n);function r(e,t){var a=t.constructor.prototype.validate;return a?a(e):[]}function s(e){var t=this.panes[e],a=c.call(this,t);return 0===r.call(this,a,t).length}function o(e,t){var a=this.panes[t].dependentPanes;return"function"==typeof a&&(a=a.call(this)),e.concat(a||[])}function l(){var e=this.$(".change-pane-btn");e.addClass("disabled").removeClass("selected"),i.a.each(this.getReachablePanes(),(function(t){e.filter("."+t+"-btn").removeClass("disabled")}),this),e.filter("."+this.selectedPane+"-btn").addClass("selected")}function c(e){return this[e.model]||this[this.panesModel]||this.model}var d={showPane:function(e){if(e!==this.selectedPane){var t=this.paneRegion.currentView;t&&(this.stopListening(t,"valid",l),this.stopListening(t,"invalid",l),this.$el.removeClass("pane-"+this.selectedPane),this.onPaneHide&&this.onPaneHide(this.selectedPane,t)),this.selectedPane=e;var a=this.panes[e],n=a.constructor,r=this.paneConstructorArg?this.paneConstructorArg():{},s=new n(i.a.extend(r,{model:c.call(this,a)}));if(s.onModalClose){this._paneOnModalCloseCallbacks||this.listenToOnce(this,"close",(function(){i.a.each(this._paneOnModalCloseCallbacks,(function(e){e[1].call(e[0])}),this),this._paneOnModalCloseCallbacks=null}));var o=this._paneOnModalCloseCallbacks||[];o.push([s,s.onModalClose]),this._paneOnModalCloseCallbacks=i.a.uniq(o,(function(e){return e[1]}))}this.listenTo(s,"valid",l),this.listenTo(s,"invalid",l),l.call(this),this.onPaneShow&&this.onPaneShow(e,s),this.$el.addClass("pane-"+e),this.paneRegion.show(s),l.call(this)}},getReachablePanes:function(){for(var e,t,a=i.a.reduce(this.panes,(function(e,t){var a=t.dependentPanes;return"function"==typeof a&&(a=a.call(this)),i.a.union(e,a||[])}),[],this),n=i.a.filter(i.a.keys(this.panes),(function(e){return!i.a.contains(a,e)})),r=n;r.length;)e=i.a.filter(r,s,this),t=t||e.length!==r.length,r=i.a.reduce(e,o,[],this),n=n.concat(r);return n.isAnyInvalid=t,n},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))}};t.a=d},nnTz:function(e,t,a){e.exports={posterCell:"HomeHubPosterPlaceholderCell-posterCell-1jeJqH"}},nnsB:function(e,t,a){e.exports=function(e,t,a){return Array.isArray(e)&&e.includes(t)?a.fn(this):a.inverse(this)}},nptq:function(e,t,a){const n=a("F/us"),i=a("3O+N");e.exports=function(e,t){const a=i.partials[e],r=n.extend({},t.hash.context||this,t.hash);return new i.SafeString(a(r))}},nqj8:function(e,t,a){e.exports={character:"LibraryPageJumpBarCharacter-character-2Hr4Ed"}},nvND:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a("F/us"),i=a.n(n),r=a("FIl5");function s(e,t){t||(t={});return i.a.defaults(t,{typeName:e,parse:i.a.bind(r.a.parseType,r.a,e)})}const o=s("xml",{accept:"application/xml"}),l=s("json",{accept:"application/json"}),c=s("text")},nxTK:function(e,t,a){"use strict";var n=a("G4qV"),i=a("X7Ko");const r=Object(n.a)(i.a,e=>e.metadataLists);t.a=r},o2in:function(e,t,a){e.exports={playButton:"PlayButton-playButton-lixyMM Link-link-2ew_DK",playCircle:"PlayButton-playCircle-1_WgTy"}},"o2p+":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return s}));const n="playbackSpeed",i="lineup",r="recentChannelsInGrid",s="numRecentChannelsInGrid"},o3vy:function(e,t,a){"use strict";a.d(t,"e",(function(){return I})),a.d(t,"b",(function(){return S})),a.d(t,"h",(function(){return O})),a.d(t,"a",(function(){return M})),a.d(t,"g",(function(){return C})),a.d(t,"d",(function(){return j})),a.d(t,"c",(function(){return D})),a.d(t,"f",(function(){return T}));var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("ICb1"),l=a("+X4A"),c=a("hzmZ"),d=a("elzf"),u=a("U//L"),p=a("92Vb");var m=a("hPIe");var h=a("5tgX"),g=a("t/0V"),y=a("66GW");function f(e,t){let a;return a=401===e.status?Object(y.default)("You do not have permission to perform this action."):Object(g.a)(e,t),a}var b=a("1Lwt"),v=a("rXDx");const I=Object(o.a)("ui/modal/initMediaSubscriptionModal"),S=Object(o.a)("ui/modal/clearMediaSubscriptionModal"),E=Object(o.a)("ui/modal/fetchMediaSubscription"),O=Object(o.a)("ui/modal/saveMediaSubscription"),M=Object(o.a)("ui/modal/changeMediaSubscriptionTemplateMode"),C=(Object(o.a)("ui/modal/clearMediaSubscriptionModalError"),Object(o.a)("ui/modal/moveMediaSubscriptionModal")),j=Object(o.a)("ui/modal/deleteMediaSubscriptionModal"),D=Object(o.a)("ui/modal/deleteMediaGrabOperationsModal");function P(e){return e.get("ui").get("mediaSubscriptionModal")}const T=Object(u.a)({"ui/modal/initMediaSubscriptionModal"(e,t,a){const n=P(e);n.set("isMediaSubscriptionPending",!0);const r={};if(t.showConflicts&&(r.options={data:{includeGrabs:1}}),t.mediaSubscriptionEntityID)return n.set({mediaSubscription:Object(m.e)(e,t)}),void a(E(r));const s=Object(m.m)(e,t),o=Object(m.f)(e,t),u=o.get("grandparentSubscriptionID")||o.get("subscriptionID");if(u)return n.set({mediaSubscription:new c.a({key:u},{server:s})}),void a(E(r));const p=l.default.join("/media/subscriptions/template",{guid:o.get("guid")}),h=s.getXHROptions(p);i.a.ajax(h).then(e=>{const t={parse:!0,server:s},a=new d.a(e,t),i=a.findWhere({selected:!0});n.set({isMediaSubscriptionPending:!1,isMediaSubscriptionPopulated:!0,mediaSubscriptionError:null,templates:a,mediaSubscription:i})},e=>{const t=f(e,Object(y.default)("There was an unexpected error"));n.set({isMediaSubscriptionPending:!1,mediaSubscriptionError:t})})},"ui/modal/clearMediaSubscriptionModal"(e){P(e).restoreDefaults()},"ui/modal/fetchMediaSubscription":Object(p.a)({key:"mediaSubscription",getModel:P}),"ui/modal/saveMediaSubscription"(e,t){const a=P(e),n=Object(m.m)(e,t),r=a.get("mediaSubscription"),{targetLibrarySectionID:o,targetSectionLocationID:c=null,prefs:d}=t;Object(b.a)(()=>{a.set({isMediaSubscriptionSaving:!0,mediaSubscriptionSaveError:null})});const u=r.get("key"),p=r.getSaveParams(),h=i.a.extend(!0,{},p,{includeGrabs:1,targetLibrarySectionID:o,targetSectionLocationID:c,prefs:d});let g=l.default.join(s.a.result(r,"url"),h);if(!u){const e=Object(v.getMetadataType)(r.get("hint").get("type"));g=g+"&"+r.get("parameters")+"&type="+e.id}const I=n.getXHROptions(g,{type:u?"PUT":"POST"});i.a.ajax(I).then(n=>{if(r.set(r.parse(n)),a.set({isMediaSubscriptionSaving:!1}),t.metadataItemEntityID){const a=Object(m.f)(e,t);if(a){const e=r.get("hint").get("type"),t=Object(v.isParentType)(e),n=t?"grandparentSubscriptionID":"subscriptionID",i=t?"grandparentSubscriptionType":"subscriptionType";a.set({[n]:r.id,[i]:e})}}},e=>{const t=f(e,Object(y.default)("There was a problem saving your changes. Please try again."));a.set({isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:t})})},"ui/modal/changeMediaSubscriptionTemplateMode"(e,t){const a=P(e),n=a.get("templates"),{modeIndex:i}=t;a.set("mediaSubscription",n.at(i))},"ui/modal/clearMediaSubscriptionModalError"(e,t){P(e).set({mediaSubscriptionSaveError:null,mediaSubscriptionError:null,mediaSubscriptionMoveError:null,mediaSubscriptionDeleteError:null})},"ui/modal/moveMediaSubscriptionModal"(e,t){const a=P(e),n=a.get("mediaSubscription");Object(b.a)(()=>{a.set({isMediaSubscriptionMoving:!0,mediaSubscriptionMoveError:null})});Object(h.a)(n).then(()=>{a.set({isMediaSubscriptionMoving:!1})},e=>{const t=f(e,Object(y.default)("There was a problem saving your changes. Please try again."));a.set({isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:t})})},"ui/modal/deleteMediaSubscriptionModal"(e,t,a){const n=P(e),i=n.get("mediaSubscription"),{metadataItemEntityID:r}=t;Object(b.a)(()=>{n.set({isMediaSubscriptionDeleting:!0,mediaSubscriptionDeleteError:null})}),function(e,{appModel:t,metadataItemEntityID:a}={}){const n=e.get("key");let i=e.destroy({wait:!0});return a&&(i=i.then(()=>{if(a){const e=Object(m.f)(t,{metadataItemEntityID:a});e.get("subscriptionID")===n?(e.unset("subscriptionID"),e.unset("subscriptionType")):e.get("grandparentSubscriptionID")===n&&(e.unset("grandparentSubscriptionID"),e.unset("grandparentSubscriptionType"))}})),i}(i,{appModel:e,metadataItemEntityID:r}).then(()=>{n.set({isMediaSubscriptionDeleting:!1})},e=>{const t=f(e,Object(y.default)("There was a problem with canceling this subscription. Please try again."));n.set({isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:t})})},"ui/modal/deleteMediaGrabOperationsModal"(e,t){const a=P(e),n=a.get("mediaSubscription");var r;Object(b.a)(()=>{a.set({isMediaSubscriptionDeleting:!0,mediaSubscriptionDeleteError:null})}),(r=n.get("grabOperations"),i.a.when(...r.map(e=>e.destroy({wait:!0}))).then(()=>{})).then(()=>{a.set({isMediaSubscriptionDeleting:!1})},e=>{const t=f(e,Object(y.default)("There was a problem with modifying this subscription. Please try again."));a.set({isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:t})})}})},o57f:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR"),r=a("tibn"),s=a("B69o");var o=n.a.extend({name:"SyncplaySessionUserModel",idAttribute:"deviceIdentifier",sessionAttrs:{adDisplayIndex:i.a.integer,adDisplayTotal:i.a.integer,deviceIdentifier:i.a.string.isRequired,deviceName:i.a.string.isRequired,id:i.a.integer.isRequired,isAdPlaying:i.a.boolean,isPresent:i.a.boolean,isReady:i.a.boolean,isWatching:i.a.boolean,positionSeconds:i.a.oneOfType(i.a.integer,i.a.float),thumb:i.a.string,title:i.a.string},defaults:{deviceIdentifier:null,deviceName:null,id:null,isAdPlaying:!1,isReady:!1,isWatching:!1,positionSeconds:0}});var l=s.a.extend({name:"SyncplaySessionUserCollection",model:o});const c=n.a.extend({name:"SyncplaySessionModel",idAttribute:"roomID",sessionAttrs:{notifications:i.a.array,roomID:i.a.string},sessionRelations:{metadataItem:{relationClass:r.a,deferred:!0},users:{relationClass:l}},defaults:{notifications:[]}});t.a=c},o760:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("+X4A"),s=a("CHn6"),o=a("mOXR"),l=a("WfN5"),c=a("7za+"),d=a("vUHz");const u=s.a.extend({name:"HomeUserModel",context:["server"],rootPropertyName:"User",entityType:c.b,entityID(e=this.state){return Object(l.a)(this.entityType,e.id)},urlRoot(){return this.get("restricted")?"/api/v2/home/users":"/api/home/users"},saveUrl(){let e=i.a.result(this,"url");return this.get("restricted")&&(e=r.default.join([e,"/restricted"])),e},pinUrl(){const e=this.get("restricted")?"/api/v2/home/users/restricted":"/api/home/users";return r.default.join([e,this.get("id")])},sessionAttrs:{isRemoving:o.a.boolean},syncedAttrs:{id:o.a.integer,uuid:o.a.string,admin:o.a.boolean,protected:o.a.boolean,restricted:o.a.boolean,restrictionProfile:o.a.string,guest:o.a.boolean,title:o.a.string,username:o.a.string,email:o.a.string,thumb:o.a.string,...d.a},defaults:{isRemoving:!1},getSaveParams(e){const t=s.a.prototype.getSaveParams.apply(this,arguments);return e&&0!==Object.keys(e).length||(this.get("restrictionProfile")&&(t.restrictionProfile=this.get("restrictionProfile")),t.sharingSettings={},Object.keys(d.a).forEach(e=>{t.hasOwnProperty(e)&&(t.sharingSettings[e]=t[e],delete t[e])}),this.get("restricted")?t.friendlyName=this.get("username"):this.isNew()&&(t.invitedEmail=this.get("username"))),t}});t.a=u},o8wu:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var a="";return a+=" <li>"+c("function"==typeof e?e.apply(e):e)+"</li> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(i(a("d8WC")).call(t,"Plex Media Server Release Notes",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <span class="text-muted">'+c(i(a("d8WC")).call(t,"Version {1}",t&&t.escapedVersion,{hash:{},data:s}))+"</span> ",((o=n.if.call(t,t&&t.added,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,r){var s,o="";return o+=' <h4 class="update-list-title">'+c(i(a("d8WC")).call(e,"New",{hash:{},data:t}))+"</h4> <ul> ",((s=n.each.call(e,r&&r.added,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+=" </ul> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.fixed,{hash:{},inverse:d.noop,fn:d.programWithDepth(4,(function(e,t,r){var s,o="";return o+=' <h4 class="update-list-title">'+c(i(a("d8WC")).call(e,"Fixes",{hash:{},data:t}))+"</h4> <ul> ",((s=n.each.call(e,r&&r.fixed,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+=" </ul> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </div> </div> </div> "}))},oArg:function(e,t,a){e.exports={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-14sZdQ"}},oLRI:function(e,t,a){const n=a("2DfW").default,i=a("a4Cb");e.exports=i(n)},oMNB:function(e,t,a){"use strict";a.d(t,"b",(function(){return M})),a.d(t,"c",(function(){return C})),a.d(t,"e",(function(){return j})),a.d(t,"a",(function(){return P})),a.d(t,"h",(function(){return T})),a.d(t,"f",(function(){return w})),a.d(t,"g",(function(){return N})),a.d(t,"d",(function(){return A})),a.d(t,"i",(function(){return B}));var n=a("F/us"),i=a.n(n),r=a("ICb1"),s=a("0jae"),o=a("cgRT"),l=a("6eR6"),c=a("o57f"),d=a("Qc+q"),u=a("SiWM"),p=a("wAGh"),m=a("ijGY"),h=a("2eFc"),g=a("uCRf"),y=a("rG5p"),f=a("+Mxn"),b=a("naHd"),v=a("w41d");const I="syncplaySessionActions/toggleSessionLobby",S="syncplaySessionActions/syncUser",E="syncplaySessionActions/syncLobby",O="syncplaySessionActions/syncPlaystate",M=Object(r.a)("syncplaySessionActions/joinSession"),C=Object(r.a)("syncplaySessionActions/leaveSession"),j=Object(r.a)("syncplaySessionActions/setSessionError"),D=(Object(r.a)(I),Object(r.a)(I,e=>({...e,shouldShow:!0}))),P=Object(r.a)(I,e=>({...e,shouldHide:!0})),T=Object(r.a)(S),w=Object(r.a)(E),N=Object(r.a)(O),x=Object(r.a)("syncplaySessionActions/addNotification"),A=Object(r.a)("syncplaySessionActions/removeNotification"),L=g.a;function k(e){return z(e).get("rooms")}function R(e){return z(e).get("session")}function z(e){return e.get("ui").get("watchTogether")}function U(e){return(null==e?void 0:e.deviceIdentifier)===l.a.prop("X-Plex-Client-Identifier")}function V(e){const t=Object(f.c)(e,L);return t.get("syncplaySessionRoomID")&&!!Object(d.a)(t)}const B={"syncplaySessionActions/joinSession"(e,t,a){const n=Object(v.n)(e,t),i=n.get("id");z(e).set("session",new c.a({metadataItem:n.get("metadataItem"),roomID:i})),a(Object(b.h)()),Object(o.c)("syncplaySessionManager").join({roomID:i,roomSourceUri:n.get("sourceUri"),roomSyncplayHost:n.get("syncplayHost"),roomSyncplayPort:n.get("syncplayPort")})},"syncplaySessionActions/leaveSession"(e,t,a){const n=R(e);if(n){const t=z(e);Object(s.a)("[Watch Together] Leaving session for room:",n.get("roomID")),Object(o.c)("syncplaySessionManager").leave(),t.unset("session"),t.unset("sessionError")}},"syncplaySessionActions/setSessionError"(e,t,a){const n=Object(f.c)(e,L),{sessionError:i}=t;n.get("syncplaySessionRoomID")?n.set({hasError:!0,errorMessage:i}):z(e).set({sessionError:i})},[I](e,t,a){const n=Object(f.c)(e,L),i=n.get("syncplaySessionRoomID"),r={initiator:"WATCH_TOGETHER",playerType:L},{shouldHide:l,shouldShow:c}=t;let d;if(c&&(n.set({isWatchTogetherLobbyVisible:!0,isWatchTogetherParticipantsVisible:!1}),n.get("isPaused")||(d=Object(p.s)(r))),l){const e=null!==n.get("adState");e&&Object(o.c)("syncplaySessionManager").update({roomID:i,isAdPlaying:e,adDisplayIndex:n.get("adDisplayIndex"),adDisplayTotal:n.get("adDisplayIndex")}),n.get("isPaused")&&(d=Object(p.t)(r)),n.set({isWatchTogetherLobbyVisible:!1})}(c||l)&&Object(s.a)("[Watch Together] Session lobby is visible?",n.get("isWatchTogetherLobbyVisible")),d&&V(e)&&(Object(s.a)("[Watch Together] Dispatching after lobby visibility:",d),a(d))},[S](e,t,a){var n,i,r,o;const{event:l}=t;if(!l.user)return;const{ad:c,isPresent:d,isReady:u,positionSeconds:p,isPaused:m,user:h}=l,{deviceIdentifier:g,deviceName:f,id:v}=h,I=R(e),E=I.get("users"),O=[],M={},C=E.get(g)||E.add({deviceIdentifier:g,deviceName:f,id:v});if(!C.get("title")){const t=null==(n=k(e).get(I.get("roomID")))?void 0:n.get("users"),a=null==t?void 0:t.get(v);a?(M.title=a.get("title"),M.thumb=a.get("thumb")):z(e).get("isRoomsPending")||(s.a.debug(`[Watch Together] Syncplay user is unknown ${h.id} (${h.deviceName})`),O.push(Object(b.h)()))}void 0!==d&&d!==C.get("isPresent")&&(M.isPresent=d,O.push(x({type:d?y.a:y.b,user:h}))),!1===d&&C.get("isAdPlaying")?(M.adDisplayIndex=null,M.adDisplayTotal=null,M.isAdPlaying=!1):void 0!==c&&(M.adDisplayIndex=null!=(i=null==c?void 0:c.displayIndex)?i:null,M.adDisplayTotal=null!=(r=null==c?void 0:c.displayTotal)?r:null,M.isAdPlaying=null!=(o=null==c?void 0:c.isPlaying)&&o),void 0!==u&&(M.isReady=u),void 0!==m&&(M.isWatching=!m),void 0!==p&&(M.positionSeconds=p),s.a.debug(`[Watch Together] Updating user ${h.id} (${h.deviceName}):`,M),C.set(M),O.forEach(e=>{s.a.debug("[Watch Together](%s) Dispatching:",S,e),a(e)})},[O](e,t,a){const{roomID:n,event:i}=t,r=R(e);if(U(i.user))return;const o={user:i.user},l=function(e,t){const a=Object(f.c)(e,L),{event:n}=t,{isPaused:i,positionSeconds:r,user:o}=n,l=null!=r,c=R(e).get("users").get(null==o?void 0:o.deviceIdentifier),d={nextPlaybackSpeed:a.get("playbackSpeed"),shouldChangePlaybackSpeed:!1,shouldPause:!1,shouldResume:!1,shouldSeek:!1,shouldStartPlayback:!1};if(!a.get("syncplaySessionRoomID")&&l)return d.shouldStartPlayback=!0,d;if(null!=a.get("adState")||(null==c?void 0:c.get("isAdPlaying")))return d;if(!V(e))return d;if(d.shouldPause=!0===i&&!a.get("isPaused"),d.shouldResume=!1===i&&a.get("isPaused"),d.shouldSeek=n.shouldSeek,l&&(d.nextPlaybackSpeed=1,!d.shouldSeek)){const e=a.get("positionSeconds")-r;s.a.debug("[Watch Together] Local position diff:",e+"s"),d.shouldSeek=e>=4||e<=-1.75,!d.shouldSeek&&e>1.5&&(d.nextPlaybackSpeed=.95)}return d.shouldChangePlaybackSpeed=d.nextPlaybackSpeed!==a.get("playbackSpeed"),d}(e,t),c=[];if(l.shouldStartPlayback){const e=r.get("metadataItem"),t=Math.round(1e3*i.positionSeconds);Object(s.a)(`[Watch Together] Start playback at ${t}s`),c.push(Object(u.x)({serverEntityID:e.get("serverEntityID"),providerEntityID:e.get("providerEntityID"),syncplaySessionRoomID:n,playerType:L,isPaused:!0,isWatchTogetherLobbyVisible:!0,openState:h.a,startOffsetMilliseconds:t,options:{metadataItemKey:e.get("key"),type:m.d}}))}l.shouldChangePlaybackSpeed&&c.push(Object(p.j)({playerType:L,playbackSpeed:l.nextPlaybackSpeed})),l.shouldSeek&&(c.push(Object(p.w)({initiator:"WATCH_TOGETHER",playerType:L,positionSeconds:Math.round(i.positionSeconds)})),i.shouldSeek&&c.push(x({...o,type:y.e}))),l.shouldPause&&c.push(Object(p.s)({initiator:"WATCH_TOGETHER",playerType:L}),x({...o,type:y.c})),l.shouldResume&&c.push(Object(p.t)({initiator:"WATCH_TOGETHER",playerType:L}),x({...o,type:y.d})),c.forEach(e=>{s.a.debug("[Watch Together](%s) Dispatching:",O,e),a(e)})},[E](e,t,a){const n=function(e,t){const{event:a}=t,{user:n}=a,i=Object(f.c)(e,L),r=R(e),s=k(e).get(r.get("roomID")),o=r.get("users"),l=o.get(null==n?void 0:n.deviceIdentifier),c={shouldHide:!1,shouldShow:!1};if(!l)return c;const d=!s||s.get("users").every(e=>o.findWhere({id:e.get("id")})),u=o.length>0&&o.every(e=>e.get("isReady")),p=!U(n)&&(null==l?void 0:l.get("isAdPlaying")),m=!!i.get("adState"),h=i.get("isWatchTogetherLobbyVisible");return p&&!m?c.shouldShow=!0:(p&&m||d&&u)&&(c.shouldHide=!0),c.shouldHide=h&&c.shouldHide,c.shouldShow=!h&&c.shouldShow,c}(e,t);n.shouldHide&&a(P(t)),n.shouldShow&&a(D(t))},"syncplaySessionActions/addNotification"(e,t,a){const n=Object(f.c)(e,L),r=R(e),{type:o,user:l}=t;if(U(l))return void s.a.debug("[Watch Together] Ignoring notification from local user:",t);if(n.get("isWatchTogetherLobbyVisible"))return void s.a.debug("[Watch Together] Ignoring notification while lobby visible:",t);const c={timestamp:Date.now(),type:o,uid:i.a.uniqueId(),userID:l.id};Object(s.a)(`[Watch Together] Notification "${o}" from:`,l);const d=r.get("notifications").concat(c).slice(-5);r.set({notifications:d})},"syncplaySessionActions/removeNotification"(e,t,a){const n=R(e),i=n.get("notifications").filter(e=>e.uid!==t.uid);n.set({notifications:i})},[u.m](e,t,a){const n=Object(f.c)(e,L),i=n.get("syncplaySessionRoomID");if(i&&!n.get("isWatchTogetherLobbyVisible")){const{adState:e,adDisplayIndex:n,adDisplayTotal:r}=t;Object(o.c)("syncplaySessionManager").update({roomID:i,isAdPlaying:null!=e,adDisplayIndex:n,adDisplayTotal:r}),null==e&&a(D())}},[u.c](e,t,a){a(C())},[u.f](e,t,a){a(C())},[p.c](e,t){Object(f.c)(e,L).get("syncplaySessionRoomID")&&"WATCH_TOGETHER"!==t.initiator&&Object(o.c)("syncplaySessionManager").update({hasPendingSeek:!0})},[p.h](e,t){const a=Object(f.c)(e,L);a.get("syncplaySessionRoomID")&&"WATCH_TOGETHER"!==t.initiator&&!a.get("adState")&&Object(o.c)("syncplaySessionManager").update({hasPendingPlayPause:!0})}};Object.assign(B,{[p.d]:B[p.c],[p.e]:B[p.c],[p.f]:B[p.c],[p.g]:B[p.c]})},oMRm:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"h",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"j",(function(){return p}));const n="account",i="download-button",r="downloads-page",s="dvr-setup",o="lyrics",l="nav-bar",c="server-setup",d="sonos",u="users-and-sharing",p="webhooks"},oNTf:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("G4qV"),i=a("xSXQ"),r=a("m8hN"),s=a("OMWn"),o=a("rXDx"),l=a("22a4"),c=a("f2wi");var d=a("okn6");function u(){return Object(n.a)((e,{containerKey:t})=>t,(e,{containerTitle:t})=>t,(e,{metricsContext:t})=>t,Object(i.a)(),s.a,r.a,Object(n.a)(Object(i.a)(),e=>{if(e&&!e.skipDetails&&!e.isExtra&&!e.radio&&e.type!==o.PHOTO&&e.type!==o.CLIP)return e.type===o.TRACK&&e.subtype!==c.PODCAST?e.skipParent?e.grandparentKey:e.parentKey:e.key}),(e,t,a,n={},i,r,s)=>{if(n.isFolder){const i=e.match(/(.*?)\/folder/)[1],r={key:i+"/all",typeKey:i+"/folder",folderKey:s,folderTitle:n.title,parentFolderKey:e,parentFolderTitle:t};return a&&(r.context=a),Object(l.a)(r)}const c={};return a&&(c.context=a),n.type===o.PHOTO_ALBUM&&(c.legacy=1),Object(d.a)(i,r,s,c,n.playlistType)})}},oQeb:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR");const r=n.a.extend({name:"ProviderEPGChannelModel",context:["provider"],rootPropertyName:"Channel",syncedAttrs:{id:i.a.string,thumb:i.a.string,title:i.a.string,hidden:i.a.boolean}});t.a=r},oRFc:function(e,t,a){e.exports={disclosureArrowLink:"DisclosureArrowLink-disclosureArrowLink-2tZpSu Link-link-2ew_DK",isSelected:"DisclosureArrowLink-isSelected-1ke9ld",small:"DisclosureArrowLink-small-2xeRpi",medium:"DisclosureArrowLink-medium-me93mt",large:"DisclosureArrowLink-large-3oPuWK",disclosureArrow:"DisclosureArrowLink-disclosureArrow-2QXL2b DisclosureArrow-disclosureArrow-1KPaBC",down:"DisclosureArrowLink-down-D5SyKC",left:"DisclosureArrowLink-left-3IbFw0",up:"DisclosureArrowLink-up-2voo1-",right:"DisclosureArrowLink-right-2imPuw"}},oSTF:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("qNMu"),l=a("VzhI"),c=a("2pL0"),d=a("9OK2"),u=a.n(d);t.a=function({className:e,children:t,kind:a=o.c,size:n=l.b,...r}){return s.a.createElement(c.a,{className:i()(e,u.a.button,a&&u.a[a],n&&u.a[n]),...r},t)}},oToW:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{},'<div class="result-region"> <div class="loading loading-inline"></div> </div> '}))},oVB5:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("hHWh"),l=a("2pL0"),c=a("f+Ik"),d=a("VzhI"),u=a("vD73"),p=a.n(u);class m extends r.Component{render(){const{className:e,arrowClassName:t,children:a,direction:n,kind:r,size:c,isSelected:u,...m}=this.props,h=c||d.b;return s.a.createElement(l.a,{className:i()(e,p.a[h],u&&p.a.isSelected),"aria-haspopup":!0,kind:r,size:c,isSelected:u,...m},a,s.a.createElement(o.a,{className:i()(t,p.a[n],p.a[h]),direction:n,kind:r,size:h,isSelected:u}))}}m.defaultProps={className:p.a.disclosureArrowButton,arrowClassName:p.a.disclosureArrow,direction:c.a,isSelected:!0},t.a=m},oayy:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Confirm Current PIN",{hash:{},data:t}))+" "}function p(e,t){var a;return(a=n.if.call(e,e&&e.isOpeningAddManagedUser,{hash:{},inverse:d.program(11,h,t),fn:d.program(9,m,t),data:t}))||0===a?a:""}function m(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Enter Admin PIN",{hash:{},data:t}))+" "}function h(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Enter PIN",{hash:{},data:t}))+" "}function g(e,t){var n="";return n+=' <button type="button" class="remove-btn btn-gray pull-left">'+c(i(a("d8WC")).call(e,"Remove",{hash:{},data:t}))+"</button> "}function y(e,t){var n="";return n+=' <button type="button" class="skip-btn btn-gray" data-dismiss="modal">'+c(i(a("d8WC")).call(e,"Skip",{hash:{},data:t}))+"</button> "}function f(e,t){var n="";return n+=' <button type="button" class="cancel-btn btn-gray" data-dismiss="modal">'+c(i(a("d8WC")).call(e,"Cancel",{hash:{},data:t}))+"</button> "}return l+='<div class="modal-header"> <div class="home-user-dropdown-container pull-right"></div> <h4 class="modal-title"> ',((o=n.if.call(t,t&&t.showBackButton,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return' <a class="back-btn btn-gray" href="#"><i class="glyphicon chevron-left"></i></a> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.if.call(t,t&&t.isEditing,{hash:{},inverse:d.program(5,(function(e,t){var a;return(a=n.if.call(e,e&&e.isEditConfirmation,{hash:{},inverse:d.program(8,p,t),fn:d.program(6,u,t),data:t}))||0===a?a:""}),s),fn:d.program(3,(function(e,t){var n="";return n+=' <i class="modal-icon glyphicon pencil"></i> '+c(i(a("d8WC")).call(e,"Edit PIN",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' <span class="loading loading-sm hidden"></span> </h4> </div> <form id="pin-form"> <div class="modal-body"> <ul class="tile-list user-select-list disabled"></ul> <input type="number" pattern="[0-9]*" class="pin-input"> <a class="pin-forgot-link btn-gray hidden" href="https://www.plex.tv/pin-reset/" target="_blank">'+c(i(a("d8WC")).call(t,"Forgot?",{hash:{},data:s}))+'</a> <div class="pin-digit-container" aria-hidden="true"> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> </div> ',((o=n.if.call(t,t&&t.isEditWarning,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){var n="";return n+=' <p class="help-block"> '+c(i(a("d8WC")).call(e,"You do not currently have a PIN. This will allow any users in this home to switch to your account.",{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=n.if.call(t,t&&t.isEditing,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var r,s="";return s+=' <div class="modal-footer"> ',((r=n.if.call(e,e&&e.hasCurrentPIN,{hash:{},inverse:d.noop,fn:d.program(16,g,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=n.if.call(e,e&&e.isEditWarning,{hash:{},inverse:d.program(20,f,t),fn:d.program(18,y,t),data:t}))||0===r)&&(s+=r),s+=' <button type="submit" class="save-btn btn-link">'+c(i(a("d8WC")).call(e,"Save",{hash:{},data:t}))+"</button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </form> "}))},obfZ:function(e,t,a){e.exports={discoverPageContent:"DiscoverPage-discoverPageContent-3mJ50O PageContent-innerPageContent-3ktLTA",discoverPageList:"DiscoverPage-discoverPageList-3u-Jgf"}},obnR:function(e,t,a){"use strict";t.a={motionEasing:[.6,.4,.2,1.4]}},ocKo:function(e,t,a){"use strict";a.d(t,"p",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"m",(function(){return s})),a.d(t,"n",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"l",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"k",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"i",(function(){return h})),a.d(t,"a",(function(){return g})),a.d(t,"o",(function(){return y})),a.d(t,"j",(function(){return f})),a.d(t,"e",(function(){return b})),a.d(t,"f",(function(){return v}));const n="https://app.plex.tv",i="https://forums.plex.tv",r="https://www.plex.tv/media-server-downloads",s="https://status.plex.tv",o="https://www.plex.tv/tidal",l="https://www.plex.tv/privacy",c="?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",d="https://support.plex.tv"+c,u="https://support.plex.tv/articles/customizing-plex-web/"+c,p="https://support.plex.tv/articles/225877427-supported-dvr-tuners-and-antennas/"+c,m="https://support.plex.tv/articles/community-supported-tuners/"+c,h="https://support.plex.tv/articles/206225077-how-to-use-secure-server-connections/"+c,g="https://support.plex.tv/articles/204985278-account-audio-subtitle-language-settings/"+c,y="https://support.plex.tv/hc/en-us/articles/115002267687-Webhooks/"+c,f="https://support.plex.tv/articles/204232573-restricting-the-shares/",b="/users/other-services",v="https://plex.tv"+b},ogHR:function(e,t,a){e.exports={decoratorIconContainer:"DecoratorIcon-decoratorIconContainer-2cRbIa",decoratorIcon:"DecoratorIcon-decoratorIcon-1Odh78"}},ogW7:function(e,t,a){e.exports={scroller:"VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},okn6:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("+X4A"),i=a("pXC0");function r(e,t,a,r={},s){if(!e||!t||!a)return;const o=function(e,t){const a=encodeURIComponent(e.machineIdentifier),n=encodeURIComponent(t.identifier),i="/server/"+a;return t.isLibraryProvider?i:`${e.isCloud?"":i}/provider/${n}`}(e,t),l=encodeURIComponent(a),c={[i.c]:"album",[i.e]:"playlist",[i.a]:"playlist"},d=`#!${o}/${s?c[s]:"details"}?key=${l}`;return n.default.join(d,r)}},osxg:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));function n(e,t){return`${e}::${t}`}},oucR:function(e,t,a){e.exports={sectionWrapper:"TwoFactorAuthSection-sectionWrapper-1W0bun SettingsFormSection-section-1zYMPA",description:"TwoFactorAuthSection-description-3mOew1",action:"TwoFactorAuthSection-action-pFmYvP"}},ovLB:function(e,t,a){e.exports={pageHeaderDivider:"PageHeaderDivider-pageHeaderDivider-1NwPUr"}},oz32:function(e,t,a){e.exports={measureContainer:"DirectoryListFilterMenu-measureContainer-BY7PKV",menuScroller:"DirectoryListFilterMenu-menuScroller-3GD7He Scroller-scroller-CQJq74",headerContainer:"DirectoryListFilterMenu-headerContainer-fAEzTJ",header:"DirectoryListFilterMenu-header-1C5kVg",filterOptionsContainer:"DirectoryListFilterMenu-filterOptionsContainer-2yL-jE",headerTitle:"DirectoryListFilterMenu-headerTitle-3_2Kx4",filterOptionsScroller:"DirectoryListFilterMenu-filterOptionsScroller-2MYItA DirectoryListFilterMenu-menuScroller-3GD7He Scroller-scroller-CQJq74",backIcon:"DirectoryListFilterMenu-backIcon-IINLdp",filterText:"DirectoryListFilterMenu-filterText-3_u9I3",searchInput:"DirectoryListFilterMenu-searchInput-3BccPR TextInput-input-1VMuma input-input-1P2Vi4",selectedMenuItem:"DirectoryListFilterMenu-selectedMenuItem-owGNxt SelectedMenuItem-menuItemContainer-2hXIr-",emptyText:"DirectoryListFilterMenu-emptyText-1GMJoR"}},p050:function(e,t,a){e.exports={loadingItem:"MetadataSimpleSummaryCellLoading-loadingItem-35Sst7",alternateLoadingItem:"MetadataSimpleSummaryCellLoading-alternateLoadingItem-2LPd55 MetadataSimpleSummaryCellLoading-loadingItem-35Sst7"}},p1pj:function(e,t,a){e.exports={emptyContainer:"PlaylistItemList-emptyContainer-3nMxMp",emptyMessage:"PlaylistItemList-emptyMessage-1ot0Cu PlaylistItemList-emptyContainer-3nMxMp"}},p2t2:function(e,t,a){e.exports={multiSelectContainer:"MultiSelectInputGroup-multiSelectContainer-2ePyeH",multiSelectItem:"MultiSelectInputGroup-multiSelectItem-qpRtxx",help:"MultiSelectInputGroup-help-FxDQrq FormHelp-help-3VCuqa"}},p7ty:function(e,t,a){"use strict";a.r(t);var n=a("B69o"),i=a("CHn6"),r=a("mOXR"),s=i.a.extend({name:"MatchResultModel",context:["server"],idAttribute:"guid",rootPropertyName:"SearchResult",syncedAttrs:{id:r.a.integer,guid:r.a.string,name:r.a.string,parentGUID:r.a.string,parentName:r.a.string,type:r.a.string,index:r.a.integer,score:r.a.integer,thumb:r.a.string,year:r.a.integer,matched:r.a.boolean,disambiguation:r.a.string,area:r.a.string,beginArea:r.a.string,lifespanBegin:r.a.string,lifespanEnd:r.a.string,summary:r.a.string},syncedRelations:{children:function(){return{relationClass:a("p7ty").default,rootPropertyName:"SearchResult"}}},derivedAttrs:{normalizedScore:function(){var e=this.get("score");if(null!=e)return Math.min(Math.max(e,0),100)}}}),o=n.a.extend({name:"MatchResultCollection",context:["server"],model:s,url:function(){return"/library/metadata/"+this.parent.id+"/matches"}});t.default=o},p9Lp:function(e,t,a){e.exports={container:"ServerDashboardPageMessage-container-2qUY4V",message:"ServerDashboardPageMessage-message-2iodXZ"}},p9a2:function(e,t,a){e.exports={item:"MetadataSimpleSummaryCell-item-2wMSiM",isActionsMenuOpen:"MetadataSimpleSummaryCell-isActionsMenuOpen-3iGW8j",button:"MetadataSimpleSummaryCell-button-T_Dfk_",titleEpisodeIndex:"MetadataSimpleSummaryCell-titleEpisodeIndex-fssXIX",alternateItem:"MetadataSimpleSummaryCell-alternateItem-2dz9an MetadataSimpleSummaryCell-item-2wMSiM",underlay:"MetadataSimpleSummaryCell-underlay-3j5Egl",overlay:"MetadataSimpleSummaryCell-overlay-18Efas",simpleSummaryContainer:"MetadataSimpleSummaryCell-simpleSummaryContainer-2b-1Rj",indexPlayContainer:"MetadataSimpleSummaryCell-indexPlayContainer-C8tSJA",playButtonContainer:"MetadataSimpleSummaryCell-playButtonContainer-CgWZXI",playButton:"MetadataSimpleSummaryCell-playButton-3yyum1 PlayButton-playButton-3WX8X- MetadataSimpleSummaryCell-button-T_Dfk_",miniProgressContainer:"MetadataSimpleSummaryCell-miniProgressContainer-3piSDJ",titleAndSummaryContainer:"MetadataSimpleSummaryCell-titleAndSummaryContainer-YfihRx",titleContainer:"MetadataSimpleSummaryCell-titleContainer-1kD2Ls",title:"MetadataSimpleSummaryCell-title-2SoJl0",summary:"MetadataSimpleSummaryCell-summary-1plSwU",actions:"MetadataSimpleSummaryCell-actions-2_Bywi",moreButton:"MetadataSimpleSummaryCell-moreButton-1mNpcu MetadataSimpleSummaryCell-button-T_Dfk_"}},pAB4:function(e,t,a){e.exports={concerts:"PrePlayConcerts-concerts-3r-qin",concertsLogo:"PrePlayConcerts-concertsLogo-oF29Rl"}},"pD+/":function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("F/us"),l=a.n(o);var c=a("WA8t"),d=a("6FMj");class u extends r.Component{constructor(e,t){super(e,t),this.state=this._getListState(e),this._keyPool=function(e=""){const t=[],a={},n={};let i=0;function r(){let a;return t.length?a=t.shift():(a=e+i,i++),a}function s(e){delete a[e]}return{getKeys(e,i,o,c=0,d){l.a.each(a,(a,r)=>{const s=a.item;if(null===s)t.push(r);else{const a=l.a.isString(s)?s:s[d],u=o.indexOf(s)+c;(u<e||u>i)&&(t.push(r),delete n[a])}});for(let t=e;t<=i;t++){const e=o[t-c]||null,i=e&&(l.a.isString(e)?e:e[d]);let s=e&&n[i];s||(s=r(),e&&(n[i]=s)),a[s]={index:t,item:e}}return t.forEach(s),t.length=0,l.a.extend({},a)}}}("cell"),this._shouldRequestPage=!1}componentWillMount(){this.props.onListUpdate&&this.props.onListUpdate(this.state)}componentDidMount(){this._checkForPageRequest()}componentWillReceiveProps(e){const t=this._getListState(e);Object(d.a)(this.state,t)||this.setState(t)}shouldComponentUpdate(e,t){const a=this.props,n=this.state;return e.items!==a.items||e.size!==a.size||(e.viewportWidth!==a.viewportWidth||e.viewportHeight!==a.viewportHeight||(e.listTop!==a.listTop||e.listLeft!==a.listLeft||(e.isScrolling!==a.isScrolling||(e.skipRenderCells!==a.skipRenderCells||(e.layout!==a.layout||(e.cellRenderer!==a.cellRenderer||(t.visibleStartIndex!==n.visibleStartIndex||(t.visibleEndIndex!==n.visibleEndIndex||(t.partiallyVisibleStartIndex!==n.partiallyVisibleStartIndex||(t.partiallyVisibleEndIndex!==n.partiallyVisibleEndIndex||(t.renderStartIndex!==n.renderStartIndex||(t.renderEndIndex!==n.renderEndIndex||t.moveIndex!==n.moveIndex))))))))))))}componentWillUpdate(e,t){this.props.onListUpdate&&t!==this.state&&this.props.onListUpdate(t)}componentDidUpdate(){this._checkForPageRequest()}_getListState(e){const t=this._getListStyle(e),a=e.layout.getLandmarks&&e.layout.getLandmarks(),n=e.layout.getRangesForPosition(e.scrollTop,e.scrollLeft,e.size);return{listStyle:t,landmarks:a,visibleStartIndex:n.visibleStartIndex,visibleEndIndex:n.visibleEndIndex,partiallyVisibleStartIndex:n.partiallyVisibleStartIndex,partiallyVisibleEndIndex:n.partiallyVisibleEndIndex,renderStartIndex:n.renderStartIndex,renderEndIndex:n.renderEndIndex,moveIndex:e.moveIndex}}_getListStyle(e){const{size:t,layout:a,viewportWidth:n,viewportHeight:i,listTop:r,listLeft:s}=e,o={viewportWidth:n,viewportHeight:i,listTop:r,listLeft:s};return a.getListStyle(o,t)}_checkForPageRequest(){const e=this.state;this._shouldRequestPage&&(this._shouldRequestPage=!1,this.props.onPageRequest({startIndex:e.renderStartIndex,endIndex:e.renderEndIndex}))}renderCells(){const{keyPropName:e,items:t,itemsOffset:a,size:n,layout:i,hasNestedList:r,viewportWidth:s,viewportHeight:o,scrollLeft:c,scrollTop:d,cellRenderer:u,isScrolling:p,onPageRequest:m}=this.props,{moveIndex:h,renderStartIndex:g,renderEndIndex:y,partiallyVisibleStartIndex:f,partiallyVisibleEndIndex:b}=this.state;if(!n)return[];let v=n>t.length&&y===t.length-1;const I=this._keyPool.getKeys(g,y,t,a,e),S=[];return l.a.each(I,(a,m)=>{const g=a.index,y=a.item,I=g>=f&&g<=b,E=i.getPositionForIndex(g,n,t);(null===y||r)&&(v=!0);let O={key:m,keyPropName:e,isVirtual:!0,isVisible:I,isScrolling:p,moveIndex:h,viewportWidth:s,viewportHeight:o,cellIndex:g,cellX:E.cellX,cellY:E.cellY,cellWidth:E.cellWidth,cellHeight:E.cellHeight};r&&(O.scrollLeft=c,O.scrollTop=d),l.a.isString(y)?O[e]=y:O={...y,...O},S.push(u(O))}),this._shouldRequestPage=!!m&&(v&&!p),S}render(){const e=this._getListStyle(this.props),{className:t,isScrolling:a,skipRenderCells:n,children:r}=this.props;return s.a.createElement("div",{className:i()(t,a&&c.g),style:e},n?null:this.renderCells(),r)}}u.defaultProps={keyPropName:"entityID",items:[],itemsOffset:0,hasNestedList:!1,listTop:0,listLeft:0,isScrolling:!1,skipRenderCells:!1};t.a=u},pIhj:function(e,t,a){e.exports={pageHeaderRight:"PageHeaderRight-pageHeaderRight-1dljwG"}},pIrp:function(e,t,a){e.exports={item:"MetadataSummaryCell-item-3B6Ccq",isActionsMenuOpen:"MetadataSummaryCell-isActionsMenuOpen-2SCBd-",button:"MetadataSummaryCell-button-zZgSeN",hasActiveSelection:"MetadataSummaryCell-hasActiveSelection-3nabOz",underlay:"MetadataSummaryCell-underlay-3M2OQt",isForcingSelection:"MetadataSummaryCell-isForcingSelection-2Iov2k",overlay:"MetadataSummaryCell-overlay-1lk0o5",editButton:"MetadataSummaryCell-editButton-2RfiY7 MetadataSummaryCell-button-zZgSeN",moreButton:"MetadataSummaryCell-moreButton-1rf6AI MetadataSummaryCell-button-zZgSeN",isSelected:"MetadataSummaryCell-isSelected-fha5M-",selectButton:"MetadataSummaryCell-selectButton-3KJeM6 SelectButton-selectButton-3Kbjm9 MetadataSummaryCell-button-zZgSeN",alternateItem:"MetadataSummaryCell-alternateItem-3K1M60 MetadataSummaryCell-item-3B6Ccq",posterContainer:"MetadataSummaryCell-posterContainer-1Vc-ob",summaryContainer:"MetadataSummaryCell-summaryContainer-6HJG5t",librarySummaryContainer:"MetadataSummaryCell-librarySummaryContainer-HZdA_F MetadataSummaryCell-summaryContainer-6HJG5t",titleContainer:"MetadataSummaryCell-titleContainer-p5H3cg",title:"MetadataSummaryCell-title-3jmFb3",doubleTitle:"MetadataSummaryCell-doubleTitle-39TlXL",subtitle:"MetadataSummaryCell-subtitle-1bwT6w MetadataSummaryCell-title-3jmFb3",rating:"MetadataSummaryCell-rating-2QtpgP",separator:"MetadataSummaryCell-separator-2zu7c5 DashSeparator-separator-4CyEFW",summary:"MetadataSummaryCell-summary-2xqysY",shorterSummary:"MetadataSummaryCell-shorterSummary-33vpwE MetadataSummaryCell-summary-2xqysY",actions:"MetadataSummaryCell-actions-1C9ShK",selectCoverButton:"MetadataSummaryCell-selectCoverButton-2nF-uP"}},pLfD:function(e,t,a){e.exports={container:"AdvancedFilterGroup-container-2wnyxh",rules:"AdvancedFilterGroup-rules-26TNI9",inputContainer:"AdvancedFilterGroup-inputContainer-36jRFW",buttons:"AdvancedFilterGroup-buttons-3lsKMT ActionButtonBar-bar-BSTmw2"}},pNb9:function(e,t,a){"use strict";const n={sizes:{movie:"portrait",show:"portrait",season:"portrait",episode:"landscape",artist:"square",album:"square",track:"square",photo:"square",photoalbum:"square",clip:"landscape",playlist:"square",playlistFolder:"square",channel:"square",channelDirectory:"square",folder:"portrait",friend:"square",poster:"portrait",art:"landscape",banner:"banner",collection:"portrait"},ratios:{portrait:1/1.5,square:1,landscape:16/9,banner:5.2},getRatioByType:function(e){return this.ratios[this.sizes[e]]},getPosterWidthUsingRatio:function(e,t){return Math.round(this.ratios[e]*t)},getPosterHeightUsingRatio:function(e,t){return Math.round(this.ratios[e]&t)},getPosterWidth:function(e,t){return Math.round(t*this.getRatioByType(e))},getPosterHeight:function(e,t){return Math.round(t/this.getRatioByType(e))}};t.a=n},pQ98:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r}));const n="none",i="vertical",r="horizontal"},pQgm:function(e,t,a){e.exports={scroller:"SortableLineup-scroller-195UUm Scroller-scroller-3GqQcZ"}},pRYq:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="";return s+='<span class="message">',s+=(0,this.escapeExpression)((r=a.message)||"function"==typeof(r=t&&t.message)?r.call(t,{hash:{},data:i}):r)+"</span> "}))},pSrE:function(e,t,a){e.exports={container:"ChannelsGridRow-container-2sCkCm",title:"ChannelsGridRow-title-3AzG0n ChannelsGridRowTitle-container-2k8lvi",programsContainer:"ChannelsGridRow-programsContainer-TF5JSz",program:"ChannelsGridRow-program-1x1gRE ChannelsGridMetadataItemCell-container-2NM2za",progress:"ChannelsGridRow-progress-2ZqEd5"}},pWsU:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){var n,r="";return r+=' <option value="-1" ',((n=i(a("w+Xr")).call(e,null==(n=e&&e.selectedVideoQuality)||!1===n?n:n.index,-1,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===n)&&(r+=n),r+="> "+d(i(a("d8WC")).call(e,"Original",{hash:{},data:t}))+" </option> "}function p(e,t){return"selected"}function m(e,t,n){var r,s="";return s+=' <option value="'+d("function"==typeof(r=e&&e.index)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,null==(r=n&&n.selectedVideoQuality)||!1===r?r:r.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===r)&&(s+=r),s+="> "+d(i(a("HdxU")).call(e,e,{hash:{},data:t}))+" </option> "}function h(e,t,n){var r,s="";return s+=' <option value="'+d("function"==typeof(r=e&&e.index)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,null==(r=n&&n.selectedMusicQuality)||!1===r?r:r.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===r)&&(s+=r),s+="> "+d(i(a("806G")).call(e,e,{hash:{},data:t}))+" </option> "}function g(e,t,n){var r,s="";return s+=' <option value="'+d("function"==typeof(r=e&&e.index)?r.apply(e):r)+'" ',((r=i(a("w+Xr")).call(e,null==(r=n&&n.selectedPhotoQuality)||!1===r?r:r.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===r)&&(s+=r),s+="> "+d("function"==typeof(r=e&&e.title)?r.apply(e):r)+" </option> "}return((o=i(a("w+Xr")).call(t,t&&t.typeElement,"video",{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var a,i="";return i+=' <select class="sync-quality-select" name="videoQuality"> ',((a=n.if.call(e,e&&e.supportsOriginalQuality,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===a)&&(i+=a),i+=" ",((a=n.each.call(e,e&&e.availableVideoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(5,m,t,e),data:t}))||0===a)&&(i+=a),i+=" </select> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i(a("w+Xr")).call(t,t&&t.typeElement,"audio",{hash:{},inverse:c.noop,fn:c.program(7,(function(e,t){var a,i="";return i+=' <select class="sync-quality-select" name="musicQuality"> ',((a=n.each.call(e,e&&e.availableMusicQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(8,h,t,e),data:t}))||0===a)&&(i+=a),i+=" </select> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i(a("w+Xr")).call(t,t&&t.typeElement,"photo",{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){var a,i="";return i+=' <select class="sync-quality-select" name="photoQuality"> ',((a=n.each.call(e,e&&e.availablePhotoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(11,g,t,e),data:t}))||0===a)&&(i+=a),i+=" </select> "}),s),data:s}))||0===o)&&(l+=o),l+=' <p class="help-block">'+d(i(a("d8WC")).call(t,"Plex will convert your media to this quality and transfer the converted media to your device.",{hash:{},data:s}))+"</p> "}))},pWth:function(e,t,a){e.exports={noSources:"QuickSearchProviders-noSources-26m6pv"}},pXC0:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l}));var n=a("1Cr9");const i="none",r="video",s="audio",o="photo",l="rom",c=Object(n.a)(["id","typeString"],[{id:0,typeString:i},{id:1,typeString:r},{id:2,typeString:s},{id:3,typeString:o},{id:999,typeString:l}]);c.get,c.getAll},paCu:function(e,t,a){e.exports={statusContainer:"NavBarEmbeddedServerActivityMenuStatusItem-statusContainer-3czNOC NavBarActivityMenuStatusItem-statusContainer-Ml8vjL",statusTitle:"NavBarEmbeddedServerActivityMenuStatusItem-statusTitle-2LUdOL NavBarActivityMenuStatusItem-statusTitle-2hIH6G"}},pe6m:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("iZkF"),s=a("IIsI"),o=a("/MKj"),l=a("G4qV"),c=a("dOl7"),d=a("xa0o"),u=a("Zl7H"),p=a("JImT");var m=a("1Lwt"),h=a("l9jO"),g=a("naHd"),y=a("oSTF"),f=a("2pL0"),b=a("8HKk"),v=a("9wnK"),I=a("8vbc"),S=a("Zgl5"),E=a("uif/"),O=a("qNMu"),M=a("pQ98"),C=a("66GW"),j=a("Nca4"),D=a("DJkp"),P=a("9ZQ6"),T=a("Uia1"),w=a("graF"),N=a("wmCi"),x=a("tsFx"),A=a.n(x);var L=function(e){const{serverEntityID:t,metadataItemEntityID:a,watchTogetherRoomEntityID:r,users:s,isLoading:o,isInvitePending:l,isInviteCompleted:c,inviteError:d,onModalClose:u,dispatchCreateRoom:p,dispatchInviteUsers:m}=e,[h,g]=Object(n.useState)([]),x=!Object(E.a)(c)&&c&&!d;Object(n.useEffect)(()=>{x&&u()},[x,u]);const L=Object(n.useCallback)(e=>h.includes(e.id),[h]),k=Object(n.useCallback)(e=>{const t=h.includes(e)?h.filter(t=>t!==e):[...h,e];g(t)},[h]),R=Object(n.useCallback)(()=>{r?m({watchTogetherRoomEntityID:r,userIDs:h}):p({metadataItemEntityID:a,userIDs:h})},[a,r,h,p,m]),z=s.length>0;return i.a.createElement(N.a,{onModalClose:u},i.a.createElement(S.a,null,Object(C.default)("Watch Together")),d?i.a.createElement(w.a,{errorMessage:d}):null,i.a.createElement(v.a,{className:A.a.modalBody,scrollDirection:M.b},o?null:i.a.createElement("div",{className:A.a.message},z?Object(C.default)("Invite friends to watch with you."):i.a.createElement(j.a,{message:Object(C.default)("Add friends in {openSpan}Users & Sharing{closeSpan} to watch together."),tags:[{open:"openSpan",close:"closeSpan",component:f.a,kind:O.d,to:"#!/settings/users-sharing"}]})),o?i.a.createElement("div",{className:A.a.spinnerContainer},i.a.createElement(P.a,null)):null,!o&&z?i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,null,Object(C.default)("Users")),i.a.createElement(D.a,{className:A.a.list,serverEntityID:t,users:s,isUserSelected:L,onUserSelect:k})):null),i.a.createElement(I.a,{className:A.a.modalFooter},i.a.createElement(y.a,{onPress:u},Object(C.default)("Cancel")),i.a.createElement(T.a,{kind:O.d,isDisabled:l||0===h.length,isSpinning:l,onPress:R},Object(C.default)("Invite"))))};const k={dispatchFetchAllFriends:h.m,dispatchCreateRoom:g.a,dispatchInviteUsers:g.c,dispatchResetCreateRoom:g.e};var R=Object(o.b)((function(){return Object(l.a)(e=>e.ui.watchTogether,u.a,d.a,c.a,Object(l.a)((e,{watchTogetherRoomEntityID:t})=>t,p.a,(e,t)=>t[e]),(e,t,a,n,i)=>({users:a.reduce((e,t)=>{const a=n[t];return(!i||!i.users.find(e=>e.id===a.id))&&e.push(a),e},[]),isLoading:t.isAllFriendsPending,isInvitePending:e.isInvitePending,isInviteCompleted:e.isInviteCompleted,inviteError:e.inviteError}))}),k)((function(e){const{dispatchFetchAllFriends:t,dispatchResetCreateRoom:a,...r}=e;return Object(n.useEffect)(()=>{Object(m.a)(()=>{t()})},[t]),Object(n.useEffect)(()=>a,[a]),i.a.createElement(L,{...r})}));t.a=function(e){const{serverEntityID:t,metadataItemEntityID:a,watchTogetherRoomEntityID:n,metricsProperties:o,isOpen:l,onModalClose:c}=e;return i.a.createElement(s.a,{metricsPage:r.Ab,metricsProperties:o,isOpen:l,onModalClose:c},i.a.createElement(R,{serverEntityID:t,metadataItemEntityID:a,watchTogetherRoomEntityID:n,onModalClose:c}))}},pmMa:function(e,t,a){e.exports={sourceTitle:"HomeHubTitle-sourceTitle-39P-XL"}},pnnh:function(e,t,a){e.exports=function(e,t){function a(a){return{underscore:e,"./backbone-1.2.3+19b88d2+57e89d8":t}[a]}return function(e){function t(e){var a=t.cache[e];if(!a){var n={};a=t.cache[e]={id:e,exports:n},t.modules[e].call(n,a,n)}return a.exports}return t.cache=[],t.modules=[function(e,n){var i=a("underscore"),r=a("./backbone-1.2.3+19b88d2+57e89d8"),s=t(2),o=t(5),l=t(4),c=t(1),d=t(7);function u(e,t){this._superset=e,this._filtered=new s(e,t),this._sorted=new o(this._filtered,t),this._paginated=new l(this._sorted,t),c(this._paginated,this),d.call(this,this._filtered,m),d.call(this,this._sorted,h),d.call(this,this._paginated,g),this.initialize(t)}var p={superset:function(){return this._superset},getFilteredLength:function(){return this._filtered.length},removeTransforms:function(){return this._filtered.resetFilters(),this._sorted.removeSort(),this._paginated.removePagination(),this},destroy:function(){this.stopListening(),this._filtered.destroy(),this._sorted.destroy(),this._paginated.destroy(),this.length=0,this.trigger("obscura:destroy")}},m=["filtered:add","filtered:remove","filtered:reset"],h=["sorted:add","sorted:remove"],g=["paginated:change:perPage","paginated:change:page","paginated:change:numPages"];i.each(["filterBy","removeFilter","resetFilters","refilter","hasFilter","getFilters"],(function(e){p[e]=function(){var t=s.prototype[e].apply(this._filtered,arguments);return t===this._filtered?this:t}})),i.each(["setPerPage","setPage","getPerPage","getNumPages","getPage","hasNextPage","hasPrevPage","nextPage","prevPage","movePage","removePagination","firstPage","lastPage"],(function(e){p[e]=function(){var t=l.prototype[e].apply(this._paginated,arguments);return t===this._paginated?this:t}})),i.each(["setSort","reverseSort","removeSort"],(function(e){p[e]=function(){var t=o.prototype[e].apply(this._sorted,arguments);return t===this._sorted?this:t}})),i.each(["add","create","remove","set","reset","sort","parse","sync","fetch","push","pop","shift","unshift"],(function(e){p[e]=function(){throw new Error("Backbone.Obscura: Unsupported method: "+e+"called on read-only proxy")}})),i.extend(u.prototype,p,r.Events),(u=r.Collection.extend(u.prototype)).FilteredCollection=s,u.SortedCollection=o,u.PaginatedCollection=l,e.exports=u},function(e,t){var n=a("underscore"),i=a("./backbone-1.2.3+19b88d2+57e89d8"),r=["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],s=["add","remove","reset","sort","destroy","sync","request","error"];e.exports=function(e,t){function a(){t.length=e.length}var o={};return n.each(n.functions(i.Collection.prototype),(function(t){n.contains(r,t)||(o[t]=function(){return e[t].apply(e,arguments)})})),n.extend(t,i.Events,o),t.listenTo(e,"all",a),t.listenTo(e,"all",(function(a){var i=n.toArray(arguments),r="change"===a||"change:"===a.slice(0,7);"reset"===a&&(t.models=e.models),n.contains(s,a)?(n.contains(["add","remove","destroy"],a)?i[2]=t:n.contains(["reset","sort"],a)&&(i[1]=t),t.trigger.apply(this,i)):r&&t.contains(i[1])&&t.trigger.apply(this,i)})),t.models=e.models,a(),t}},function(e,n){var i=a("underscore"),r=a("./backbone-1.2.3+19b88d2+57e89d8"),s=t(1),o=t(3);function l(){this._filterResultCache={}}function c(e){for(var t in this._filterResultCache)this._filterResultCache.hasOwnProperty(t)&&delete this._filterResultCache[t][e]}function d(e,t){this._filters[e]&&c.call(this,e),this._filters[e]=t,this.trigger("filtered:add",e)}function u(e){delete this._filters[e],c.call(this,e),this.trigger("filtered:remove",e)}function p(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});var t=this._filterResultCache[e.cid];for(var a in this._filters)if(this._filters.hasOwnProperty(a)&&(t.hasOwnProperty(a)||(t[a]=this._filters[a].fn(e)),!t[a]))return!1;return!0}function m(e){e||(e={});var t=[];this._superset&&(t=this._superset.filter(i.bind(p,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length}function h(){m.call(this,{reset:!0})}function g(){var e=!(!this._superset||!this._superset.comparator);m.call(this,{reset:e})}function y(e){if(this._filterResultCache[e.cid]={},p.call(this,e)){if(!this._collection.get(e.cid)){for(var t=null,a=this.superset().indexOf(e)-1;a>=0;a-=1)if(this.contains(this.superset().at(a))){t=this.indexOf(this.superset().at(a))+1;break}t=t||0,this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length}function f(e){this._filterResultCache[e.cid]={},p.call(this,e)||this._collection.get(e.cid)&&this._collection.remove(e)}function b(e,t,a){"change:"===e.slice(0,7)&&f.call(this,arguments[1])}function v(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length}function I(e){this._superset=e,this._collection=new r.Collection(e.toArray()),s(this._collection,this),this.resetFilters(),this.listenTo(this._superset,"reset",h),this.listenTo(this._superset,"sort",g),this.listenTo(this._superset,"add change",y),this.listenTo(this._superset,"remove",v),this.listenTo(this._superset,"all",b)}var S={defaultFilterName:"__default",filterBy:function(e,t){return t||(t=e,e=this.defaultFilterName),d.call(this,e,o(t)),m.call(this),this},removeFilter:function(e){return e||(e=this.defaultFilterName),u.call(this,e),m.call(this),this},resetFilters:function(){return this._filters={},l.call(this),this.trigger("filtered:reset"),m.call(this),this},superset:function(){return this._superset},refilter:function(e){return"object"==typeof e&&e.cid?y.call(this,e):(l.call(this),m.call(this)),this},getFilters:function(){return i.keys(this._filters)},hasFilter:function(e){return i.contains(this.getFilters(),e)},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("filtered:destroy")}};i.extend(I.prototype,S,r.Events),e.exports=I},function(e,t){var n=a("underscore");function i(e,t){return n.isArray(t)||(t=null),{fn:e,keys:t}}e.exports=function(e,t){return n.isFunction(e)?i(e,t):n.isObject(e)?function(e){var t=n.keys(e),a=n.map(t,(function(t){var a=e[t];return n.isFunction(a)?function(e,t){return function(a){return t(a.get(e))}}(t,a):function(e,t){return function(a){return a.get(e)===t}}(t,a)}));return i((function(e){for(var t=0;t<a.length;t++)if(!a[t](e))return!1;return!0}),t)}(e):void 0}},function(e,n){var i=a("underscore"),r=a("./backbone-1.2.3+19b88d2+57e89d8"),s=t(1);function o(){var e=this.getPage()*this.getPerPage();return[e,e+this.getPerPage()]}function l(){var e=o.call(this);this._collection.reset(this.superset().slice(e[0],e[1]))}function c(){this._totalPages;var e=this.superset().length,t=this.getPerPage(),a=e%t==0?e/t:Math.floor(e/t)+1,n=this._totalPages!==a;if(this._totalPages=a,n&&this.trigger("paginated:change:numPages",{numPages:a}),this.getPage()>=a)return this.setPage(a-1),!0}function d(){c.call(this)||l.call(this)}function u(e,t){for(var a=i.max([e.length,t.length]),n=0,r=0;n<a;n+=1,r+=1)if(e[n]!==t[r])if(t[n-1]===e[n])r-=1;else{if(t[n+1]!==e[n])return e[n];r+=1}}function p(e,t,a){if(!c.call(this)){var n=o.call(this),i=n[0],r=n[1],s=u(this.superset().slice(i,r),this._collection.toArray()),l=u(this._collection.toArray(),this.superset().slice(i,r));l&&this._collection.remove(l),s&&this._collection.add(s,{at:this.superset().indexOf(s)-i})}}function m(e,t){this._superset=e,this._collection=new r.Collection(e.toArray()),this._page=0,this.setPerPage(t&&t.perPage?t.perPage:null),s(this._collection,this),this.listenTo(this._superset,"add remove",p),this.listenTo(this._superset,"reset sort",d)}var h={removePagination:function(){return this.setPerPage(null),this},setPerPage:function(e){return this._perPage=e,d.call(this),this.setPage(0),this.trigger("paginated:change:perPage",{perPage:e,numPages:this.getNumPages()}),this},setPage:function(e){var t=this.getNumPages()-1;return e=(e=(e=e>0?e:0)<t?e:t)<0?0:e,this._page=e,l.call(this),this.trigger("paginated:change:page",{page:e}),this},getPerPage:function(){return this._perPage||this.superset().length||1},getNumPages:function(){return this._totalPages},getPage:function(){return this._page},hasNextPage:function(){return this.getPage()<this.getNumPages()-1},hasPrevPage:function(){return this.getPage()>0},nextPage:function(){return this.movePage(1),this},prevPage:function(){return this.movePage(-1),this},firstPage:function(){this.setPage(0)},lastPage:function(){this.setPage(this.getNumPages()-1)},movePage:function(e){return this.setPage(this.getPage()+e),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this._page=0,this._totalPages=0,this.length=0,this.trigger("paginated:destroy")}};i.extend(m.prototype,h,r.Events),e.exports=m},function(e,n){var i=a("underscore"),r=a("./backbone-1.2.3+19b88d2+57e89d8"),s=t(1),o=t(6);function l(e){return i.isFunction(e)?e:function(t){return t.get(e)}}function c(e){return this._comparator?this._reverse?o(this._collection.toArray(),e,l(this._comparator)):i.sortedIndex(this._collection.toArray(),e,l(this._comparator)):this._superset.indexOf(e)}function d(e){var t=c.call(this,e);this._collection.add(e,{at:t})}function u(e){this.contains(e)&&this._collection.remove(e)}function p(e){this.contains(e)&&this._collection.indexOf(e)!==c.call(this,e)&&(this._collection.remove(e),d.call(this,e))}function m(){if(this._comparator){var e=this._superset.sortBy(this._comparator);this._collection.reset(this._reverse?e.reverse():e)}else this._collection.reset(this._superset.toArray())}function h(e){this._superset=e,this._reverse=!1,this._comparator=null,this._collection=new r.Collection(e.toArray()),s(this._collection,this),this.listenTo(this._superset,"add",d),this.listenTo(this._superset,"remove",u),this.listenTo(this._superset,"change",p),this.listenTo(this._superset,"reset",m)}var g={setSort:function(e,t){return this._reverse="desc"===t,this._comparator=e,m.call(this),e?this.trigger("sorted:add"):this.trigger("sorted:remove"),this},reverseSort:function(){return this._reverse=!this._reverse,m.call(this),this},removeSort:function(){return this.setSort(),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("sorted:destroy")}};i.extend(h.prototype,g,r.Events),e.exports=h},function(e,t){var n=a("underscore");e.exports=function(e,t,a,i){for(var r=(a=null==a?n.identity:function(e){return n.isFunction(e)?e:function(t){return t[e]}}(a)).call(i,t),s=0,o=e.length;s<o;){var l=s+o>>>1;a.call(i,e[l])<r?o=l:s=l+1}return s}},function(e,t){var n=a("underscore");e.exports=function(e,t){n.each(t,(function(t){this.listenTo(e,t,(function(){var e=n.toArray(arguments);e.unshift(t),this.trigger.apply(this,e)}))}),this)}}],t(0)}()}(a("F/us"),a("zLeb"))},prlC:function(e,t,a){"use strict";a.d(t,"k",(function(){return Y})),a.d(t,"j",(function(){return Z})),a.d(t,"o",(function(){return X})),a.d(t,"l",(function(){return J})),a.d(t,"a",(function(){return $})),a.d(t,"n",(function(){return ee})),a.d(t,"b",(function(){return te})),a.d(t,"h",(function(){return ae})),a.d(t,"d",(function(){return ne})),a.d(t,"g",(function(){return ie})),a.d(t,"e",(function(){return re})),a.d(t,"f",(function(){return se})),a.d(t,"i",(function(){return oe})),a.d(t,"c",(function(){return le})),a.d(t,"m",(function(){return ue}));var n=a("EVdn"),i=a.n(n),r=a("ICb1"),s=a("rG0a"),o=a("+X4A"),l=a("cgRT"),c=a("EPph"),d=a("92Vb"),u=a("GdCd"),p=a("hFBU"),m=a("INWF"),h=a("t2mA"),g=a("5XbV"),y=a("YINS"),f=a("+fvj"),b=a("x181"),v=a("7S2Z"),I=a("FjJJ"),S=a("0jae"),E=a("vOHB"),O=a("kwss"),M=a("BBrP");var C=function(e,t,a,n){if(function(e,t){if(!e.get("isFullServer"))return!1;if(E.a.isHostedHttps&&!O.a.allowMixedContent)return!1;const a=t===M.a.ALWAYS,n=t===M.a.SAME_NETWORK;return!!(a||n&&e.get("publicAddressMatches"))}(e,n)){const n=e.addConnection({scheme:"http",address:t,port:a,isFallback:!0});Object(S.a)("[Connections] Added insecure fallback connection for %s at %s",e.get("debugName"),n.id)}else S.a.warn("[Connections] Prevented fallback to insecure connection for",e.get("debugName"))},j=a("1Lwt"),D=a("66GW"),P=a("osxg"),T=a("1DJO"),w=a("T+Fn"),N=a("UFJ+"),x=a("YsE3"),A=a("l9jO"),L=a("w41d"),k=a("F/us"),R=a.n(k),z=a("QJ4M"),U=a("4B5B"),V=a("+Obf"),B=a("Y0bH"),F=a.n(B);var H=U.a.extend({className:"alert-bar notify",template:F.a,events:R.a.extend({"click .setup-link":"onSetupClick"},U.a.prototype.events),serializeData(){return{model:this.model.get("model"),make:this.model.get("make"),dvrSettingsRoute:Object(V.a)(this.options.machineIdentifier,"manage","dvr")}},disableDevice(){const e=Object(l.c)("appStore"),t=this.options.serverEntityID;t&&e.dispatch(Object(z.C)({serverEntityID:t,deviceID:this.model.id,enabled:!1}))},onSetupClick(){this.hide(),this.disableDevice()},onCloseClick(e){U.a.prototype.onCloseClick.apply(this,arguments),this.disableDevice()}}),_=a("5WoL"),W=a("8b/l"),Q=a("HVP4"),G=a.n(Q),K=W.a.extend({template:G.a,events:R.a.extend({"click .learn-more":"onLearnMoreClick"},W.a.prototype.events),onRender:function(){W.a.prototype.onRender.apply(this,arguments),Object(l.c)("metrics").trackView({page:"relayNotification",mode:"modal",action:y.t},{interaction:!1})},onHide(e){W.a.prototype.onHide.apply(this,arguments),Object(l.c)("metrics").trackClick({page:"relayNotification",mode:"modal",action:y.t})},onLearnMoreClick(){Object(l.c)("metrics").trackClick({page:"relayNotification",mode:"modal",action:y.E})},serializeData(){return{serverName:this.options.serverName,escapedServerName:R.a.escape(this.options.serverName)}}});const Y=Object(r.a)("server/redispatchLegacyServerAction"),q=Object(r.a)("server/fetchSettings"),Z=Object(r.a)("server/populateSettings"),X=Object(r.a)("server/updateSetting"),J=Object(r.a)("server/saveSetting"),$=Object(r.a)("server/addLibrary"),ee=Object(r.a)("server/startLibrariesRefresh"),te=Object(r.a)("server/allowHttpFallback"),ae=Object(r.a)("server/optimizeDatabase"),ne=Object(r.a)("server/cleanBundles"),ie=Object(r.a)("server/emptyTrash"),re=Object(r.a)("server/deleteServer"),se=Object(r.a)("server/discoverMediaGrabberDevice"),oe=Object(r.a)("server/populateHasiTunes"),le=Object(r.a)("server/startLibrariesRefresh",e=>({...e,cancel:!0}));function ce(e,t){Object(l.c)("metrics").trackClick({page:t,action:e,context:f.SERVER})}function de(e,t){const a=Object(L.k)(e,t),n=Object(L.j)(e,t).get("settings").get(t.setting.id);if(n){const e=n.parse(t.setting);n.set("value",e.value),"FriendlyName"===e.id&&e.value?a.set("friendlyName",e.value):"allowMediaDeletion"===e.id&&a.set("allowMediaDeletion",e.value)}}const ue={[p.m]:p.x[p.m],[p.n]:p.x[p.n],[p.k]:p.x[p.k],[p.o]:p.x[p.o],[p.g]:p.x[p.g],[p.l]:p.x[p.l],[p.h]:p.x[p.h],[p.d]:p.x[p.d],[p.c]:p.x[p.c],[p.f]:p.x[p.f],[p.j]:p.x[p.j],[p.e]:p.x[p.e],[p.i]:p.x[p.i],"server/redispatchLegacyServerAction"(e,t,a){const{serverModel:n,providerModel:i}=Object(N.a)(e,t);a({type:t.legacyAction.type,payload:{...t.legacyAction.payload,serverEntityID:n.entityID(),providerEntityID:i.entityID()}})},"server/fetchSettings":Object(d.a)({key:"settings",getModel:L.j}),"server/populateSettings":Object(u.a)({key:"settings",fetchActionCreator:q,getModel:L.j}),"server/updateSetting"(e,t){de(e,t)},"server/saveSetting"(e,t){const a=Object(L.j)(e,t).get("settings").get(t.setting.id);Object(j.a)(()=>a.set({isSaving:!0})),de(e,t),a.save().then(()=>a.set({isSaving:!1}),()=>a.set({isSaving:!1}))},[p.b](e,{machineIdentifier:t,serverName:a},n){const i=e.get("user").get("experienceSettings").get("reminders"),r=Object(P.a)(b.a,t),o=i.get(r);if(o&&!Object(v.a)(o.get("remindAfter")))return;const l=new K({serverName:a});s.a.trigger("show:modal",l),n(Object(A.J)({id:r}))},[p.a](e,t){const a=Object(L.k)(e,t),n=e.get("user").get("experienceSettings").get("allowHttpFallback");C(a,t.address,t.port,n)},"server/addLibrary"(e,t){const a=Object(L.k)(e,t),{options:n={}}=t,i=new _.a({server:a,redirect:!1!==t.redirect,...n});s.a.trigger("show:modal",i),ce(y.a,t.metricsPage)},"server/startLibrariesRefresh"(e,t,a){const{cancel:n,force:i,metricsPage:r}=t,s=Object(L.k)(e,t),o={serverModel:s,libraryID:"all",cancel:n,force:i,allowMetrics:!!r,metricsProperties:{page:r}};if(t.cancel){Object(L.j)(e,t).get("libraries").each(e=>e.set("refreshing",!1))}Object(x.a)(s,o).fail(()=>{const e=t.cancel?Object(D.default)("There was a problem canceling the update."):Object(D.default)("There was a problem updating libraries.");a(Object(m.d)(e))}).always(()=>{a(Object(p.t)({serverEntityID:t.serverEntityID}))})},"server/allowHttpFallback"(e,t,a){a(Object(h.l)({allowHttpFallback:t.allowHttpFallback})),a(Object(p.A)({serverEntityID:t.serverEntityID}))},"server/optimizeDatabase"(e,t,a){const n=Object(L.k)(e,t),r=Object(L.j)(e,t),s=n.supports("optimizeDatabaseActivity"),l=o.default.join("/library/optimize",s?{async:1}:{}),c=n.getXHROptions(l,{type:"PUT"});a(Object(p.z)({serverEntityID:t.serverEntityID,activityType:I.l})),r.set({optimizeDatabaseError:null}),i.a.ajax(c).done(()=>{s||a(Object(p.w)({serverEntityID:t.serverEntityID,activityType:I.l}))}).fail(()=>{r.set({optimizeDatabaseError:Object(D.default)("There was a problem optimizing the database.")}),a(Object(p.w)({serverEntityID:t.serverEntityID,activityType:I.l})),t.hideAlerts||a(Object(m.d)(Object(D.default)("There was a problem optimizing the database.")))}),ce(y.K,t.metricsPage)},"server/cleanBundles"(e,t,a){const n=Object(L.k)(e,t),r=Object(L.j)(e,t),s=n.supports("cleanBundlesActivity"),l=o.default.join("/library/clean/bundles",s?{async:1}:{}),c=n.getXHROptions(l,{type:"PUT"});a(Object(p.z)({serverEntityID:t.serverEntityID,activityType:I.b})),r.set({cleanBundlesError:null}),i.a.ajax(c).done(()=>{s||a(Object(p.w)({serverEntityID:t.serverEntityID,activityType:I.b}))}).fail(()=>{r.set({cleanBundlesError:Object(D.default)("There was a problem removing unused bundles.")}),a(Object(p.w)({serverEntityID:t.serverEntityID,activityType:I.b})),t.hideAlerts||a(Object(m.d)(Object(D.default)("There was a problem removing unused bundles.")))}),ce(y.m,t.metricsPage)},"server/emptyTrash"(e,t,a){const n=Object(L.k)(e,t),r=Object(L.j)(e,t).get("libraries");(t.libraryID?i.a.Deferred().resolve([t.libraryID]).promise():r.populate().then(()=>r.map(({id:e})=>e))).then(e=>{const t=e.map(e=>i.a.ajax(n.getXHROptions(`/library/sections/${e}/emptyTrash`,{type:"PUT"})));return i.a.when(...t)}).then(()=>{a(Object(m.d)({type:g.b,message:Object(D.default)("The trash was emptied.")}))},e=>{a(Object(m.d)(Object(D.default)("There was a problem emptying the trash.")))}),ce(y.z,t.metricsPage)},"server/deleteServer"(e,t,a){const n=Object(L.k)(e,t),r=e.get("cloudServer");if(!n)return;if(r.get("isResolved")){const e=r.getXHROptions("/api/servers/"+n.id,{type:"DELETE"});i.a.ajax(e)}const s=r.get("resources").get(n.id);if(s&&s.trigger("destroy",s,s.collection),n.get("isFullOwnedServer")&&n.get("isConnected")){n.get("desktop").get("cloudAccount").destroy().done(()=>{n.set({myPlexSigninState:c.a,myPlexSubscription:!1})}).always(()=>{a(Object(p.A)({serverEntityID:t.serverEntityID})),n.populate().fail((function(){n.trigger("destroy",n,n.collection),a(Object(w.i)({route:"home"}))}))})}else n.trigger("destroy",n,n.collection),a(Object(w.i)({route:"home"}));ce(y.r,t.metricsPage)},"server/discoverMediaGrabberDevice"(e,t){const a=Object(L.k)(e,t),n=e.get("ui").get("dvrSettingsUI"),i=t.device;if(n.get("isUIPopulated"))return;const r=new H({model:new T.a(i,{parse:!0}),serverEntityID:t.serverEntityID,machineIdentifier:a.get("machineIdentifier")});s.a.trigger("show:bar","alertbar",r)},"server/populateHasiTunes"(e,t){const a=Object(L.k)(e,t),n=Object(L.j)(e,t);if(!n.get("isHasiTunesPopulated")){const e=o.default.join("/music/iTunes"),t=a.getXHROptions(e);i.a.ajax(t).done(()=>{n.set({hasiTunes:!0,isHasiTunesPopulated:!0})}).fail(()=>{n.set({hasiTunes:!1,isHasiTunesPopulated:!0})})}}}},puJ8:function(e,t,a){e.exports={title:"ConflictTitle-title-1g7j7l",secondaryTitle:"ConflictTitle-secondaryTitle-2kiOLQ"}},pxcU:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR"),r=a("HQmg");const s=n.a.extend({name:"FilterModel",context:["server","section","type","standalone"],idAttribute:"filter",rootPropertyName:"Directory",defaults:{advanced:!1},syncedAttrs:{filter:i.a.string,filterType:i.a.string,type:i.a.string,key:i.a.string,title:i.a.string,advanced:i.a.boolean},syncedRelations:{options:{relationClass:r.a}}});t.a=s},pyTO:function(e,t,a){"use strict";var n=a("66GW");const i={NONE:0,TV_ONLY:1,TV_AND_DVR:2};i.options={[i.NONE]:()=>Object(n.default)("No Live TV and DVR access"),[i.TV_ONLY]:()=>Object(n.default)("Allow Live TV only"),[i.TV_AND_DVR]:()=>Object(n.default)("Allow Live TV and DVR access")},i.values=Object.keys(i.options).map(e=>({[e]:i.options[e]})),t.a=i},q1ww:function(e,t,a){"use strict";var n,i,r,s,o,l,c,d,u,p,m,h,g,y,f,b,v,I,S,E,O;a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return h})),a.d(t,"e",(function(){return y})),(i=n||(n={})).Movie="movie",i.Show="show",i.Season="season",i.Episode="episode",i.Person="person",i.Artist="artist",i.Album="album",i.Track="track",i.Clip="clip",i.Photo="photo",i.Game="game",i.PhotoAlbum="photoalbum",i.Playlist="playlist",i.Collection="collection",i.Directory="directory",i.Channel="channel",i.Hub="hub",i.List="list",(s=r||(r={}))[s.Movie=1]="Movie",s[s.Show=2]="Show",s[s.Season=3]="Season",s[s.Episode=4]="Episode",s[s.Person=7]="Person",s[s.Artist=8]="Artist",s[s.Album=9]="Album",s[s.Track=10]="Track",s[s.Clip=12]="Clip",s[s.Photo=13]="Photo",s[s.PhotoAlbum=14]="PhotoAlbum",s[s.Playlist=15]="Playlist",s[s.Collection=18]="Collection",s[s.Game=19]="Game",(l=o||(o={})).Podcast="podcast",l.Webshow="webshow",l.News="news",l.Movie="movie",l.Show="show",l.Artist="artist",l.Album="album",l.Trailer="trailer",l.DeletedScene="deletedScene",l.Interview="interview",l.MusicVideo="musicVideo",l.BehindTheScenes="behindTheScenes",l.SceneOrSample="sceneOrSample",l.LiveMusicVideo="liveMusicVideo",l.LyricMusicVideo="lyricMusicVideo",l.Concert="concert",l.Featurette="featurette",l.Short="short",l.Other="other",l.Photo="photo",l.Clip="clip",(d=c||(c={}))[d.Trailer=1]="Trailer",d[d.DeletedScene=2]="DeletedScene",d[d.Interview=3]="Interview",d[d.MusicVideo=4]="MusicVideo",d[d.BehindTheScenes=5]="BehindTheScenes",d[d.SceneOrSample=6]="SceneOrSample",d[d.LiveMusicVideo=7]="LiveMusicVideo",d[d.LyricMusicVideo=8]="LyricMusicVideo",d[d.Concert=9]="Concert",d[d.Featurette=10]="Featurette",d[d.Short=11]="Short",d[d.Other=12]="Other",(p=u||(u={})).Video="video",p.Audio="audio",p.Photo="photo",p.Rom="rom",(m||(m={})).VMAP="vmap",(g=h||(h={}))[g.Video=1]="Video",g[g.Audio=2]="Audio",g[g.Subtitles=3]="Subtitles",g[g.Lyrics=4]="Lyrics",(f=y||(y={})).Video="videoStreamID",f.Audio="audioStreamID",f.Subtitles="subtitleStreamID",f.Lyrics="lyricStreamID",(v=b||(b={})).North="north",v.NorthEast="northeast",v.East="east",v.SouthEast="southeast",v.South="south",v.SouthWest="southwest",v.West="west",v.NorthWest="northwest",v.Center="center",(S=I||(I={})).Small="small",S.Medium="medium",S.Large="large",(O=E||(E={})).Absolute="absolute",O.Relative="relative"},q3pM:function(e,t,a){e.exports={loadingItem:"SharedItemMetadataCellLoading-loadingItem-2GrG2c",alternateLoadingItem:"SharedItemMetadataCellLoading-alternateLoadingItem-1xEfhx SharedItemMetadataCellLoading-loadingItem-2GrG2c",posterContainer:"SharedItemMetadataCellLoading-posterContainer-3rtpMI"}},q8w4:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("w0qY"),s=a("+9Fr"),o=a.n(s);function l(e){return i.a.createElement(r.a,{...e})}l.defaultProps={className:o.a.badge},t.a=l},qBny:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("pIhj"),s=a.n(r);function o({className:e,children:t}){return i.a.createElement("div",{className:e},t)}o.defaultProps={className:s.a.pageHeaderRight},t.a=o},qCD8:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-radio-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"M67.585 105.999c13.653-12.146 29.63-2.91 34.582 2.12 7.857 7.98 7.27 15.873 5.452 19.688-1.351 2.836-3.028 5.453-6.664 9.996-17.568 20.597-29.986 42.405-39.073 67.243-14.538 39.982-16.356 85.112-5.451 126.912 8.48 30.895 23.321 59.064 44.222 83.903 4.846 5.45 6.057 7.268 7.269 11.205.606 2.122.606 8.179-.303 10.905-1.817 5.755-6.058 10.299-12.116 12.418-1.515.606-17.907 5.469-28.827-3.028-1.818-1.211-8.482-8.785-13.327-15.145-28.17-36.044-46.04-79.056-51.493-124.792-2.422-19.082-2.422-40.588-.302-59.671 5.755-49.371 25.745-95.714 57.852-133.575 4.847-5.756 5.8-6.063 8.179-8.179zm80.238 77.238c8.986-10.49 24.838-16.15 37.2-5.61 12.362 10.538 8.589 23.784 3.439 30.447-13.63 16.356-21.505 34.228-24.534 55.43-.605 4.846-.908 16.356-.303 21.808 1.817 23.323 10.602 43.92 25.746 61.791 3.938 4.544 5.754 7.875 6.058 13.024.605 8.785-5.474 16.513-13.933 19.386-17.87 6.067-29.13-3.332-35.49-10.904-25.747-32.107-36.652-72.998-30.593-114.192 3.938-26.049 15.03-50.896 32.41-71.18zm128.276 149.264c-14.384-.7-26.663-6.3-36.837-16.1-10.876-11.2-16.138-24.15-16.138-39.55 0-15.398 5.262-28.35 16.138-39.549 11.225-10.85 24.207-16.1 39.643-16.1 15.437 0 28.416 5.25 39.644 16.1 10.874 11.199 16.137 24.15 16.137 39.55 0 15.4-5.263 28.349-16.137 39.55-10.526 10.15-22.804 15.75-37.54 16.1-1.753.349-4.209.349-4.91 0zm214.318-226.503c2.379 2.117 3.332 2.423 8.179 8.178 32.107 37.862 52.097 84.205 57.852 133.576 2.12 19.084 2.12 40.588-.302 59.671-5.453 45.736-23.324 88.748-51.492 124.792-4.846 6.36-11.51 13.933-13.328 15.145-10.92 8.496-27.312 3.635-28.827 3.029-6.058-2.12-10.299-6.664-12.116-12.419-.909-2.726-.909-8.785-.303-10.904 1.212-3.938 2.423-5.755 7.269-11.207 20.9-24.837 35.742-53.007 44.222-83.901 10.905-41.8 9.087-86.932-5.45-126.913-9.088-24.837-21.506-46.647-39.075-67.243-3.635-4.543-5.312-7.16-6.663-9.996-1.817-3.815-2.405-11.709 5.452-19.688 4.952-5.028 20.928-14.266 34.582-2.12zm-80.431 77.238c17.379 20.284 28.473 45.131 32.41 71.18 6.058 41.194-4.846 82.084-30.592 114.191-6.36 7.573-17.62 16.972-35.49 10.905-8.46-2.873-14.54-10.601-13.934-19.386.303-5.15 2.12-8.481 6.057-13.024 15.145-17.87 23.93-38.468 25.746-61.79.606-5.453.303-16.963-.302-21.809-3.028-21.202-10.905-39.073-24.534-55.43-5.15-6.664-8.923-19.909 3.438-30.447 12.363-10.54 28.214-4.88 37.2 5.61z"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},qGiH:function(e,t,a){e.exports={description:"AccountPage-description-2EgbIA",sectionDetails:"AccountPage-sectionDetails-1Td4Vy SettingsFormSectionDetails-sectionDetails-2rJ3jd"}},qKkM:function(e,t,a){"use strict";a.d(t,"b",(function(){return p}));var n=a("i7Pf"),i=a("M8LJ"),r=a("q1ww"),s=a("zDCE"),o=a("lHKw"),l=a("tI86");var c=a("aG+b"),d=a("/zOi");var u=({server:e,provider:t,data:a})=>{var n,i,u,p,m;const h=null!=(n=null==a?void 0:a.MediaContainer)?n:{},{Metadata:g=[],Directory:y,...f}=h,b=t?function(e,t){var a;const n=Object(l.a)(e,o.e.Content);if(!n)return;return(null!=(a=null==n?void 0:n.directories)?a:[]).find(e=>!!e.id&&e.id===t)}(t,String(f.librarySectionID)):void 0;null==(u=null==(i=null==f?void 0:f.Meta)?void 0:i.Type)||u.forEach(e=>{e.type===s.b.Movie&&(null==b?void 0:b.agent)===o.a.None&&null==e.subtype&&(e.subtype=r.c.Clip)});const{metadataItems:v,metadataItemStates:I}=Object(d.a)({server:e,provider:t,data:null!=y?y:g,container:f});return{items:v,totalSize:null!=(p=null==f?void 0:f.totalSize)?p:0,size:null==f?void 0:f.size,offset:null!=(m=null==f?void 0:f.offset)?m:0,meta:Object(c.a)(null==f?void 0:f.Meta),title:null==f?void 0:f.title,metadataItemStates:I}};const p=Object(i.a)((e,t)=>e[t.sourceURI],u),m=Object(n.c)({name:"metadataLists",initialState:{},reducers:{...p.reducers,added(e,{payload:t}){t.metadataLists.forEach(t=>{e[t.sourceURI]={...p.getDefaultPaginatedState(),...t}})},throttledRepopulateRangeRequested(e,t){},throttledFetchAllRequested(e,t){}}});t.a=m},qM40:function(e,t,a){e.exports={container:"UsersSettingsRowName-container-2JjONh",titleContainer:"UsersSettingsRowName-titleContainer-3LIPWK",title:"UsersSettingsRowName-title-kkZcaJ",subtitle:"UsersSettingsRowName-subtitle-2kYoSI",statusContainer:"UsersSettingsRowName-statusContainer-WYR7Dv",status:"UsersSettingsRowName-status-3Dp2rT",admin:"UsersSettingsRowName-admin-3uMu0o"}},qNMu:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));const n="default",i="primary",r="danger",s="dark"},qNtb:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("CHn6");const s=r.a.extend({additionalRelations:[],copyFromModel(e,t){this._copy(e,this,t)},copyToModel(e,t){this._copy(this,e,t)},_copy(e,t,a={}){const n=!!t.releaseCapturedChangeEvents;n||t.startCapturingChangeEvents(),this._copyAttributes(e,t,a),this._copyRelations(e,t,a),n||t.releaseCapturedChangeEvents()},_copyAttributes(e,t,a){const n={};i.a.each(this.syncedAttrs,(t,i)=>{a.included&&!a.included.includes(i)||(n[i]=e.get(i))}),t.set(n)},_copyRelations(e,t,a){i.a.each(this.syncedRelations,(n,i)=>{if(a.included&&!a.included.includes(i))return;if(this.additionalRelations.includes(i))return;const s=e.get(i),o=t.get(i);if(s&&o){const e=s.toJSON();o instanceof r.a?o.set(o.parse(e)):o.set(e,{parse:!0})}})}});t.a=s},qNzc:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));const n="stopped",i="playing",r="paused",s="buffering",o="error"},qOmw:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("66GW"),s=a("RlGa");t.a=function(){return i.a.createElement(s.a,{title:Object(r.default)("No soup for you!"),description:Object(r.default)("You do not have access to this server")})}},"qP+I":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("iZkF"),s=a("IIsI"),o=a("/MKj"),l=a("G4qV"),c=a("xSXQ"),d=a("Xyf0"),u=a("TpIi"),p=a("oSTF"),m=a("hOze"),h=a("9wnK"),g=a("8vbc"),y=a("Gkyr"),f=a("qNMu"),b=a("pQ98"),v=a("66GW"),I=a("1cGo"),S=a("Zgl5"),E=a("graF"),O=a("wmCi"),M=a("aIFf");var C=function(e){const{children:t,metadataItem:a,isAddingHomeUser:n,isCreatingManagedUser:r,isSharingSingleLibrary:s,errorMessage:o,onModalClose:l}=e;let c;return c=a?Object(v.default)("Share {metadataTitle}",{metadataTitle:Object(M.a)(a,I.a)}):n?Object(v.default)("Invite Home User"):r?Object(v.default)("Create Managed User"):s?Object(v.default)("Share Library"):Object(v.default)("Add A Friend"),i.a.createElement(O.a,{onModalClose:l},i.a.createElement(S.a,null,c),o?i.a.createElement(E.a,{errorMessage:o}):null,t)},j=a("Uia1"),D=a("3518"),P=a("wIt8"),T=a.n(P);var w=function(e){const{onNext:t,onModalClose:a,...n}=e;return i.a.createElement(m.b,{className:T.a.form,onSubmit:t},i.a.createElement(C,{onModalClose:a,...n},i.a.createElement(h.a,{className:T.a.modalBody,scrollDirection:b.b},i.a.createElement(D.a,{className:T.a.warning}),i.a.createElement("div",null,Object(v.default)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices."))),i.a.createElement(g.a,null,i.a.createElement(y.a,null,i.a.createElement(p.a,{onPress:a},Object(v.default)("Cancel")),i.a.createElement(j.a,{type:"submit",kind:f.d},Object(v.default)("Continue"))))))};const N={onNext:u.m};var x=Object(o.b)(null,N)(w),A=a("MCZW"),L=a("2bcr"),k=a("GhQZ"),R=a("GWGF"),z=a("L395"),U=a("9ZQ6"),V=a("hHWh"),B=a("2pL0"),F=a("f+Ik"),H=a("mvw6"),_=a("XgVp"),W=a("BoiH"),Q=a("xyiB"),G=a("BoH4"),K=a.n(G);var Y=Object(Q.a)((function(e){return i.a.createElement(W.a,{className:K.a.input,...e})})),q=a("ygGu"),Z=a.n(q);function X(e){return i.a.createElement(W.a,{...e})}X.defaultProps={className:Z.a.input};var J=Object(Q.a)(X),$=a("Z2Ww"),ee=a.n($);const te=parseInt(_.a.serverShareListRowHeight,10);class ae extends n.Component{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onAllLibrariesToggle=()=>{this.setState({isAllLibrariesChecked:!this.state.isAllLibrariesChecked})};const{sourceServer:a,serverOverview:n,serverShare:i,selectedAllLibrariesMachineIdentifiers:r}=e;this.state={isCollapsed:a.machineIdentifier!==H.a&&a.machineIdentifier!==n.machineIdentifier,isAllLibrariesChecked:null!=r?r.includes(n.machineIdentifier):!(!i||!i.allLibraries)}}render(){const{sourceDirectory:e,sourceServer:t,serverOverview:a,serverShare:n,selectedLibrarySectionIDs:r}=this.props,{isAllLibrariesChecked:s,isCollapsed:o}=this.state,{machineIdentifier:l,name:c,sections:d}=a,u={maxHeight:o?0:(d.length||1)*te},p=e&&e.id;let m=c;return s&&(m+=` (${Object(v.default)("All Libraries")})`),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:ee.a.header},i.a.createElement(B.a,{className:s?ee.a.toggleButtonHidden:ee.a.toggleButton,onPress:this.onTogglePress},i.a.createElement(V.a,{direction:o?F.b:F.a})),i.a.createElement(Y,{name:JSON.stringify({[R.a]:l}),checkboxText:m,initialValue:s,onChange:this.onAllLibrariesToggle})),i.a.createElement("div",{className:ee.a.libraries,style:u},s||0!==d.length?null:i.a.createElement("div",{className:ee.a.emptyMessage},Object(v.default)("No libraries")),d.map(e=>{const{id:a,key:o,title:c}=e;let d;if(null!=r)d=r.includes(a);else{const e=t.machineIdentifier===l&&p===o,i=!!(n&&n.libraries&&n.libraries.find(e=>e.id===a));d=e||i}return i.a.createElement(J,{key:a,className:s?ee.a.hidden:void 0,name:JSON.stringify({[R.b]:a}),checkboxText:c,initialValue:d})})))}}var ne=ae,ie=a("0UmJ"),re=a.n(ie);var se=function(e){const{sourceDirectory:t,sourceServer:a,serverOverviews:n,serverShares:r,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o,hasNextStep:l,isPopulating:c,showList:d,isNewFriend:u,isAddingHomeUser:I,isCreatingManagedUser:S,isSharingPending:E,errorMessage:O,onPreviousStep:M,onSubmit:D,onModalClose:P}=e;let T;return T=l?Object(v.default)("Continue"):S?Object(v.default)("Add"):u?Object(v.default)("Send"):Object(v.default)("Save"),i.a.createElement(m.b,{className:re.a.form,onSubmit:D},i.a.createElement(C,{isAddingHomeUser:I,isCreatingManagedUser:S,isSharingSingleLibrary:!!t,errorMessage:O,onModalClose:P},i.a.createElement(h.a,{className:re.a.modalBody,scrollDirection:b.b},i.a.createElement("div",{className:re.a.message},Object(v.default)("Choose some libraries to share.")),c?i.a.createElement("div",{className:re.a.spinnerContainer},i.a.createElement(U.a,null)):null,d?i.a.createElement(z.a,{className:re.a.scroller,autoScroll:!0},n.map(e=>{const{machineIdentifier:n}=e,l=r.find(e=>e.machineIdentifier===n);return i.a.createElement(ne,{key:n,sourceDirectory:t,sourceServer:a,serverOverview:e,serverShare:l,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o})})):null),i.a.createElement(g.a,{className:re.a.modalFooter},i.a.createElement(p.a,{onPress:P},Object(v.default)("Cancel")),i.a.createElement(y.a,null,i.a.createElement(p.a,{onPress:M},Object(v.default)("Previous")),i.a.createElement(j.a,{type:"submit",kind:f.d,isDisabled:c||E,isSpinning:E},T)))))};const oe={dispatchFetchServerOverviews:u.b,dispatchFetchServerShares:u.c,dispatchSetLibraryShares:u.i,onPreviousStep:u.n};class le extends n.Component{constructor(){super(...arguments),this.onSubmit=e=>{const t=Object.keys(e).reduce((t,a)=>{if(!e[a])return t;const n=JSON.parse(a);return n.hasOwnProperty(R.b)&&t.selectedLibrarySectionIDs.push(n[R.b]),n.hasOwnProperty(R.a)&&t.selectedAllLibrariesMachineIdentifiers.push(n[R.a]),t},{selectedAllLibrariesMachineIdentifiers:[],selectedLibrarySectionIDs:[]});this.props.dispatchSetLibraryShares(t)}}componentDidMount(){const{friendEntityID:e,sharingEligibleServerEntityIDs:t,dispatchFetchServerOverviews:a,dispatchFetchServerShares:n}=this.props;a({serverEntityIDs:t}),n({friendEntityID:e})}render(){const{sharingEligibleServerEntityIDs:e,dispatchFetchServerOverviews:t,dispatchFetchServerShares:a,...n}=this.props;return i.a.createElement(se,{...n,onSubmit:this.onSubmit})}}var ce=Object(o.b)((function(){return Object(l.a)(e=>e.ui.shareModal,L.b,A.a,Object(k.a)(),(e,t,a,n)=>{const{steps:i,serverOverviews:r,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o,isNewFriend:l,isServerOverviewsPopulating:c,isServerOverviewsPopulated:p,isServerSharesPopulating:m,isServerSharesPopulated:h,isSharingPending:g,sharingError:y,serverSharesError:f}=e,b=c||m,v=p&&h,I=f||y;return{sharingEligibleServerEntityIDs:a,sourceServer:t,serverOverviews:r,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o,serverShares:n?n.serverShares:[],hasNextStep:Object(u.d)(i,d.b.LIBRARIES),isPopulating:b&&!I,isSharingPending:g&&!I,showList:v,isNewFriend:l,errorMessage:I}})}),oe)(le),de=a("zvYS"),ue=a("iNJT"),pe=a("5NB4"),me=a("agT0"),he=a("zTsO"),ge=a("pyTO"),ye=a("VzhI"),fe=a("ZQAG"),be=a.n(fe);var ve=Object(Q.a)((function(e){const{subtitle:t,...a}=e;return i.a.createElement("div",{className:be.a.container},i.a.createElement(W.a,{size:ye.c,...a}),t?i.a.createElement("span",{className:be.a.subtitle},t):null)})),Ie=a("MOdi"),Se=a("rXDx"),Ee=a("z8ZC"),Oe=a("+2qD"),Me=a("0139"),Ce=a("mDY5"),je=a.n(Ce);var De=function(e){const{className:t,friendFilterOptions:a,...n}=e,{filterMovies:r,filterTelevision:s,filterMusic:o}=a,l=Object(Oe.a)(r,Ie.a,Ie.b),c=Object(Oe.a)(r,Ie.d,Ie.c),d=Object(Oe.a)(s,Ie.a,Ie.b),u=Object(Oe.a)(s,Ie.d,Ie.c),p=Object(Oe.a)(o,Ie.d,Ie.c);return i.a.createElement("div",{className:t},i.a.createElement("div",{className:je.a.section},i.a.createElement("div",null,Object(v.default)("Content Restrictions"),i.a.createElement(I.b,null),Ee.g.get(Ee.b).title),i.a.createElement(Me.a,{name:"moviesContentRatings",metadataType:Se.MOVIE,tagType:Ie.a,initialValue:l.initialAllowTags,excludedTags:l.excludeTags,onChange:l.onAllowTagsChange,...n}),i.a.createElement(Me.a,{name:"moviesExcludeContentRatings",metadataType:Se.MOVIE,tagType:Ie.b,initialValue:l.initialExcludeTags,excludedTags:l.allowTags,onChange:l.onExcludeTagsChange,...n}),i.a.createElement(Me.a,{name:"moviesLabels",metadataType:Se.MOVIE,tagType:Ie.d,initialValue:c.initialAllowTags,excludedTags:c.excludeTags,onChange:c.onAllowTagsChange,...n}),i.a.createElement(Me.a,{name:"moviesExcludeLabels",metadataType:Se.MOVIE,tagType:Ie.c,initialValue:c.initialExcludeTags,excludedTags:c.allowTags,onChange:c.onExcludeTagsChange,...n})),i.a.createElement("div",{className:je.a.section},i.a.createElement("div",null,Object(v.default)("Content Restrictions"),i.a.createElement(I.b,null),Ee.g.get(Ee.e).title),i.a.createElement(Me.a,{name:"televisionContentRatings",metadataType:Se.SHOW,tagType:Ie.a,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange,...n}),i.a.createElement(Me.a,{name:"televisionExcludeContentRatings",metadataType:Se.SHOW,tagType:Ie.b,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange,...n}),i.a.createElement(Me.a,{name:"televisionLabels",metadataType:Se.SHOW,tagType:Ie.d,initialValue:u.initialAllowTags,excludedTags:u.excludeTags,onChange:u.onAllowTagsChange,...n}),i.a.createElement(Me.a,{name:"televisionExcludeLabels",metadataType:Se.SHOW,tagType:Ie.c,initialValue:u.initialExcludeTags,excludedTags:u.allowTags,onChange:u.onExcludeTagsChange,...n})),i.a.createElement("div",{className:je.a.section},i.a.createElement("div",null,Object(v.default)("Content Restrictions"),i.a.createElement(I.b,null),Ee.g.get(Ee.c).title),i.a.createElement(Me.a,{name:"musicLabels",metadataType:Se.ARTIST,tagType:Ie.d,initialValue:p.initialAllowTags,excludedTags:p.excludeTags,onChange:p.onAllowTagsChange,...n}),i.a.createElement(Me.a,{name:"musicExcludeLabels",metadataType:Se.ARTIST,tagType:Ie.c,initialValue:p.initialExcludeTags,excludedTags:p.allowTags,onChange:p.onExcludeTagsChange,...n})))},Pe=a("8HKk"),Te=a("LmLz"),we=a("dJu0"),Ne=a.n(we);var xe=Object(Q.a)((function(e){const{name:t,title:a,subtitle:n,value:r,values:s,onChange:o}=e;return i.a.createElement("div",null,i.a.createElement(Pe.a,null,a),i.a.createElement(Te.a,{name:t,value:r,values:s,size:ye.c,onChange:o}),n?i.a.createElement("div",{className:Ne.a.subtitle},n):null)})),Ae=a("+FCs"),Le=a.n(Ae);function ke(e){return parseInt(e,10)}var Re=function(e){const{friend:t,sourceDirectory:a,filterOptionsTags:r,isFilterOptionsTagsPopulating:s,isFilterOptionsTagsPopulated:o,canAddToHome:l,canShareTunersWithFriends:c,canShareDVR:d,canShowRestrictions:u,canShowRestrictionsFilters:I,isAddingHomeUser:S,isCreatingManagedUser:E,isSharingPending:O,errorMessage:M,onPreviousPress:P,onSubmit:T,onModalClose:w}=e,N=!!t&&t.home,x=!t||t.allowSync,A=!!t&&t.allowCameraUpload,L=t?t.allowTuners:0,k=t?{filterMovies:t.filterMovies,filterTelevision:t.filterTelevision,filterMusic:t.filterMusic}:{},[R,U]=Object(n.useState)(N||S||E),V=R||c;return i.a.createElement(m.b,{className:Le.a.form,onSubmit:T},i.a.createElement(C,{isAddingHomeUser:S,isCreatingManagedUser:E,isSharingSingleLibrary:!!a,errorMessage:M,onModalClose:w},i.a.createElement(h.a,{className:Le.a.modalBody,scrollDirection:b.b},i.a.createElement(z.a,{className:Le.a.scroller,autoScroll:!0},l?i.a.createElement("div",{className:Le.a.message},Object(v.default)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership.")):null,l?i.a.createElement("div",{className:Le.a.section},i.a.createElement(ve,{name:"addToHome",checkboxText:Object(v.default)("Add to Plex Home"),initialValue:N,isDisabled:N,onChange:U})):null,R&&!E?i.a.createElement("div",{className:Le.a.warningMessage},i.a.createElement(D.a,{className:Le.a.warningIcon}),Object(v.default)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")):null,i.a.createElement("div",{className:Le.a.message},u||V?Object(v.default)("You can restrict this user's access to certain features and content. These restrictions apply to all items shared with this user. You can change them at any time in the Users & Sharing settings."):null),i.a.createElement("div",{className:Le.a.section},u?i.a.createElement(ve,{name:"allowSync",checkboxText:Object(v.default)("Allow Sync and Download"),subtitle:Object(v.default)("This will allow this user to sync or download content from your server"),initialValue:x}):null,u?i.a.createElement(ve,{name:"allowCameraUpload",checkboxText:Object(v.default)("Allow Camera Upload"),subtitle:Object(v.default)("This will allow this user to upload media to your server"),initialValue:A}):null,V&&!d?i.a.createElement(ve,{name:"allowTuners",checkboxText:Object(v.default)("Allow access to Live TV"),subtitle:Object(v.default)("Enabling this option will allow this user to access Live TV streams. It requires a library on the Plex Media Server that has DVR configured to be shared with the user"),initialValue:!!L}):null,V&&d?i.a.createElement(xe,{name:"allowTuners",title:Object(v.default)("Live TV & DVR Access"),subtitle:Object(v.default)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings"),initialValue:L,value:ge.a.values[L],values:ge.a.values,transformValue:ke}):null),u&&I?i.a.createElement(De,{className:Le.a.list,filterOptionsTags:r,friendFilterOptions:k,isFilterOptionsTagsPopulating:s,isFilterOptionsTagsPopulated:o}):null)),i.a.createElement(g.a,{className:Le.a.modalFooter},i.a.createElement(p.a,{onPress:w},Object(v.default)("Cancel")),i.a.createElement(y.a,null,i.a.createElement(p.a,{onPress:P},Object(v.default)("Previous")),i.a.createElement(j.a,{type:"submit",kind:f.d,isDisabled:O,isSpinning:O},E?Object(v.default)("Add"):Object(v.default)("Send"))))))};class ze extends n.Component{componentDidMount(){const{serverEntityIDs:e,dispatchFetchFilterOptionsTags:t}=this.props;t(e)}render(){const{serverEntityIDs:e,dispatchFetchFilterOptionsTags:t,...a}=this.props;return i.a.createElement(Re,{...a})}}var Ue=Object(o.b)((function(){return Object(l.a)((e,{isAddingHomeUser:t})=>t,(e,{isCreatingManagedUser:t})=>t,e=>e.ui.shareModal,de.a,Object(k.a)(),Object(ue.a)("hasPlexPass"),Object(pe.a)(he.C),Object(pe.a)(he.b),Object(pe.a)(he.c),(e,t,a,n,i,r,s,o,l)=>{const{restrictionProfileIdentifier:c,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,isSharingPending:m,sharingError:h}=a;return{serverEntityIDs:n,friend:i,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,canAddToHome:r&&!e&&!t,canShareTunersWithFriends:s,canShareDVR:o,canShowRestrictions:l,canShowRestrictionsFilters:!c||c===me.b,isSharingPending:m&&!h,errorMessage:h}})}),(function(e){return{dispatchFetchFilterOptionsTags(t){e(Object(u.a)({serverEntityIDs:t}))},onPreviousPress(){e(Object(u.n)())},onSubmit(t){const{addToHome:a,...n}=t;e(Object(u.h)({addToHome:a,restrictions:n}))}}}))(ze),Ve=a("ABYF"),Be=a("f6jo"),Fe=a("uif/"),He=a("+X4A"),_e=a("uyqX"),We=a.n(_e);const Qe=()=>{};var Ge=function(e){const{sourceDirectory:t,metadataItem:a,username:r,inviteToken:s,inviteTokenError:o,libraryCount:l,isSharingSingleItem:c,isAddingHomeUser:d,hasNewSharingInvitationFeature:u,onModalClose:m}=e,[S,E]=Object(n.useState)(!1),O=Object(Fe.a)(S),j=Object(n.useRef)(null),D=function(e,t,a){if(a){const a={inviteToken:e};return t?a.sharedItems=1:a.sharedServers=1,He.default.join(["https://app.plex.tv/auth","#!"],a)}return He.default.join(["https://plex.tv","servers/shared_servers/accept"],{invite_token:e})}(s,c,u),P=Object(n.useCallback)(()=>{Ve.writeText(D),E(!0)},[D]);let T;Object(n.useEffect)(()=>(!O&&S&&(j.current=window.setTimeout(()=>{E(!1),window.clearTimeout(j.current)},2e3)),()=>{window.clearTimeout(j.current)}),[O,S]),T=a?Object(v.default)("You shared {metadataTitle} with {username}.",{metadataTitle:Object(M.a)(a,I.a),username:r}):0===l||d?Object(v.default)("We've sent an invite to {username}.",{username:r}):1===l?Object(v.default)("You shared a library with {username}.",{username:r}):Object(v.default)("You shared {libraryCount} libraries with {username}.",{libraryCount:l,username:r});const w=(a||l)&&!o;return i.a.createElement("div",{className:We.a.container},i.a.createElement(C,{metadataItem:a,isSharingSingleLibrary:!!t,onModalClose:m},i.a.createElement(h.a,{className:We.a.modalBody,scrollDirection:b.b},i.a.createElement("div",{className:We.a.content},i.a.createElement("p",null,T),w?i.a.createElement("p",null,Object(v.default)("We've sent an email asking them to confirm, or they can use this link to accept the invitation"),":"):null,o?i.a.createElement("div",null,o):null,w?i.a.createElement("div",{className:We.a.inviteLink},i.a.createElement(Be.a,{className:We.a.input,name:"inviteLink",value:D,readOnly:"readonly",onChange:Qe}),i.a.createElement(B.a,{className:We.a.copyLink,kind:f.d,isDisabled:S||!!o,onPress:P},S?Object(v.default)("Copied!"):Object(v.default)("Copy link"))):null)),i.a.createElement(g.a,null,i.a.createElement(y.a,null,i.a.createElement(p.a,{kind:f.d,onPress:m},Object(v.default)("Finish"))))))};var Ke=Object(o.b)((function(){return Object(l.a)(e=>e.ui.shareModal,Object(pe.a)(he.q),(e,t)=>{const{username:a,metadataItemEntityID:n,serverOverviews:i,selectedAllLibrariesMachineIdentifiers:r,selectedLibrarySectionIDs:s,inviteToken:o,inviteTokenError:l}=e;return{username:a,inviteToken:o,inviteTokenError:l,libraryCount:r?r.reduce((e,t)=>e+i.find(e=>e.machineIdentifier===t).sections.length,s.length):null,isSharingSingleItem:!!n,hasNewSharingInvitationFeature:t}})}))(Ge),Ye=a("1yLW");const qe={};var Ze=a("dOl7"),Xe=a("KoQh"),Je=a("xa0o"),$e=a("l9jO"),et=a("tsu6"),tt=a("SZP6"),at=a("DJkp"),nt=a("8n2K"),it=a.n(nt);function rt(e){return e.includes("@")}function st(e,t){return!e.home&&t.home?1:e.home&&!t.home?-1:0}function ot(e){return{id:-1,title:e.trim(),thumb:`https://plex.tv/users/${encodeURIComponent(e)}/avatar`}}class lt extends n.Component{constructor(e,t){super(e,t),this.isUserSelected=e=>this.state.selectedFriendID===e.id||!this.state.selectedFriendID&&this.state.username===e.title,this.onUsernameChange=e=>{this._clearOnUsernameChangeTimeout(),this.setState({username:e,selectedFriendID:null,isChangingUsername:!0},()=>{this.props.isCreatingManagedUser||(this._timeoutID=window.setTimeout(()=>{this._timeoutID=null,this.props.onValidateUsername({username:e})},500))})},this.onUserSelect=e=>{this.setState({selectedFriendID:e===this.state.selectedFriendID?null:e})},this.onRestrictionProfileSelect=e=>{this.setState({restrictionProfileIdentifier:e})},this.onSubmit=({restrictionProfileIdentifier:e})=>{const{metadataItemEntityID:t,users:a,isAddingHomeUser:n,isCreatingManagedUser:i,onSetUsername:r,onSetUser:s}=this.props,{username:o,selectedFriendID:l}=this.state;if(!l||-1===l)r({metadataItemEntityID:t,username:o.trim(),restrictionProfileIdentifier:e,isAddingHomeUser:n,isCreatingManagedUser:i});else{s({metadataItemEntityID:t,friendEntityID:a.find(e=>e.id===l).entityID,isAddingHomeUser:n})}},this.state={username:e.username,selectedFriendID:null,isChangingUsername:!1,restrictionProfileIdentifier:e.restrictionProfileIdentifier}}static getDerivedStateFromProps(e,t){return t.isChangingUsername&&e.isUsernameValidating?{isChangingUsername:!1}:null}componentWillUnmount(){this._clearOnUsernameChangeTimeout()}_clearOnUsernameChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{serverEntityID:e,sourceDirectory:t,metadataItem:a,users:n,existingHomeUsernames:r,hasNextStep:s,hasPlexPass:o,isAddingHomeUser:l,isCreatingManagedUser:c,isUsernameValidating:d,isUsernameValidated:u,isSharingPending:I,sharingError:S,onModalClose:E}=this.props,{username:O,selectedFriendID:M,isChangingUsername:D,restrictionProfileIdentifier:P}=this.state,T=function(e,t,a){const{sourceDirectory:n,metadataItem:i,isAddingHomeUser:r,isCreatingManagedUser:s}=a,o=t.trim().toUpperCase(),l=e.filter(e=>(!r||!e.home)&&(!!(n||i||r||s)&&(e.username&&e.username.toUpperCase().includes(o)||e.title&&e.title.toUpperCase().includes(o)||e.email&&e.email.toUpperCase().includes(o))));return l.sort(st),l}(n,O,this.props),w=!u||D||function(e,t){return!!e.find(e=>e.username===t||e.title===t||e.email===t)}(T,O)?T:[ot(O),...T],N=!d&&!u,x=!!n.find(e=>e.username===O||e.email===O),A=D||d||N&&!rt(O),L=""!==O.trim()&&!c&&0===w.length&&N&&!D,k=c&&r.includes(O.trim()),R=x&&!t&&!a&&!l&&!c;let z;var V;let B;L?z=rt(V=O)?Object(v.default)("An invite will be sent to {emailAddress}",{emailAddress:V.trim()}):Object(v.default)("No Plex users found. Enter a valid email address to invite someone new"):k?z=Object(v.default)("A Home user already exists with this name"):R&&(z=Object(v.default)("{username} is already a friend",{username:O})),B=!a&&s?Object(v.default)("Continue"):c?Object(v.default)("Add"):Object(v.default)("Send");const F=R||!M&&(I||""===O.trim()||!c&&A||k);return i.a.createElement(m.b,{className:it.a.form,onSubmit:this.onSubmit},i.a.createElement(C,{metadataItem:a,isAddingHomeUser:l,isCreatingManagedUser:c,isSharingSingleLibrary:!!t,errorMessage:S,onModalClose:E},i.a.createElement(h.a,{className:it.a.modalBody,scrollDirection:b.b},i.a.createElement("div",{className:it.a.messages},i.a.createElement("div",null,function(e,t){return e?Object(v.default)("Users in your Home appear on the Switch User screen."):t?Object(v.default)("Managed users are only available when signed in with an account in your home."):Object(v.default)("Choose a user to invite. You can enter their Plex username or email.")}(l,c)),i.a.createElement("div",null,function(e,t){return e?Object(v.default)("The invited user will be asked to confirm Home membership."):t?Object(v.default)("You can choose any name you like and you'll be able to set restrictions on accessible media."):Object(v.default)("New users will be asked to accept the invitation.")}(l,c))),i.a.createElement("div",{className:it.a.inputContainer},i.a.createElement(Be.a,{name:"username",autoComplete:"off",placeholder:c?Object(v.default)("Username"):Object(v.default)("Username or email"),value:O,focusOnMount:!0,onChange:this.onUsernameChange}),d?i.a.createElement(U.a,{className:it.a.icon,size:ye.c}):null,u?i.a.createElement(et.a,{className:it.a.checkIcon}):null),i.a.createElement("div",{className:it.a.warningMessage},z),c?i.a.createElement(tt.a,{name:"restrictionProfileIdentifier",className:it.a.restrictionsInput,initialValue:P,hasPlexPass:o,onChange:this.onRestrictionProfileSelect}):null,!c&&w.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(Pe.a,null,Object(v.default)("Users")),i.a.createElement(at.a,{className:it.a.list,serverEntityID:e,users:w,isUserSelected:this.isUserSelected,onUserSelect:this.onUserSelect})):null),i.a.createElement(g.a,null,i.a.createElement(y.a,null,i.a.createElement(p.a,{onPress:E},Object(v.default)("Cancel")),i.a.createElement(j.a,{type:"submit",kind:f.d,isDisabled:F,isSpinning:I},B)))))}}var ct=lt;const dt=Object(l.a)(Xe.a,function(e){if(qe[e])return qe[e];const t=Object(l.a)(Ye.a,t=>t[e]);return qe[e]=t,t}("homeUsers"),(e,t)=>t.map(t=>e[t].title));const ut={dispatchFetchAllFriends:$e.m,onValidateUsername:u.o,onSetUsername:u.k,onSetUser:u.j};var pt=Object(o.b)((function(){return Object(l.a)(e=>e.ui.shareModal,Je.a,Ze.a,dt,Object(ue.a)("hasPlexPass"),(e,t,a,n,i)=>{const{steps:r,username:s,restrictionProfileIdentifier:o,isNewFriend:l,isUsernameValidating:c,isUsernameValidated:p,isSharingPending:m,sharingError:h}=e;return{username:s,restrictionProfileIdentifier:o,users:t.map(e=>a[e]),existingHomeUsernames:n,hasNextStep:Object(u.d)(r,d.b.USER),hasPlexPass:i,isNewFriend:l,isUsernameValidating:c,isUsernameValidated:p,isSharingPending:m&&!h,sharingError:h}})}),ut)((function(e){const{dispatchFetchAllFriends:t,...a}=e;return Object(n.useEffect)(()=>{t()},[t]),i.a.createElement(ct,{...a})}));const mt={dispatchInitShareModal:u.f,dispatchResetShareModal:u.g};class ht extends n.Component{componentDidMount(){const{metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:a,dispatchInitShareModal:n}=this.props;n({metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:a})}componentDidUpdate(e,t){const{steps:a,step:n,isSharingCompleted:i,onModalClose:r}=this.props,s=!e.isSharingCompleted&&i,o=Object(u.e)(a,n);s&&n!==d.b.SUMMARY&&!o&&r()}componentWillUnmount(){this.props.dispatchResetShareModal()}render(){const{step:e,dispatchResetShareModal:t,...a}=this.props;switch(e){case d.b.WARNING:return i.a.createElement(x,{...a});case d.b.USER:return i.a.createElement(pt,{...a});case d.b.LIBRARIES:return i.a.createElement(ce,{...a});case d.b.RESTRICTIONS:return i.a.createElement(Ue,{...a});case d.b.SUMMARY:return i.a.createElement(Ke,{...a});default:return null}}}var gt=Object(o.b)((function(){return Object(l.a)(e=>e.ui.shareModal,Object(c.a)(),(e,t)=>({steps:e.steps,step:e.step,friendEntityID:e.friendEntityID,isSharingCompleted:e.isSharingCompleted,metadataItem:t}))}),mt)(ht);t.a=function(e){const{serverEntityID:t,metadataItemEntityID:a,sourceDirectory:n,metricsProperties:o,isAddingHomeUser:l,isCreatingManagedUser:c,isOpen:d,onModalClose:u}=e;return i.a.createElement(s.a,{metricsPage:r.nb,metricsProperties:o,isOpen:d,onModalClose:u},i.a.createElement(gt,{serverEntityID:t,metadataItemEntityID:a,sourceDirectory:n,isAddingHomeUser:l,isCreatingManagedUser:c,onModalClose:u}))}},qR6r:function(e,t,a){e.exports={input:"Select-input-1OU8QF",select:"Select-select-LY3OYE",small:"Select-small-9auucE",medium:"Select-medium-wyEgAx",large:"Select-large-1LpoL2",isDisabled:"Select-isDisabled-3JKUiC",hasError:"Select-hasError-1CtTId"}},qlzh:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form id="sync-form" class="settings-container"> <div class="modal-body"> <div class="form-group"> <label class="control-label" for="sync-title">'+c(i(a("d8WC")).call(t,"Title",{hash:{},data:s}))+'</label> <input type="text" id="sync-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)?o.apply(t):o)+'" placeholder="'+c("function"==typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="quality-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(i(a("d8WC")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=n.if.call(t,t&&t.isNew,{hash:{},inverse:this.program(3,(function(e,t){return c(i(a("d8WC")).call(e,"Save",{hash:{},data:t}))}),s),fn:this.program(1,(function(e,t){return c(i(a("d8WC")).call(e,"Sync",{hash:{},data:t}))}),s),data:s}))||0===o)&&(l+=o),l+="</span> </button> </div> </form> "}))},qoqg:function(e,t,a){e.exports={input:"TextInput-input-1VMuma input-input-1P2Vi4",small:"TextInput-small-2i2et0 input-small-3LyjJH",large:"TextInput-large-2sz70T input-large-3wNGTy",isDisabled:"TextInput-isDisabled-3hj7IS input-isDisabled-2FiSY3",hasError:"TextInput-hasError-3FVrzH input-hasError-1to6Ql"}},qpNu:function(e,t,a){"use strict";var n=a("slDQ");t.a=function(e,t){Object(n.a)(function(e){return e&&("function"==typeof e||Object.values(e).every(e=>"function"==typeof e))}("object"==typeof e?e:t),"Callback must be a function")}},qqi0:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("q1tI");function i(e){const[t,a]=Object(n.useState)(!1);return{isOpen:t,onOpen:Object(n.useCallback)(()=>a(!0),[]),onClose:Object(n.useCallback)(()=>a(!1),[]),onConfirm:Object(n.useCallback)(t=>{a(!1),e&&e(t)},[e])}}},"qr/E":function(e,t,a){e.exports={container:"UsersSettingsRowShares-container-30EeNi",status:"UsersSettingsRowShares-status-O26EBM"}},qxsR:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n);const r=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});t.a=r},"r+/Q":function(e,t,a){e.exports={card:"QuickSearchTagPosterCard-card-3RJG3x TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC"}},r0xy:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("EVdn"),i=a.n(n),r=a("m1uq");function s(e){return e.get("isPopulated")?i.a.Deferred().resolve(e).promise():Object(r.a)({eventSource:e,events:["change:error","change:isPopulated"]})}},r2QQ:function(e,t,a){e.exports={recordButton:"LiveTVRecordButton-recordButton-3o22mL",recordingProgressBarContainer:"LiveTVRecordButton-recordingProgressBarContainer-2S-XB4 CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",recordingProgressBackground:"LiveTVRecordButton-recordingProgressBackground-3vdcHr CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",playerButton:"LiveTVRecordButton-playerButton-3pFcSJ PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",playerButtonRecording:"LiveTVRecordButton-playerButtonRecording-2gpjKi LiveTVRecordButton-playerButton-3pFcSJ PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I"}},r30D:function(e,t,a){"use strict";a.d(t,"p",(function(){return O})),a.d(t,"r",(function(){return M})),a.d(t,"s",(function(){return C})),a.d(t,"d",(function(){return j})),a.d(t,"f",(function(){return D})),a.d(t,"e",(function(){return P})),a.d(t,"n",(function(){return N})),a.d(t,"h",(function(){return x})),a.d(t,"v",(function(){return A})),a.d(t,"g",(function(){return L})),a.d(t,"q",(function(){return k})),a.d(t,"b",(function(){return R})),a.d(t,"u",(function(){return z})),a.d(t,"m",(function(){return U})),a.d(t,"k",(function(){return V})),a.d(t,"c",(function(){return B})),a.d(t,"t",(function(){return F})),a.d(t,"i",(function(){return H})),a.d(t,"j",(function(){return _})),a.d(t,"a",(function(){return W})),a.d(t,"o",(function(){return Q})),a.d(t,"l",(function(){return Y}));var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("ICb1"),l=a("rG0a"),c=a("vtVQ"),d=a("5YKo"),u=a("TkmH"),p=a("X2jn"),m=a("XrKU"),h=a("SiWM"),g=a("INWF"),y=a("TIWu"),f=a("tlMz"),b=a("hPIe"),v=a("66GW"),I=a("UFJ+"),S=a("OpXE"),E=a("XmHA");const O=Object(o.a)("multiSelect/redispatchLegacyMuliselectAction"),M=Object(o.a)("multiSelect/selectItem"),C=Object(o.a)("multiSelect/selectModels"),j=Object(o.a)("multiSelect/deselectAllItems"),D=Object(o.a)("multiSelect/deselectModels"),P=Object(o.a)("multiSelect/deselectCollection"),T=Object(o.a)("multiSelect/selectRange"),w=Object(o.a)("multiSelect/deselectRange"),N=Object(o.a)("multiSelect/playSelectedItems"),x=Object(o.a)("multiSelect/favoriteSelectedItems"),A=Object(o.a)("multiSelect/unfavoriteSelectedItems"),L=(Object(o.a)("multiSelect/updateSelectedItemsPlayedStatus"),Object(o.a)("multiSelect/editSelectedItems")),k=Object(o.a)("multiSelect/refreshSelectedItems"),R=Object(o.a)("multiSelect/analyzeSelectedItems"),z=Object(o.a)("multiSelect/syncMetadataItems"),U=Object(o.a)("multiSelect/optimizeMetadataItems"),V=Object(o.a)("multiSelect/mergeSelectedItems"),B=Object(o.a)("multiSelect/deleteSelectedItems"),F=Object(o.a)("multiSelect/playSelectedItems",({options:e={},...t})=>({...t,options:{...e,shuffle:!0}})),H=Object(o.a)("multiSelect/updateSelectedItemsPlayedStatus",e=>({...e,played:!0})),_=Object(o.a)("multiSelect/updateSelectedItemsPlayedStatus",e=>({...e,played:!1})),W=Object(o.a)("multiSelect/queueSelectedItems",({options:e={},...t})=>({...t,options:{...e,next:!1}})),Q=Object(o.a)("multiSelect/queueSelectedItems",({options:e={},...t})=>({...t,options:{...e,next:!0}}));function G(e){return e.get("ui").get("multiSelect").get("activeSelectionItems").map(e=>e.get("model").entityID())}function K(e){return e.map(e=>e.entityID())}const Y={"multiSelect/redispatchLegacyMuliselectAction"(e,t,a){const n=t.items.map(t=>{const{metadataItemModel:a}=Object(I.a)(e,t);return a});a({type:t.legacyAction.type,payload:{...t.legacyAction.payload,items:n}})},"multiSelect/selectItem"(e,t,a){const{type:n,model:i,collection:r,isRangeSelect:s=!1}=t,o=e.get("ui").get("multiSelect"),l=o.get("activeSelectionType"),c=o.get("activeSelectionRange");if(l&&l!==n)return;if(o.listenToCollection(r),!s||!c||c.collection!==r)return o.set("activeSelectionRange",{collection:r,startModel:i}),void a(C([{id:i.id,type:n,model:i}]));const d=c.startModel,u=c.endModel,p=r.indexOf(d),m=r.indexOf(i);if(u){const e=r.indexOf(u);a(w({collection:r,range:{start:p,end:e}}))}o.set("activeSelectionRange",{collection:r,startModel:d,endModel:i}),a(T({type:n,collection:r,range:{start:p,end:m}}))},"multiSelect/selectModels"(e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").add(t)},"multiSelect/deselectAllItems"(e){e.get("ui").get("multiSelect").get("activeSelectionItems").reset()},"multiSelect/deselectModels"(e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").remove(t)},"multiSelect/deselectCollection"(e,t,a){const n=e.get("ui").get("multiSelect"),i=n.get("activeSelectionItems"),r=[];n.stopListening(t),t.each(e=>{i.get(e.id)&&r.push(e.id)}),r.length&&a(D(r))},"multiSelect/selectRange"(e,t,a){const{type:n,collection:i,range:r}=t,s=e.get("ui").get("multiSelect").get("activeSelectionItems"),o=[];f.a.each(r,e=>{const t=i.at(e);t&&!s.get(t.id)&&o.push({id:t.id,type:n,model:t})}),o.length&&a(C(o))},"multiSelect/deselectRange"(e,t,a){const{collection:n,range:i}=t,r=e.get("ui").get("multiSelect").get("activeSelectionItems"),s=[];f.a.each(i,e=>{const t=n.at(e);t&&r.get(t.id)&&s.push(t.id)}),s.length&&a(D(s))},"multiSelect/playSelectedItems"(e,t,a){const n=t.items?K(t.items):G(e);a(Object(h.x)({...t,metadataItemEntityIDs:n}))},"multiSelect/queueSelectedItems"(e,t,a){const n=t.items?K(t.items):G(e);a(Object(h.r)({...t,metadataItemEntityIDs:n}))},"multiSelect/favoriteSelectedItems"(e,t,a){const n=Object(b.j)(e,t),r=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let s=i.a.Deferred().resolve().promise();r.forEach(e=>{s=s.then(()=>Object(u.a)(n,e,{rating:y.a}))}),s.fail(()=>{a(Object(g.d)(Object(v.default)("There was an unexpected error favoriting an item.")))})},"multiSelect/unfavoriteSelectedItems"(e,t,a){const n=Object(b.j)(e,t),r=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let s=i.a.Deferred().resolve().promise();r.forEach(e=>{s=s.then(()=>Object(u.a)(n,e,{rating:y.b}))}),s.fail(()=>{a(Object(g.d)(Object(v.default)("There was an unexpected error unfavoriting an item.")))})},"multiSelect/updateSelectedItemsPlayedStatus"(e,t,a){const n=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let r=i.a.Deferred().resolve().promise();n.forEach(a=>{r=r.then(()=>Object(m.a)(e,{...t,metadataItemEntityID:a.entityID()}))}),r.fail(()=>{const e=t.played?Object(v.default)("There was an unexpected error marking an item played."):Object(v.default)("There was an unexpected error marking an item unplayed.");a(Object(g.d)(e))}),r.always(()=>{const e={};n.forEach(t=>{const n=t.server.entityID();e[n]||(e[n]=!0,a(Object(g.c)({serverEntityID:n})))})})},"multiSelect/editSelectedItems"(e,t){var a;const n=e.get("ui").get("multiSelect"),i=null!=(a=t.items)?a:n.get("activeSelectionItems").pluck("model"),r=new S.a({items:i});l.a.trigger("show:modal",r)},"multiSelect/refreshSelectedItems"(e,t,a){var n;const r=e.get("ui").get("multiSelect"),s=null!=(n=t.items)?n:r.get("activeSelectionItems").pluck("model");let o=i.a.Deferred().resolve().promise();s.forEach(e=>{o=o.then(()=>Object(p.a)(e))}),o.fail(()=>{a(Object(g.d)(Object(v.default)("There was an unexpected error refreshing an item.")))})},"multiSelect/analyzeSelectedItems"(e,t,a){var n;const r=e.get("ui").get("multiSelect"),s=null!=(n=t.items)?n:r.get("activeSelectionItems").pluck("model");let o=i.a.Deferred().resolve().promise();s.forEach(e=>{o=o.then(()=>Object(d.a)(e))}),o.fail(()=>{a(Object(g.d)(Object(v.default)("There was an unexpected error analyzing an item.")))})},"multiSelect/syncMetadataItems"(e,t){var a;const n=e.get("ui").get("multiSelect"),i=null!=(a=t.items)?a:n.get("activeSelectionItems").pluck("model");c.a.execute("showSyncModal",{item:s.a.first(i),items:i})},"multiSelect/optimizeMetadataItems"(e,t){var a;const n=e.get("ui").get("multiSelect"),i=null!=(a=t.items)?a:n.get("activeSelectionItems").pluck("model"),r=new E.a({item:s.a.first(i),items:i});l.a.trigger("show:modal",r)},"multiSelect/mergeSelectedItems"(e,t){var a;const n=e.get("ui").get("multiSelect"),i=null!=(a=t.items)?a:n.get("activeSelectionItems").pluck("model"),[r,...s]=i;c.a.execute("merge",{item:r,items:s})},"multiSelect/deleteSelectedItems"(e,t,a){var n;const i=e.get("ui").get("multiSelect"),r=null!=(n=t.items)?n:i.get("activeSelectionItems").pluck("model"),s=t.options||{};c.a.execute("deleteItems",{...s,items:r,skipConfirmation:!0})}}},r3vD:function(e,t,a){e.exports={bar:"RomFullPlayer-bar-1JS_af",topBar:"RomFullPlayer-topBar-JnSwUa RomFullPlayer-bar-1JS_af",bottomBar:"RomFullPlayer-bottomBar-3D1zEx RomFullPlayer-bar-1JS_af",content:"RomFullPlayer-content-2V1V4Q",spinnerContainer:"RomFullPlayer-spinnerContainer-YDtMMH",overlayButton:"RomFullPlayer-overlayButton-3RL_Mc Button-button-2kT68l Link-link-2n0yJn",videoTopBar:"RomFullPlayer-videoTopBar-NG4kd5",playQueueTopBar:"RomFullPlayer-playQueueTopBar-swgINA",topBarHidden:"RomFullPlayer-topBarHidden-pdOVo7",bottomBarHidden:"RomFullPlayer-bottomBarHidden-21pB18"}},"r4V+":function(e,t,a){e.exports={menuButton:"ServerDashboardMenuButton-menuButton-1zwB4s DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn"}},r5Me:function(e,t,a){e.exports={item:"AddToLibraryMenuItem-item-3Q9Aau"}},r8pT:function(e,t,a){e.exports={form:"DVRSettingsModalContent-form-2-MX9z"}},"rC/d":function(e,t,a){e.exports={container:"FirstRunExperiencePage-container-39Qadj"}},rG0a:function(e,t,a){"use strict";var n=a("htvf"),i=a("Eeuk");const r=n.a.extend({mixins:i.a});t.a=new r},rG5p:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return o}));const n="join",i="leave",r="pause",s="resume",o="seek"},rHf3:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("+X4A"),s=a("cgRT"),o=a("CHn6"),l=a("mOXR"),c=a("y3BC"),d=a("tibn");var u={exclusiveBoolAttr(e){this.listenTo(this,"change:"+e,(t,a)=>{a&&this.each(n=>{n.set(e,n===t&&a)})})}},p=a("B69o"),m=a("8uQ2");var h=o.a.extend({name:"LyricsSpanModel",context:["server","section"],sessionAttrs:{active:l.a.boolean},syncedAttrs:{startOffset:l.a.integer,endOffset:l.a.integer,text:l.a.string},defaults:{startOffset:-1,endOffset:-1},isPositionWithin(e){const t=this.get("startOffset"),a=this.get("endOffset");if(-1===t)return!1;return e>=t&&(e<=a||-1===a)}});var g=p.a.extend({name:"LyricsSpanCollection",context:["server","section"],model:h});var y=o.a.extend({name:"LyricsLineModel",context:["server","section"],syncedAttrs:{startOffset:l.a.integer,endOffset:l.a.integer},syncedRelations:{spans:{relationClass:g,rootPropertyName:"Span"}},defaults:{startOffset:-1,endOffset:-1}});var f=p.a.extend({name:"LyricsLineCollection",context:["server","section"],model:y,eachSpan(e){this.each(t=>{t.get("spans").each(e)})}});var b=o.a.extend({name:"LyricsStreamModel",context:["server","provider","section"],rootPropertyName:"Lyrics",mergeStrategy:m.a,url(){return r.default.join(this.get("key"),{format:"xml"})},sessionAttrs:{follow:l.a.boolean,lyricsError:l.a.object},syncedAttrs:{id:l.a.string,key:l.a.string,streamType:l.a.integer,index:l.a.integer,title:l.a.string,selected:l.a.boolean,codec:l.a.string,provider:l.a.string,format:l.a.string,minLines:l.a.integer,timed:l.a.boolean},syncedRelations:{lines:{relationClass:f,rootPropertyName:"Line"}},defaults:{follow:!0,selected:!1,lyricsError:null}});var v=p.a.extend({mixins:[u],name:"LyricsStreamCollection",context:["server","provider","section"],model:b,initialize(){this.exclusiveBoolAttr("selected")}}),I=a("KKL4"),S=a("xx2m"),E=a("FIl5"),O=a("WfN5"),M=a("7za+"),C=a("bcER");var j=o.a.extend({name:"PlayQueueItemModel",context:["server","provider"],syncedAttrs:{url:l.a.string}});const D=o.a.extend({name:"PlayQueueItemModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],entityType:M.j,entityID(e=this.state){return Object(O.a)(this.entityType,e.playQueueItemID,this.server.entityID())},idAttribute:"playQueueItemID",cache:new I.a,cacheKey(e){return this.server&&this.server.getScopedKey(e.playQueueItemID)},sessionAttrs:{isPlayQueueItem:l.a.boolean,isLocal:l.a.boolean},syncedAttrs:{playQueueItemID:l.a.string,queueIndex:l.a.integer,key:l.a.string,ratingKey:l.a.string,type:l.a.string,subtype:l.a.string,advertisement:l.a.boolean,allowSkipAfter:l.a.integer,librarySectionID:l.a.string,hasPremiumLyrics:l.a.boolean,syncItemId:l.a.integer,generatorID:l.a.integer,generatorType:l.a.integer,clientIdentifier:l.a.string,target:l.a.string},syncedRelations:{metadataItem:{relationClass:d.a,deferred:!0},lyricsStreams:{relationClass:v,deferred:!0},vast:{relationClass:j,deferred:!0}},sessionRelations:{postPlay:{relationClass:c.default,options(){return{url:`hubs/metadata/${this.get("metadataItem").id}/postplay`}}}},defaults:{isPlayQueueItem:!0,isLocal:!1},augmentResponse(e){const t=i.a.pick(e,Object.keys(this.syncedAttrs)),{Vast:a}=e;if(a){const e=Object(s.c)("appModel"),n=e&&e.get("deviceSettings");(n&&n.get("debugAdKind")||S.a.NONE)===S.a.VAST&&(a.url=r.default.join(a.url,{debug:1})),t.vast=a}t.metadataItem=e;const n=i.a.first(E.a.parseArray(e.Media));if(n){const e=i.a.first(E.a.parseArray(n.Part));if(e){const a=E.a.parseArray(e.Stream);if(a){const e=C.a.get("lyrics");t.lyricsStreams=i.a.filter(a,t=>E.a.parseInteger(t.streamType)===e.id)}}}return t}});t.a=D},rMHo:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("2pL0"),l=a("Aslj"),c=a("EVgX"),d=a("sBwU"),u=a("66GW"),p=a("9ZQ6"),m=a("EdFZ"),h=a("MXUH"),g=a("2xvO"),y=a("6orZ"),f=a("RIFC"),b=a("I4jB"),v=a("e2hs"),I=a("QAuZ"),S=a("lrsD"),E=a("O9Ym"),O=a("w8TB"),M=a("QUAh"),C=a("uP6D"),j=a("t3ne"),D=a("XebB"),P=a("IMai"),T=a.n(P);function w(e){const{children:t,backgroundClassName:a,className:n,onMouseEnter:i}=e;return s.a.createElement("div",{className:n,onMouseEnter:i},s.a.createElement("div",{className:a}),t)}w.defaultProps={className:T.a.overlay,backgroundClassName:T.a.background};var N=w,x=a("1zOe"),A=a("I178"),L=a.n(A);class k extends r.Component{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1},this._selectButtonID=Object(c.a)()}render(){const{className:e,serverEntityID:t,providerEntityID:a,itemServerEntityID:n,itemProviderEntityID:r,metadataItemEntityID:c,containerKey:P,listType:T,metricsContext:w,route:A,title:k,viewPercent:R,unviewedLeafCount:z,mediaCount:U,hasOfflineFile:V,hasOwnSubscription:B,isSubscribed:F,isMultiVersion:H,isSmart:_,isFavorite:W,isMatching:Q,isProcessing:G,isAnalyzing:K,isRefreshing:Y,isTrash:q,showUnplayedBadge:Z,showUnplayedNumberBadge:X,showLink:J,showLinkOnly:$,showPlay:ee,showEdit:te,showSelect:ae,showMore:ne,showFavorite:ie,showUnfavorite:re,showRemove:se,showAvailableOffline:oe,canDrag:le,hasActiveSelection:ce,isSelected:de,isOtherItemSelected:ue,isConflictingTypeSelected:pe,isModifierKeyPressed:me,isDragging:he,isLeafType:ge,source:ye,ratingKey:fe,onMouseEnter:be,onPlayPress:ve,onEditPress:Ie,onFavoritePress:Se,onUnfavoritePress:Ee,onRemovePress:Oe,onSelectPress:Me,onDeselectPress:Ce}=this.props,{isActionsMenuOpen:je}=this.state,De=ae&&(me||ue);if($)return s.a.createElement("div",{className:i()(e,L.a.overlay)},J?s.a.createElement(o.a,{className:L.a.link,to:A}):null);const Pe=ce||he||me||Y||q,Te=je,we=je||he||Y||q,Ne=F||B||ge&&V;return s.a.createElement(N,{className:i()(e,L.a.overlay,ce&&L.a.hasActiveSelection,de&&L.a.isSelected,pe&&L.a.isConflictingTypeSelected,ae&&me&&L.a.isModifierKeyPressed,he&&L.a.isDragging,je&&L.a.isActionsMenuOpen),backgroundClassName:i()(L.a.background,Pe&&L.a.selectedBackground,Te&&L.a.hoverBackground,we&&L.a.visibleBackground),onMouseEnter:be},Z?s.a.createElement("div",{className:L.a.unplayedTagContainer,"data-qa-id":"metadataPosterUnwatchedBadge"},s.a.createElement("div",{className:L.a.unplayedTag})):null,X?s.a.createElement("div",{"data-qa-id":"metadataPosterUnwatchedNumberBadge",className:L.a.unplayedBadge},z):null,H&&!Ne?s.a.createElement("div",{className:L.a.versionBadge,"data-qa-id":"metadataPosterMultipleVersionBadge"},s.a.createElement(E.a,{className:L.a.versionBadgeIcon}),U):null,!_||W||Ne?null:s.a.createElement("div",{className:L.a.smartBadge,"data-qa-id":"metadataPosterSmartBadge"},s.a.createElement(C.a,{className:L.a.smartBadgeIcon})),_&&W&&!Ne?s.a.createElement("div",{className:L.a.favoriteBadge,"data-qa-id":"metadataPosterFavoriteBadge"},s.a.createElement(S.a,{className:L.a.favoriteBadgeIcon})):null,R?s.a.createElement(x.a,{className:L.a.progress,progress:R}):null,Y?s.a.createElement("div",{className:L.a.refreshingSpinnerContainer},s.a.createElement(p.a,{className:L.a.refreshingSpinner})):null,Q?s.a.createElement("div",{className:L.a.refreshingCircle},s.a.createElement(M.a,{"aria-label":Object(u.default)("Matching")})):null,G?s.a.createElement("div",{className:L.a.refreshingCircle},s.a.createElement(j.a,{"aria-label":Object(u.default)("Downloading Metadata")})):null,K?s.a.createElement("div",{className:L.a.refreshingCircle},s.a.createElement(b.a,{"aria-label":Object(u.default)("Analyzing")})):null,q?s.a.createElement("div",{className:L.a.trashCircle},s.a.createElement(D.a,{"aria-label":Object(u.default)("In Trash")})):null,J?s.a.createElement(o.a,{className:L.a.link,to:A}):null,De&&!pe?s.a.createElement(o.a,{className:L.a.selectCoverButton,onPress:Me}):null,De&&pe?s.a.createElement(l.a,{className:L.a.selectCoverButton,component:o.a,tooltip:Object(u.default)("A different type is selected"),tooltipAttachment:d.f,tooltipTarget:this._selectButtonID,showOnFocus:!1,hideOnPress:!1}):null,oe?s.a.createElement(g.a,{className:L.a.hasSubscriptionBadge,source:ye,ratingKey:fe,hasOfflineFile:V,hasOwnSubscription:B,showShadow:!0}):null,oe?s.a.createElement(y.a,{metadataItemEntityID:c,providerEntityID:r}):null,ee?s.a.createElement(m.a,{className:J?L.a.playButton:L.a.playCoverButton,circleClassName:L.a.playCircle,component:le?"div":"button",tabIndex:"-1",title:k,"data-qa-id":"metadataPosterPlayButton",onPress:ve}):null,te?s.a.createElement(o.a,{className:L.a.editButton,tabIndex:"-1","aria-label":Object(u.default)("Edit {title}",{title:k}),"data-qa-id":"metadataPosterEditButton",onPress:Ie},s.a.createElement(v.a,null)):null,ie&&!Ne?s.a.createElement(o.a,{className:L.a.favoriteButton,tabIndex:"-1","aria-label":Object(u.default)("Add {title} to favorites",{title:k}),"data-qa-id":"metadataPosterFavoriteButton",onPress:Se},s.a.createElement(I.a,null)):null,re&&!Ne?s.a.createElement(o.a,{className:L.a.favoriteButton,tabIndex:"-1","aria-label":Object(u.default)("Remove {title} from favorites",{title:k}),"data-qa-id":"metadataPosterUnfavoriteButton",onPress:Ee},s.a.createElement(S.a,null)):null,se?s.a.createElement(o.a,{className:L.a.removeButton,tabIndex:"-1","aria-label":Object(u.default)("Remove {title}",{title:k}),onPress:Oe},s.a.createElement(O.a,null)):null,ne?s.a.createElement(f.a,{"data-qa-id":"metadataPosterMoreButton",className:L.a.moreButton,tabIndex:"-1",serverEntityID:t,providerEntityID:a,itemServerEntityID:n,itemProviderEntityID:r,metadataItemEntityID:c,containerKey:P,listType:T,metricsContext:w,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:je,onMenuOpenChange:this.onActionsMenuOpenChange}):null,ae?s.a.createElement(h.a,{id:this._selectButtonID,className:L.a.selectButton,circleClassName:L.a.selectCircle,tabIndex:"-1",title:k,isSelected:de,isDisabled:pe,onPress:Me}):null,de?s.a.createElement(o.a,{className:L.a.deselectCoverButton,onPress:Ce}):null)}}t.a=k},rNFJ:function(e,t,a){e.exports={playerButton:"PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",isPrimary:"PlayerIconButton-isPrimary-cD9yVe"}},rT61:function(e,t,a){e.exports={separator:"DashSeparator-separator-4CyEFW"}},rU2Z:function(e,t,a){e.exports={button:"PhotoFullPlayerOverlays-button-1anMgY",leftButton:"PhotoFullPlayerOverlays-leftButton-2bCve6 PhotoFullPlayerOverlays-button-1anMgY",rightButton:"PhotoFullPlayerOverlays-rightButton-3cTEzQ PhotoFullPlayerOverlays-button-1anMgY",topBar:"PhotoFullPlayerOverlays-topBar-45GYUI",hideOverlays:"PhotoFullPlayerOverlays-hideOverlays-eccNex",playButton:"PhotoFullPlayerOverlays-playButton-35mXLy"}},rUJk:function(e,t,a){e.exports={serverMenuItem:"ServerMenuItem-serverMenuItem-2djO5d",disabledServerMenuItem:"ServerMenuItem-disabledServerMenuItem-22OGfg",selectedServerMenuItem:"ServerMenuItem-selectedServerMenuItem-jaUTXA",serverMenuItemContainer:"ServerMenuItem-serverMenuItemContainer-1DS9VM",serverMenuTitle:"ServerMenuItem-serverMenuTitle-1s5qRg",serverMenuFriendlyName:"ServerMenuItem-serverMenuFriendlyName-37Gt74",serverMenuDetails:"ServerMenuItem-serverMenuDetails-1-Rfql",serverMenuIconContainer:"ServerMenuItem-serverMenuIconContainer-2WtBGs",serverMenuIcon:"ServerMenuItem-serverMenuIcon-2zKCW4",selectedIcon:"ServerMenuItem-selectedIcon-dhK05-",secureIcon:"ServerMenuItem-secureIcon-3-O-_k"}},rXDx:function(e,t,a){"use strict";a.r(t),a.d(t,"MOVIE",(function(){return s})),a.d(t,"SHOW",(function(){return o})),a.d(t,"SEASON",(function(){return l})),a.d(t,"EPISODE",(function(){return c})),a.d(t,"ARTIST",(function(){return d})),a.d(t,"ALBUM",(function(){return u})),a.d(t,"TRACK",(function(){return p})),a.d(t,"CLIP",(function(){return m})),a.d(t,"TRAILER",(function(){return h})),a.d(t,"COMIC",(function(){return g})),a.d(t,"PERSON",(function(){return y})),a.d(t,"PHOTO",(function(){return f})),a.d(t,"PHOTO_ALBUM",(function(){return b})),a.d(t,"AUDIO",(function(){return v})),a.d(t,"VIDEO",(function(){return I})),a.d(t,"PLAYLIST",(function(){return S})),a.d(t,"PLAYLIST_FOLDER",(function(){return E})),a.d(t,"STATION",(function(){return O})),a.d(t,"COLLECTION",(function(){return M})),a.d(t,"MIXED",(function(){return C})),a.d(t,"FOLDER",(function(){return j})),a.d(t,"CHANNEL",(function(){return D})),a.d(t,"GAME",(function(){return P})),a.d(t,"containsMetadataType",(function(){return w})),a.d(t,"getMetadataType",(function(){return N})),a.d(t,"getAllMetadataTypes",(function(){return x})),a.d(t,"getChildType",(function(){return A})),a.d(t,"getLeafType",(function(){return L})),a.d(t,"getParentType",(function(){return k})),a.d(t,"getRootType",(function(){return R})),a.d(t,"getRelatedTypes",(function(){return z})),a.d(t,"isParentType",(function(){return U})),a.d(t,"isDirectoryType",(function(){return V}));var n=a("66GW"),i=a("1Cr9"),r=a("pXC0");const s="movie",o="show",l="season",c="episode",d="artist",u="album",p="track",m="clip",h="trailer",g="comic",y="person",f="photo",b="photoalbum",v="audio",I="video",S="playlist",E="playlistFolder",O="station",M="collection",C="mixed",j="folder",D="channel",P="game",T=Object(i.a)(["id","typeString"],[{id:1,typeString:s,title:()=>Object(n.default)("Movie"),plural:()=>Object(n.default)("Movies"),mediaType:r.e},{id:2,typeString:o,title:()=>Object(n.default)("Show"),plural:()=>Object(n.default)("Shows"),mediaType:r.b,child:l},{id:3,typeString:l,title:()=>Object(n.default)("Season"),plural:()=>Object(n.default)("Seasons"),mediaType:r.b,parent:o,child:c},{id:4,typeString:c,title:()=>Object(n.default)("Episode"),plural:()=>Object(n.default)("Episodes"),mediaType:r.e,parent:l},{id:5,typeString:h,title:()=>Object(n.default)("Trailer"),plural:()=>Object(n.default)("Trailers"),mediaType:r.e},{id:6,typeString:g,title:()=>Object(n.default)("Comic"),plural:()=>Object(n.default)("Comics"),mediaType:r.c},{id:7,typeString:y,title:()=>Object(n.default)("Person"),plural:()=>Object(n.default)("People"),mediaType:r.b},{id:8,typeString:d,title:()=>Object(n.default)("Artist"),plural:()=>Object(n.default)("Artists"),mediaType:r.b,child:u},{id:9,typeString:u,title:()=>Object(n.default)("Album"),plural:()=>Object(n.default)("Albums"),mediaType:r.b,parent:d,child:p},{id:10,typeString:p,title:()=>Object(n.default)("Track"),plural:()=>Object(n.default)("Tracks"),mediaType:r.a,parent:u},{id:11,typeString:"picture",title:()=>Object(n.default)("Picture"),plural:()=>Object(n.default)("Pictures"),mediaType:r.c},{id:12,typeString:m,title:()=>Object(n.default)("Clip"),plural:()=>Object(n.default)("Clips"),mediaType:r.e},{id:13,typeString:f,title:()=>Object(n.default)("Photo"),plural:()=>Object(n.default)("Photos"),mediaType:r.c,parent:b},{id:14,typeString:b,title:()=>Object(n.default)("Photo Album"),plural:()=>Object(n.default)("Photo Albums"),mediaType:r.b,child:f},{id:15,typeString:S,title:()=>Object(n.default)("Playlist"),plural:()=>Object(n.default)("Playlists"),mediaType:r.b,parent:b},{id:16,typeString:E,title:()=>Object(n.default)("Playlist"),plural:()=>Object(n.default)("Playlists"),mediaType:r.b,child:S},{id:18,typeString:M,title:()=>Object(n.default)("Collection"),plural:()=>Object(n.default)("Collections"),mediaType:r.b},{id:19,typeString:P,title:()=>Object(n.default)("Game"),plural:()=>Object(n.default)("Games"),mediaType:r.d}]),w=T.contains,N=T.get,x=T.getAll;function A(e){const t=T.get(e);if(t&&t.child)return T.get(t.child)}function L(e){const t=T.get(e);if(t){const e=t.child;return null==e?t:L(e)}}function k(e){const t=T.get(e);if(t)return T.get(t.parent)}function R(e){const t=T.get(e);if(t){const e=t.parent;return null==e?t:R(e)}}function z(e,t){if(!t){const t=R(e);return t?z(t.id,[]):[]}const a=T.get(e),n=A(e),i=[...t,a];return n?z(n.id,i):i}function U(e){return!!A(e)}function V(e){const t=T.get(e);return!!t&&t.mediaType===r.b}},rXhf:function(e,t,a){e.exports={listItem:"SessionTile-listItem-2PZHxn",mediaInformationContainer:"SessionTile-mediaInformationContainer-2Wl9vI",posterContainer:"SessionTile-posterContainer-26-HyO",attribution:"SessionTile-attribution-2OICdx",infoContainer:"SessionTile-infoContainer-TH6GXu",previewThumbnailContainer:"SessionTile-previewThumbnailContainer-3TB_Bz",metadataText:"SessionTile-metadataText-2B-EHG",visibleProgressBar:"SessionTile-visibleProgressBar-3nkcPJ",title:"SessionTile-title-3MkbNc",subtitle:"SessionTile-subtitle-3JYsEl",progressTrack:"SessionTile-progressTrack-3guOYU",progressPercent:"SessionTile-progressPercent-3iLgUW",playProgressPercent:"SessionTile-playProgressPercent-1_FcEg SessionTile-progressPercent-3iLgUW",transcodeProgressPercent:"SessionTile-transcodeProgressPercent-K1k4ZQ SessionTile-progressPercent-3iLgUW",detailsContainer:"SessionTile-detailsContainer-30PbCu",detailsContainerExpanded:"SessionTile-detailsContainerExpanded-1fXFk6",userContainer:"SessionTile-userContainer-2O2uBF",stopButton:"SessionTile-stopButton-367qa4 Link-link-2ew_DK",stopIcon:"SessionTile-stopIcon-118Toq",avatarImg:"SessionTile-avatarImg-m5Yohf AvatarImg-avatar-3Op56u",username:"SessionTile-username-1w5mFj"}},reQb:function(e,t,a){e.exports={tidal:"InnerProviderErrorPage-tidal-3tCQVW EmptyPage-icon-31D3ZA"}},repV:function(e,t,a){"use strict";a.r(t);var n=a("sWYD");t.default=function(e,t="MMMM d, yyyy"){return e?Object(n.a)(e,t):""}},rfp9:function(e,t,a){"use strict";var n=a("jvu3"),i=a("PE3u");t.a=Object(i.a)((function(e=-1,t=-1,a=n.c,i=0,r=0,s){let o;if(a===n.b)o={display:"none"};else{switch(o={position:"absolute",width:-1===t?"100%":t+"px",height:-1===e?"100%":e+"px"},a){case n.a:o.bottom=r||0,o.left=i||0;break;case n.c:o.top=r||0,o.left=i||0}s&&(o.zIndex=1)}return o}))},roTl:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+(0,this.escapeExpression)((s=a("d8WC"),s&&(s.__esModule?s.default:s)).call(t,"Sync",{hash:{},data:r}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},roui:function(e,t,a){e.exports={modalContainer:"Modal-modalContainer-FhCOaJ",modalBackdrop:"Modal-modalBackdrop-2QqdlT",modal:"Modal-modal-3v30kQ",small:"Modal-small-3khlbk Modal-modal-3v30kQ",medium:"Modal-medium-3wftUS Modal-modal-3v30kQ",large:"Modal-large-3ySrkU Modal-modal-3v30kQ"}},"ryK+":function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="modal-dialog"> <div class="modal-content"> <form name="add-folder-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon folder-plus"></i> '+l(i(a("d8WC")).call(t,"Add Folder",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="row"> <div class="col-md-12"> <input type="text" name="path" class="form-control" value=""> </div> </div> <div class="row directory-container-row"> <div class="home-directory-container col-md-5"></div> <div class="col-md-7"> <div class="path-container"></div> <div class="file-container"></div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+l(i(a("d8WC")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="add-btn btn btn-primary">'+l(i(a("d8WC")).call(t,"Add",{hash:{},data:s}))+"</button> </div> </form> </div> </div> "}))},rymg:function(e,t,a){e.exports={heading:"AudioVideoFullPlayerContentHeading-heading-1XO9q-"}},s1Aa:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s="",o=this;function l(e,t){return' <button class="settings-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon cogwheel"></i></button> '}return s+='<div class="media-poster-container"> <div class="media-poster"> ',((r=a.unless.call(t,t&&t.shared,{hash:{},inverse:o.noop,fn:o.program(1,(function(e,t){var n,i="";return i+=' <div class="media-poster-overlay"></div> <div class="media-poster-actions"> ',((n=a.if.call(e,null==(n=e&&e.item)||!1===n?n:n.hasPrefs,{hash:{},inverse:o.noop,fn:o.program(2,l,t),data:t}))||0===n)&&(i+=n),i+=' <button class="uninstall-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> '}),i),data:i}))||0===r)&&(s+=r),s+=' <div class="loading loading-inline"></div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> </div> '}))},s2Sz:function(e,t,a){e.exports={overlay:"EPGPosterCardOverlay-overlay-21AW0j",background:"EPGPosterCardOverlay-background-nZkC7i",link:"EPGPosterCardOverlay-link-hVinzR",subscriptionBadge:"EPGPosterCardOverlay-subscriptionBadge-2DXamf MetadataPosterCardOverlay-badge-1FU-pf",subscriptionBadgeIcon:"EPGPosterCardOverlay-subscriptionBadgeIcon-2CSvdG",progress:"EPGPosterCardOverlay-progress-2KBp3y PosterCardOverlayProgress-progress-16k0BJ",button:"EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playButton:"EPGPosterCardOverlay-playButton-2VFIkB RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordButton:"EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playCoverButton:"EPGPosterCardOverlay-playCoverButton-virTg2 EPGPosterCardOverlay-playButton-2VFIkB RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playCircle:"EPGPosterCardOverlay-playCircle-3e6vzW MetadataPosterCardOverlay-playCircle-M67q6x PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordCoverButton:"EPGPosterCardOverlay-recordCoverButton-3QBBow EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordCircle:"EPGPosterCardOverlay-recordCircle-fVDxDI RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordIcon:"EPGPosterCardOverlay-recordIcon-1-ns13 RecordIcon-recordIcon-2ygXS_",recordButtonBottom:"EPGPosterCardOverlay-recordButtonBottom-18I3qt EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordCircleBottom:"EPGPosterCardOverlay-recordCircleBottom-3rJ86p EPGPosterCardOverlay-recordCircle-fVDxDI RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordIconBottom:"EPGPosterCardOverlay-recordIconBottom-1cF9xa RecordIcon-recordIcon-2ygXS_",isActionsMenuOpen:"EPGPosterCardOverlay-isActionsMenuOpen-1O_P26"}},s4MQ:function(e,t,a){e.exports={summary:"PrePlaySummary-summary-1NL8gz"}},s4ry:function(e,t,a){"use strict";function n({actionCreator:e,dispatch:t,hubs:a,serverModel:n}){a.server&&a.server!==n||a.forEach(i=>{const r=i.get("metadataList");if(i.server===n&&!i.get("random")&&!!r&&!!r.get("containerKey")){const n=e({metadataListEntityID:r.entityID(),count:a.count});t(n)}})}a.d(t,"a",(function(){return n}))},s5ij:function(e,t,a){e.exports={modalBody:"ModalBody-modalBody-1-wcfe",modalScroller:"ModalBody-modalScroller-3VG8jR ModalBody-modalBody-1-wcfe",innerModalBody:"ModalBody-innerModalBody-BHe1nE"}},sAyO:function(e,t,a){e.exports={extrasHubCell:"PrePlayExtrasList-extrasHubCell-2NcGKs HubCell-hubCell-3Ys175"}},"sB/z":function(e,t,a){e.exports={img:"MetadataAttributionLogoTitle-img-1hdE56"}},sBwU:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"f",(function(){return i})),a.d(t,"h",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return d}));const n="topLeft",i="topCenter",r="topRight",s="bottomLeft",o="bottomCenter",l="bottomRight",c="middleLeft",d="middleRight"},sKLl:function(e,t,a){e.exports={measured:"TimelinePage-measured-3JDcK6"}},sKrL:function(e,t,a){"use strict";a.r(t),a.d(t,"FAIRPLAY",(function(){return n})),a.d(t,"PLAYREADY",(function(){return i})),a.d(t,"WIDEVINE",(function(){return r}));const n="com.apple.fps.1_0",i="com.microsoft.playready",r="com.widevine.alpha"},sNLJ:function(e,t,a){e.exports={content:"UserSharingSettingsRestrictions-content-1eTE4V SettingsPage-content-1vKVEr PageContent-pageContent-16mK6G"}},sOPC:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("ybRO"),s=a.n(r);function o(e){const{className:t,children:a,component:n,width:r,height:s,url:o,...l}=e;return i.a.createElement("div",{className:t,style:{width:r,height:s}},i.a.createElement(n,{width:r,height:s,url:o,...l}),a)}o.defaultProps={className:s.a.card},t.a=o},sPMf:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<h2 class="setup-intro-header">'+c(i(a("d8WC")).call(t,"How Plex Works",{hash:{},data:s}))+"</h2> <h4>"+c(i(a("d8WC")).call(t,"Plex Media Server runs on the computer where you keep your media",{hash:{},data:s}))+'</h4> <img class="setup-intro-img setup-intro-computer-img" src='+c("function"==typeof(o=t&&t.computerImg)?o.apply(t):o)+"> <h4>"+c(i(a("d8WC")).call(t,"Plex scans your media, automatically organizes it, and makes it beautiful",{hash:{},data:s}))+'</h4> <img class="setup-intro-img setup-intro-media-img" src='+c("function"==typeof(o=t&&t.mediaImg)?o.apply(t):o)+"> <h4>"+c(i(a("d8WC")).call(t,"Play your media on any screen with your favorite Plex app",{hash:{},data:s}))+'</h4> <img class="setup-intro-img setup-intro-play-img" src='+c("function"==typeof(o=t&&t.playImg)?o.apply(t):o)+'> <p> <button class="next-btn btn btn-primary btn-lg" data-subset="setupLoading">'+c(i(a("d8WC")).call(t,"Got it!",{hash:{},data:s}))+"</button> </p> "}))},sPYG:function(e,t,a){e.exports={container:"FirstRunExperienceStep-container-GybKBS",actions:"FirstRunExperienceStep-actions-sqsbDy",stepContainer:"FirstRunExperienceStep-stepContainer-2g5HG8",stepText:"FirstRunExperienceStep-stepText-2Kql2A",stepHeading:"FirstRunExperienceStep-stepHeading-2l2OyX",stepBody:"FirstRunExperienceStep-stepBody-GIL2YT",stepIcon:"FirstRunExperienceStep-stepIcon-53JNXw",activeStepIcon:"FirstRunExperienceStep-activeStepIcon-rczb-H FirstRunExperienceStep-stepIcon-53JNXw",stepButton:"FirstRunExperienceStep-stepButton-2FQBJU"}},sPni:function(e,t,a){e.exports={button:"MetadataDirectoryButtonCell-button-29C3x2 Button-button-2kT68l Link-link-2n0yJn"}},sXw8:function(e,t,a){"use strict";a.r(t),a.d(t,"INIT_QUICK_SEARCH",(function(){return O})),a.d(t,"RESET_QUICK_SEARCH",(function(){return M})),a.d(t,"FETCH_QUICK_SEARCH",(function(){return C})),a.d(t,"CHANGE_QUICK_SEARCH_QUERY",(function(){return j})),a.d(t,"CHANGE_QUICK_SEARCH_SETTINGS",(function(){return D})),a.d(t,"SELECT_QUICK_SEARCH_RESULT",(function(){return P})),a.d(t,"NAVIGATE_QUICK_SEARCH_RESULT",(function(){return T})),a.d(t,"PLAY_QUICK_SEARCH_RESULT",(function(){return w})),a.d(t,"initQuickSearch",(function(){return N})),a.d(t,"resetQuickSearch",(function(){return x})),a.d(t,"fetchQuickSearch",(function(){return A})),a.d(t,"changeQuickSearchQuery",(function(){return L})),a.d(t,"changeQuickSearchSettings",(function(){return k})),a.d(t,"selectQuickSearchResult",(function(){return R})),a.d(t,"navigateQuickSearchResult",(function(){return z})),a.d(t,"playQuickSearchResult",(function(){return U})),a.d(t,"quickSearchActionHandlers",(function(){return H}));var n=a("ICb1"),i=a("1+Vt"),r=a("yO9Y"),s=a("hDJw"),o=a("SiWM"),l=a("iZkF"),c=a("Vk9Z"),d=a("gnaf"),u=a("zTsO"),p=a("6dAO"),m=a("L4fs"),h=a("rXDx"),g=a("CR3D"),y=a("b3RP"),f=a("mMyY"),b=a("Xw7/"),v=a("gxTH"),I=a("w41d"),S=a("lHKw"),E=a("LS/l");const O="quickSearch/initQuickSearch",M="quickSearch/resetQuickSearch",C="quickSearch/fetchQuickSearch",j="quickSearch/changeQuickSearchQuery",D="quickSearch/changeQuickSearchSettings",P="quickSearch/selectQuickSearchResult",T="quickSearch/navigateQuickSearchResult",w="quickSearch/playQuickSearchResult",N=Object(n.a)(O),x=Object(n.a)(M),A=Object(n.a)(C),L=Object(n.a)(j),k=Object(n.a)(D),R=Object(n.a)(P),z=Object(n.a)(T),U=Object(n.a)(w);function V(e){return e.get("ui").get("quickSearch")}function B(e){return e.map(e=>e.entityID())}function F(e,t,a){const{isCloud:n,isFullOwnedServer:i,title:r,serverFriendlyName:s,serverSourceTitle:o,providerSourceTitle:l}=e,c=d.l(e.providerIdentifier,d.d);if(n)return l?`${r} - ${l}`:r;if(i&&c)return s;if(i&&!c)return`${r} • ${s}`;const{ownedSources:u,sharedSources:p}=t,m=Object.keys(u).length,h=Object.keys(p).length,g=p[o];return(g?g.length:0)>1?a?s:`${o} • ${s}`:m>0||h>0?o:void 0}const H={[O](e,t,a){const n=V(e),r=e.get("user").get("isFullUser"),o=n.get("searches"),{searchSources:l}=t,d=Object(m.a)(l),p=Object(s.a)(e,u.a);o.reset(l.reduce((t,a)=>{const{providerEntityID:s}=a,o=Object(I.h)(e,{providerEntityID:s});if(!o)return t;const l=o.get("features").get(c.o),u=t.find(e=>e.id===s);if(u){if(u&&a.directoryID){const e=u.get("contentDirectoryID").split(",");e.includes(a.directoryID)||e.push(a.directoryID);const t=e.join(",");u.set("contentDirectoryID",t)}}else{const e=s===n.get("providerEntityID");t[e?"unshift":"push"](new i.a({providerEntityID:s,serverEntityID:o.server.entityID(),key:l?l.get("key"):"/hubs/search",contentDirectoryID:a.directoryID,searchTitle:F(a,d,!r)},{server:o.server,provider:o,isContextual:e,includeCollections:!0,includeExternalMedia:p}))}return t},[])),n.get("query")&&a(A())},[M](e){const t=V(e),a=t.get("searches");t.set({query:"",selectedResultEntityID:null}),a.each(e=>{e.restoreDefaults({providerEntityID:e.get("providerEntityID"),serverEntityID:e.get("serverEntityID"),searchTitle:e.get("searchTitle"),key:e.get("key")})})},[C](e,t={}){const a=V(e),n=a.get("searches"),{query:i=a.get("query"),limit:r}=t;n.each(t=>{const n=t.server;if(!n.supports("quickSearch")||!n.get("isConnected"))return void t.set({isSearchPending:!1});t.abortPendingPopulate(),t.set("isSearchPending",!0);const s=t.get("providerEntityID");Object(I.h)(e,{providerEntityID:s}).populate({merge:!0}).then(()=>t.fetch({data:{sectionId:a.get("directoryID"),query:i,limit:r}})).done(()=>{t.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})}).fail(e=>{t.set({isSearchPending:!1,searchError:Object(y.a)(e)})})})},[j](e,t,a){const n=V(e);""===t.trim()?a(x()):(n.get("query").length>1&&t.length<2&&a(x()),n.set("query",t))},[D](e,t){const a=V(e),{serverEntityID:n=a.get("serverEntityID"),providerEntityID:i=a.get("providerEntityID"),providerIdentifier:r=a.get("providerIdentifier"),directoryID:s=a.get("directoryID")}=t;a.set({serverEntityID:n,providerEntityID:i,providerIdentifier:r,directoryID:s})},[P](e,t){const a=V(e),{searchResultEntityID:n,offset:i}=t;if(n)return void a.set("selectedResultEntityID",n);const r=a.get("searches").reduce((e,t)=>{const a=t.get("hubs").reduce((e,t)=>e.concat(B(t.get("metadataResults")),B(t.get("tagResults"))),[]);return e.concat(a)},[]);const s=r.indexOf(a.get("selectedResultEntityID")),o=r.length-1,l=s+i,c=l<-1||l>o?i>0?-1:o:l,d=-1===c?null:r[c];a.set("selectedResultEntityID",d)},[T](e,t={},a){const n=V(e),i=null!=t.searchResultEntityID?t.searchResultEntityID:n.get("selectedResultEntityID"),s=Object(I.i)(e,{searchResultEntityID:i});if(!s){const e=n.get("query");return a(Object(r.v)({pathname:"/search",query:{query:e}})),void a(x())}const{tagItem:o,metadataItem:l}=s.pick("tagItem","metadataItem");if(o){const{typeString:e}=g.a.get(o.get("tagType")),t={filters:o.has("filter")?o.get("filter"):`${e}=${o.get("id")}`,filterLabel:o.get("tag"),context:s.metricsContext},n=Object(v.a)()?Object(b.a)(s.server.toJSON(),s.provider.toJSON(),Object(p.a)(s.provider,o.get("librarySectionKey")),{key:o.get("key"),pageType:S.b.List,context:s.metricsContext}):Object(f.a)(s.server.toJSON(),s.provider.toJSON(),Object(p.a)(s.provider,o.get("librarySectionKey")),t);return a(x()),void(n&&(window.location.hash=n))}const c=Object(p.a)(s.provider,l.get("librarySectionKey")),d=Object(E.a)(s.server.attributes,s.provider.attributes,l.attributes,{context:s.metricsContext,legacy:l.get("type")===h.PHOTO_ALBUM?1:void 0},c);d?(window.location.hash=d,a(x())):a(U({searchResultEntityID:i}))},[w](e,t={},a){const{options:n}=t,i=V(e),r=null!=t.searchResultEntityID?t.searchResultEntityID:i.get("selectedResultEntityID"),s=Object(I.i)(e,{searchResultEntityID:r});if(!s)return void a(z(t));const c=s.get("metadataItem");c&&(a(Object(o.x)({serverEntityID:s.server.entityID(),providerEntityID:s.provider.entityID(),metadataItemEntityID:c.entityID(),metricsPage:l.gb,metricsContext:s.metricsContext,options:{containerKey:c.get("skipParent")?c.get("grandparentKey"):c.get("parentKey"),...n}})),a(x()))}}},sdSe:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("qNzc");function i(e){return e.get("isOpen")?e.get("hasError")?n.b:e.get("isPaused")?n.c:e.get("isBuffering")?n.a:n.d:n.e}},sfIp:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a("G4qV"),i=a("tCfm"),r=a("Vk9Z");function s(e){return e?{entityID:e.entityID,id:e.id,parentID:e.parentID,identifier:e.identifier,metricsIdentifier:e.metricsIdentifier,isLibraryProvider:e.isLibraryProvider,isPopulated:!!e.isPopulated,epgSource:e.epgSource,title:e.title,sourceTitle:e.sourceTitle,protocols:e.protocols.reduce((e,t)=>(e[t]=!0,e),{}),features:e.features.reduce((e,t)=>{let a=t;if(t.type===r.b){let e={type:r.b};e=t.actions.reduce((e,t)=>(e[t.id]=t,e),e),a=e}return e[t.type]=a,e},{})}:null}const o={};function l(e,{providerEntityID:t}){let a=o[t];return a||(a=Object(i.a)(Object(n.a)((e,t)=>e.entities.providers[t],s),e=>e),o[t]=a),a(e,t)}},siYB:function(e,t,a){e.exports={devicesContainer:"DVRSetupDeviceList-devicesContainer-3H1xSO",innerModalBody:"DVRSetupDeviceList-innerModalBody-3dKwhM ModalBody-innerModalBody-BHe1nE",spinnerContainer:"DVRSetupDeviceList-spinnerContainer-ybyGM9"}},sjIW:function(e,t,a){"use strict";function n(e,t,a){return{...e,...a,...t}}a.d(t,"a",(function(){return n}))},slDQ:function(e,t,a){"use strict";var n=a("0jae");t.a=function(e,t="`assert` requires an error message argument",a=!1){if(e)return!0;if(n.a.error(t),a)throw new Error(t);return!1}},smKM:function(e,t,a){e.exports={linkCover:"MetadataTableRow-linkCover-KDCSST Link-link-2ew_DK",overlay:"MetadataTableRow-overlay-_TFQZN MetadataTableRow-linkCover-KDCSST Link-link-2ew_DK",underlay:"MetadataTableRow-underlay-tSsY-w MetadataTableRow-linkCover-KDCSST Link-link-2ew_DK",selectedListRow:"MetadataTableRow-selectedListRow-2b3axQ ListRow-row-1sqnTj",rangeListRow:"MetadataTableRow-rangeListRow-1o4iQ6 ListRow-row-1sqnTj",isSelectionActive:"MetadataTableRow-isSelectionActive-1Z8pea",firstTableCell:"MetadataTableRow-firstTableCell-HUJ75o TableCell-tableCell-2mwuHk",title:"MetadataTableRow-title-cNk_l6 TableCell-title-2x35AT",isSecondary:"MetadataTableRow-isSecondary-1aBcwk",playCell:"MetadataTableRow-playCell-1eyqqJ",downloadIcon:"MetadataTableRow-downloadIcon-37AMup",outsideIcon:"MetadataTableRow-outsideIcon-3ZXnfa",hiddenIcon:"MetadataTableRow-hiddenIcon-3J9B0D",actionsCell:"MetadataTableRow-actionsCell-yQ5kKi TableCell-tableCell-2mwuHk",actionsButton:"MetadataTableRow-actionsButton-Hypg4s Link-link-2ew_DK"}},"sn/B":function(e,t,a){e.exports={sidebarListItem:"SidebarListItem-sidebarListItem-GdcVsd"}},sn2U:function(e,t,a){"use strict";a.d(t,"b",(function(){return m}));var n=a("mOXR"),i=a("CHn6"),r=a("B69o"),s=a("vdDq");var o=r.a.extend({name:"HomeHubCollection",model:s.d}),l=a("ZYvM");var c=i.a.extend({name:"HomeSettingsModel",syncedAttrs:{hasCustomizations:n.a.boolean.isRequired,hasSeededPreferredServerContent:n.a.boolean.isRequired,hasSeededProviderPromotedContent:n.a.boolean.isRequired,preferredServerID:n.a.string,settingsKey:n.a.string.isRequired,version:n.a.integer.isRequired},syncedRelations:{hubs:{relationClass:o}},defaults:()=>({hasCustomizations:!1,hasSeededPreferredServerContent:!1,hasSeededProviderPromotedContent:!1,settingsKey:Object(l.a)(),version:1})});var d=i.a.extend({name:"SidebarSourceModel",idAttribute:"key",syncedAttrs:{key:n.a.string.isRequired,sourceType:n.a.string.isRequired,machineIdentifier:n.a.string.isRequired,providerIdentifier:n.a.string.isRequired,directoryID:n.a.string,directoryIcon:n.a.string,title:n.a.string.isRequired,serverFriendlyName:n.a.string.isRequired,serverSourceTitle:n.a.string,providerSourceTitle:n.a.string,detail:n.a.string,isCloud:n.a.boolean,isFullOwnedServer:n.a.boolean,isHidden:n.a.boolean.isRequired,hiddenAt:n.a.integer},defaults:{isHidden:!1}});var u=r.a.extend({name:"SidebarSourceCollection",model:d});var p=i.a.extend({name:"SidebarSettingsModel",syncedAttrs:{hasCompletedSetup:n.a.boolean.isRequired},syncedRelations:{pinnedSources:{relationClass:u}},defaults:()=>({hasCompletedSetup:!1})});const m="experience",h={sessionAttrs:{sidebarPreferredSourcesSavedEnteredPath:n.a.string,isSidebarAllSources:n.a.boolean.isRequired,isDirty:n.a.boolean.isRequired,isSaving:n.a.boolean.isRequired,saveError:n.a.object},syncedAttrs:{updatedAt:n.a.integer,autoHomeHubsEnabled:n.a.boolean,shouldSaveLastSourcePivots:n.a.boolean.isRequired,lastSourcePivots:n.a.object.isRequired,savedPivotParams:n.a.object.isRequired,autoPinnedProviders:n.a.array.isRequired,dismissedUpsellModals:n.a.array},syncedRelations:{homeSettings:{relationClass:c},sidebarSettings:{relationClass:p}},defaults:{autoHomeHubsEnabled:null,sidebarPreferredSourcesSavedEnteredPath:null,isSidebarAllSources:!1,isDirty:!1,isSaving:!1,saveError:null,shouldSaveLastSourcePivots:!0,lastSourcePivots:{},savedPivotParams:{},autoPinnedProviders:[],dismissedUpsellModals:[]}};t.a=h},sq6x:function(e,t,a){e.exports={tagsInput:"TagsInput-tagsInput-2eRCns",input:"TagsInput-input-3KDPbm",hasError:"TagsInput-hasError-22oXCy input-hasError-1to6Ql"}},ssI9:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("qBny"),s=a("61K8"),o=a.n(s);t.a=function({children:e}){return i.a.createElement(r.a,{className:o.a.pageHeaderRight},e)}},sscm:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(a("d8WC")).call(t,"This media is being synced.",{hash:{},data:s}))+"</h4> <h4>"+l(i(a("d8WC")).call(t,"Watch the status of the sync {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:s}))+"</h4> </div> </div> "}))},"t/0V":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("FIl5");function i(e,t,a="message"){if(!e)return t;const i=n.a.parseXML(e.responseText);return i&&i[a]?i[a]:t}},t2mA:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"h",(function(){return h})),a.d(t,"d",(function(){return g})),a.d(t,"i",(function(){return y})),a.d(t,"j",(function(){return b})),a.d(t,"l",(function(){return v})),a.d(t,"m",(function(){return I})),a.d(t,"n",(function(){return S})),a.d(t,"o",(function(){return E})),a.d(t,"k",(function(){return O})),a.d(t,"p",(function(){return M}));var n=a("ICb1"),i=a("0jae"),r=a("92Vb"),s=a("GdCd"),o=a("hPIe");const l="user/lockUser",c="user/fetchUserFeatures",d="user/populateUserFeatures",u="user/saveExperienceSettings",p="user/saveSubtitleColor",m="user/saveSubtitlePosition",h="user/saveSubtitleSize",g="user/saveAutoPlay",y=Object(n.a)(l),f=Object(n.a)(c),b=Object(n.a)(d),v=Object(n.a)(u),I=Object(n.a)(p),S=Object(n.a)(m),E=Object(n.a)(h),O=Object(n.a)(g),M={[l](e,t){i.a.error("LOCK_USER must be handled by each project")},[c]:Object(r.a)({key:"features",getModel:o.o}),[d]:Object(s.a)({key:"features",fetchActionCreator:f,getModel:o.o}),[u](e,t){i.a.error("SAVE_EXPERIENCE_SETTINGS must be handled by each project")},[p](e,t,a){a(v(t))},[m](e,t,a){a(v(t))},[h](e,t,a){a(v(t))},[g](e,t,a){a(v(t))}}},t3ne:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-tagging-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m252 56l308 308-196 196-308-308 0-196 196 0m-21 42l-133 0 0 133 266 266 133-133-266-266m-49 42c23.18 0 42 18.82 42 42 0 23.18-18.82 42-42 42-23.18 0-42-18.82-42-42 0-23.18 18.82-42 42-42"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},t3yN:function(e,t,a){e.exports={section:"SignInFormSection-section-2kPygI"}},t4kf:function(e,t,a){e.exports={description:"InsecureFallbackChoicePage-description-3qJXgB EmptyPageDescription-description-DhEtaD"}},t87T:function(e,t,a){e.exports={image:"DVRDeviceImage-image-1q4Bgj"}},tCBj:function(e,t,a){e.exports={modalContent:"DisableTwoFactorAuthModal-modalContent-hBjP9W ModalContent-modalContent-4GS6yU",innerModalBody:"DisableTwoFactorAuthModal-innerModalBody-1gOMOT ModalBody-innerModalBody-BHe1nE",inputGroup:"DisableTwoFactorAuthModal-inputGroup-3BGI35"}},tCfm:function(e,t,a){"use strict";var n=a("G4qV"),i=a("F/us"),r=a.n(i);const s=Object(n.b)(n.d,r.a.isEqual);t.a=s},tI86:function(e,t,a){"use strict";function n(e,t,a){return e.features.find(e=>e.type===t&&(!a||e.flavor===a))}a.d(t,"a",(function(){return n}))},tL6L:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return s}));const n="list",i="spotlight",r="upsell",s=["shelf","grid",n,"banner","hero"]},tN90:function(e,t,a){e.exports={magazine:"Carousel-magazine-3pULs0",slide:"Carousel-slide-1-FUF9",currentSlide:"Carousel-currentSlide-1fcfro Carousel-slide-1-FUF9"}},tNwU:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l}));const n=5,i=10,r=30,s=5,o=600,l=600},tRmQ:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("cgRT"),i=a("jLR9");function r(){const e=Object(n.c)("appModel").get("deviceSettings").get("debugLevel");return e===i.a.ENABLED||e===i.a.VERBOSE}},tRnC:function(e,t,a){e.exports={resetButton:"LibraryPageHeader-resetButton-1JTO6m ToolbarButton-toolbarButton-2i2nnD"}},tSXP:function(e,t,a){e.exports={dotButton:"SpotlightHubDot-dotButton-22ad0b Button-button-3A5jB3 Link-link-2ew_DK",dot:"SpotlightHubDot-dot-1vI7Ji",dotIsSelected:"SpotlightHubDot-dotIsSelected-3I2Lu8 SpotlightHubDot-dot-1vI7Ji"}},tXoW:function(e,t,a){e.exports={listContainer:"DirectoryListPageContent-listContainer-_B2x94",pageContentScroller:"DirectoryListPageContent-pageContentScroller-37FxKJ PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},taAd:function(e,t,a){"use strict";var n=a("gnaf");t.a=function(e,t){const a=t||e;return n.l(a,n.c)?n.c:a}},taPP:function(e,t,a){e.exports={header:"TopPlayedColumnHeader-header-3DLAC0",tintedHeader:"TopPlayedColumnHeader-tintedHeader-fqZcP8 TopPlayedColumnHeader-header-3DLAC0",titleBackground:"TopPlayedColumnHeader-titleBackground-3VRIG-",emptyTitleBackground:"TopPlayedColumnHeader-emptyTitleBackground-3LDge3 TopPlayedColumnHeader-titleBackground-3VRIG-",imageContainer:"TopPlayedColumnHeader-imageContainer-1UECdo",titleText:"TopPlayedColumnHeader-titleText-3FpoEq"}},tbBR:function(e,t,a){e.exports={backgroundContainer:"FullPlayerBackground-backgroundContainer-2UnXoW"}},tibn:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("+X4A"),s=a("CHn6"),o=a("mOXR"),l=a("nvND");var c=s.a.extend({name:"TranscodeSessionModel",context:["server"],url(){return"/transcode/sessions/"+this.id},syncedAttrs:{key:o.a.string,progress:o.a.float,throttled:o.a.boolean,speed:o.a.float,duration:o.a.integer,videoDecision:o.a.string,audioDecision:o.a.string,protocol:o.a.string,container:o.a.string,videoCodec:o.a.string,audioCodec:o.a.string,audioChannels:o.a.integer,width:o.a.string,height:o.a.string,transcodeHwDecoding:o.a.string,transcodeHwEncoding:o.a.string,timeStamp:o.a.integer,minOffsetAvailable:o.a.integer,maxOffsetAvailable:o.a.integer}}),d=a("cVe3"),u=a("KKL4"),p=a("LSig"),m=a("AXwp"),h=a("Q3JP"),g=a("Pg5J"),y=a("zTY+"),f=a("5HFX"),b=a("gnaf");var v=a("e/b/"),I=a("Pizw"),S=a("FIl5"),E=a("WfN5"),O=a("7za+"),M=a("66GW"),C=a("rXDx"),j=a("xI1S"),D=a("bcER"),P=a("B69o");var T=s.a.extend({name:"ChapterModel",context:["server","section"],syncedAttrs:{id:o.a.integer,tag:o.a.string,index:o.a.integer,startTimeOffset:o.a.integer,endTimeOffset:o.a.integer,thumb:o.a.string}});var w=P.a.extend({name:"ChapterCollection",context:["server","section"],model:T,modelId:e=>`${e.id}_${e.index}`});var N=s.a.extend({name:"ConcertModel",context:["server","section"],syncedAttrs:{id:o.a.integer,at:o.a.integer,tag:o.a.string,venue:o.a.string,city:o.a.string,country:o.a.string,url:o.a.string}});var x=P.a.extend({name:"ConcertCollection",context:["server","section"],model:N}),A=a("8uQ2"),L=a("ZGgN"),k=a("fwi0"),R=a("Ngum");const z={guid:!0,librarySectionID:!0,librarySectionTitle:!0,librarySectionUUID:!0,librarySectionKey:!0,source:!0,Context:!0,file:!0,summary:!0,tagline:!0,action:!0,attributionLogo:!0,backgroundColor:!0};function U(e){let t=0;if(!e)return t;for(let a=0,n=e.length;a<n;a++){const n=e[a].Part;if(n)for(let e=0,a=n.length;e<a;e++){const a=n[e].Stream;a&&(t+=a.length)}}return t}function V(e=[]){return Object(L.a)(e,R.a,e=>e)}function B(e,t,a){if(a&&!t)return a;var n;const i=(n=a||t)&&n.some(e=>e.protocol===k.a)||function(e){return e&&e.some(e=>"livetv"===e.origin)}(a||t)?function(e,t){var a,n,i,r,s,o,l,c;if(!t)return null;const d=V(e),u=V(t),p={...d,...u};for(const e in d){const t=d[e],m=u[e];t&&m&&t.Overlay.length&&!m.Overlay.length&&(p[e]={...p[e],Overlay:t.Overlay});const h=null!=(r=null==(i=null==(n=null==(a=null==t?void 0:t.Part)?void 0:a[0])?void 0:n.Stream)?void 0:i.length)?r:0,g=null!=(c=null==(l=null==(o=null==(s=null==m?void 0:m.Part)?void 0:s[0])?void 0:o.Stream)?void 0:l.length)?c:0;t&&m&&h>g&&(p[e]={...p[e],Part:t.Part})}return Object.keys(p).map(e=>p[e])}(t,a):function(e,t){const a=U(t),n=U(e);return a||!n?t:e}(t,a);return i||Object(A.a)(e,t,a)}function F(e){return(e.hasOwnProperty("ratingKey")||e.hasOwnProperty("id"))&&e.hasOwnProperty("tag")}function H(e,t){t.forEach(t=>{null!=(null==e?void 0:e[t])&&"string"!=typeof e[t]&&(e[t]=e[t].toString())})}const _=s.a.extend({name:"MetadataModel",context:[["server",{boundDerivedAttrs:["serverEntityID"]}],["provider",{boundDerivedAttrs:["providerEntityID"]}],"section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","relatedOptions","includeExternalMedia"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:O.g,entityID(e=this.state){let t;if(e.source){const{serverIdentifier:a}=Object(f.a)(e.source);a!==this.server.get("machineIdentifier")&&(t=Object(E.a)(O.n,a))}return Object(E.a)(this.entityType,e.key||this.cid,t,this.server.entityID())},idAttribute:"ratingKey",rootPropertyName:"Metadata",cache:new u.a,mergeStrategy:function(e,t,a){return"Media"===e?B(e,t,a):function(e){const t=W.prototype.syncedAttrs[e];return!(!t||t!==o.a.array)}(e)?function(e,t,a){if(!a)return t;if(!t)return a;if(a.length>t.length)return a;if(!a.length||a.length<t.length)return t;const n=t&&t[0],i=a&&a[0];if(!n&&i)return a;if(!i&&n)return t;const r=F(n),s=F(i);return r&&!s?t:a}(0,t,a):function(e){return!!W.prototype.syncedRelations[e]}(e)||z[e]?Object(A.a)(e,t,a):a},responseType(){const e=this.get("key");return e&&e.indexOf("/system/services/url/lookup")>-1?l.c:Object(h.a)(this.server)},url(){const e={};return this.includeExternalMedia&&(e.includeExternalMedia=1),r.default.join(this.get("key"),e)},urlRoot(){return this.get("key")},saveUrl(){return this.get("isPlaylist")&&!this.server.supports("truePlaylistsPath")?"/library/metadata/"+this.get("ratingKey"):i.a.result(this,"url")},cacheKey(e){const t=this.extractChildrenKey(e.key);return e.source&&(t.key=e.source+t.key),this.server&&this.server.getScopedKey(t.key)},sessionAttrs:{isPreFetched:o.a.boolean,isStreamChangeInProgress:o.a.boolean,isStreamDeleteInProgress:o.a.boolean,metadataState:o.a.string,mediaState:o.a.string,isSettingsUpdating:o.a.boolean,settingsUpdateError:o.a.object,dvrChannel:o.a.object,viewCountIncrementedByPlayQueueItemID:o.a.string,downloadSubscriptionID:o.a.string,isDownloaded:o.a.boolean},syncedAttrs:{elementName:o.a.string,ratingKey:o.a.string,parentRatingKey:o.a.string,grandparentRatingKey:o.a.string,key:o.a.string,childrenKey:o.a.string,Context:o.a.object,parentKey:o.a.string,grandparentKey:o.a.string,primaryExtraKey:o.a.string,augmentationKey:o.a.string,guid:o.a.string,source:o.a.string,sourceURI:o.a.string,attribution:o.a.string,attributionLogo:o.a.string,action:o.a.string,backgroundColor:o.a.string,remoteMedia:o.a.boolean,librarySectionID:o.a.string,librarySectionTitle:o.a.string,librarySectionUUID:o.a.string,librarySectionKey:o.a.string,type:o.a.string,subtype:o.a.string,title:o.a.string,titleSort:o.a.string,originalTitle:o.a.string,parentTitle:o.a.string,grandparentTitle:o.a.string,year:o.a.string,minYear:o.a.string,maxYear:o.a.string,tagline:o.a.string,summary:o.a.string,studio:o.a.string,contentRating:o.a.string,originallyAvailableAt:o.a.string,thumb:o.a.string,parentThumb:o.a.string,grandparentThumb:o.a.string,banner:o.a.string,art:o.a.string,parentArt:o.a.string,grandparentArt:o.a.string,hero:o.a.string,theme:o.a.string,parentTheme:o.a.string,grandparentTheme:o.a.string,chapterSource:o.a.string,ratingImage:o.a.string,audienceRating:o.a.float,audienceRatingImage:o.a.string,directory:o.a.boolean,rating:o.a.float,userRating:o.a.float,playbackSpeed:o.a.float,index:o.a.integer,parentIndex:o.a.integer,absoluteIndex:o.a.integer,duration:o.a.integer,preview:o.a.boolean,viewOffset:o.a.integer,viewCount:o.a.integer,childCount:o.a.integer,leafCount:o.a.integer,viewedLeafCount:o.a.integer,ratingCount:o.a.integer,mediaCount:o.a.integer,mediaCountOptimized:o.a.integer,extraType:o.a.integer,lastViewedAt:o.a.integer,lastRatedAt:o.a.integer,addedAt:o.a.integer,updatedAt:o.a.integer,deletedAt:o.a.integer,Geolocation:o.a.object,playlistID:o.a.integer,playlistType:o.a.string,specialPlaylistType:o.a.string,radio:o.a.boolean,smart:o.a.boolean,readOnly:o.a.boolean,icon:o.a.string,composite:o.a.string,content:o.a.string,durationInSeconds:o.a.integer,skipChildren:o.a.boolean,skipParent:o.a.boolean,skipDetails:o.a.boolean,subscriptionID:o.a.string,saved:o.a.boolean,picked:o.a.boolean,grandparentSubscriptionID:o.a.string,subscriptionType:o.a.string,grandparentSubscriptionType:o.a.string,Channel:o.a.array,Topic:o.a.array,onAir:o.a.boolean,watchlistedAt:o.a.integer,Media:o.a.array,Collection:o.a.array,Director:o.a.array,Producer:o.a.array,Writer:o.a.array,Studio:o.a.array,Genre:o.a.array,Mood:o.a.array,Country:o.a.array,Label:o.a.array,Role:o.a.array,Location:o.a.array,Tag:o.a.array,Autotag:o.a.array,Marker:o.a.array,indirect:o.a.boolean,Origin:o.a.object,requiresConsent:o.a.boolean,Platform:o.a.array,Publisher:o.a.array},syncedRelations:{chapters:{relationClass:w,rootPropertyName:"Chapter",deferred:!0},preferences:{relationClass:d.a,rootPropertyName:"Preferences",deferred:!0},onDeck:()=>({relationClass:_,rootPropertyName:"OnDeck",deferred:!0}),related(){const e={skipCache:!0};return this.relatedOptions&&i.a.extend(e,this.relatedOptions),{relationClass:a("y3BC").default,rootPropertyName:"RelatedHubs",deferred:!0,options:e}},popularLeaves:()=>({relationClass:a("Wpyo").default,rootPropertyName:"PopularLeaves",deferred:!0}),extras:()=>({relationClass:a("Wpyo").default,rootPropertyName:"Extras",deferred:!0,attrs:e=>({containerKey:r.default.join([e.key,"extras"])})}),concerts:{relationClass:x,rootPropertyName:"Concert",deferred:!0},stations:()=>({relationClass:a("vjRy").default,rootPropertyName:"Stations",deferred:!0}),transcodeSession:{relationClass:c,rootPropertyName:"TranscodeSession",deferred:!0}},derivedAttrs:{identifier(){return this.identifier},serverEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{serverIdentifier:t}=Object(f.a)(e);return Object(E.a)(O.n,t)}return this.server?this.server.entityID():null},providerEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{providerIdentifier:t}=Object(f.a)(e);return Object(E.a)(O.k,t,this.get("serverEntityID"))}return this.provider?this.provider.entityID():null},mediaTagPrefix(){return this.mediaTagPrefix},mediaTagVersion(){return this.mediaTagVersion},allowSync(){return this.allowSync},containerKey(){return this.containerKey},isLibraryItem(){return this.isLibraryItem(this.get("identifier"),this.get("key"))},isPlaylist(){return this.get("type")===C.PLAYLIST&&!this.get("radio")},isFolder(){return/\/folder\?parent=/.test(this.get("key"))},isExtra(){return!!this.get("extraType")},isPremium(){const e=this.get("Media")||[];return i.a.any(e,e=>e.premium)},hasRadioStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:j.a})},hasArtistTVStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:j.c})},unviewedLeafCount(){const e=this.get("leafCount"),t=this.get("viewedLeafCount");if(e)return e-t},downloadUrl(){const e=this.get("Media");if(e&&1===e.length){const t=i.a.first(i.a.first(e).Part),a=t&&t.key;if(a)return()=>{const e=r.default.join(a,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}}},defaults:{isStreamChangeInProgress:!1,isStreamDeleteInProgress:!1,isSettingsUpdating:!1,isDownloaded:!1,settingsUpdateError:null,rating:0,onAir:!1,skipDetails:!1,Media:[],Collection:[],Director:[],Producer:[],Writer:[],Studio:[],Genre:[],Mood:[],Country:[],Label:[],Topic:[],Channel:[],Role:[],Location:[],Autotag:[],Tag:[],Platform:[],Publisher:[],requiresConsent:!1},fetch(e={}){return e.data&&(this._populatedParams=i.a.extend({},this._populatedParams,e.data)),e.usePopulatedParams&&(e.data=this._populatedParams),s.a.prototype.fetch.call(this,e)},augmentResponseText:(e,t)=>t===l.c?Object(I.b)(e):e,augmentResponse(e,t){var a;let n=e[this.rootPropertyName];if(n){Array.isArray(n)&&(n=n[0]);["attribution","augmentationKey","librarySectionID","librarySectionTitle","librarySectionUUID"].forEach(t=>{n[t]||(n[t]=e[t])}),e.type===C.CHANNEL&&(n.dvrChannel={identifier:e.identifier||e.id,thumb:e.thumb,title:e.title,callSign:e.callSign})}this.responseContext.forEach(t=>{const a=e[t]||n&&n[t];void 0!==a&&this.setContext(t,a)});const r=n||e,s=r.Related,o=r.OnDeck,l=r.Stations,c=r.Preferences,d=this.extractChildrenKey(r.key);if(d.childrenKey&&(r.childrenKey=d.childrenKey,r.key=d.key),r.Media=this.convertMediaItems(r.Media),r.Channel=this.convertChannels(r.Channel),r.Role=this.convertRole(r.Role),r.Topic=this.convertTopics(r.Topic),r.Marker=this.convertMarkers(r.Marker),!r.source&&this.server){const e=Object(y.a)({providerIdentifier:null==(a=this.provider)?void 0:a.get("identifier"),serverIdentifier:this.server.get("machineIdentifier")});r.source=e,r.sourceURI=`${e}${r.key}`}return s&&(r.RelatedHubs=i.a.compact([].concat(s.Hub,s.Directory))),o&&(r.OnDeck=o.Metadata),l&&(r.Stations=l.Metadata),c&&(r.Preferences=c.Setting),r.type===C.PHOTO&&r.childrenKey&&(r.type=C.PHOTO_ALBUM),r},extractChildrenKey(e){const t=/(.*)\/(children|items)$/.exec(e);let a;return t&&(a=e,e=t[1]),{childrenKey:a,key:e}},convertMediaItems(e){const t=S.a.parseArray(e);return i.a.each(t,e=>{H(e,["id"]),v.a.parseBoolean(e,["indirect","optimizedForStreaming","onAir","premium","premiere","selected"]),v.a.parseInteger(e,["duration","width","height","bitrate","audioChannels","proxyType","beginsAt","endsAt","beginOffset","startOffsetSeconds","endOffsetSeconds"]),null==e.id&&null==e.uuid&&(e.uuid=`${e.container}-${e.protocol}-${e.audioCodec}`),v.a.parseArray(e,"Overlay"),v.a.parseArray(e,"Part"),i.a.each(e.Overlay,e=>{null!=e.duration&&(e.duration=parseInt(e.duration,10)),e.startTimeOffset=parseInt(e.startTimeOffset,10)}),i.a.each(e.Part,e=>{H(e,["id"]),null!=e.exists&&(e.exists=S.a.parseBoolean(e.exists)),null!=e.accessible&&(e.accessible=S.a.parseBoolean(e.accessible)),v.a.parseInteger(e,["duration","size"]),v.a.parseBoolean(e,"optimizedForStreaming"),v.a.parseEncodedString(e,"file"),v.a.parseArray(e,"Stream"),i.a.each(e.Stream,e=>{H(e,["id"]),v.a.parseBoolean(e,["anamorphic","selected","default","forced","timed","cabac","hasScalingMatrix","headerStripping"]),v.a.parseInteger(e,["index","streamType","duration","width","height","bitrate","bitDepth","level","refFrames","samplingRate","channels","minLines","offset"]),v.a.parseFloat(e,"frameRate")})})}),this.addNoneSubtitlesStreams(t)},convertChannels(e){const t=S.a.parseArray(e);return i.a.each(t,e=>{v.a.parseBoolean(e,["followed","muted"])}),t},convertRole(e){const t=S.a.parseArray(e);return i.a.each(t,e=>{v.a.parseBoolean(e,["directory"])}),t},convertTopics(e){const t=S.a.parseArray(e);return i.a.each(t,e=>{v.a.parseBoolean(e,["followed","muted"])}),t},convertMarkers(e){const t=S.a.parseArray(e);return i.a.each(t,e=>{v.a.parseInteger(e,["endTimeOffset","startTimeOffset"])}),t},addNoneSubtitlesStreams(e){const t=D.a.get("subtitles");return e.forEach(e=>{const a=e.Part,n="livetv"===e.origin;a&&a.forEach(a=>{if(!a.Stream)return;if(!n&&!Object(g.a)(e))return;const i=a.Stream.filter(e=>e.streamType===t.id);if(i.find(e=>e.id===m.a))return;const r=i.find(e=>e.selected),s={id:m.a,streamType:t.id,language:Object(M.default)("None")};r||(s.selected=!0),a.Stream.unshift(s)})}),e},getDownloadUrl(e=0){const t=this.get("Media")[e];if(t){const e=i.a.first(t.Part),a=e&&e.key;if(a){const e=r.default.join(a,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}},getFilepath(e=0){const t=this.get("Media")[e];if(t){const e=i.a.first(t.Part);if(e)return e.file}},getLocation(){const e=this.get("Location");return e.length?i.a.first(e).path:this.getFilepath()},getMediaKey(){const e=i.a.first(this.get("Media"));if(e){const t=i.a.first(e.Part);if(t)return t.key}return this.get("key")},isLibraryItem(e,t){return!(this.provider&&!this.provider.get("isLibraryProvider"))&&(n=t,(a=e)?b.l(a,b.d):/^(\/sync\/[\w\d-/]*)?\/library\//.test(n));var a,n},isPlexMusicItem(){const e=this.section;return e&&e.get("agent")===p.h}});var W=t.a=_},tjw3:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const n=e=>Function.prototype.toString.call(e),i=n(Object);function r(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;const a=t.constructor;return"function"==typeof a&&a instanceof a&&n(a)===i}},tlMz:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n);function r(e){const t=i.a.clone(e);return void 0!==t.last?(t.end=t.last+1,t.size=t.end-t.start):void 0!==t.size?(t.end=t.start+t.size,t.last=t.end-1):void 0!==t.end&&(t.last=t.end-1,t.size=t.end-t.start),t}function s(e,t){return i.a.filter(i.a.map(e,r),(function(e){return t?e.size>=0:e.size>0}))}const o={augment:r,difference:function(e,t,a){e=r(e),t=r(t);return s([{start:e.start,last:Math.min(e.last,t.start-1)},{start:Math.max(e.start,t.end),last:e.last}],a)},union:function(e,t,a){if(e=r(e),t=r(t),e.start>t.start){const a=e;e=t,t=a}const n=[e];return t.start<=e.end?n[0].last=Math.max(t.last,e.last):n.push(t),s(n,a)},degap:function(e,t){let a=r(e);return(t=r(t)).size?(a.start>t.end&&(a={start:t.end,end:a.end}),a.end<t.start&&(a={start:a.start,end:t.start}),r(a)):a},each:function(e,t,a){e=r(e);let n=Math.min(e.start,e.end);const i=Math.max(e.start,e.end);for(;n<=i;n++)t.call(a,n)},roundByPage:function(e,t){return e=r(e),r({start:Math.floor(e.start/t)*t,end:Math.ceil(e.end/t)*t})}};t.a=o},tmXh:function(e,t,a){e.exports={resolution:"EPGChannelResolution-resolution-rYFHtf Badge-badge-21NQRi"}},tqLa:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("+X4A"),s=a("Khyo"),o=a("4JMt"),l=a("BW9E"),c=a("41GN"),d=a("5Uxk"),u=a("rXDx");const p={uri:function(e,t){const a=t&&t.items;if(a&&a.length){if(a.length>1)return this.getBatchLibraryMetadataURI(a,t);e||(e=i.a.first(a))}if(e instanceof s.c.Model){if(e.get("isSection"))return this.getSectionURI(e,t);if(e.get("isMetadataList"))return this.getMetadataListURI(e,t);if(e.get("isPlaylist"))return this.getPlaylistURI(e,t)}return this.getLibraryMetadataURI(e,t)},parseLibraryUri:function(e){const t=r.default.getLastSegment(e),a=decodeURIComponent(t).match(/(\/library\/sections\/\w+)\/all(?:\?(.*))?/),[,n,i=""]=a,s={};for(const e of i.split("&")){const[t,a]=e.split("=");t.startsWith("include")||(s[t]=a)}const{type:o,sourceType:l,sort:c,limit:d,...u}=s;return{sectionKey:n,type:o,sourceType:l,sort:c,limit:d,filterString:Object.entries(u).map(([e,t])=>`${e}=${t}`).join("&")}},getSectionURI:function(e,t){const a=i.a.result(e,"url"),n=e.get("currentSubset"),s=e.get("currentFolderKey"),o=e.get("currentType");let l;if("folder"===n.id)l=s||r.default.join([a,"all"]);else{const t=e.get("items"),i=t.getParams();if(i.type&&delete i.type,i.timelineState&&delete i.timelineState,i.unwatchedLeaves){i[Object(u.getLeafType)(e.get("type")).typeString+".unwatched"]=1,delete i.unwatchedLeaves}o&&(i.sourceType=o.id),l=r.default.join([a,n.id],i),l=t.replaceSpecialFilterOperators(l)}return this._resolveURI({prefix:"library",parts:[e.get("uuid"),"directory",l]})},getBatchLibraryMetadataURI:function(e,t){const a=this._getSectionInfo(i.a.first(e)),n="/library/metadata/"+i.a.map(e,(function(e){return e.get("ratingKey")})).join(",");return this._resolveURI({prefix:"library",parts:[a.sectionUUID,"directory",n]})},getLibraryMetadataURI:function(e,t){t||(t={});const a=this._getSectionInfo(e);let n,s=i.a.result(e,"url");return t.excludeSeedItem&&(s=r.default.join(s,{excludeSeedItem:1})),n=e.models||e.collectionName||e instanceof o.a?"directory":e.get("radio")?"station":"item",this._resolveURI({prefix:"library",parts:[a.sectionUUID,n,s]})},getMetadataListURI:function(e,t){t||(t={});const a=this._getSectionInfo(e);return this._resolveURI({prefix:"library",parts:[a.sectionUUID,"directory",r.default.join(e.get("containerKey"),{sourceType:t.sourceType})]})},getPlaylistURI:function(e,t){return this._resolveURI({prefix:"playlist",parts:["",e.get("guid")]})},title:function(e,t){const a=t&&t.items;if(a&&a.length){if(a.length>1)return this.getBatchLibraryMetadataTitle(a,t);e=i.a.first(a)}return e.get("isSection")?this.getSectionTitle(e,t):e.get("isMetadataList")?this.getMetadataListTitle(e,t):this.getLibraryMetadataTitle(e,t)},getSectionTitle:function(e){const t=e.get("title"),a=e.get("currentSubset"),n=e.get("currentFilters");if("all"!==a.id)return t+": "+a.get("title");if(!n.length)return t;return t+": "+i.a.flatten(i.a.map(n,(function(e){return e.titles}))).join(", ")},getMetadataListTitle:function(e){return e.get("containerTitle")||e.get("title")},getBatchLibraryMetadataTitle:function(e){const t=i.a.map(e,(function(e){return e.get("title")}));return Object(d.a)(t)},getLibraryMetadataTitle:function(e){const t=e.get("grandparentTitle")||e.get("parentTitle");let a=e.get("title");if(t&&(a=t+" - "+a),"episode"===e.get("type")){a+=" ("+Object(l.a)({seasonIndex:e.get("parentIndex"),episodeIndex:e.get("index"),date:e.get("originallyAvailableAt"),noLeadingZero:!0,separator:" "})+")"}return a},_resolveURI:function(e){const t=e.parts,a=i.a.map(t,(function(e){return e?encodeURIComponent(e):""}));return e.prefix+"://"+a.join("/")},_getSectionInfo:function(e){let t=e.get("librarySectionUUID"),a=e.get("librarySectionID");if(!t||!a){const n=Object(c.a)(e);i.a.isEmpty(n)||(t=n.get("uuid"),a=n.id)}return{sectionUUID:t,sectionID:a}}};t.a=p},tsFx:function(e,t,a){e.exports={modalBody:"WatchTogetherInviteModalContent-modalBody-3qma5S ModalBody-modalBody--5uHSu",message:"WatchTogetherInviteModalContent-message-3GOdW-",spinnerContainer:"WatchTogetherInviteModalContent-spinnerContainer-l1CZIS",list:"WatchTogetherInviteModalContent-list-2J0RAj UserList-list-1xb8US Scroller-vertical-VScFLT",modalFooter:"WatchTogetherInviteModalContent-modalFooter-2ckW7y ModalFooter-modalFooter-30WIB5"}},tsu6:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 129 100",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-check"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m111.162 0l17.838 17.227-79.928 82.773-49.072-52.714 18.136-16.912 31.292 33.558 61.734-63.932"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},tt2x:function(e,t,a){e.exports={badgeMenuItem:"BadgeMenuItem-badgeMenuItem-3GW7S7 MenuItem-menuItem-1s02mQ",badge:"BadgeMenuItem-badge-3CgtTF Badge-badge-21NQRi"}},tuLj:function(e,t,a){},"u7G/":function(e,t,a){e.exports={thumbWrapper:"VideoChapterCell-thumbWrapper-1ofw_D",isActive:"VideoChapterCell-isActive-VaLoSm",titleContainer:"VideoChapterCell-titleContainer-2B15Ta",title:"VideoChapterCell-title-b2bbcF",secondaryTitle:"VideoChapterCell-secondaryTitle-3vGCqV"}},uCRf:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return l}));var n=a("ijGY");const i="audioVideo",r="photo",s="rom",o={[n.a]:i,[n.d]:i,[n.b]:r,[n.c]:s};function l(e){return o[e]}},uCj2:function(e,t,a){"use strict";a("0jae");var n=a("kwss");let i;function r(){if(void 0===i){const e=window.location.search.match(new RegExp("performanceReportingHost=([^&=]+)"));i=(e&&e[1]?decodeURIComponent(e[1]):n.a.performanceReportingHost)||null}return i}t.a=function(e=r){const t={};function a(a){return a&&!t[a]&&(t[a]=/^(client|playback):/.test(a)||!!e()),!!a&&t[a]}const n={startPeriod:e=>n.mark(e+"-start"),endPeriod:(e,t)=>n.measure(e,t||e+"-start"),mark(e){let t=null;if(a(e)){window.performance.mark(e);const a=window.performance.getEntriesByName(e);t=a[a.length-1]}else 0;return t},measure(e,t,n){let i=null;if(a(e))try{window.performance.measure(e,t,n),window.performance.clearMarks(t);const a=window.performance.getEntriesByName(e);i=a[a.length-1]}catch(e){}else 0;return i}};return n}()},uDqd:function(e,t,a){e.exports={bar:"ActionButtonBar-bar-BSTmw2"}},uEK0:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l="",c=this.escapeExpression;return((s=n.if.call(t,t&&t.disabled,{hash:{},inverse:this.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),r),fn:this.program(1,(function(e,t){return' <div class="user-select-container"> '}),r),data:r}))||0===s)&&(l+=s),l+=' <div class="user-select-top"> <div class="user-poster img-circle"> <span class="add-icon">',((s="function"==typeof(s=t&&t.iconAdd)?s.apply(t):s)||0===s)&&(l+=s),l+='</span> </div> </div> <div class="caption"> <div class="username">'+c((o=a("d8WC"),o&&(o.__esModule?o.default:o)).call(t,"Add User…",{hash:{},data:r}))+"</div> </div> ",((s=n.if.call(t,t&&t.disabled,{hash:{},inverse:this.program(7,(function(e,t){return" </a> "}),r),fn:this.program(5,(function(e,t){return" </div> "}),r),data:r}))||0===s)&&(l+=s),l+=" "}))},uEtx:function(e,t,a){e.exports={sortDirectionIcon:"IconTableHeaderSortDirection-sortDirectionIcon-OPhyF4"}},uF0K:function(e,t,a){"use strict";t.a=function(e){return e?"1":"0"}},uGWF:function(e,t,a){e.exports={container:"ChannelsGridDetailRowAirTime-container-Xxl-Is",contentRating:"ChannelsGridDetailRowAirTime-contentRating-3x_JJt"}},uNiD:function(e,t,a){"use strict";var n=a("CHn6"),i=a("mOXR");const r=n.a.extend({name:"QueryRuleModel",syncedAttrs:{field:i.a.string,fieldTitle:i.a.string,value:i.a.string,valueTitle:i.a.string,operator:i.a.string,type:i.a.string},syncedRelations:{rules:()=>({relationClass:a("JwlK").default,rootPropertyName:"Rule",deferred:!0})}});t.a=r},uP6D:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-settings-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m200 280c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80m-115.992-40c5.189-25.52 15.244-49.281 29.153-70.271l-61.151-61.15 56.569-56.569 61.15 61.151c20.99-13.909 44.751-23.964 70.271-29.153l0-84.008 80 0 0 84.008c25.52 5.189 49.281 15.244 70.271 29.153l61.15-61.151 56.569 56.569-61.151 61.15c13.909 20.99 23.964 44.751 29.153 70.271l84.008 0 0 80-84.008 0c-5.189 25.52-15.244 49.282-29.153 70.271l61.151 61.15-56.569 56.569-61.15-61.151c-20.99 13.909-44.751 23.964-70.271 29.153l0 84.008-80 0 0-84.008c-25.52-5.189-49.281-15.244-70.271-29.153l-61.15 61.151-56.569-56.569 61.151-61.15c-13.909-20.989-23.964-44.751-29.153-70.271l-84.008 0 0-80 84.008 0"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},uUkn:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon cogwheel"></i> ',((o=i(a("w+Xr")).call(t,t&&t.title,"Preferences...",{hash:{},inverse:this.program(3,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"{1} Settings",e&&e.escapedTitle,{hash:{},data:t}))+" "}),s),fn:this.program(1,(function(e,t){var n="";return n+=" "+c(i(a("d8WC")).call(e,"Directory Settings",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </h4> </div> <form id="channel-settings-form"> <div class="modal-body settings-container"> ',((o=n.each.call(t,t&&t.settings,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var n="";return n+=" "+c(i(a("nptq")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(i(a("d8WC")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(t,"Save",{hash:{},data:s}))+"</span> </button> </div> </form> </div> </div> "}))},uYXV:function(e,t,a){e.exports={dragPreview:"AudioVideoPlayQueueDragPreview-dragPreview-21bXey"}},uarP:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("cgRT");function i(e){const t=Object(n.c)("appModel").get("embeddedServer");return!!e&&!!t&&e.machineIdentifier===t.get("machineIdentifier")}},uceU:function(e,t,a){e.exports={container:"CriticRating-container-33b2hD",rating:"CriticRating-rating-2Jrl15",rt:"CriticRating-rt-2J0SbJ",ratingImage:"CriticRating-ratingImage-3-Lxod",igdb:"CriticRating-igdb-2cRTxw CriticRating-ratingImage-3-Lxod",imdb:"CriticRating-imdb-23PVnW CriticRating-ratingImage-3-Lxod",thetvdb:"CriticRating-thetvdb-12ZAE2 CriticRating-ratingImage-3-Lxod",tmdb:"CriticRating-tmdb-1F5ua- CriticRating-ratingImage-3-Lxod",certified:"CriticRating-certified-kPXY1l CriticRating-ratingImage-3-Lxod",ripe:"CriticRating-ripe-3KaJBn CriticRating-ratingImage-3-Lxod",rotten:"CriticRating-rotten-19B4iO CriticRating-ratingImage-3-Lxod",spilled:"CriticRating-spilled-9kErJQ CriticRating-ratingImage-3-Lxod",upright:"CriticRating-upright-3fxtyh CriticRating-ratingImage-3-Lxod",other:"CriticRating-other-1f4HXP CriticRating-ratingImage-3-Lxod"}},ugHo:function(e,t,a){e.exports={form:"DVRManageChannelsModalContent-form-2ykdJq",manageChannelsBody:"DVRManageChannelsModalContent-manageChannelsBody-PHeFRe ModalBody-modalBody--5uHSu",scanChannelsContainer:"DVRManageChannelsModalContent-scanChannelsContainer-1k91yK",scanChannelsMessage:"DVRManageChannelsModalContent-scanChannelsMessage-3d_EuA",scroller:"DVRManageChannelsModalContent-scroller-1MbzJs Scroller-vertical-VScFLT",centeredContainer:"DVRManageChannelsModalContent-centeredContainer-6K7kAs",progressContainer:"DVRManageChannelsModalContent-progressContainer-1GUW14"}},uh19:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}function p(e,t){return"checked"}function m(e,t){return"disabled"}return l+='<form class="edit-section-folders-form settings-container"> <div id="arcade-upsell" class="',((o=n.if.call(t,t&&t.hideArcadeUpsell,{hash:{},inverse:c.noop,fn:c.program(1,u,s),data:s}))||0===o)&&(l+=o),l+='"> <p>'+d(i(a("d8WC")).call(t,"Introducing retro gaming in Plex, brought to you by Plex Labs!",{hash:{},data:s}))+'</p> <p class="help-block">'+d(i(a("d8WC")).call(t,"With a Plex Arcade subscription, you can play and stream many of your favorite retro games on Google Chrome, Microsoft Edge, Android, iOS or Apple TV devices! Try it for free for 7 days!",{hash:{},data:s}))+'</p> <p class="button-container"> <a type="button" href='+d("function"==typeof(o=t&&t.subscribeURL)?o.apply(t):o)+' target="_blank" class="subscribe-btn btn btn-primary">'+d(i(a("d8WC")).call(t,"Subscribe Now",{hash:{},data:s}))+'</a> </p> </div> <p id="arcade-required" class="',((o=n.if.call(t,t&&t.hideArcadeRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,s),data:s}))||0===o)&&(l+=o),l+='">'+d(i(a("d8WC")).call(t,"Sorry, a {1}Plex Arcade subscription{2} is required to create a new Games library.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:s}))+'</p> <p id="arcade-greeting" class="',((o=n.if.call(t,t&&t.hideArcadeGreeting,{hash:{},inverse:c.noop,fn:c.program(1,u,s),data:s}))||0===o)&&(l+=o),l+='">'+d(i(a("d8WC")).call(t,"Thanks! You've got an active {1}Plex Arcade subscription{2}.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:s}))+'</p> <p id="parsec-required" class="',((o=n.if.call(t,t&&t.hideParsecRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,s),data:s}))||0===o)&&(l+=o),l+='">'+d(i(a("d8WC")).call(t,"Playing games requires that you {1}create a Parsec account{2}, respond to their email confirmation, and then {3}link your Parsec account{4}.",'<a href="https://parsec.app" target="_blank">',"</a>",'<a href="https://plex.tv/users/other-services" target="_blank">',"</a>",{hash:{},data:s}))+"</p> ",((o=n.if.call(t,t&&t.isNewGamesSection,{hash:{},inverse:c.noop,fn:c.program(3,(function(e,t){var r,s="";return s+=' <div class="download-media-container"> <label> <input id="arcade-download-media" type="checkbox" name="downloadMedia" ',((r=n.if.call(e,null==(r=e&&e.section)||!1===r?r:r.downloadMedia,{hash:{},inverse:c.noop,fn:c.program(4,p,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=n.if.call(e,e&&e.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,m,t),data:t}))||0===r)&&(s+=r),s+="/>"+d(i(a("d8WC")).call(e,"Include dozens of classic games from Atari like Asteroids, Centipede, Missile Command and more!",{hash:{},data:t}))+" </label> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" <p>"+d(i(a("d8WC")).call(t,"Add folders to your library",{hash:{},data:s}))+'</p> <div class="form-group Location-group"> <div class="paths-region"></div> <p class="button-container"> <button type="button" class="add-folder-btn btn btn-icon-label btn-default" ',((o=n.if.call(t,t&&t.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,m,s),data:s}))||0===o)&&(l+=o),l+="> ",((o=n.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(8,(function(e,t){var n="";return n+=' <i class="glyphicon folder-plus"></i> '+d(i(a("d8WC")).call(e,"Browse for games folder",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){var n="";return n+=' <i class="glyphicon folder-plus"></i> '+d(i(a("d8WC")).call(e,"Browse for media folder",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </button> </p> <p class="control-error">'+d(i(a("d8WC")).call(t,"At least one folder is required.",{hash:{},data:s}))+"</p> </div> ",((o=n.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(12,(function(e,t){var n="";return n+=' <p class="help-block">'+d(i(a("d8WC")).call(e,"Help us out by following {1}our guide{2} to naming and organizing your games.",'<a href="https://support.plex.tv/articles/naming-and-organizing-game-files-and-cores/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+'</p> <p class="help-block">'+d(i(a("d8WC")).call(e,"Looking for more information? Check out our {1}Plex Arcade support articles{2}.",'<a href="https://support.plex.tv/articles/categories/features/arcade/" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=n.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(14,(function(e,t){var n="";return n+=' <p class="help-block">'+d(i(a("d8WC")).call(e,"Help us out by following {1}our guide{2} to naming and organizing your media.",'<a href="https://support.plex.tv/articles/naming-and-organizing-your-movie-media-files/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=" </form> "}))},"uif/":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("q1tI");function i(e){const t=Object(n.useRef)();return Object(n.useEffect)(()=>{t.current=e},[e]),t.current}},uisW:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=(a("slDQ"),a("0jae")),l=a("DgQC"),c=a("XaBv");var d=function(e){const t=[];return Array.isArray(e)||(e=[e]),s.a.each(e,e=>{const a=e.Part;a&&s.a.each(a,e=>{!1!==e.exists&&!1!==e.accessible||t.push(e)})}),t},u=a("JUjL"),p=a("gFlf"),m=a("Pg5J"),h=a("/No1"),g=a("UHzi"),y=a("Ivly"),f=a("gPan"),b=a("66GW"),v=a("bcER");const I={getMediaDecision:function(e){const t=this.augmentProfile(e);if(o.a.info("[MDE] Augmented profile:",t),e.media)return this.analyzeMedia(e.media,t,e);const a=e.item.get("Media");if(!a.length)return{transcodeServer:e.transcodeServer,canPlay:!0,canDirectPlay:!0};if(1===a.length)return this.analyzeMedia(s.a.first(a),t,e);const n=s.a.map(a,(function(a){return this.analyzeMedia(a,t,e)}),this);return this.getBestDecision(n)},augmentProfile:function(e){const t=e.profile;if(!t)throw new Error("MDE: No player profile provided for "+e.type);const a=e.type===f.a.types.VIDEO,n=i.a.extend(!0,{},t.directPlay),r=i.a.extend(!0,{},t.directStream),o=n.generic;o&&delete n.generic;let l=e.allowedAC3Containers;const c="*"===l;!c&&l&&(l=Array.isArray(l)?l:[l]);let d=e.allowedEAC3Containers;const u="*"===d;!u&&d&&(d=Array.isArray(d)?d:[d]);let p=e.allowedDCAContainers;const m="*"===p;!m&&p&&(p=Array.isArray(p)?p:[p]);let h=e.allowedTrueHDContainers;const g="*"===h;return!g&&h&&(h=Array.isArray(h)?h:[h]),s.a.each(n,(function(t,n){this.mergeGenericOptions(t,o),this.mergeMaxQualityOptions(t,e),(c||l&&s.a.contains(l,n))&&this.addAudioCodec("ac3",t,e),(u||d&&s.a.contains(d,n))&&this.addAudioCodec("eac3",t,e),(m||p&&s.a.contains(p,n))&&this.addAudioCodec("dca",t,e),(g||h&&s.a.contains(h,n))&&this.addAudioCodec("truehd",t,e);const i=t[f.a.getStreamByType(e.type)];if(i){const t=i.codecs;s.a.each(t,(function(t,a){this.mergeMaxQualityOptions(t,e,!0),e.videoCodecOptions&&e.videoCodecOptions[a]&&this.mergeCodecOptions(t,e.videoCodecOptions[a])}),this)}const r=a&&t.audio;if(r&&e.audioCodecOptions){const t=r.codecs;s.a.each(t,(function(t,a){e.audioCodecOptions[a]&&this.mergeCodecOptions(t,e.audioCodecOptions[a])}),this)}}),this),this.mergeMaxQualityOptions(r,e),a&&(e.videoCodecOptions&&r.video&&s.a.each(r.video.codecs,(function(t,a){e.videoCodecOptions[a]&&this.mergeCodecOptions(t,e.videoCodecOptions[a])}),this),e.audioCodecOptions&&r.audio&&s.a.each(r.audio.codecs,(function(t,a){e.audioCodecOptions[a]&&this.mergeCodecOptions(t,e.audioCodecOptions[a])}),this)),{directPlay:n,directStream:r}},mergeGenericOptions:function(e,t){t&&(s.a.defaults(e,s.a.omit(t,"video","audio")),s.a.each(["audio","video"],(function(a){const n=t[a];let i=e[a];n&&(i||(i={},e[a]=i),s.a.defaults(i,s.a.omit(n,"codecs")),n.codecs&&s.a.each(n.codecs,(function(e,t){s.a.defaults(this.ensureCodecs(t,i),e)}),this))}),this))},mergeCodecOptions:function(e,t){s.a.each(t,(function(t,a){e[a]=t}),this)},ensureCodecs:function(e,t){return t.codecs||(t.codecs={}),t.codecs[e]||(t.codecs[e]={}),t.codecs[e]},mergeMaxQualityOptions:function(e,t,a){s.a.each([{option:"bitrate",setting:"maxBitrate"},{option:"videoResolution",setting:"maxVideoResolution"}],(function(n){if("videoResolution"===n.option&&t.type!==f.a.types.VIDEO)return;const i=this.getMaxQualityOption(e,n.option,t);if(null==i)return;const r=n.setting,s=f.a.getStreamByType(t.type);e.hasOwnProperty(r)?e[r]=i:e.hasOwnProperty(s)?e[s][r]=i:a||(e[s]={},e[s][r]=i)}),this)},getMaxQualityOption:function(e,t,a){const n=a.quality||{},i="max"+t.charAt(0).toUpperCase()+t.slice(1);let r=n[t];const s=this.getPrimaryStreamProperty(e,i,a);if("videoResolution"===t&&r&&(r=y.a.getResolutionFromSize(r)),"bitrate"===t){const e=a.item.server.get("maxUploadBitrate");e&&(!r||e<r)&&(r=e)}if(r||s){let e;return e=r&&s?Math.min(r,s):r||s,e}},addAudioCodec:function(e,t,a){t.audio||(t.audio={}),this.ensureCodecs(e,t.audio)},analyzeMedia:function(e,t,a){o.a.info("[MDE] Starting analysis of",this.getMediaTitle(e)),Object(o.a)("[MDE] Analyzing direct play");const n=this.canDirectPlay(e,t.directPlay,a);n.result||Object(o.a)("[MDE] Cannot direct play:",n.failedCheck);const i={finalProfile:t,transcodeServer:a.transcodeServer,preferredDirectPlayProtocol:a.preferredDirectPlayProtocol,item:a.item,media:e,canDirectPlay:n.result,canDirectPlayFailedCheck:n.failedCheck,canDisplayHDR:!!a.canDisplayHDR,canDisplayDolbyVision:!!a.canDisplayDolbyVision};let r=a.transcoderOptions||{};if(s.a.isFunction(r)&&(r=r(i)),a.type===f.a.types.VIDEO){Object(o.a)("[MDE] Analyzing video direct stream");const n=Object(m.a)(e);if(n){const e=this.canDirectStreamVideo(n,t.directStream.video,a,r);i.canDirectStreamVideo=e.result,i.canDirectStreamVideoFailedCheck=e.failedCheck}}if(a.type!==f.a.types.PHOTO){Object(o.a)("[MDE] Analyzing audio direct stream");const n=Object(u.a)(e);if(n){const e=this.canDirectStreamAudio(n,t.directStream.audio,a,r);i.canDirectStreamAudio=e.result,i.canDirectStreamAudioFailedCheck=e.failedCheck}}const l=Object(p.a)(i.media);return l&&(Object(o.a)("[MDE] Analyzing subtitles"),s.a.extend(i,this.analyzeSubtitles(l,a))),Object(o.a)("[MDE] Analyzing playability"),s.a.extend(i,this.canPlay(i,a)),s.a.extend(i,this.getEffectiveQuality(e,t.directStream,a)),Object(o.a)("[MDE] Finished analysis of:",this.getMediaTitle(e),this.getDecisionLogs(i)),i},canDirectPlay:function(e,t,a){if(a.forceDirectPlay)return Object(o.a)("[MDE] Direct play forced"),{result:!0};if(!1===a.allowDirectPlay&&!a.transcodeServer.get("isCloud"))return o.a.warn("[MDE] Direct play failed; option is disabled"),{result:!1,failedCheck:"allowDirectPlay"};if(a.type===f.a.types.VIDEO&&!this.canDirectPlayVideo(e,a))return{result:!1,failedCheck:"canDirectPlayVideo"};const n=t[e.container];if(!n)return o.a.warn("[MDE] Direct play failed; unsupported container:",e.container),{result:!1,failedCheck:"containerProfile"};const i=s.a.keys(n);if(i&&i.length){for(let t=0,r=i.length;t<r;t++){const r=i[t],l=n[r];if("mimeType"===r){if(!a.skipCanPlayTypeTest&&!this.canPlayType(f.a.getElementByType(a.type),l))return o.a.warn("[MDE] Direct play failed; canPlayType test, %s: %s",r,l),{result:!1,failedCheck:"canPlayType"}}else if("video"===r||"audio"===r){const t=v.a.get(r),n=Object(h.a)(e,{streamType:t.id}),i="video"===r?Object(m.a)(e):Object(u.a)(e);if(!i){o.a.warn("[MDE] No stream selected; will not be able to analyze stream codecs");continue}if("audio"===r&&i!==n[0]&&!a.allowMultiTrackAudio)return o.a.warn("[MDE] Direct play failed; multi-track audio is required"),{result:!1,failedCheck:"allowMultiTrackAudio"};const s=this.analyzeStream(i,l,a);if(!s.result)return{result:!1,failedCheck:s.failedCheck}}else if("photo"===r){const t=this.analyzeStream(s.a.first(e.Part),l,a);if(!t.result)return{result:!1,failedCheck:t.failedCheck}}else if(!this.validateProfileProperty(r,l,e))return{result:!1,failedCheck:"validateProfileProperty:"+r}}return{result:!0}}return{result:!0}},canDirectPlayVideo:function(e,t){return t.allowDirectPlay||t.transcodeServer.get("isCloud")?"hls"!==e.protocol||t.hasNativeHLS?"flv"!==e.container||t.hasFlash?!("dash"===e.protocol&&!t.hasDASH)||(o.a.warn("[MDE] Direct play failed; cannot play DASH"),!1):(o.a.warn("[MDE] Direct play failed; cannot play FLV"),!1):(o.a.warn("[MDE] Direct play failed; cannot play HLS"),!1):(o.a.warn("[MDE] Direct play failed; option is disabled"),!1)},canPlayType:function(e,t){if(e===f.a.elements.PHOTO)return!0;const a=document.createElement(e);return!(!a.canPlayType||!a.canPlayType(t).replace(/^no$/,""))},canDirectStreamVideo:function(e,t,a,n){return n.directStream||a.transcodeServer.get("isCloud")?this.analyzeStream(e,t,a):(o.a.warn("[MDE] Direct stream video failed; option is disabled"),{result:!1,failedCheck:"options:directStream"})},canDirectStreamAudio:function(e,t,a,n){return n.directStreamAudio||a.transcodeServer.get("isCloud")?this.analyzeStream(e,t,a):(o.a.warn("[MDE] Direct stream audio failed; option is disabled"),{result:!1,failedCheck:"options:directStreamAudio"})},analyzeStream:function(e,t,a){const n=t&&t.codecs&&t.codecs[e.codec];for(const i in t){const r=t[i];if("codecs"===i){const t=r[e.codec];if(!t)return{result:!1,failedCheck:"noCodecInProfile:"+e.codec};const n=this.analyzeStream(e,t,a);if(!n.result)return{result:!1,failedCheck:n.failedCheck}}else if(!(n&&i in n||this.validateProfileProperty(i,r,e)))return{result:!1,failedCheck:"validateProfileProperty:"+i}}return{result:!0}},validateProfileProperty:function(e,t,a){const n=e.match(/^(min|max)(\w)(\w*)/);let i;if(n){const r="min"===n[1],s="max"===n[1];if(i=a[e=n[2].toLowerCase()+n[3]],null==i&&o.a.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),null!=i&&"videoResolution"===e&&(i=y.a.getHeightFromResolution(i),t=y.a.getHeightFromResolution(t)),null!=i){if(r&&i<t)return o.a.warn("[MDE] Invalid profile property; %s: %s < %s",e,i,t),!1;if(s&&i>t)return o.a.warn("[MDE] Invalid profile property; %s: %s > %s",e,i,t),!1}}else if(i=a[e],null==i&&o.a.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),i!==t&&!s.a.contains(t,i))return o.a.warn("[MDE] Invalid profile property; %s: %s !== %s",e,i,t),!1;return!0},analyzeSubtitles:function(e,t){const a=t.subtitlesBurnLevel||c.a.ALWAYS,n=e.codec,i=!!e.key&&void 0===n&&t.transcodeServer.get("isCloud"),r=t.transcodeServer.get("isCloud")&&("vtt"===n||"eia_608"===n);return Object(o.a)("[MDE] Subtitle codec:",n),Object(o.a)("[MDE] Burn level:",a),i?(Object(o.a)("[MDE] Using sidecar subtitles %s",e.key),{useSidecarSrtSubtitles:!0}):r?{canDirectPlay:!0}:a===c.a.NEVER?{useSoftSubtitles:!1}:a===c.a.ALWAYS?(o.a.warn("[MDE] Direct play failed; asked to always burn subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:burnLevelAlways",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitles")?Object(g.a)(n)?(o.a.warn("[MDE] Soft subtitles failed; bitmap subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^(ass|ssa)$/i.test(n)&&a===c.a.AUTO?(o.a.warn("[MDE] Soft subtitles failed; ASS subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^eia_608$/i.test(n)?(o.a.warn("[MDE] Soft subtitles failed; Closed captioning"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitlesWithDirectPlay")?t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0}:{useSoftSubtitles:!0,canDirectStreamVideo:!1}:(o.a.warn("[MDE] Direct play failed; %s subtitles",n),t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles"}:{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):(o.a.warn("[MDE] Direct play failed; server support requires burn subtitles"),o.a.warn("[MDE] Soft subtitles failed; server version"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:softSubtitlesUnsupported",canDirectStreamVideo:!1})},canPlay:function(e,t){const a=this.validateParts(e,t)||this.validateTranscoder(e,t);return a?{canPlay:!1,errorMessage:a}:{canPlay:!0}},validateParts:function(e,t){const a=d(e.media);if(!a.length)return;o.a.warn("[MDE] Unable to play; missing parts");const n=s.a.first(a);return 1===Number(n.exists)?Object(b.default)("Please check the permissions for this file."):Object(b.default)("Please check that the file exists and the necessary drive is mounted.")},validateTranscoder:function(e,t){if(e.canDirectPlay)return;const a=t.type,n=a===f.a.types.MUSIC,i=a===f.a.types.VIDEO,r=t.transcodeServer,l=r.get("transcoderAudio"),c=r.get("transcoderVideo");let d;if(n||"track"===t.item.get("type")){if(d=Object(b.default)("This server is not powerful enough to convert audio."),i&&!c)return o.a.warn("[MDE] Unable to play; server unable to transcode music using video transcoder"),d;if(n&&!l)return o.a.warn("[MDE] Unable to play; server unable to transcode music using audio transcoder"),d}else if(i){const a=Object(b.default)("This server is not powerful enough to convert video. You may be able to enable playback by increasing your quality setting."),n=Object(b.default)("This server is not powerful enough to convert video. Playback qualities are limited because an indirect connection is being used."),i=e.canDirectStreamVideo||!r.get("transcoderVideoRemuxOnly");if(d=Object(b.default)("This server is not powerful enough to convert video."),!c||!i){if(o.a.warn("[MDE] Unable to play; server unable to transcode video"),t.quality){if(t.quality.index===y.a.ORIGINAL)return d;const e=s.a.clone(t);return e.quality=s.a.extend({index:y.a.ORIGINAL},s.a.pick(t.quality,"attribute")),this.getMediaDecision(e).canDirectPlay?a:"relay"===r.get("maxUploadBitrateReason")?n:d}return a}}},getEffectiveQuality:function(e,t,a){const n=a.quality,i={},r={};if(e.bitrate||o.a.warn("[MDE] Unable to determine effective quality; re-analyze the media if possible"),a.type===f.a.types.VIDEO){i.bitrate=e.bitrate,i.videoResolution=y.a.getHeightFromResolution(e.videoResolution);const s=this.getPrimaryStreamProperty(t,"maxBitrate",a);if(s){const t=Object(m.a)(e),a=t?t.bitrate:e.bitrate;i.bitrate=Math.min(a,s),r.maxVideoBitrate=s}if(n){if(n.videoResolution){const e=y.a.getResolutionFromSize(n.videoResolution),t=y.a.getHeightFromResolution(e);i.videoResolution=Math.min(i.videoResolution,t)}}}else if(a.type===f.a.types.MUSIC){i.bitrate=e.bitrate;const n=this.getPrimaryStreamProperty(t,"maxBitrate",a);n&&(i.bitrate=Math.min(e.bitrate,n),r.musicBitrate=n)}return i.transcoderQualityOptions=r,i},getPrimaryStreamProperty:function(e,t,a){const n=e[f.a.getStreamByType(a.type)];let i=e[t];return null==i&&n&&(i=n[t]),i},getMediaTitle:function(e){let t=e.title||e.videoResolution||e.bitrate||e.container;const a=s.a.compact([e.container,e.videoCodec,e.audioCodec]),n=Object(m.a)(e);return n&&a.push(n.level,n.profile),a.length&&(t+=" ("+a.join(", ")+")"),t},getDecisionLogs:function(e){const t={canPlay:e.canPlay,canDirectPlay:e.canDirectPlay},a=e.canDirectStreamVideo;null!=a&&(t.canDirectStreamVideo=a);const n=e.canDirectStreamAudio;null!=n&&(t.canDirectStreamAudio=n);const i=e.useSoftSubtitles;null!=i&&(t.useSoftSubtitles=i);const r=e.bitrate;null==r||s.a.isNaN(r)||(t.bitrate=r);const o=e.videoResolution;return null==o||s.a.isNaN(o)||(t.videoResolution=o),t},getBestDecision:function(e){const t=s.a.last(this.sortDecisions(e));return Object(o.a)("[MDE] Selected %s to play:",this.getMediaTitle(t.media),this.getDecisionLogs(t)),t},sortDecisions:function(e){return s.a.chain(e).reverse().sortBy(this.preferHigherBitrate,this).sortBy(this.preferMoreAudioChannels,this).sortBy(this.preferDirectStreamAudio,this).sortBy(this.preferHigherResolution,this).sortBy(this.preferDirectStreamVideo,this).sortBy(this.preferDirectPlayMatchingPreferredProtocol,this).sortBy(this.preferDirectPlay,this).sortBy(this.preferHigherResolutionIfCapable,this).sortBy(this.preferCloudIfRemote,this).sortBy(this.preferDirectPlayOrDirectStreamIfUHD,this).sortBy(this.preferPlayable,this).value()},preferPlayable:function(e){return void 0===e.canPlay?null:e.canPlay},preferDirectPlayOrDirectStreamIfUHD:function(e){const t=e.media.height;if(void 0===t)return null;const a=y.a.getResolutionFromHeight(t);return!/^\d+k$/i.test(a)||(e.canDirectPlay||e.canDirectStreamVideo)},preferCloudIfRemote:function(e){const t=e.media.proxyType===l.a.CLOUD;return e.transcodeServer.get("isPrivateConnection")?!t:t},preferHigherResolutionIfCapable:function(e){const t=e.transcodeServer,a=t.get("transcoderVideo"),n=t.get("transcoderVideoRemuxOnly");return a&&!n&&(e.canDirectPlay||e.canDirectStreamVideo)?this.preferHigherResolution(e):null},preferDirectPlay:function(e){return void 0===e.canDirectPlay?null:e.canDirectPlay},preferDirectPlayMatchingPreferredProtocol:function(e){return e.canDirectPlay&&e.media.protocol&&e.preferredDirectPlayProtocol?e.media.protocol===e.preferredDirectPlayProtocol:null},preferDirectStreamVideo:function(e){return void 0===e.canDirectStreamVideo?null:e.canDirectStreamVideo},preferHigherResolution:function(e){return void 0===e.videoResolution?null:e.videoResolution},preferDirectStreamAudio:function(e){return void 0===e.canDirectStreamAudio?null:e.canDirectStreamAudio},preferMoreAudioChannels:function(e){const t=e.media.audioChannels;return void 0===t?null:t},preferHigherBitrate:function(e){return void 0===e.bitrate?null:e.bitrate}};t.a=I},ujuY:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("EVdn"),i=a.n(n),r=a("0jae"),s=a("cgRT"),o=a("Q3JP"),l=a("rXDx"),c=a("tibn"),d=a("zTY+"),u=a("5HFX");var p=function(e,t){const a=function(e){return e.get("Origin")||{key:e.get("key"),source:Object(d.a)({serverIdentifier:e.server.get("machineIdentifier"),providerIdentifier:e.provider.get("identifier")})}}(t),n=i.a.Deferred(),{source:r,key:s}=a,{providerIdentifier:l,serverIdentifier:p}=Object(u.a)(r),m=e.get("servers").get(p),h=m&&m.get("isCloud")?e.get("user"):m,g=h&&h.get("providers").get(l);let y;if(m?m.get("isConnected")?g?g.get("isPopulated")||(y="Provider is not populated"):y="Unknown provider":y="Server is not connected":y="Unknown server",y)n.reject(new Error(y));else{const e=new c.a({key:s},{server:m,provider:g,channel:t.channel,includeExternalMedia:t.includeExternalMedia,skipCache:!0}),a=Object(o.a)(g.server),l=g.resolveUrl(e.url(),{appendHeaders:!0}),d=g.getXHROptions(l,{dataType:a.typeName,data:{resolveIndirect:1}});e.fetch(d).then(t=>{const a=e.get("Media"),s=a?a.map(e=>i.a.extend(!0,{source:r},e)):[];n.resolve(s)},()=>{n.reject(new Error("Unable to fetch Origin metadata"))})}return n.promise()};function m(e,t={}){let a=t.forceFetch||!e.get("isPreFetched")?function(e,t){const{itemProvider:a}=t,n={includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeChapters:1,includeStations:1,includeExternalMedia:1,asyncAugmentMetadata:1};e.get("type")===l.TRACK&&(n.includeRelated=1),!t.forceSyncCheckFiles&&e.server.supports("asyncCheckFiles")?(n.asyncCheckFiles=1,n.asyncRefreshAnalysis=1,n.asyncRefreshLocalMediaAgent=1):n.checkFiles=1;const i=a||e.provider,r=Object(o.a)(i.server),s=i.resolveUrl(e.url(),{appendHeaders:!0}),c=i.getXHROptions(s,{dataType:r.typeName,data:n,merge:!0});return e.fetch(c).done(()=>{e.set("isPreFetched",!0)})}(e,t):i.a.Deferred().resolve().promise();return a=a.then(()=>{const t=e.get("Media");if(e.get("indirect")&&(!t||!t.length)){const t=p(Object(s.c)("appModel"),e).then(t=>{e.set({Media:t})});return t.then(null,e=>{r.a.error("[Metadata] %s",e.message)}),t}}),a}},ulDd:function(e,t,a){e.exports={tableHeader:"MetadataTableHeader-tableHeader-2bHAm0",playCell:"MetadataTableHeader-playCell-1oEdHR MetadataTableRow-playCell-ziDSkt TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",actionsCell:"MetadataTableHeader-actionsCell-1RppTc MetadataTableRow-libraryActionsCell-2OOmPb MetadataTableRow-actionsCell-1ax6EZ TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",columnsButton:"MetadataTableHeader-columnsButton-33h2bW"}},unCS:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("G4qV"),i=a("dZ7a"),r=a("b3Ir");function s(){return Object(n.a)(r.a,Object(n.a)(Object(i.a)(),e=>e?e.desktop.libraries:void 0),(e,t)=>t?t.map(t=>e[t]):[])}},upBJ:function(e,t,a){e.exports={listModalSubheader:"AddToPlaylistModalContent-listModalSubheader-2iqJkg",listModalInnerBody:"AddToPlaylistModalContent-listModalInnerBody-3Lr83z",createForm:"AddToPlaylistModalContent-createForm-7H1yU-",createButton:"AddToPlaylistModalContent-createButton-19CeH0"}},upXi:function(e,t,a){e.exports={header:"LibraryFilterOptionsList-header-JO56lu",headerTitle:"LibraryFilterOptionsList-headerTitle-21Ewqn",backIcon:"LibraryFilterOptionsList-backIcon-15GqTg",filterText:"LibraryFilterOptionsList-filterText-ys_NHp",searchInput:"LibraryFilterOptionsList-searchInput-3YaUSo TextInput-input-1VMuma input-input-1P2Vi4",filterOptionsScroller:"LibraryFilterOptionsList-filterOptionsScroller-1TXk8A Scroller-vertical-VScFLT",filterOptionsWithSearchScroller:"LibraryFilterOptionsList-filterOptionsWithSearchScroller-3ARHUk LibraryFilterOptionsList-filterOptionsScroller-1TXk8A Scroller-vertical-VScFLT",filterOptionMenuItem:"LibraryFilterOptionsList-filterOptionMenuItem-3bhER_ MenuItem-menuItem-1s02mQ",emptyText:"LibraryFilterOptionsList-emptyText-1SzoY8"}},uprk:function(e,t,a){e.exports={baseForm:"MediaSubscriptionForm-baseForm-2bT5Ug",advancedForm:"MediaSubscriptionForm-advancedForm-26WFwH",cancelConfirmation:"MediaSubscriptionForm-cancelConfirmation-2aCvUv",advancedSettings:"MediaSubscriptionForm-advancedSettings-3dyPlo",baseSettings:"MediaSubscriptionForm-baseSettings-2ssnbm",footer:"MediaSubscriptionForm-footer-2U6dhX ModalFooter-modalFooter-30WIB5",cancelConfirmationFooter:"MediaSubscriptionForm-cancelConfirmationFooter-3JtInX ModalFooter-modalFooter-30WIB5",advancedIcon:"MediaSubscriptionForm-advancedIcon-j3Yxg9"}},"urZ/":function(e,t,a){e.exports={statusButton:"PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},uuaR:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",id:"plex-icon-games-24px"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},uwA8:function(e,t,a){"use strict";t.a=function(e,t,a){return Math.max(Math.min(e,a),t)}},uyqX:function(e,t,a){e.exports={container:"ShareSummary-container-1DKUno",modalBody:"ShareSummary-modalBody-1l_PJl ModalBody-modalBody--5uHSu",content:"ShareSummary-content-gIEf7Y",inviteLink:"ShareSummary-inviteLink-2rDWM5",input:"ShareSummary-input-2csGE7 TextInput-input-1VMuma input-input-1P2Vi4",copyLink:"ShareSummary-copyLink-1bH3yr Link-link-2n0yJn",modalFooter:"ShareSummary-modalFooter-3VMDIR ModalFooter-modalFooter-30WIB5"}},v6AS:function(e,t,a){e.exports={buttonBar:"ModalFooterButtonBar-buttonBar-3X6qjo"}},v7SW:function(e,t,a){e.exports={errorButton:"CalendarErrorButton-errorButton-1z8H1l",errorTooltip:"CalendarErrorButton-errorTooltip-lo9O-P Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},v9IS:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n);function r(e){const{className:t,style:a,src:n,width:r,height:s,backgroundSize:o,backgroundPosition:l,backgroundRepeat:c}=e;return i.a.createElement("div",{className:t,style:{width:r,height:s,backgroundImage:`url(${n})`,backgroundSize:o,backgroundPosition:l,backgroundRepeat:c,...a}})}r.defaultProps={backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},t.a=r},v9T8:function(e,t,a){e.exports={cardCircle:"MetadataPosterCardCircle-cardCircle-2NfIyT"}},v9kw:function(e,t,a){e.exports={unavailableButton:"PrePlayUnavailableButton-unavailableButton-3dycrS PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},v9x7:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("pnnh"),s=a.n(r),o=s.a.extend({constructor:function(e,t,a,n){this.exclusiveAgents=t,this.agentIdentifier=a,s.a.call(this,e,n),this.filterBy(i.a.bind(this.filterExclusiveAgent,this))},filterExclusiveAgent:function(e){var t=e.get("identifier"),a=this.exclusiveAgents;if(!a)return!0;var n=this.agentIdentifier,i=-1!==a.indexOf(n),r=-1!==a.indexOf(t);return i?t===n:!r}});t.a=o},vCrX:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<form class="edit-section-type-form settings-container"> <p>'+l(i(a("d8WC")).call(t,"There was an error adding this library.",{hash:{},data:s}))+"</p> <p>"+l(i(a("d8WC")).call(t,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:s}))+"</p> </form> "}))},vD73:function(e,t,a){e.exports={disclosureArrowButton:"DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",isSelected:"DisclosureArrowButton-isSelected-1aPl5o",small:"DisclosureArrowButton-small-2fBp-o",medium:"DisclosureArrowButton-medium-3zt1WM",large:"DisclosureArrowButton-large-2E9J1Y",disclosureArrow:"DisclosureArrowButton-disclosureArrow-1Gz1vb DisclosureArrow-disclosureArrow-1KPaBC",down:"DisclosureArrowButton-down-2EHTTC",left:"DisclosureArrowButton-left-1_7OFY",up:"DisclosureArrowButton-up-3CeKSp",right:"DisclosureArrowButton-right-3r62HY"}},vEnl:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"checked"}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <div class="setup-apps-container"> <img class="setup-apps-image" src="'+c("function"==typeof(o=t&&t.devicesImg)?o.apply(t):o)+'"> <a href="https://plex.tv/downloads" target="_blank" class="btn btn-default btn-lg">'+c(i(a("d8WC")).call(t,"Get Plex Apps",{hash:{},data:s}))+'</a> </div> <p class="text-muted">'+c(i(a("d8WC")).call(t,"All set! Your Plex Media Server is working hard to find your media and make it beautiful. Grab the Plex app for all your favorite devices to get the most out of Plex and start streaming everywhere!",{hash:{},data:s}))+'</p> <form id="setup-complete-form" class="settings-container"> ',((o=n.if.call(t,t&&t.collectUsageDataSetting,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r,s="";return s+=' <div class="checkbox"> <label for="'+c("function"==typeof(r=null==(r=e&&e.collectUsageDataSetting)||!1===r?r:r.id)?r.apply(e):r)+'"> <input type="checkbox" id="'+c("function"==typeof(r=null==(r=e&&e.collectUsageDataSetting)||!1===r?r:r.id)?r.apply(e):r)+'" name="'+c("function"==typeof(r=null==(r=e&&e.collectUsageDataSetting)||!1===r?r:r.id)?r.apply(e):r)+'" value="1" ',((r=n.if.call(e,null==(r=e&&e.collectUsageDataSetting)||!1===r?r:r.value,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===r)&&(s+=r),s+="> "+c(i(a("d8WC")).call(e,"Send anonymous usage data to Plex",{hash:{},data:t}))+' </label> </div> <p class="setup-complete-help text-muted"> '+c(i(a("d8WC")).call(e,"Help us improve everyone's Plex experience by sending anonymous usage data.",{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="setup-footer setup-done-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupLibrary">'+c(i(a("d8WC")).call(t,"Back",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg active"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(a("d8WC")).call(t,"Done",{hash:{},data:s}))+'</span> </button> <button class="done-btn btn btn-primary btn-lg hidden"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},vGNm:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("2pL0"),s=a("Yc8G"),o=a.n(s);class l extends n.Component{constructor(){super(...arguments),this.onPress=e=>{const{value:t,onSelect:a,onPress:n}=this.props;a&&a(t),n&&n(e)}}render(){const{value:e,onSelect:t,...a}=this.props;return i.a.createElement(r.a,{...a,onPress:this.onPress})}}l.defaultProps={className:o.a.listModalItem},t.a=l},vMaE:function(e,t,a){e.exports={container:"WatchTogetherRoomEventToasts-container-1FskJf",toast:"WatchTogetherRoomEventToasts-toast-qUbkMv"}},vOHB:function(e,t,a){"use strict";var n=a("QPyl"),i=a("3oIs");const r=function(){if(!i.a)return!1;const e=document.createElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}(),s={isHostedHttps:i.a&&"https:"===window.location.protocol,hasConsole:!!(window.console&&window.console.log&&window.console.log.call),hasWebSocket:i.a&&!!window.WebSocket,hasEventSource:i.a&&!!window.EventSource,hasReplaceState:i.a&&!(!window.history||!window.history.replaceState),hasFileUpload:i.a&&!!(window.File&&window.FileList&&window.FileReader),hasMediaSource:i.a&&!(!window.MediaSource&&!window.WebKitMediaSource),hasObjectUrl:!n.a.presto&&i.a&&!(!window.URL||"function"!=typeof window.URL.createObjectURL||"function"!=typeof window.URL.revokeObjectURL),hasBlob:function(){try{return!!new window.Blob}catch(e){return!1}}(),hasFullscreen:function(){if(!i.a)return!1;const e=document.createElement("div");return!!(e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen)}(),hasCanvas:r,hasWebGL:function(){if(!r)return!1;const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return!!t&&t instanceof window.WebGLRenderingContext}(),hasTouchScreen:i.a&&!!("ontouchstart"in window),hasPageVisibility:i.a&&(!0===document.hidden||!1===document.hidden),hasWebKitPageVisibility:i.a&&(!0===document.webkitHidden||!1===document.webkitHidden),hasPassiveEventListeners:function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),hasWebSpeech:i.a&&!!window.speechSynthesis,hasServiceWorker:i.a&&!(!window.navigator||!window.navigator.serviceWorker),hasGamepads:i.a&&"function"==typeof window.navigator.getGamepads,hasMediaSession:i.a&&"mediaSession"in window.navigator};t.a=s},vQY0:function(e,t,a){e.exports={innerEmptyPage:"InnerEmptyPage-innerEmptyPage-1MHKZS EmptyPage-emptyPage-2AM9uQ",innerEmptyPageContent:"InnerEmptyPage-innerEmptyPageContent-3kRFWc EmptyPage-content-10PgBS"}},vSud:function(e,t,a){e.exports={sidebarListHeaderContainer:"SidebarList-sidebarListHeaderContainer-2D2g-W",sidebarListHeader:"SidebarList-sidebarListHeader-1t0yzs",sidebarListHeaderIcon:"SidebarList-sidebarListHeaderIcon-3Itr_l"}},vTNh:function(e,t,a){e.exports={listItem:"HomeHubListItemDragPreview-listItem-iDQ3JS HomeHubListItem-listItem-3aSc2w"}},vUHz:function(e,t,a){"use strict";var n=a("mOXR"),i=a("MOdi");function r(e){return{type:n.a.boolean,save(){return this.has(e)}}}function s(e){return{type:n.a.queryString,separators:["|","&"],orFields:[i.a,i.d],andFields:[i.b,i.c],save(){return this.has(e)}}}const o={allowTuners:{type:n.a.integer,save(){return this.has("allowTuners")}},allowSync:r("allowSync"),allowCameraUpload:r("allowCameraUpload"),allowChannels:r("allowChannels"),filterMovies:s("filterMovies"),filterTelevision:s("filterTelevision"),filterMusic:s("filterMusic"),filterPhotos:s("filterPhotos")};t.a=o},vUK6:function(e,t,a){"use strict";var n=a("G4qV"),i=a("X7Ko");const r=Object(n.a)(i.a,e=>e.mediaSubscriptions);t.a=r},vXsA:function(e,t,a){e.exports={container:"DeviceChannelMappingsHeader-container-1VViTz",deviceChannelsContainer:"DeviceChannelMappingsHeader-deviceChannelsContainer-1TSeU3",guideChannels:"DeviceChannelMappingsHeader-guideChannels-3D6cOQ",deviceChannels:"DeviceChannelMappingsHeader-deviceChannels-iZFrgG",signalStrength:"DeviceChannelMappingsHeader-signalStrength-1vcKgT",deviceChannelsPadding:"DeviceChannelMappingsHeader-deviceChannelsPadding-AkfFyu"}},vau6:function(e,t,a){e.exports={item:"MetadataTrackCell-item-218Rwm",isActionsMenuOpen:"MetadataTrackCell-isActionsMenuOpen-9m3QIm",index:"MetadataTrackCell-index-SRMm4f",duration:"MetadataTrackCell-duration-_NFMrJ",playButton:"MetadataTrackCell-playButton-A4P6on PlayButton-playButton-3WX8X- MetadataTrackCell-button-3Y1jAH",button:"MetadataTrackCell-button-3Y1jAH",hasActiveSelection:"MetadataTrackCell-hasActiveSelection-2K30-L",underlay:"MetadataTrackCell-underlay-2w73nF",isForcingSelection:"MetadataTrackCell-isForcingSelection-2_5rmx",overlay:"MetadataTrackCell-overlay-1ttKRU",editButton:"MetadataTrackCell-editButton-273Zg_ MetadataTrackCell-button-3Y1jAH",moreButton:"MetadataTrackCell-moreButton-1bneFN MetadataTrackCell-button-3Y1jAH",isSelected:"MetadataTrackCell-isSelected-2J-Jyg",selectButton:"MetadataTrackCell-selectButton-2SGNAh SelectButton-selectButton-3Kbjm9 MetadataTrackCell-button-3Y1jAH",alternateItem:"MetadataTrackCell-alternateItem-2TLQqb MetadataTrackCell-item-218Rwm",container:"MetadataTrackCell-container-1n4vzv",playIndexContainer:"MetadataTrackCell-playIndexContainer-2spzEE",posterContainer:"MetadataTrackCell-posterContainer-3WFjf3",titleContainer:"MetadataTrackCell-titleContainer-2MVHF0",actionsContainer:"MetadataTrackCell-actionsContainer-4JPLSt",equalizer:"MetadataTrackCell-equalizer-37dBny EqualizerIcon-equalizer-2SoFA6",subtitle:"MetadataTrackCell-subtitle-2-CISa",rating:"MetadataTrackCell-rating-2xr-EN",separator:"MetadataTrackCell-separator-1wI-J9 DashSeparator-separator-4CyEFW",buttons:"MetadataTrackCell-buttons-yLmJ5m",selectCoverButton:"MetadataTrackCell-selectCoverButton-QoTAMD"}},vb9Q:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("zdre");function i(e){return n.b[e]||""}},"vd0/":function(e,t,a){e.exports={icon:"ServerIsClaimedIcon-icon-dQsVa9"}},vdDq:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return o}));var n=a("CHn6"),i=a("mOXR");const r={hubIdentifier:i.a.string,hubKey:i.a.string,key:i.a.string,style:i.a.string,subtype:i.a.string,title:i.a.string,type:i.a.string},s={friendlyName:i.a.string,machineIdentifier:i.a.string.isRequired,sourceTitle:i.a.string},o={identifier:i.a.string,providerIdentifier:i.a.string,title:i.a.string},l=n.a.extend({name:"HomeHubProviderModel",syncedAttrs:{...o}}),c=n.a.extend({name:"HomeHubServerModel",syncedAttrs:{...s}}),d=n.a.extend({name:"HomeHubModel",syncedAttrs:{...r,id:i.a.string.isRequired,directoryID:i.a.string.isRequired,directoryKey:i.a.string.isRequired,isHidden:i.a.boolean.isRequired,hiddenAt:i.a.integer},syncedRelations:{provider:{relationClass:l},server:{relationClass:c}},defaults:{isHidden:!1}});t.d=d},vdRG:function(e,t,a){"use strict";var n=a("cgRT"),i=a("CHn6"),r=a("mOXR"),s=a("kwss"),o=a("tibn"),l=a("Ngum"),c=a("FIl5"),d=a("WfN5"),u=a("7za+"),p=a("FWoo");const m=i.a.extend({name:"MediaGrabOperationModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"MediaGrabOperation",url(){return this.get("key")},syncedAttrs:{mediaSubscriptionID:r.a.string,provider:r.a.string,identifier:r.a.string,mediaIndex:r.a.integer,channelTitle:r.a.string,status:r.a.string,error:r.a.string,linkedKey:r.a.string,key:r.a.string,rolling:r.a.boolean},sessionAttrs:{isLibraryMetadataItemPending:r.a.boolean,isLibraryMetadataItemPopulated:r.a.boolean,libraryMetadataItemError:r.a.object},syncedRelations:{metadataItem:{relationClass:o.a,rootPropertyName:"Metadata"},conflicts:()=>({relationClass:a("khlA").default,deferred:!0})},sessionRelations:{libraryMetadataItem:{relationClass:o.a,deferred:!0}},derivedAttrs:{mediaItem(){const e=this.get("mediaIndex");return(this.get("metadataItem").get("Media")||[])[e]},beginsAt(){const e=this.get("mediaItem");return e&&e.beginsAt},endsAt(){const e=this.get("mediaItem");return e&&e.endsAt}},defaults:{rolling:!1,isLibraryMetadataItemPending:!0,isLibraryMetadataItemPopulated:!1,libraryMetadataItemError:null},augmentResponse(e){let t=e;if(t[this.rootPropertyName]&&(t=t[this.rootPropertyName]),t.Conflicts&&(t.conflicts=t.Conflicts.MediaGrabOperation,delete t.Conflicts),!s.a.shouldCreateStateTree)return t;const a=t.Metadata,i=c.a.parseArray(a.Media),r=c.a.parseInteger(t.mediaIndex),o=Object(d.a)(u.g,a.key,this.server.entityID()),m=Object(n.c)("appModel"),h=Object(p.a)(m,u.g,o);if(h){const e=h.get("Media").map(l.a),a=i.map(l.a)[r],n=e.findIndex(e=>a===e);t.mediaIndex=-1!==n?n:r+e.length}return t}});t.a=m},vfgx:function(e,t,a){"use strict";a.d(t,"b",(function(){return S})),a.d(t,"c",(function(){return O})),a.d(t,"a",(function(){return T}));var n=a("EVdn"),i=a.n(n),r=a("ICb1"),s=a("n/o+"),o=a("gX+b"),l=a("8A8b"),c=a("GsoU"),d=a("s4ry"),u=a("INWF"),p=a("DdkG"),m=a("Vk9Z"),h=a("D1lN"),g=a("mvw6"),y=a("hPIe"),f=a("KR2X"),b=a("b3RP"),v=a("dFNG"),I=a("3n8t");Object(r.a)("home/initAutoHomeHubContent");const S=Object(r.a)("home/buildAutoHomeHubs"),E=Object(r.a)("home/fetchAutoHomeHubs"),O=Object(r.a)("home/restoreAutoHomeHubs");function M(e){return e.get("ui").get("autoHomePage")}function C(e){return e.map(e=>e.get("directoryID")).join(",")}function j(e){return e.reduce((e,t)=>{if(t.get("isHidden"))return e;const a=function(e){return Object(v.a)(e.get("machineIdentifier"),e.get("providerIdentifier"))}(t);return e.sourcesByProviderKey[a]?e.sourcesByProviderKey[a].push(t):(e.providerKeys.push(a),e.sourcesByProviderKey[a]=[t],e.identifiersByProviderKey[a]={machineIdentifier:t.get("machineIdentifier"),providerIdentifier:t.get("providerIdentifier")}),e},{providerKeys:[],sourcesByProviderKey:{},identifiersByProviderKey:{}})}function D(e,t,a){const{sourcesByProviderKey:n,identifiersByProviderKey:i}=a,{machineIdentifier:r,providerIdentifier:s}=i[t],d=n[t],{server:u,provider:y}=function(e,t,a){let n,i;return t===g.a?(n=e.get("cloudServer"),i=e.get("user").get("providers").get(a)):(n=e.get("servers").get(t),n&&(i=n.get("providers").get(a))),{server:n,provider:i}}(e,r,s);if(!u||!y)return;const b=function(e,t){const a=e.get("features").get(m.m),n=t.toJSON(),i=Object(p.a)(n.features,n.services);return a&&Object(f.a)(i,a.toJSON())?a.get("key"):e.get("isLibraryProvider")?h.a:void 0}(y,e.get("user"));return b?new o.a({hubKey:b,machineIdentifier:r,providerIdentifier:s,server:u,provider:y,hubs:Object(l.b)({hubKey:b,server:u,provider:y,options:Object(c.a)(e)}),contentDirectoryID:C(d)},{server:u,provider:y}):void 0}let P;const T={"home/initAutoHomeHubContent"(e,t,a){M(e).set({isHubsPopulated:!0}),a(S(t))},"home/buildAutoHomeHubs"(e,t={},a){const n=M(e),i=n.get("hubs");if(!n.get("isHubsPopulated"))return;const r=j(e.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources")),{providerKeys:s,sourcesByProviderKey:o}=r,l=s.reduce((t,a)=>{const n=o[a],s=i.get(a);if(s){const e=C(n);e!==s.get("contentDirectoryID")&&s.set("contentDirectoryID",e),t.push(s)}else{const n=D(e,a,r);n&&t.push(n)}return t},[]);n.get("hubs").set(l),P&&window.clearTimeout(P),P=window.setTimeout(()=>{a(E())},t.debounceHubContentRefresh?5e3:0)},"home/fetchAutoHomeHubs"(e){const t=M(e),a=t.get("hubs");if(!t.get("isHubsPopulated"))return;let n=i.a.Deferred().resolve();a.forEach(e=>{e.set({isPending:!0,isPopulated:!1}),n=n.then(()=>{let t=e.server.get("isConnected")?e.get("hubs").fetch({data:{contentDirectoryID:e.get("contentDirectoryID")}}):i.a.Deferred().reject({});return t=t.then(()=>{e.set({isPending:!1,isPopulated:!0,hubsError:null})},t=>{e.get("hubs").reset(),e.set({isPending:!1,isPopulated:!1,hubsError:Object(b.a)(t)})}),Object(s.a)(t)})})},"home/restoreAutoHomeHubs"(e){const t=M(e);t.get("hubs").reset(),t.set({isHubsPopulated:!1})},[u.a](e,t,a){const n=M(e).get("hubs"),i=Object(y.m)(e,t);n.forEach(e=>{Object(d.a)({actionCreator:I.j,dispatch:a,hubs:e.get("hubs"),serverModel:i})})}}},vjRy:function(e,t,a){"use strict";a.r(t);var n=a("B69o"),i=a("nvND"),r=a("Q3JP"),s=a("Pizw"),o=a("tibn");const l=n.a.extend({name:"MetadataCollection",context:["server","provider","section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","includeExternalMedia"],model:o.a,responseType(){return Object(r.a)(this.server)},url(){return this.containerKey},augmentResponseText:(e,t)=>t===i.c?Object(s.b)(e):e,splitByType:function(){const e={};return this.each(t=>{const a=t.get("type");e.hasOwnProperty(a)?e[a].push(t):e[a]=[t]}),e}});t.default=l},vkXu:function(e,t,a){"use strict";function n(e,t){const a=e.toJSON?e.toJSON():e,{isExtra:n,guid:i}=a;return!(n&&!/^file:\/\//.test(i))&&t}a.d(t,"a",(function(){return n}))},voa6:function(e,t,a){e.exports={header:"DatePickerTimeList-header-2g8yBs",backIcon:"DatePickerTimeList-backIcon-1dZa89",headerText:"DatePickerTimeList-headerText-3xMhWJ"}},vtAB:function(e,t,a){e.exports={container:"PlaylistItemRow-container-PfUn9T",isSelected:"PlaylistItemRow-isSelected-1Ajx9r",button:"PlaylistItemRow-button-13eRZH",moveControl:"PlaylistItemRow-moveControl-2sc-ei",otherControls:"PlaylistItemRow-otherControls-2m4rnM",metadataDurationContainer:"PlaylistItemRow-metadataDurationContainer-96Rvw1 PlaylistItemMetadata-durationContainer-yQA2Vd",attributionContainer:"PlaylistItemRow-attributionContainer-1ceTSe PlaylistItemMetadata-attributionContainer-3xQOQf SourceBadge-container-3OfQBW",isForcingSelection:"PlaylistItemRow-isForcingSelection-3N6BrL",selectButton:"PlaylistItemRow-selectButton-1nLWBt SelectButton-selectButton-3Kbjm9 PlaylistItemRow-button-13eRZH",hasActiveSelection:"PlaylistItemRow-hasActiveSelection-3MrNhY",overlay:"PlaylistItemRow-overlay-2nVlqP",removeButton:"PlaylistItemRow-removeButton-1g21fe IconButton-button-9An-7I",moreButton:"PlaylistItemRow-moreButton-1zrwp6 IconButton-button-9An-7I",alternateContainer:"PlaylistItemRow-alternateContainer-2SVf_N PlaylistItemRow-container-PfUn9T",metadataContainer:"PlaylistItemRow-metadataContainer-1BWE59 PlaylistItemMetadata-container-2NWQH2",underlay:"PlaylistItemRow-underlay-iZmQR7",sourceText:"PlaylistItemRow-sourceText-3_tAtW",grabIcon:"PlaylistItemRow-grabIcon--qMgMI",isItemDragging:"PlaylistItemRow-isItemDragging-2d2WaL"}},vtVQ:function(e,t,a){"use strict";var n=a("F/us"),i=a.n(n),r=a("slDQ"),s=a("0jae");const o={_map:{},register(e,t){Object(r.a)(i.a.isFunction(t),`The "${e}" command must be a function`),this._map[e]=t},registerAll(e){i.a.each(e,(e,t)=>{"__esModule"!==t&&this.register(t,e)})},hasRegistered(e){return this._map.hasOwnProperty(e)},reset(){this._map={}},execute(e,...t){const a=this._map[e];if(Object(r.a)(a,`The "${e}" command has not been registered`),a)return Object(s.a)("[Commands] Executing",e),a(...t)}};t.a=o},vvci:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("VzhI"),s=a("iZkF"),o=a("IIsI"),l=a("/MKj"),c=a("G4qV"),d=a("lNqu"),u=a("nxTK"),p=a("hOze"),m=a("f6jo"),h=a("xyiB"),g=a("9wnK"),y=a("8vbc"),f=a("Zgl5"),b=a("qNMu"),v=a("66GW"),I=a("Uia1"),S=a("graF"),E=a("wmCi"),O=a("3+3Z"),M=a("m8hN"),C=a("EjF/"),j=a("sfIp"),D=a("OMWn"),P=a("2bcr"),T=a("Vk9Z"),w=a("PXtH"),N=a("gnaf");function x({server:e,provider:t}){if(!t||!t.features)return!1;if(e&&(e.isShared||e.isCloud||!e.isConnected))return!1;const a=[N.f,N.d];return!!N.l(t.identifier,a)&&!!t.features.find(e=>e.type===T.k&&e.flavor===w.c)}var A=a("oVB5"),L=a("EVgX"),k=a("f+Ik"),R=a("HPXQ"),z=a("Zpbf");class U extends n.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.isSelected||this.props.onDestinationSelect(this.props.destination),this.props.onMenuClose()}}render(){const{destination:e,isSelected:t}=this.props;return i.a.createElement(z.a,{isSelected:t,onPress:this.onPress},e.name)}}var V=U;var B=function(e){const{target:t,isOpen:a,destination:n,destinations:s,onMenuClose:o,onDestinationSelect:l}=e;return i.a.createElement(R.a,{target:t,isOpen:a,size:r.a,onMenuClose:o},s.map((e,t)=>i.a.createElement(V,{key:"playlist-destination-"+t,destination:e,isSelected:e===n,onMenuClose:o,onDestinationSelect:l})))};class F extends n.Component{constructor(e,t){super(e,t),this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._menuButtonID=Object(L.a)()}render(){const{className:e,destination:t,destinations:a,onDestinationSelect:n}=this.props,{isMenuOpen:r}=this.state;return!a||a.length<2?null:i.a.createElement("div",{className:e},i.a.createElement(A.a,{id:this._menuButtonID,direction:r?k.c:k.a,onPress:this.onMenuButtonPress},t.name),i.a.createElement(B,{target:this._menuButtonID,isOpen:r,destination:t,destinations:a,onMenuClose:this.onMenuClose,onDestinationSelect:n}))}}var H=F;const _=Object(c.a)(C.a,D.a,M.a,(e,t,a)=>{const n={server:t,provider:a},i=e.filter(x);return i.find(({server:e,provider:n})=>e.machineIdentifier===t.machineIdentifier&&n.identifier===a.identifier)||i.unshift(n),i});var W=Object(l.b)((function(){return Object(c.a)(P.b,j.b,_,(e,t,a)=>{const n=a.map(e=>({name:e.server.isCloud?Object(v.default)("TIDAL"):e.server.friendlyName,serverEntityID:e.server.entityID,providerEntityID:e.provider.entityID}));return{destination:n.find(({serverEntityID:a,providerEntityID:n})=>a===e.entityID&&n===t.entityID),destinations:n}})}))(H),Q=a("hBzc"),G=a("9ZQ6"),K=a("xSXQ"),Y=a("TSYQ"),q=a.n(Y),Z=a("2pL0"),X=a("cL9g"),J=a("sOPC"),$=a("HSBM"),ee=a("ShFY"),te=a.n(ee);var ae=function(e){const{className:t,serverEntityID:a,providerEntityID:r,playlistID:s,title:o,thumb:l,isLoading:c,cellIndex:d,onSelect:u}=e,p=Object(X.a)(e),m=Object(n.useCallback)(()=>{u(s)},[s,u]);return i.a.createElement("div",{className:t,style:p.style},c?null:i.a.createElement(Z.a,{className:q()(te.a.container,d%2&&te.a.alternate),onPress:m},i.a.createElement(J.a,{className:te.a.card,serverEntityID:a,providerEntityID:r,component:$.a,width:40,height:40,url:l}),i.a.createElement("span",{className:te.a.title},o)))};var ne=Object(l.b)((function(){return Object(c.a)(Object(K.a)(),e=>e?{isLoading:!1,playlistID:e.ratingKey,title:e.title,thumb:e.thumb||e.composite||""}:{isLoading:!0})}))(ae),ie=a("IEMP"),re=a("jw1d"),se=a.n(re);const oe=Object(ie.a)(50);class le extends n.Component{constructor(){super(...arguments),this.renderPlaylistItem=e=>{const{serverEntityID:t,providerEntityID:a,onPlaylistSelect:n}=this.props;return i.a.createElement(ne,{...e,className:se.a.cell,serverEntityID:t,providerEntityID:a,onSelect:n})}}render(){const{metadataItemEntityIDs:e,isPopulated:t,totalSize:a,...n}=this.props;return t?i.a.createElement(Q.a,{className:se.a.content,scrollerClassName:se.a.contentScroller,keyPropName:"metadataItemEntityID",items:e,size:a,layout:oe,cellRenderer:this.renderPlaylistItem,...n}):i.a.createElement(G.a,{className:se.a.spinner})}}var ce=le,de=a("upBJ"),ue=a.n(de);function pe(e){if(!e)return Object(v.default)("Title is required")}const me=Object(h.a)(({showErrors:e,...t})=>i.a.createElement(m.a,{hasError:e,...t}));class he extends n.Component{componentDidUpdate(e){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,title:r,smart:s,hasError:o,isUpdating:l,isMultiSelect:c,onModalClose:d,onDestinationSelect:u,onFormSubmit:m,onPlaylistSelect:h}=this.props,M=!c&&!s&&e&&t&&a;return i.a.createElement(E.a,{onModalClose:d},i.a.createElement(f.a,null,s?Object(v.default)("Create Playlist"):Object(v.default)("Add to Playlist")),M?i.a.createElement(W,{className:ue.a.listModalSubheader,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,onDestinationSelect:u}):null,o?i.a.createElement(S.a,{errorMessage:Object(v.default)("Something went wrong. Make sure the destination is available and try again.")}):null,s?null:i.a.createElement(g.a,{innerClassName:ue.a.listModalInnerBody},n?i.a.createElement(O.a,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,component:ce,initialSize:20,onPlaylistSelect:h}):null),i.a.createElement(y.a,null,i.a.createElement(p.b,{className:ue.a.createForm,onSubmit:m},i.a.createElement(me,{focusOnMount:!0,"data-autofocus":!0,selectTextOnFocus:!0,name:"title",initialValue:r,validations:[pe]}),i.a.createElement(I.a,{className:ue.a.createButton,type:"submit",kind:b.d,isSpinning:l},Object(v.default)("Create")))))}}var ge=he;const ye=Object(c.a)(e=>e.ui.addToPlaylistModal,u.a,(e,t)=>{const{metadataItem:a,metadataList:n,multiSelect:i}=e;if(a)return a;const r=t[n];return r&&r.metadataItems.length?r.metadataItems[0]:i&&i.activeSelectionItems&&i.activeSelectionItems.length?i.activeSelectionItems[0].model:void 0}),fe=Object(c.a)(e=>e.ui.addToPlaylistModal,ye,(e,t)=>({serverEntityID:e.server,providerEntityID:e.provider,metadataItemEntityID:t,metadataListEntityID:e.playlists,title:e.title,isUpdating:e.isUpdating,isMultiSelect:!!e.multiSelect,hasError:!!e.error}));class be extends n.Component{constructor(){super(...arguments),this.onAdd=e=>{this.props.dispatchAddToPlaylist(e)}}componentDidMount(){this.props.dispatchInitAddToPlaylistModal()}componentWillUnmount(){this.props.dispatchClearAddToPlaylistModal()}render(){const{dispatchInitAddToPlaylistModal:e,dispatchClearAddToPlaylistModal:t,dispatchAddToPlaylist:a,...n}=this.props;return i.a.createElement(ge,{onPlaylistSelect:this.onAdd,...n})}}var ve=Object(l.b)(fe,(function(e,t){return{onDestinationSelect({serverEntityID:t,providerEntityID:a}){e(d.f({serverEntityID:t,providerEntityID:a}))},onFormSubmit(t){e(d.d({formData:t}))},dispatchInitAddToPlaylistModal(){e(d.e({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metadataListEntityID:t.metadataListEntityID,playQueueID:t.playQueueID,smart:t.smart}))},dispatchClearAddToPlaylistModal(){e(d.c())},dispatchAddToPlaylist(t){e(d.a({playlistID:t}))}}}))(be);t.a=function(e){const{isOpen:t,onModalClose:a,...n}=e;return i.a.createElement(o.a,{size:r.c,isOpen:t,metricsPage:s.Y,onModalClose:a},i.a.createElement(ve,{onModalClose:a,...n}))}},"w+4p":function(e,t,a){"use strict";function n(e){return e.ui.multiSelect}a.d(t,"a",(function(){return n}))},"w+Nc":function(e,t,a){e.exports={avatar:"AvatarImg-avatar-3Op56u"}},"w+Xr":function(e,t){e.exports=function(e,t,a){return e===t?a.fn(this):a.inverse(this)}},w0qY:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("qNMu"),l=a("x1aQ"),c=a.n(l);function d({className:e,children:t,kind:a}){return s.a.createElement("span",{className:i()(e,c.a.badge,c.a[a],!t&&c.a.isHidden),"data-qa-id":"badgeElement"},t)}d.defaultProps={kind:o.c},t.a=d},w1d1:function(e,t,a){e.exports={modalContent:"GenerateRecoveryCodesModal-modalContent-g_D5jx ModalContent-modalContent-4GS6yU",innerModalBody:"GenerateRecoveryCodesModal-innerModalBody-CZW_GQ ModalBody-innerModalBody-BHe1nE",inputGroup:"GenerateRecoveryCodesModal-inputGroup-2ev7Iq"}},w41d:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"g",(function(){return o}));var n=a("FWoo"),i=a("Tent"),r=a("hPIe");function s(e,{homeUserEntityID:t}){return Object(n.a)(e,i.HOME_USER,t)}function o(e,{playerIdentifier:t}){const a=e.get("user").get("desktop").get("cloudCompanions");for(const e of a.models){const a=e.get("cloudPlayers").findWhere({playerIdentifier:t});if(a)return a}return e.get("companionServer").get("desktop").get("players").findWhere({playerIdentifier:t})}a.d(t,"a",(function(){return r.a})),a.d(t,"c",(function(){return r.c})),a.d(t,"d",(function(){return r.f})),a.d(t,"e",(function(){return r.g})),a.d(t,"f",(function(){return r.i})),a.d(t,"h",(function(){return r.j})),a.d(t,"i",(function(){return r.k})),a.d(t,"j",(function(){return r.l})),a.d(t,"k",(function(){return r.m})),a.d(t,"l",(function(){return r.n})),a.d(t,"m",(function(){return r.o})),a.d(t,"n",(function(){return r.p})),a.d(t,"o",(function(){return r.r})),a.d(t,"p",(function(){return r.t})),a.d(t,"q",(function(){return r.u}))},w8TB:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-remove-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m120 70l-50 50 160 160-160 160 50 50 160-160 160 160 50-50-160-160 160-160-50-50-160 160-160-160"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},w9Qn:function(e,t,a){e.exports={title:"MetadataPosterTitle-title-3tU5F9",singleLineTitle:"MetadataPosterTitle-singleLineTitle-24_DNu MetadataPosterTitle-title-3tU5F9",doubleLineTitle:"MetadataPosterTitle-doubleLineTitle-37-cWF MetadataPosterTitle-title-3tU5F9",isSecondary:"MetadataPosterTitle-isSecondary-2VUxYk",isSplitLine:"MetadataPosterTitle-isSplitLine-oK3N1p"}},wAGh:function(e,t,a){"use strict";a.d(t,"i",(function(){return W})),a.d(t,"h",(function(){return Q})),a.d(t,"c",(function(){return G})),a.d(t,"d",(function(){return K})),a.d(t,"e",(function(){return Y})),a.d(t,"f",(function(){return q})),a.d(t,"g",(function(){return Z})),a.d(t,"a",(function(){return J})),a.d(t,"b",(function(){return $})),a.d(t,"x",(function(){return ee})),a.d(t,"O",(function(){return te})),a.d(t,"Q",(function(){return ae})),a.d(t,"R",(function(){return ne})),a.d(t,"N",(function(){return ie})),a.d(t,"P",(function(){return re})),a.d(t,"r",(function(){return se})),a.d(t,"E",(function(){return oe})),a.d(t,"F",(function(){return le})),a.d(t,"w",(function(){return ce})),a.d(t,"A",(function(){return de})),a.d(t,"B",(function(){return ue})),a.d(t,"C",(function(){return pe})),a.d(t,"D",(function(){return me})),a.d(t,"q",(function(){return he})),a.d(t,"H",(function(){return ge})),a.d(t,"G",(function(){return ye})),a.d(t,"I",(function(){return fe})),a.d(t,"J",(function(){return be})),a.d(t,"k",(function(){return ve})),a.d(t,"l",(function(){return Ie})),a.d(t,"m",(function(){return Se})),a.d(t,"o",(function(){return Ee})),a.d(t,"p",(function(){return Oe})),a.d(t,"n",(function(){return Me})),a.d(t,"j",(function(){return Ce})),a.d(t,"y",(function(){return je})),a.d(t,"z",(function(){return De})),a.d(t,"v",(function(){return Pe})),a.d(t,"t",(function(){return Te})),a.d(t,"s",(function(){return we})),a.d(t,"K",(function(){return Ne})),a.d(t,"M",(function(){return xe})),a.d(t,"L",(function(){return Ae})),a.d(t,"u",(function(){return ke}));var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("ICb1"),l=a("+X4A"),c=a("kwss"),d=a("NCaO");var u=a("Qc+q");function p(e){const t=Object(u.a)(e),a=e.get("currentDecision");if(t&&a)return a.playQueueItemID===t.get("playQueueItemID")?a:void 0}var m=a("DdRF"),h=a("tNwU");var g=a("sdSe");var y=function(e,t){const a=l.default.parseUrl(e),{origin:n,pathname:i,params:r}=a;return r.offset=t,l.default.join([n,i],r)},f=a("slDQ"),b=a("0jae");var v=a("IbpV"),I=a("RNo0"),S=a("2Xys"),E=a("nvND");var O=a("qNzc"),M=a("Vk9Z"),C=a("gnaf"),j=a("Sp9s"),D=a("Xh8s"),P=a("FdSe");function T(e){return{startedAt:Object(S.a)(e.timeStamp),seekStartSeconds:Object(S.a)(e.minOffsetAvailable),seekEndSeconds:Object(S.a)(e.maxOffsetAvailable)}}var w=a("1iMN"),N=a("P9FS"),x=a("L7Oz"),A=a("/oUX"),L=a("INWF");var k=a("JUjL"),R=a("IpeH");var z=a("hPIe"),U=a("+Mxn"),V=a("1Lwt"),B=a("66GW"),F=a("bcER"),H=a("T0/d"),_=a("U1rH");const W="ui/player/playerMedia/updatePlayerPosition",Q="ui/player/playerMedia/togglePlayPause",G="ui/player/playerMedia/seek",K="ui/player/playerMedia/skipBack",Y="ui/player/playerMedia/skipForward",q="ui/player/playerMedia/stepBack",Z="ui/player/playerMedia/stepForward",X="ui/player/playerMedia/changeVolume",J="ui/player/playerSettings/changeQualityIndex",$="ui/player/playerSettings/changeStream",ee=Object(o.a)("ui/player/playerMedia/sendTimeline"),te=Object(o.a)("ui/player/playerMedia/updatePlayerDuration"),ae=Object(o.a)(W),ne=Object(o.a)("ui/player/playerMedia/updatePlayerSeekRange"),ie=Object(o.a)("ui/player/playerMedia/updatePlayerBuffering"),re=(Object(o.a)("ui/player/playerMedia/updatePlayerLoading"),Object(o.a)("ui/player/playerMedia/updatePlayerError")),se=Object(o.a)("ui/player/playerMedia/clearPlayerError"),oe=Object(o.a)("ui/player/playerMedia/tickPlayer"),le=Object(o.a)(Q),ce=Object(o.a)(G),de=(Object(o.a)("ui/player/playerMedia/transcodeSeek"),Object(o.a)(K)),ue=Object(o.a)(Y),pe=Object(o.a)(q),me=Object(o.a)(Z),he=Object(o.a)(X),ge=Object(o.a)("ui/player/playerSettings/togglePlayerSettingsState"),ye=Object(o.a)("ui/player/playerSettings/togglePlayerChaptersState"),fe=Object(o.a)("ui/player/playerSettings/togglePlayerSubtitlesOffsetState"),be=Object(o.a)("ui/player/playerSettings/togglePlayerWatchTogetherParticipantsState"),ve=Object(o.a)(J),Ie=Object(o.a)($),Se=Object(o.a)("ui/player/playerSettings/changeSubtitleColor"),Ee=Object(o.a)("ui/player/playerSettings/changeSubtitlePosition"),Oe=Object(o.a)("ui/player/playerSettings/changeSubtitleSize"),Me=Object(o.a)("ui/player/playerSettings/changeSubtitleOffset"),Ce=Object(o.a)("ui/player/playerMedia/changePlaybackSpeed"),je=Object(o.a)("ui/player/playerMedia/setItemPlaybackTime"),De=Object(o.a)("ui/player/playerMedia/setSessionPlaybackTime"),Pe=Object(o.a)("ui/player/playerMedia/refreshStreams"),Te=Object(o.a)(Q,e=>({...e,shouldPlay:!0})),we=Object(o.a)(Q,e=>({...e,shouldPause:!0})),Ne=(Object(o.a)(X,e=>({...e,delta:5})),Object(o.a)(X,e=>({...e,delta:-5})),Object(o.a)("ui/player/playerMedia/updateBufferedRanges")),xe=Object(o.a)("ui/player/playerMedia/updateMediaDimensions"),Ae=Object(o.a)("ui/player/playerMedia/updateCanPlayThrough");function Le(e,t,a){return Math.max(0,Math.min(t-h.b,e+a))}const ke={"ui/player/playerMedia/sendTimeline"(e,t,a){var n;const{playerType:r,providerEntityID:o,mediaItemID:c,shouldRefreshPlayQueue:d,options:u={}}=t,p=Object(U.c)(e,r),m=z.j(e,{providerEntityID:o}),h=z.h(e,t),y=z.f(e,t);if(!y&&C.l(m.get("identifier"),[C.c,C.b]))return;const f=h.get("isLocal")?void 0:h.get("playQueueItemID"),w=null==(n=z.q(e,t))?void 0:n.get("grabOperation").get("metadataItem");(function(e,t,a){const{playQueueItemID:n,mediaItemID:r,mediaIndex:o,partIndex:c,partCount:d,state:u,continuing:p,playbackTime:m,positionSeconds:h,durationSeconds:g,metricsContextTuple:y,ratingKey:f,key:v}=a,w=e.get("features").get(M.r);if(!w)return i.a.Deferred().reject().promise();const N={ratingKey:f||t.get("ratingKey"),key:v||t.get("key"),playbackTime:m,playQueueItemID:n,state:u,hasMDE:1,...y?Object(P.c)(y):void 0};if(u===O.e&&p&&(N.continuing=1),C.l(e.get("identifier"),[C.c,C.b])&&(N.airingID=r),null!=g){const e=1e3*h,a=1e3*g;if(d>1){const a=t.get("Media")[o],n=a.Part[c];N.time=Object(j.a)(a,n,e),N.duration=a.duration}else N.time=e,N.duration=a;N.duration=Math.max(N.time,N.duration)}Object(b.a)("[Player] Timeline, %s",N);const x=l.default.join(w.get("key"),N),A=t.provider.getXHROptions(x,{headers:{accept:E.c.accept,"X-Plex-Session-Identifier":a.playbackSessionID}});return i.a.ajax(A).promise().then(e=>{const a=Object(D.a)(e);return a.terminationCode&&(a.terminationCode=Object(S.a)(a.terminationCode)),a.generalDecisionCode&&(a.generalDecisionCode=Object(S.a)(a.generalDecisionCode)),a.mdeDecisionCode&&(a.mdeDecisionCode=Object(S.a)(a.mdeDecisionCode)),a.transcodeDecisionCode&&(a.transcodeDecisionCode=Object(S.a)(a.transcodeDecisionCode)),a.Bandwidths&&a.TranscodeSession&&(a.bandwidthTimeline={bandwidths:Object(I.a)(a.Bandwidths.Bandwidth),transcodeSessionID:s.a.last(a.TranscodeSession.key.split("/"))}),a.CaptureBuffer&&a.CaptureBuffer.TranscodeSession&&(a.captureBuffer=T(a.CaptureBuffer.TranscodeSession)),a.TranscodeSession&&(a.transcodeSession=T(a.TranscodeSession)),N.time>6e4&&("progress"===a.playbackState?t.set("viewOffset",N.time):"complete"===a.playbackState&&t.set({viewOffset:0,viewCount:1})),a})})(m,y,{state:Object(g.a)(p),playbackSessionID:p.get("playbackSessionID"),playQueueItemID:f,mediaItemID:c,metricsContextTuple:p.get("metricsContextTuple"),key:null==w?void 0:w.get("key"),ratingKey:null==w?void 0:w.get("ratingKey"),...u}).done(Object(x.a)(p,e=>{a(Object(_.E)({playerType:r}));const{bandwidthTimeline:t,captureBuffer:n,transcodeSession:i}=e;p.set("bandwidthTimeline",t);const s=p.get("liveTVSession");i?(a(ne({playerType:r,seekStartSeconds:i.seekStartSeconds,seekEndSeconds:i.seekEndSeconds})),s&&i.startedAt&&s.set({startedAt:i.startedAt,captureBuffer:n})):n&&(a(ne({playerType:r,seekStartSeconds:n.seekStartSeconds,seekEndSeconds:n.seekEndSeconds})),s&&n.startedAt&&s.set({startedAt:n.startedAt}));const o=p.get("playQueue");d&&o.get("playQueueSelectedItemID")===h.get("playQueueItemID")&&Object(v.a)(o).done(Object(x.a)(p,()=>{a(Object(_.E)({playerType:r}))})),e.terminationCode&&(a(Object(_.C)()),p.restoreDefaults({hasError:!0,errorMessage:e.terminationText}))}))},"ui/player/playerMedia/updatePlayerDuration"(e,{playerType:t,durationMilliseconds:a}){const n=Object(U.c)(e,t),i=Object(u.a)(n).get("metadataItem"),r=p(n);if(!r)return;const s=i.get("Media")[r.mediaIndex],o=Object(k.a)(s),l=!!o&&"vbr"===o.bitrateMode,c=a>0&&!l?a:s.duration;n.set({isMediaLoading:!1,durationSeconds:Math.floor((c||0)/1e3)})},[W](e,{playerType:t,positionSeconds:a}){const n=Object(U.c)(e,t);Object(V.a)(()=>{const e={positionSeconds:a},t=n.get("lastSeekPositionSeconds");null!==t&&a>t&&(e.lastSeekPositionSeconds=null),n.set(e)})},"ui/player/playerMedia/updatePlayerSeekRange"(e,{playerType:t,seekStartSeconds:a,seekEndSeconds:n}){Object(U.c)(e,t).set({seekStartSeconds:a,seekEndSeconds:n})},"ui/player/playerMedia/updatePlayerBuffering"(e,{playerType:t,isBuffering:a}){Object(U.c)(e,t).set({isBuffering:a})},"ui/player/playerMedia/updatePlayerLoading"(e,{playerType:t,isMediaLoading:a}){Object(U.c)(e,t).set({isMediaLoading:a})},"ui/player/playerMedia/updatePlayerError"(e,t){Object(U.c)(e,t.playerType).set({isMediaLoading:!1,hasError:!0,errorMessage:t.errorMessage,errorCode:t.errorCode,errorCategory:t.errorCategory})},"ui/player/playerMedia/clearPlayerError"(e,{playerType:t}){const a=Object(U.c)(e,t);Object(V.a)(()=>{a.set({hasError:!1,errorMessage:null,errorCode:null,errorCategory:null})})},"ui/player/playerMedia/tickPlayer"(e,t,a){const{metadataItemEntityID:n,liveTVSessionEntityID:r,mediaItemID:s,playerType:o,secondsElapsed:l}=t,c=Object(U.c)(e,o),d=c.get("playQueue"),u=p(c);if(!u)return;const m=c.get("isPaused"),h=l%30==0;if(l%10==0){const e=d.get("playQueueSelectedItemID"),t=d.get("playQueueItems").get(e);a(ee({playerType:o,providerEntityID:c.get("providerEntityID"),playQueueItemEntityID:t.entityID(),metadataItemEntityID:n,liveTVSessionEntityID:r,mediaItemID:s,options:{playbackTime:c.get("itemPlaybackTime"),positionSeconds:c.get("positionSeconds"),durationSeconds:c.get("durationSeconds"),mediaIndex:u.mediaIndex,partIndex:u.partIndex,partCount:u.partCount}}))}if(h&&m&&u.transcodeSessionID){const t=u.transcodeServerEntityID;!function(e,t){Object(f.a)(t,"A transcoder ping requires a session identifier"),Object(b.a)("[Player] Transcoder Ping, %s",t);const a="/video/:/transcode/universal/ping?session="+t;i.a.ajax(e.getXHROptions(a)).promise()}(z.m(e,{serverEntityID:t}),u.transcodeSessionID)}},[Q](e,{playerType:t,shouldPlay:a,shouldPause:n,isApplicationInitiated:i},r){const s=Object(U.c)(e,t),o=s.get("isPaused"),l=Object(m.a)(e);let c;i||!Object(N.a)(s)?s.get("isPostPlayVisible")?Object(V.a)(()=>{s.set({isPostPlayVisible:!1}),l.playNextItem(s,!0)}):(c=a?"play":n?"pause":o?"play":"pause",o&&"pause"===c||!o&&"play"===c||Object(V.a)(()=>{l[c](s,i)})):r(Object(L.d)(Object(B.default)("Pausing is not enabled on this channel")))},[G](e,{playerType:t,positionSeconds:a}){const n=Object(U.c)(e,t),i=Object(m.a)(e);Object(N.a)(n)||Object(V.a)(()=>{i.seek(n,a)})},"ui/player/playerMedia/transcodeSeek"(e,{playerType:t,positionSeconds:a}){const n=Object(U.c)(e,t),i=p(n);if(!i)return;const r=Object(u.a)(n).entityID(),s=n.get("liveTVSession");let o=a;if(s){const e=s.get("captureBuffer"),t=s.get("startedAt");o+=t-e.startedAt,s.set({startedAt:t+a})}const l={...i,url:y(i.url,o)};n.set({currentDecision:l,decisions:{...n.get("decisions"),[r]:l}})},[K](e,{playerType:t,allowDebounce:a=!0}){const n=Object(U.c)(e,t);if(Object(N.a)(n))return;const i=Object(m.a)(e),r=a?c.a.seekDebounceMilliseconds:null,s=Le(n.get("nextPositionSeconds")||n.get("positionSeconds"),n.get("durationSeconds"),-h.c);Object(V.a)(()=>{i.seek(n,s,r)})},[Y](e,{playerType:t,allowDebounce:a=!0}){const n=Object(U.c)(e,t);if(Object(N.a)(n))return;const i=Object(m.a)(e),r=n.get("positionSeconds"),s=n.get("nextPositionSeconds"),o=n.get("durationSeconds"),l=a?c.a.seekDebounceMilliseconds:null;if(o-r>h.b){const e=Le(s||r,o,h.d);Object(V.a)(()=>{i.seek(n,e,l)})}},[q](e,{playerType:t}){const a=Object(U.c)(e,t),n=Object(u.a)(a).get("metadataItem");if(Object(N.a)(a))return;const i=Object(m.a)(e),r=n.get("chapters"),s=a.get("positionSeconds"),o=a.get("nextPositionSeconds"),l=a.get("durationSeconds");let c;c=r&&r.length?function(e,t){if(e&&e.length){for(let a=e.length-1;a>=0;a--){const n=e.at(a),i=Math.ceil(n.get("startTimeOffset")/1e3);if(i<t-h.a)return i}return 0}}(r,o||s):Le(o||s,l,-h.e),Object(V.a)(()=>{i.seek(a,c)})},[Z](e,{playerType:t}){const a=Object(U.c)(e,t),n=Object(u.a)(a).get("metadataItem");if(Object(N.a)(a))return;const i=Object(m.a)(e),r=n.get("chapters"),s=a.get("positionSeconds"),o=a.get("nextPositionSeconds"),l=a.get("durationSeconds");let c;r&&r.length?c=function(e,t){if(e&&e.length)for(let a=0;a<e.length;a++){const n=e.at(a),i=Math.ceil(n.get("startTimeOffset")/1e3);if(i>t)return i}}(r,s):l-(o||s)>h.b&&(c=Le(o||s,l,h.f)),null!=c&&Object(V.a)(()=>{i.seek(a,c)})},[X](e,{playerType:t,volume:a,delta:n},i){const r=function(e){const t=e.get("remotePlayer");return t?t.get("volume"):Object(R.a)(e)}(e);let s=n?r+n:a;if(s=Math.max(0,Math.min(100,s)),s===r)return;const o=Object(U.c)(e,t),l=Object(m.a)(e);Object(V.a)(()=>{l.changeVolume(o,s,i)})},"ui/player/playerSettings/togglePlayerSettingsState"(e,{playerType:t}){const a=Object(U.c)(e,t),n=a.get("isSettingsVisible");Object(V.a)(()=>{a.set(Object(w.a)(a,n,{isSettingsVisible:!n,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))})},"ui/player/playerSettings/togglePlayerChaptersState"(e,{playerType:t}){const a=Object(U.c)(e,t),n=a.get("isChaptersVisible");Object(V.a)(()=>{a.set(Object(w.a)(a,n,{isSettingsVisible:!1,isChaptersVisible:!n,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))})},"ui/player/playerSettings/togglePlayerSubtitlesOffsetState"(e,{playerType:t}){const a=Object(U.c)(e,t),n=a.get("isSubtitlesOffsetSettingsVisible");Object(V.a)(()=>{a.set(Object(w.a)(a,n,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!n,isWatchTogetherParticipantsVisible:!1}))})},"ui/player/playerSettings/togglePlayerWatchTogetherParticipantsState"(e,{playerType:t}){const a=Object(U.c)(e,t),n=a.get("isWatchTogetherParticipantsVisible");Object(V.a)(()=>{a.set(Object(w.a)(a,n,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isWatchTogetherParticipantsVisible:!n}))})},[J](e,{playerType:t,qualityIndex:a}){const n=Object(U.c)(e,t);Object(m.a)(e).changeQualityIndex(n,a)},[$](e,t,a){const{playerType:n,streamTypeString:i,streamID:r}=t,s=e.get("remotePlayer"),o=Object(U.c)(e,n),l=Object(u.a)(o).get("metadataItem"),c=Object(m.a)(e);a(Object(A.p)({metadataItemEntityID:l.entityID(),mediaIndex:o.get("mediaIndex"),streamTypeString:i,streamID:r,updateLocalOnly:!!s,allParts:o.get("partIndex")>0})),c.changeStream(o,i,r)},"ui/player/playerSettings/changeSubtitleColor"(e,{playerType:t,subtitleColor:a},n){const i=Object(U.c)(e,t);Object(m.a)(e).changeSubtitleColor(i,a,n)},"ui/player/playerSettings/changeSubtitlePosition"(e,{playerType:t,subtitlePosition:a},n){const i=Object(U.c)(e,t);Object(m.a)(e).changeSubtitlePosition(i,a,n)},"ui/player/playerSettings/changeSubtitleSize"(e,{playerType:t,subtitleSize:a},n){const i=Object(U.c)(e,t);Object(m.a)(e).changeSubtitleSize(i,a,n)},"ui/player/playerSettings/changeSubtitleOffset"(e,t,a){const{playerType:n,subtitleOffset:r,localUpdateOnly:s}=t,o=Object(m.a)(e),c=Object(U.c)(e,n),p=c.get("mediaIndex")||0,h=c.get("partIndex")||0,g=Object(u.a)(c).get("metadataItem"),y=g.get("Media"),f=y[p],b=f.Part[h],v=F.a.get("subtitles").id,I=b.Stream.find(e=>e.streamType===v&&e.selected),S=function(e,t,a,n,i){const r={...n,offset:i},s=Object(d.a)(a.Stream,n,r),o={...a,Stream:s},l={...t,Part:Object(d.a)(t.Part,a,o)};return Object(d.a)(e,t,l)}(y,f,b,I,r);if(g.set({Media:S}),s)return;const E={offset:r};let O=I.key;C.l(g.provider.get("identifier"),C.i)&&(O="/library/parts/"+b.id,E.subtitleStreamID=I.id);const M=l.default.join(O,E),j=g.provider.getXHROptions(M,{type:"PUT",scope:"setMetadataItemStreamOffset--"+I.id});H.a.abortAll(j.scope),i.a.ajax(j).fail(e=>{e.aborting||g.get("Media")===S&&g.set({Media:y})}),o.changeSubtitleOffset(c,r,a)},"ui/player/playerMedia/changePlaybackSpeed"(e,{playerType:t,playbackSpeed:a}){const n=Object(U.c)(e,t),i=Object(m.a)(e),r=Math.round(10*a)/10;i.changePlaybackSpeed(n,r)},"ui/player/playerMedia/setItemPlaybackTime"(e,{playerType:t,playbackTime:a},n){Object(U.c)(e,t).set("itemPlaybackTime",a)},"ui/player/playerMedia/setSessionPlaybackTime"(e,{playerType:t,playbackTime:a},n){Object(U.c)(e,t).set("sessionPlaybackTime",a)},"ui/player/playerMedia/refreshStreams"(e,{playerType:t}){const a=Object(U.c)(e,t);Object(u.a)(a).get("metadataItem").fetch({data:{skipRefresh:1},usePopulatedParams:!0})},"ui/player/playerMedia/updateBufferedRanges"(e,{playerType:t,bufferedRanges:a}){const n=Object(U.c)(e,t),i=a.map(e=>({startSeconds:Math.ceil(e.startSeconds),endSeconds:Math.floor(e.endSeconds)})).sort((e,t)=>e.startSeconds-t.startSeconds).reduce((e,t)=>{var a,n;const i=e.length-1;return t.startSeconds<(null==(a=e[i])?void 0:a.startSeconds)||t.startSeconds<(null==(n=e[i])?void 0:n.endSeconds)?(e[i].startSeconds=Math.min(e[i].startSeconds,t.startSeconds),e[i].endSeconds=Math.max(e[i].endSeconds,t.endSeconds)):e.push(t),e},[]);s.a.isEqual(n.get("bufferedRanges"),i)||n.set({bufferedRanges:i})},"ui/player/playerMedia/updateMediaDimensions"(e,{playerType:t,width:a,height:n}){Object(U.c)(e,t).set({mediaWidth:a,mediaHeight:n})},"ui/player/playerMedia/updateCanPlayThrough"(e,{playerType:t,canPlayThrough:a}){const n=Object(U.c)(e,t);n.get("canPlayThrough")!==a&&n.set({canPlayThrough:a})}}},wCAT:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("6FMj");function i(e,t,a,i,r){const s=r||n.a;let o=s(e.props,t);return o&&(o=s(e.state,a),o&&i&&(o=s(e.context,i))),!o}},wCLk:function(e,t,a){e.exports={titleContainer:"ChannelsGridDetailRowTitle-titleContainer-2gAFRL",primaryTitle:"ChannelsGridDetailRowTitle-primaryTitle-1SX7s0",secondaryTitle:"ChannelsGridDetailRowTitle-secondaryTitle-2HfyQE"}},wFRV:function(e,t,a){"use strict";var n=a("/MKj"),i=a("G4qV"),r=a("LWeR"),s=a("kwss"),o=a("XH5U"),l=a("sfIp"),c=a("2bcr");const d=s.a.allowSyncDownload?{urlParams:{"X-Plex-Account-ID":1}}:null;const u=Object(n.b)((function(){return Object(i.a)(c.b,l.b,Object(o.a)(d),(e,t,a)=>({url:a,supportsSize:!!(e&&e.isCloud&&t)}))}))(r.a);t.a=u},wHWh:function(e,t,a){e.exports={backgroundContainer:"FullPageBackground-backgroundContainer-3CiKUQ"}},wIEn:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-info"></i> '+(0,this.escapeExpression)("function"==typeof(r=null==(r=t&&t.agent)||!1===r?r:r.name)?r.apply(t):r)+' </h4> </div> <div class="modal-body"> <p class="agent-icon-container"></p> <p>',((r=(s=a.attribution)||"function"==typeof(s=t&&t.attribution)?s.call(t,{hash:{},data:i}):s)||0===r)&&(o+=r),o+="</p> </div> </div> </div> "}))},wIt8:function(e,t,a){e.exports={form:"InviteHomeUserWarning-form-2YLPzb",modalBody:"InviteHomeUserWarning-modalBody-36ay10 ModalBody-modalBody--5uHSu",warning:"InviteHomeUserWarning-warning-A7harF"}},wOT7:function(e,t,a){e.exports={plexPassTitle:"PlexPassModalContent-plexPassTitle-3B6zqq",header:"PlexPassModalContent-header-2D-A94 ModalHeader-modalHeader-1Kf9RW",body:"PlexPassModalContent-body-3BSt2g ModalBody-innerModalBody-36gmbf",moreFeatures:"PlexPassModalContent-moreFeatures-2qv0-f",footer:"PlexPassModalContent-footer-15_IJg ModalFooter-modalFooter-30WIB5",planButton:"PlexPassModalContent-planButton-3JY2bR",link:"PlexPassModalContent-link-3Xt-yL",spinnerContainer:"PlexPassModalContent-spinnerContainer-ytMIfw",plansContainer:"PlexPassModalContent-plansContainer-2boTWX",isPlansPending:"PlexPassModalContent-isPlansPending-SjJBDA",marketingFrame:"PlexPassModalContent-marketingFrame-3NKjtm"}},wRTI:function(e,t,a){e.exports={button:"QuickSearchResult-button-1ZHpOA",title:"QuickSearchResult-title-1XJ-0g",selected:"QuickSearchResult-selected-3xPnwh",underlay:"QuickSearchResult-underlay-QgyJtZ",overlay:"QuickSearchResult-overlay-38WrLO",imageContainer:"QuickSearchResult-imageContainer-DvFlpe",titles:"QuickSearchResult-titles-3kHPx0",moreButton:"QuickSearchResult-moreButton-2Agbka",moreIcon:"QuickSearchResult-moreIcon-UsTkIK"}},wRpn:function(e,t,a){e.exports={seriesIcon:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-1yyj_S"}},wTIs:function(e,t,a){e.exports={container:"ServerLogTimeFilterInputs-container-2cnIRA",separator:"ServerLogTimeFilterInputs-separator-6uUbhp",input:"ServerLogTimeFilterInputs-input-sLDSiT TextInput-input-1VMuma input-input-1P2Vi4"}},whaC:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("cgRT"),i=a("kwss");function r(e){return!e.get("experienceSettings").get("isRemoteSchemaVersionNewer")&&i.a.allowSyncSettings&&Object(n.c)("settingFinder").find("shouldSyncSettings")}},wlUd:function(e,t,a){e.exports={listModalInnerBody:"ListModal-listModalInnerBody-1mBaLj"}},wmCi:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("2pL0"),s=a("QExs"),o=a.n(s);function l(e){const{className:t,children:a,iconComponent:n,onModalClose:s,...l}=e;return i.a.createElement("div",{className:t,...l},i.a.createElement(r.a,{className:o.a.closeButton,onPress:s},n?i.a.createElement(n,null):null),a)}l.defaultProps={className:o.a.modalContent};var c=l,d=a("w8TB");function u(e){return i.a.createElement(c,{...e})}u.defaultProps={...u.defaultProps,iconComponent:d.a};t.a=u},wnar:function(e,t,a){e.exports={slider:"VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",fill:"VerticalSlider-fill-2HISoE Slider-fill-35GFqs",thumb:"VerticalSlider-thumb-hm7PPn Slider-thumb-2QGiU1 Link-link-2n0yJn",thumbTrack:"VerticalSlider-thumbTrack-36XvCF Slider-thumbTrack-21hGVQ",track:"VerticalSlider-track-1RVQfn Slider-track-28JOSn"}},wowv:function(e,t,a){"use strict";function n(e,t){const a=new Set;function n(n){if(null==t?void 0:t(n))return;if(n.metaKey||n.ctrlKey||(n.stopImmediatePropagation(),n.preventDefault()),n.repeat)return;const i="keydown"===n.type;i?a.add(n.code):a.delete(n.code),e(n.code,i,a)}return window.addEventListener("keydown",n,!0),window.addEventListener("keyup",n,!0),()=>{window.removeEventListener("keydown",n,!0),window.removeEventListener("keyup",n,!0)}}a.d(t,"a",(function(){return n}))},wrVM:function(e,t,a){e.exports={modalContainer:"SourceSidebarConfirmModal-modalContainer-21lfc3 Modal-modalContainer-tNumMm"}},wsmf:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("oVB5"),s=a("2pL0"),o=a("f+Ik"),l=a("WGvO"),c=a.n(l);class d extends n.Component{render(){const{linkClassName:e,buttonClassName:t,children:a,to:n,hasMenu:l,isMenuOpen:c,isSelected:d,isDisabled:u,...p}=this.props;return l||n?l?i.a.createElement(r.a,{className:t,"data-qa-id":"typeDropdownButton",isSelected:d,isDisabled:u,direction:c?o.c:o.a,...p},a):i.a.createElement(s.a,{className:e,to:n,isDisabled:u},a):i.a.createElement("span",{className:e},a)}}d.defaultProps={linkClassName:c.a.link,buttonClassName:c.a.button,hasMenu:!1,isMenuOpen:!1,isSelected:!1,isDisabled:!1},t.a=d},wt2f:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var n=a("9T71");function i(e){return s({hubIdentifier:e.get("hubIdentifier"),identifier:e.provider.get("identifier"),machineIdentifier:e.server.get("machineIdentifier")})}function r(e,t,a){const{hubIdentifier:n}=e,{identifier:i}=t,{machineIdentifier:r}=a;return s({hubIdentifier:n,identifier:i,machineIdentifier:r})}function s(e){const{identifier:t,hubIdentifier:a,machineIdentifier:i}=e;return`${i}--${t}--${Object(n.a)(a)}`}},"x/40":function(e,t,a){e.exports={emptyPageContentScroller:"EmptyPageContent-emptyPageContentScroller-1iFp-y PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74",content:"EmptyPageContent-content-2f0kQ6",icon:"EmptyPageContent-icon-2r564L",imgIcon:"EmptyPageContent-imgIcon-tsh_pm",title:"EmptyPageContent-title-1IdWPt",description:"EmptyPageContent-description-21WgWJ",footer:"EmptyPageContent-footer-2hesaN"}},x04c:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l}));var n=a("vOHB"),i=a("kwss");function r(){return!n.a.isHostedHttps||!!i.a.allowMixedContent}function s(e){return e.isFullServer&&!!e.presence&&!e.httpsRequired}function o(e){return!r()&&s(e)}function l(e){const t=e.hasHttpsConnections&&!e.hasFallbackConnections;return r()&&s(e)&&t}},x181:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));const n="relay",i="upsell"},x1aQ:function(e,t,a){e.exports={badge:"Badge-badge-21NQRi",isHidden:"Badge-isHidden-2p8gjS",default:"Badge-default-VTVet2",primary:"Badge-primary-3suJx3",success:"Badge-success-3m8_X_",danger:"Badge-danger-2rQkaX"}},x3ko:function(e,t,a){e.exports={equalizer:"EqualizerIcon-equalizer-2SoFA6",bar:"EqualizerIcon-bar-1nPotE"}},x436:function(e,t,a){e.exports={container:"AlbumDiscList-container-3sxwmh"}},x481:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return h})),a.d(t,"d",(function(){return g})),a.d(t,"b",(function(){return y})),a.d(t,"c",(function(){return f}));var n=a("F/us"),i=a.n(n),r=a("slDQ"),s=a("e0Cb");function o(e){let t=e.tabIndex;return null===t&&(t=void 0),!isNaN(t)&&t>=0&&function(e){if(!function e(t){if(t===document)return!0;if(!t)return!1;if(!t.parentNode)return!1;if(t.style){const e=t.style;if("none"===e.display||"hidden"===e.visibility)return!1}if(window.getComputedStyle){const e=window.getComputedStyle(t);if("none"===e.getPropertyValue("display")||"hidden"===e.getPropertyValue("visibility"))return!1}return e(t.parentNode)}(e))return!1;const t=e.nodeName.toLowerCase();if(/input|select|textarea|button|object/.test(t))return!e.disabled;if("a"===t)return e.href;return!0}(e)}function l(e){if(!e)return[];const t=[].slice.call(e.getElementsByTagName("*"),0).filter(e=>o(e));return i.a.sortBy(t,e=>0===e.tabIndex?1/0:e.tabIndex)}let c,d;function u(e){try{e.focus()}catch(e){}}function p(e){const t=document.activeElement,a=t&&e&&e.contains(t);t&&!a&&t.blur()}function m(e){c=document.activeElement,d=e,p(e)}function h(e){Object(r.a)(d,"Call `startScopedFocus(element)` before `scopeTabEvent`");const t=l(d);if(!t.length)return;e.preventDefault();const a=document.activeElement,n=a?t.indexOf(a):-1,i=t.length-1;let s;-1===n?s=e.shiftKey?i:0:(s=e.shiftKey?n-1:n+1,s<0?s=i:s>i&&(s=0)),u(t[s])}function g(){Object(r.a)(d,"Call `startScopedFocus(element)` before `scopeAutoFocus`");const e=l(d),t=i.a.find(e,e=>Object(s.a)(e.getAttribute("data-autofocus")));t&&u(t)}function y(){d=null}function f(){c&&(u(c),c=null)}},x5TN:function(e,t,a){e.exports={secondaryTitle:"PrePlaySecondaryTitle-secondaryTitle-1O5B-i PrePlayPrimaryTitle-primaryTitle-3kexTE"}},x8AS:function(e,t,a){e.exports={separator:"PrePlayDashSeparator-separator-1d01zK"}},x9uD:function(e,t,a){e.exports={actionLinks:"SettingsFormSectionActionLinks-actionLinks-2vGv7Q"}},xAXV:function(e,t,a){e.exports={overlay:"MetadataTrackDetailsRow-overlay-leehwr",container:"MetadataTrackDetailsRow-container-1TJ4EW",indexPlayContainer:"MetadataTrackDetailsRow-indexPlayContainer-1c8mV9",posterContainer:"MetadataTrackDetailsRow-posterContainer-2xjhb8",titleContainer:"MetadataTrackDetailsRow-titleContainer-3ptKaN",title:"MetadataTrackDetailsRow-title-1en8KD",subtitle:"MetadataTrackDetailsRow-subtitle-2HonOp MetadataTrackDetailsRow-title-1en8KD",duration:"MetadataTrackDetailsRow-duration-2fxryr",actions:"MetadataTrackDetailsRow-actions-2FSefs",actionsMenuButton:"MetadataTrackDetailsRow-actionsMenuButton-392OTT Link-link-2ew_DK"}},xC3s:function(e,t,a){e.exports={innerModalBody:"DVRSetupUseXMLTV-innerModalBody-2FDAib ModalBody-innerModalBody-BHe1nE",form:"DVRSetupUseXMLTV-form-3Oh8_m",title:"DVRSetupUseXMLTV-title-j5mXao",buttonBar:"DVRSetupUseXMLTV-buttonBar-39N0pd ModalFooterButtonBar-buttonBar-7XF2zU"}},xEL2:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("9/EM"),i=a("Da6A"),r=a("IYaI"),s=a("dLU1"),o=a("Ctv7"),l=a("r4sE"),c=a("zbbA"),d=a("RgJi"),u=a("odh7");const p={days:n.a,hours:i.a,minutes:r.a,months:s.a,seconds:o.a,weeks:l.a,years:c.a};function m(e,t={}){let a=Object(d.a)(e);for(const e in t)a=p[e](a,t[e]);return Object(u.a)(a)}},xH8n:function(e,t,a){e.exports={container:"SourceBadge-container-3OfQBW",text:"SourceBadge-text-Y8yYEa",attribution:"SourceBadge-attribution-YBphYv",avatar:"SourceBadge-avatar-3iVqZC AvatarImg-avatar-3Op56u"}},xHef:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> '+(0,this.escapeExpression)((s=a("d8WC"),s&&(s.__esModule?s.default:s)).call(t,"Optimize",{hash:{},data:r}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},xHg7:function(e,t,a){"use strict";var n=a("TSYQ"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("EiC7"),l=a("wCAT"),c=a("0pZA"),d=a("HSBM"),u=a("G4qV"),p=a("kwss"),m=a("n9Tp"),h=a("SiWM"),g=a("xSXQ"),y=a("ERyq"),f=a("GUIr"),b=a("rXDx");var v=a("OsFP"),I=a("m8hN"),S=a("OMWn"),E=a("DdkG"),O=a("OPqZ"),M=a("Cxyf"),C=a("f2wi"),j=a("pXC0");function D(e,t){const{type:a,subtype:n,viewCount:i,viewOffset:r,saved:s}=e;if(null!=s&&!s)return!1;const o=a===b.TRACK&&n===C.PODCAST,l=a===b.EPISODE&&n===C.WEBSHOW;return(o||l||function(e,t){const{isLibraryItem:a,isFolder:n,isExtra:i}=e;return a&&!n&&!i&&t.mediaType===j.e}(e,t))&&!i&&!r}function P(e,t){const{type:a,subtype:n,saved:i,unviewedLeafCount:r,isLibraryItem:s,isExtra:o}=e;if(null!=i&&!i)return!1;const l=s&&!o&&b.isDirectoryType(a)&&t.mediaType===j.e,c=a===b.SHOW&&(n===C.PODCAST||n===C.WEBSHOW);return(l||c)&&!!r}var T=a("Lo/S"),w=a("a4j+"),N=a("xPjC"),x=a("oNTf"),A=a("Co+w"),L=a("4A6Q"),k=a("Fx8r"),R=a("hW8R"),z=a("sjIW"),U=a("2pL0"),V=a("EVgX"),B=a("AUbT"),F=a("EdFZ"),H=a("eoAN"),_=a("+qY4");function W(e,t,a){const n=t-e,i=a-e;return Object(f.a)(i,n)}var Q=a("1zOe");class G extends r.Component{constructor(e,t){super(e,t),this.tick=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}componentWillMount(){this.setTickTimeout()}componentWillReceiveProps(e,t){this.setState(this.getState(e))}shouldComponentUpdate(e,t){return Object(l.a)(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState({beginsAt:e,endsAt:t}){return{progress:W(e,t,Date.now()/1e3)}}setTickTimeout(){this.tickTimeout=window.setTimeout(this.tick,6e4-Date.now()%6e4)}render(){const e=this.props.className,t=this.state.progress;return t?s.a.createElement(Q.a,{className:e,progress:t}):null}}var K=G,Y=a("s2Sz"),q=a.n(Y);class Z extends r.Component{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1},this._moreButtonID=Object(V.a)()}shouldComponentUpdate(e,t){return Object(l.a)(this,e,t)}render(){const{className:e,serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,route:r,type:o,title:l,subscriptionType:c,isSubscribed:d,showLink:u,beginsAt:p,endsAt:m,showPlay:h,showRecord:g,onPlayLiveTVPress:y}=this.props,{isSubscribeModalOpen:f}=this.state;return s.a.createElement("div",{className:i()(e,q.a.overlay)},s.a.createElement("div",{className:q.a.background}),d?s.a.createElement("div",{className:q.a.subscriptionBadge},s.a.createElement(B.a,{type:c})):null,u?s.a.createElement(U.a,{className:q.a.link,to:r}):null,s.a.createElement(K,{className:q.a.progress,beginsAt:p,endsAt:m}),h?s.a.createElement(F.a,{className:u?q.a.playButton:q.a.playCoverButton,circleClassName:q.a.playCircle,tabIndex:"-1",title:l,"data-qa-id":"metadataPosterPlayButton",onPress:y}):null,!h&&g?s.a.createElement(H.a,{className:u?q.a.recordButton:q.a.recordCoverButton,"data-qa-id":"metadataPosterRecordButton",circleClassName:q.a.recordCircle,iconClassName:q.a.recordIcon,tabIndex:"-1",title:l,onPress:this.onRecordPress}):null,h&&g?s.a.createElement(H.a,{className:q.a.recordButtonBottom,"data-qa-id":"metadataPosterRecordButton",circleClassName:q.a.recordCircleBottom,iconClassName:q.a.recordIconBottom,tabIndex:"-1",title:l,onPress:this.onRecordPress}):null,s.a.createElement(_.a,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:n,isOpen:f,subscriptionType:o,onModalClose:this.onSubscribeModalClose}))}}var X=Z,J=a("rMHo");const $=Object(A.a)(J.a);var ee=Object(T.a)((function(){return Object(u.a)((e,{type:t})=>t,(e,{listType:t})=>t,Object(g.a)(),S.a,I.a,E.b,Object(x.a)(),Object(u.a)(Object(g.a)(),e=>e&&e.viewOffset&&e.type!==b.GAME?Object(f.a)(e.viewOffset,e.duration):0),Object(y.a)(),Object(v.a)(),(e,t,a,n={},i={},r={},s,o,l,c)=>{const{subtype:d,title:u,viewCount:m,viewOffset:h,unviewedLeafCount:g,smart:y,icon:f,metadataState:v,mediaState:I,deletedAt:S,subscriptionID:E,subscriptionType:C,grandparentSubscriptionID:j,grandparentSubscriptionType:T,ratingKey:N,isFolder:x,isPlaylist:A,Media:z}=a,U=Object(L.i)({server:n,provider:i,stableUser:r,metadataItem:a}),V=!!i.features.subscribe,B=Object(L.d)({server:n,provider:i,stableUser:r,metadataItem:a}),F=t===b.PHOTO&&Object(L.e)({server:n,provider:i,stableUser:r,metadataItem:a}),H=t===b.PHOTO&&Object(L.n)({server:n,provider:i,stableUser:r,metadataItem:a}),_=Object(L.l)({server:n,provider:i,stableUser:r,metadataItem:a}),W=b.getMetadataType(e),Q=b.getLeafType(e),G=!(!W||!Q||W.id!==Q.id),K=z.length,Y=null!=E||null!=j,q=!!y&&A,Z=f===O.a,X=v===M.b,J=v===M.c||v===M.a,$=!X&&!J&&!!I,ee=X||J||$,te=!ee&&!!S,ae=!(!N||!l)&&p.a.allowSyncDownload;return{server:n,provider:i,route:s,title:u,viewCount:m,viewOffset:h,viewPercent:o,unviewedLeafCount:g,mediaCount:K,subscriptionType:C||T,type:e,subtype:d,isSubscribed:Y,isMultiVersion:Object(w.a)(a),isSmart:q,isFavorite:Z,isMatching:X,isProcessing:J,isAnalyzing:$,isRefreshing:ee,isTrash:te,isLeafType:G,showLink:!!s,showUnplayedBadge:D(a,W),showUnplayedNumberBadge:P(a,Q),showPlay:U,showRecord:V,showEdit:B,showFavorite:F,showUnfavorite:H,showSelect:_,showMore:!x,showAvailableOffline:ae,beginsAt:c&&c.beginsAt,endsAt:c&&c.endsAt,source:l,ratingKey:N,hasOfflineFile:Object(k.a)(a),hasOwnSubscription:Object(R.a)(a)}})}),(function(e,t){const a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID||t.serverEntityID,itemProviderEntityID:t.itemProviderEntityID||t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(Object(h.x)({...a,options:{containerKey:t.containerKey,listType:t.listType}}))},onPlayLiveTVPress(){e(Object(m.l)({...a,options:{containerKey:t.containerKey,listType:t.listType}}))},onEditPress(){e(Object(N.editMetadataItem)(a))},onFavoritePress(){e(Object(N.favoriteMetadataItem)(a))},onUnfavoritePress(){e(Object(N.unfavoriteMetadataItem)(a))}}}),z.a)((function(e){const{server:t,provider:a,...n}=e,i={...n,itemServerEntityID:e.itemServerEntityID||e.serverEntityID,itemProviderEntityID:e.itemProviderEntityID||e.providerEntityID};return a.protocols.livetv?s.a.createElement(X,{...i}):e.showSelect&&!e.showLinkOnly?s.a.createElement($,{...i}):s.a.createElement(J.a,{...i})})),te=a("CWZi"),ae=a.n(te);function ne(e){const{className:t,serverEntityID:a,providerEntityID:n,metadataItemEntityID:r,itemServerEntityID:o,itemProviderEntityID:l,type:c,subtype:u,selectionType:p,activeSelectionType:m,isSelected:h,isOffscreen:g,visibleFace:y,imageWidth:f,imageHeight:b,imageUrl:v,disableCrossFade:I,icon:S,backgroundSize:E,isFolder:O,showOverlay:M,onImageLoad:C,onImageError:j,onSelectItem:D,onDeselectItem:P,...T}=e;return s.a.createElement("div",{className:i()(t,ae.a[y],h&&ae.a.isSelected)},s.a.createElement(d.a,{serverEntityID:a,providerEntityID:n,itemServerEntityID:o,itemProviderEntityID:l,type:c,subtype:u,isOffscreen:g,url:v,width:f,height:b,disableCrossFade:I,icon:S,backgroundSize:E,isFolder:O,onLoad:C,onError:j}),M?s.a.createElement(ee,{serverEntityID:a,providerEntityID:n,itemServerEntityID:o,itemProviderEntityID:l,metadataItemEntityID:r,type:c,selectionID:r,selectionType:p,activeSelectionType:m,isSelected:h,onSelectItem:D,onDeselectItem:P,...T}):null)}ne.defaultProps={className:ae.a.face,showOverlay:!0};var ie=ne,re=a("aJpN"),se=a.n(re);const oe=Object(o.a)(c.a.posterFlipSpeed);class le extends r.Component{constructor(e,t){super(e,t),this.onImageLoad=()=>{this.state.isLoadingFace&&this._flipCard()},this.onImageError=()=>{this.state.isLoadingFace&&this._flipCard()},this.onFlipComplete=()=>{this.setState({isFlippingFace:!1,previousImageUrl:null})},this.state={visibleFace:"faceFront",isLoadingFace:!1,isFlippingFace:!1,previousImageUrl:null}}componentWillReceiveProps(e){const t=this.props.imageUrl,a=e.imageUrl&&t!==e.imageUrl;this.props.metadataKey===e.metadataKey&&a&&this._prepareFlip(t)}shouldComponentUpdate(e,t){return Object(l.a)(this,e,t)}componentWillUnmount(){this._cancelFlip()}_prepareFlip(e){this._cancelFlip(),this.setState({isLoadingFace:!0,isFlippingFace:!0,previousImageUrl:e})}_flipCard(){this.setState(e=>({isLoadingFace:!1,visibleFace:"faceFront"===e.visibleFace?"faceBack":"faceFront"}),()=>{this._flipTimeoutID=window.setTimeout(this.onFlipComplete,oe)})}_cancelFlip(){this._flipTimeoutID&&(this._flipTimeoutID=window.clearTimeout(this._flipTimeoutID))}render(){const{className:e,cardClassName:t,cardFaceClassName:a,metadataKey:n,imageWidth:r,imageHeight:o,imageUrl:l,...c}=this.props,{visibleFace:d,isLoadingFace:u,isFlippingFace:p,previousImageUrl:m}=this.state,h={width:r,height:o};return s.a.createElement("div",{key:n,className:e,"data-qa-id":"metadataPosterCard--"+n},s.a.createElement("div",{className:i()(t,"faceBack"===d&&se.a.isFlipped),style:h},"faceFront"===d||p?s.a.createElement(ie,{key:"faceFront",className:a,visibleFace:"faceFront",imageWidth:r,imageHeight:o,imageUrl:"faceFront"===d&&!u||"faceBack"===d&&u?l:m,disableCrossFade:p,onImageLoad:this.onImageLoad,onImageError:this.onImageError,...c}):null,"faceBack"===d||p?s.a.createElement(ie,{key:"faceBack",className:a,visibleFace:"faceBack",imageWidth:r,imageHeight:o,imageUrl:"faceBack"===d&&!u||"faceFront"===d&&u?l:m,disableCrossFade:p,onImageLoad:this.onImageLoad,onImageError:this.onImageError,...c}):null))}}le.defaultProps={className:se.a.cardContainer,cardClassName:se.a.card};t.a=le},xHnD:function(e,t,a){e.exports={header:"SkipSignInMessage-header-Y0dMXv",list:"SkipSignInMessage-list-5YPdVE",item:"SkipSignInMessage-item-2vzluZ"}},xHo2:function(e,t,a){"use strict";var n,i;(i=n||(n={})).Unidentified="Unidentified",i.Alt="Alt",i.AltGraph="AltGraph",i.CapsLock="CapsLock",i.Control="Control",i.Fn="Fn",i.FnLock="FnLock",i.Hyper="Hyper",i.Meta="Meta",i.NumLock="NumLock",i.ScrollLock="ScrollLock",i.Shift="Shift",i.Super="Super",i.Symbol="Symbol",i.SymbolLock="SymbolLock",i.Enter="Enter",i.Tab="Tab",i.ArrowDown="ArrowDown",i.ArrowLeft="ArrowLeft",i.ArrowRight="ArrowRight",i.ArrowUp="ArrowUp",i.End="End",i.Home="Home",i.PageDown="PageDown",i.PageUp="PageUp",i.Backspace="Backspace",i.Clear="Clear",i.Copy="Copy",i.CrSel="CrSel",i.Cut="Cut",i.Delete="Delete",i.EraseEof="EraseEof",i.ExSel="ExSel",i.Insert="Insert",i.Paste="Paste",i.Redo="Redo",i.Undo="Undo",i.Accept="Accept",i.Again="Again",i.Attn="Attn",i.Cancel="Cancel",i.ContextMenu="ContextMenu",i.Escape="Escape",i.Execute="Execute",i.Find="Find",i.Finish="Finish",i.Help="Help",i.Pause="Pause",i.Play="Play",i.Props="Props",i.Select="Select",i.ZoomIn="ZoomIn",i.ZoomOut="ZoomOut",i.BrightnessDown="BrightnessDown",i.BrightnessUp="BrightnessUp",i.Eject="Eject",i.LogOff="LogOff",i.Power="Power",i.PowerOff="PowerOff",i.PrintScreen="PrintScreen",i.Hibernate="Hibernate",i.Standby="Standby",i.WakeUp="WakeUp",i.AllCandidates="AllCandidates",i.Alphanumeric="Alphanumeric",i.CodeInput="CodeInput",i.Compose="Compose",i.Convert="Convert",i.Dead="Dead",i.FinalMode="FinalMode",i.GroupFirst="GroupFirst",i.GroupLast="GroupLast",i.GroupNext="GroupNext",i.GroupPrevious="GroupPrevious",i.ModeChange="ModeChange",i.NextCandidate="NextCandidate",i.NonConvert="NonConvert",i.PreviousCandidate="PreviousCandidate",i.Process="Process",i.SingleCandidate="SingleCandidate",i.HangulMode="HangulMode",i.HanjaMode="HanjaMode",i.JunjaMode="JunjaMode",i.Eisu="Eisu",i.Hankaku="Hankaku",i.Hiragana="Hiragana",i.HiraganaKatakana="HiraganaKatakana",i.KanaMode="KanaMode",i.KanjiMode="KanjiMode",i.Katakana="Katakana",i.Romaji="Romaji",i.Zenkaku="Zenkaku",i.ZenkakuHanaku="ZenkakuHanaku",i.F1="F1",i.F2="F2",i.F3="F3",i.F4="F4",i.F5="F5",i.F6="F6",i.F7="F7",i.F8="F8",i.F9="F9",i.F10="F10",i.F11="F11",i.F12="F12",i.F13="F13",i.F14="F14",i.F15="F15",i.F16="F16",i.F17="F17",i.F18="F18",i.F19="F19",i.F20="F20",i.Soft1="Soft1",i.Soft2="Soft2",i.Soft3="Soft3",i.Soft4="Soft4",i.AppSwitch="AppSwitch",i.Call="Call",i.Camera="Camera",i.CameraFocus="CameraFocus",i.EndCall="EndCall",i.GoBack="GoBack",i.GoHome="GoHome",i.HeadsetHook="HeadsetHook",i.LastNumberRedial="LastNumberRedial",i.Notification="Notification",i.MannerMode="MannerMode",i.VoiceDial="VoiceDial",i.ChannelDown="ChannelDown",i.ChannelUp="ChannelUp",i.MediaFastForward="MediaFastForward",i.MediaPause="MediaPause",i.MediaPlay="MediaPlay",i.MediaPlayPause="MediaPlayPause",i.MediaRecord="MediaRecord",i.MediaRewind="MediaRewind",i.MediaStop="MediaStop",i.MediaTrackNext="MediaTrackNext",i.MediaTrackPrevious="MediaTrackPrevious",i.AudioBalanceLeft="AudioBalanceLeft",i.AudioBalanceRight="AudioBalanceRight",i.AudioBassDown="AudioBassDown",i.AudioBassBoostDown="AudioBassBoostDown",i.AudioBassBoostToggle="AudioBassBoostToggle",i.AudioBassBoostUp="AudioBassBoostUp",i.AudioBassUp="AudioBassUp",i.AudioFaderFront="AudioFaderFront",i.AudioFaderRear="AudioFaderRear",i.AudioSurroundModeNext="AudioSurroundModeNext",i.AudioTrebleDown="AudioTrebleDown",i.AudioTrebleUp="AudioTrebleUp",i.AudioVolumeDown="AudioVolumeDown",i.AudioVolumeMute="AudioVolumeMute",i.AudioVolumeUp="AudioVolumeUp",i.MicrophoneToggle="MicrophoneToggle",i.MicrophoneVolumeDown="MicrophoneVolumeDown",i.MicrophoneVolumeMute="MicrophoneVolumeMute",i.MicrophoneVolumeUp="MicrophoneVolumeUp",i.TV="TV",i.TV3DMode="TV3DMode",i.TVAntennaCable="TVAntennaCable",i.TVAudioDescription="TVAudioDescription",i.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",i.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",i.TVContentsMenu="TVContentsMenu",i.TVDataService="TVDataService",i.TVInput="TVInput",i.TVInputComponent1="TVInputComponent1",i.TVInputComponent2="TVInputComponent2",i.TVInputComposite1="TVInputComposite1",i.TVInputComposite2="TVInputComposite2",i.TVInputHDMI1="TVInputHDMI1",i.TVInputHDMI2="TVInputHDMI2",i.TVInputHDMI3="TVInputHDMI3",i.TVInputHDMI4="TVInputHDMI4",i.TVInputVGA1="TVInputVGA1",i.TVMediaContext="TVMediaContext",i.TVNetwork="TVNetwork",i.TVNumberEntry="TVNumberEntry",i.TVPower="TVPower",i.TVRadioService="TVRadioService",i.TVSatellite="TVSatellite",i.TVSatelliteBS="TVSatelliteBS",i.TVSatelliteCS="TVSatelliteCS",i.TVSatelliteToggle="TVSatelliteToggle",i.TVTerrestrialAnalog="TVTerrestrialAnalog",i.TVTerrestrialDigital="TVTerrestrialDigital",i.TVTimer="TVTimer",i.AVRInput="AVRInput",i.AVRPower="AVRPower",i.ColorF0Red="ColorF0Red",i.ColorF1Green="ColorF1Green",i.ColorF2Yellow="ColorF2Yellow",i.ColorF3Blue="ColorF3Blue",i.ColorF4Grey="ColorF4Grey",i.ColorF5Brown="ColorF5Brown",i.ClosedCaptionToggle="ClosedCaptionToggle",i.Dimmer="Dimmer",i.DisplaySwap="DisplaySwap",i.DVR="DVR",i.Exit="Exit",i.FavoriteClear0="FavoriteClear0",i.FavoriteClear1="FavoriteClear1",i.FavoriteClear2="FavoriteClear2",i.FavoriteClear3="FavoriteClear3",i.FavoriteRecall0="FavoriteRecall0",i.FavoriteRecall1="FavoriteRecall1",i.FavoriteRecall2="FavoriteRecall2",i.FavoriteRecall3="FavoriteRecall3",i.FavoriteStore0="FavoriteStore0",i.FavoriteStore1="FavoriteStore1",i.FavoriteStore2="FavoriteStore2",i.FavoriteStore3="FavoriteStore3",i.Guide="Guide",i.GuideNextDay="GuideNextDay",i.GuidePreviousDay="GuidePreviousDay",i.Info="Info",i.InstantReplay="InstantReplay",i.Link="Link",i.ListProgram="ListProgram",i.LiveContent="LiveContent",i.Lock="Lock",i.MediaApps="MediaApps",i.MediaAudioTrack="MediaAudioTrack",i.MediaLast="MediaLast",i.MediaSkipBackward="MediaSkipBackward",i.MediaSkipForward="MediaSkipForward",i.MediaStepBackward="MediaStepBackward",i.MediaStepForward="MediaStepForward",i.MediaTopMenu="MediaTopMenu",i.NavigateIn="NavigateIn",i.NavigateNext="NavigateNext",i.NavigateOut="NavigateOut",i.NavigatePrevious="NavigatePrevious",i.NextFavoriteChannel="NextFavoriteChannel",i.NextUserProfile="NextUserProfile",i.OnDemand="OnDemand",i.Pairing="Pairing",i.PinPDown="PinPDown",i.PinPMove="PinPMove",i.PinPToggle="PinPToggle",i.PinPUp="PinPUp",i.PlaySpeedDown="PlaySpeedDown",i.PlaySpeedReset="PlaySpeedReset",i.PlaySpeedUp="PlaySpeedUp",i.RandomToggle="RandomToggle",i.RcLowBattery="RcLowBattery",i.RecordSpeedNext="RecordSpeedNext",i.RfBypass="RfBypass",i.ScanChannelsToggle="ScanChannelsToggle",i.ScreenModeNext="ScreenModeNext",i.Settings="Settings",i.SplitScreenToggle="SplitScreenToggle",i.STBInput="STBInput",i.STBPower="STBPower",i.Subtitle="Subtitle",i.Teletext="Teletext",i.VideoModeNext="VideoModeNext",i.Wink="Wink",i.ZoomToggle="ZoomToggle",i.SpeechCorrectionList="SpeechCorrectionList",i.SpeechInputToggle="SpeechInputToggle",i.Close="Close",i.New="New",i.Open="Open",i.Print="Print",i.Save="Save",i.SpellCheck="SpellCheck",i.MailForward="MailForward",i.MailReply="MailReply",i.MailSend="MailSend",i.LaunchCalculator="LaunchCalculator",i.LaunchCalendar="LaunchCalendar",i.LaunchContacts="LaunchContacts",i.LaunchMail="LaunchMail",i.LaunchMediaPlayer="LaunchMediaPlayer",i.LaunchMusicPlayer="LaunchMusicPlayer",i.LaunchMyComputer="LaunchMyComputer",i.LaunchPhone="LaunchPhone",i.LaunchScreenSaver="LaunchScreenSaver",i.LaunchSpreadsheet="LaunchSpreadsheet",i.LaunchWebBrowser="LaunchWebBrowser",i.LaunchWebCam="LaunchWebCam",i.LaunchWordProcessor="LaunchWordProcessor",i.LaunchApplication1="LaunchApplication1",i.LaunchApplication2="LaunchApplication2",i.LaunchApplication3="LaunchApplication3",i.LaunchApplication4="LaunchApplication4",i.LaunchApplication5="LaunchApplication5",i.LaunchApplication6="LaunchApplication6",i.LaunchApplication7="LaunchApplication7",i.LaunchApplication8="LaunchApplication8",i.LaunchApplication9="LaunchApplication9",i.LaunchApplication10="LaunchApplication10",i.LaunchApplication11="LaunchApplication11",i.LaunchApplication12="LaunchApplication12",i.LaunchApplication13="LaunchApplication13",i.LaunchApplication14="LaunchApplication14",i.LaunchApplication15="LaunchApplication15",i.LaunchApplication16="LaunchApplication16",i.BrowserBack="BrowserBack",i.BrowserFavorites="BrowserFavorites",i.BrowserForward="BrowserForward",i.BrowserHome="BrowserHome",i.BrowserRefresh="BrowserRefresh",i.BrowserSearch="BrowserSearch",i.BrowserStop="BrowserStop",i.Decimal="Decimal",i.Key11="Key11",i.Key12="Key12",i.Multiply="Multiply",i.Add="Add",i.Divide="Divide",i.Subtract="Subtract",i.Separator="Separator",t.a=n},xI1S:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return r}));const n="audio",i="video",r="photo"},xJXR:function(e,t,a){e.exports={container:"SortableHomeHubs-container-2NqZ-l Measure-container-3yONEe",scroller:"SortableHomeHubs-scroller-_fZlTr Scroller-scroller-3GqQcZ"}},xLRV:function(e,t,a){"use strict";t.a=function(e){var t;return null==(t=e.Type)?void 0:t.find(e=>e.active)}},xMA9:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("hxAH"),i=a("LSig"),r=a("fwi0");var s=function(e,t,a){const{key:s,types:o={}}=e,l=Array.isArray(t.protocols)?t.protocols.includes(r.a):t.protocols[r.a],c=s===n.a;if(l)return c;if(c)return!1;const d=a.agent===i.d;if(s===n.l&&!d||s===n.c&&d)return!1;const{type:u,subtype:p}=o;return a.type===u&&(null==p&&null==a.subtype||null!=p&&a.subtype===p)};function o(e,t){if(!e||!t||"hubs"===t.id||"categories"===t.id&&"news"===t.subtype||"channels"===t.id&&"news"===t.subtype)return;const a=Object(n.n)();for(let n=0,i=a.length;n<i;n++){const i=a[n];if(s(i,e,t))return i}return a.find(e=>e.key===n.k)}},xMKj:function(e,t,a){"use strict";var n=a("G4qV"),i=a("dZ7a");t.a=function(){return Object(n.a)(Object(i.a)(),e=>{if(!e)return;return e.desktop.activities})}},xNAM:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("xhK+"),l=a.n(o);function c(e){var t=e["aria-label"],a=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-clips-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.a.plexIcon+(a?" "+a:"");var r=[s.a.createElement.apply(s.a,["path",{d:"m360 520l-360 0 0-400 360 0 0 160 200-120 0 320-200-120 0 160"}].concat([]))];return t&&r.unshift(s.a.createElement("title",null,t)),s.a.createElement.apply(s.a,["svg",i].concat(r))}c.propTypes={"aria-label":i.a.string,className:i.a.string,style:i.a.object},t.a=c},xORa:function(e,t,a){"use strict";const n={defaultColor:"#fff",quietColor:"#a8a8a8",inverseColor:"#222",primaryColor:"#cc7b19",primaryAlternateColor:"#e5a00d",selectedColor:"#e5a00d",successColor:"#6b5",dangerColor:"#f53",warningColor:"#f0ad4e",focusColor:"#7eb0d5",appBackgroundColor:"#444f56",darkOpaqueBackgroundColor:"#1f2326",blackDarkTranslucentBackgroundColor:"rgba(0, 0, 0, 0.15)",blackDarkerTranslucentBackgroundColor:"rgba(0, 0, 0, 0.3)",lightTranslucentBackgroundColor:"rgba(255, 255, 255, 0.15)",badgeBackgroundColor:"rgba(0, 0, 0, 0.15)",defaultBadgeColor:"rgba(255, 255, 255, 0.7)",defaultLinkColor:"rgba(255, 255, 255, 0.7)",defaultLinkHoverColor:"#fff",defaultLinkDisabledLinkColor:"rgba(255, 255, 255, 0.3)",selectedLinkColor:"#e5a00d",selectedLinkHoverColor:"color(#e5a00d lightness(+15%))",defaultBackgroundColor:"rgba(255, 255, 255, 0.25)",defaultHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",defaultActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",defaultDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",primaryButtonColor:"#1f2326",primaryBackgroundColor:"#e5a00d",primaryHoverBackgroundColor:"color(#e5a00d lightness(+10%))",primaryActiveBackgroundColor:"color(#e5a00d blackness(+20%))",primaryDisabledColor:"rgba(0, 0, 0, 0.4)",primaryDisabledBackgroundColor:"color(#e5a00d blackness(+50%))",quietBackgroundColor:"rgba(255, 255, 255, 0.08)",quietHoverBackgroundColor:"rgba(255, 255, 255, 0.1)",quietActiveBackgroundColor:"rgba(255, 255, 255, 0.06)",successBackgroundColor:"#3d7832",successHoverBackgroundColor:"color(#3d7832 lightness(+5%))",successActiveBackgroundColor:"color(#3d7832 blackness(+10%))",successDisabledBackgroundColor:"color(#3d7832 blackness(+30%))",dangerBackgroundColor:"#b32",dangerHoverBackgroundColor:"color(#b32 lightness(+5%))",dangerActiveBackgroundColor:"color(#b32 blackness(+10%))",dangerDisabledBackgroundColor:"color(#b32 blackness(+30%))",darkBackgroundColor:"rgba(0, 0, 0, 0.3)",darkHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",darkActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",darkDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",headerColor:"rgba(255, 255, 255, 0.3)",dimColor:"rgba(255, 255, 255, 0.45)",secondaryContentColor:"rgba(255, 255, 255, 0.75)",shadowColor:"rgba(0, 0, 0, 0.35)",dividerColor:"rgba(0, 0, 0, 0.3)",scrollbarBackgroundColor:"rgba(255, 255, 255, 0.2)",scrollbarHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",scrollbarInactiveBackgroundColor:"rgba(255, 255, 255, 0.05)",errorBackgroundColor:"rgba(255, 85, 51, 0.3)",inputBackgroundColor:"rgba(255, 255, 255, 0.25)",inputFocusBackgroundColor:"#eee",inputColor:"#eee",inputFocusColor:"#555",inputPlaceholderColor:"#afb0b1",inputDisabledOpacity:"0.5",formSectionBackgroundColor:"rgba(0, 0, 0, 0.3)",formSectionHoverBackgroundColor:"rgba(0, 0, 0, 0.15)",modalBackdropBackgroundColor:"rgba(102, 102, 102, 0.6)",modalBackgroundColor:"#2d2d2d",modalBodyBackgroundColor:"rgba(0, 0, 0, 0.15)",menuBackgroundColor:"#191a1c",menuDisabledBackgroundColor:"#2d2d2d",menuItemHoverBackgroundColor:"rgba(255, 255, 255, 0.08)",menuItemActiveBackgroundColor:"rgba(255, 255, 255, 0.15)",menuSeparatorBackgroundColor:"rgba(200, 200, 200, 0.15)",tooltipBackgroundColor:"#191a1c",pageHeaderBackgroundColor:"rgba(0, 0, 0, 0.7)",pageHeaderLinkColor:"#999",pageHeaderLinkHoverColor:"#eee",pageHeaderColor:"rgba(255, 255, 255, 0.75)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.25)",searchFocusBackgroundColor:"#eee",searchInputColor:"#eee",searchInputFocusColor:"#555",searchImagePlaceholderBackgroundColor:"rgba(255, 255, 255, 0.1)",searchHoverResultBackgroundColor:"rgba(255, 255, 255, 0.05)",searchSelectedResultBackgroundColor:"rgba(255, 255, 255, 0.08)",searchResultTitleColor:"rgba(255, 255, 255, 0.75)",searchResultTitleSelectedColor:"rgba(255, 255, 255, 1)",searchResultSecondaryTitleColor:"rgba(255, 255, 255, 0.3)",sidebarBackgroundColor:"rgba(0, 0, 0, 0.15)",sidebarMenuButtonBackgroundColor:"rgba(0, 0, 0, 0.3)",sidebarMenuButtonHoverBackgroundColor:"rgba(0, 0, 0, 0.45)",sidebarMenuButtonActiveBackgroundColor:"rgba(0, 0, 0, 0.75)",stripeListAlternateBackgroundColor:"rgba(255, 255, 255, 0.02)",stripeListHoverBackgroundColor:"rgba(255, 255, 255, 0.06)",stripeListSelectedBackgroundColor:"rgba(0, 0, 0, 0.15)"};t.a=n},xPjC:function(e,t,a){"use strict";a.r(t),a.d(t,"REDISPATCH_LEGACY_METADATA_ACTION",(function(){return rt})),a.d(t,"ANALYZE_METADATA_ITEM",(function(){return st})),a.d(t,"DELETE_METADATA_ITEM",(function(){return ot})),a.d(t,"DELETE_METADATA_ITEM_VERSION",(function(){return lt})),a.d(t,"DOWNLOAD_METADATA_ITEM_VERSION",(function(){return ct})),a.d(t,"EDIT_METADATA_ITEM",(function(){return dt})),a.d(t,"FIX_METADATA_ITEM_MATCH",(function(){return ut})),a.d(t,"GET_METADATA_ITEM_INFO",(function(){return pt})),a.d(t,"UPDATE_METADATA_ITEM_PLAYED_STATUS",(function(){return mt})),a.d(t,"OPTIMIZE_METADATA_ITEM",(function(){return ht})),a.d(t,"RATE_METADATA_ITEM",(function(){return gt})),a.d(t,"REFRESH_METADATA_ITEM",(function(){return yt})),a.d(t,"SPLIT_METADATA_ITEM_APART",(function(){return ft})),a.d(t,"SYNC_METADATA_ITEM",(function(){return bt})),a.d(t,"UNMATCH_METADATA_ITEM",(function(){return vt})),a.d(t,"CHANGE_METADATA_ITEM_FIELD",(function(){return It})),a.d(t,"UPDATE_METADATA_ITEM_REFRESHING_STATE",(function(){return St})),a.d(t,"UPDATE_METADATA_SETTINGS",(function(){return Et})),a.d(t,"CLEAR_METADATA_SETTINGS_ERROR",(function(){return Ot})),a.d(t,"UPDATE_DOWNLOAD_AVAILABILITY",(function(){return Mt})),a.d(t,"UPDATE_DOWNLOAD_AVAILABILITY_FROM_DELETED_TIMELINE",(function(){return Ct})),a.d(t,"SET_DOWNLOAD_SUBSCRIPTION_ID",(function(){return jt})),a.d(t,"UNSET_DOWNLOAD_SUBSCRIPTION_ID",(function(){return Dt})),a.d(t,"UPDATE_DOWNLOAD_SUBSCRIPTION_IDS",(function(){return Pt})),a.d(t,"MODIFY_SMART_PLAYLIST",(function(){return Tt})),a.d(t,"redispatchLegacyMetadataAction",(function(){return wt})),a.d(t,"analyzeMetadataItem",(function(){return Nt})),a.d(t,"deleteMetadataItem",(function(){return xt})),a.d(t,"deleteMetadataItemVersion",(function(){return At})),a.d(t,"downloadMetadataItemVersion",(function(){return Lt})),a.d(t,"editMetadataItem",(function(){return kt})),a.d(t,"fixMetadataItemMatch",(function(){return Rt})),a.d(t,"getMetadataItemInfo",(function(){return zt})),a.d(t,"updateMetadataItemPlayedStatus",(function(){return Ut})),a.d(t,"optimizeMetadataItem",(function(){return Vt})),a.d(t,"rateMetadataItem",(function(){return Bt})),a.d(t,"refreshMetadataItem",(function(){return Ft})),a.d(t,"splitMetadataItemApart",(function(){return Ht})),a.d(t,"syncMetadataItem",(function(){return _t})),a.d(t,"unmatchMetadataItem",(function(){return Wt})),a.d(t,"changeMetadataItemField",(function(){return Qt})),a.d(t,"updateMetadataItemRefreshingState",(function(){return Gt})),a.d(t,"updateMetadataSettings",(function(){return Kt})),a.d(t,"clearMetadataSettingsError",(function(){return Yt})),a.d(t,"favoriteMetadataItem",(function(){return qt})),a.d(t,"unfavoriteMetadataItem",(function(){return Zt})),a.d(t,"markMetadataItemUnplayed",(function(){return Xt})),a.d(t,"markMetadataItemPlayed",(function(){return Jt})),a.d(t,"setDownloadSubscriptionID",(function(){return $t})),a.d(t,"unsetDownloadSubscriptionID",(function(){return ea})),a.d(t,"updateDownloadAvailability",(function(){return ta})),a.d(t,"updateDownloadAvailabilityFromDeletedTimeline",(function(){return aa})),a.d(t,"updateDownloadSubscriptionIDs",(function(){return na})),a.d(t,"modifySmartPlaylist",(function(){return ia})),a.d(t,"metadataActionHandlers",(function(){return sa}));var n=a("EVdn"),i=a.n(n),r=a("ICb1"),s=a("rG0a"),o=a("+X4A"),l=a("cgRT"),c=a("vtVQ"),d=a("aCX2"),u=a("yO9Y"),p=a("5YKo"),m=a("TkmH"),h=a("X2jn"),g=a("b3RP");var y=function(e,t,a){const n=t.get("key"),r=o.default.join([n,"prefs"],a),s=e.getXHROptions(r,{type:"PUT"});t.set({isSettingsUpdating:!0,settingsUpdateError:null});const l=i.a.ajax(s);return l.then(()=>{t.set("isSettingsUpdating",!1)},e=>{t.set({isSettingsUpdating:!1,settingsUpdateError:Object(g.a)(e)})}),l},f=a("XrKU"),b=a("/oUX"),v=a("INWF"),I=a("YINS"),S=a("tqLa");const E=(e,t,a)=>{for(const n of t){const t=n.fields.find(({key:t})=>{const i=e.key===t||`${a}.${e.key}`===t;return a===n.type&&e.key===`${a}.${t}`||i});if(t)return{...e,key:t.key}}};var O=({filters:e,types:t,type:a})=>{const n=[],i=[];for(const r of e)if("userRating"===r.key&&Array.isArray(r.value))i.push(r);else{const e=E(r,t,a);e?n.push(e):i.push(r)}return{supported:n,unsupported:i}},M=a("VKXn"),C=a("C2o0"),j=a("TIWu"),D=a("duQd"),P=a("6dAO"),T=a("66GW"),w=a("rXDx"),N=a("Xw7/"),x=a("UFJ+"),A=a("gxTH"),L=a("w41d"),k=a("F/us"),R=a.n(k),z=a("fwkD"),U=a("idkr"),V=a.n(U),B=z.a.extend({name:"downloadVersionModal",template:V.a,serializeData:function(){var e=this.model;return{defaultLinkTarget:"_self",mediaItems:R.a.map(this.model.get("Media"),(function(t,a){var n=R.a.clone(t);n.downloadUrl=e.getDownloadUrl(a);var i=e.getFilepath(a);return i&&(n.downloadName=o.default.getLastSegment(i)),n}))}},onClick:function(){}}),F=a("OpXE"),H=a("nhAy"),_=a("ZKO5"),W=a("yauL"),Q=a("BDy8"),G=a.n(Q);var K=W.a.extend({template:G.a,serializeData(){return this.model.get("preferences").toJSON()},flushChanges(){const e=this.ui.form.serializeArray(),t=this.model.get("preferences");e.forEach(e=>{const a=t.get(e.name),n=a.clone();n.parseAndSetValue(e.value),n.get("value")!==a.get("value")&&t.add(n,{merge:!0})})}}),Y=a("bsps"),q=a("d0sW"),Z=a.n(q),X={playlist:["general","advanced"]},J=Y.a.extend({mixins:[H.a],name:"editPlaylistModal",className:"edit-metadata-modal modal modal-lg fade",template:Z.a,panes:{general:{constructor:_.a},advanced:{constructor:K}},panesModel:"tempModel",events:R.a.extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},Y.a.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){Y.a.prototype.initialize.apply(this,arguments);var t=e.model;this.model=t;var a=t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}});(a=a.done(R.a.bind((function(){this.tempModel=t.clone(),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(s.a,"shortcut:save",this.saveChanges)}),this))).fail(R.a.bind((function(){this.ui.message.text(Object(T.default)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden")}),this))},serializeData:function(){var e=X[this.model.get("type")]||X.movie;this.model.has("preferences")||(e=R.a.difference(e,["advanced"]));var t=R.a.reduce(e,(function(e,t){return e[t]=!0,e}),{}),a=R.a.escape(Object(T.default)("Edit {1}",this.model.get("title")));return{item:this.model.toJSON(),panes:t,selectedPane:this.selectedPane,paneTitle:a}},paneConstructorArg:function(){return{type:this.selectedPane}},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var a=R.a.reduce(this.model.changedAttributes(this.tempModel.attributes),(e,t,a)=>(this.model.syncedAttrs[a]&&(e[a]=t),e),{});e.addClass("active");var n=[];R.a.isEmpty(a)||n.push(this.model.save(a)),n.push(this.savePreferences());var r=i.a.when.apply(i.a,n);r.done(R.a.bind((function(){this.hide()}),this)),r.fail((function(){t.text(Object(T.default)("Your changes could not be saved."))})),r.always((function(){e.removeClass("active")}))}},savePreferences:function(){var e=this.tempModel.get("preferences");if(!e||!e.length)return i.a.Deferred().resolve().promise();var t=this.model,a=o.default.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),n=this.model.server.getXHROptions(a,{type:"PUT"}),r=i.a.ajax(n);return r.done((function(){var a=t.get("preferences");e.forEach((function(e){a.get(e.id).set("value",e.get("value"))}))})),r},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}}),$=a("CpQb"),ee=a("Aeq+"),te=a.n(ee),ae=$.a.ItemView.extend({id:"auto-match-dropdown",tagName:"span",className:"dropdown",template:te.a,collectionEvents:{reset:"render"},events:{"click .auto-match-agent":"onClick"},serializeData:function(){return{agents:this.collection.toJSON()}},onClick:function(e){e.preventDefault();var t=i()(e.currentTarget).data("id"),a=this.model.agents.get(t);c.a.execute("autoMatch",{item:this.model,agent:a})}}),ne=a("LSig"),ie=a("2ifn"),re=a("41GN"),se=a("0rei"),oe=a("v9x7"),le=a("3ZRf"),ce=a.n(le),de=a("YRs7"),ue=a.n(de);const pe=new Set([ne.f,ne.g,ne.i]);function me(e){return R.a.map(e,(function(e){return'<option value="'+e.value+'"'+(e.selected?" selected":"")+">"+e.label+"</option>"})).join("\n")}function he(e,t){return e.map((function(e){return{label:e.get("name"),value:e.get("identifier"),selected:t===e.get("identifier")}}))}function ge(e,t){return e?e.get("languages").map((function(e){return{label:e.get("name"),value:e.id,selected:e.id===t}})):[]}var ye=$.a.ItemView.extend({template(e){const{item:t,scannerIdentifier:a}=e;return t.type===w.ALBUM&&a===ie.d?ce()(e):ue()(e)},ui:{agentSelect:"#match-search-agent",languageSelect:"#match-search-language"},events:{"change #match-search-agent":"onAgentSelectChange"},onlyAfterRender:["updateAgents","updateLanguages"],initialize:function(){var e=Object(re.a)(this.model).get("agent"),t=this.setupAgents(e);t.then(R.a.bind(this.updateAgents,this,e)),t.then(R.a.bind(this.updateLanguages,this,e))},serializeData:function(){var e=Object(re.a)(this.model),t=e.get("agent"),a=this.model.agentsProxy.findWhere({identifier:t});return{item:this.model.toJSON(),agents:he(this.model.agentsProxy,t),scannerIdentifier:e.get("scanner"),languages:ge(a)}},setupAgents:function(e){if(this.model.agentsPromise)return this.model.agentsPromise;var t=Object(re.a)(this.model),a=t.getSectionType(),n=new se.a([],{server:this.model.server,mediaTypeID:a.typeID}),i=n.populate({reset:!0,cancelable:!0});return i.then(()=>{var i=function(e,t){if(!e)return[];var a=pe.has(t);return e.filter(e=>{const t=pe.has(e.get("identifier"));return a?t:!t})}(n,t.get("agent"));this.model.agents=n.clone(i);var r=a.exclusiveAgents;this.model.agentsProxy=new oe.a(this.model.agents,r,e)}),this.model.agentsPromise=i,this.model.agentsPromise},updateAgents:function(e){this.ui.agentSelect.html(me(he(this.model.agentsProxy,e)))},updateLanguages:function(e){var t=this.model.agentsProxy.findWhere({identifier:e});if(e){var a=Object(re.a)(this.model).get("language");this.ui.languageSelect.html(me(ge(t,a)))}else this.ui.languageSelect.empty()},onAgentSelectChange:function(e){this.updateLanguages(e.currentTarget.value)},onModalClose:function(){this.model.agents=null,this.model.agentsProxy=null,this.model.agentsPromise=null}}),fe=a("p7ty"),be=a("cR0X"),ve=a("XBZo"),Ie=a.n(ve),Se=$.a.ItemView.extend({template:Ie.a}),Ee={collectionEvents:{"update reset sort":"onTracksUpdate"},markDiscNumbers:function(){if(this.collection.server.supports("premiumMusic")){var e=this.collection.reduce((function(e,t,a){var n=t.get("parentIndex");return n!==e.lastDiscNumber&&(e.markers[a]=n,e.lastDiscNumber=n,e.count+=1),e}),{markers:{},lastDiscNumber:null,count:0});return this.discMarkers=e.markers,e.count}},onRender:function(){1!==this.markDiscNumbers()&&R.a.each(this.discMarkers,R.a.bind((function(e,t){this.$("li:eq("+t+") .disc-number").removeClass("hidden")}),this))},onTracksUpdate:function(){this.render()}},Oe=a("21aO"),Me=a.n(Oe),Ce=$.a.ItemView.extend({tagName:"li",template:Me.a,className:"striped-list-item",serializeData(){const e=this.model.toJSON();return{...e,escapedParentIndex:R.a.escape(e.parentIndex)}}}),je=be.a.extend({mixins:[Ee],tagName:"ul",itemView:Ce,className:"list"});const De=/\d{4}/;var Pe=function({disambiguation:e="",lifespanBegin:t="",lifespanEnd:a="",area:n="",beginArea:i=""}){const r=t.match(De),s=a.match(De),o=[i,n,s?`${r}-${s}`:r].filter(Boolean);return e?[e,o.length?`(${o.join(", ")})`:null].filter(Boolean).join(" "):o.join(", ")},Te=a("L0ox"),we=a.n(Te),Ne=$.a.Layout.extend({tagName:"li",className:"striped-list-item match-result-list-item row",template:we.a,ui:{matchExtendedInfo:".match-extended-info"},regions:{childrenRegion:".children-region"},events:{"click .match-result":"onClick"},initialize:function(e){this.item=e.item},onRender:function(){!this.model.get("summary")||this.model.get("type")!==w.MOVIE&&this.model.get("type")!==w.GAME&&this.model.get("type")!==w.SHOW||this.ui.matchExtendedInfo.removeClass("hidden");var e=this.model.get("children");if(e){var t=e.first();t&&t.get("type")===w.TRACK&&(this.ui.matchExtendedInfo.removeClass("hidden"),this.childrenRegion.show(new je({collection:e})))}},onClick:function(e){e.preventDefault(),c.a.execute("match",{item:this.item,guid:this.model.id,name:this.model.get("name"),year:this.model.get("year"),children:this.model.get("children")})},serializeData(){const e=this.model.toJSON();return{year:e.year,parentName:e.parentName,name:e.name,disambiguationInfo:Pe(e),thumb:e.thumb,normalizedScore:e.normalizedScore,escapedNormalizedScore:R.a.escape(e.normalizedScore),summary:e.summary}}}),xe=be.a.extend({tagName:"ul",className:"list match-result-list",itemView:Ne,emptyView:Se}),Ae=a("oToW"),Le=a.n(Ae),ke=$.a.Layout.extend({template:Le.a,regions:{resultRegion:".result-region"},onlyAfterRender:["updateResults"],initialize:function(){this.setupResults();var e=Object(re.a)(this.model),t={manual:1},a={reset:!0,timeout:0,data:t};/com\.plexapp\.agents\.none:\/\//.test(this.model.get("guid"))&&R.a.extend(a,{data:R.a.extend(t,{agent:e.get("agent"),language:e.get("language")}),processData:!0}),this.model.results.populate(a).then(R.a.bind(this.updateResults,this))},setupResults:function(){if(!this.model.results){var e=this.model.results||new fe.default([],{server:this.model.server,parent:this.model});this.model.results=e}},updateResults:function(){this.resultRegion.show(new xe({collection:this.model.results,itemViewOptions:{item:this.model}}))},onModalClose:function(){this.model.results=null}}),Re=a("Kpr6"),ze=a.n(Re),Ue=Y.a.extend({mixins:[H.a],name:"fixIncorrectMatch",className:"fix-incorrect-match-modal modal modal-lg fade",template:ze.a,panes:{form:{constructor:ye},results:{constructor:ke}},ui:{searchBtn:".search-btn"},regions:{paneRegion:".pane-region",autoMatchDropdownRegion:".auto-match-dropdown-region"},events:R.a.extend({"click .auto-match-agent":"hide","click .match-result":"hide","click .search-options-btn":"onSearchOptionsClick","click .cancel-btn":"onCancelClick","click .search-btn":"onSearchClick","submit #fix-incorrect-match-form":"onSearchSubmit"},Y.a.prototype.events),onlyAfterRender:["showPane","updateSearchBtn","showAutoMatchPicker"],initialize:function(){Y.a.prototype.initialize.apply(this,arguments),ye.prototype.setupAgents.apply(this).then(()=>{this.showAutoMatchPicker()}),ke.prototype.setupResults.apply(this),this.showPane("results")},serializeData:function(){return{location:this.model.getLocation(),showNavigation:!this.model.isPlexMusicItem()}},updateSearchBtn:function(e){this.ui.searchBtn.toggleClass("disabled","form"!==e)},showAutoMatchPicker:function(){this.autoMatchDropdownRegion.show(new ae({model:this.model,collection:this.model.agentsProxy}))},fetchResults:function(e){var t=R.a.reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{manual:1});this.model.results.fetch({reset:!0,data:t,processData:!0,timeout:0})},bindings:{".modal-title-text":{modelAttribute:"guid",formatter:function(e){return/com\.plexapp\.agents\.none:\/\//.test(e)?Object(T.default)("Match"):Object(T.default)("Fix Match")}}},onRender:function(){Y.a.prototype.onRender.apply(this,arguments)},onPaneShow:function(e){this.updateSearchBtn(e)},onSearchOptionsClick:function(e){e.preventDefault(),this.showPane("form")},onCancelClick:function(e){e.preventDefault(),"results"!==this.selectedPane?this.showPane("results"):this.hide()},onSearchClick:function(e){e.preventDefault();var t=i()(e.currentTarget);if(!t.isDisabled()){var a=t.closest("form");this.fetchResults(a),this.showPane("results")}},onSearchSubmit:function(e){e.preventDefault();var t=i()(e.currentTarget);t.find("search-btn").isDisabled()||(this.fetchResults(t),this.showPane("results"))}}),Ve=a("S1hb"),Be=a("AXwp"),Fe=a("20Ss"),He=a("XL8h"),_e=a("VLKS");const We={h264:10,hevc:30};var Qe=function(e,t){if(null==e||Number.isNaN(e))return"";const a=parseInt(e,10),n=We[t||"h264"];return Number.isFinite(a)&&Number.isFinite(n)?(a/n).toFixed(1):String(e)},Ge=a("8a1k"),Ke=a("frcC");var Ye=function(e){let t="";for(let a=0,n=e.length;a<n;a++){const n=e.charAt(a),i=n.toUpperCase();t+=0===a?i:n===i?" "+i:n}return t},qe=a("814K"),Ze=a.n(qe),Xe=["id","key","index","videoCodec","audioCodec","audioChannels","default","selected","languageCode","accessible","exists","provider","lines","minLines","follow","requiredBandwidths","deepAnalysisVersion","deepAnalysisDate","Overlay"],Je={size:He.a,duration:Fe.a,codec:Ge.a,format:Ge.a,container:Ge.a,videoResolution:_e.default,bitrateMode:Ge.a,accessible:Ke.default,exists:Ke.default,optimizedForStreaming:Ke.default,timed:Ke.default,file:o.default.getLastSegment},$e={optimizedForStreaming:"Web Optimized",has64bitOffsets:"Has 64bit Offsets",cabac:"CABAC",postURL:"URL",codecID:"Codec ID"},et={frameRate:" fps",dialogNorm:" dB",bitrate:" kbps",samplingRate:" Hz"},tt=function(e,t){var a={properties:[]};for(var n in e)if(n!==t&&-1===R.a.indexOf(Xe,n)){var i=$e[n],r=e[n];"level"===n&&(r=Qe(r,e.codec)),Je[n]&&(r=Je[n](r)),r&&(et[n]&&(r+=et[n]),i||(i=Ye(n)),a.properties.push({name:i,value:r}))}return t&&e&&(a[t]=e[t]),a};function at(e){return R.a.map(e.get("Media"),(function(e){return R.a.extend(tt(e,"Part"),{Part:R.a.map(e.Part,(function(e){return R.a.extend(tt(e,"Stream"),{file:e.file,exists:!1!==e.exists,accessible:!1!==e.accessible,Stream:(t=e.Stream,a=R.a.reject(t,(function(e){return e.id===Be.a})),n=R.a.sortBy(a,"streamType"),R.a.map(n,(function(e){return tt(e,"streamType")})))});var t,a,n}))})}))}var nt=Y.a.extend({name:"mediaInfoModal",className:"media-info-modal modal modal-lg fade",template:Ze.a,ui:{scroller:".modal-body-scroll",files:".files > ul",stickyProps:".media > .props, .part > .props"},events:R.a.extend({"click .delete-btn":"onDeleteClick"},Y.a.prototype.events),modelEvents:{"change:Media":"onMediaChange"},initialize:function(e){Y.a.prototype.initialize.apply(this,arguments),this.bindAllWhenRendered("onMediaChange","onScroll"),this.loading=!1,this.media=at(this.model),this.loading=!0,this.model.fetch({usePopulatedParams:!0,data:{checkFiles:1,asyncCheckFiles:0}}).always(this.whenRendered((function(){this.model.changed.hasOwnProperty("Media")||this.updateMedia()})))},serializeData:function(){var e=this.model.get("key"),t=l.c("appModel").get("user"),a=this.model.server;return this.model.get("isLibraryItem")&&(e=o.default.join(e,{checkFiles:1,includeAllConcerts:1,includeBandwidths:1,includeChapters:1,includeChildren:1,includeConcerts:1,includeExtras:1,includeFields:1,includeGeolocation:1,includeLoudnessRamps:1,includeMarkers:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeRelated:1,includeRelatedCount:1,includeReviews:1,includeStations:1})),{key:e,url:this.model.server.resolveUrl(e,{appendToken:!0}),media:this.media,hasFiles:this.hasFiles(),hasStreams:this.hasStreams()||this.loading,showDeleteFile:a.get("isFullOwnedServer")&&a.get("allowMediaDeletion")&&a.supports("specificMediaDeletion"),showFilepath:!a.get("shared")||t.isNinja(),loading:this.loading}},updateMedia:function(){this.loading=!1,this.rerender=!0,this.ui.scroller.off("scroll",this.onScroll),this.media=at(this.model),this.render()},hasFiles:function(){return!!R.a.chain(this.media).pluck("Part").flatten().pluck("file").compact().size().value()},hasStreams:function(){return!!R.a.chain(this.media).pluck("Part").flatten().pluck("Stream").flatten().size().value()},onRender:function(){Y.a.prototype.onRender.apply(this,arguments),this.ui.scroller.on("scroll",this.onScroll),this.$el.tooltip({selector:".files .label",placement:"bottom"})},onClose:function(){this.ui.scroller.off("scroll",this.onScroll)},onMediaChange:function(){this.isHidden||(this.model.get("Media").length?this.updateMedia():this.hide())},onDeleteClick:function(e){e.preventDefault(),c.a.execute("deleteMediaItem",{item:this.model,index:i()(e.currentTarget).data("media-item")})},onScroll:function(){var e=this.ui.scroller.scrollTop(),t=this.ui.scroller.offset().top;this.ui.files.length&&(t+=parseInt(this.ui.files.css("margin-bottom"),10)),t<0?window.setTimeout(this.onScroll,500):this.ui.stickyProps.each((function(){var a=i()(this),n=a.parent().height()-a.height(),r=e-this.parentNode.offsetTop,s=Math.min(Math.max(r,0),n);s&&s===r?(a.addClass("sticky"),a.css("top",t)):(a.removeClass("sticky"),a.css("top",s))}))}}),it=a("XmHA");const rt="metadata/redispatchLegacyMetadataAction",st="metadata/analyzeMetadataItem",ot="metadata/deleteMetadataItem",lt="metadata/deleteMetadataItemVersion",ct="metadata/downloadMetadataItemVersion",dt="metadata/editMetadataItem",ut="metadata/fixMetadataItemMatch",pt="metadata/getMetadataItemInfo",mt="metadata/updateMetadataItemPlayedStatus",ht="metadata/optimizeMetadataItem",gt="metadata/rateMetadataItem",yt="metadata/refreshMetadataItem",ft="metadata/splitMetadataItemApart",bt="metadata/syncMetadataItem",vt="metadata/unmatchMetadataItem",It="metadata/changeMetadataItemField",St="metadata/updateMetadataItemRefreshingState",Et="metadata/UPDATE_METADATA_SETTINGS",Ot="CLEAR_METADATA_SETTINGS_ERROR",Mt="metadata/updateDownloadAvailability",Ct="metadata/updateDownloadAvailabilityFromDeletedTimeline",jt="metadata/setDownloadSubscriptionID",Dt="metadata/unsetDownloadSubscriptionID",Pt="metadata/updateDownloadSubscriptionIDs",Tt="metadata/modifySmartPlaylist",wt=Object(r.a)(rt),Nt=Object(r.a)(st),xt=Object(r.a)(ot),At=Object(r.a)(lt),Lt=Object(r.a)(ct),kt=Object(r.a)(dt),Rt=Object(r.a)(ut),zt=Object(r.a)(pt),Ut=Object(r.a)(mt),Vt=Object(r.a)(ht),Bt=Object(r.a)(gt),Ft=Object(r.a)(yt),Ht=Object(r.a)(ft),_t=Object(r.a)(bt),Wt=Object(r.a)(vt),Qt=Object(r.a)(It),Gt=Object(r.a)(St),Kt=Object(r.a)(Et),Yt=Object(r.a)(Ot),qt=Object(r.a)(gt,e=>({...e,rating:j.a})),Zt=Object(r.a)(gt,e=>({...e,rating:j.b})),Xt=Object(r.a)(mt,e=>({...e,played:!1})),Jt=Object(r.a)(mt,e=>({...e,played:!0})),$t=Object(r.a)(jt),ea=Object(r.a)(Dt),ta=Object(r.a)(Mt),aa=Object(r.a)(Ct),na=Object(r.a)(Pt),ia=Object(r.a)(Tt);function ra(e,t,a,n={}){a&&Object(l.c)("metrics").trackClick({page:a,action:e,type:t.get("type"),...n})}const sa={[b.e]:b.m[b.e],[b.j]:b.m[b.j],[b.d]:b.m[b.d],[b.c]:b.m[b.c],[b.h]:b.m[b.h],[b.g]:b.m[b.g],[b.i]:b.m[b.i],[b.a]:b.m[b.a],[b.b]:b.m[b.b],[b.f]:b.m[b.f],[rt](e,t,a){const{serverModel:n,providerModel:i,itemServerModel:r,itemProviderModel:s,metadataItemModel:o}=Object(x.a)(e,t),l=t.legacyAction.type,c=t.legacyAction.payload,d=(null==c?void 0:c.metricsProperties)||{};a({type:l,payload:{...c,serverEntityID:n.entityID(),providerEntityID:i.entityID(),itemServerEntityID:r?r.entityID():null,itemProviderEntityID:s?s.entityID():null,metadataItemEntityID:o.entityID(),metricsPage:t.metricsPage,metricsProperties:{...d,...t.metricsProperties},skipClickMetrics:!0}})},[st](e,t,a){const n=Object(L.d)(e,t),i=t.metricsPage,r={allowMetrics:!!i,metricsProperties:{page:i}};Object(p.a)(n,r).fail(e=>{a(Object(v.d)(Object(T.default)("There was a problem analyzing this item.")))})},[ct](e,t){const a=Object(L.d)(e,t),n=new B({model:a});s.a.trigger("show:modal",n)},[ot](e,t){const a=Object(L.d)(e,t),n=t.options||{},i=a.get("isPlaylist")?"deletePlaylist":"deleteItems";c.a.execute(i,{item:a,...n}),ra(I.p,a,t.metricsPage)},[lt](e,t){const a=Object(L.d)(e,t);c.a.execute("deleteVersions",{item:a}),ra(I.p,a,t.metricsPage)},[dt](e,t){const a=Object(L.d)(e,t),n=a.get("isPlaylist")?new J({model:a}):new F.a({model:a});s.a.trigger("show:modal",n),ra(I.w,a,t.metricsPage)},[ut](e,t){const a=Object(L.d)(e,t);a.server.get("sections").fetch().then(()=>{const e=new Ue({model:a});s.a.trigger("show:modal",e),ra(I.A,a,t.metricsPage)})},[pt](e,t){const a=Object(L.d)(e,t),n=new nt({model:a});s.a.trigger("show:modal",n),ra(I.D,a,t.metricsPage)},[mt](e,t,a){const n=Object(L.d)(e,t);Object(f.a)(e,t).then(()=>{a(Object(v.c)({serverEntityID:t.serverEntityID}))},()=>{const e=t.played?Object(T.default)("There was an unexpected error marking an item played."):Object(T.default)("There was an unexpected error marking an item unplayed.");a(Object(v.d)(e))});ra(t.played?I.G:I.F,n,t.metricsPage)},[ht](e,t){const a=Object(L.d)(e,t),n=new it.a({item:a});s.a.trigger("show:modal",n),ra(I.J,a,t.metricsPage)},[gt](e,t,a){const{rating:n,metricsPage:i}=t,r=Object(L.h)(e,t),s=Object(L.d)(e,t),o={rating:n,allowMetrics:!!i,metricsProperties:{page:i}};Object(m.a)(r,s,o).fail(e=>{a(Object(v.d)(Object(T.default)("There was a problem rating this item.")))})},[yt](e,t,a){const n=Object(L.d)(e,t),i=t.metricsPage,r={allowMetrics:!!i,metricsProperties:{page:i}};Object(h.a)(n,r).fail(e=>{503===e.status?s.a.trigger("show:modal",new Ve.a({model:n.server})):a(Object(v.d)(Object(T.default)("There was a problem refreshing this item.")))})},[ft](e,t,a){const n=Object(L.d)(e,t);c.a.execute("splitApart",{item:n,skipNavigate:!0}).done(()=>{a(Object(v.c)({serverEntityID:t.serverEntityID}))}),ra(I.kb,n,t.metricsPage)},[bt](e,t){const a=Object(L.d)(e,t);c.a.execute("showSyncModal",{item:a}),ra(I.mb,a,t.metricsPage)},[vt](e,t){const a=Object(L.d)(e,t);c.a.execute("unmatch",{item:a}),ra(I.nb,a,t.metricsPage)},[It](e,t,a){const{providerEntityID:n,metadataItemEntityID:r,name:s,value:l,save:c}=t,d=Object(L.d)(e,{metadataItemEntityID:r});if(!c)return void d.set({[s]:l});const u=Object(L.h)(e,{providerEntityID:n}),p=o.default.join(d.get("key"),{[s]:l,[s+".locked"]:1}),m=u.getXHROptions(p,{type:"PUT"});i.a.ajax(m).fail(e=>{a(Object(v.d)(Object(T.default)("There was a problem editing this item.")))}),ra(I.w,d,t.metricsPage)},[St](e,t){const a=Object(L.o)(e,t);a&&a.set({metadataState:t.metadataState,mediaState:t.mediaState})},[Et](e,t,a){const n=Object(L.h)(e,t),i=Object(L.d)(e,t),{data:r}=t;y(n,i,r).then(()=>{a(Object(b.o)({serverEntityID:t.serverEntityID,metadataItemEntityID:t.metadataItemEntityID}))})},[Ot](e,t,a){Object(L.d)(e,t).set("settingsUpdateError",null)},[Mt](){},[Pt](){},[Tt](e,t,a){const n=Object(L.k)(e,t),i=Object(L.h)(e,t),r=Object(L.d)(e,t);r.fetch().done(()=>{var e;const t=r.get("content"),{sectionKey:s,type:l,sort:c,limit:p,sourceType:m,filterString:h}=S.a.parseLibraryUri(t);if(Object(A.a)()){const l=o.default.getLastSegment(t),c=Object(P.a)(i,s),d=c.pivots.find(e=>"library"===e.id||e.key.includes(c.key)),p=Object(N.a)(n.toJSON(),i.toJSON(),c,{pivot:null!=(e=d.id)?e:d.key,key:decodeURIComponent(l),playlistKey:r.get("key"),advancedFilters:1});return void a(Object(u.v)({pathname:p}))}const g=new d.a({key:s},{server:n,provider:i,includeAdvanced:!0});g.fetch().done(()=>{const e=m||l,t=e?w.getMetadataType(e).typeString:"",o=g.get("types").toJSON(),d=Object(M.a)(h),{supported:y,unsupported:f}=O({filters:d,types:o,type:t});if(f.length)return void a(Object(v.d)(Object(T.default)("This playlist cannot be edited.")));const b=c?decodeURIComponent(c):"",I=Object(C.a)(y),S=Object(P.a)(i,s),E=S.pivots.find(({key:e})=>e.includes(S.key)).key,j=e?Object(D.a)(S.id,t):E,x=Object(N.a)(n.toJSON(),i.toJSON(),S,{key:E,typeKey:j,filters:I,sort:b,type:e,limit:p,customFilter:1,playlistID:r.get("ratingKey"),playlistTitle:r.get("title")});a(Object(u.v)({pathname:x}))})})}}},xSXQ:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("G4qV"),i=a("deD6");function r(){return Object(n.a)((e,{metadataItemEntityID:t})=>t,i.a,(e,t)=>t[e])}},xY9m:function(e,t,a){var n=a("3O+N");function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template((function(e,t,n,r,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon file"></i> '+c(i(a("d8WC")).call(t,"Select a File",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=n.each.call(t,t&&t.medias,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,r="";return r+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(n=null==t||!1===t?t:t.index)?n.apply(e):n)+'" href="#"> ',((n=i(a("f32x")).call(e,null==(n=null==(n=e&&e.Part)||!1===n?n:n[0])||!1===n?n:n.file,35,{hash:{},data:t}))||0===n)&&(r+=n),r+=" </a> </li> "}),s),data:s}))||0===o)&&(l+=o),l+=" </ul> </div> </div> </div> "}))},xa0o:function(e,t,a){"use strict";var n=a("G4qV"),i=a("Zl7H");const r=Object(n.a)(i.a,e=>e.allFriends);t.a=r},xcRr:function(e,t,a){"use strict";var n=a("kwss"),i=a("gnaf"),r=a("y1mV");t.a=function(e){if(!n.a.shouldRequestHTMLFromCloudProvider)return r.b;const t=[i.h,i.j];return i.l(e,t)?r.a:r.b}},xd52:function(e,t,a){"use strict";var n=a("ziyK"),i=a("pNb9"),r=a("Dz/n");const s=r.a.extend({background:!0,setup(e){this.minSize=!0,this.type=e.type,this.modelAttribute=e.modelAttribute||"thumb",!1!==e.placeholder&&(this.model&&this.model.get("isFolder")?this.placeholderClass=n.a.folder:e.placeholderClass||(this.placeholderClass=n.a[this.type])),r.a.prototype.setup.apply(this,arguments)},setDimensions(e){e.width?e.height=i.a.getPosterHeight(this.type,e.width):e.height&&(e.width=i.a.getPosterWidth(this.type,e.height)),r.a.prototype.setDimensions.call(this,e)},setModel(e,t){r.a.prototype.setModel.apply(this,arguments),this.model&&this.model.get("isFolder")&&(this.placeholderClass=n.a.folder)}});t.a=s},"xhK+":function(e,t,a){e.exports={plexIcon:"PlexIcon-plexIcon-8Tamaj"}},xjMz:function(e,t,a){e.exports={panesContainer:"LibraryFiltersMenu-panesContainer-2wE6-U",pane:"LibraryFiltersMenu-pane-13lnRz",filtersPane:"LibraryFiltersMenu-filtersPane-367idZ LibraryFiltersMenu-pane-13lnRz",filterOptionsPane:"LibraryFiltersMenu-filterOptionsPane-sYfFI8 LibraryFiltersMenu-pane-13lnRz",showFilterOptions:"LibraryFiltersMenu-showFilterOptions-PvLk-v"}},xoRd:function(e,t,a){"use strict";var n=a("G4qV"),i=a("6FMj");const r=Object(n.b)(n.d,i.a);t.a=r},xwJx:function(e,t,a){e.exports={button:"NavBarAccountButton-button-1Y4ek6 DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",badge:"NavBarAccountButton-badge-2D07am Badge-badge-21NQRi",tooltip:"NavBarAccountButton-tooltip-MBMW8U Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipTriggerHasFocus:"NavBarAccountButton-tooltipTriggerHasFocus-1Sjs7h NavBarAccountButton-tooltip-MBMW8U Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",avatarContainer:"NavBarAccountButton-avatarContainer-2fU5S_",overlay:"NavBarAccountButton-overlay-2BHPAl",isMenuOpen:"NavBarAccountButton-isMenuOpen-2kMP78"}},xx2m:function(e,t,a){"use strict";const n={NONE:0,VAST:1};n.settings=[{value:n.NONE,title:"None"},{value:n.VAST,title:"Add ?debug=1 to ad requests"}],t.a=n},xyAC:function(e,t,a){e.exports={controlsContainer:"ControlsContainer-controlsContainer-1Wn7vp"}},xyiB:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a("17x9"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("fArA"),l=a("F/us"),c=a.n(l),d=a("FeaP"),u=a("MWLE"),p=a("qxsR"),m=a("6FMj"),h=a("wCAT"),g=(a("slDQ"),a("tjw3")),y=a("hOze");function f(e){var t;const a=`FormInput(${Object(u.a)(e)})`;return(t=class extends r.Component{constructor(e,t){super(e,t),this.onFormStoreChange=()=>{const{name:e}=this.props,t=this.store.getState(),a=t[e];a||this.initializeInputState(this.props),Object(m.a)(t,this.previousFormState)||(this.previousFormState=t,this.handleStateChange(this.props)),this.state!==a&&null!=a&&this.setState(a)},this.onChange=e=>{const{transformValue:t}=this.props;this.handleStateChange(this.props,t?t(e):e)},this.onBlur=()=>{if(this.hasBlurred)return;this.hasBlurred=!0;const e=this.store.getState(),{name:t}=this.props,a=e[t],n=this.calculateErrors(a.value,e,this.props);this.actions.change({name:t,change:{...a,errors:n,showErrors:0!==n.length}})},this.store=t.formStore,this.actions=Object(o.bindActionCreators)(y.a,this.store.dispatch),this.state=null,this.hasBlurred=!1}componentWillMount(){this.previousFormState=this.store.getState(),this.unsubscribe=this.store.subscribe(this.onFormStoreChange),this.initializeInputState(this.props)}componentWillReceiveProps(e){Object(g.a)(e.initialValue)&&Object(g.a)(this.props.initialValue)?Object(m.a)(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue):c.a.isEqual(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue)}shouldComponentUpdate(e,t){return Object(h.a)(this,e,t)}componentWillUnmount(){const{name:e}=this.props;this.unsubscribe&&this.unsubscribe(),this.actions.change({name:e,change:null})}initializeInputState(e){const{name:t,initialValue:a}=e,n=this.store.getState();n[t]={errors:this.calculateErrors(a,n,e),showErrors:!1,value:a},this.actions.replaceState(n)}handleStateChange(e,t){const a=this.store.getState(),{name:n}=e,i=a[n],r=Array.isArray(t)||null!=t?t:i.value,s=this.calculateErrors(r,a,e);c.a.isEqual(i.value,r)&&c.a.isEqual(i.errors,s)||this.actions.change({name:n,change:{errors:s,showErrors:this.hasBlurred&&0!==s.length,value:r}})}calculateErrors(e,t,a){const{validations:n}=a;return n.map(a=>a(e,t)).filter(e=>null!=e)}render(){const{validations:t,errors:a,transformValue:n,onChange:i,...r}=this.props;if(!this.state)return null;const o=a.length>0,{value:l,errors:c,showErrors:u}=this.state;return s.a.createElement(e,{...r,showErrors:!!o||u,errors:o?a:c,value:l,onChange:Object(d.a)(this.onChange,i),onBlur:this.onBlur})}}).displayName=a,t.propTypes={name:i.a.string.isRequired,initialValue:i.a.oneOfType([i.a.number,i.a.string,i.a.bool,i.a.array,i.a.object]).isRequired,errors:i.a.arrayOf(i.a.string),validations:i.a.arrayOf(i.a.func),transformValue:i.a.func,onChange:i.a.func},t.contextTypes={formStore:p.a},t.defaultProps={validations:[],errors:[]},t.WrappedComponent=e,t}},y0Ze:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n);t.a=function(e){return i.a.createElement("svg",{className:e.className,viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M216 170l190.5 110L216 390z"}))}},y1mV:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));const n="html",i="plain"},y3BC:function(e,t,a){"use strict";a.r(t);var n=a("F/us"),i=a.n(n),r=a("rG0a"),s=a("+X4A"),o=a("B69o"),l=a("nvND"),c=a("gnaf"),d=a("66GW");var u=a("Q3JP"),p=a("Pizw"),m=a("FKox"),h=a("tL6L"),g=a("4JMt");const y=o.a.extend({name:"HubCollection",context:["server","provider","section","identifier","hubKey","hubCount","count","includeEmpty","libraryHubsOnly","includeFeaturedTags","includeLibraryPlaylists","includeMeta","includeGames","includeTypeFirst","includeTypeFirstQuickLinksHubs","includeStations","includeExternalMedia","includeExternalMetadata","includeRecentChannels","asyncAugmentMetadata","excludes","excludeFields","excludeElements","allowSync","maxLength","wait"],responseContext:["identifier","allowSync"],model:g.a,responseType(){return Object(u.a)(this.server)},url(){let e="/hubs";this.hubKey?e=this.hubKey:this.section&&(e="/hubs/sections/"+encodeURIComponent(this.section.id));const t={};return""!==this.excludeFields&&(t.excludeFields=this.excludeFields||"summary"),this.excludeElements&&(t.excludeElements=this.excludeElements),this.count&&(t.count=this.count+1),this.hubCount&&(t.hubCount=this.hubCount),this.includeEmpty&&(t.includeEmpty=1),this.libraryHubsOnly&&(t.libraryHubsOnly=1),this.includeFeaturedTags&&(t.includeFeaturedTags=1),this.includeLibraryPlaylists&&(t.includeLibraryPlaylists=1),this.includeMeta&&(t.includeMeta=1),this.includeGames&&(t.includeGames=1),this.includeTypeFirst&&(t.includeTypeFirst=1),this.includeStations&&(t.includeStations=1),this.includeExternalMedia&&(t.includeExternalMedia=1),this.includeExternalMetadata&&(t.includeExternalMetadata=1),this.includeRecentChannels&&(t.includeRecentChannels=1),this.asyncAugmentMetadata&&(t.asyncAugmentMetadata=1),this.wait&&(t.wait=1),this.excludes&&this.excludes.length&&this.excludes.forEach(e=>{t["exclude"+Object(m.a)(e)]=1}),s.default.join(e,t)},initialize:function(){this.section&&this.listenTo(r.a,"clear:sections:hubs",this.clear)},fetch(e={}){const t=i.a.clone(e);return e.onlyTransient&&this.populatePromise&&(t.remove=!1,t.url=s.default.join(i.a.result(this,"url"),{onlyTransient:1})),o.a.prototype.fetch.call(this,t)},augmentResponseText:(e,t)=>t===l.c?Object(p.b)(e):e,augmentResponse(e){const t=this.model.prototype.rootPropertyName;if(e&&t){Array.isArray(e)?e={[t]:e}:e[t]&&!Array.isArray(e[t])&&(e={[t]:[e[t]]});let a=e[t];if(e.Meta&&a.forEach(t=>{t.Meta||(t.Meta=e.Meta)}),this.includeTypeFirst)if(this.includeTypeFirstQuickLinksHubs){if(c.l(e.identifier,c.g)){const n={context:"hub.home.quicklinks",hubIdentifier:"home.quicklinks",size:2,style:"list",totalSize:2,type:"directory",Directory:[{content:1,context:"content.categories",key:"/library/sections/categories",subtype:"news",title:Object(d.default)("Categories"),type:"genre"},{content:1,context:"content.channels",key:"/library/sections/channels",subtype:"news",title:Object(d.default)("Channels")}]};if(!(a&&a.some(e=>e.hubIdentifier===n.hubIdentifier)))if(a){const t=0===a.length?0:1;e.Hub.splice(t,0,n)}else e[t]=[n]}else if(c.l(e.identifier,c.d)){const t=a&&a.find(e=>{const t=e.hubIdentifier;return t&&/^video\.quicklinks\./.test(t)});if(t){t.Directory.some(e=>/^\/playlists\//.test(e.key))||t.Directory.push({key:"/playlists/all?type=15&playlistType=video&sectionID="+e.librarySectionID,title:Object(d.default)("Playlists")})}}}else a&&(a=a.filter(e=>{const t=e.hubIdentifier;return!t||-1===t.indexOf("quicklinks")}),e[t]=a);let n=a&&a.length;if(n){if(!this.includeEmpty)for(;n&&n--;){const e=a[n];h.a.includes(e.style)&&e.size<=0&&a.splice(n,1)}this.maxLength&&a.splice(this.maxLength),e.size>a.length&&(e.size=String(a.length)),this.count&&a.forEach(e=>{e.more&&e.size>this.count&&(e.Metadata.splice(this.count,e.size-this.count),e.size=this.count)})}}return this.responseContext.forEach(t=>{const a=e[t];void 0!==a&&this.setContext(t,a)}),e}});t.default=y},y4j6:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("QPyl");function i(e=n.a){return"safari"===e.id}},yA34:function(e,t,a){e.exports={preference:"DownloadTemplateModal-preference-3Nq8wU",label:"DownloadTemplateModal-label-_PQ3zU",description:"DownloadTemplateModal-description-3gKAsv"}},yCP3:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="",l=this.escapeExpression;return o+='<div class="card card-section"> <div class="card-actions"> <button class="edit-section-btn card-action-btn"><i class="glyphicon pencil"></i></button> <button class="delete-section-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <i class="section-icon glyphicon '+l("function"==typeof(s=t&&t.icon)?s.apply(t):s)+'"></i> <span class="section-title"></span> ',((s=n.if.call(t,t&&t.path,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var a,n="";return n+='<span class="section-path">'+l("function"==typeof(a=e&&e.path)?a.apply(e):a)+"</span>"}),r),data:r}))||0===s)&&(o+=s),o+=" ",((s=n.if.call(t,t&&t.more,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var n,i="";return i+='<span class="section-count">'+l((n=a("d8WC"),n&&(n.__esModule?n.default:n)).call(e,"…and {count} more",{hash:{count:e&&e.more},data:t}))+"</span>"}),r),data:r}))||0===s)&&(o+=s),o+=" </div> "}))},yD7D:function(e,t,a){e.exports={miniPlayerPoster:"MiniPlayerPoster-miniPlayerPoster-13YueA",cardContainer:"MiniPlayerPoster-cardContainer-1675aN",expandButton:"MiniPlayerPoster-expandButton-11onC7 PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",card:"MiniPlayerPoster-card-1z_VBo MetadataPosterCard-card-3bztRc"}},yG8u:function(e,t,a){e.exports={statusContainer:"NavBarActivityMenuStatusItem-statusContainer-Ml8vjL",splitButton:"NavBarActivityMenuStatusItem-splitButton-3DXXY- ActivityMenuStatusItem-splitButton-1Ov6bl MenuItem-menuItem-1s02mQ",statusButtonIndicator:"NavBarActivityMenuStatusItem-statusButtonIndicator-3D2d1i",alertIndicator:"NavBarActivityMenuStatusItem-alertIndicator-10zV51",statusTitle:"NavBarActivityMenuStatusItem-statusTitle-2hIH6G",primaryLabel:"NavBarActivityMenuStatusItem-primaryLabel-o8tsu6"}},yHQc:function(e,t,a){e.exports={posterCardContainer:"WatchTogetherRoomEventToastContent-posterCardContainer-2baLT0",card:"WatchTogetherRoomEventToastContent-card-CM1Znj TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC TagPosterCard-isPerson-1ez1h_",username:"WatchTogetherRoomEventToastContent-username-qN-1YC"}},yJYc:function(e,t,a){e.exports={hubTitle:"HubTitle-hubTitle-rI6xhu"}},yO9Y:function(e,t,a){"use strict";a.d(t,"p",(function(){return y})),a.d(t,"l",(function(){return f})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"k",(function(){return I})),a.d(t,"d",(function(){return S})),a.d(t,"e",(function(){return E})),a.d(t,"f",(function(){return O})),a.d(t,"g",(function(){return M})),a.d(t,"h",(function(){return C})),a.d(t,"j",(function(){return j})),a.d(t,"i",(function(){return D})),a.d(t,"m",(function(){return P})),a.d(t,"n",(function(){return T})),a.d(t,"c",(function(){return w})),a.d(t,"o",(function(){return N})),a.d(t,"E",(function(){return x})),a.d(t,"A",(function(){return A})),a.d(t,"s",(function(){return L})),a.d(t,"r",(function(){return k})),a.d(t,"z",(function(){return R})),a.d(t,"u",(function(){return z})),a.d(t,"v",(function(){return U})),a.d(t,"w",(function(){return V})),a.d(t,"x",(function(){return B})),a.d(t,"y",(function(){return F})),a.d(t,"B",(function(){return H})),a.d(t,"C",(function(){return _})),a.d(t,"t",(function(){return W})),a.d(t,"D",(function(){return Q})),a.d(t,"q",(function(){return G}));var n=a("ICb1"),i=a("0jae"),r=a("t2mA"),s=a("tjw3");let o,l,c=0,d=0;function u(e,t){return Object(s.a)(e)?function(e,t){const a=e.possibleEntityContainers,n=a?a.length:0;for(let i=0;i<n;i++){const n=a[i];if(u(e[n],t))return!0}return!1}(e,t):Array.isArray(e)?function(e,t){for(let a=0,n=e.length;a<n;a++){if(u(e[a],t))return!0}return!1}(e,t):e===t}function p(e,t){return e+1>=t?0:e+1}var m=a("hPIe"),h=a("1Lwt"),g=a("dFNG");const y="app/setPrimaryServer",f="app/resetPrimaryServer",b="app/changePrimaryServer",v="app/changeCompanionServer",I="app/removeCompanionServer",S="app/garbageCollectEntities",E="app/navigate",O="app/navigateBack",M="app/navigateForward",C="app/navigateHome",j="app/navigateSearch",D="app/navigatePrePlay",P="app/saveDeviceSettings",T="app/saveLastSourcePivot",w="app/clearLastSourcePivots",N="app/savePivotParams",x=Object(n.a)(y),A=Object(n.a)(f),L=Object(n.a)(b),k=Object(n.a)(v),R=Object(n.a)(I),z=Object(n.a)(S),U=Object(n.a)(E),V=Object(n.a)(O),B=(Object(n.a)(M),Object(n.a)(C)),F=(Object(n.a)(j),Object(n.a)(D)),H=Object(n.a)(P),_=Object(n.a)(T),W=Object(n.a)(w),Q=Object(n.a)(N),G={[S](e,t){Object(h.a)();const a=function(e,t={}){const a=null!=t.budget?t.budget:1e3/60,n=window.performance.now(),i=e.entities,r=Object.keys(i),s=r.length,m={};a===1/0&&(c=0,d=0);const h=i[r[c]];for(o=c,l=Math.max(Math.min(d,Object.keys(h).length-1),0);c<s;){const t=r[c],h=i[t],g=Object.keys(h),y=g.length,f=p(c,s);for(;d<y;){const i=g[d],r=p(d,y);if(u(e,i)||(m[t]||(m[t]=[]),m[t].push(i)),f===o&&r===l)return c=f,d=r,m;if(window.performance.now()-n>=a)return c=f,d=r,m;d++}if(c=f,d=0,c===o&&d===l)return m}return m}(e.getState(),t),n=e.get("entities");for(const e in a){const t=a[e];n.get(e).remove(t)}t&&t.budget===1/0&&Object.keys(a).length&&Object(h.a)()},[T](e,t,a){const n=Object(m.m)(e,t),i=Object(m.j)(e,t),s=e.get("user").get("experienceSettings"),o=s.get("lastSourcePivots");if(!s.get("shouldSaveLastSourcePivots"))return;const l=Object(g.a)(n.get("machineIdentifier"),i.get("identifier"),t.directoryID);a(Object(r.l)({lastSourcePivots:{...o,[l]:t.pivotKey}}))},[w](e,t,a){a(Object(r.l)({lastSourcePivots:{}}))},[N](e,t,a){const n=Object(m.m)(e,t),i=Object(m.j)(e,t),s=e.get("user").get("experienceSettings").get("savedPivotParams"),o=Object(g.a)(n.get("machineIdentifier"),i.get("identifier"),t.directoryID,t.pivotKey);a(Object(r.l)({savedPivotParams:{...s,[o]:t.params}}))},[b](e,t){},[f](e,t){},[y](e,t){},[v](e,t){const a=Object(m.u)(e,t);a?e.set("companionServer",a):i.a.warn("[Companion] Could not find %s to use as companion server",t.serverEntityID)},[I](e){e.unset("companionServer")},[E](){},[O](){},[M](){},[C](){},[j](){},[D](){},[P](){}}},yOfu:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("QPyl");function i(e=n.a){return"edge"===e.id}},yRuq:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("2pL0");t.a=function({className:e,tabIndex:t,title:a,route:n}){return a?n?i.a.createElement(r.a,{className:e,"data-qa-id":"metadataTitleLink",tabIndex:t,title:a,to:n},a):i.a.createElement("span",{className:e,title:a},a):null}},"yS+A":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("/MKj"),s=a("G4qV"),o=a("vOHB"),l=a("dZ7a"),c=a("yqSf"),d=a("QIBL"),u=a("q1tI"),p=a.n(u),m=a("9ZQ6"),h=a("UNAp"),g=a("qOmw"),y=a("jEhb"),f=a("8Dqf"),b=a("T+Fn"),v=a("Ty5D"),I=a("oSTF"),S=a("2pL0"),E=a("qNMu"),O=a("VzhI"),M=a("cgRT"),C=a("YINS"),j=a("iZkF"),D=a("66GW"),P=a("Ayk2"),T=a("Rj9q"),w=a("RlGa"),N=a("+Obf");var x=function(e){const{machineIdentifier:t,friendlyName:a,isPlexAccountRequired:n,dispatchDismissUnclaimedServer:i}=e,r=Object(v.g)(),s=Object(u.useCallback)(()=>{r.push(P.a.login)},[r]),o=Object(u.useCallback)(()=>{Object(M.c)("metrics").trackClick({page:j.xb,action:C.l})},[]),l=Object(u.useCallback)(()=>{Object(M.c)("metrics").trackClick({page:j.xb,action:C.t}),i({machineIdentifier:t})},[t,i]);return p.a.createElement(w.a,{title:Object(D.default)("{friendlyName} server is unclaimed and not secure",{friendlyName:a}),description:Object(D.default)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe.")},n?p.a.createElement(I.a,{kind:E.d,size:O.a,onPress:s},Object(D.default)("Sign in to claim this server")):p.a.createElement(I.a,{kind:E.d,size:O.a,to:Object(N.a)(t,"settings","general"),onPress:o},Object(D.default)("Claim it now")),p.a.createElement(T.a,null,p.a.createElement(S.a,{kind:E.d,size:O.c,onPress:l},Object(D.default)("Don't show this again"))))};const A={dispatchDismissUnclaimedServer:b.c};var L=Object(r.b)((function(){return Object(s.a)(Object(l.a)(),f.a,(e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isPlexAccountRequired:t}))}),A)(x),k=a("JMV9"),R=a("PSl2"),z=a("+X4A"),U=a("6eR6");var V=function(e){const{machineIdentifier:t,friendlyName:a,activeConnectionUri:n,shouldUseNewSettingsRoutes:i,isShared:r}=e;let s;a&&(s=Object(D.default)("The server {1} is out of date and cannot be used.",a)),s=s+" "+Object(D.default)("This version of {productName} requires Plex Media Server {minServerVersion} or higher.",{productName:U.a.prop("X-Plex-Product"),minServerVersion:"1.15.2"});let o="/web/index.html";return r||(o+=i?Object(N.a)(t,"settings","general"):"#!/settings/server"),p.a.createElement(w.a,{title:"Update your Plex Media Server",description:s},p.a.createElement(I.a,{to:z.default.join([n,o]),target:"_self",kind:E.d,size:O.a},Object(D.default)("Open server directly")))};var B=Object(r.b)((function(){return Object(s.a)(Object(l.a)(),e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,activeConnectionUri:e.activeConnection.uri,shouldUseNewSettingsRoutes:Object(R.a)(e.version,k.a.bundledWebAppNewSettingsRoutes),isShared:e.isShared}))}))(V),F=a("bCk4"),H=a("aRTZ"),_=a("yjJ5");var W=function(e){const{serverEntityID:t,children:a,hasServer:n,showSpinner:i,machineIdentifier:r,isUnauthorized:s,isUnavailable:o,isOutOfDate:l,isUnclaimed:c,isInstallingServerUpdate:d}=e;return i?p.a.createElement(F.a,null,p.a.createElement(m.a,null)):n?d?p.a.createElement(H.a,{serverEntityID:t}):o?p.a.createElement(y.a,{serverEntityID:t}):l?p.a.createElement(B,{serverEntityID:t}):s?p.a.createElement(g.a,null):c?p.a.createElement(L,{serverEntityID:t}):p.a.createElement(h.a,{machineIdentifier:r},a):p.a.createElement(_.a,null)};const Q=Object(r.b)((function(){return Object(s.a)(e=>e.isWaitingForServers,(e,{hideUnclaimedPage:t})=>t,Object(l.a)(),Object(c.a)(),d.a,(e,t,a,n,i)=>a?{hasServer:!0,showSpinner:!a.isConnected&&!a.isUnauthorized&&!a.isUnavailable,machineIdentifier:a.machineIdentifier,isUnauthorized:a.isUnauthorized,isUnavailable:a.isUnavailable,isOutOfDate:a.isOutOfDate,isInstallingServerUpdate:a.isInstallingServerUpdate,isUnclaimed:a.isConnected&&!a.isClaimed&&!i[a.machineIdentifier]&&!n&&!t,hasHttpsConnections:a.hasHttpsConnections,isHostedHttps:o.a.isHostedHttps}:{hasServer:!1,showSpinner:e})}))(W);Q.propTypes={...Q.propTypes,serverEntityID:i.a.string.isRequired};t.a=Q},yULO:function(e,t,a){e.exports={tableHeader:"PlayHistoryTableHeader-tableHeader-10A2v4"}},yauL:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n),r=a("F/us"),s=a.n(r),o=a("CpQb"),l=a("66GW"),c=o.a.Layout.extend({events:{"click .edit-lock-addon":"onLockClick","keyup .lockable-field:not(.selectized)":"onLockableFieldChange","change .lockable-field:not(.selectized)":"onLockableFieldChange"},ui:{form:".edit-metadata-form"},serializeData:function(){var e=this.model.get("lockedFields"),t={};e&&e.each((function(e){t[e.get("name")]=e.get("locked")}));var a=this.model.toJSON(),n=this.model.get("mixedFields"),i={originallyAvailableAt:"YYYY-MM-DD",capturedTime:"YYYY-MM-DD HH:mm:ss"};return n&&n.forEach((function(e){i[e]=Object(l.default)("MIXED")})),{item:a,locked:t,placeholders:i,canReparent:this.canReparent,canEditSimilarArtists:this.canEditSimilarArtists,disableIndices:!this.canReparent,editableTags:{}}},flushChanges:function(){},getLockedFieldsArray:function(){var e=this.ui.form,t=this.model.get("lockedFields").reduce((function(e,t){return e[t.get("name")]=t.get("locked"),e}),{});return e.find(".edit-lock-addon").each((function(e,a){var n=i()(a),r=n.data("field");n.hasClass("locked")?t[r]=!0:r in t&&(t[r]=!1)})),s.a.map(t,(function(e,t){return{name:t,locked:e}}))},onLockClick:function(e){e.preventDefault(),i()(e.currentTarget).hasClass("disabled")||i()(e.currentTarget).toggleClass("locked")},onLockableFieldChange:function(e){var t=e instanceof i.a?e:i()(e.currentTarget);if(!e.force){var a=t.data("original-value");if(void 0===a&&(a=t.attr("value")||t.val()),t.data("original-value",a),t.val()===a)return}t.siblings(".edit-lock-addon").addClass("locked")}});t.a=c},yb7Q:function(e,t,a){e.exports={container:"PlaylistItemLoading-container-2kR7-j",alternateContainer:"PlaylistItemLoading-alternateContainer-3UvX6M PlaylistItemLoading-container-2kR7-j"}},ybRO:function(e,t,a){e.exports={card:"PosterCard-card-1rN9gd"}},ybUE:function(e,t,a){"use strict";t.a=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},ycxr:function(e,t,a){e.exports={cell:"SpotlightHubScroller-cell-3T5qH9",hub:"SpotlightHubScroller-hub-1QzLTm VirtualHubScroller-hub-3Pu2m6",hubScroller:"SpotlightHubScroller-hubScroller-3IxsqM VirtualHubScroller-hubScroller-3pMK1r VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74",hubScrollerControlledScroll:"SpotlightHubScroller-hubScrollerControlledScroll-3L-Cza SpotlightHubScroller-hubScroller-3IxsqM VirtualHubScroller-hubScroller-3pMK1r VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74",dots:"SpotlightHubScroller-dots-3grCzG"}},yd35:function(e,t,a){e.exports={headingContainer:"AudioVideoFullPlayerContentHeadingContainer-headingContainer-2UyXvc",divider:"AudioVideoFullPlayerContentHeadingContainer-divider-1A1d_2"}},ydjH:function(e,t,a){"use strict";var n=a("EVdn"),i=a.n(n);t.a=function(e){const t=i.a.Deferred();return e.then(t.resolve,t.reject,t.notify),{promise:t.promise(),cancel:function(){t.reject({isCanceled:!0})}}}},yfFC:function(e,t,a){"use strict";var n,i,r,s;a.d(t,"a",(function(){return r})),(i=n||(n={})).BottomLeft="bottom-left",i.TopLeft="top-left",i.None="none",(s=r||(r={})).AudioVideo="audioVideo",s.Photo="photo",s.Rom="rom"},yfwS:function(e,t,a){e.exports={recordIconContainer:"RecordIcon-recordIconContainer-1PXGA2",recordCircle:"RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw",recordIcon:"RecordIcon-recordIcon-2ygXS_"}},ygGu:function(e,t,a){e.exports={input:"ShareServerLibrary-input-3rk7uI CheckInput-input-1Pi_2g"}},yhTy:function(e,t,a){e.exports={circularProgressBarContainer:"CircularProgressBar-circularProgressBarContainer-26EO1i",absoluteCenterCircularProgressBarContainer:"CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",circularProgressBar:"CircularProgressBar-circularProgressBar-3gv7mU",circularProgressBarBackground:"CircularProgressBar-circularProgressBarBackground-RvD8Ob",circularProgressBarText:"CircularProgressBar-circularProgressBarText-gC1Z--",indeterminate:"CircularProgressBar-indeterminate-2KTTUF spin-spin-2kLwt_"}},yjJ5:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("2pL0"),s=a("qNMu"),o=a("66GW"),l=a("RlGa");t.a=function(){return i.a.createElement(l.a,{title:Object(o.default)("You must be lost"),description:Object(o.default)("We can't find the page you're looking for")},i.a.createElement(r.a,{to:"#",kind:s.d},Object(o.default)("Go Home")))}},ylzf:function(e,t,a){e.exports={container:"GridAlsoAiringItemMetadata-container-2V7Z3m",channelInfoContainer:"GridAlsoAiringItemMetadata-channelInfoContainer-2y86gy",channelTitle:"GridAlsoAiringItemMetadata-channelTitle-3AalgG",cardContainer:"GridAlsoAiringItemMetadata-cardContainer-1E0Q5l",titlesContainer:"GridAlsoAiringItemMetadata-titlesContainer-3dbQ_R",titles:"GridAlsoAiringItemMetadata-titles-2sZGTd",airTimeContainer:"GridAlsoAiringItemMetadata-airTimeContainer-1u9tYy",posterPlayCircle:"GridAlsoAiringItemMetadata-posterPlayCircle-RlbyCo MetadataPosterButtonCard-playCircle-366hcx PlayButton-playCircle-3Evfdw"}},yoWE:function(e,t,a){"use strict";var n=a("G4qV"),i=a("xSXQ"),r=a("sfIp"),s=a("2bcr"),o=a("f2wi"),l=a("Lo/S"),c=a("okn6"),d=a("UR/t");t.a=Object(l.a)((function(){return Object(n.a)((e,{metricsContext:t})=>t,s.b,r.b,Object(i.a)(),(e,t,a,n={})=>{const i={};e&&(i.context=e);const r=n.skipParent&&n.subtype===o.WEBSHOW;return{title:n.title,index:n.index,route:Object(c.a)(t,a,n.key,i),parentTitle:n.parentTitle,parentIndex:r?null:n.parentIndex,parentRoute:n.skipParent?null:Object(c.a)(t,a,n.parentKey,i),originallyAvailableAt:n.originallyAvailableAt}})}))(d.a)},yqSf:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("G4qV"),i=a("FAcX");function r(){return Object(n.a)((e,{serverEntityID:t})=>t,i.a,(e,t)=>!(!e||e!==t))}},ys09:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));const n="&",i=","},yvfd:function(e,t,a){e.exports={input:"Checkbox-input-2z-Vk6",small:"Checkbox-small-39MQSN",medium:"Checkbox-medium-3tpwbj",large:"Checkbox-large-ftFaN8",isDisabled:"Checkbox-isDisabled-3aQ431",hasError:"Checkbox-hasError-2vvQzP"}},z07K:function(e,t,a){e.exports={input:"MaskedInput-input-17hU34 TextInput-input-1VMuma input-input-1P2Vi4",small:"MaskedInput-small-1owiYE TextInput-small-2i2et0 input-small-3LyjJH",large:"MaskedInput-large-1UpZYJ TextInput-large-2sz70T input-large-3wNGTy",isDisabled:"MaskedInput-isDisabled-3_twg- TextInput-isDisabled-3hj7IS input-isDisabled-2FiSY3",hasError:"MaskedInput-hasError-1kFATb TextInput-hasError-3FVrzH input-hasError-1to6Ql"}},z2YV:function(e,t,a){e.exports={channelMapping:"DeviceChannelMapping-channelMapping-2Z4xxm",deviceInfo:"DeviceChannelMapping-deviceInfo-3HnWcW",channelEnabled:"DeviceChannelMapping-channelEnabled-1FW8MJ",deviceIdentifier:"DeviceChannelMapping-deviceIdentifier-3-v5l4",mappingDisabled:"DeviceChannelMapping-mappingDisabled-3uY5jA",channelName:"DeviceChannelMapping-channelName-2knCVI",signalStrength:"DeviceChannelMapping-signalStrength-3YDOuy SignalStrength-signalStrength-33wP3p",epgChannel:"DeviceChannelMapping-epgChannel-tjRMxM",drmChannel:"DeviceChannelMapping-drmChannel-2CJhXe",drmChannelBadge:"DeviceChannelMapping-drmChannelBadge-1_tZU8",resolutionContainer:"DeviceChannelMapping-resolutionContainer-1Au-Kj"}},z4rd:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var r,s="";function o(e,t){return"hidden"}return s+='<a class="media-poster-container" href="#"> <div class="media-poster"> <div class="media-poster-overlay"></div> <div class="sync-status"> <div class="sync-status-transcode hidden"></div> <i class="sync-status-icon sync-complete-icon glyphicon ok-2 hidden"></i> <i class="sync-status-icon sync-processing-icon glyphicon more hidden"></i> <i class="sync-status-icon sync-failed-icon glyphicon warning-sign ',((r=(a=this.merge(a,e.helpers)).unless.call(t,t&&t.isFailure,{hash:{},inverse:this.noop,fn:this.program(1,o,i),data:i}))||0===r)&&(s+=r),s+='"></i> <i class="sync-status-icon sync-unknown-icon glyphicon circle-question-mark ',((r=a.if.call(t,t&&t.isFailure,{hash:{},inverse:this.noop,fn:this.program(1,o,i),data:i}))||0===r)&&(s+=r),s+='"></i> </div> <div class="media-poster-actions"> <button class="edit-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> <div class="media-context media-heading secondary"></div> </a> '}))},z8ZC:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"a",(function(){return m}));var n=a("LSig"),i=a("2ifn"),r=a("66GW"),s=a("1Cr9"),o=a("rXDx");const l="movies",c="tv",d="music",u="photos",p="videos",m="game",h=Object(s.a)(["key","typeID","typeString","rootTypeString"],[{key:l,typeID:"1",typeString:o.MOVIE,rootTypeString:o.MOVIE,title:()=>Object(r.default)("Movies"),shortTitle:()=>Object(r.default)("Movies"),defaultLanguage:"en",defaultAgents:[n.f,n.a],defaultScanners:[i.b,i.c],mutual:{agent:n.f,scanner:i.b}},{key:c,typeID:"2",typeString:o.SHOW,rootTypeString:o.SHOW,title:()=>Object(r.default)("TV Shows"),shortTitle:()=>Object(r.default)("Shows"),defaultLanguage:"en",defaultAgents:[n.k],defaultScanners:[i.i],mutual:{agent:n.i,scanner:i.h}},{key:d,typeID:"8",typeString:o.ARTIST,rootTypeString:o.ARTIST,title:()=>Object(r.default)("Music"),shortTitle:()=>Object(r.default)("Music"),defaultLanguage:"en",defaultAgents:[n.g,n.b],defaultScanners:[i.d,i.e],exclusiveAgents:[n.h],exclusiveScanners:[i.g],mutual:{agent:n.g,scanner:i.d}},{key:u,typeID:"13",typeString:o.PHOTO,rootTypeString:o.PHOTO_ALBUM,title:()=>Object(r.default)("Photos"),shortTitle:()=>Object(r.default)("Photos"),defaultLanguage:"en",defaultAgents:[n.d],defaultScanners:[i.f],mutual:{}},{key:p,typeID:"1",typeString:o.MOVIE,rootTypeString:o.CLIP,title:()=>Object(r.default)("Other Videos"),shortTitle:()=>Object(r.default)("Videos"),defaultLanguage:"xn",defaultAgents:[n.d],defaultScanners:[i.j],mutual:{}},{key:m,typeID:"19",typeString:o.GAME,rootTypeString:o.GAME,title:()=>Object(r.default)("Games"),shortTitle:()=>Object(r.default)("Games"),defaultLanguage:"en",defaultAgents:[n.e],defaultScanners:[i.a],mutual:{agent:n.e,scanner:i.a}}]);t.g=h},z9Hc:function(e,t,a){e.exports={container:"ClaimedServer-container-3O6-1n",message:"ClaimedServer-message-1yZ-wd",messageHeader:"ClaimedServer-messageHeader-3uzatL",messageDetails:"ClaimedServer-messageDetails-3lEkVI",button:"ClaimedServer-button-36k0Q0 SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn"}},zBfM:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="",l=this.escapeExpression;return o+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+l("function"==typeof(s=t&&t.content)?s.apply(t):s)+"</span> ",((s=n.if.call(t,t&&t.url,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n,i,r="";return r+=' <a class="info-link link" href="'+l("function"==typeof(n=e&&e.url)?n.apply(e):n)+'" target="_blank">'+l((i=a("d8WC"),i&&(i.__esModule?i.default:i)).call(e,"More Info",{hash:{},data:t}))+"</a> "}),r),data:r}))||0===s)&&(o+=s),o+=" "}))},zDCE:function(e,t,a){"use strict";var n,i,r,s;a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),(i=n||(n={})).Album="album",i.Artist="artist",i.Channel="channel",i.Channels="channels",i.Content="content",i.Clip="clip",i.Collection="collection",i.Directory="directory",i.Episode="episode",i.Extra="extra",i.Folder="folder",i.Mixed="mixed",i.Movie="movie",i.MusicVideo="musicVideo",i.Person="person",i.Photo="photo",i.PhotoAlbum="photoAlbum",i.Playlist="playlist",i.Season="season",i.Show="show",i.Station="station",i.Track="track",(s=r||(r={})).Hero="hero",s.List="list",s.Shelf="shelf",s.Spotlight="spotlight",s.Upsell="upsell",s.WideShelf="wideShelf",s.Grid="grid",s.PrePlayGrid="prePlayGrid",s.Table="table",s.Details="details",s.SimpleDetails="simpleDetails",s.SharedItems="sharedItems",s.Folder="folder"},zEgu:function(e,t,a){"use strict";var n=a("G4qV"),i=a("N6j3"),r=a("iNJT");const s=Object(n.a)(Object(r.a)("features"),i.a);t.a=s},zJz3:function(e,t,a){e.exports={titleContainer:"PrePlayListTitle-titleContainer-1ITpXZ",selectButton:"PrePlayListTitle-selectButton-2GE1kx SelectButton-selectButton-3Kbjm9",selectedTitleContainer:"PrePlayListTitle-selectedTitleContainer-CISxYT PrePlayListTitle-titleContainer-1ITpXZ"}},zLeb:function(e,t,a){(function(n){var i,r,s;s="object"==typeof self&&self.self==self&&self||"object"==typeof n&&n.global==n&&n,i=[a("F/us"),a("EVdn"),t],void 0===(r=function(e,t,a){s.Backbone=function(e,t,a,n){var i=e.Backbone,r=Array.prototype.slice;t.VERSION="1.2.3",t.$=n,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=function(e,t,n){a.each(t,(function(t,i){a[i]&&(e.prototype[i]=function(e,t,n){switch(e){case 1:return function(){return a[t](this[n])};case 2:return function(e){return a[t](this[n],e)};case 3:return function(e,i){return a[t](this[n],o(e,this),i)};case 4:return function(e,i,r){return a[t](this[n],o(e,this),i,r)};default:return function(){var e=r.call(arguments);return e.unshift(this[n]),a[t].apply(a,e)}}}(t,i,n))}))},o=function(e,t){return a.isFunction(e)?e:a.isObject(e)&&!t._isModel(e)?l(e):a.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=a.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,u=function(e,t,n,i,r){var s,o=0;if(n&&"object"==typeof n){void 0!==i&&"context"in r&&void 0===r.context&&(r.context=i);for(s=a.keys(n);o<s.length;o++)t=u(e,t,s[o],n[s[o]],r)}else if(n&&d.test(n))for(s=n.split(d);o<s.length;o++)t=e(t,s[o],i,r);else t=e(t,n,i,r);return t};c.on=function(e,t,a){return p(this,e,t,a)};var p=function(e,t,a,n,i){return e._events=u(m,e._events||{},t,a,{context:n,ctx:e,listening:i}),i&&((e._listeners||(e._listeners={}))[i.id]=i),e};c.listenTo=function(e,t,n){if(!e)return this;var i=e._listenId||(e._listenId=a.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),s=r[i];if(!s){var o=this._listenId||(this._listenId=a.uniqueId("l"));s=r[i]={obj:e,objId:i,id:o,listeningTo:r,count:0}}return p(e,t,n,this,s),this};var m=function(e,t,a,n){if(a){var i=e[t]||(e[t]=[]),r=n.context,s=n.ctx,o=n.listening;o&&o.count++,i.push({callback:a,context:r,ctx:r||s,listening:o})}return e};c.off=function(e,t,a){return this._events?(this._events=u(h,this._events,e,t,{context:a,listeners:this._listeners}),this):this},c.stopListening=function(e,t,n){var i=this._listeningTo;if(!i)return this;for(var r=e?[e._listenId]:a.keys(i),s=0;s<r.length;s++){var o=i[r[s]];if(!o)break;o.obj.off(t,n,this)}return a.isEmpty(i)&&(this._listeningTo=void 0),this};var h=function(e,t,n,i){if(e){var r,s=0,o=i.context,l=i.listeners;if(t||n||o){for(var c=t?[t]:a.keys(e);s<c.length;s++){var d=e[t=c[s]];if(!d)break;for(var u=[],p=0;p<d.length;p++){var m=d[p];n&&n!==m.callback&&n!==m.callback._callback||o&&o!==m.context?u.push(m):(r=m.listening)&&0==--r.count&&(delete l[r.id],delete r.listeningTo[r.objId])}u.length?e[t]=u:delete e[t]}return a.size(e)?e:void 0}for(var h=a.keys(l);s<h.length;s++)delete l[(r=l[h[s]]).id],delete r.listeningTo[r.objId]}};c.once=function(e,t,n){var i=u(g,{},e,t,a.bind(this.off,this));return this.on(i,void 0,n)},c.listenToOnce=function(e,t,n){var i=u(g,{},t,n,a.bind(this.stopListening,this,e));return this.listenTo(e,i)};var g=function(e,t,n,i){if(n){var r=e[t]=a.once((function(){i(t,r),n.apply(this,arguments)}));r._callback=n}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),a=Array(t),n=0;n<t;n++)a[n]=arguments[n+1];return u(y,this._events,e,void 0,a),this};var y=function(e,t,a,n){if(e){var i=e[t],r=e.all;i&&r&&(r=r.slice()),i&&f(i,n),r&&f(r,[t].concat(n))}return e},f=function(e,t){var a,n=-1,i=e.length,r=t[0],s=t[1],o=t[2];switch(t.length){case 0:for(;++n<i;)(a=e[n]).callback.call(a.ctx);return;case 1:for(;++n<i;)(a=e[n]).callback.call(a.ctx,r);return;case 2:for(;++n<i;)(a=e[n]).callback.call(a.ctx,r,s);return;case 3:for(;++n<i;)(a=e[n]).callback.call(a.ctx,r,s,o);return;default:for(;++n<i;)(a=e[n]).callback.apply(a.ctx,t);return}};c.bind=c.on,c.unbind=c.off,a.extend(t,c);var b=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=a.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=a.defaults({},n,a.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};a.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!a.iteratee(e,this)(this.attributes)},set:function(e,t,n){if(null==e)return this;var i;if("object"==typeof e?(i=e,n=t):(i={})[e]=t,n||(n={}),!this._validate(i,n))return!1;var r=n.unset,s=n.silent,o=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=a.clone(this.attributes),this.changed={});var c=this.attributes,d=this.changed,u=this._previousAttributes;for(var p in i)t=i[p],a.isEqual(c[p],t)||o.push(p),a.isEqual(u[p],t)?delete d[p]:d[p]=t,r?delete c[p]:c[p]=t;if(this.id=this.get(this.idAttribute),!s){o.length&&(this._pending=n);for(var m=0;m<o.length;m++)this.trigger("change:"+o[m],this,c[o[m]],n)}if(l)return this;if(!s)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&a.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,n={};for(var i in e){var r=e[i];a.isEqual(t[i],r)||(n[i]=r)}return!!a.size(n)&&n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=a.extend({parse:!0},e);var t=this,n=e.success;return e.success=function(a){var i=e.parse?t.parse(a,e):a;if(!t.set(i,e))return!1;n&&n.call(e.context,t,a,e),t.trigger("sync",t,a,e)},z(this,e),this.sync("read",this,e)},save:function(e,t,n){var i;null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t;var r=(n=a.extend({validate:!0,parse:!0},n)).wait;if(i&&!r){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;var s=this,o=n.success,l=this.attributes;n.success=function(e){s.attributes=l;var t=n.parse?s.parse(e,n):e;if(r&&(t=a.extend({},i,t)),t&&!s.set(t,n))return!1;o&&o.call(n.context,s,e,n),s.trigger("sync",s,e,n)},z(this,n),i&&r&&(this.attributes=a.extend({},l,i));var c=this.isNew()?"create":n.patch?"patch":"update";"patch"!==c||n.attrs||(n.attrs=i);var d=this.sync(c,this,n);return this.attributes=l,d},destroy:function(e){e=e?a.clone(e):{};var t=this,n=e.success,i=e.wait,r=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(a){i&&r(),n&&n.call(e.context,t,a,e),t.isNew()||t.trigger("sync",t,a,e)};var s=!1;return this.isNew()?a.defer(e.success):(z(this,e),s=this.sync("delete",this,e)),i||r(),s},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||R();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},a.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return!n||(this.trigger("invalid",this,n,a.extend(t,{validationError:n})),!1)}}),s(b,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var v=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},t))},I={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},E=function(e,t,a){a=Math.min(Math.max(a,0),e.length);for(var n=Array(e.length-a),i=t.length,r=0;r<n.length;r++)n[r]=e[r+a];for(r=0;r<i;r++)e[r+a]=t[r];for(r=0;r<n.length;r++)e[r+i+a]=n[r]};a.extend(v.prototype,c,{model:b,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.extend({merge:!1},t,S))},remove:function(e,t){t=a.extend({},t);var n=!a.isArray(e);e=n?[e]:a.clone(e);var i=this._removeModels(e,t);return!t.silent&&i&&this.trigger("update",this,t),n?i[0]:i},set:function(e,t){if(null!=e){(t=a.defaults({},t,I)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var n=!a.isArray(e);e=n?e?[e]:[]:e.slice();var i=t.at;null!=i&&(i=+i),i<0&&(i+=this.length+1);for(var r,s=[],o=[],l=[],c={},d=t.add,u=t.merge,p=t.remove,m=!1,h=this.comparator&&null==i&&!1!==t.sort,g=a.isString(this.comparator)?this.comparator:null,y=0;y<e.length;y++){r=e[y];var f=this.get(r);if(f){if(u&&r!==f){var b=this._isModel(r)?r.attributes:r;t.parse&&(b=f.parse(b,t)),f.set(b,t),h&&!m&&(m=f.hasChanged(g))}c[f.cid]||(c[f.cid]=!0,s.push(f)),e[y]=f}else d&&(r=e[y]=this._prepareModel(r,t))&&(o.push(r),this._addReference(r,t),c[r.cid]=!0,s.push(r))}if(p){for(y=0;y<this.length;y++)c[(r=this.models[y]).cid]||l.push(r);l.length&&this._removeModels(l,t)}var v=!1,S=!h&&d&&p;if(s.length&&S?(v=this.length!=s.length||a.some(this.models,(function(e,t){return e!==s[t]})),this.models.length=0,E(this.models,s,0),this.length=this.models.length):o.length&&(h&&(m=!0),E(this.models,o,null==i?this.length:i),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(y=0;y<o.length;y++)null!=i&&(t.index=i+y),(r=o[y]).trigger("add",r,this,t);(m||v)&&this.trigger("sort",this,t),(o.length||l.length)&&this.trigger("update",this,t)}return n?e[0]:e}},reset:function(e,t){t=t?a.clone(t):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,a.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,a.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,a.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return r.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var n=t.length;return a.isFunction(t)&&(t=a.bind(t,this)),1===n||a.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return a.invoke(this.models,"get",e)},fetch:function(e){var t=(e=a.extend({parse:!0},e)).success,n=this;return e.success=function(a){var i=e.reset?"reset":"set";n[i](a,e),t&&t.call(e.context,n,a,e),n.trigger("sync",n,a,e)},z(this,e),this.sync("read",this,e)},create:function(e,t){var n=(t=t?a.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;n||this.add(e,t);var i=this,r=t.success;return t.success=function(e,t,a){n&&i.add(e,a),r&&r.call(a.context,e,t,a)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?a.clone(t):{}).collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeModels:function(e,t){for(var a=[],n=0;n<e.length;n++){var i=this.get(e[n]);if(i){var r=this.indexOf(i);this.models.splice(r,1),this.length--,t.silent||(t.index=r,i.trigger("remove",i,this,t)),a.push(i),this._removeReference(i,t)}}return!!a.length&&a},_isModel:function(e){return e instanceof b},_addReference:function(e,t){this._byId[e.cid]=e;var a=this.modelId(e.attributes);null!=a&&(this._byId[a]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var a=this.modelId(e.attributes);null!=a&&delete this._byId[a],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,a,n){if("add"!==e&&"remove"!==e||a===this){if("destroy"===e&&this.remove(t,n),"change"===e){var i=this.modelId(t.previousAttributes()),r=this.modelId(t.attributes);i!==r&&(null!=i&&delete this._byId[i],null!=r&&(this._byId[r]=t))}this.trigger.apply(this,arguments)}}}),s(v,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var O=t.View=function(e){this.cid=a.uniqueId("view"),a.extend(this,a.pick(e,C)),this._ensureElement(),this.initialize.apply(this,arguments)},M=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];a.extend(O.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=a.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var n=e[t];if(a.isFunction(n)||(n=this[n]),n){var i=t.match(M);this.delegate(i[1],i[2],a.bind(n,this))}}return this},delegate:function(e,t,a){return this.$el.on(e+".delegateEvents"+this.cid,t,a),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,a){return this.$el.off(e+".delegateEvents"+this.cid,t,a),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"));else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e.class=a.result(this,"className")),this.setElement(this._createElement(a.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,n,i){var r=j[e];a.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(i.url||(s.url=a.result(n,"url")||R()),null!=i.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",i.emulateJSON&&(s.data._method=r);var o=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",r),o)return o.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var l=i.error;i.error=function(e,t,a){i.textStatus=t,i.errorThrown=a,l&&l.call(i.context,e,t,a)};var c=i.xhr=t.ajax(a.extend(s,i));return n.trigger("request",n,c,i),c};var j={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var D=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},P=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,w=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(D.prototype,c,{initialize:function(){},route:function(e,n,i){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var r=this;return t.history.route(e,(function(a){var s=r._extractParameters(e,a);!1!==r.execute(i,s,n)&&(r.trigger.apply(r,["route:"+n].concat(s)),r.trigger("route",n,s),t.history.trigger("route",r,n,s))})),this},execute:function(e,t,a){e&&e.apply(this,t)},navigate:function(e,a){return t.history.navigate(e,a),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var e,t=a.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(N,"\\$&").replace(P,"(?:$1)?").replace(T,(function(e,t){return t?e:"([^/?]+)"})).replace(w,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return a.map(n,(function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null}))}});var x=t.History=function(){this.handlers=[],this.checkUrl=a.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},A=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,k=/#.*$/;x.started=!1,a.extend(x.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(A,"")},start:function(e){if(x.started)throw new Error("Backbone.history has already been started");if(x.started=!0,this.options=a.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,i=n.insertBefore(this.iframe,n.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var r=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),x.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),a.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!x.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var a=this.root;""!==e&&"?"!==e.charAt(0)||(a=a.slice(0,-1)||"/");var n=a+e;e=e.replace(k,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,a){if(a){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new x,b.extend=v.extend=D.extend=O.extend=x.extend=function(e,t){var n,i=this;n=e&&a.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},a.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&a.extend(n.prototype,e),n.__super__=i.prototype,n};var R=function(){throw new Error('A "url" property or function must be specified')},z=function(e,t){var a=t.error;t.error=function(n){a&&a.call(t.context,e,n,t),e.trigger("error",e,n,t)}};return t}(s,a,e,t)}.apply(t,i))||(e.exports=r)}).call(this,a("yLpj"))},zLrO:function(e,t,a){e.exports={ratingRightTitle:"PrePlayRatingRightTitle-ratingRightTitle-1d4YyI PrePlayRightTitle-rightTitle-VxiwUS",starRating:"PrePlayRatingRightTitle-starRating-31XbAl",criticRating:"PrePlayRatingRightTitle-criticRating-2J_tnK"}},zLzU:function(e,t,a){e.exports={measure:"AudioVideoLyrics-measure-2SF_6A",container:"AudioVideoLyrics-container-3d-0qH",card:"AudioVideoLyrics-card-1ul6PO MetadataPosterCard-card-3bztRc",content:"AudioVideoLyrics-content-5An40t",titlesContainer:"AudioVideoLyrics-titlesContainer-3I1RVb",rightInfo:"AudioVideoLyrics-rightInfo-x_GGfW",scroller:"AudioVideoLyrics-scroller-3hrplZ Scroller-vertical-VScFLT",spinner:"AudioVideoLyrics-spinner-1K46lG Spinner-spinner-Niere7 spin-spin-2kLwt_",upsellContainer:"AudioVideoLyrics-upsellContainer-2K0Q7S",innerContent:"AudioVideoLyrics-innerContent-19sRoW",line:"AudioVideoLyrics-line-2CYDi-",lineTimedIcon:"AudioVideoLyrics-lineTimedIcon-GOFkGM",isLineSelected:"AudioVideoLyrics-isLineSelected-2kgwVU",timedLyricsButton:"AudioVideoLyrics-timedLyricsButton-13NoS- IconButton-button-9An-7I",isTimedLyricsActive:"AudioVideoLyrics-isTimedLyricsActive-3bWfB0"}},zQVR:function(e,t,a){e.exports={icon:"SettingsSidebarListLink-icon-eICe1t SidebarLink-icon-34JWqs",selectedIcon:"SettingsSidebarListLink-selectedIcon-caIG1g SettingsSidebarListLink-icon-eICe1t SidebarLink-icon-34JWqs"}},"zTY+":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("+X4A"),i=a("gnaf"),r=a("mvw6");function s(e){const{providerIdentifier:t=i.d,serverIdentifier:a,key:s,parameters:o}=e;let l=a!==r.a?`server://${a}/${t}`:"provider://"+t;return s&&(l=`${l}${s}`),o&&(l=n.default.join(l,o)),l}},zTh3:function(e,t,a){e.exports={message:"ChannelScanActivity-message-W9dZJ3",iconContainer:"ChannelScanActivity-iconContainer-1uus6l",icon:"ChannelScanActivity-icon-3xSAHZ",clock:"ChannelScanActivity-clock-10FErt ChannelScanActivity-icon-3xSAHZ",clockTime:"ChannelScanActivity-clockTime-2y49aB ChannelScanActivity-clock-10FErt ChannelScanActivity-icon-3xSAHZ",blink:"ChannelScanActivity-blink-29wHW_"}},zTsO:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"j",(function(){return i})),a.d(t,"k",(function(){return r})),a.d(t,"J",(function(){return s})),a.d(t,"H",(function(){return o})),a.d(t,"z",(function(){return l})),a.d(t,"A",(function(){return c})),a.d(t,"y",(function(){return d})),a.d(t,"v",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"q",(function(){return m})),a.d(t,"E",(function(){return h})),a.d(t,"F",(function(){return g})),a.d(t,"t",(function(){return y})),a.d(t,"w",(function(){return f})),a.d(t,"g",(function(){return b})),a.d(t,"d",(function(){return v})),a.d(t,"e",(function(){return I})),a.d(t,"f",(function(){return S})),a.d(t,"C",(function(){return E})),a.d(t,"b",(function(){return O})),a.d(t,"I",(function(){return M})),a.d(t,"l",(function(){return C})),a.d(t,"n",(function(){return j})),a.d(t,"o",(function(){return D})),a.d(t,"s",(function(){return P})),a.d(t,"r",(function(){return T})),a.d(t,"u",(function(){return w})),a.d(t,"G",(function(){return N})),a.d(t,"x",(function(){return x})),a.d(t,"D",(function(){return A})),a.d(t,"B",(function(){return L})),a.d(t,"i",(function(){return k})),a.d(t,"h",(function(){return R})),a.d(t,"p",(function(){return z})),a.d(t,"m",(function(){return U}));const n="32cc8bf5-b425-4582-a52d-71b4f1cf436b",i="de789b83-9c5e-4472-bccf-791c69e67500",r="64ed42f8-259d-4957-8530-0fff2d846cd0",s="7c4200b1-a2ab-4803-adcd-6c36b22a9269",o="6f82ca43-6117-4e55-ae0e-5ea3b3e99a96",l="bb50c92f-b412-44fe-8d8a-b1684f212a44",c="b612f571-83c3-431a-88eb-3f05ce08da4a",d="222020fb-1504-492d-af33-a0b80a49558a",u="4bdcac7b-f25b-43b3-93d8-2bbcb9605fd7",p="644c4466-05fa-45e0-a478-c594cf81778f",m="75e95ee5-b482-4b02-aeff-a9faf13ead64",h="01ba4bb1-0d08-4758-b9f1-7df92631e4c1",g="f8484f94-92a8-4ca4-9f43-e83ab3f586c7",y="f3235e61-c0eb-4718-ac0a-7d6eb3d8ff75",f="298a11d3-9324-4104-8047-0ac10df4a8a6",b="4742780c-af9d-4b44-bf5b-7b27e3369aa8",v="67c80530-eae3-4500-a9fa-9b6947d0f6d1",I="5c1951bf-ccf1-4821-8ee7-e50f51218ae7",S="3bfd3ccf-8c63-4dbb-8f87-9b21b402c82b",E="43725019-9122-4a6d-bc50-bca06a411b7a",O="d8810b38-ec9b-494c-8555-3df6e365dfbd",M="43938a71-1295-46e9-918f-b6c4b0302011",C="65685ff8-4375-4e4c-a806-ec1f0b4a8b7f",j="6ab6677b-ad9b-444f-9ca1-b8027d05b3e1",D="b83c8dc9-5a01-4b7a-a7c9-5870c8a6e21b",P="02da2909-ddfd-46be-9e42-65008a79fc05",T="nonAnonymousAccount",w="e352c12b-5165-4691-9ab7-70d6ea24e8e4",N="65faa2d0-f57e-4c63-a6b6-f1baa48951b1",x="4e27cf82-9fb6-4ebe-8e10-c48bfe6fbbb6",A="20824f5c-6dd9-4655-9970-e7701a73c02a",L="fd6683b9-1426-4b00-840f-cd5fb0904a6a",k="9a67bff2-cb80-4bf9-81c6-9ad2f4c78afd",R="13056a62-9bd2-47cf-aba9-bab00095fd08",z="b77e6744-c18d-415a-8e7c-7aac5d7a7750",U="3c376154-d47e-4bbf-9428-2ea2592fd20a"},zVLU:function(e,t,a){e.exports={group:"PrePlayDetailsGroup-group-3i0Tjw"}},zdre:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return s}));const n={aa:"Afaraf",af:"Afrikaans",ab:"Abkhazian",ak:"Akan",sq:"Shqip",am:"Amharic",ar:"العربية",an:"Aragonés",hy:"Հայերեն",as:"Assamese",av:"авар мацӀ",ae:"avesta",ay:"aymar aru",az:"azərbaycan dili",ba:"башҡорт теле",bm:"bamanankan",eu:"euskara",be:"Беларуская",bn:"Bengali",bh:"भोजपुरी",bi:"Bislama",bs:"bosanski jezik",br:"brezhoneg",bg:"български език",my:"Burmese",ca:"Català",ch:"Chamoru",ce:"нохчийн мотт",cu:"ѩзыкъ словѣньскъ",cv:"чӑваш чӗлхи",kw:"Kernewek",co:"corsu",cr:"ᓀᐦᐃᔭᐍᐏᐣ",dv:"Divehi",dz:"རྫོང་ཁ",en:"English","en-GB":"English (UK)",eo:"Esperanto",et:"eesti",ee:"Eʋegbe",fo:"føroyskt",fj:"vosa Vakaviti",fy:"Frysk",ff:"Fulfulde",ka:"ქართული",gd:"Gàidhlig",ga:"Gaeilge",gl:"Galego",gv:"Gaelg",gn:"Avañe&apos;ẽ",gu:"ગુજરાતી",ht:"Kreyòl ayisyen",ha:"هَوُسَ",hz:"Otjiherero",hi:"हिन्दी",ho:"Hiri Motu",hr:"hrvatski",ig:"Asụsụ Igbo",is:"Íslenska",io:"Ido",ii:"ꆈꌠ꒿ Nuosuhxop",iu:"ᐃᓄᒃᑎᑐᑦ",ie:"Interlingue",ia:"Interlingua",id:"Bahasa Indonesia",ik:"Iñupiaq",jv:"basa Jawa",kl:"kalaallisut",kn:"ಕನ್ನಡ",ks:"कश्मीरी",kr:"Kanuri",kk:"Қазақ тілі",km:"Khmer",ki:"Gĩkũyũ",rw:"Ikinyarwanda",ky:"кыргыз тили",kv:"коми кыв",kg:"KiKongo",kj:"Kuanyama",ku:"Kurdî",lo:"Lao",la:"latine",lv:"latviešu valoda",li:"Limburgs",ln:"Lingála",lt:"lietuvių kalba",lb:"Lëtzebuergesch",lu:"Luba-Katanga",lg:"Luganda",mk:"македонски јазик",mh:"Kajin M̧ajeļ",ml:"Malayalam",mi:"te reo Māori",mr:"मराठी",ms:"bahasa Melayu",mg:"Malagasy fiteny",mt:"Malti",mo:"Moldavian",mn:"монгол",na:"Ekakairũ Naoero",nv:"Diné bizaad",nr:"isiNdebele (North)",nd:"isiNdebele (South)",ng:"Owambo",ne:"नेपाली",nn:"Norsk nynorsk",nb:"Norsk bokmål",ny:"chiCheŵa",oc:"Occitan",oj:"ᐊᓂᔑᓈᐯᒧᐎᓐ",or:"Oriya",om:"Afaan Oromoo",os:"ирон æвзаг",pa:"ਪੰਜਾਬੀ",pi:"पाऴि",ps:"پښتو",qu:"Runa Simi",rm:"rumantsch grischun",ro:"română",rn:"kiRundi",sg:"yângâ tî sängö",sa:"संस्कृतम्",sr:"српски језик",si:"Sinhala",sk:"slovenčina",sl:"Slovenščina",se:"Davvisámegiella",sm:"gagana fa&apos;a Samoa",sn:"chiShona",sd:"सिन्धी",so:"Soomaaliga",st:"Sesotho",sc:"sardu",ss:"SiSwati",su:"Basa Sunda",sw:"Kiswahili",ty:"Reo Tahiti",ta:"தமிழ்",tt:"татарча",te:"Telugu",tg:"тоҷикӣ",tl:"Wikang Tagalog",th:"ไทย",bo:"བོད་ཡིག",ti:"Tigrinya",to:"faka Tonga",tn:"Setswana",ts:"Xitsonga",tk:"Türkmen",tw:"Twi",ug:"Uyƣurqə",uk:"українська",ur:"اردو",uz:"O&apos;zbek",ve:"Tshivenḓa",vi:"Tiếng Việt",vo:"Volapük",cy:"Cymraeg",wa:"Walon",wo:"Wollof",xh:"isiXhosa",yi:"ייִדיש",yo:"Yorùbá",za:"Saɯ cueŋƅ",zu:"isiZulu",pb:"Português (Brasil)",fr:"Français","fr-CA":"Français Canadien",de:"Deutsch",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomeksi",nl:"Nederlands",it:"Italiano",es:"Español","es-419":"Español (Latinoamérica)",pl:"Polski",hu:"Magyar",el:"Ελληνικά",tr:"Türkçe",zh:"中文","zh-TW":"臺語",ru:"русский язык",he:"עברית",ja:"日本語",pt:"Português","pt-BR":"Português Brasileiro",ko:"한국어",cs:"čeština",fa:"فارسی",xx:"Unknown",xn:"None"};function i(e,t){return n[e].localeCompare(n[t])}const r=["xx","xn"],s=function(){const e=Object.keys(n).filter(e=>-1===r.indexOf(e));return e.sort(i),e.concat(r)}();t.b=n},zePt:function(e,t,a){"use strict";t.a=function(e,t,a){let n=a;if(e.Part.length>1)for(let a=0,i=e.Part.length;a<i;a++){const i=e.Part[a];if(!i.duration)break;if(t.key===i.key)break;n-=i.duration}return n}},zfMR:function(e,t,a){e.exports={form:"AddToPlaylistModal-form-R6AQa2",input:"AddToPlaylistModal-input-3CucUv TextInput-input-1mDdJf",button:"AddToPlaylistModal-button-1Em5lp SpinnerButton-button-2YjGJZ Button-button-3A5jB3 Link-link-2ew_DK"}},ziyK:function(e,t,a){"use strict";const n="placeholder-standard",i="placeholder-square",r="placeholder-widescreen",s={movie:n,show:n,season:n,episode:r,artist:i,album:i,track:i,photo:i,photoalbum:i,clip:r,playlist:i,playlistFolder:i,channel:i,channelDirectory:i,folder:"placeholder-folder",friend:"placeholder-friend",device:i,poster:n,art:r,banner:r,collection:n};t.a=s},zjrX:function(e,t,a){var n=a("3O+N");e.exports=(n.default||n).template((function(e,t,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var r,s,o="";return o+='<div class="show-actions striped-list-inner-item playlist-inner-item ',o+=(0,this.escapeExpression)(r=(s=a.type)||"function"==typeof(s=t&&t.type)?s.call(t,{hash:{},data:i}):s)+'"> <div class="media-actions media-reorder"> ',((r=a.unless.call(t,t&&t.hideDragHandle,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return' <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> '}),i),data:i}))||0===r)&&(o+=r),o+=' </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="promote-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon up-arrow"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="conversion-status-region col-md col-secondary"></div> </div> </div> </div> '}))},zry3:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("QPyl");function i(e=n.a){return"chrome"===e.id}},zsFO:function(e,t,a){e.exports={extendedTitle:"VideoSettings-extendedTitle-39DU_s"}},zvYS:function(e,t,a){"use strict";var n=a("G4qV"),i=a("loC3");const r=Object(n.a)(i.a,e=>e.map(e=>e.entityID));t.a=r},zzzj:function(e,t,a){"use strict";t.a=function(e){return null==e?"":String(e)}}},[[0,3,4]]]);